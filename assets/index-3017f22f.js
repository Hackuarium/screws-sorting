(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))nt(ot);new MutationObserver(ot=>{for(const it of ot)if(it.type==="childList")for(const lt of it.addedNodes)lt.tagName==="LINK"&&lt.rel==="modulepreload"&&nt(lt)}).observe(document,{childList:!0,subtree:!0});function tt(ot){const it={};return ot.integrity&&(it.integrity=ot.integrity),ot.referrerPolicy&&(it.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?it.credentials="include":ot.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(ot){if(ot.ep)return;ot.ep=!0;const it=tt(ot);fetch(ot.href,it)}})();function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(_e){jsxRuntimeExports=_e}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(_e){reactExports=_e}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(_e,et,tt){this.props=_e,this.context=et,this.refs=D$3,this.updater=tt||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$3.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$3,this.updater=tt||B$2}var H$4=G$2.prototype=new F$1;H$4.constructor=G$2;C$2(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$5(_e,et,tt){var nt,ot={},it=null,lt=null;if(et!=null)for(nt in et.ref!==void 0&&(lt=et.ref),et.key!==void 0&&(it=""+et.key),et)J.call(et,nt)&&!L$4.hasOwnProperty(nt)&&(ot[nt]=et[nt]);var at=arguments.length-2;if(at===1)ot.children=tt;else if(1<at){for(var st=Array(at),ut=0;ut<at;ut++)st[ut]=arguments[ut+2];ot.children=st}if(_e&&_e.defaultProps)for(nt in at=_e.defaultProps,at)ot[nt]===void 0&&(ot[nt]=at[nt]);return{$$typeof:l$6,type:_e,key:it,ref:lt,props:ot,_owner:K$1.current}}function N$4(_e,et){return{$$typeof:l$6,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$6}function escape(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$3=/\/+/g;function Q$2(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):et.toString(36)}function R$2(_e,et,tt,nt,ot){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var lt=!1;if(_e===null)lt=!0;else switch(it){case"string":case"number":lt=!0;break;case"object":switch(_e.$$typeof){case l$6:case n$4:lt=!0}}if(lt)return lt=_e,ot=ot(lt),_e=nt===""?"."+Q$2(lt,0):nt,I$4(ot)?(tt="",_e!=null&&(tt=_e.replace(P$3,"$&/")+"/"),R$2(ot,et,tt,"",function(ut){return ut})):ot!=null&&(O$3(ot)&&(ot=N$4(ot,tt+(!ot.key||lt&&lt.key===ot.key?"":(""+ot.key).replace(P$3,"$&/")+"/")+_e)),et.push(ot)),1;if(lt=0,nt=nt===""?".":nt+":",I$4(_e))for(var at=0;at<_e.length;at++){it=_e[at];var st=nt+Q$2(it,at);lt+=R$2(it,et,tt,st,ot)}else if(st=A$3(_e),typeof st=="function")for(_e=st.call(_e),at=0;!(it=_e.next()).done;)it=it.value,st=nt+Q$2(it,at++),lt+=R$2(it,et,tt,st,ot);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return lt}function S$3(_e,et,tt){if(_e==null)return _e;var nt=[],ot=0;return R$2(_e,nt,"","",function(it){return et.call(tt,it,ot++)}),nt}function T$2(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$3,forEach:function(_e,et,tt){S$3(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$3(_e,function(){et++}),et},toArray:function(_e){return S$3(_e,function(et){return et})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$2({},_e.props),ot=_e.key,it=_e.ref,lt=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,lt=K$1.current),et.key!==void 0&&(ot=""+et.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(st in et)J.call(et,st)&&!L$4.hasOwnProperty(st)&&(nt[st]=et[st]===void 0&&at!==void 0?at[st]:et[st])}var st=arguments.length-2;if(st===1)nt.children=tt;else if(1<st){at=Array(st);for(var ut=0;ut<st;ut++)at[ut]=arguments[ut+2];nt.children=at}return{$$typeof:l$6,type:_e.type,key:ot,ref:it,props:nt,_owner:lt}};react_production_min.createContext=function(_e){return _e={$$typeof:u$5,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$4,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$5;react_production_min.createFactory=function(_e){var et=M$5.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$3,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$3,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,et){return{$$typeof:x$2,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$2.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$2.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$2.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(_e){_e.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$2=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,et,tt){var nt,ot={},it=null,lt=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(lt=et.ref);for(nt in et)m$3.call(et,nt)&&!p$6.hasOwnProperty(nt)&&(ot[nt]=et[nt]);if(_e&&_e.defaultProps)for(nt in et=_e.defaultProps,et)ot[nt]===void 0&&(ot[nt]=et[nt]);return{$$typeof:k$2,type:_e,key:it,ref:lt,props:ot,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(_e){_e.exports=reactJsxRuntime_production_min})(jsxRuntime);const jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(_e){reactDomExports=_e}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(_e){schedulerExports=_e}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Tt,Nt){var Ot=Tt.length;Tt.push(Nt);e:for(;0<Ot;){var Vt=Ot-1>>>1,Ut=Tt[Vt];if(0<ot(Ut,Nt))Tt[Vt]=Nt,Tt[Ot]=Ut,Ot=Vt;else break e}}function tt(Tt){return Tt.length===0?null:Tt[0]}function nt(Tt){if(Tt.length===0)return null;var Nt=Tt[0],Ot=Tt.pop();if(Ot!==Nt){Tt[0]=Ot;e:for(var Vt=0,Ut=Tt.length,Lt=Ut>>>1;Vt<Lt;){var Ft=2*(Vt+1)-1,Dt=Tt[Ft],Ht=Ft+1,Wt=Tt[Ht];if(0>ot(Dt,Ot))Ht<Ut&&0>ot(Wt,Dt)?(Tt[Vt]=Wt,Tt[Ht]=Ot,Vt=Ht):(Tt[Vt]=Dt,Tt[Ft]=Ot,Vt=Ft);else if(Ht<Ut&&0>ot(Wt,Ot))Tt[Vt]=Wt,Tt[Ht]=Ot,Vt=Ht;else break e}}return Nt}function ot(Tt,Nt){var Ot=Tt.sortIndex-Nt.sortIndex;return Ot!==0?Ot:Tt.id-Nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var lt=Date,at=lt.now();_e.unstable_now=function(){return lt.now()-at}}var st=[],ut=[],ct=1,ft=null,dt=3,ht=!1,gt=!1,yt=!1,Et=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Tt){for(var Nt=tt(ut);Nt!==null;){if(Nt.callback===null)nt(ut);else if(Nt.startTime<=Tt)nt(ut),Nt.sortIndex=Nt.expirationTime,et(st,Nt);else break;Nt=tt(ut)}}function wt(Tt){if(yt=!1,pt(Tt),!gt)if(tt(st)!==null)gt=!0,jt(vt);else{var Nt=tt(ut);Nt!==null&&zt(wt,Nt.startTime-Tt)}}function vt(Tt,Nt){gt=!1,yt&&(yt=!1,mt(St),St=-1),ht=!0;var Ot=dt;try{for(pt(Nt),ft=tt(st);ft!==null&&(!(ft.expirationTime>Nt)||Tt&&!$t());){var Vt=ft.callback;if(typeof Vt=="function"){ft.callback=null,dt=ft.priorityLevel;var Ut=Vt(ft.expirationTime<=Nt);Nt=_e.unstable_now(),typeof Ut=="function"?ft.callback=Ut:ft===tt(st)&&nt(st),pt(Nt)}else nt(st);ft=tt(st)}if(ft!==null)var Lt=!0;else{var Ft=tt(ut);Ft!==null&&zt(wt,Ft.startTime-Nt),Lt=!1}return Lt}finally{ft=null,dt=Ot,ht=!1}}var bt=!1,Rt=null,St=-1,Ct=5,xt=-1;function $t(){return!(_e.unstable_now()-xt<Ct)}function Mt(){if(Rt!==null){var Tt=_e.unstable_now();xt=Tt;var Nt=!0;try{Nt=Rt(!0,Tt)}finally{Nt?kt():(bt=!1,Rt=null)}}else bt=!1}var kt;if(typeof _t=="function")kt=function(){_t(Mt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Pt=It.port2;It.port1.onmessage=Mt,kt=function(){Pt.postMessage(null)}}else kt=function(){Et(Mt,0)};function jt(Tt){Rt=Tt,bt||(bt=!0,kt())}function zt(Tt,Nt){St=Et(function(){Tt(_e.unstable_now())},Nt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Tt){Tt.callback=null},_e.unstable_continueExecution=function(){gt||ht||(gt=!0,jt(vt))},_e.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Tt?Math.floor(1e3/Tt):5},_e.unstable_getCurrentPriorityLevel=function(){return dt},_e.unstable_getFirstCallbackNode=function(){return tt(st)},_e.unstable_next=function(Tt){switch(dt){case 1:case 2:case 3:var Nt=3;break;default:Nt=dt}var Ot=dt;dt=Nt;try{return Tt()}finally{dt=Ot}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Tt,Nt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Ot=dt;dt=Tt;try{return Nt()}finally{dt=Ot}},_e.unstable_scheduleCallback=function(Tt,Nt,Ot){var Vt=_e.unstable_now();switch(typeof Ot=="object"&&Ot!==null?(Ot=Ot.delay,Ot=typeof Ot=="number"&&0<Ot?Vt+Ot:Vt):Ot=Vt,Tt){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=Ot+Ut,Tt={id:ct++,callback:Nt,priorityLevel:Tt,startTime:Ot,expirationTime:Ut,sortIndex:-1},Ot>Vt?(Tt.sortIndex=Ot,et(ut,Tt),tt(st)===null&&Tt===tt(ut)&&(yt?(mt(St),St=-1):yt=!0,zt(wt,Ot-Vt))):(Tt.sortIndex=Ut,et(st,Tt),gt||ht||(gt=!0,jt(vt))),Tt},_e.unstable_shouldYield=$t,_e.unstable_wrapCallback=function(Tt){var Nt=dt;return function(){var Ot=dt;dt=Nt;try{return Tt.apply(this,arguments)}finally{dt=Ot}}}})(scheduler_production_min);(function(_e){_e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,nt){if(et===null||typeof et>"u"||pa(_e,et,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$2(_e,et,tt,nt,ot,it,lt){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=ot,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=lt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$1[et]=new v$2(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$2(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$2(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$2(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$2(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,nt){var ot=z$1.hasOwnProperty(et)?z$1[et]:null;(ot!==null?ot.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,ot,nt)&&(tt=null),nt||ot===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):ot.mustUseProperty?_e[ot.propertyName]=tt===null?ot.type===3?!1:"":tt:(et=ot.attributeName,nt=ot.attributeNamespace,tt===null?_e.removeAttribute(et):(ot=ot.type,tt=ot===3||ot===4&&tt===!0?"":""+tt,nt?_e.setAttributeNS(nt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$2=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ut){var nt=ut}Reflect.construct(_e,[],et)}else{try{et.call()}catch(ut){nt=ut}_e.call(et.prototype)}else{try{throw Error()}catch(ut){nt=ut}_e()}}catch(ut){if(ut&&nt&&typeof ut.stack=="string"){for(var ot=ut.stack.split(`
`),it=nt.stack.split(`
`),lt=ot.length-1,at=it.length-1;1<=lt&&0<=at&&ot[lt]!==it[at];)at--;for(;1<=lt&&0<=at;lt--,at--)if(ot[lt]!==it[at]){if(lt!==1||at!==1)do if(lt--,at--,0>at||ot[lt]!==it[at]){var st=`
`+ot[lt].replace(" at new "," at ");return _e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",_e.displayName)),st}while(1<=lt&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),nt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var ot=tt.get,it=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return ot.call(this)},set:function(lt){nt=""+lt,it.call(this,lt)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(lt){nt=""+lt},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A$2({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:nt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),nt=et.type;if(tt!=null)nt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,nt){if(_e=_e.options,et){et={};for(var ot=0;ot<tt.length;ot++)et["$"+tt[ot]]=!0;for(tt=0;tt<_e.length;tt++)ot=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==ot&&(_e[tt].selected=ot),ot&&nt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,ot=0;ot<_e.length;ot++){if(_e[ot].value===tt){_e[ot].selected=!0,nt&&(_e[ot].defaultSelected=!0);return}et!==null||_e[ot].disabled||(et=_e[ot])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$5(92));if(eb(tt)){if(1<tt.length)throw Error(p$5(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),nt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,nt,ot){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,nt,ot)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,ot=rb(tt,et[tt],nt);tt==="float"&&(tt="cssFloat"),nt?_e.setProperty(tt,ot):_e[tt]=ot}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$5(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$5(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$5(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$5(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$5(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$5(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,nt,ot,it,lt,at,st){var ut=Array.prototype.slice.call(arguments,3);try{et.apply(tt,ut)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,nt,ot,it,lt,at,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,nt,ot,it,lt,at,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ut)}}function Vb(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$5(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$5(188));return et!==_e?null:_e}for(var tt=_e,nt=et;;){var ot=tt.return;if(ot===null)break;var it=ot.alternate;if(it===null){if(nt=ot.return,nt!==null){tt=nt;continue}break}if(ot.child===it.child){for(it=ot.child;it;){if(it===tt)return Xb(ot),_e;if(it===nt)return Xb(ot),et;it=it.sibling}throw Error(p$5(188))}if(tt.return!==nt.return)tt=ot,nt=it;else{for(var lt=!1,at=ot.child;at;){if(at===tt){lt=!0,tt=ot,nt=it;break}if(at===nt){lt=!0,nt=ot,tt=it;break}at=at.sibling}if(!lt){for(at=it.child;at;){if(at===tt){lt=!0,tt=it,nt=ot;break}if(at===nt){lt=!0,nt=it,tt=ot;break}at=at.sibling}if(!lt)throw Error(p$5(189))}}if(tt.alternate!==nt)throw Error(p$5(190))}if(tt.tag!==3)throw Error(p$5(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var nt=0,ot=_e.suspendedLanes,it=_e.pingedLanes,lt=tt&268435455;if(lt!==0){var at=lt&~ot;at!==0?nt=tc(at):(it&=lt,it!==0&&(nt=tc(it)))}else lt=tt&~ot,lt!==0?nt=tc(lt):it!==0&&(nt=tc(it));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&ot)&&(ot=nt&-nt,it=et&-et,ot>=it||ot===16&&(it&4194240)!==0))return et;if(nt&4&&(nt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=nt;0<et;)tt=31-oc(et),ot=1<<tt,nt|=_e[tt],et&=~ot;return nt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,nt=_e.pingedLanes,ot=_e.expirationTimes,it=_e.pendingLanes;0<it;){var lt=31-oc(it),at=1<<lt,st=ot[lt];st===-1?(!(at&tt)||at&nt)&&(ot[lt]=vc(at,et)):st<=et&&(_e.expiredLanes|=at),it&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var ot=31-oc(tt),it=1<<ot;et[ot]=0,nt[ot]=-1,_e[ot]=-1,tt&=~it}}function Cc(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var nt=31-oc(tt),ot=1<<nt;ot&et|_e[nt]&et&&(_e[nt]|=et),tt&=~ot}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,nt,ot,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[ot]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=nt,et=_e.targetContainers,ot!==null&&et.indexOf(ot)===-1&&et.push(ot),_e)}function Uc(_e,et,tt,nt,ot){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,nt,ot),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,nt,ot),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,nt,ot),!0;case"pointerover":var it=ot.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,tt,nt,ot)),!0;case"gotpointercapture":return it=ot.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,tt,nt,ot)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(ot){return ad(ot,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,nt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,et,tt,nt)}finally{C$1=ot,cd.transition=it}}function gd(_e,et,tt,nt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,et,tt,nt)}finally{C$1=ot,cd.transition=it}}function fd(_e,et,tt,nt){if(dd){var ot=Yc(_e,et,tt,nt);if(ot===null)hd(_e,et,nt,id,tt),Sc(_e,nt);else if(Uc(ot,_e,et,tt,nt))nt.stopPropagation();else if(Sc(_e,nt),et&4&&-1<Rc.indexOf(_e)){for(;ot!==null;){var it=Cb(ot);if(it!==null&&Ec(it),it=Yc(_e,et,tt,nt),it===null&&hd(_e,et,nt,id,tt),it===ot)break;ot=it}ot!==null&&nt.stopPropagation()}else hd(_e,et,nt,null,tt)}}var id=null;function Yc(_e,et,tt,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,nt,ot="value"in kd?kd.value:kd.textContent,it=ot.length;for(_e=0;_e<tt&&et[_e]===ot[_e];_e++);var lt=tt-_e;for(nt=1;nt<=lt&&et[tt-nt]===ot[it-nt];nt++);return md=ot.slice(_e,1<nt?1-nt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,nt,ot,it,lt){this._reactName=tt,this._targetInst=ot,this.type=nt,this.nativeEvent=it,this.target=lt,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(tt=_e[at],this[at]=tt?tt(it):it[at]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=String.fromCharCode(32),fe$1=!1;function ge$1(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,et){switch(_e){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee);case"textInput":return _e=et.data,_e===ee&&fe$1?null:_e;default:return null}}function ke(_e,et){if(ie)return _e==="compositionend"||!ae&&ge$1(_e,et)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$1&&et.locale!=="ko"?null:et.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le[_e.type]:et==="textarea"}function ne(_e,et,tt,nt){Eb(nt),et=oe(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,nt),_e.push({event:tt,listeners:et}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var et=ue$1(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne(et,qe,_e,xb(_e)),Jb(re,et)}}function Ce(_e,et,tt){_e==="focusin"?(Ae$1(),pe=et,qe=tt,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae$1()}function De$1(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee$1(_e,et){if(_e==="click")return te(et)}function Fe$1(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),nt=Object.keys(et);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var ot=tt[nt];if(!ja.call(et,ot)||!He(_e[ot],et[ot]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=_e+tt.textContent.length,_e<=et&&nt>=et)return{node:tt,offset:et-_e};_e=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le$1(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le$1(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me$1(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me$1(),tt=_e.focusedElem,nt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le$1(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne(tt)){if(et=nt.start,_e=nt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var ot=tt.textContent.length,it=Math.min(nt.start,ot);nt=nt.end===void 0?it:Math.min(nt.end,ot),!_e.extend&&it>nt&&(ot=nt,nt=it,it=ot),ot=Ke(tt,it);var lt=Ke(tt,nt);ot&&lt&&(_e.rangeCount!==1||_e.anchorNode!==ot.node||_e.anchorOffset!==ot.offset||_e.focusNode!==lt.node||_e.focusOffset!==lt.offset)&&(et=et.createRange(),et.setStart(ot.node,ot.offset),_e.removeAllRanges(),it>nt?(_e.addRange(et),_e.extend(lt.node,lt.offset)):(et.setEnd(lt.node,lt.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(_e,et,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te$1||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe(Re$1,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:nt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var nt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(nt,et,void 0,_e),_e.currentTarget=null}function se(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],ot=nt.event;nt=nt.listeners;e:{var it=void 0;if(et)for(var lt=nt.length-1;0<=lt;lt--){var at=nt[lt],st=at.instance,ut=at.currentTarget;if(at=at.listener,st!==it&&ot.isPropagationStopped())break e;nf(ot,at,ut),it=st}else for(lt=0;lt<nt.length;lt++){if(at=nt[lt],st=at.instance,ut=at.currentTarget,at=at.listener,st!==it&&ot.isPropagationStopped())break e;nf(ot,at,ut),it=st}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$2(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var nt=_e+"__bubble";tt.has(nt)||(pf(et,_e,2,!1),tt.add(nt))}function qf(_e,et,tt){var nt=0;et&&(nt|=4),pf(tt,_e,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,nt){switch(jd(et)){case 1:var ot=ed;break;case 4:ot=gd;break;default:ot=fd}tt=ot.bind(null,et,tt,_e),ot=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(ot=!0),nt?ot!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:ot}):_e.addEventListener(et,tt,!0):ot!==void 0?_e.addEventListener(et,tt,{passive:ot}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,nt,ot){var it=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var lt=nt.tag;if(lt===3||lt===4){var at=nt.stateNode.containerInfo;if(at===ot||at.nodeType===8&&at.parentNode===ot)break;if(lt===4)for(lt=nt.return;lt!==null;){var st=lt.tag;if((st===3||st===4)&&(st=lt.stateNode.containerInfo,st===ot||st.nodeType===8&&st.parentNode===ot))return;lt=lt.return}for(;at!==null;){if(lt=Wc(at),lt===null)return;if(st=lt.tag,st===5||st===6){nt=it=lt;continue e}at=at.parentNode}}nt=nt.return}Jb(function(){var ut=it,ct=xb(tt),ft=[];e:{var dt=df.get(_e);if(dt!==void 0){var ht=td,gt=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":gt="focus",ht=Fd;break;case"focusout":gt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var yt=(et&4)!==0,Et=!yt&&_e==="scroll",mt=yt?dt!==null?dt+"Capture":null:dt;yt=[];for(var _t=ut,pt;_t!==null;){pt=_t;var wt=pt.stateNode;if(pt.tag===5&&wt!==null&&(pt=wt,mt!==null&&(wt=Kb(_t,mt),wt!=null&&yt.push(tf(_t,wt,pt)))),Et)break;_t=_t.return}0<yt.length&&(dt=new ht(dt,gt,null,tt,ct),ft.push({event:dt,listeners:yt}))}}if(!(et&7)){e:{if(dt=_e==="mouseover"||_e==="pointerover",ht=_e==="mouseout"||_e==="pointerout",dt&&tt!==wb&&(gt=tt.relatedTarget||tt.fromElement)&&(Wc(gt)||gt[uf]))break e;if((ht||dt)&&(dt=ct.window===ct?ct:(dt=ct.ownerDocument)?dt.defaultView||dt.parentWindow:window,ht?(gt=tt.relatedTarget||tt.toElement,ht=ut,gt=gt?Wc(gt):null,gt!==null&&(Et=Vb(gt),gt!==Et||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(ht=null,gt=ut),ht!==gt)){if(yt=Bd,wt="onMouseLeave",mt="onMouseEnter",_t="mouse",(_e==="pointerout"||_e==="pointerover")&&(yt=Td,wt="onPointerLeave",mt="onPointerEnter",_t="pointer"),Et=ht==null?dt:ue$1(ht),pt=gt==null?dt:ue$1(gt),dt=new yt(wt,_t+"leave",ht,tt,ct),dt.target=Et,dt.relatedTarget=pt,wt=null,Wc(ct)===ut&&(yt=new yt(mt,_t+"enter",gt,tt,ct),yt.target=pt,yt.relatedTarget=Et,wt=yt),Et=wt,ht&&gt)t:{for(yt=ht,mt=gt,_t=0,pt=yt;pt;pt=vf(pt))_t++;for(pt=0,wt=mt;wt;wt=vf(wt))pt++;for(;0<_t-pt;)yt=vf(yt),_t--;for(;0<pt-_t;)mt=vf(mt),pt--;for(;_t--;){if(yt===mt||mt!==null&&yt===mt.alternate)break t;yt=vf(yt),mt=vf(mt)}yt=null}else yt=null;ht!==null&&wf(ft,dt,ht,yt,!1),gt!==null&&Et!==null&&wf(ft,Et,gt,yt,!0)}}e:{if(dt=ut?ue$1(ut):window,ht=dt.nodeName&&dt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&dt.type==="file")var vt=ve;else if(me$1(dt))if(we)vt=Fe$1;else{vt=De$1;var bt=Ce}else(ht=dt.nodeName)&&ht.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(vt=Ee$1);if(vt&&(vt=vt(_e,ut))){ne(ft,vt,tt,ct);break e}bt&&bt(_e,dt,ut),_e==="focusout"&&(bt=dt._wrapperState)&&bt.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(bt=ut?ue$1(ut):window,_e){case"focusin":(me$1(bt)||bt.contentEditable==="true")&&(Qe=bt,Re$1=ut,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ft,tt,ct);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ft,tt,ct)}var Rt;if(ae)e:{switch(_e){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else ie?ge$1(_e,tt)&&(St="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(St="onCompositionStart");St&&(de$1&&tt.locale!=="ko"&&(ie||St!=="onCompositionStart"?St==="onCompositionEnd"&&ie&&(Rt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(ut,St),0<bt.length&&(St=new Ld(St,_e,null,tt,ct),ft.push({event:St,listeners:bt}),Rt?St.data=Rt:(Rt=he$1(tt),Rt!==null&&(St.data=Rt)))),(Rt=ce$1?je(_e,tt):ke(_e,tt))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),ft.push({event:ct,listeners:ut}),ct.data=Rt))}se(ft,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe(_e,et){for(var tt=et+"Capture",nt=[];_e!==null;){var ot=_e,it=ot.stateNode;ot.tag===5&&it!==null&&(ot=it,it=Kb(_e,tt),it!=null&&nt.unshift(tf(_e,it,ot)),it=Kb(_e,et),it!=null&&nt.push(tf(_e,it,ot))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,nt,ot){for(var it=et._reactName,lt=[];tt!==null&&tt!==nt;){var at=tt,st=at.alternate,ut=at.stateNode;if(st!==null&&st===nt)break;at.tag===5&&ut!==null&&(at=ut,ot?(st=Kb(tt,it),st!=null&&lt.unshift(tf(tt,st,at))):ot||(st=Kb(tt,it),st!=null&&lt.push(tf(tt,st,at)))),tt=tt.return}lt.length!==0&&_e.push({event:et,listeners:lt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,nt=0;do{var ot=tt.nextSibling;if(_e.removeChild(tt),ot&&ot.nodeType===8)if(tt=ot.data,tt==="/$"){if(nt===0){_e.removeChild(ot),bd(et);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=ot}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$5(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$2(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var ot={},it;for(it in tt)ot[it]=et[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=ot),ot}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(_e,et,tt){if(H$3.current!==Vf)throw Error(p$5(168));G$1(H$3,et),G$1(Wf,tt)}function bg(_e,et,tt){var nt=_e.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var ot in nt)if(!(ot in et))throw Error(p$5(108,Ra(_e)||"Unknown",ot));return A$2({},tt,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,tt){var nt=_e.stateNode;if(!nt)throw Error(p$5(169));tt?(_e=bg(_e,et,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$2(Wf),E$2(H$3),G$1(H$3,_e)):E$2(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$1;try{var tt=eg;for(C$1=1;_e<tt.length;_e++){var nt=tt[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(ot){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),ot}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var ot=32-oc(nt)-1;nt&=~(1<<ot),tt+=1;var it=32-oc(et)+ot;if(30<it){var lt=ot-ot%5;it=(nt&(1<<lt)-1).toString(32),nt>>=lt,ot-=lt,rg=1<<32-oc(et)+ot|tt<<ot|nt,sg=it+_e}else rg=1<<it|tt<<ot|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$3){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$5(418));et=Lf(tt.nextSibling);var nt=xg;et&&Cg(_e,et)?Ag(nt,tt):(_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$5(418));_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$3)return Fg(_e),I$3=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$5(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$5(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et){if(_e&&_e.defaultProps){et=A$2({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var et=Mg.current;E$2(Mg),_e._currentValue=et}function Sg(_e,et,tt){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),_e===tt)break;_e=_e.return}}function Tg(_e,et){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var et=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return et}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,et,tt,nt){var ot=et.interleaved;return ot===null?(tt.next=tt,Xg(et)):(tt.next=ot.next,ot.next=tt),et.interleaved=tt,Zg(_e,nt)}function Zg(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function dh(_e,et,tt){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var ot=nt.pending;return ot===null?et.next=et:(et.next=ot.next,ot.next=et),nt.pending=et,Zg(_e,tt)}return ot=nt.interleaved,ot===null?(et.next=et,Xg(nt)):(et.next=ot.next,ot.next=et),nt.interleaved=et,Zg(_e,tt)}function eh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc(_e,tt)}}function fh(_e,et){var tt=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var ot=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var lt={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?ot=it=lt:it=it.next=lt,tt=tt.next}while(tt!==null);it===null?ot=it=et:it=it.next=et}else ot=it=et;tt={baseState:nt.baseState,firstBaseUpdate:ot,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function gh(_e,et,tt,nt){var ot=_e.updateQueue;$g=!1;var it=ot.firstBaseUpdate,lt=ot.lastBaseUpdate,at=ot.shared.pending;if(at!==null){ot.shared.pending=null;var st=at,ut=st.next;st.next=null,lt===null?it=ut:lt.next=ut,lt=st;var ct=_e.alternate;ct!==null&&(ct=ct.updateQueue,at=ct.lastBaseUpdate,at!==lt&&(at===null?ct.firstBaseUpdate=ut:at.next=ut,ct.lastBaseUpdate=st))}if(it!==null){var ft=ot.baseState;lt=0,ct=ut=st=null,at=it;do{var dt=at.lane,ht=at.eventTime;if((nt&dt)===dt){ct!==null&&(ct=ct.next={eventTime:ht,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var gt=_e,yt=at;switch(dt=et,ht=tt,yt.tag){case 1:if(gt=yt.payload,typeof gt=="function"){ft=gt.call(ht,ft,dt);break e}ft=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=yt.payload,dt=typeof gt=="function"?gt.call(ht,ft,dt):gt,dt==null)break e;ft=A$2({},ft,dt);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,dt=ot.effects,dt===null?ot.effects=[at]:dt.push(at))}else ht={eventTime:ht,lane:dt,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ct===null?(ut=ct=ht,st=ft):ct=ct.next=ht,lt|=dt;if(at=at.next,at===null){if(at=ot.shared.pending,at===null)break;dt=at,at=dt.next,dt.next=null,ot.lastBaseUpdate=dt,ot.shared.pending=null}}while(1);if(ct===null&&(st=ft),ot.baseState=st,ot.firstBaseUpdate=ut,ot.lastBaseUpdate=ct,et=ot.shared.interleaved,et!==null){ot=et;do lt|=ot.lane,ot=ot.next;while(ot!==et)}else it===null&&(ot.shared.lanes=0);hh|=lt,_e.lanes=lt,_e.memoizedState=ft}}function ih(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var nt=_e[et],ot=nt.callback;if(ot!==null){if(nt.callback=null,nt=tt,typeof ot!="function")throw Error(p$5(191,ot));ot.call(nt)}}}var jh=new aa.Component().refs;function kh(_e,et,tt,nt){et=_e.memoizedState,tt=tt(nt,et),tt=tt==null?et:A$2({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var nt=L$3(),ot=lh(_e),it=ch(nt,ot);it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,ot),et!==null&&(mh(et,_e,ot,nt),eh(et,_e,ot))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var nt=L$3(),ot=lh(_e),it=ch(nt,ot);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,ot),et!==null&&(mh(et,_e,ot,nt),eh(et,_e,ot))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=L$3(),nt=lh(_e),ot=ch(tt,nt);ot.tag=2,et!=null&&(ot.callback=et),et=dh(_e,ot,nt),et!==null&&(mh(et,_e,nt,tt),eh(et,_e,nt))}};function oh(_e,et,tt,nt,ot,it,lt){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,lt):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(tt,nt)||!Ie$1(ot,it):!0}function ph(_e,et,tt){var nt=!1,ot=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(ot=Zf(et)?Xf:H$3.current,nt=et.contextTypes,it=(nt=nt!=null)?Yf(_e,ot):Vf),et=new et(tt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=nh,_e.stateNode=et,et._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=ot,_e.__reactInternalMemoizedMaskedChildContext=it),et}function qh(_e,et,tt,nt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,nt),et.state!==_e&&nh.enqueueReplaceState(et,et.state,null)}function rh(_e,et,tt,nt){var ot=_e.stateNode;ot.props=tt,ot.state=_e.memoizedState,ot.refs=jh,ah(_e);var it=et.contextType;typeof it=="object"&&it!==null?ot.context=Vg(it):(it=Zf(et)?Xf:H$3.current,ot.context=Yf(_e,it)),ot.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,et,it,tt),ot.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(et=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),et!==ot.state&&nh.enqueueReplaceState(ot,ot.state,null),gh(_e,tt,ot,nt),ot.state=_e.memoizedState),typeof ot.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$5(309));var nt=tt.stateNode}if(!nt)throw Error(p$5(147,_e));var ot=nt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(lt){var at=ot.refs;at===jh&&(at=ot.refs={}),lt===null?delete at[it]:at[it]=lt},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$5(284));if(!tt._owner)throw Error(p$5(290,_e))}return _e}function th(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$5(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function uh(_e){var et=_e._init;return et(_e._payload)}function vh(_e){function et(mt,_t){if(_e){var pt=mt.deletions;pt===null?(mt.deletions=[_t],mt.flags|=16):pt.push(_t)}}function tt(mt,_t){if(!_e)return null;for(;_t!==null;)et(mt,_t),_t=_t.sibling;return null}function nt(mt,_t){for(mt=new Map;_t!==null;)_t.key!==null?mt.set(_t.key,_t):mt.set(_t.index,_t),_t=_t.sibling;return mt}function ot(mt,_t){return mt=wh(mt,_t),mt.index=0,mt.sibling=null,mt}function it(mt,_t,pt){return mt.index=pt,_e?(pt=mt.alternate,pt!==null?(pt=pt.index,pt<_t?(mt.flags|=2,_t):pt):(mt.flags|=2,_t)):(mt.flags|=1048576,_t)}function lt(mt){return _e&&mt.alternate===null&&(mt.flags|=2),mt}function at(mt,_t,pt,wt){return _t===null||_t.tag!==6?(_t=xh(pt,mt.mode,wt),_t.return=mt,_t):(_t=ot(_t,pt),_t.return=mt,_t)}function st(mt,_t,pt,wt){var vt=pt.type;return vt===ya?ct(mt,_t,pt.props.children,wt,pt.key):_t!==null&&(_t.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===_t.type)?(wt=ot(_t,pt.props),wt.ref=sh(mt,_t,pt),wt.return=mt,wt):(wt=yh(pt.type,pt.key,pt.props,null,mt.mode,wt),wt.ref=sh(mt,_t,pt),wt.return=mt,wt)}function ut(mt,_t,pt,wt){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==pt.containerInfo||_t.stateNode.implementation!==pt.implementation?(_t=zh(pt,mt.mode,wt),_t.return=mt,_t):(_t=ot(_t,pt.children||[]),_t.return=mt,_t)}function ct(mt,_t,pt,wt,vt){return _t===null||_t.tag!==7?(_t=Ah(pt,mt.mode,wt,vt),_t.return=mt,_t):(_t=ot(_t,pt),_t.return=mt,_t)}function ft(mt,_t,pt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return _t=xh(""+_t,mt.mode,pt),_t.return=mt,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return pt=yh(_t.type,_t.key,_t.props,null,mt.mode,pt),pt.ref=sh(mt,null,_t),pt.return=mt,pt;case wa:return _t=zh(_t,mt.mode,pt),_t.return=mt,_t;case Ha:var wt=_t._init;return ft(mt,wt(_t._payload),pt)}if(eb(_t)||Ka(_t))return _t=Ah(_t,mt.mode,pt,null),_t.return=mt,_t;th(mt,_t)}return null}function dt(mt,_t,pt,wt){var vt=_t!==null?_t.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return vt!==null?null:at(mt,_t,""+pt,wt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===vt?st(mt,_t,pt,wt):null;case wa:return pt.key===vt?ut(mt,_t,pt,wt):null;case Ha:return vt=pt._init,dt(mt,_t,vt(pt._payload),wt)}if(eb(pt)||Ka(pt))return vt!==null?null:ct(mt,_t,pt,wt,null);th(mt,pt)}return null}function ht(mt,_t,pt,wt,vt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return mt=mt.get(pt)||null,at(_t,mt,""+wt,vt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return mt=mt.get(wt.key===null?pt:wt.key)||null,st(_t,mt,wt,vt);case wa:return mt=mt.get(wt.key===null?pt:wt.key)||null,ut(_t,mt,wt,vt);case Ha:var bt=wt._init;return ht(mt,_t,pt,bt(wt._payload),vt)}if(eb(wt)||Ka(wt))return mt=mt.get(pt)||null,ct(_t,mt,wt,vt,null);th(_t,wt)}return null}function gt(mt,_t,pt,wt){for(var vt=null,bt=null,Rt=_t,St=_t=0,Ct=null;Rt!==null&&St<pt.length;St++){Rt.index>St?(Ct=Rt,Rt=null):Ct=Rt.sibling;var xt=dt(mt,Rt,pt[St],wt);if(xt===null){Rt===null&&(Rt=Ct);break}_e&&Rt&&xt.alternate===null&&et(mt,Rt),_t=it(xt,_t,St),bt===null?vt=xt:bt.sibling=xt,bt=xt,Rt=Ct}if(St===pt.length)return tt(mt,Rt),I$3&&tg(mt,St),vt;if(Rt===null){for(;St<pt.length;St++)Rt=ft(mt,pt[St],wt),Rt!==null&&(_t=it(Rt,_t,St),bt===null?vt=Rt:bt.sibling=Rt,bt=Rt);return I$3&&tg(mt,St),vt}for(Rt=nt(mt,Rt);St<pt.length;St++)Ct=ht(Rt,mt,St,pt[St],wt),Ct!==null&&(_e&&Ct.alternate!==null&&Rt.delete(Ct.key===null?St:Ct.key),_t=it(Ct,_t,St),bt===null?vt=Ct:bt.sibling=Ct,bt=Ct);return _e&&Rt.forEach(function($t){return et(mt,$t)}),I$3&&tg(mt,St),vt}function yt(mt,_t,pt,wt){var vt=Ka(pt);if(typeof vt!="function")throw Error(p$5(150));if(pt=vt.call(pt),pt==null)throw Error(p$5(151));for(var bt=vt=null,Rt=_t,St=_t=0,Ct=null,xt=pt.next();Rt!==null&&!xt.done;St++,xt=pt.next()){Rt.index>St?(Ct=Rt,Rt=null):Ct=Rt.sibling;var $t=dt(mt,Rt,xt.value,wt);if($t===null){Rt===null&&(Rt=Ct);break}_e&&Rt&&$t.alternate===null&&et(mt,Rt),_t=it($t,_t,St),bt===null?vt=$t:bt.sibling=$t,bt=$t,Rt=Ct}if(xt.done)return tt(mt,Rt),I$3&&tg(mt,St),vt;if(Rt===null){for(;!xt.done;St++,xt=pt.next())xt=ft(mt,xt.value,wt),xt!==null&&(_t=it(xt,_t,St),bt===null?vt=xt:bt.sibling=xt,bt=xt);return I$3&&tg(mt,St),vt}for(Rt=nt(mt,Rt);!xt.done;St++,xt=pt.next())xt=ht(Rt,mt,St,xt.value,wt),xt!==null&&(_e&&xt.alternate!==null&&Rt.delete(xt.key===null?St:xt.key),_t=it(xt,_t,St),bt===null?vt=xt:bt.sibling=xt,bt=xt);return _e&&Rt.forEach(function(Mt){return et(mt,Mt)}),I$3&&tg(mt,St),vt}function Et(mt,_t,pt,wt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var vt=pt.key,bt=_t;bt!==null;){if(bt.key===vt){if(vt=pt.type,vt===ya){if(bt.tag===7){tt(mt,bt.sibling),_t=ot(bt,pt.props.children),_t.return=mt,mt=_t;break e}}else if(bt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===bt.type){tt(mt,bt.sibling),_t=ot(bt,pt.props),_t.ref=sh(mt,bt,pt),_t.return=mt,mt=_t;break e}tt(mt,bt);break}else et(mt,bt);bt=bt.sibling}pt.type===ya?(_t=Ah(pt.props.children,mt.mode,wt,pt.key),_t.return=mt,mt=_t):(wt=yh(pt.type,pt.key,pt.props,null,mt.mode,wt),wt.ref=sh(mt,_t,pt),wt.return=mt,mt=wt)}return lt(mt);case wa:e:{for(bt=pt.key;_t!==null;){if(_t.key===bt)if(_t.tag===4&&_t.stateNode.containerInfo===pt.containerInfo&&_t.stateNode.implementation===pt.implementation){tt(mt,_t.sibling),_t=ot(_t,pt.children||[]),_t.return=mt,mt=_t;break e}else{tt(mt,_t);break}else et(mt,_t);_t=_t.sibling}_t=zh(pt,mt.mode,wt),_t.return=mt,mt=_t}return lt(mt);case Ha:return bt=pt._init,Et(mt,_t,bt(pt._payload),wt)}if(eb(pt))return gt(mt,_t,pt,wt);if(Ka(pt))return yt(mt,_t,pt,wt);th(mt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,_t!==null&&_t.tag===6?(tt(mt,_t.sibling),_t=ot(_t,pt),_t.return=mt,mt=_t):(tt(mt,_t),_t=xh(pt,mt.mode,wt),_t.return=mt,mt=_t),lt(mt)):tt(mt,_t)}return Et}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$5(174));return _e}function Ih(_e,et){switch(G$1(Gh,et),G$1(Fh,_e),G$1(Eh,Dh),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$2(Eh),G$1(Eh,et)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(_e){Hh(Gh.current);var et=Hh(Eh.current),tt=lb(et,_e.type);et!==tt&&(G$1(Fh,_e),G$1(Eh,tt))}function Lh(_e){Fh.current===_e&&(E$2(Eh),E$2(Fh))}var M$4=Uf(0);function Mh(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$3=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$5(321))}function Wh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He(_e[tt],et[tt]))return!1;return!0}function Xh(_e,et,tt,nt,ot,it){if(Rh=it,N$3=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=tt(nt,ot),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$5(301));it+=1,P$2=O$2=null,et.updateQueue=null,Ph.current=$h,_e=tt(nt,ot)}while(Th)}if(Ph.current=ai,et=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$3=null,Sh=!1,et)throw Error(p$5(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$3.memoizedState=P$2=_e:P$2=P$2.next=_e,P$2}function di(){if(O$2===null){var _e=N$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$2.next;var et=P$2===null?N$3.memoizedState:P$2.next;if(et!==null)P$2=et,O$2=_e;else{if(_e===null)throw Error(p$5(310));O$2=_e,_e={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$3.memoizedState=P$2=_e:P$2=P$2.next=_e}return P$2}function ei(_e,et){return typeof et=="function"?et(_e):et}function fi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=_e;var nt=O$2,ot=nt.baseQueue,it=tt.pending;if(it!==null){if(ot!==null){var lt=ot.next;ot.next=it.next,it.next=lt}nt.baseQueue=ot=it,tt.pending=null}if(ot!==null){it=ot.next,nt=nt.baseState;var at=lt=null,st=null,ut=it;do{var ct=ut.lane;if((Rh&ct)===ct)st!==null&&(st=st.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),nt=ut.hasEagerState?ut.eagerState:_e(nt,ut.action);else{var ft={lane:ct,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};st===null?(at=st=ft,lt=nt):st=st.next=ft,N$3.lanes|=ct,hh|=ct}ut=ut.next}while(ut!==null&&ut!==it);st===null?lt=nt:st.next=at,He(nt,et.memoizedState)||(Ug=!0),et.memoizedState=nt,et.baseState=lt,et.baseQueue=st,tt.lastRenderedState=nt}if(_e=tt.interleaved,_e!==null){ot=_e;do it=ot.lane,N$3.lanes|=it,hh|=it,ot=ot.next;while(ot!==_e)}else ot===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function gi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=_e;var nt=tt.dispatch,ot=tt.pending,it=et.memoizedState;if(ot!==null){tt.pending=null;var lt=ot=ot.next;do it=_e(it,lt.action),lt=lt.next;while(lt!==ot);He(it,et.memoizedState)||(Ug=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,nt]}function hi(){}function ii(_e,et){var tt=N$3,nt=di(),ot=et(),it=!He(nt.memoizedState,ot);if(it&&(nt.memoizedState=ot,Ug=!0),nt=nt.queue,ji(ki.bind(null,tt,nt,_e),[_e]),nt.getSnapshot!==et||it||P$2!==null&&P$2.memoizedState.tag&1){if(tt.flags|=2048,li$1(9,mi.bind(null,tt,nt,ot,et),void 0,null),R$1===null)throw Error(p$5(349));Rh&30||ni(tt,et,ot)}return ot}function ni(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=N$3.updateQueue,et===null?(et={lastEffect:null,stores:null},N$3.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function mi(_e,et,tt,nt){et.value=tt,et.getSnapshot=nt,oi(et)&&pi(_e)}function ki(_e,et,tt){return tt(function(){oi(et)&&pi(_e)})}function oi(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He(_e,tt)}catch{return!0}}function pi(_e){var et=Zg(_e,1);et!==null&&mh(et,_e,1,-1)}function qi(_e){var et=ci();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ri.bind(null,N$3,_e),[et.memoizedState,_e]}function li$1(_e,et,tt,nt){return _e={tag:_e,create:et,destroy:tt,deps:nt,next:null},et=N$3.updateQueue,et===null?(et={lastEffect:null,stores:null},N$3.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(nt=tt.next,tt.next=_e,_e.next=nt,et.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,et,tt,nt){var ot=ci();N$3.flags|=_e,ot.memoizedState=li$1(1|et,tt,void 0,nt===void 0?null:nt)}function ui(_e,et,tt,nt){var ot=di();nt=nt===void 0?null:nt;var it=void 0;if(O$2!==null){var lt=O$2.memoizedState;if(it=lt.destroy,nt!==null&&Wh(nt,lt.deps)){ot.memoizedState=li$1(et,tt,it,nt);return}}N$3.flags|=_e,ot.memoizedState=li$1(1|et,tt,it,nt)}function vi(_e,et){return ti(8390656,8,_e,et)}function ji(_e,et){return ui(2048,8,_e,et)}function wi(_e,et){return ui(4,2,_e,et)}function xi(_e,et){return ui(4,4,_e,et)}function yi(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function zi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ui(4,4,yi.bind(null,et,_e),tt)}function Ai(){}function Bi(_e,et){var tt=di();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(tt.memoizedState=[_e,et],_e)}function Ci(_e,et){var tt=di();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function Di(_e,et,tt){return Rh&21?(He(tt,et)||(tt=yc(),N$3.lanes|=tt,hh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=tt)}function Ei(_e,et){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,_e(!0);var nt=Qh.transition;Qh.transition={};try{_e(!1),et()}finally{C$1=tt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(_e,et,tt){var nt=lh(_e);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(et,tt);else if(tt=Yg(_e,et,tt,nt),tt!==null){var ot=L$3();mh(tt,_e,nt,ot),Ji(tt,et,nt)}}function ri(_e,et,tt){var nt=lh(_e),ot={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(et,ot);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var lt=et.lastRenderedState,at=it(lt,tt);if(ot.hasEagerState=!0,ot.eagerState=at,He(at,lt)){var st=et.interleaved;st===null?(ot.next=ot,Xg(et)):(ot.next=st.next,st.next=ot),et.interleaved=ot;return}}catch{}finally{}tt=Yg(_e,et,ot,nt),tt!==null&&(ot=L$3(),mh(tt,_e,nt,ot),Ji(tt,et,nt))}}function Hi(_e){var et=_e.alternate;return _e===N$3||et!==null&&et===N$3}function Ii(_e,et){Th=Sh=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Ji(_e,et,tt){if(tt&4194240){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc(_e,tt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,et){return ci().memoizedState=[_e,et===void 0?null:et],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ti(4194308,4,yi.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ti(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ti(4,2,_e,et)},useMemo:function(_e,et){var tt=ci();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var nt=ci();return et=tt!==void 0?tt(et):et,nt.memoizedState=nt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},nt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$3,_e),[nt.memoizedState,_e]},useRef:function(_e){var et=ci();return _e={current:_e},et.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),et=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var nt=N$3,ot=ci();if(I$3){if(tt===void 0)throw Error(p$5(407));tt=tt()}else{if(tt=et(),R$1===null)throw Error(p$5(349));Rh&30||ni(nt,et,tt)}ot.memoizedState=tt;var it={value:tt,getSnapshot:et};return ot.queue=it,vi(ki.bind(null,nt,it,_e),[_e]),nt.flags|=2048,li$1(9,mi.bind(null,nt,it,tt,et),void 0,null),tt},useId:function(){var _e=ci(),et=R$1.identifierPrefix;if(I$3){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Uh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Vh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return O$2===null?et.memoizedState=_e:Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,et){try{var tt="",nt=et;do tt+=Pa(nt),nt=nt.return;while(nt);var ot=tt}catch(it){ot=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:ot,digest:null}}function Li(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Mi(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,et,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var nt=et.value;return tt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(_e,et)},tt}function Ri(_e,et,tt){tt=ch(-1,tt),tt.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var ot=et.value;tt.payload=function(){return nt(ot)},tt.callback=function(){Mi(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(_e,et),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var lt=et.stack;this.componentDidCatch(et.value,{componentStack:lt!==null?lt:""})}),tt}function Ti(_e,et,tt){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Ni;var ot=new Set;nt.set(et,ot)}else ot=nt.get(et),ot===void 0&&(ot=new Set,nt.set(et,ot));ot.has(tt)||(ot.add(tt),_e=Ui.bind(null,_e,et,tt),et.then(_e,_e))}function Vi(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,et,tt,nt,ot){return _e.mode&1?(_e.flags|=65536,_e.lanes=ot,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=ch(-1,1),et.tag=2,dh(tt,et,1))),tt.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,et,tt,nt){et.child=_e===null?Ch(et,null,tt,nt):Bh(et,_e.child,tt,nt)}function Zi(_e,et,tt,nt,ot){tt=tt.render;var it=et.ref;return Tg(et,ot),nt=Xh(_e,et,tt,nt,it,ot),tt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~ot,$i(_e,et,ot)):(I$3&&tt&&vg(et),et.flags|=1,Yi(_e,et,nt,ot),et.child)}function aj(_e,et,tt,nt,ot){if(_e===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,cj(_e,et,it,nt,ot)):(_e=yh(tt.type,null,nt,et,et.mode,ot),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&ot)){var lt=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie$1,tt(lt,nt)&&_e.ref===et.ref)return $i(_e,et,ot)}return et.flags|=1,_e=wh(it,nt),_e.ref=et.ref,_e.return=et,et.child=_e}function cj(_e,et,tt,nt,ot){if(_e!==null){var it=_e.memoizedProps;if(Ie$1(it,nt)&&_e.ref===et.ref)if(Ug=!1,et.pendingProps=nt=it,(_e.lanes&ot)!==0)_e.flags&131072&&(Ug=!0);else return et.lanes=_e.lanes,$i(_e,et,ot)}return dj(_e,et,tt,nt,ot)}function ej(_e,et,tt){var nt=et.pendingProps,ot=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if(!(tt&1073741824))return _e=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(fj,gj),gj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|tt,et.memoizedState=null):nt=tt,G$1(fj,gj),gj|=nt;return Yi(_e,et,ot,tt),et.child}function hj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function dj(_e,et,tt,nt,ot){var it=Zf(tt)?Xf:H$3.current;return it=Yf(et,it),Tg(et,ot),tt=Xh(_e,et,tt,nt,it,ot),nt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~ot,$i(_e,et,ot)):(I$3&&nt&&vg(et),et.flags|=1,Yi(_e,et,tt,ot),et.child)}function ij(_e,et,tt,nt,ot){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(Tg(et,ot),et.stateNode===null)jj(_e,et),ph(et,tt,nt),rh(et,tt,nt,ot),nt=!0;else if(_e===null){var lt=et.stateNode,at=et.memoizedProps;lt.props=at;var st=lt.context,ut=tt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(tt)?Xf:H$3.current,ut=Yf(et,ut));var ct=tt.getDerivedStateFromProps,ft=typeof ct=="function"||typeof lt.getSnapshotBeforeUpdate=="function";ft||typeof lt.UNSAFE_componentWillReceiveProps!="function"&&typeof lt.componentWillReceiveProps!="function"||(at!==nt||st!==ut)&&qh(et,lt,nt,ut),$g=!1;var dt=et.memoizedState;lt.state=dt,gh(et,nt,lt,ot),st=et.memoizedState,at!==nt||dt!==st||Wf.current||$g?(typeof ct=="function"&&(kh(et,tt,ct,nt),st=et.memoizedState),(at=$g||oh(et,tt,at,nt,dt,st,ut))?(ft||typeof lt.UNSAFE_componentWillMount!="function"&&typeof lt.componentWillMount!="function"||(typeof lt.componentWillMount=="function"&&lt.componentWillMount(),typeof lt.UNSAFE_componentWillMount=="function"&&lt.UNSAFE_componentWillMount()),typeof lt.componentDidMount=="function"&&(et.flags|=4194308)):(typeof lt.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=st),lt.props=nt,lt.state=st,lt.context=ut,nt=at):(typeof lt.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{lt=et.stateNode,bh(_e,et),at=et.memoizedProps,ut=et.type===et.elementType?at:Lg(et.type,at),lt.props=ut,ft=et.pendingProps,dt=lt.context,st=tt.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(tt)?Xf:H$3.current,st=Yf(et,st));var ht=tt.getDerivedStateFromProps;(ct=typeof ht=="function"||typeof lt.getSnapshotBeforeUpdate=="function")||typeof lt.UNSAFE_componentWillReceiveProps!="function"&&typeof lt.componentWillReceiveProps!="function"||(at!==ft||dt!==st)&&qh(et,lt,nt,st),$g=!1,dt=et.memoizedState,lt.state=dt,gh(et,nt,lt,ot);var gt=et.memoizedState;at!==ft||dt!==gt||Wf.current||$g?(typeof ht=="function"&&(kh(et,tt,ht,nt),gt=et.memoizedState),(ut=$g||oh(et,tt,ut,nt,dt,gt,st)||!1)?(ct||typeof lt.UNSAFE_componentWillUpdate!="function"&&typeof lt.componentWillUpdate!="function"||(typeof lt.componentWillUpdate=="function"&&lt.componentWillUpdate(nt,gt,st),typeof lt.UNSAFE_componentWillUpdate=="function"&&lt.UNSAFE_componentWillUpdate(nt,gt,st)),typeof lt.componentDidUpdate=="function"&&(et.flags|=4),typeof lt.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof lt.componentDidUpdate!="function"||at===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=4),typeof lt.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=gt),lt.props=nt,lt.state=gt,lt.context=st,nt=ut):(typeof lt.componentDidUpdate!="function"||at===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=4),typeof lt.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=1024),nt=!1)}return kj(_e,et,tt,nt,it,ot)}function kj(_e,et,tt,nt,ot,it){hj(_e,et);var lt=(et.flags&128)!==0;if(!nt&&!lt)return ot&&dg(et,tt,!1),$i(_e,et,it);nt=et.stateNode,Xi.current=et;var at=lt&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,_e!==null&&lt?(et.child=Bh(et,_e.child,null,it),et.child=Bh(et,null,at,it)):Yi(_e,et,at,it),et.memoizedState=nt.state,ot&&dg(et,tt,!0),et.child}function lj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),Ih(_e,et.containerInfo)}function mj(_e,et,tt,nt,ot){return Ig(),Jg(ot),et.flags|=256,Yi(_e,et,tt,nt),et.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,et,tt){var nt=et.pendingProps,ot=M$4.current,it=!1,lt=(et.flags&128)!==0,at;if((at=lt)||(at=_e!==null&&_e.memoizedState===null?!1:(ot&2)!==0),at?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(ot|=1),G$1(M$4,ot&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(lt=nt.children,_e=nt.fallback,it?(nt=et.mode,it=et.child,lt={mode:"hidden",children:lt},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=lt):it=qj(lt,nt,0,null),_e=Ah(_e,nt,tt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=oj(tt),et.memoizedState=nj,_e):rj(et,lt));if(ot=_e.memoizedState,ot!==null&&(at=ot.dehydrated,at!==null))return sj(_e,et,lt,nt,at,ot,tt);if(it){it=nt.fallback,lt=et.mode,ot=_e.child,at=ot.sibling;var st={mode:"hidden",children:nt.children};return!(lt&1)&&et.child!==ot?(nt=et.child,nt.childLanes=0,nt.pendingProps=st,et.deletions=null):(nt=wh(ot,st),nt.subtreeFlags=ot.subtreeFlags&14680064),at!==null?it=wh(at,it):(it=Ah(it,lt,tt,null),it.flags|=2),it.return=et,nt.return=et,nt.sibling=it,et.child=nt,nt=it,it=et.child,lt=_e.child.memoizedState,lt=lt===null?oj(tt):{baseLanes:lt.baseLanes|tt,cachePool:null,transitions:lt.transitions},it.memoizedState=lt,it.childLanes=_e.childLanes&~tt,et.memoizedState=nj,nt}return it=_e.child,_e=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=tt),nt.return=et,nt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=nt,et.memoizedState=null,nt}function rj(_e,et){return et=qj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function tj(_e,et,tt,nt){return nt!==null&&Jg(nt),Bh(et,_e.child,null,tt),_e=rj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function sj(_e,et,tt,nt,ot,it,lt){if(tt)return et.flags&256?(et.flags&=-257,nt=Li(Error(p$5(422))),tj(_e,et,lt,nt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=nt.fallback,ot=et.mode,nt=qj({mode:"visible",children:nt.children},ot,0,null),it=Ah(it,ot,lt,null),it.flags|=2,nt.return=et,it.return=et,nt.sibling=it,et.child=nt,et.mode&1&&Bh(et,_e.child,null,lt),et.child.memoizedState=oj(lt),et.memoizedState=nj,it);if(!(et.mode&1))return tj(_e,et,lt,null);if(ot.data==="$!"){if(nt=ot.nextSibling&&ot.nextSibling.dataset,nt)var at=nt.dgst;return nt=at,it=Error(p$5(419)),nt=Li(it,nt,void 0),tj(_e,et,lt,nt)}if(at=(lt&_e.childLanes)!==0,Ug||at){if(nt=R$1,nt!==null){switch(lt&-lt){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}ot=ot&(nt.suspendedLanes|lt)?0:ot,ot!==0&&ot!==it.retryLane&&(it.retryLane=ot,Zg(_e,ot),mh(nt,_e,ot,-1))}return uj(),nt=Li(Error(p$5(421))),tj(_e,et,lt,nt)}return ot.data==="$?"?(et.flags|=128,et.child=_e.child,et=vj.bind(null,_e),ot._reactRetry=et,null):(_e=it.treeContext,yg=Lf(ot.nextSibling),xg=et,I$3=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=rj(et,nt.children),et.flags|=4096,et)}function wj(_e,et,tt){_e.lanes|=et;var nt=_e.alternate;nt!==null&&(nt.lanes|=et),Sg(_e.return,et,tt)}function xj(_e,et,tt,nt,ot){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:ot}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=ot)}function yj(_e,et,tt){var nt=et.pendingProps,ot=nt.revealOrder,it=nt.tail;if(Yi(_e,et,nt.children,tt),nt=M$4.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,tt,et);else if(_e.tag===19)wj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$1(M$4,nt),!(et.mode&1))et.memoizedState=null;else switch(ot){case"forwards":for(tt=et.child,ot=null;tt!==null;)_e=tt.alternate,_e!==null&&Mh(_e)===null&&(ot=tt),tt=tt.sibling;tt=ot,tt===null?(ot=et.child,et.child=null):(ot=tt.sibling,tt.sibling=null),xj(et,!1,ot,tt,it);break;case"backwards":for(tt=null,ot=et.child,et.child=null;ot!==null;){if(_e=ot.alternate,_e!==null&&Mh(_e)===null){et.child=ot;break}_e=ot.sibling,ot.sibling=tt,tt=ot,ot=_e}xj(et,!0,tt,null,it);break;case"together":xj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function jj(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function $i(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),hh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$5(153));if(et.child!==null){for(_e=et.child,tt=wh(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=wh(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function zj(_e,et,tt){switch(et.tag){case 3:lj(et),Ig();break;case 5:Kh(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:Ih(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,ot=et.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=ot;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$4,M$4.current&1),et.flags|=128,null):tt&et.child.childLanes?pj(_e,et,tt):(G$1(M$4,M$4.current&1),_e=$i(_e,et,tt),_e!==null?_e.sibling:null);G$1(M$4,M$4.current&1);break;case 19:if(nt=(tt&et.childLanes)!==0,_e.flags&128){if(nt)return yj(_e,et,tt);et.flags|=128}if(ot=et.memoizedState,ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),G$1(M$4,M$4.current),nt)break;return null;case 22:case 23:return et.lanes=0,ej(_e,et,tt)}return $i(_e,et,tt)}var Aj,Bj,Cj,Dj;Aj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(_e,et,tt,nt){var ot=_e.memoizedProps;if(ot!==nt){_e=et.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":ot=Ya(_e,ot),nt=Ya(_e,nt),it=[];break;case"select":ot=A$2({},ot,{value:void 0}),nt=A$2({},nt,{value:void 0}),it=[];break;case"textarea":ot=gb(_e,ot),nt=gb(_e,nt),it=[];break;default:typeof ot.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,nt);var lt;tt=null;for(ut in ot)if(!nt.hasOwnProperty(ut)&&ot.hasOwnProperty(ut)&&ot[ut]!=null)if(ut==="style"){var at=ot[ut];for(lt in at)at.hasOwnProperty(lt)&&(tt||(tt={}),tt[lt]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?it||(it=[]):(it=it||[]).push(ut,null));for(ut in nt){var st=nt[ut];if(at=ot!=null?ot[ut]:void 0,nt.hasOwnProperty(ut)&&st!==at&&(st!=null||at!=null))if(ut==="style")if(at){for(lt in at)!at.hasOwnProperty(lt)||st&&st.hasOwnProperty(lt)||(tt||(tt={}),tt[lt]="");for(lt in st)st.hasOwnProperty(lt)&&at[lt]!==st[lt]&&(tt||(tt={}),tt[lt]=st[lt])}else tt||(it||(it=[]),it.push(ut,tt)),tt=st;else ut==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,at=at?at.__html:void 0,st!=null&&at!==st&&(it=it||[]).push(ut,st)):ut==="children"?typeof st!="string"&&typeof st!="number"||(it=it||[]).push(ut,""+st):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(st!=null&&ut==="onScroll"&&D$2("scroll",_e),it||at===st||(it=[])):(it=it||[]).push(ut,st))}tt&&(it=it||[]).push("style",tt);var ut=it;(et.updateQueue=ut)&&(et.flags|=4)}};Dj=function(_e,et,tt,nt){tt!==nt&&(et.flags|=4)};function Ej(_e,et){if(!I$3)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$2(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,nt=0;if(et)for(var ot=_e.child;ot!==null;)tt|=ot.lanes|ot.childLanes,nt|=ot.subtreeFlags&14680064,nt|=ot.flags&14680064,ot.return=_e,ot=ot.sibling;else for(ot=_e.child;ot!==null;)tt|=ot.lanes|ot.childLanes,nt|=ot.subtreeFlags,nt|=ot.flags,ot.return=_e,ot=ot.sibling;return _e.subtreeFlags|=nt,_e.childLanes=tt,et}function Fj(_e,et,tt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(et),null;case 1:return Zf(et.type)&&$f(),S$2(et),null;case 3:return nt=et.stateNode,Jh(),E$2(Wf),E$2(H$3),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,et),S$2(et),null;case 5:Lh(et);var ot=Hh(Gh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Cj(_e,et,tt,nt,ot),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$5(166));return S$2(et),null}if(_e=Hh(Eh.current),Gg(et)){nt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=it,_e=(et.mode&1)!==0,tt){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,it),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,it),D$2("invalid",nt)}ub(tt,it),ot=null;for(var lt in it)if(it.hasOwnProperty(lt)){var at=it[lt];lt==="children"?typeof at=="string"?nt.textContent!==at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,_e),ot=["children",at]):typeof at=="number"&&nt.textContent!==""+at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,_e),ot=["children",""+at]):ea.hasOwnProperty(lt)&&at!=null&&lt==="onScroll"&&D$2("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=ot,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{lt=ot.nodeType===9?ot:ot.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=lt.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=lt.createElement(tt,{is:nt.is}):(_e=lt.createElement(tt),tt==="select"&&(lt=_e,nt.multiple?lt.multiple=!0:nt.size&&(lt.size=nt.size))):_e=lt.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=nt,Aj(_e,et,!1,!1),et.stateNode=_e;e:{switch(lt=vb(tt,nt),tt){case"dialog":D$2("cancel",_e),D$2("close",_e),ot=nt;break;case"iframe":case"object":case"embed":D$2("load",_e),ot=nt;break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],_e);ot=nt;break;case"source":D$2("error",_e),ot=nt;break;case"img":case"image":case"link":D$2("error",_e),D$2("load",_e),ot=nt;break;case"details":D$2("toggle",_e),ot=nt;break;case"input":Za(_e,nt),ot=Ya(_e,nt),D$2("invalid",_e);break;case"option":ot=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},ot=A$2({},nt,{value:void 0}),D$2("invalid",_e);break;case"textarea":hb(_e,nt),ot=gb(_e,nt),D$2("invalid",_e);break;default:ot=nt}ub(tt,ot),at=ot;for(it in at)if(at.hasOwnProperty(it)){var st=at[it];it==="style"?sb(_e,st):it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(_e,st)):it==="children"?typeof st=="string"?(tt!=="textarea"||st!=="")&&ob(_e,st):typeof st=="number"&&ob(_e,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?st!=null&&it==="onScroll"&&D$2("scroll",_e):st!=null&&ta(_e,it,st,lt))}switch(tt){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof ot.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$2(et),null;case 6:if(_e&&et.stateNode!=null)Dj(_e,et,_e.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$5(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(et)){if(nt=et.stateNode,tt=et.memoizedProps,nt[Of]=et,(it=nt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$2(et),null;case 13:if(E$2(M$4),nt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$5(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$5(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$2(et),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(_e===null||M$4.current&1?T$1===0&&(T$1=3):uj())),et.updateQueue!==null&&(et.flags|=4),S$2(et),null);case 4:return Jh(),Bj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$2(et),null;case 10:return Rg(et.type._context),S$2(et),null;case 17:return Zf(et.type)&&$f(),S$2(et),null;case 19:if(E$2(M$4),it=et.memoizedState,it===null)return S$2(et),null;if(nt=(et.flags&128)!==0,lt=it.rendering,lt===null)if(nt)Ej(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(lt=Mh(_e),lt!==null){for(et.flags|=128,Ej(it,!1),nt=lt.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=tt,tt=et.child;tt!==null;)it=tt,_e=nt,it.flags&=14680066,lt=it.alternate,lt===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=lt.childLanes,it.lanes=lt.lanes,it.child=lt.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=lt.memoizedProps,it.memoizedState=lt.memoizedState,it.updateQueue=lt.updateQueue,it.type=lt.type,_e=lt.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G$1(M$4,M$4.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$1()>Hj&&(et.flags|=128,nt=!0,Ej(it,!1),et.lanes=4194304)}else{if(!nt)if(_e=Mh(lt),_e!==null){if(et.flags|=128,nt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!lt.alternate&&!I$3)return S$2(et),null}else 2*B$1()-it.renderingStartTime>Hj&&tt!==1073741824&&(et.flags|=128,nt=!0,Ej(it,!1),et.lanes=4194304);it.isBackwards?(lt.sibling=et.child,et.child=lt):(tt=it.last,tt!==null?tt.sibling=lt:et.child=lt,it.last=lt)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$1(),et.sibling=null,tt=M$4.current,G$1(M$4,nt?tt&1|2:tt&1),et):(S$2(et),null);case 22:case 23:return Ij(),nt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?gj&1073741824&&(S$2(et),et.subtreeFlags&6&&(et.flags|=8192)):S$2(et),null;case 24:return null;case 25:return null}throw Error(p$5(156,et.tag))}function Jj(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return Jh(),E$2(Wf),E$2(H$3),Oh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Lh(et),null;case 13:if(E$2(M$4),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$5(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$2(M$4),null;case 4:return Jh(),null;case 10:return Rg(et.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$1(_e,et,nt)}else tt.current=null}function Nj(_e,et,tt){try{tt()}catch(nt){W$1(_e,et,nt)}}var Oj=!1;function Pj(_e,et){if(Cf=dd,_e=Me$1(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var ot=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var lt=0,at=-1,st=-1,ut=0,ct=0,ft=_e,dt=null;t:for(;;){for(var ht;ft!==tt||ot!==0&&ft.nodeType!==3||(at=lt+ot),ft!==it||nt!==0&&ft.nodeType!==3||(st=lt+nt),ft.nodeType===3&&(lt+=ft.nodeValue.length),(ht=ft.firstChild)!==null;)dt=ft,ft=ht;for(;;){if(ft===_e)break t;if(dt===tt&&++ut===ot&&(at=lt),dt===it&&++ct===nt&&(st=lt),(ht=ft.nextSibling)!==null)break;ft=dt,dt=ft.parentNode}ft=ht}tt=at===-1||st===-1?null:{start:at,end:st}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V=et;V!==null;)if(et=V,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V=_e;else for(;V!==null;){et=V;try{var gt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var yt=gt.memoizedProps,Et=gt.memoizedState,mt=et.stateNode,_t=mt.getSnapshotBeforeUpdate(et.elementType===et.type?yt:Lg(et.type,yt),Et);mt.__reactInternalSnapshotBeforeUpdate=_t}break;case 3:var pt=et.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(wt){W$1(et,et.return,wt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V=_e;break}V=et.return}return gt=Oj,Oj=!1,gt}function Qj(_e,et,tt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var ot=nt=nt.next;do{if((ot.tag&_e)===_e){var it=ot.destroy;ot.destroy=void 0,it!==void 0&&Nj(et,tt,it)}ot=ot.next}while(ot!==nt)}}function Rj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==et)}}function Sj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Tj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Tj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}function Xj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,et,tt),_e=_e.sibling;_e!==null;)Xj(_e,et,tt),_e=_e.sibling}var X$2=null,Yj=!1;function Zj(_e,et,tt){for(tt=tt.child;tt!==null;)ak(_e,et,tt),tt=tt.sibling}function ak(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,et);case 6:var nt=X$2,ot=Yj;X$2=null,Zj(_e,et,tt),X$2=nt,Yj=ot,X$2!==null&&(Yj?(_e=X$2,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X$2.removeChild(tt.stateNode));break;case 18:X$2!==null&&(Yj?(_e=X$2,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X$2,tt.stateNode));break;case 4:nt=X$2,ot=Yj,X$2=tt.stateNode.containerInfo,Yj=!0,Zj(_e,et,tt),X$2=nt,Yj=ot;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){ot=nt=nt.next;do{var it=ot,lt=it.destroy;it=it.tag,lt!==void 0&&(it&2||it&4)&&Nj(tt,et,lt),ot=ot.next}while(ot!==nt)}Zj(_e,et,tt);break;case 1:if(!U$1&&(Mj(tt,et),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(at){W$1(tt,et,at)}Zj(_e,et,tt);break;case 21:Zj(_e,et,tt);break;case 22:tt.mode&1?(U$1=(nt=U$1)||tt.memoizedState!==null,Zj(_e,et,tt),U$1=nt):Zj(_e,et,tt);break;default:Zj(_e,et,tt)}}function bk(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Lj),et.forEach(function(nt){var ot=ck.bind(null,_e,nt);tt.has(nt)||(tt.add(nt),nt.then(ot,ot))})}}function dk(_e,et){var tt=et.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var ot=tt[nt];try{var it=_e,lt=et,at=lt;e:for(;at!==null;){switch(at.tag){case 5:X$2=at.stateNode,Yj=!1;break e;case 3:X$2=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$2===null)throw Error(p$5(160));ak(it,lt,ot),X$2=null,Yj=!1;var st=ot.alternate;st!==null&&(st.return=null),ot.return=null}catch(ut){W$1(ot,et,ut)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)ek(et,_e),et=et.sibling}function ek(_e,et){var tt=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(et,_e),fk(_e),nt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(yt){W$1(_e,_e.return,yt)}try{Qj(5,_e,_e.return)}catch(yt){W$1(_e,_e.return,yt)}}break;case 1:dk(et,_e),fk(_e),nt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(et,_e),fk(_e),nt&512&&tt!==null&&Mj(tt,tt.return),_e.flags&32){var ot=_e.stateNode;try{ob(ot,"")}catch(yt){W$1(_e,_e.return,yt)}}if(nt&4&&(ot=_e.stateNode,ot!=null)){var it=_e.memoizedProps,lt=tt!==null?tt.memoizedProps:it,at=_e.type,st=_e.updateQueue;if(_e.updateQueue=null,st!==null)try{at==="input"&&it.type==="radio"&&it.name!=null&&ab(ot,it),vb(at,lt);var ut=vb(at,it);for(lt=0;lt<st.length;lt+=2){var ct=st[lt],ft=st[lt+1];ct==="style"?sb(ot,ft):ct==="dangerouslySetInnerHTML"?nb(ot,ft):ct==="children"?ob(ot,ft):ta(ot,ct,ft,ut)}switch(at){case"input":bb(ot,it);break;case"textarea":ib(ot,it);break;case"select":var dt=ot._wrapperState.wasMultiple;ot._wrapperState.wasMultiple=!!it.multiple;var ht=it.value;ht!=null?fb(ot,!!it.multiple,ht,!1):dt!==!!it.multiple&&(it.defaultValue!=null?fb(ot,!!it.multiple,it.defaultValue,!0):fb(ot,!!it.multiple,it.multiple?[]:"",!1))}ot[Pf]=it}catch(yt){W$1(_e,_e.return,yt)}}break;case 6:if(dk(et,_e),fk(_e),nt&4){if(_e.stateNode===null)throw Error(p$5(162));ot=_e.stateNode,it=_e.memoizedProps;try{ot.nodeValue=it}catch(yt){W$1(_e,_e.return,yt)}}break;case 3:if(dk(et,_e),fk(_e),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(yt){W$1(_e,_e.return,yt)}break;case 4:dk(et,_e),fk(_e);break;case 13:dk(et,_e),fk(_e),ot=_e.child,ot.flags&8192&&(it=ot.memoizedState!==null,ot.stateNode.isHidden=it,!it||ot.alternate!==null&&ot.alternate.memoizedState!==null||(gk=B$1())),nt&4&&bk(_e);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U$1=(ut=U$1)||ct,dk(et,_e),U$1=ut):dk(et,_e),fk(_e),nt&8192){if(ut=_e.memoizedState!==null,(_e.stateNode.isHidden=ut)&&!ct&&_e.mode&1)for(V=_e,ct=_e.child;ct!==null;){for(ft=V=ct;V!==null;){switch(dt=V,ht=dt.child,dt.tag){case 0:case 11:case 14:case 15:Qj(4,dt,dt.return);break;case 1:Mj(dt,dt.return);var gt=dt.stateNode;if(typeof gt.componentWillUnmount=="function"){nt=dt,tt=dt.return;try{et=nt,gt.props=et.memoizedProps,gt.state=et.memoizedState,gt.componentWillUnmount()}catch(yt){W$1(nt,tt,yt)}}break;case 5:Mj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){hk(ft);continue}}ht!==null?(ht.return=dt,V=ht):hk(ft)}ct=ct.sibling}e:for(ct=null,ft=_e;;){if(ft.tag===5){if(ct===null){ct=ft;try{ot=ft.stateNode,ut?(it=ot.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(at=ft.stateNode,st=ft.memoizedProps.style,lt=st!=null&&st.hasOwnProperty("display")?st.display:null,at.style.display=rb("display",lt))}catch(yt){W$1(_e,_e.return,yt)}}}else if(ft.tag===6){if(ct===null)try{ft.stateNode.nodeValue=ut?"":ft.memoizedProps}catch(yt){W$1(_e,_e.return,yt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===_e)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===_e)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===_e)break e;ct===ft&&(ct=null),ft=ft.return}ct===ft&&(ct=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:dk(et,_e),fk(_e),nt&4&&bk(_e);break;case 21:break;default:dk(et,_e),fk(_e)}}function fk(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Uj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$5(160))}switch(nt.tag){case 5:var ot=nt.stateNode;nt.flags&32&&(ob(ot,""),nt.flags&=-33);var it=Vj(_e);Xj(_e,it,ot);break;case 3:case 4:var lt=nt.stateNode.containerInfo,at=Vj(_e);Wj(_e,at,lt);break;default:throw Error(p$5(161))}}catch(st){W$1(_e,_e.return,st)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function ik(_e,et,tt){V=_e,jk(_e)}function jk(_e,et,tt){for(var nt=(_e.mode&1)!==0;V!==null;){var ot=V,it=ot.child;if(ot.tag===22&&nt){var lt=ot.memoizedState!==null||Kj;if(!lt){var at=ot.alternate,st=at!==null&&at.memoizedState!==null||U$1;at=Kj;var ut=U$1;if(Kj=lt,(U$1=st)&&!ut)for(V=ot;V!==null;)lt=V,st=lt.child,lt.tag===22&&lt.memoizedState!==null?kk(ot):st!==null?(st.return=lt,V=st):kk(ot);for(;it!==null;)V=it,jk(it),it=it.sibling;V=ot,Kj=at,U$1=ut}lk(_e)}else ot.subtreeFlags&8772&&it!==null?(it.return=ot,V=it):lk(_e)}}function lk(_e){for(;V!==null;){var et=V;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Rj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$1)if(tt===null)nt.componentDidMount();else{var ot=et.elementType===et.type?tt.memoizedProps:Lg(et.type,tt.memoizedProps);nt.componentDidUpdate(ot,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&ih(et,it,nt);break;case 3:var lt=et.updateQueue;if(lt!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}ih(et,lt,tt)}break;case 5:var at=et.stateNode;if(tt===null&&et.flags&4){tt=at;var st=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&tt.focus();break;case"img":st.src&&(tt.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ut=et.alternate;if(ut!==null){var ct=ut.memoizedState;if(ct!==null){var ft=ct.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$1||et.flags&512&&Sj(et)}catch(dt){W$1(et,et.return,dt)}}if(et===_e){V=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function hk(_e){for(;V!==null;){var et=V;if(et===_e){V=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function kk(_e){for(;V!==null;){var et=V;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Rj(4,et)}catch(st){W$1(et,tt,st)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var ot=et.return;try{nt.componentDidMount()}catch(st){W$1(et,ot,st)}}var it=et.return;try{Sj(et)}catch(st){W$1(et,it,st)}break;case 5:var lt=et.return;try{Sj(et)}catch(st){W$1(et,lt,st)}}}catch(st){W$1(et,et.return,st)}if(et===_e){V=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V=at;break}V=et.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$3(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,et,tt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(_e,tt,nt),(!(K&2)||_e!==R$1)&&(_e===R$1&&(!(K&2)&&(rk|=tt),T$1===4&&Dk(_e,Z$1)),Ek(_e,nt),tt===1&&K===0&&!(et.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,et){var tt=_e.callbackNode;wc(_e,et);var nt=uc(_e,_e===R$1?Z$1:0);if(nt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=nt&-nt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Hk(_e,et){if(Bk=-1,Ck=0,K&6)throw Error(p$5(327));var tt=_e.callbackNode;if(Ik()&&_e.callbackNode!==tt)return null;var nt=uc(_e,_e===R$1?Z$1:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||et)et=Jk(_e,nt);else{et=nt;var ot=K;K|=2;var it=Kk();(R$1!==_e||Z$1!==et)&&(vk=null,Hj=B$1()+500,Lk(_e,et));do try{Mk();break}catch(at){Nk(_e,at)}while(1);Qg(),nk.current=it,K=ot,Y!==null?et=0:(R$1=null,Z$1=0,et=T$1)}if(et!==0){if(et===2&&(ot=xc(_e),ot!==0&&(nt=ot,et=Ok(_e,ot))),et===1)throw tt=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),tt;if(et===6)Dk(_e,nt);else{if(ot=_e.current.alternate,!(nt&30)&&!Pk(ot)&&(et=Jk(_e,nt),et===2&&(it=xc(_e),it!==0&&(nt=it,et=Ok(_e,it))),et===1))throw tt=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),tt;switch(_e.finishedWork=ot,_e.finishedLanes=nt,et){case 0:case 1:throw Error(p$5(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,nt),(nt&130023424)===nt&&(et=gk+500-B$1(),10<et)){if(uc(_e,0)!==0)break;if(ot=_e.suspendedLanes,(ot&nt)!==nt){L$3(),_e.pingedLanes|=_e.suspendedLanes&ot;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),et);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,nt),(nt&4194240)===nt)break;for(et=_e.eventTimes,ot=-1;0<nt;){var lt=31-oc(nt);it=1<<lt,lt=et[lt],lt>ot&&(ot=lt),nt&=~it}if(nt=ot,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),nt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(_e,B$1()),_e.callbackNode===tt?Hk.bind(null,_e):null}function Ok(_e,et){var tt=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,et).flags|=256),_e=Jk(_e,et),_e!==2&&(et=uk,uk=tt,et!==null&&Gj(et)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var ot=tt[nt],it=ot.getSnapshot;ot=ot.value;try{if(!He(it(),ot))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Dk(_e,et){for(et&=~sk,et&=~rk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),nt=1<<tt;_e[tt]=-1,et&=~nt}}function Fk(_e){if(K&6)throw Error(p$5(327));Ik();var et=uc(_e,0);if(!(et&1))return Ek(_e,B$1()),null;var tt=Jk(_e,et);if(_e.tag!==0&&tt===2){var nt=xc(_e);nt!==0&&(et=nt,tt=Ok(_e,nt))}if(tt===1)throw tt=qk,Lk(_e,0),Dk(_e,et),Ek(_e,B$1()),tt;if(tt===6)throw Error(p$5(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,et){var tt=K;K|=1;try{return _e(et)}finally{K=tt,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var et=K;K|=1;var tt=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=nt,pk.transition=tt,K=et,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y!==null)for(tt=Y.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$3),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$4);break;case 19:E$2(M$4);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$1=_e,Y=_e=wh(_e.current,null),Z$1=gj=et,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(et=0;et<Wg.length;et++)if(tt=Wg[et],nt=tt.interleaved,nt!==null){tt.interleaved=null;var ot=nt.next,it=tt.pending;if(it!==null){var lt=it.next;it.next=ot,nt.next=lt}tt.pending=nt}Wg=null}return _e}function Nk(_e,et){do{var tt=Y;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$3.memoizedState;nt!==null;){var ot=nt.queue;ot!==null&&(ot.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$2=O$2=N$3=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$1=1,qk=et,Y=null;break}e:{var it=_e,lt=tt.return,at=tt,st=et;if(et=Z$1,at.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ut=st,ct=at,ft=ct.tag;if(!(ct.mode&1)&&(ft===0||ft===11||ft===15)){var dt=ct.alternate;dt?(ct.updateQueue=dt.updateQueue,ct.memoizedState=dt.memoizedState,ct.lanes=dt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ht=Vi(lt);if(ht!==null){ht.flags&=-257,Wi(ht,lt,at,it,et),ht.mode&1&&Ti(it,ut,et),et=ht,st=ut;var gt=et.updateQueue;if(gt===null){var yt=new Set;yt.add(st),et.updateQueue=yt}else gt.add(st);break e}else{if(!(et&1)){Ti(it,ut,et),uj();break e}st=Error(p$5(426))}}else if(I$3&&at.mode&1){var Et=Vi(lt);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Wi(Et,lt,at,it,et),Jg(Ki(st,at));break e}}it=st=Ki(st,at),T$1!==4&&(T$1=2),tk===null?tk=[it]:tk.push(it),it=lt;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var mt=Oi(it,st,et);fh(it,mt);break e;case 1:at=st;var _t=it.type,pt=it.stateNode;if(!(it.flags&128)&&(typeof _t.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Si===null||!Si.has(pt)))){it.flags|=65536,et&=-et,it.lanes|=et;var wt=Ri(it,at,et);fh(it,wt);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(vt){et=vt,Y===tt&&tt!==null&&(Y=tt=tt.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(_e,et){var tt=K;K|=2;var nt=Kk();(R$1!==_e||Z$1!==et)&&(vk=null,Lk(_e,et));do try{Uk();break}catch(ot){Nk(_e,ot)}while(1);if(Qg(),K=tt,nk.current=nt,Y!==null)throw Error(p$5(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var et=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,et===null?Tk(_e):Y=et,ok.current=null}function Tk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Jj(tt,et),tt!==null){tt.flags&=32767,Y=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y=null;return}}else if(tt=Fj(tt,et,gj),tt!==null){Y=tt;return}if(et=et.sibling,et!==null){Y=et;return}Y=et=_e}while(et!==null);T$1===0&&(T$1=5)}function Qk(_e,et,tt){var nt=C$1,ot=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,et,tt,nt)}finally{pk.transition=ot,C$1=nt}return null}function Xk(_e,et,tt,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$5(327));tt=_e.finishedWork;var ot=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$5(177));_e.callbackNode=null,_e.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(_e,it),_e===R$1&&(Y=R$1=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var lt=C$1;C$1=1;var at=K;K|=4,ok.current=null,Pj(_e,tt),ek(tt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,ik(tt),dc(),K=at,C$1=lt,pk.transition=it}else _e.current=tt;if(wk&&(wk=!1,xk=_e,yk=ot),it=_e.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(_e,B$1()),et!==null)for(nt=_e.onRecoverableError,tt=0;tt<et.length;tt++)ot=et[tt],nt(ot.value,{componentStack:ot.stack,digest:ot.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),et=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var nt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$5(331));var ot=K;for(K|=4,V=_e.current;V!==null;){var it=V,lt=it.child;if(V.flags&16){var at=it.deletions;if(at!==null){for(var st=0;st<at.length;st++){var ut=at[st];for(V=ut;V!==null;){var ct=V;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,it)}var ft=ct.child;if(ft!==null)ft.return=ct,V=ft;else for(;V!==null;){ct=V;var dt=ct.sibling,ht=ct.return;if(Tj(ct),ct===ut){V=null;break}if(dt!==null){dt.return=ht,V=dt;break}V=ht}}}var gt=it.alternate;if(gt!==null){var yt=gt.child;if(yt!==null){gt.child=null;do{var Et=yt.sibling;yt.sibling=null,yt=Et}while(yt!==null)}}V=it}}if(it.subtreeFlags&2064&&lt!==null)lt.return=it,V=lt;else e:for(;V!==null;){if(it=V,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var mt=it.sibling;if(mt!==null){mt.return=it.return,V=mt;break e}V=it.return}}var _t=_e.current;for(V=_t;V!==null;){lt=V;var pt=lt.child;if(lt.subtreeFlags&2064&&pt!==null)pt.return=lt,V=pt;else e:for(lt=_t;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(vt){W$1(at,at.return,vt)}if(at===lt){V=null;break e}var wt=at.sibling;if(wt!==null){wt.return=at.return,V=wt;break e}V=at.return}}if(K=ot,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$1=tt,pk.transition=et}}return!1}function Yk(_e,et,tt){et=Ki(tt,et),et=Oi(_e,et,1),_e=dh(_e,et,1),et=L$3(),_e!==null&&(Ac(_e,1,et),Ek(_e,et))}function W$1(_e,et,tt){if(_e.tag===3)Yk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Yk(et,_e,tt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){_e=Ki(tt,_e),_e=Ri(et,_e,1),et=dh(et,_e,1),_e=L$3(),et!==null&&(Ac(et,1,_e),Ek(et,_e));break}}et=et.return}}function Ui(_e,et,tt){var nt=_e.pingCache;nt!==null&&nt.delete(et),et=L$3(),_e.pingedLanes|=_e.suspendedLanes&tt,R$1===_e&&(Z$1&tt)===tt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(_e,0):sk|=tt),Ek(_e,et)}function Zk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=L$3();_e=Zg(_e,et),_e!==null&&(Ac(_e,et,tt),Ek(_e,tt))}function vj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Zk(_e,tt)}function ck(_e,et){var tt=0;switch(_e.tag){case 13:var nt=_e.stateNode,ot=_e.memoizedState;ot!==null&&(tt=ot.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$5(314))}nt!==null&&nt.delete(et),Zk(_e,tt)}var Wk;Wk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return Ug=!1,zj(_e,et,tt);Ug=!!(_e.flags&131072)}else Ug=!1,I$3&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;jj(_e,et),_e=et.pendingProps;var ot=Yf(et,H$3.current);Tg(et,tt),ot=Xh(null,et,nt,_e,ot,tt);var it=bi();return et.flags|=1,typeof ot=="object"&&ot!==null&&typeof ot.render=="function"&&ot.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(it=!0,cg(et)):it=!1,et.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,ah(et),ot.updater=nh,et.stateNode=ot,ot._reactInternals=et,rh(et,nt,_e,tt),et=kj(null,et,nt,!0,it,tt)):(et.tag=0,I$3&&it&&vg(et),Yi(null,et,ot,tt),et=et.child),et;case 16:nt=et.elementType;e:{switch(jj(_e,et),_e=et.pendingProps,ot=nt._init,nt=ot(nt._payload),et.type=nt,ot=et.tag=$k(nt),_e=Lg(nt,_e),ot){case 0:et=dj(null,et,nt,_e,tt);break e;case 1:et=ij(null,et,nt,_e,tt);break e;case 11:et=Zi(null,et,nt,_e,tt);break e;case 14:et=aj(null,et,nt,Lg(nt.type,_e),tt);break e}throw Error(p$5(306,nt,""))}return et;case 0:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Lg(nt,ot),dj(_e,et,nt,ot,tt);case 1:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Lg(nt,ot),ij(_e,et,nt,ot,tt);case 3:e:{if(lj(et),_e===null)throw Error(p$5(387));nt=et.pendingProps,it=et.memoizedState,ot=it.element,bh(_e,et),gh(et,nt,null,tt);var lt=et.memoizedState;if(nt=lt.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:lt.cache,pendingSuspenseBoundaries:lt.pendingSuspenseBoundaries,transitions:lt.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){ot=Ki(Error(p$5(423)),et),et=mj(_e,et,nt,tt,ot);break e}else if(nt!==ot){ot=Ki(Error(p$5(424)),et),et=mj(_e,et,nt,tt,ot);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$3=!0,zg=null,tt=Ch(et,null,nt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===ot){et=$i(_e,et,tt);break e}Yi(_e,et,nt,tt)}et=et.child}return et;case 5:return Kh(et),_e===null&&Eg(et),nt=et.type,ot=et.pendingProps,it=_e!==null?_e.memoizedProps:null,lt=ot.children,Ef(nt,ot)?lt=null:it!==null&&Ef(nt,it)&&(et.flags|=32),hj(_e,et),Yi(_e,et,lt,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return pj(_e,et,tt);case 4:return Ih(et,et.stateNode.containerInfo),nt=et.pendingProps,_e===null?et.child=Bh(et,null,nt,tt):Yi(_e,et,nt,tt),et.child;case 11:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Lg(nt,ot),Zi(_e,et,nt,ot,tt);case 7:return Yi(_e,et,et.pendingProps,tt),et.child;case 8:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(nt=et.type._context,ot=et.pendingProps,it=et.memoizedProps,lt=ot.value,G$1(Mg,nt._currentValue),nt._currentValue=lt,it!==null)if(He(it.value,lt)){if(it.children===ot.children&&!Wf.current){et=$i(_e,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var at=it.dependencies;if(at!==null){lt=it.child;for(var st=at.firstContext;st!==null;){if(st.context===nt){if(it.tag===1){st=ch(-1,tt&-tt),st.tag=2;var ut=it.updateQueue;if(ut!==null){ut=ut.shared;var ct=ut.pending;ct===null?st.next=st:(st.next=ct.next,ct.next=st),ut.pending=st}}it.lanes|=tt,st=it.alternate,st!==null&&(st.lanes|=tt),Sg(it.return,tt,et),at.lanes|=tt;break}st=st.next}}else if(it.tag===10)lt=it.type===et.type?null:it.child;else if(it.tag===18){if(lt=it.return,lt===null)throw Error(p$5(341));lt.lanes|=tt,at=lt.alternate,at!==null&&(at.lanes|=tt),Sg(lt,tt,et),lt=it.sibling}else lt=it.child;if(lt!==null)lt.return=it;else for(lt=it;lt!==null;){if(lt===et){lt=null;break}if(it=lt.sibling,it!==null){it.return=lt.return,lt=it;break}lt=lt.return}it=lt}Yi(_e,et,ot.children,tt),et=et.child}return et;case 9:return ot=et.type,nt=et.pendingProps.children,Tg(et,tt),ot=Vg(ot),nt=nt(ot),et.flags|=1,Yi(_e,et,nt,tt),et.child;case 14:return nt=et.type,ot=Lg(nt,et.pendingProps),ot=Lg(nt.type,ot),aj(_e,et,nt,ot,tt);case 15:return cj(_e,et,et.type,et.pendingProps,tt);case 17:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Lg(nt,ot),jj(_e,et),et.tag=1,Zf(nt)?(_e=!0,cg(et)):_e=!1,Tg(et,tt),ph(et,nt,ot),rh(et,nt,ot,tt),kj(null,et,nt,!0,_e,tt);case 19:return yj(_e,et,tt);case 22:return ej(_e,et,tt)}throw Error(p$5(156,et.tag))};function Gk(_e,et){return ac(_e,et)}function al(_e,et,tt,nt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,nt){return new al(_e,et,tt,nt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function yh(_e,et,tt,nt,ot,it){var lt=2;if(nt=_e,typeof _e=="function")bj(_e)&&(lt=1);else if(typeof _e=="string")lt=5;else e:switch(_e){case ya:return Ah(tt.children,ot,it,et);case za:lt=8,ot|=8;break;case Aa:return _e=Bg(12,tt,et,ot|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,tt,et,ot),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,tt,et,ot),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(tt,ot,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:lt=10;break e;case Ca:lt=9;break e;case Da:lt=11;break e;case Ga:lt=14;break e;case Ha:lt=16,nt=null;break e}throw Error(p$5(130,_e==null?_e:typeof _e,""))}return et=Bg(lt,tt,et,ot),et.elementType=_e,et.type=nt,et.lanes=it,et}function Ah(_e,et,tt,nt){return _e=Bg(7,_e,nt,et),_e.lanes=tt,_e}function qj(_e,et,tt,nt){return _e=Bg(22,_e,nt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function xh(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function zh(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function bl(_e,et,tt,nt,ot){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=ot,this.mutableSourceEagerHydrationData=null}function cl(_e,et,tt,nt,ot,it,lt,at,st){return _e=new bl(_e,et,tt,at,st),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,et,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:et,implementation:tt}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$5(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$5(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function fl(_e,et,tt,nt,ot,it,lt,at,st){return _e=cl(tt,nt,!0,_e,ot,it,lt,at,st),_e.context=el(null),tt=_e.current,nt=L$3(),ot=lh(tt),it=ch(nt,ot),it.callback=et??null,dh(tt,it,ot),_e.current.lanes=ot,Ac(_e,ot,nt),Ek(_e,nt),_e}function gl(_e,et,tt,nt){var ot=et.current,it=L$3(),lt=lh(ot);return tt=el(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=ch(it,lt),et.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),_e=dh(ot,et,lt),_e!==null&&(mh(_e,ot,lt,it),eh(_e,ot,lt)),lt}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function jl(_e,et){il(_e,et),(_e=_e.alternate)&&il(_e,et)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$5(409));gl(_e,et,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),et[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,et,tt,nt,ot){if(ot){if(typeof nt=="function"){var it=nt;nt=function(){var ut=hl(lt);it.call(ut)}}var lt=fl(et,nt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=lt,_e[uf]=lt.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),lt}for(;ot=_e.lastChild;)_e.removeChild(ot);if(typeof nt=="function"){var at=nt;nt=function(){var ut=hl(st);at.call(ut)}}var st=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(et,st,tt,nt)}),st}function sl(_e,et,tt,nt,ot){var it=tt._reactRootContainer;if(it){var lt=it;if(typeof ot=="function"){var at=ot;ot=function(){var st=hl(lt);at.call(st)}}gl(et,lt,_e,ot)}else lt=rl(tt,et,_e,ot,nt);return hl(lt)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Ek(et,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(_e,1);if(nt!==null){var ot=L$3();mh(nt,_e,1,ot)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=Zg(_e,134217728);if(et!==null){var tt=L$3();mh(et,_e,134217728,tt)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=lh(_e),tt=Zg(_e,et);if(tt!==null){var nt=L$3();mh(tt,_e,et,nt)}jl(_e,et)}};Hc=function(){return C$1};Ic=function(_e,et){var tt=C$1;try{return C$1=_e,et()}finally{C$1=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var nt=tt[et];if(nt!==_e&&nt.form===_e.form){var ot=Db(nt);if(!ot)throw Error(p$5(90));Wa(nt),bb(nt,ot)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(et))throw Error(p$5(200));return dl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!ol(_e))throw Error(p$5(299));var tt=!1,nt="",ot=ll;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),et=cl(_e,1,!1,null,null,tt,!1,nt,ot),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$5(188)):(_e=Object.keys(_e).join(","),Error(p$5(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!pl(et))throw Error(p$5(200));return sl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!ol(_e))throw Error(p$5(405));var nt=tt!=null&&tt.hydratedSources||null,ot=!1,it="",lt=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(ot=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(lt=tt.onRecoverableError)),et=fl(et,null,_e,1,tt??null,ot,!1,it,lt),_e[uf]=et.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)tt=nt[_e],ot=tt._getVersion,ot=ot(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,ot]:et.mutableSourceEagerHydrationData.push(tt,ot);return new nl(et)};reactDom_production_min.render=function(_e,et,tt){if(!pl(et))throw Error(p$5(200));return sl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$5(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,nt){if(!pl(tt))throw Error(p$5(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$5(38));return sl(_e,et,tt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_e){function et(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(et)}catch(tt){console.error(tt)}}et(),_e.exports=reactDom_production_min})(reactDom);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;const App$1="";function mean$2(_e){let et=new Array(_e.channels).fill(0);for(let nt=0;nt<_e.height;nt++)for(let ot=0;ot<_e.width;ot++)for(let it=0;it<_e.channels;it++)et[it]+=_e.getValue(ot,nt,it);return et.map(nt=>nt/_e.size)}function validateChannels(_e,et){for(const tt of _e)validateChannel(tt,et)}function validateChannel(_e,et){if(!Number.isInteger(_e)||_e>et.channels||_e<0)throw new RangeError(`invalid channel: ${_e}. It must be a positive integer smaller than ${et.channels+1}`)}function validateValues(_e,et){for(const tt of _e)validateValue(tt,et)}function validateValue(_e,et){if(_e>et.maxValue||_e<0)throw new RangeError(`invalid value: ${_e}. It must be a positive value smaller than ${et.maxValue+1}`)}function validateForComparison(_e,et,tt){if(et.width!==tt.width||et.height!==tt.height)throw new Error(`${_e}: both images must have the same size`);if(et.alpha!==tt.alpha||et.depth!==tt.depth)throw new Error(`${_e}: both images must have the same alpha and depth`);if(et.channels!==tt.channels)throw new Error(`${_e}: both images must have the same number of channels`)}function validateColor(_e,et){validateChannel(_e.length,et),validateValues(_e,et)}function histogram(_e,et={}){let{channel:tt}=et;if(typeof tt!="number"){if(_e.channels!==1)throw new Error("channel option is mandatory for multi-channel images");tt=0}validateChannel(tt,_e);const nt=new Uint32Array(_e.maxValue+1);for(let ot=0;ot<_e.size;ot++)nt[_e.getValueByIndex(ot,tt)]++;return nt}var medianQuickselect_minExports={},medianQuickselect_min={get exports(){return medianQuickselect_minExports},set exports(_e){medianQuickselect_minExports=_e}};(function(_e){(function(){function et(ot){for(var it=0,lt=ot.length-1,at=void 0,st=void 0,ut=void 0,ct=nt(it,lt);;){if(lt<=it)return ot[ct];if(lt==it+1)return ot[it]>ot[lt]&&tt(ot,it,lt),ot[ct];for(at=nt(it,lt),ot[at]>ot[lt]&&tt(ot,at,lt),ot[it]>ot[lt]&&tt(ot,it,lt),ot[at]>ot[it]&&tt(ot,at,it),tt(ot,at,it+1),st=it+1,ut=lt;;){do st++;while(ot[it]>ot[st]);do ut--;while(ot[ut]>ot[it]);if(ut<st)break;tt(ot,st,ut)}tt(ot,it,ut),ut<=ct&&(it=st),ut>=ct&&(lt=ut-1)}}var tt=function(it,lt,at){var st;return st=[it[at],it[lt]],it[lt]=st[0],it[at]=st[1],st},nt=function(it,lt){return~~((it+lt)/2)};_e.exports?_e.exports=et:window.median=et})()})(medianQuickselect_min);const quickMedian=medianQuickselect_minExports;function median$1(_e){let et=new Array(_e.channels).fill(0);for(let tt=0;tt<_e.channels;tt++){const nt=_e.getChannel(tt);et[tt]=quickMedian(nt)}return et}var ssim_webExports={},ssim_web={get exports(){return ssim_webExports},set exports(_e){ssim_webExports=_e}};(function(_e,et){(function(tt,nt){_e.exports=nt()})(self,function(){return(()=>{var tt={132:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.bezkrovnySsim=void 0;var at=lt(490),st=lt(971);function ut(ct,ft,dt){var ht=ct.data,gt=ft.data,yt=dt.bitDepth,Et=dt.k1,mt=dt.k2,_t=Math.pow(2,yt)-1,pt=Math.pow(Et*_t,2),wt=Math.pow(mt*_t,2),vt=at.average(ht),bt=at.average(gt),Rt=at.variance(ht,vt),St=at.variance(gt,bt);return(2*vt*bt+pt)*(2*at.covariance(ht,gt,vt,bt)+wt)/((Math.pow(vt,2)+Math.pow(bt,2)+pt)*(Rt+St+wt))}it.bezkrovnySsim=function(ct,ft,dt){for(var ht=dt.windowSize,gt=Math.ceil(ct.width/ht),yt=Math.ceil(ct.height/ht),Et=new Array(gt*yt),mt=0,_t=0;_t<ct.height;_t+=ht)for(var pt=0;pt<ct.width;pt+=ht){var wt=Math.min(ht,ct.width-pt),vt=Math.min(ht,ct.height-_t),bt=st.sub(ct,pt,vt,_t,wt),Rt=st.sub(ft,pt,vt,_t,wt);Et[mt++]=ut(bt,Rt,dt)}return{data:Et,width:gt,height:yt}}},63:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.defaults=void 0,it.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.downsample=void 0;var at=lt(490),st=lt(971);function ut(ct,ft,dt){var ht=st.imfilter(ct,ft,"symmetric","same");return st.skip2d(ht,[0,dt,ht.height],[0,dt,ht.width])}it.downsample=function(ct,ft){return ft.downsample==="original"?function(dt,ht,gt){gt===void 0&&(gt=256);var yt=Math.min(dt.width,ht.height)/gt,Et=Math.round(yt);if(Et>1){var mt=st.ones(Et);dt=ut(dt,mt=at.divide2d(mt,at.sum2d(mt)),Et),ht=ut(ht,mt,Et)}return[dt,ht]}(ct[0],ct[1],ft.maxSize):ct}},607:function(ot,it,lt){var at=this&&this.__assign||function(){return(at=Object.assign||function(pt){for(var wt,vt=1,bt=arguments.length;vt<bt;vt++)for(var Rt in wt=arguments[vt])Object.prototype.hasOwnProperty.call(wt,Rt)&&(pt[Rt]=wt[Rt]);return pt}).apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=it.getOptions=void 0;var st=lt(971),ut=lt(490),ct=lt(773),ft=lt(595),dt=lt(132),ht=lt(441),gt=lt(63),yt=lt(535),Et={fast:ct.ssim,original:ft.originalSsim,bezkrovny:dt.bezkrovnySsim,weber:yt.weberSsim};function mt(pt){var wt=at(at({},gt.defaults),pt);return function(vt){if(Object.keys(vt).forEach(function(bt){if(!(bt in gt.defaults))throw new Error('"'+bt+'" is not a valid option')}),"k1"in vt&&(typeof vt.k1!="number"||vt.k1<0))throw new Error("Invalid k1 value. Default is "+gt.defaults.k1);if("k2"in vt&&(typeof vt.k2!="number"||vt.k2<0))throw new Error("Invalid k2 value. Default is "+gt.defaults.k2);if(!(vt.ssim in Et))throw new Error("Invalid ssim option (use: "+Object.keys(Et).join(", ")+")")}(wt),wt}function _t(pt,wt,vt){var bt,Rt,St,Ct,xt=new Date().getTime(),$t=function(Mt){var kt=Mt[0],It=Mt[1],Pt=Mt[2];return Et[Pt.ssim](kt,It,Pt)}(function(Mt){var kt=Mt[0],It=Mt[1],Pt=Mt[2],jt=ht.downsample([kt,It],Pt);return[jt[0],jt[1],Pt]}((bt=function(Mt){var kt=Mt[0],It=Mt[1],Pt=Mt[2];if(kt.width!==It.width||kt.height!==It.height)throw new Error("Image dimensions do not match");return[kt,It,Pt]}([pt,wt,mt(vt)]),Rt=bt[0],St=bt[1],(Ct=bt[2]).rgb2grayVersion==="original"?[st.rgb2gray(Rt),st.rgb2gray(St),Ct]:[st.rgb2grayInteger(Rt),st.rgb2grayInteger(St),Ct])));return{mssim:$t.mssim!==void 0?$t.mssim:ut.mean2d($t),ssim_map:$t,performance:new Date().getTime()-xt}}it.getOptions=mt,it.ssim=_t,it.default=_t},490:(ot,it)=>{function lt(ft){return at(ft)/ft.length}function at(ft){for(var dt=0,ht=0;ht<ft.length;ht++)dt+=ft[ht];return dt}function st(ft){for(var dt=ft.data,ht=0,gt=0;gt<dt.length;gt++)ht+=dt[gt];return ht}function ut(ft,dt){for(var ht=ft.data,gt=ft.width,yt=ft.height,Et=new Array(ht.length),mt=0;mt<ht.length;mt++)Et[mt]=ht[mt]+dt;return{data:Et,width:gt,height:yt}}function ct(ft,dt){return typeof dt=="number"?function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=new Array(yt.length),pt=0;pt<yt.length;pt++)_t[pt]=yt[pt]*gt;return{data:_t,width:Et,height:mt}}(ft,dt):function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=gt.data,pt=new Array(yt.length),wt=0;wt<yt.length;wt++)pt[wt]=yt[wt]*_t[wt];return{data:pt,width:Et,height:mt}}(ft,dt)}Object.defineProperty(it,"__esModule",{value:!0}),it.covariance=it.variance=it.mean2d=it.square2d=it.multiply2d=it.divide2d=it.subtract2d=it.add2d=it.sum2d=it.floor=it.sum=it.average=void 0,it.average=lt,it.sum=at,it.floor=function(ft){for(var dt=new Array(ft.length),ht=0;ht<ft.length;ht++)dt[ht]=Math.floor(ft[ht]);return dt},it.sum2d=st,it.add2d=function(ft,dt){return typeof dt=="number"?ut(ft,dt):function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=gt.data,pt=new Array(yt.length),wt=0;wt<mt;wt++)for(var vt=wt*Et,bt=0;bt<Et;bt++)pt[vt+bt]=yt[vt+bt]+_t[vt+bt];return{data:pt,width:Et,height:mt}}(ft,dt)},it.subtract2d=function(ft,dt){return typeof dt=="number"?ut(ft,-dt):function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=gt.data,pt=new Array(yt.length),wt=0;wt<mt;wt++)for(var vt=wt*Et,bt=0;bt<Et;bt++)pt[vt+bt]=yt[vt+bt]-_t[vt+bt];return{data:pt,width:Et,height:mt}}(ft,dt)},it.divide2d=function(ft,dt){return typeof dt=="number"?function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=new Array(yt.length),pt=0;pt<yt.length;pt++)_t[pt]=yt[pt]/gt;return{data:_t,width:Et,height:mt}}(ft,dt):function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=gt.data,pt=new Array(yt.length),wt=0;wt<yt.length;wt++)pt[wt]=yt[wt]/_t[wt];return{data:pt,width:Et,height:mt}}(ft,dt)},it.multiply2d=ct,it.square2d=function(ft){return ct(ft,ft)},it.mean2d=function(ft){return st(ft)/ft.data.length},it.variance=function(ft,dt){dt===void 0&&(dt=lt(ft));for(var ht=0,gt=ft.length;gt--;)ht+=Math.pow(ft[gt]-dt,2);return ht/ft.length},it.covariance=function(ft,dt,ht,gt){ht===void 0&&(ht=lt(ft)),gt===void 0&&(gt=lt(dt));for(var yt=0,Et=ft.length;Et--;)yt+=(ft[Et]-ht)*(dt[Et]-gt);return yt/ft.length}},687:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.conv2=void 0;var at=lt(490),st=lt(298),ut=lt(118),ct=lt(799);function ft(Et,mt,_t){var pt=Et.data,wt=Et.width,vt=Et.height;_t===void 0&&(_t="full");for(var bt=wt+mt.width-1,Rt=vt+mt.height-1,St=ct.zeros(Rt,bt).data,Ct=0;Ct<mt.height;Ct++)for(var xt=0;xt<mt.width;xt++){var $t=mt.data[Ct*mt.width+xt];if($t)for(var Mt=0;Mt<vt;Mt++)for(var kt=0;kt<wt;kt++)St[(Mt+Ct)*bt+kt+xt]+=pt[Mt*wt+kt]*$t}return yt({data:St,width:bt,height:Rt},_t,vt,mt.height,wt,mt.width)}function dt(Et,mt,_t){var pt=mt.data,wt=mt.width,vt=mt.height;_t===void 0&&(_t="full");var bt=gt(Et,st.ones(vt,1),st.ones(1,wt),_t);return at.multiply2d(bt,pt[0])}function ht(Et){for(var mt=Et.data,_t=mt[0],pt=1;pt<mt.length;pt++)if(mt[pt]!==_t)return!1;return!0}function gt(Et,mt,_t,pt){pt===void 0&&(pt="full");var wt=Math.max(mt.height,mt.width),vt=Math.max(_t.height,_t.width),bt=ft(Et,mt,"full");return yt(ft(bt,_t,"full"),pt,Et.height,wt,Et.width,vt)}function yt(Et,mt,_t,pt,wt,vt){if(mt==="full")return Et;if(mt==="same"){var bt=Math.ceil((Et.height-_t)/2),Rt=Math.ceil((Et.width-wt)/2);return ut.sub(Et,bt,_t,Rt,wt)}return ut.sub(Et,pt-1,_t-pt+1,vt-1,wt-vt+1)}it.conv2=function(){for(var Et=[],mt=0;mt<arguments.length;mt++)Et[mt]=arguments[mt];return Et[2]&&Et[2].data?gt.apply(void 0,Et):ht(Et[1])?dt.apply(void 0,Et):ft.apply(void 0,Et)}},346:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.filter2=void 0;var at=lt(687);it.filter2=function(st,ut,ct){return ct===void 0&&(ct="same"),at.conv2(ut,function(ft){for(var dt=ft.data,ht=ft.width,gt=ft.height,yt=new Array(dt.length),Et=0;Et<gt;Et++)for(var mt=0;mt<ht;mt++)yt[Et*ht+mt]=dt[(gt-1-Et)*ht+ht-1-mt];return{data:yt,width:ht,height:gt}}(st),ct)}},470:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.fspecial=void 0;var at=lt(490);it.fspecial=function(st,ut,ct){ut===void 0&&(ut=3),ct===void 0&&(ct=1.5);var ft=function(ht,gt){for(var yt=ht.data,Et=ht.width,mt=ht.height,_t=new Array(yt.length),pt=0;pt<yt.length;pt++)_t[pt]=Math.exp(-yt[pt]/(2*Math.pow(gt,2)));return{data:_t,width:Et,height:mt}}(function(ht){for(var gt=2*ht+1,yt=new Array(Math.pow(gt,2)),Et=0;Et<gt;Et++)for(var mt=0;mt<gt;mt++)yt[Et*gt+mt]=Math.pow(Et-ht,2)+Math.pow(mt-ht,2);return{data:yt,width:gt,height:gt}}(ut=(ut-1)/2),ct),dt=at.sum2d(ft);return at.divide2d(ft,dt)}},521:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.imfilter=void 0;var at=lt(20),st=lt(389),ut=lt(490),ct=lt(346);it.imfilter=function(ft,dt,ht,gt){return ht===void 0&&(ht="symmetric"),gt===void 0&&(gt="same"),ft=function(yt,Et,mt,_t){if(yt=st.padarray(yt,ut.floor([Et/2,mt/2]),_t),at.mod(Et,2)===0&&(yt.data=yt.data.slice(0,-yt.width),yt.height--),at.mod(mt,2)===0){for(var pt=[],wt=0;wt<yt.data.length;wt++)(wt+1)%yt.width!=0&&pt.push(yt.data[wt]);yt.data=pt,yt.width--}return yt}(ft,dt.width,dt.height,ht),gt=function(yt){return yt==="same"&&(yt="valid"),yt}(gt),ct.filter2(dt,ft,gt)}},971:function(ot,it,lt){var at=this&&this.__createBinding||(Object.create?function(ut,ct,ft,dt){dt===void 0&&(dt=ft),Object.defineProperty(ut,dt,{enumerable:!0,get:function(){return ct[ft]}})}:function(ut,ct,ft,dt){dt===void 0&&(dt=ft),ut[dt]=ct[ft]}),st=this&&this.__exportStar||function(ut,ct){for(var ft in ut)ft==="default"||Object.prototype.hasOwnProperty.call(ct,ft)||at(ct,ut,ft)};Object.defineProperty(it,"__esModule",{value:!0}),st(lt(687),it),st(lt(346),it),st(lt(470),it),st(lt(521),it),st(lt(150),it),st(lt(298),it),st(lt(389),it),st(lt(582),it),st(lt(439),it),st(lt(118),it),st(lt(240),it),st(lt(799),it)},928:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.numbers=void 0,it.numbers=function(lt,at,st){for(var ut=at*lt,ct=new Array(ut),ft=0;ft<ut;ft++)ct[ft]=st;return{data:ct,width:at,height:lt}}},20:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.mod=void 0,it.mod=function(lt,at){return lt-at*Math.floor(lt/at)}},150:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.normpdf=void 0,it.normpdf=function(lt,at,st){var ut=lt.data,ct=lt.width,ft=lt.height;at===void 0&&(at=0),st===void 0&&(st=1);for(var dt=new Array(ut.length),ht=0;ht<ut.length;ht++){var gt=(ut[ht]-at)/st;dt[ht]=Math.exp(-Math.pow(gt,2)/2)/(2.5066282746310007*st)}return{data:dt,width:ct,height:ft}}},298:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ones=void 0;var at=lt(928);it.ones=function(st,ut){return ut===void 0&&(ut=st),at.numbers(st,ut,1)}},389:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.padarray=void 0;var at=lt(20);it.padarray=function(st,ut,ct,ft){var dt=ut[0],ht=ut[1];return st.height>=dt&&st.width>=ht?function(gt,yt){for(var Et=yt[0],mt=yt[1],_t=gt.width+2*mt,pt=gt.height+2*Et,wt=new Array(_t*pt),vt=-Et;vt<0;vt++){for(var bt=-mt;bt<0;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(Math.abs(vt)-1)*gt.width+Math.abs(bt)-1];for(bt=0;bt<gt.width;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(Math.abs(vt)-1)*gt.width+bt];for(bt=gt.width;bt<gt.width+mt;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(Math.abs(vt)-1)*gt.width+2*gt.width-bt-1]}for(vt=0;vt<gt.height;vt++){for(bt=-mt;bt<0;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[vt*gt.width+Math.abs(bt)-1];for(bt=0;bt<gt.width;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[vt*gt.width+bt];for(bt=gt.width;bt<gt.width+mt;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[vt*gt.width+2*gt.width-bt-1]}for(vt=gt.height;vt<gt.height+Et;vt++){for(bt=-mt;bt<0;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(2*gt.height-vt-1)*gt.width+Math.abs(bt)-1];for(bt=0;bt<gt.width;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(2*gt.height-vt-1)*gt.width+bt];for(bt=gt.width;bt<gt.width+mt;bt++)wt[(vt+Et)*_t+bt+mt]=gt.data[(2*gt.height-vt-1)*gt.width+2*gt.width-bt-1]}return{data:wt,width:_t,height:pt}}(st,[dt,ht]):function(gt,yt){for(var Et=function(vt,bt){return{data:vt.data.concat(bt.data),height:vt.height+bt.height,width:vt.width}}(gt,function(vt){for(var bt=vt.data,Rt=vt.width,St=vt.height,Ct=new Array(bt.length),xt=0;xt<St;xt++)for(var $t=0;$t<Rt;$t++)Ct[xt*Rt+$t]=bt[(St-1-xt)*Rt+$t];return{data:Ct,width:Rt,height:St}}(gt)),mt=gt.height+2*yt,_t=new Array(gt.width*mt),pt=-yt;pt<gt.height+yt;pt++)for(var wt=0;wt<gt.width;wt++)_t[(pt+yt)*gt.width+wt]=Et.data[at.mod(pt,Et.height)*gt.width+wt];return{data:_t,width:gt.width,height:mt}}(function(gt,yt){for(var Et=gt.width+2*yt,mt=new Array(Et*gt.height),_t=function(vt,bt){for(var Rt=vt.width+bt.width,St=new Array(vt.height*Rt),Ct=0;Ct<vt.height;Ct++){for(var xt=0;xt<vt.width;xt++)St[Ct*Rt+xt]=vt.data[Ct*vt.width+xt];for(xt=0;xt<bt.width;xt++)St[Ct*Rt+xt+vt.width]=bt.data[Ct*bt.width+xt]}return{data:St,width:Rt,height:vt.height}}(gt,function(vt){for(var bt=vt.data,Rt=vt.width,St=vt.height,Ct=new Array(bt.length),xt=0;xt<St;xt++)for(var $t=0;$t<Rt;$t++)Ct[xt*Rt+$t]=bt[xt*Rt+Rt-1-$t];return{data:Ct,width:Rt,height:St}}(gt)),pt=0;pt<gt.height;pt++)for(var wt=-yt;wt<gt.width+yt;wt++)mt[pt*Et+wt+yt]=_t.data[pt*_t.width+at.mod(wt,_t.width)];return{data:mt,width:Et,height:gt.height}}(st,ht),dt)}},582:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.rgb2grayInteger=it.rgb2gray=void 0,it.rgb2gray=function(lt){for(var at=lt.data,st=lt.width,ut=lt.height,ct=new Uint8Array(st*ut),ft=0;ft<at.length;ft+=4)ct[ft/4]=.29894*at[ft]+.58704*at[ft+1]+.11402*at[ft+2]+.5;return{data:Array.from(ct),width:st,height:ut}},it.rgb2grayInteger=function(lt){for(var at=lt.data,st=lt.width,ut=lt.height,ct=new Array(st*ut),ft=0;ft<at.length;ft+=4)ct[ft/4]=77*at[ft]+150*at[ft+1]+29*at[ft+2]+128>>8;return{data:ct,width:st,height:ut}}},439:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.skip2d=void 0,it.skip2d=function(lt,at,st){for(var ut=at[0],ct=at[1],ft=at[2],dt=st[0],ht=st[1],gt=st[2],yt=Math.ceil((gt-dt)/ht),Et=Math.ceil((ft-ut)/ct),mt=new Array(yt*Et),_t=0;_t<Et;_t++)for(var pt=0;pt<yt;pt++){var wt=ut+_t*ct,vt=dt+pt*ht;mt[_t*yt+pt]=lt.data[wt*lt.width+vt]}return{data:mt,width:yt,height:Et}}},118:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.sub=void 0,it.sub=function(lt,at,st,ut,ct){for(var ft=lt.data,dt=lt.width,ht=new Array(ct*st),gt=0;gt<st;gt++)for(var yt=0;yt<ct;yt++)ht[gt*ct+yt]=ft[(ut+gt)*dt+at+yt];return{data:ht,width:ct,height:st}}},240:(ot,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.transpose=void 0,it.transpose=function(lt){for(var at=lt.data,st=lt.width,ut=lt.height,ct=new Array(st*ut),ft=0;ft<ut;ft++)for(var dt=0;dt<st;dt++)ct[dt*ut+ft]=at[ft*st+dt];return{data:ct,height:st,width:ut}}},799:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.zeros=void 0;var at=lt(928);it.zeros=function(st,ut){return ut===void 0&&(ut=st),at.numbers(st,ut,0)}},595:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.originalSsim=void 0;var at=lt(490),st=lt(971);it.originalSsim=function(ut,ct,ft){var dt=st.fspecial("gaussian",ft.windowSize,1.5),ht=Math.pow(2,ft.bitDepth)-1,gt=Math.pow(ft.k1*ht,2),yt=Math.pow(ft.k2*ht,2);dt=at.divide2d(dt,at.sum2d(dt));var Et=st.filter2(dt,ut,"valid"),mt=st.filter2(dt,ct,"valid"),_t=at.square2d(Et),pt=at.square2d(mt),wt=at.multiply2d(Et,mt),vt=at.square2d(ut),bt=at.square2d(ct),Rt=at.subtract2d(st.filter2(dt,vt,"valid"),_t),St=at.subtract2d(st.filter2(dt,bt,"valid"),pt),Ct=at.subtract2d(st.filter2(dt,at.multiply2d(ut,ct),"valid"),wt);if(gt>0&&yt>0){var xt=at.add2d(at.multiply2d(wt,2),gt),$t=at.add2d(at.multiply2d(Ct,2),yt),Mt=at.add2d(at.add2d(_t,pt),gt),kt=at.add2d(at.add2d(Rt,St),yt);return at.divide2d(at.multiply2d(xt,$t),at.multiply2d(Mt,kt))}var It=at.multiply2d(wt,2),Pt=at.multiply2d(Ct,2),jt=at.add2d(_t,pt),zt=at.add2d(Rt,St);return at.divide2d(at.multiply2d(It,Pt),at.multiply2d(jt,zt))}},773:(ot,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=void 0;var at=lt(490),st=lt(971);it.ssim=function(ut,ct,ft){var dt=st.normpdf(function($t){for(var Mt=Math.floor($t/2),kt=new Array(2*Mt+1),It=-Mt;It<=Mt;It++)kt[It+Mt]=Math.abs(It);return{data:kt,width:kt.length,height:1}}(ft.windowSize),0,1.5),ht=Math.pow(2,ft.bitDepth)-1,gt=Math.pow(ft.k1*ht,2),yt=Math.pow(ft.k2*ht,2);dt=at.divide2d(dt,at.sum2d(dt));var Et=st.transpose(dt),mt=st.conv2(ut,dt,Et,"valid"),_t=st.conv2(ct,dt,Et,"valid"),pt=at.square2d(mt),wt=at.square2d(_t),vt=at.multiply2d(mt,_t),bt=at.square2d(ut),Rt=at.square2d(ct),St=at.subtract2d(st.conv2(bt,dt,Et,"valid"),pt),Ct=at.subtract2d(st.conv2(Rt,dt,Et,"valid"),wt),xt=at.subtract2d(st.conv2(at.multiply2d(ut,ct),dt,Et,"valid"),vt);return gt>0&&yt>0?function($t,Mt,kt,It,Pt,jt,zt,Tt){var Nt=at.add2d(at.multiply2d($t,2),zt),Ot=at.add2d(at.multiply2d(Mt,2),Tt),Vt=at.add2d(at.add2d(kt,It),zt),Ut=at.add2d(at.add2d(Pt,jt),Tt);return at.divide2d(at.multiply2d(Nt,Ot),at.multiply2d(Vt,Ut))}(vt,xt,pt,wt,St,Ct,gt,yt):function($t,Mt,kt,It,Pt,jt){var zt=at.multiply2d($t,2),Tt=at.multiply2d(Mt,2),Nt=at.add2d(kt,It),Ot=at.add2d(Pt,jt);return at.divide2d(at.multiply2d(zt,Tt),at.multiply2d(Nt,Ot))}(vt,xt,pt,wt,St,Ct)}},535:function(ot,it){var lt=this&&this.__assign||function(){return(lt=Object.assign||function(gt){for(var yt,Et=1,mt=arguments.length;Et<mt;Et++)for(var _t in yt=arguments[Et])Object.prototype.hasOwnProperty.call(yt,_t)&&(gt[_t]=yt[_t]);return gt}).apply(this,arguments)};function at(gt,yt,Et,mt){return{rightEdge:Et[yt*mt+gt+1],bottomEdge:Et[(yt+1)*mt+gt],bottomRightEdge:Et[(yt+1)*mt+gt+1]}}function st(gt,yt){for(var Et=gt.width,mt=gt.height,_t=gt.data,pt=Et+1,wt=mt+1,vt=new Int32Array(pt*wt),bt=mt-1;bt>=0;--bt)for(var Rt=Et-1;Rt>=0;--Rt){var St=at(Rt,bt,vt,pt),Ct=St.rightEdge,xt=St.bottomEdge,$t=St.bottomRightEdge;vt[bt*pt+Rt]=yt(_t[bt*Et+Rt],Rt,bt)+Ct+xt-$t}return{data:vt,height:wt,width:pt}}function ut(gt,yt,Et){for(var mt=gt.width,_t=gt.height,pt=gt.data,wt=yt.data,vt=mt+1,bt=_t+1,Rt=new Int32Array(vt*bt),St=_t-1;St>=0;--St)for(var Ct=mt-1;Ct>=0;--Ct){var xt=at(Ct,St,Rt,vt),$t=xt.rightEdge,Mt=xt.bottomEdge,kt=xt.bottomRightEdge,It=St*mt+Ct;Rt[St*vt+Ct]=Et(pt[It],wt[It],Ct,St)+$t+Mt-kt}return{data:Rt,height:bt,width:vt}}function ct(gt,yt,Et){for(var mt=gt.width,_t=gt.height,pt=gt.data,wt=mt-1,vt=_t-1,bt=wt-yt+1,Rt=vt-yt+1,St=new Int32Array(bt*Rt),Ct=0;Ct<vt;++Ct)for(var xt=0;xt<wt;++xt)if(xt<bt&&Ct<Rt){var $t=pt[mt*Ct+xt]-pt[mt*Ct+xt+yt]-pt[mt*(Ct+yt)+xt]+pt[mt*(Ct+yt)+xt+yt];St[Ct*bt+xt]=$t/Et}return{height:Rt,width:bt,data:St}}function ft(gt,yt){return ct(st(gt,function(Et){return Et}),yt,1)}function dt(gt,yt,Et){for(var mt=Et*Et,_t=ct(st(gt,function(Rt){return Rt*Rt}),Et,1),pt=0;pt<yt.data.length;++pt){var wt=yt.data[pt]/mt,vt=_t.data[pt]/mt,bt=wt*wt;_t.data[pt]=1024*(vt-bt)}return _t}function ht(gt,yt,Et,mt,_t){for(var pt=_t*_t,wt=ct(ut(gt,yt,function(bt,Rt){return bt*Rt}),_t,1),vt=0;vt<Et.data.length;++vt)wt.data[vt]=1024*(wt.data[vt]/pt-Et.data[vt]/pt*(mt.data[vt]/pt));return wt}Object.defineProperty(it,"__esModule",{value:!0}),it.weberSsim=it.windowCovariance=it.windowVariance=it.windowSums=it.windowMatrix=it.partialSumMatrix2=it.partialSumMatrix1=void 0,it.partialSumMatrix1=st,it.partialSumMatrix2=ut,it.windowMatrix=ct,it.windowSums=ft,it.windowVariance=dt,it.windowCovariance=ht,it.weberSsim=function(gt,yt,Et){for(var mt=Et.bitDepth,_t=Et.k1,pt=Et.k2,wt=Et.windowSize,vt=Math.pow(2,mt)-1,bt=_t*vt*(_t*vt),Rt=pt*vt*(pt*vt),St=wt*wt,Ct=lt(lt({},gt),{data:Int32Array.from(gt.data,function(Dt){return Dt+.5})}),xt=lt(lt({},yt),{data:Int32Array.from(yt.data,function(Dt){return Dt+.5})}),$t=ft(Ct,wt),Mt=dt(Ct,$t,wt),kt=ft(xt,wt),It=dt(xt,kt,wt),Pt=ht(Ct,xt,$t,kt,wt),jt=$t.data.length,zt=0,Tt=new Array(jt),Nt=0;Nt<jt;++Nt){var Ot=$t.data[Nt]/St,Vt=kt.data[Nt]/St,Ut=Mt.data[Nt]/1024,Lt=It.data[Nt]/1024,Ft=(2*Ot*Vt+bt)*(Pt.data[Nt]/1024*2+Rt)/(Ot*Ot+Vt*Vt+bt)/(Ut+Lt+Rt);Tt[Nt]=Ft,Nt==0?zt=Ft:zt+=(Ft-zt)/(Nt+1)}return{data:Tt,width:$t.width,height:$t.height,mssim:zt}}}},nt={};return function ot(it){if(nt[it])return nt[it].exports;var lt=nt[it]={exports:{}};return tt[it].call(lt.exports,lt,lt.exports,ot),lt.exports}(607)})()})})(ssim_web);const formatter=new Intl.ListFormat("en",{type:"disjunction"});function checkProcessable(_e,et,tt={}){let{bitDepth:nt,alpha:ot,colorModel:it,components:lt,channels:at}=tt;if(nt&&(Array.isArray(nt)||(nt=[nt]),!nt.includes(_e.depth)))throw new TypeError(`The process "${et}" can only be applied if bit depth is ${format(nt)}`);if(ot&&(Array.isArray(ot)||(ot=[ot]),!ot.includes(_e.alpha)))throw new TypeError(`The process "${et}" can only be applied if alpha is ${format(ot)}`);if(it&&(Array.isArray(it)||(it=[it]),!it.includes(_e.colorModel)))throw new TypeError(`The process "${et}" can only be applied if color model is ${format(it)}`);if(lt&&(Array.isArray(lt)||(lt=[lt]),!lt.includes(_e.components))){let st=`The process "${et}" can only be applied if the number of components is ${format(lt)}`;throw lt.length===1&&lt[0]===1?new TypeError(`${st}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(st)}if(at&&(Array.isArray(at)||(at=[at]),!at.includes(_e.channels)))throw new TypeError(`The process "${et}" can only be applied if the number of channels is ${format(at)}`)}function format(_e){return formatter.format(_e.map(String))}function subtract(_e,et,tt={}){let{absolute:nt=!1}=tt;_e instanceof Image&&checkProcessable(_e,"subtract",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:[1,3],alpha:!1}),validateForComparison("subtract",_e,et);let ot=_e.clone();if(ot instanceof Image)for(let it=0;it<_e.size;it++)for(let lt=0;lt<_e.channels;lt++){let at=_e.getValueByIndex(it,lt)-et.getValueByIndex(it,lt);nt?ot.setValueByIndex(it,lt,Math.abs(at)):ot.setValueByIndex(it,lt,Math.max(at,0))}else if(_e instanceof Mask&&et instanceof Mask)for(let it=0;it<_e.size;it++){let lt=_e.getBitByIndex(it)-et.getBitByIndex(it);nt?ot.setBitByIndex(it,Math.abs(lt)?1:0):ot.setBitByIndex(it,Math.max(lt,0)?1:0)}return ot}function variance(_e){const et=_e.mean();let tt=new Array(_e.channels).fill(0);for(let ot=0;ot<_e.size;ot++)for(let it=0;it<_e.channels;it++)tt[it]+=Math.pow(_e.getValueByIndex(ot,it)-et[it],2);const nt=_e.size*_e.channels;return tt.map(ot=>ot/nt)}const toString$3=Object.prototype.toString;function isAnyArray(_e){return toString$3.call(_e).endsWith("Array]")}function max$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,nt=tt===void 0?0:tt,ot=et.toIndex,it=ot===void 0?_e.length:ot;if(nt<0||nt>=_e.length||!Number.isInteger(nt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=nt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var lt=_e[nt],at=nt+1;at<it;at++)_e[at]>lt&&(lt=_e[at]);return lt}function min$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,nt=tt===void 0?0:tt,ot=et.toIndex,it=ot===void 0?_e.length:ot;if(nt<0||nt>=_e.length||!Number.isInteger(nt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=nt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var lt=_e[nt],at=nt+1;at<it;at++)_e[at]<lt&&(lt=_e[at]);return lt}function rescale(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(_e)){if(_e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var tt;if(et.output!==void 0){if(!isAnyArray(et.output))throw new TypeError("output option must be an array if specified");tt=et.output}else tt=new Array(_e.length);var nt=min$2(_e),ot=max$2(_e);if(nt===ot)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var it=et.min,lt=it===void 0?et.autoMinMax?nt:0:it,at=et.max,st=at===void 0?et.autoMinMax?ot:1:at;if(lt>=st)throw new RangeError("min option must be smaller than max option");for(var ut=(st-lt)/(ot-nt),ct=0;ct<_e.length;ct++)tt[ct]=(_e[ct]-nt)*ut+lt;return tt}const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(_e,et={}){const{maxRows:tt=15,maxColumns:nt=10,maxNumSize:ot=8,padMinus:it="auto"}=et;return`${_e.constructor.name} {
${indent}[
${indentData}${inspectData(_e,tt,nt,ot,it)}
${indent}]
${indent}rows: ${_e.rows}
${indent}columns: ${_e.columns}
}`}function inspectData(_e,et,tt,nt,ot){const{rows:it,columns:lt}=_e,at=Math.min(it,et),st=Math.min(lt,tt),ut=[];if(ot==="auto"){ot=!1;e:for(let ct=0;ct<at;ct++)for(let ft=0;ft<st;ft++)if(_e.get(ct,ft)<0){ot=!0;break e}}for(let ct=0;ct<at;ct++){let ft=[];for(let dt=0;dt<st;dt++)ft.push(formatNumber(_e.get(ct,dt),nt,ot));ut.push(`${ft.join(" ")}`)}return st!==lt&&(ut[ut.length-1]+=` ... ${lt-tt} more columns`),at!==it&&ut.push(`... ${it-et} more rows`),ut.join(`
${indentData}`)}function formatNumber(_e,et,tt){return(_e>=0&&tt?` ${formatNumber2(_e,et-1)}`:formatNumber2(_e,et)).padEnd(et)}function formatNumber2(_e,et){let tt=_e.toString();if(tt.length<=et)return tt;let nt=_e.toFixed(et);if(nt.length>et&&(nt=_e.toFixed(Math.max(0,et-(nt.length-et)))),nt.length<=et&&!nt.startsWith("0.000")&&!nt.startsWith("-0.000"))return nt;let ot=_e.toExponential(et);return ot.length>et&&(ot=_e.toExponential(Math.max(0,et-(ot.length-et)))),ot.slice(0)}function installMathOperations(_e,et){_e.prototype.add=function(nt){return typeof nt=="number"?this.addS(nt):this.addM(nt)},_e.prototype.addS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)+nt);return this},_e.prototype.addM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)+nt.get(ot,it));return this},_e.add=function(nt,ot){return new et(nt).add(ot)},_e.prototype.sub=function(nt){return typeof nt=="number"?this.subS(nt):this.subM(nt)},_e.prototype.subS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)-nt);return this},_e.prototype.subM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)-nt.get(ot,it));return this},_e.sub=function(nt,ot){return new et(nt).sub(ot)},_e.prototype.subtract=_e.prototype.sub,_e.prototype.subtractS=_e.prototype.subS,_e.prototype.subtractM=_e.prototype.subM,_e.subtract=_e.sub,_e.prototype.mul=function(nt){return typeof nt=="number"?this.mulS(nt):this.mulM(nt)},_e.prototype.mulS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)*nt);return this},_e.prototype.mulM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)*nt.get(ot,it));return this},_e.mul=function(nt,ot){return new et(nt).mul(ot)},_e.prototype.multiply=_e.prototype.mul,_e.prototype.multiplyS=_e.prototype.mulS,_e.prototype.multiplyM=_e.prototype.mulM,_e.multiply=_e.mul,_e.prototype.div=function(nt){return typeof nt=="number"?this.divS(nt):this.divM(nt)},_e.prototype.divS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)/nt);return this},_e.prototype.divM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)/nt.get(ot,it));return this},_e.div=function(nt,ot){return new et(nt).div(ot)},_e.prototype.divide=_e.prototype.div,_e.prototype.divideS=_e.prototype.divS,_e.prototype.divideM=_e.prototype.divM,_e.divide=_e.div,_e.prototype.mod=function(nt){return typeof nt=="number"?this.modS(nt):this.modM(nt)},_e.prototype.modS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)%nt);return this},_e.prototype.modM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)%nt.get(ot,it));return this},_e.mod=function(nt,ot){return new et(nt).mod(ot)},_e.prototype.modulus=_e.prototype.mod,_e.prototype.modulusS=_e.prototype.modS,_e.prototype.modulusM=_e.prototype.modM,_e.modulus=_e.mod,_e.prototype.and=function(nt){return typeof nt=="number"?this.andS(nt):this.andM(nt)},_e.prototype.andS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)&nt);return this},_e.prototype.andM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)&nt.get(ot,it));return this},_e.and=function(nt,ot){return new et(nt).and(ot)},_e.prototype.or=function(nt){return typeof nt=="number"?this.orS(nt):this.orM(nt)},_e.prototype.orS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)|nt);return this},_e.prototype.orM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)|nt.get(ot,it));return this},_e.or=function(nt,ot){return new et(nt).or(ot)},_e.prototype.xor=function(nt){return typeof nt=="number"?this.xorS(nt):this.xorM(nt)},_e.prototype.xorS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)^nt);return this},_e.prototype.xorM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)^nt.get(ot,it));return this},_e.xor=function(nt,ot){return new et(nt).xor(ot)},_e.prototype.leftShift=function(nt){return typeof nt=="number"?this.leftShiftS(nt):this.leftShiftM(nt)},_e.prototype.leftShiftS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)<<nt);return this},_e.prototype.leftShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)<<nt.get(ot,it));return this},_e.leftShift=function(nt,ot){return new et(nt).leftShift(ot)},_e.prototype.signPropagatingRightShift=function(nt){return typeof nt=="number"?this.signPropagatingRightShiftS(nt):this.signPropagatingRightShiftM(nt)},_e.prototype.signPropagatingRightShiftS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)>>nt);return this},_e.prototype.signPropagatingRightShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)>>nt.get(ot,it));return this},_e.signPropagatingRightShift=function(nt,ot){return new et(nt).signPropagatingRightShift(ot)},_e.prototype.rightShift=function(nt){return typeof nt=="number"?this.rightShiftS(nt):this.rightShiftM(nt)},_e.prototype.rightShiftS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)>>>nt);return this},_e.prototype.rightShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,this.get(ot,it)>>>nt.get(ot,it));return this},_e.rightShift=function(nt,ot){return new et(nt).rightShift(ot)},_e.prototype.zeroFillRightShift=_e.prototype.rightShift,_e.prototype.zeroFillRightShiftS=_e.prototype.rightShiftS,_e.prototype.zeroFillRightShiftM=_e.prototype.rightShiftM,_e.zeroFillRightShift=_e.rightShift,_e.prototype.not=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,~this.get(nt,ot));return this},_e.not=function(nt){return new et(nt).not()},_e.prototype.abs=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.abs(this.get(nt,ot)));return this},_e.abs=function(nt){return new et(nt).abs()},_e.prototype.acos=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.acos(this.get(nt,ot)));return this},_e.acos=function(nt){return new et(nt).acos()},_e.prototype.acosh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.acosh(this.get(nt,ot)));return this},_e.acosh=function(nt){return new et(nt).acosh()},_e.prototype.asin=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.asin(this.get(nt,ot)));return this},_e.asin=function(nt){return new et(nt).asin()},_e.prototype.asinh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.asinh(this.get(nt,ot)));return this},_e.asinh=function(nt){return new et(nt).asinh()},_e.prototype.atan=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.atan(this.get(nt,ot)));return this},_e.atan=function(nt){return new et(nt).atan()},_e.prototype.atanh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.atanh(this.get(nt,ot)));return this},_e.atanh=function(nt){return new et(nt).atanh()},_e.prototype.cbrt=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.cbrt(this.get(nt,ot)));return this},_e.cbrt=function(nt){return new et(nt).cbrt()},_e.prototype.ceil=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.ceil(this.get(nt,ot)));return this},_e.ceil=function(nt){return new et(nt).ceil()},_e.prototype.clz32=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.clz32(this.get(nt,ot)));return this},_e.clz32=function(nt){return new et(nt).clz32()},_e.prototype.cos=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.cos(this.get(nt,ot)));return this},_e.cos=function(nt){return new et(nt).cos()},_e.prototype.cosh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.cosh(this.get(nt,ot)));return this},_e.cosh=function(nt){return new et(nt).cosh()},_e.prototype.exp=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.exp(this.get(nt,ot)));return this},_e.exp=function(nt){return new et(nt).exp()},_e.prototype.expm1=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.expm1(this.get(nt,ot)));return this},_e.expm1=function(nt){return new et(nt).expm1()},_e.prototype.floor=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.floor(this.get(nt,ot)));return this},_e.floor=function(nt){return new et(nt).floor()},_e.prototype.fround=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.fround(this.get(nt,ot)));return this},_e.fround=function(nt){return new et(nt).fround()},_e.prototype.log=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.log(this.get(nt,ot)));return this},_e.log=function(nt){return new et(nt).log()},_e.prototype.log1p=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.log1p(this.get(nt,ot)));return this},_e.log1p=function(nt){return new et(nt).log1p()},_e.prototype.log10=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.log10(this.get(nt,ot)));return this},_e.log10=function(nt){return new et(nt).log10()},_e.prototype.log2=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.log2(this.get(nt,ot)));return this},_e.log2=function(nt){return new et(nt).log2()},_e.prototype.round=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.round(this.get(nt,ot)));return this},_e.round=function(nt){return new et(nt).round()},_e.prototype.sign=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.sign(this.get(nt,ot)));return this},_e.sign=function(nt){return new et(nt).sign()},_e.prototype.sin=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.sin(this.get(nt,ot)));return this},_e.sin=function(nt){return new et(nt).sin()},_e.prototype.sinh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.sinh(this.get(nt,ot)));return this},_e.sinh=function(nt){return new et(nt).sinh()},_e.prototype.sqrt=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.sqrt(this.get(nt,ot)));return this},_e.sqrt=function(nt){return new et(nt).sqrt()},_e.prototype.tan=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.tan(this.get(nt,ot)));return this},_e.tan=function(nt){return new et(nt).tan()},_e.prototype.tanh=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.tanh(this.get(nt,ot)));return this},_e.tanh=function(nt){return new et(nt).tanh()},_e.prototype.trunc=function(){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.set(nt,ot,Math.trunc(this.get(nt,ot)));return this},_e.trunc=function(nt){return new et(nt).trunc()},_e.pow=function(nt,ot){return new et(nt).pow(ot)},_e.prototype.pow=function(nt){return typeof nt=="number"?this.powS(nt):this.powM(nt)},_e.prototype.powS=function(nt){for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,Math.pow(this.get(ot,it),nt));return this},_e.prototype.powM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let ot=0;ot<this.rows;ot++)for(let it=0;it<this.columns;it++)this.set(ot,it,Math.pow(this.get(ot,it),nt.get(ot,it)));return this}}function checkRowIndex(_e,et,tt){let nt=tt?_e.rows:_e.rows-1;if(et<0||et>nt)throw new RangeError("Row index out of range")}function checkColumnIndex(_e,et,tt){let nt=tt?_e.columns:_e.columns-1;if(et<0||et>nt)throw new RangeError("Column index out of range")}function checkRowVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.columns)throw new RangeError("vector size must be the same as the number of columns");return et}function checkColumnVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.rows)throw new RangeError("vector size must be the same as the number of rows");return et}function checkRowIndices(_e,et){if(!isAnyArray(et))throw new TypeError("row indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(_e,et){if(!isAnyArray(et))throw new TypeError("column indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.columns)throw new RangeError("column indices are out of range")}function checkRange$1(_e,et,tt,nt,ot){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",et),checkNumber("endRow",tt),checkNumber("startColumn",nt),checkNumber("endColumn",ot),et>tt||nt>ot||et<0||et>=_e.rows||tt<0||tt>=_e.rows||nt<0||nt>=_e.columns||ot<0||ot>=_e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray(_e,et=0){let tt=[];for(let nt=0;nt<_e;nt++)tt.push(et);return tt}function checkNumber(_e,et){if(typeof et!="number")throw new TypeError(`${_e} must be a number`)}function checkNonEmpty(_e){if(_e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(_e){let et=newArray(_e.rows);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[tt]+=_e.get(tt,nt);return et}function sumByColumn(_e){let et=newArray(_e.columns);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[nt]+=_e.get(tt,nt);return et}function sumAll(_e){let et=0;for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)et+=_e.get(tt,nt);return et}function productByRow(_e){let et=newArray(_e.rows,1);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[tt]*=_e.get(tt,nt);return et}function productByColumn(_e){let et=newArray(_e.columns,1);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[nt]*=_e.get(tt,nt);return et}function productAll(_e){let et=1;for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)et*=_e.get(tt,nt);return et}function varianceByRow(_e,et,tt){const nt=_e.rows,ot=_e.columns,it=[];for(let lt=0;lt<nt;lt++){let at=0,st=0,ut=0;for(let ct=0;ct<ot;ct++)ut=_e.get(lt,ct)-tt[lt],at+=ut,st+=ut*ut;et?it.push((st-at*at/ot)/(ot-1)):it.push((st-at*at/ot)/ot)}return it}function varianceByColumn(_e,et,tt){const nt=_e.rows,ot=_e.columns,it=[];for(let lt=0;lt<ot;lt++){let at=0,st=0,ut=0;for(let ct=0;ct<nt;ct++)ut=_e.get(ct,lt)-tt[lt],at+=ut,st+=ut*ut;et?it.push((st-at*at/nt)/(nt-1)):it.push((st-at*at/nt)/nt)}return it}function varianceAll(_e,et,tt){const nt=_e.rows,ot=_e.columns,it=nt*ot;let lt=0,at=0,st=0;for(let ut=0;ut<nt;ut++)for(let ct=0;ct<ot;ct++)st=_e.get(ut,ct)-tt,lt+=st,at+=st*st;return et?(at-lt*lt/it)/(it-1):(at-lt*lt/it)/it}function centerByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et[tt])}function centerByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et[nt])}function centerAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et)}function getScaleByRow(_e){const et=[];for(let tt=0;tt<_e.rows;tt++){let nt=0;for(let ot=0;ot<_e.columns;ot++)nt+=Math.pow(_e.get(tt,ot),2)/(_e.columns-1);et.push(Math.sqrt(nt))}return et}function scaleByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et[tt])}function getScaleByColumn(_e){const et=[];for(let tt=0;tt<_e.columns;tt++){let nt=0;for(let ot=0;ot<_e.rows;ot++)nt+=Math.pow(_e.get(ot,tt),2)/(_e.rows-1);et.push(Math.sqrt(nt))}return et}function scaleByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et[nt])}function getScaleAll(_e){const et=_e.size-1;let tt=0;for(let nt=0;nt<_e.columns;nt++)for(let ot=0;ot<_e.rows;ot++)tt+=Math.pow(_e.get(ot,nt),2)/et;return Math.sqrt(tt)}function scaleAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et)}class AbstractMatrix{static from1DArray(et,tt,nt){if(et*tt!==nt.length)throw new RangeError("data length does not match given dimensions");let it=new Matrix(et,tt);for(let lt=0;lt<et;lt++)for(let at=0;at<tt;at++)it.set(lt,at,nt[lt*tt+at]);return it}static rowVector(et){let tt=new Matrix(1,et.length);for(let nt=0;nt<et.length;nt++)tt.set(0,nt,et[nt]);return tt}static columnVector(et){let tt=new Matrix(et.length,1);for(let nt=0;nt<et.length;nt++)tt.set(nt,0,et[nt]);return tt}static zeros(et,tt){return new Matrix(et,tt)}static ones(et,tt){return new Matrix(et,tt).fill(1)}static rand(et,tt,nt={}){if(typeof nt!="object")throw new TypeError("options must be an object");const{random:ot=Math.random}=nt;let it=new Matrix(et,tt);for(let lt=0;lt<et;lt++)for(let at=0;at<tt;at++)it.set(lt,at,ot());return it}static randInt(et,tt,nt={}){if(typeof nt!="object")throw new TypeError("options must be an object");const{min:ot=0,max:it=1e3,random:lt=Math.random}=nt;if(!Number.isInteger(ot))throw new TypeError("min must be an integer");if(!Number.isInteger(it))throw new TypeError("max must be an integer");if(ot>=it)throw new RangeError("min must be smaller than max");let at=it-ot,st=new Matrix(et,tt);for(let ut=0;ut<et;ut++)for(let ct=0;ct<tt;ct++){let ft=ot+Math.round(lt()*at);st.set(ut,ct,ft)}return st}static eye(et,tt,nt){tt===void 0&&(tt=et),nt===void 0&&(nt=1);let ot=Math.min(et,tt),it=this.zeros(et,tt);for(let lt=0;lt<ot;lt++)it.set(lt,lt,nt);return it}static diag(et,tt,nt){let ot=et.length;tt===void 0&&(tt=ot),nt===void 0&&(nt=tt);let it=Math.min(ot,tt,nt),lt=this.zeros(tt,nt);for(let at=0;at<it;at++)lt.set(at,at,et[at]);return lt}static min(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let nt=et.rows,ot=et.columns,it=new Matrix(nt,ot);for(let lt=0;lt<nt;lt++)for(let at=0;at<ot;at++)it.set(lt,at,Math.min(et.get(lt,at),tt.get(lt,at)));return it}static max(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let nt=et.rows,ot=et.columns,it=new this(nt,ot);for(let lt=0;lt<nt;lt++)for(let at=0;at<ot;at++)it.set(lt,at,Math.max(et.get(lt,at),tt.get(lt,at)));return it}static checkMatrix(et){return AbstractMatrix.isMatrix(et)?et:new Matrix(et)}static isMatrix(et){return et!=null&&et.klass==="Matrix"}get size(){return this.rows*this.columns}apply(et){if(typeof et!="function")throw new TypeError("callback must be a function");for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.call(this,tt,nt);return this}to1DArray(){let et=[];for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.push(this.get(tt,nt));return et}to2DArray(){let et=[];for(let tt=0;tt<this.rows;tt++){et.push([]);for(let nt=0;nt<this.columns;nt++)et[tt].push(this.get(tt,nt))}return et}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let et=0;et<this.rows;et++)for(let tt=0;tt<=et;tt++)if(this.get(et,tt)!==this.get(tt,et))return!1;return!0}return!1}isEchelonForm(){let et=0,tt=0,nt=-1,ot=!0,it=!1;for(;et<this.rows&&ot;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>nt?(it=!0,nt=tt):(ot=!1,it=!0);et++}return ot}isReducedEchelonForm(){let et=0,tt=0,nt=-1,ot=!0,it=!1;for(;et<this.rows&&ot;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>nt?(it=!0,nt=tt):(ot=!1,it=!0);for(let lt=tt+1;lt<this.rows;lt++)this.get(et,lt)!==0&&(ot=!1);et++}return ot}echelonForm(){let et=this.clone(),tt=0,nt=0;for(;tt<et.rows&&nt<et.columns;){let ot=tt;for(let it=tt;it<et.rows;it++)et.get(it,nt)>et.get(ot,nt)&&(ot=it);if(et.get(ot,nt)===0)nt++;else{et.swapRows(tt,ot);let it=et.get(tt,nt);for(let lt=nt;lt<et.columns;lt++)et.set(tt,lt,et.get(tt,lt)/it);for(let lt=tt+1;lt<et.rows;lt++){let at=et.get(lt,nt)/et.get(tt,nt);et.set(lt,nt,0);for(let st=nt+1;st<et.columns;st++)et.set(lt,st,et.get(lt,st)-et.get(tt,st)*at)}tt++,nt++}}return et}reducedEchelonForm(){let et=this.echelonForm(),tt=et.columns,nt=et.rows,ot=nt-1;for(;ot>=0;)if(et.maxRow(ot)===0)ot--;else{let it=0,lt=!1;for(;it<nt&&lt===!1;)et.get(ot,it)===1?lt=!0:it++;for(let at=0;at<ot;at++){let st=et.get(at,it);for(let ut=it;ut<tt;ut++){let ct=et.get(at,ut)-st*et.get(ot,ut);et.set(at,ut,ct)}}ot--}return et}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{rows:tt=1,columns:nt=1}=et;if(!Number.isInteger(tt)||tt<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(nt)||nt<=0)throw new TypeError("columns must be a positive integer");let ot=new Matrix(this.rows*tt,this.columns*nt);for(let it=0;it<tt;it++)for(let lt=0;lt<nt;lt++)ot.setSubMatrix(this,this.rows*it,this.columns*lt);return ot}fill(et){for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,et);return this}neg(){return this.mulS(-1)}getRow(et){checkRowIndex(this,et);let tt=[];for(let nt=0;nt<this.columns;nt++)tt.push(this.get(et,nt));return tt}getRowVector(et){return Matrix.rowVector(this.getRow(et))}setRow(et,tt){checkRowIndex(this,et),tt=checkRowVector(this,tt);for(let nt=0;nt<this.columns;nt++)this.set(et,nt,tt[nt]);return this}swapRows(et,tt){checkRowIndex(this,et),checkRowIndex(this,tt);for(let nt=0;nt<this.columns;nt++){let ot=this.get(et,nt);this.set(et,nt,this.get(tt,nt)),this.set(tt,nt,ot)}return this}getColumn(et){checkColumnIndex(this,et);let tt=[];for(let nt=0;nt<this.rows;nt++)tt.push(this.get(nt,et));return tt}getColumnVector(et){return Matrix.columnVector(this.getColumn(et))}setColumn(et,tt){checkColumnIndex(this,et),tt=checkColumnVector(this,tt);for(let nt=0;nt<this.rows;nt++)this.set(nt,et,tt[nt]);return this}swapColumns(et,tt){checkColumnIndex(this,et),checkColumnIndex(this,tt);for(let nt=0;nt<this.rows;nt++){let ot=this.get(nt,et);this.set(nt,et,this.get(nt,tt)),this.set(nt,tt,ot)}return this}addRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)+et[nt]);return this}subRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)-et[nt]);return this}mulRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)*et[nt]);return this}divRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)/et[nt]);return this}addColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)+et[tt]);return this}subColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)-et[tt]);return this}mulColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)*et[tt]);return this}divColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)/et[tt]);return this}mulRow(et,tt){checkRowIndex(this,et);for(let nt=0;nt<this.columns;nt++)this.set(et,nt,this.get(et,nt)*tt);return this}mulColumn(et,tt){checkColumnIndex(this,et);for(let nt=0;nt<this.rows;nt++)this.set(nt,et,this.get(nt,et)*tt);return this}max(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)>tt[nt]&&(tt[nt]=this.get(nt,ot));return tt}case"column":{const tt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)>tt[ot]&&(tt[ot]=this.get(nt,ot));return tt}case void 0:{let tt=this.get(0,0);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)>tt&&(tt=this.get(nt,ot));return tt}default:throw new Error(`invalid option: ${et}`)}}maxIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)>et&&(et=this.get(nt,ot),tt[0]=nt,tt[1]=ot);return tt}min(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)<tt[nt]&&(tt[nt]=this.get(nt,ot));return tt}case"column":{const tt=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)<tt[ot]&&(tt[ot]=this.get(nt,ot));return tt}case void 0:{let tt=this.get(0,0);for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)<tt&&(tt=this.get(nt,ot));return tt}default:throw new Error(`invalid option: ${et}`)}}minIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)this.get(nt,ot)<et&&(et=this.get(nt,ot),tt[0]=nt,tt[1]=ot);return tt}maxRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let nt=1;nt<this.columns;nt++)this.get(et,nt)>tt&&(tt=this.get(et,nt));return tt}maxRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),nt=[et,0];for(let ot=1;ot<this.columns;ot++)this.get(et,ot)>tt&&(tt=this.get(et,ot),nt[1]=ot);return nt}minRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let nt=1;nt<this.columns;nt++)this.get(et,nt)<tt&&(tt=this.get(et,nt));return tt}minRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),nt=[et,0];for(let ot=1;ot<this.columns;ot++)this.get(et,ot)<tt&&(tt=this.get(et,ot),nt[1]=ot);return nt}maxColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let nt=1;nt<this.rows;nt++)this.get(nt,et)>tt&&(tt=this.get(nt,et));return tt}maxColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),nt=[0,et];for(let ot=1;ot<this.rows;ot++)this.get(ot,et)>tt&&(tt=this.get(ot,et),nt[0]=ot);return nt}minColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let nt=1;nt<this.rows;nt++)this.get(nt,et)<tt&&(tt=this.get(nt,et));return tt}minColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),nt=[0,et];for(let ot=1;ot<this.rows;ot++)this.get(ot,et)<tt&&(tt=this.get(ot,et),nt[0]=ot);return nt}diag(){let et=Math.min(this.rows,this.columns),tt=[];for(let nt=0;nt<et;nt++)tt.push(this.get(nt,nt));return tt}norm(et="frobenius"){let tt=0;if(et==="max")return this.max();if(et==="frobenius"){for(let nt=0;nt<this.rows;nt++)for(let ot=0;ot<this.columns;ot++)tt=tt+this.get(nt,ot)*this.get(nt,ot);return Math.sqrt(tt)}else throw new RangeError(`unknown norm type: ${et}`)}cumulativeSum(){let et=0;for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et+=this.get(tt,nt),this.set(tt,nt,et);return this}dot(et){AbstractMatrix.isMatrix(et)&&(et=et.to1DArray());let tt=this.to1DArray();if(tt.length!==et.length)throw new RangeError("vectors do not have the same size");let nt=0;for(let ot=0;ot<tt.length;ot++)nt+=tt[ot]*et[ot];return nt}mmul(et){et=Matrix.checkMatrix(et);let tt=this.rows,nt=this.columns,ot=et.columns,it=new Matrix(tt,ot),lt=new Float64Array(nt);for(let at=0;at<ot;at++){for(let st=0;st<nt;st++)lt[st]=et.get(st,at);for(let st=0;st<tt;st++){let ut=0;for(let ct=0;ct<nt;ct++)ut+=this.get(st,ct)*lt[ct];it.set(st,at,ut)}}return it}strassen2x2(et){et=Matrix.checkMatrix(et);let tt=new Matrix(2,2);const nt=this.get(0,0),ot=et.get(0,0),it=this.get(0,1),lt=et.get(0,1),at=this.get(1,0),st=et.get(1,0),ut=this.get(1,1),ct=et.get(1,1),ft=(nt+ut)*(ot+ct),dt=(at+ut)*ot,ht=nt*(lt-ct),gt=ut*(st-ot),yt=(nt+it)*ct,Et=(at-nt)*(ot+lt),mt=(it-ut)*(st+ct),_t=ft+gt-yt+mt,pt=ht+yt,wt=dt+gt,vt=ft-dt+ht+Et;return tt.set(0,0,_t),tt.set(0,1,pt),tt.set(1,0,wt),tt.set(1,1,vt),tt}strassen3x3(et){et=Matrix.checkMatrix(et);let tt=new Matrix(3,3);const nt=this.get(0,0),ot=this.get(0,1),it=this.get(0,2),lt=this.get(1,0),at=this.get(1,1),st=this.get(1,2),ut=this.get(2,0),ct=this.get(2,1),ft=this.get(2,2),dt=et.get(0,0),ht=et.get(0,1),gt=et.get(0,2),yt=et.get(1,0),Et=et.get(1,1),mt=et.get(1,2),_t=et.get(2,0),pt=et.get(2,1),wt=et.get(2,2),vt=(nt+ot+it-lt-at-ct-ft)*Et,bt=(nt-lt)*(-ht+Et),Rt=at*(-dt+ht+yt-Et-mt-_t+wt),St=(-nt+lt+at)*(dt-ht+Et),Ct=(lt+at)*(-dt+ht),xt=nt*dt,$t=(-nt+ut+ct)*(dt-gt+mt),Mt=(-nt+ut)*(gt-mt),kt=(ut+ct)*(-dt+gt),It=(nt+ot+it-at-st-ut-ct)*mt,Pt=ct*(-dt+gt+yt-Et-mt-_t+pt),jt=(-it+ct+ft)*(Et+_t-pt),zt=(it-ft)*(Et-pt),Tt=it*_t,Nt=(ct+ft)*(-_t+pt),Ot=(-it+at+st)*(mt+_t-wt),Vt=(it-st)*(mt-wt),Ut=(at+st)*(-_t+wt),Lt=ot*yt,Ft=st*pt,Dt=lt*gt,Ht=ut*ht,Wt=ft*wt,$n=xt+Tt+Lt,pn=vt+St+Ct+xt+jt+Tt+Nt,En=xt+$t+kt+It+Tt+Ot+Ut,mn=bt+Rt+St+xt+Tt+Ot+Vt,bn=bt+St+Ct+xt+Ft,gn=Tt+Ot+Vt+Ut+Dt,Yt=xt+$t+Mt+Pt+jt+zt+Tt,Bt=jt+zt+Tt+Nt+Ht,wn=xt+$t+Mt+kt+Wt;return tt.set(0,0,$n),tt.set(0,1,pn),tt.set(0,2,En),tt.set(1,0,mn),tt.set(1,1,bn),tt.set(1,2,gn),tt.set(2,0,Yt),tt.set(2,1,Bt),tt.set(2,2,wn),tt}mmulStrassen(et){et=Matrix.checkMatrix(et);let tt=this.clone(),nt=tt.rows,ot=tt.columns,it=et.rows,lt=et.columns;ot!==it&&console.warn(`Multiplying ${nt} x ${ot} and ${it} x ${lt} matrix: dimensions do not match.`);function at(ft,dt,ht){let gt=ft.rows,yt=ft.columns;if(gt===dt&&yt===ht)return ft;{let Et=AbstractMatrix.zeros(dt,ht);return Et=Et.setSubMatrix(ft,0,0),Et}}let st=Math.max(nt,it),ut=Math.max(ot,lt);tt=at(tt,st,ut),et=at(et,st,ut);function ct(ft,dt,ht,gt){if(ht<=512||gt<=512)return ft.mmul(dt);ht%2===1&&gt%2===1?(ft=at(ft,ht+1,gt+1),dt=at(dt,ht+1,gt+1)):ht%2===1?(ft=at(ft,ht+1,gt),dt=at(dt,ht+1,gt)):gt%2===1&&(ft=at(ft,ht,gt+1),dt=at(dt,ht,gt+1));let yt=parseInt(ft.rows/2,10),Et=parseInt(ft.columns/2,10),mt=ft.subMatrix(0,yt-1,0,Et-1),_t=dt.subMatrix(0,yt-1,0,Et-1),pt=ft.subMatrix(0,yt-1,Et,ft.columns-1),wt=dt.subMatrix(0,yt-1,Et,dt.columns-1),vt=ft.subMatrix(yt,ft.rows-1,0,Et-1),bt=dt.subMatrix(yt,dt.rows-1,0,Et-1),Rt=ft.subMatrix(yt,ft.rows-1,Et,ft.columns-1),St=dt.subMatrix(yt,dt.rows-1,Et,dt.columns-1),Ct=ct(AbstractMatrix.add(mt,Rt),AbstractMatrix.add(_t,St),yt,Et),xt=ct(AbstractMatrix.add(vt,Rt),_t,yt,Et),$t=ct(mt,AbstractMatrix.sub(wt,St),yt,Et),Mt=ct(Rt,AbstractMatrix.sub(bt,_t),yt,Et),kt=ct(AbstractMatrix.add(mt,pt),St,yt,Et),It=ct(AbstractMatrix.sub(vt,mt),AbstractMatrix.add(_t,wt),yt,Et),Pt=ct(AbstractMatrix.sub(pt,Rt),AbstractMatrix.add(bt,St),yt,Et),jt=AbstractMatrix.add(Ct,Mt);jt.sub(kt),jt.add(Pt);let zt=AbstractMatrix.add($t,kt),Tt=AbstractMatrix.add(xt,Mt),Nt=AbstractMatrix.sub(Ct,xt);Nt.add($t),Nt.add(It);let Ot=AbstractMatrix.zeros(2*jt.rows,2*jt.columns);return Ot=Ot.setSubMatrix(jt,0,0),Ot=Ot.setSubMatrix(zt,jt.rows,0),Ot=Ot.setSubMatrix(Tt,0,jt.columns),Ot=Ot.setSubMatrix(Nt,jt.rows,jt.columns),Ot.subMatrix(0,ht-1,0,gt-1)}return ct(tt,et,st,ut)}scaleRows(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:nt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(nt))throw new TypeError("max must be a number");if(tt>=nt)throw new RangeError("min must be smaller than max");let ot=new Matrix(this.rows,this.columns);for(let it=0;it<this.rows;it++){const lt=this.getRow(it);lt.length>0&&rescale(lt,{min:tt,max:nt,output:lt}),ot.setRow(it,lt)}return ot}scaleColumns(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:nt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(nt))throw new TypeError("max must be a number");if(tt>=nt)throw new RangeError("min must be smaller than max");let ot=new Matrix(this.rows,this.columns);for(let it=0;it<this.columns;it++){const lt=this.getColumn(it);lt.length&&rescale(lt,{min:tt,max:nt,output:lt}),ot.setColumn(it,lt)}return ot}flipRows(){const et=Math.ceil(this.columns/2);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<et;nt++){let ot=this.get(tt,nt),it=this.get(tt,this.columns-1-nt);this.set(tt,nt,it),this.set(tt,this.columns-1-nt,ot)}return this}flipColumns(){const et=Math.ceil(this.rows/2);for(let tt=0;tt<this.columns;tt++)for(let nt=0;nt<et;nt++){let ot=this.get(nt,tt),it=this.get(this.rows-1-nt,tt);this.set(nt,tt,it),this.set(this.rows-1-nt,tt,ot)}return this}kroneckerProduct(et){et=Matrix.checkMatrix(et);let tt=this.rows,nt=this.columns,ot=et.rows,it=et.columns,lt=new Matrix(tt*ot,nt*it);for(let at=0;at<tt;at++)for(let st=0;st<nt;st++)for(let ut=0;ut<ot;ut++)for(let ct=0;ct<it;ct++)lt.set(ot*at+ut,it*st+ct,this.get(at,st)*et.get(ut,ct));return lt}kroneckerSum(et){if(et=Matrix.checkMatrix(et),!this.isSquare()||!et.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let tt=this.rows,nt=et.rows,ot=this.kroneckerProduct(Matrix.eye(nt,nt)),it=Matrix.eye(tt,tt).kroneckerProduct(et);return ot.add(it)}transpose(){let et=new Matrix(this.columns,this.rows);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.set(nt,tt,this.get(tt,nt));return et}sortRows(et=compareNumbers){for(let tt=0;tt<this.rows;tt++)this.setRow(tt,this.getRow(tt).sort(et));return this}sortColumns(et=compareNumbers){for(let tt=0;tt<this.columns;tt++)this.setColumn(tt,this.getColumn(tt).sort(et));return this}subMatrix(et,tt,nt,ot){checkRange$1(this,et,tt,nt,ot);let it=new Matrix(tt-et+1,ot-nt+1);for(let lt=et;lt<=tt;lt++)for(let at=nt;at<=ot;at++)it.set(lt-et,at-nt,this.get(lt,at));return it}subMatrixRow(et,tt,nt){if(tt===void 0&&(tt=0),nt===void 0&&(nt=this.columns-1),tt>nt||tt<0||tt>=this.columns||nt<0||nt>=this.columns)throw new RangeError("Argument out of range");let ot=new Matrix(et.length,nt-tt+1);for(let it=0;it<et.length;it++)for(let lt=tt;lt<=nt;lt++){if(et[it]<0||et[it]>=this.rows)throw new RangeError(`Row index out of range: ${et[it]}`);ot.set(it,lt-tt,this.get(et[it],lt))}return ot}subMatrixColumn(et,tt,nt){if(tt===void 0&&(tt=0),nt===void 0&&(nt=this.rows-1),tt>nt||tt<0||tt>=this.rows||nt<0||nt>=this.rows)throw new RangeError("Argument out of range");let ot=new Matrix(nt-tt+1,et.length);for(let it=0;it<et.length;it++)for(let lt=tt;lt<=nt;lt++){if(et[it]<0||et[it]>=this.columns)throw new RangeError(`Column index out of range: ${et[it]}`);ot.set(lt-tt,it,this.get(lt,et[it]))}return ot}setSubMatrix(et,tt,nt){if(et=Matrix.checkMatrix(et),et.isEmpty())return this;let ot=tt+et.rows-1,it=nt+et.columns-1;checkRange$1(this,tt,ot,nt,it);for(let lt=0;lt<et.rows;lt++)for(let at=0;at<et.columns;at++)this.set(tt+lt,nt+at,et.get(lt,at));return this}selection(et,tt){checkRowIndices(this,et),checkColumnIndices(this,tt);let nt=new Matrix(et.length,tt.length);for(let ot=0;ot<et.length;ot++){let it=et[ot];for(let lt=0;lt<tt.length;lt++){let at=tt[lt];nt.set(ot,lt,this.get(it,at))}}return nt}trace(){let et=Math.min(this.rows,this.columns),tt=0;for(let nt=0;nt<et;nt++)tt+=this.get(nt,nt);return tt}clone(){let et=new Matrix(this.rows,this.columns);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.set(tt,nt,this.get(tt,nt));return et}sum(et){switch(et){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${et}`)}}product(et){switch(et){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${et}`)}}mean(et){const tt=this.sum(et);switch(et){case"row":{for(let nt=0;nt<this.rows;nt++)tt[nt]/=this.columns;return tt}case"column":{for(let nt=0;nt<this.columns;nt++)tt[nt]/=this.rows;return tt}case void 0:return tt/this.size;default:throw new Error(`invalid option: ${et}`)}}variance(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{unbiased:nt=!0,mean:ot=this.mean(et)}=tt;if(typeof nt!="boolean")throw new TypeError("unbiased must be a boolean");switch(et){case"row":{if(!isAnyArray(ot))throw new TypeError("mean must be an array");return varianceByRow(this,nt,ot)}case"column":{if(!isAnyArray(ot))throw new TypeError("mean must be an array");return varianceByColumn(this,nt,ot)}case void 0:{if(typeof ot!="number")throw new TypeError("mean must be a number");return varianceAll(this,nt,ot)}default:throw new Error(`invalid option: ${et}`)}}standardDeviation(et,tt){typeof et=="object"&&(tt=et,et=void 0);const nt=this.variance(et,tt);if(et===void 0)return Math.sqrt(nt);for(let ot=0;ot<nt.length;ot++)nt[ot]=Math.sqrt(nt[ot]);return nt}center(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{center:nt=this.mean(et)}=tt;switch(et){case"row":{if(!isAnyArray(nt))throw new TypeError("center must be an array");return centerByRow(this,nt),this}case"column":{if(!isAnyArray(nt))throw new TypeError("center must be an array");return centerByColumn(this,nt),this}case void 0:{if(typeof nt!="number")throw new TypeError("center must be a number");return centerAll(this,nt),this}default:throw new Error(`invalid option: ${et}`)}}scale(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");let nt=tt.scale;switch(et){case"row":{if(nt===void 0)nt=getScaleByRow(this);else if(!isAnyArray(nt))throw new TypeError("scale must be an array");return scaleByRow(this,nt),this}case"column":{if(nt===void 0)nt=getScaleByColumn(this);else if(!isAnyArray(nt))throw new TypeError("scale must be an array");return scaleByColumn(this,nt),this}case void 0:{if(nt===void 0)nt=getScaleAll(this);else if(typeof nt!="number")throw new TypeError("scale must be a number");return scaleAll(this,nt),this}default:throw new Error(`invalid option: ${et}`)}}toString(et){return inspectMatrixWithOptions(this,et)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(_e,et){return _e-et}function isArrayOfNumbers(_e){return _e.every(et=>typeof et=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;class Matrix extends AbstractMatrix{constructor(et,tt){if(super(),Matrix.isMatrix(et))return et.clone();if(Number.isInteger(et)&&et>=0)if(this.data=[],Number.isInteger(tt)&&tt>=0)for(let nt=0;nt<et;nt++)this.data.push(new Float64Array(tt));else throw new TypeError("nColumns must be a positive integer");else if(isAnyArray(et)){const nt=et;if(et=nt.length,tt=et?nt[0].length:0,typeof tt!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let ot=0;ot<et;ot++){if(nt[ot].length!==tt)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(nt[ot]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(nt[ot]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=et,this.columns=tt}set(et,tt,nt){return this.data[et][tt]=nt,this}get(et,tt){return this.data[et][tt]}removeRow(et){return checkRowIndex(this,et),this.data.splice(et,1),this.rows-=1,this}addRow(et,tt){return tt===void 0&&(tt=et,et=this.rows),checkRowIndex(this,et,!0),tt=Float64Array.from(checkRowVector(this,tt)),this.data.splice(et,0,tt),this.rows+=1,this}removeColumn(et){checkColumnIndex(this,et);for(let tt=0;tt<this.rows;tt++){const nt=new Float64Array(this.columns-1);for(let ot=0;ot<et;ot++)nt[ot]=this.data[tt][ot];for(let ot=et+1;ot<this.columns;ot++)nt[ot-1]=this.data[tt][ot];this.data[tt]=nt}return this.columns-=1,this}addColumn(et,tt){typeof tt>"u"&&(tt=et,et=this.columns),checkColumnIndex(this,et,!0),tt=checkColumnVector(this,tt);for(let nt=0;nt<this.rows;nt++){const ot=new Float64Array(this.columns+1);let it=0;for(;it<et;it++)ot[it]=this.data[nt][it];for(ot[it++]=tt[nt];it<this.columns+1;it++)ot[it]=this.data[nt][it-1];this.data[nt]=ot}return this.columns+=1,this}}installMathOperations(AbstractMatrix,Matrix);class WrapperMatrix2D extends AbstractMatrix{constructor(et){super(),this.data=et,this.rows=et.length,this.columns=et[0].length}set(et,tt,nt){return this.data[et][tt]=nt,this}get(et,tt){return this.data[et][tt]}}class LuDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),nt=tt.rows,ot=tt.columns,it=new Float64Array(nt),lt=1,at,st,ut,ct,ft,dt,ht,gt,yt;for(at=0;at<nt;at++)it[at]=at;for(gt=new Float64Array(nt),st=0;st<ot;st++){for(at=0;at<nt;at++)gt[at]=tt.get(at,st);for(at=0;at<nt;at++){for(yt=Math.min(at,st),ft=0,ut=0;ut<yt;ut++)ft+=tt.get(at,ut)*gt[ut];gt[at]-=ft,tt.set(at,st,gt[at])}for(ct=st,at=st+1;at<nt;at++)Math.abs(gt[at])>Math.abs(gt[ct])&&(ct=at);if(ct!==st){for(ut=0;ut<ot;ut++)dt=tt.get(ct,ut),tt.set(ct,ut,tt.get(st,ut)),tt.set(st,ut,dt);ht=it[ct],it[ct]=it[st],it[st]=ht,lt=-lt}if(st<nt&&tt.get(st,st)!==0)for(at=st+1;at<nt;at++)tt.set(at,st,tt.get(at,st)/tt.get(st,st))}this.LU=tt,this.pivotVector=it,this.pivotSign=lt}isSingular(){let et=this.LU,tt=et.columns;for(let nt=0;nt<tt;nt++)if(et.get(nt,nt)===0)return!0;return!1}solve(et){et=Matrix.checkMatrix(et);let tt=this.LU;if(tt.rows!==et.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let ot=et.columns,it=et.subMatrixRow(this.pivotVector,0,ot-1),lt=tt.columns,at,st,ut;for(ut=0;ut<lt;ut++)for(at=ut+1;at<lt;at++)for(st=0;st<ot;st++)it.set(at,st,it.get(at,st)-it.get(ut,st)*tt.get(at,ut));for(ut=lt-1;ut>=0;ut--){for(st=0;st<ot;st++)it.set(ut,st,it.get(ut,st)/tt.get(ut,ut));for(at=0;at<ut;at++)for(st=0;st<ot;st++)it.set(at,st,it.get(at,st)-it.get(ut,st)*tt.get(at,ut))}return it}get determinant(){let et=this.LU;if(!et.isSquare())throw new Error("Matrix must be square");let tt=this.pivotSign,nt=et.columns;for(let ot=0;ot<nt;ot++)tt*=et.get(ot,ot);return tt}get lowerTriangularMatrix(){let et=this.LU,tt=et.rows,nt=et.columns,ot=new Matrix(tt,nt);for(let it=0;it<tt;it++)for(let lt=0;lt<nt;lt++)it>lt?ot.set(it,lt,et.get(it,lt)):it===lt?ot.set(it,lt,1):ot.set(it,lt,0);return ot}get upperTriangularMatrix(){let et=this.LU,tt=et.rows,nt=et.columns,ot=new Matrix(tt,nt);for(let it=0;it<tt;it++)for(let lt=0;lt<nt;lt++)it<=lt?ot.set(it,lt,et.get(it,lt)):ot.set(it,lt,0);return ot}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(_e,et){let tt=0;return Math.abs(_e)>Math.abs(et)?(tt=et/_e,Math.abs(_e)*Math.sqrt(1+tt*tt)):et!==0?(tt=_e/et,Math.abs(et)*Math.sqrt(1+tt*tt)):0}class QrDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),nt=et.rows,ot=et.columns,it=new Float64Array(ot),lt,at,st,ut;for(st=0;st<ot;st++){let ct=0;for(lt=st;lt<nt;lt++)ct=hypotenuse$1(ct,tt.get(lt,st));if(ct!==0){for(tt.get(st,st)<0&&(ct=-ct),lt=st;lt<nt;lt++)tt.set(lt,st,tt.get(lt,st)/ct);for(tt.set(st,st,tt.get(st,st)+1),at=st+1;at<ot;at++){for(ut=0,lt=st;lt<nt;lt++)ut+=tt.get(lt,st)*tt.get(lt,at);for(ut=-ut/tt.get(st,st),lt=st;lt<nt;lt++)tt.set(lt,at,tt.get(lt,at)+ut*tt.get(lt,st))}}it[st]=-ct}this.QR=tt,this.Rdiag=it}solve(et){et=Matrix.checkMatrix(et);let tt=this.QR,nt=tt.rows;if(et.rows!==nt)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let ot=et.columns,it=et.clone(),lt=tt.columns,at,st,ut,ct;for(ut=0;ut<lt;ut++)for(st=0;st<ot;st++){for(ct=0,at=ut;at<nt;at++)ct+=tt.get(at,ut)*it.get(at,st);for(ct=-ct/tt.get(ut,ut),at=ut;at<nt;at++)it.set(at,st,it.get(at,st)+ct*tt.get(at,ut))}for(ut=lt-1;ut>=0;ut--){for(st=0;st<ot;st++)it.set(ut,st,it.get(ut,st)/this.Rdiag[ut]);for(at=0;at<ut;at++)for(st=0;st<ot;st++)it.set(at,st,it.get(at,st)-it.get(ut,st)*tt.get(at,ut))}return it.subMatrix(0,lt-1,0,ot-1)}isFullRank(){let et=this.QR.columns;for(let tt=0;tt<et;tt++)if(this.Rdiag[tt]===0)return!1;return!0}get upperTriangularMatrix(){let et=this.QR,tt=et.columns,nt=new Matrix(tt,tt),ot,it;for(ot=0;ot<tt;ot++)for(it=0;it<tt;it++)ot<it?nt.set(ot,it,et.get(ot,it)):ot===it?nt.set(ot,it,this.Rdiag[ot]):nt.set(ot,it,0);return nt}get orthogonalMatrix(){let et=this.QR,tt=et.rows,nt=et.columns,ot=new Matrix(tt,nt),it,lt,at,st;for(at=nt-1;at>=0;at--){for(it=0;it<tt;it++)ot.set(it,at,0);for(ot.set(at,at,1),lt=at;lt<nt;lt++)if(et.get(at,at)!==0){for(st=0,it=at;it<tt;it++)st+=et.get(it,at)*ot.get(it,lt);for(st=-st/et.get(at,at),it=at;it<tt;it++)ot.set(it,lt,ot.get(it,lt)+st*et.get(it,at))}}return ot}}class SingularValueDecomposition{constructor(et,tt={}){if(et=WrapperMatrix2D.checkMatrix(et),et.isEmpty())throw new Error("Matrix must be non-empty");let nt=et.rows,ot=et.columns;const{computeLeftSingularVectors:it=!0,computeRightSingularVectors:lt=!0,autoTranspose:at=!1}=tt;let st=Boolean(it),ut=Boolean(lt),ct=!1,ft;if(nt<ot)if(!at)ft=et.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ft=et.transpose(),nt=ft.rows,ot=ft.columns,ct=!0;let xt=st;st=ut,ut=xt}else ft=et.clone();let dt=Math.min(nt,ot),ht=Math.min(nt+1,ot),gt=new Float64Array(ht),yt=new Matrix(nt,dt),Et=new Matrix(ot,ot),mt=new Float64Array(ot),_t=new Float64Array(nt),pt=new Float64Array(ht);for(let xt=0;xt<ht;xt++)pt[xt]=xt;let wt=Math.min(nt-1,ot),vt=Math.max(0,Math.min(ot-2,nt)),bt=Math.max(wt,vt);for(let xt=0;xt<bt;xt++){if(xt<wt){gt[xt]=0;for(let $t=xt;$t<nt;$t++)gt[xt]=hypotenuse$1(gt[xt],ft.get($t,xt));if(gt[xt]!==0){ft.get(xt,xt)<0&&(gt[xt]=-gt[xt]);for(let $t=xt;$t<nt;$t++)ft.set($t,xt,ft.get($t,xt)/gt[xt]);ft.set(xt,xt,ft.get(xt,xt)+1)}gt[xt]=-gt[xt]}for(let $t=xt+1;$t<ot;$t++){if(xt<wt&&gt[xt]!==0){let Mt=0;for(let kt=xt;kt<nt;kt++)Mt+=ft.get(kt,xt)*ft.get(kt,$t);Mt=-Mt/ft.get(xt,xt);for(let kt=xt;kt<nt;kt++)ft.set(kt,$t,ft.get(kt,$t)+Mt*ft.get(kt,xt))}mt[$t]=ft.get(xt,$t)}if(st&&xt<wt)for(let $t=xt;$t<nt;$t++)yt.set($t,xt,ft.get($t,xt));if(xt<vt){mt[xt]=0;for(let $t=xt+1;$t<ot;$t++)mt[xt]=hypotenuse$1(mt[xt],mt[$t]);if(mt[xt]!==0){mt[xt+1]<0&&(mt[xt]=0-mt[xt]);for(let $t=xt+1;$t<ot;$t++)mt[$t]/=mt[xt];mt[xt+1]+=1}if(mt[xt]=-mt[xt],xt+1<nt&&mt[xt]!==0){for(let $t=xt+1;$t<nt;$t++)_t[$t]=0;for(let $t=xt+1;$t<nt;$t++)for(let Mt=xt+1;Mt<ot;Mt++)_t[$t]+=mt[Mt]*ft.get($t,Mt);for(let $t=xt+1;$t<ot;$t++){let Mt=-mt[$t]/mt[xt+1];for(let kt=xt+1;kt<nt;kt++)ft.set(kt,$t,ft.get(kt,$t)+Mt*_t[kt])}}if(ut)for(let $t=xt+1;$t<ot;$t++)Et.set($t,xt,mt[$t])}}let Rt=Math.min(ot,nt+1);if(wt<ot&&(gt[wt]=ft.get(wt,wt)),nt<Rt&&(gt[Rt-1]=0),vt+1<Rt&&(mt[vt]=ft.get(vt,Rt-1)),mt[Rt-1]=0,st){for(let xt=wt;xt<dt;xt++){for(let $t=0;$t<nt;$t++)yt.set($t,xt,0);yt.set(xt,xt,1)}for(let xt=wt-1;xt>=0;xt--)if(gt[xt]!==0){for(let $t=xt+1;$t<dt;$t++){let Mt=0;for(let kt=xt;kt<nt;kt++)Mt+=yt.get(kt,xt)*yt.get(kt,$t);Mt=-Mt/yt.get(xt,xt);for(let kt=xt;kt<nt;kt++)yt.set(kt,$t,yt.get(kt,$t)+Mt*yt.get(kt,xt))}for(let $t=xt;$t<nt;$t++)yt.set($t,xt,-yt.get($t,xt));yt.set(xt,xt,1+yt.get(xt,xt));for(let $t=0;$t<xt-1;$t++)yt.set($t,xt,0)}else{for(let $t=0;$t<nt;$t++)yt.set($t,xt,0);yt.set(xt,xt,1)}}if(ut)for(let xt=ot-1;xt>=0;xt--){if(xt<vt&&mt[xt]!==0)for(let $t=xt+1;$t<ot;$t++){let Mt=0;for(let kt=xt+1;kt<ot;kt++)Mt+=Et.get(kt,xt)*Et.get(kt,$t);Mt=-Mt/Et.get(xt+1,xt);for(let kt=xt+1;kt<ot;kt++)Et.set(kt,$t,Et.get(kt,$t)+Mt*Et.get(kt,xt))}for(let $t=0;$t<ot;$t++)Et.set($t,xt,0);Et.set(xt,xt,1)}let St=Rt-1,Ct=Number.EPSILON;for(;Rt>0;){let xt,$t;for(xt=Rt-2;xt>=-1&&xt!==-1;xt--){const Mt=Number.MIN_VALUE+Ct*Math.abs(gt[xt]+Math.abs(gt[xt+1]));if(Math.abs(mt[xt])<=Mt||Number.isNaN(mt[xt])){mt[xt]=0;break}}if(xt===Rt-2)$t=4;else{let Mt;for(Mt=Rt-1;Mt>=xt&&Mt!==xt;Mt--){let kt=(Mt!==Rt?Math.abs(mt[Mt]):0)+(Mt!==xt+1?Math.abs(mt[Mt-1]):0);if(Math.abs(gt[Mt])<=Ct*kt){gt[Mt]=0;break}}Mt===xt?$t=3:Mt===Rt-1?$t=1:($t=2,xt=Mt)}switch(xt++,$t){case 1:{let Mt=mt[Rt-2];mt[Rt-2]=0;for(let kt=Rt-2;kt>=xt;kt--){let It=hypotenuse$1(gt[kt],Mt),Pt=gt[kt]/It,jt=Mt/It;if(gt[kt]=It,kt!==xt&&(Mt=-jt*mt[kt-1],mt[kt-1]=Pt*mt[kt-1]),ut)for(let zt=0;zt<ot;zt++)It=Pt*Et.get(zt,kt)+jt*Et.get(zt,Rt-1),Et.set(zt,Rt-1,-jt*Et.get(zt,kt)+Pt*Et.get(zt,Rt-1)),Et.set(zt,kt,It)}break}case 2:{let Mt=mt[xt-1];mt[xt-1]=0;for(let kt=xt;kt<Rt;kt++){let It=hypotenuse$1(gt[kt],Mt),Pt=gt[kt]/It,jt=Mt/It;if(gt[kt]=It,Mt=-jt*mt[kt],mt[kt]=Pt*mt[kt],st)for(let zt=0;zt<nt;zt++)It=Pt*yt.get(zt,kt)+jt*yt.get(zt,xt-1),yt.set(zt,xt-1,-jt*yt.get(zt,kt)+Pt*yt.get(zt,xt-1)),yt.set(zt,kt,It)}break}case 3:{const Mt=Math.max(Math.abs(gt[Rt-1]),Math.abs(gt[Rt-2]),Math.abs(mt[Rt-2]),Math.abs(gt[xt]),Math.abs(mt[xt])),kt=gt[Rt-1]/Mt,It=gt[Rt-2]/Mt,Pt=mt[Rt-2]/Mt,jt=gt[xt]/Mt,zt=mt[xt]/Mt,Tt=((It+kt)*(It-kt)+Pt*Pt)/2,Nt=kt*Pt*(kt*Pt);let Ot=0;(Tt!==0||Nt!==0)&&(Tt<0?Ot=0-Math.sqrt(Tt*Tt+Nt):Ot=Math.sqrt(Tt*Tt+Nt),Ot=Nt/(Tt+Ot));let Vt=(jt+kt)*(jt-kt)+Ot,Ut=jt*zt;for(let Lt=xt;Lt<Rt-1;Lt++){let Ft=hypotenuse$1(Vt,Ut);Ft===0&&(Ft=Number.MIN_VALUE);let Dt=Vt/Ft,Ht=Ut/Ft;if(Lt!==xt&&(mt[Lt-1]=Ft),Vt=Dt*gt[Lt]+Ht*mt[Lt],mt[Lt]=Dt*mt[Lt]-Ht*gt[Lt],Ut=Ht*gt[Lt+1],gt[Lt+1]=Dt*gt[Lt+1],ut)for(let Wt=0;Wt<ot;Wt++)Ft=Dt*Et.get(Wt,Lt)+Ht*Et.get(Wt,Lt+1),Et.set(Wt,Lt+1,-Ht*Et.get(Wt,Lt)+Dt*Et.get(Wt,Lt+1)),Et.set(Wt,Lt,Ft);if(Ft=hypotenuse$1(Vt,Ut),Ft===0&&(Ft=Number.MIN_VALUE),Dt=Vt/Ft,Ht=Ut/Ft,gt[Lt]=Ft,Vt=Dt*mt[Lt]+Ht*gt[Lt+1],gt[Lt+1]=-Ht*mt[Lt]+Dt*gt[Lt+1],Ut=Ht*mt[Lt+1],mt[Lt+1]=Dt*mt[Lt+1],st&&Lt<nt-1)for(let Wt=0;Wt<nt;Wt++)Ft=Dt*yt.get(Wt,Lt)+Ht*yt.get(Wt,Lt+1),yt.set(Wt,Lt+1,-Ht*yt.get(Wt,Lt)+Dt*yt.get(Wt,Lt+1)),yt.set(Wt,Lt,Ft)}mt[Rt-2]=Vt;break}case 4:{if(gt[xt]<=0&&(gt[xt]=gt[xt]<0?-gt[xt]:0,ut))for(let Mt=0;Mt<=St;Mt++)Et.set(Mt,xt,-Et.get(Mt,xt));for(;xt<St&&!(gt[xt]>=gt[xt+1]);){let Mt=gt[xt];if(gt[xt]=gt[xt+1],gt[xt+1]=Mt,ut&&xt<ot-1)for(let kt=0;kt<ot;kt++)Mt=Et.get(kt,xt+1),Et.set(kt,xt+1,Et.get(kt,xt)),Et.set(kt,xt,Mt);if(st&&xt<nt-1)for(let kt=0;kt<nt;kt++)Mt=yt.get(kt,xt+1),yt.set(kt,xt+1,yt.get(kt,xt)),yt.set(kt,xt,Mt);xt++}Rt--;break}}}if(ct){let xt=Et;Et=yt,yt=xt}this.m=nt,this.n=ot,this.s=gt,this.U=yt,this.V=Et}solve(et){let tt=et,nt=this.threshold,ot=this.s.length,it=Matrix.zeros(ot,ot);for(let dt=0;dt<ot;dt++)Math.abs(this.s[dt])<=nt?it.set(dt,dt,0):it.set(dt,dt,1/this.s[dt]);let lt=this.U,at=this.rightSingularVectors,st=at.mmul(it),ut=at.rows,ct=lt.rows,ft=Matrix.zeros(ut,ct);for(let dt=0;dt<ut;dt++)for(let ht=0;ht<ct;ht++){let gt=0;for(let yt=0;yt<ot;yt++)gt+=st.get(dt,yt)*lt.get(ht,yt);ft.set(dt,ht,gt)}return ft.mmul(tt)}solveForDiagonal(et){return this.solve(Matrix.diag(et))}inverse(){let et=this.V,tt=this.threshold,nt=et.rows,ot=et.columns,it=new Matrix(nt,this.s.length);for(let ct=0;ct<nt;ct++)for(let ft=0;ft<ot;ft++)Math.abs(this.s[ft])>tt&&it.set(ct,ft,et.get(ct,ft)/this.s[ft]);let lt=this.U,at=lt.rows,st=lt.columns,ut=new Matrix(nt,at);for(let ct=0;ct<nt;ct++)for(let ft=0;ft<at;ft++){let dt=0;for(let ht=0;ht<st;ht++)dt+=it.get(ct,ht)*lt.get(ft,ht);ut.set(ct,ft,dt)}return ut}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let et=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,tt=0,nt=this.s;for(let ot=0,it=nt.length;ot<it;ot++)nt[ot]>et&&tt++;return tt}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix.diag(this.s)}}function inverse(_e,et=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et?new SingularValueDecomposition(_e).inverse():solve(_e,Matrix.eye(_e.rows))}function solve(_e,et,tt=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et=WrapperMatrix2D.checkMatrix(et),tt?new SingularValueDecomposition(_e).solve(et):_e.isSquare()?new LuDecomposition(_e).solve(et):new QrDecomposition(_e).solve(et)}function pseudoInverse(_e,et=Number.EPSILON){if(_e=Matrix.checkMatrix(_e),_e.isEmpty())return _e.transpose();let tt=new SingularValueDecomposition(_e,{autoTranspose:!0}),nt=tt.leftSingularVectors,ot=tt.rightSingularVectors,it=tt.diagonal;for(let lt=0;lt<it.length;lt++)Math.abs(it[lt])>et?it[lt]=1/it[lt]:it[lt]=0;return ot.mmul(Matrix.diag(it).mmul(nt.transpose()))}class MultivariateLinearRegression{constructor(et,tt,nt={}){const{intercept:ot=!0,statistics:it=!0}=nt;if(this.statistics=it,et===!0)this.weights=tt.weights,this.inputs=tt.inputs,this.outputs=tt.outputs,this.intercept=tt.intercept;else{et=new Matrix(et),tt=new Matrix(tt),ot&&et.addColumn(new Array(et.rows).fill(1));let lt=et.transpose();const at=lt.mmul(et),st=lt.mmul(tt),ut=new SingularValueDecomposition(at).inverse(),ct=st.transpose().mmul(ut).transpose();if(this.weights=ct.to2DArray(),this.inputs=et.columns,this.outputs=tt.columns,ot&&this.inputs--,this.intercept=ot,it){const ft=et.mmul(ct),ht=tt.clone().addM(ft.neg()).to2DArray().map(gt=>Math.pow(gt[0],2)).reduce((gt,yt)=>gt+yt)/(tt.rows-et.columns);this.stdError=Math.sqrt(ht),this.stdErrorMatrix=pseudoInverse(at).mul(ht),this.stdErrors=this.stdErrorMatrix.diagonal().map(gt=>Math.sqrt(gt)),this.tStats=this.weights.map((gt,yt)=>this.stdErrors[yt]===0?0:gt[0]/this.stdErrors[yt])}}}predict(et){if(Array.isArray(et)){if(typeof et[0]=="number")return this._predict(et);if(Array.isArray(et[0])){const tt=new Array(et.length);for(let nt=0;nt<et.length;nt++)tt[nt]=this._predict(et[nt]);return tt}}else if(Matrix.isMatrix(et)){const tt=new Matrix(et.rows,this.outputs);for(let nt=0;nt<et.rows;nt++)tt.setRow(nt,this._predict(et.getRow(nt)));return tt}throw new TypeError("x must be a matrix or array of numbers")}_predict(et){const tt=new Array(this.outputs);if(this.intercept)for(let nt=0;nt<this.outputs;nt++)tt[nt]=this.weights[this.inputs][nt];else tt.fill(0);for(let nt=0;nt<this.inputs;nt++)for(let ot=0;ot<this.outputs;ot++)tt[ot]+=this.weights[nt][ot]*et[nt];return tt}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((et,tt)=>({label:tt===this.weights.length-1?"Intercept":`X Variable ${tt+1}`,coefficients:et,standardError:this.stdErrors[tt],tStat:this.tStats[tt]}))}:void 0}}static load(et){if(et.name!=="multivariateLinearRegression")throw new Error("not a MLR model");return new MultivariateLinearRegression(!0,et)}}function getClamp(_e){if(_e.maxValue===255)return clamp255;if(_e.maxValue===65535)return clamp65535;throw new Error(`unknown maxValue: ${_e.maxValue}`)}function clamp255(_e){return Math.min(Math.max(_e,0),255)}function clamp65535(_e){return Math.min(Math.max(_e,0),65535)}var r$3={grad:.9,turn:360,rad:360/(2*Math.PI)},t$3=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$2=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},e$3=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},u$4=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a$4=function(_e){return{r:e$3(_e.r,0,255),g:e$3(_e.g,0,255),b:e$3(_e.b,0,255),a:e$3(_e.a)}},o$6=function(_e){return{r:n$2(_e.r),g:n$2(_e.g),b:n$2(_e.b),a:n$2(_e.a,3)}},i$4=/^#([0-9a-f]{3,8})$/i,s$6=function(_e){var et=_e.toString(16);return et.length<2?"0"+et:et},h$3=function(_e){var et=_e.r,tt=_e.g,nt=_e.b,ot=_e.a,it=Math.max(et,tt,nt),lt=it-Math.min(et,tt,nt),at=lt?it===et?(tt-nt)/lt:it===tt?2+(nt-et)/lt:4+(et-tt)/lt:0;return{h:60*(at<0?at+6:at),s:it?lt/it*100:0,v:it/255*100,a:ot}},b$2=function(_e){var et=_e.h,tt=_e.s,nt=_e.v,ot=_e.a;et=et/360*6,tt/=100,nt/=100;var it=Math.floor(et),lt=nt*(1-tt),at=nt*(1-(et-it)*tt),st=nt*(1-(1-et+it)*tt),ut=it%6;return{r:255*[nt,at,lt,lt,st,nt][ut],g:255*[st,nt,nt,at,lt,lt][ut],b:255*[lt,lt,st,nt,nt,at][ut],a:ot}},g$2=function(_e){return{h:u$4(_e.h),s:e$3(_e.s,0,100),l:e$3(_e.l,0,100),a:e$3(_e.a)}},d$3=function(_e){return{h:n$2(_e.h),s:n$2(_e.s),l:n$2(_e.l),a:n$2(_e.a,3)}},f$3=function(_e){return b$2((tt=(et=_e).s,{h:et.h,s:(tt*=((nt=et.l)<50?nt:100-nt)/100)>0?2*tt/(nt+tt)*100:0,v:nt+tt,a:et.a}));var et,tt,nt},c$2=function(_e){return{h:(et=h$3(_e)).h,s:(ot=(200-(tt=et.s))*(nt=et.v)/100)>0&&ot<200?tt*nt/100/(ot<=100?ot:200-ot)*100:0,l:ot/2,a:et.a};var et,tt,nt,ot},l$4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$2={string:[[function(_e){var et=i$4.exec(_e);return et?(_e=et[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$2(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$2(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var et=v$1.exec(_e)||m$1.exec(_e);return et?et[2]!==et[4]||et[4]!==et[6]?null:a$4({r:Number(et[1])/(et[2]?100/255:1),g:Number(et[3])/(et[4]?100/255:1),b:Number(et[5])/(et[6]?100/255:1),a:et[7]===void 0?1:Number(et[7])/(et[8]?100:1)}):null},"rgb"],[function(_e){var et=l$4.exec(_e)||p$4.exec(_e);if(!et)return null;var tt,nt,ot=g$2({h:(tt=et[1],nt=et[2],nt===void 0&&(nt="deg"),Number(tt)*(r$3[nt]||1)),s:Number(et[3]),l:Number(et[4]),a:et[5]===void 0?1:Number(et[5])/(et[6]?100:1)});return f$3(ot)},"hsl"]],object:[[function(_e){var et=_e.r,tt=_e.g,nt=_e.b,ot=_e.a,it=ot===void 0?1:ot;return t$3(et)&&t$3(tt)&&t$3(nt)?a$4({r:Number(et),g:Number(tt),b:Number(nt),a:Number(it)}):null},"rgb"],[function(_e){var et=_e.h,tt=_e.s,nt=_e.l,ot=_e.a,it=ot===void 0?1:ot;if(!t$3(et)||!t$3(tt)||!t$3(nt))return null;var lt=g$2({h:Number(et),s:Number(tt),l:Number(nt),a:Number(it)});return f$3(lt)},"hsl"],[function(_e){var et=_e.h,tt=_e.s,nt=_e.v,ot=_e.a,it=ot===void 0?1:ot;if(!t$3(et)||!t$3(tt)||!t$3(nt))return null;var lt=function(at){return{h:u$4(at.h),s:e$3(at.s,0,100),v:e$3(at.v,0,100),a:e$3(at.a)}}({h:Number(et),s:Number(tt),v:Number(nt),a:Number(it)});return b$2(lt)},"hsv"]]},N$2=function(_e,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt][0](_e);if(nt)return[nt,et[tt][1]]}return[null,void 0]},x$1=function(_e){return typeof _e=="string"?N$2(_e.trim(),y$2.string):typeof _e=="object"&&_e!==null?N$2(_e,y$2.object):[null,void 0]},M$3=function(_e,et){var tt=c$2(_e);return{h:tt.h,s:e$3(tt.s+100*et,0,100),l:tt.l,a:tt.a}},H$2=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$$1=function(_e,et){var tt=c$2(_e);return{h:tt.h,s:tt.s,l:e$3(tt.l+100*et,0,100),a:tt.a}},j$2=function(){function _e(et){this.parsed=x$1(et)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$2(H$2(this.rgba),2)},_e.prototype.isDark=function(){return H$2(this.rgba)<.5},_e.prototype.isLight=function(){return H$2(this.rgba)>=.5},_e.prototype.toHex=function(){return et=o$6(this.rgba),tt=et.r,nt=et.g,ot=et.b,lt=(it=et.a)<1?s$6(n$2(255*it)):"","#"+s$6(tt)+s$6(nt)+s$6(ot)+lt;var et,tt,nt,ot,it,lt},_e.prototype.toRgb=function(){return o$6(this.rgba)},_e.prototype.toRgbString=function(){return et=o$6(this.rgba),tt=et.r,nt=et.g,ot=et.b,(it=et.a)<1?"rgba("+tt+", "+nt+", "+ot+", "+it+")":"rgb("+tt+", "+nt+", "+ot+")";var et,tt,nt,ot,it},_e.prototype.toHsl=function(){return d$3(c$2(this.rgba))},_e.prototype.toHslString=function(){return et=d$3(c$2(this.rgba)),tt=et.h,nt=et.s,ot=et.l,(it=et.a)<1?"hsla("+tt+", "+nt+"%, "+ot+"%, "+it+")":"hsl("+tt+", "+nt+"%, "+ot+"%)";var et,tt,nt,ot,it},_e.prototype.toHsv=function(){return et=h$3(this.rgba),{h:n$2(et.h),s:n$2(et.s),v:n$2(et.v),a:n$2(et.a,3)};var et},_e.prototype.invert=function(){return w$4({r:255-(et=this.rgba).r,g:255-et.g,b:255-et.b,a:et.a});var et},_e.prototype.saturate=function(et){return et===void 0&&(et=.1),w$4(M$3(this.rgba,et))},_e.prototype.desaturate=function(et){return et===void 0&&(et=.1),w$4(M$3(this.rgba,-et))},_e.prototype.grayscale=function(){return w$4(M$3(this.rgba,-1))},_e.prototype.lighten=function(et){return et===void 0&&(et=.1),w$4($$1(this.rgba,et))},_e.prototype.darken=function(et){return et===void 0&&(et=.1),w$4($$1(this.rgba,-et))},_e.prototype.rotate=function(et){return et===void 0&&(et=15),this.hue(this.hue()+et)},_e.prototype.alpha=function(et){return typeof et=="number"?w$4({r:(tt=this.rgba).r,g:tt.g,b:tt.b,a:et}):n$2(this.rgba.a,3);var tt},_e.prototype.hue=function(et){var tt=c$2(this.rgba);return typeof et=="number"?w$4({h:et,s:tt.s,l:tt.l,a:tt.a}):n$2(tt.h)},_e.prototype.isEqual=function(et){return this.toHex()===w$4(et).toHex()},_e}(),w$4=function(_e){return _e instanceof j$2?_e:new j$2(_e)},S$1=[],k$1=function(_e){_e.forEach(function(et){S$1.indexOf(et)<0&&(et(j$2,y$2),S$1.push(et))})},a$3=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},t$2=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},o$5=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},r$2=function(_e){var et=_e/255;return et<.04045?et/12.92:Math.pow((et+.055)/1.055,2.4)},h$2=function(_e){return 255*(_e>.0031308?1.055*Math.pow(_e,1/2.4)-.055:12.92*_e)},n$1=96.422,p$3=100,M$2=82.521,u$3=function(_e){var et,tt,nt={x:.9555766*(et=_e).x+-.0230393*et.y+.0631636*et.z,y:-.0282895*et.x+1.0099416*et.y+.0210077*et.z,z:.0122982*et.x+-.020483*et.y+1.3299098*et.z};return tt={r:h$2(.032404542*nt.x-.015371385*nt.y-.004985314*nt.z),g:h$2(-.00969266*nt.x+.018760108*nt.y+41556e-8*nt.z),b:h$2(556434e-9*nt.x-.002040259*nt.y+.010572252*nt.z),a:_e.a},{r:o$5(tt.r,0,255),g:o$5(tt.g,0,255),b:o$5(tt.b,0,255),a:o$5(tt.a)}},e$2=function(_e){var et=r$2(_e.r),tt=r$2(_e.g),nt=r$2(_e.b);return function(ot){return{x:o$5(ot.x,0,n$1),y:o$5(ot.y,0,p$3),z:o$5(ot.z,0,M$2),a:o$5(ot.a)}}(function(ot){return{x:1.0478112*ot.x+.0228866*ot.y+-.050127*ot.z,y:.0295424*ot.x+.9904844*ot.y+-.0170491*ot.z,z:-.0092345*ot.x+.0150436*ot.y+.7521316*ot.z,a:ot.a}}({x:100*(.4124564*et+.3575761*tt+.1804375*nt),y:100*(.2126729*et+.7151522*tt+.072175*nt),z:100*(.0193339*et+.119192*tt+.9503041*nt),a:_e.a}))},w$3=216/24389,b$1=24389/27,i$3=function(_e){var et=_e.l,tt=_e.a,nt=_e.b,ot=_e.alpha,it=ot===void 0?1:ot;if(!a$3(et)||!a$3(tt)||!a$3(nt))return null;var lt=function(at){return{l:o$5(at.l,0,400),a:at.a,b:at.b,alpha:o$5(at.alpha)}}({l:Number(et),a:Number(tt),b:Number(nt),alpha:Number(it)});return l$3(lt)},l$3=function(_e){var et=(_e.l+16)/116,tt=_e.a/500+et,nt=et-_e.b/200;return u$3({x:(Math.pow(tt,3)>w$3?Math.pow(tt,3):(116*tt-16)/b$1)*n$1,y:(_e.l>8?Math.pow((_e.l+16)/116,3):_e.l/b$1)*p$3,z:(Math.pow(nt,3)>w$3?Math.pow(nt,3):(116*nt-16)/b$1)*M$2,a:_e.alpha})};function labPlugin(_e,et){_e.prototype.toLab=function(){return nt=e$2(this.rgba),it=nt.y/p$3,lt=nt.z/M$2,ot=(ot=nt.x/n$1)>w$3?Math.cbrt(ot):(b$1*ot+16)/116,tt={l:116*(it=it>w$3?Math.cbrt(it):(b$1*it+16)/116)-16,a:500*(ot-it),b:200*(it-(lt=lt>w$3?Math.cbrt(lt):(b$1*lt+16)/116)),alpha:nt.a},{l:t$2(tt.l,2),a:t$2(tt.a,2),b:t$2(tt.b,2),alpha:t$2(tt.alpha,3)};var tt,nt,ot,it,lt},_e.prototype.delta=function(tt){tt===void 0&&(tt="#FFF");var nt=tt instanceof _e?tt:new _e(tt),ot=function(it,lt){var at=it.l,st=it.a,ut=it.b,ct=lt.l,ft=lt.a,dt=lt.b,ht=180/Math.PI,gt=Math.PI/180,yt=Math.pow(Math.pow(st,2)+Math.pow(ut,2),.5),Et=Math.pow(Math.pow(ft,2)+Math.pow(dt,2),.5),mt=(at+ct)/2,_t=Math.pow((yt+Et)/2,7),pt=.5*(1-Math.pow(_t/(_t+Math.pow(25,7)),.5)),wt=st*(1+pt),vt=ft*(1+pt),bt=Math.pow(Math.pow(wt,2)+Math.pow(ut,2),.5),Rt=Math.pow(Math.pow(vt,2)+Math.pow(dt,2),.5),St=(bt+Rt)/2,Ct=wt===0&&ut===0?0:Math.atan2(ut,wt)*ht,xt=vt===0&&dt===0?0:Math.atan2(dt,vt)*ht;Ct<0&&(Ct+=360),xt<0&&(xt+=360);var $t=xt-Ct,Mt=Math.abs(xt-Ct);Mt>180&&xt<=Ct?$t+=360:Mt>180&&xt>Ct&&($t-=360);var kt=Ct+xt;Mt<=180?kt/=2:kt=(Ct+xt<360?kt+360:kt-360)/2;var It=1-.17*Math.cos(gt*(kt-30))+.24*Math.cos(2*gt*kt)+.32*Math.cos(gt*(3*kt+6))-.2*Math.cos(gt*(4*kt-63)),Pt=ct-at,jt=Rt-bt,zt=2*Math.sin(gt*$t/2)*Math.pow(bt*Rt,.5),Tt=1+.015*Math.pow(mt-50,2)/Math.pow(20+Math.pow(mt-50,2),.5),Nt=1+.045*St,Ot=1+.015*St*It,Vt=30*Math.exp(-1*Math.pow((kt-275)/25,2)),Ut=-2*Math.pow(_t/(_t+Math.pow(25,7)),.5)*Math.sin(2*gt*Vt);return Math.pow(Math.pow(Pt/1/Tt,2)+Math.pow(jt/1/Nt,2)+Math.pow(zt/1/Ot,2)+Ut*jt*zt/(1*Nt*1*Ot),.5)}(this.toLab(),nt.toLab())/100;return o$5(t$2(ot,3))},et.object.push([i$3,"lab"])}k$1([labPlugin]);function formatReferenceForMlr(_e,et){const tt={r:[],g:[],b:[]};for(let nt of _e)tt.r.push([nt.r/et]),tt.g.push([nt.g/et]),tt.b.push([nt.b/et]);return tt}function formatInputForMlr(_e,et){const tt=[];for(let nt of _e)tt.push(getRegressionVariables(nt.r,nt.g,nt.b,et));return tt}function correctColor(_e,et,tt){if(checkProcessable(_e,"correctColor",{colorModel:[ImageColorModel.RGB,ImageColorModel.RGBA]}),et.length!==tt.length)throw new Error("correctColor: number of measured colors and reference colors differ");const nt=formatInputForMlr(et,_e.maxValue),ot=formatReferenceForMlr(tt,_e.maxValue),it=new MultivariateLinearRegression(nt,ot.r),lt=new MultivariateLinearRegression(nt,ot.g),at=new MultivariateLinearRegression(nt,ot.b),st=Image.createFrom(_e);for(let ut=0;ut<_e.height;ut++)for(let ct=0;ct<_e.width;ct++){const ft=_e.getPixel(ct,ut),dt=getRegressionVariables(ft[0],ft[1],ft[2],_e.maxValue),ht=getClamp(_e),gt=[0,0,0],yt=it.predict(dt)[0]*_e.maxValue,Et=lt.predict(dt)[0]*_e.maxValue,mt=at.predict(dt)[0]*_e.maxValue;gt[0]=ht(yt),gt[1]=ht(Et),gt[2]=ht(mt),_e.alpha&&(gt[3]=_e.getValue(ct,ut,3)),st.setPixel(ct,ut,gt)}return st}function getRegressionVariables(_e,et,tt,nt){return _e/=nt,et/=nt,tt/=nt,[_e,et,tt,_e**2,et**2,tt**2,_e**3,et**3,tt**3,_e*et,_e*tt,tt*et]}function line(_e,et,tt,nt,ot){for(var it=Math.abs(tt-_e),lt=_e<tt?1:-1,at=-Math.abs(nt-et),st=et<nt?1:-1,ut=it+at,ct;;){if(ot(_e,et),ct=2*ut,ct>=at){if(_e===tt)break;ut+=at,_e+=lt}if(ct<=it){if(et===nt)break;ut+=it,et+=st}}}function circle(_e,et,tt,nt){var ot=-tt,it=0,lt=2-2*tt;do nt(_e-ot,et+it),nt(_e-it,et-ot),nt(_e+ot,et-it),nt(_e+it,et+ot),tt=lt,tt<=it&&(lt+=++it*2+1),(tt>ot||lt>it)&&(lt+=++ot*2+1);while(ot<0)}var ImageColorModel;(function(_e){_e.GREY="GREY",_e.GREYA="GREYA",_e.RGB="RGB",_e.RGBA="RGBA",_e.BINARY="BINARY"})(ImageColorModel||(ImageColorModel={}));const colorModels={[ImageColorModel.GREY]:{components:1,alpha:!1,channels:1},[ImageColorModel.GREYA]:{components:1,alpha:!0,channels:2},[ImageColorModel.RGB]:{components:3,alpha:!1,channels:3},[ImageColorModel.RGBA]:{components:3,alpha:!0,channels:4},[ImageColorModel.BINARY]:{components:1,alpha:!1,channels:1}};function getDefaultColor(_e){switch(_e.colorModel){case ImageColorModel.GREY:return[0];case ImageColorModel.GREYA:return[0,_e.maxValue];case ImageColorModel.RGB:return[0,0,0];case ImageColorModel.RGBA:return[0,0,0,_e.maxValue];case ImageColorModel.BINARY:return[1];default:throw new Error(`image color model ${_e.colorModel} is not compatible`)}}function drawCircleOnImage(_e,et,tt,nt={}){const ot=getOutputImage(_e,nt,{clone:!0}),{color:it=getDefaultColor(ot),fill:lt}=nt;if(validateColor(it,ot),checkProcessable(ot,"paintPoints",{bitDepth:[8,16]}),!Number.isInteger(tt))throw new Error("drawCircle: radius must be an integer");if(tt<0)throw new Error("drawCircle: circle radius must be positive");return tt===0?(ot.setVisiblePixel(et.column,et.row,it),ot):(lt?(tt===1&&ot.setVisiblePixel(et.column,et.row,lt),circle(et.column,et.row,tt,(at,st)=>{ot.setVisiblePixel(at,st,it),at-1>et.column?ot.drawLine({row:st,column:at-1},{row:st,column:et.column},{strokeColor:lt,out:ot}):at+1<et.column&&ot.drawLine({row:st,column:at+1},{row:st,column:et.column},{strokeColor:lt,out:ot})})):circle(et.column,et.row,tt,(at,st)=>{ot.setVisiblePixel(at,st,it)}),ot)}function drawLineOnImage(_e,et,tt,nt={}){const ot=getOutputImage(_e,nt,{clone:!0}),{strokeColor:it=getDefaultColor(ot),origin:lt={column:0,row:0}}=nt;return validateColor(it,ot),checkProcessable(ot,"drawLine",{bitDepth:[8,16]}),line(Math.round(lt.column+et.column),Math.round(lt.row+et.row),Math.round(lt.column+tt.column),Math.round(lt.row+tt.row),(at,st)=>{ot.setVisiblePixel(at,st,it)}),ot}function drawLineOnMask(_e,et,tt,nt={}){const{origin:ot={column:0,row:0}}=nt,it=maskToOutputMask(_e,nt,{clone:!0});return line(Math.round(ot.column+et.column),Math.round(ot.row+et.row),Math.round(ot.column+tt.column),Math.round(ot.row+tt.row),(lt,at)=>{it.setVisiblePixel(lt,at,[1])}),it}function drawPolylineOnImage(_e,et,tt={}){const{strokeColor:nt=getDefaultColor(_e),origin:ot={column:0,row:0}}=tt;checkProcessable(_e,"drawPolyline",{bitDepth:[8,16]});let it=getOutputImage(_e,tt,{clone:!0});validateColor(nt,it);for(let lt=0;lt<et.length-1;lt++){const at=et[lt],st=et[lt+1];it.drawLine(at,st,{out:it,strokeColor:nt,origin:ot})}return it}function drawPolylineOnMask(_e,et,tt={}){let nt=maskToOutputMask(_e,tt,{clone:!0});for(let ot=0;ot<et.length-1;ot++){const it=et[ot],lt=et[ot+1];nt.drawLine(it,lt,{out:nt,origin:tt.origin})}return nt}var orientationExports={},orientation={get exports(){return orientationExports},set exports(_e){orientationExports=_e}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(_e,et,tt){var nt=_e*et,ot=SPLITTER*_e,it=ot-_e,lt=ot-it,at=_e-lt,st=SPLITTER*et,ut=st-et,ct=st-ut,ft=et-ct,dt=nt-lt*ct,ht=dt-at*ct,gt=ht-lt*ft,yt=at*ft-gt;return tt?(tt[0]=yt,tt[1]=nt,tt):[yt,nt]}var robustSum=linearExpansionSum;function scalarScalar$1(_e,et){var tt=_e+et,nt=tt-_e,ot=tt-nt,it=et-nt,lt=_e-ot,at=lt+it;return at?[at,tt]:[tt]}function linearExpansionSum(_e,et){var tt=_e.length|0,nt=et.length|0;if(tt===1&&nt===1)return scalarScalar$1(_e[0],et[0]);var ot=tt+nt,it=new Array(ot),lt=0,at=0,st=0,ut=Math.abs,ct=_e[at],ft=ut(ct),dt=et[st],ht=ut(dt),gt,yt;ft<ht?(yt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(yt=dt,st+=1,st<nt&&(dt=et[st],ht=ut(dt))),at<tt&&ft<ht||st>=nt?(gt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(gt=dt,st+=1,st<nt&&(dt=et[st],ht=ut(dt)));for(var Et=gt+yt,mt=Et-gt,_t=yt-mt,pt=_t,wt=Et,vt,bt,Rt,St,Ct;at<tt&&st<nt;)ft<ht?(gt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(gt=dt,st+=1,st<nt&&(dt=et[st],ht=ut(dt))),yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt;for(;at<tt;)gt=ct,yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt,at+=1,at<tt&&(ct=_e[at]);for(;st<nt;)gt=dt,yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt,st+=1,st<nt&&(dt=et[st]);return pt&&(it[lt++]=pt),wt&&(it[lt++]=wt),lt||(it[lt++]=0),it.length=lt,it}var twoSum$1=fastTwoSum;function fastTwoSum(_e,et,tt){var nt=_e+et,ot=nt-_e,it=nt-ot,lt=et-ot,at=_e-it;return tt?(tt[0]=at+lt,tt[1]=nt,tt):[at+lt,nt]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(_e,et){var tt=_e.length;if(tt===1){var nt=twoProduct(_e[0],et);return nt[0]?nt:[nt[1]]}var ot=new Array(2*tt),it=[.1,.1],lt=[.1,.1],at=0;twoProduct(_e[0],et,it),it[0]&&(ot[at++]=it[0]);for(var st=1;st<tt;++st){twoProduct(_e[st],et,lt);var ut=it[1];twoSum(ut,lt[0],it),it[0]&&(ot[at++]=it[0]);var ct=lt[1],ft=it[1],dt=ct+ft,ht=dt-ct,gt=ft-ht;it[1]=dt,gt&&(ot[at++]=gt)}return it[1]&&(ot[at++]=it[1]),at===0&&(ot[at++]=0),ot.length=at,ot}var robustDiff=robustSubtract;function scalarScalar(_e,et){var tt=_e+et,nt=tt-_e,ot=tt-nt,it=et-nt,lt=_e-ot,at=lt+it;return at?[at,tt]:[tt]}function robustSubtract(_e,et){var tt=_e.length|0,nt=et.length|0;if(tt===1&&nt===1)return scalarScalar(_e[0],-et[0]);var ot=tt+nt,it=new Array(ot),lt=0,at=0,st=0,ut=Math.abs,ct=_e[at],ft=ut(ct),dt=-et[st],ht=ut(dt),gt,yt;ft<ht?(yt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(yt=dt,st+=1,st<nt&&(dt=-et[st],ht=ut(dt))),at<tt&&ft<ht||st>=nt?(gt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(gt=dt,st+=1,st<nt&&(dt=-et[st],ht=ut(dt)));for(var Et=gt+yt,mt=Et-gt,_t=yt-mt,pt=_t,wt=Et,vt,bt,Rt,St,Ct;at<tt&&st<nt;)ft<ht?(gt=ct,at+=1,at<tt&&(ct=_e[at],ft=ut(ct))):(gt=dt,st+=1,st<nt&&(dt=-et[st],ht=ut(dt))),yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt;for(;at<tt;)gt=ct,yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt,at+=1,at<tt&&(ct=_e[at]);for(;st<nt;)gt=dt,yt=pt,Et=gt+yt,mt=Et-gt,_t=yt-mt,_t&&(it[lt++]=_t),vt=wt+Et,bt=vt-wt,Rt=vt-bt,St=Et-bt,Ct=wt-Rt,pt=Ct+St,wt=vt,st+=1,st<nt&&(dt=-et[st]);return pt&&(it[lt++]=pt),wt&&(it[lt++]=wt),lt||(it[lt++]=0),it.length=lt,it}(function(_e){var et=twoProduct_1,tt=robustSum,nt=robustScale,ot=robustDiff,it=5,lt=11102230246251565e-32,at=(3+16*lt)*lt,st=(7+56*lt)*lt;function ut(pt,wt,vt,bt){return function(St,Ct,xt){var $t=pt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0]))),Mt=pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),kt=bt($t,Mt);return kt[kt.length-1]}}function ct(pt,wt,vt,bt){return function(St,Ct,xt,$t){var Mt=pt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),Ct[2]),pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),-xt[2]),vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),$t[2]))),pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),$t[2])))),kt=pt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-xt[2]),vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),$t[2]))),pt(vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),xt[2])))),It=bt(Mt,kt);return It[It.length-1]}}function ft(pt,wt,vt,bt){return function(St,Ct,xt,$t,Mt){var kt=pt(pt(pt(vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),xt[2]),pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),-$t[2]),vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),Mt[2]))),Ct[3]),pt(vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),Ct[2]),pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),-$t[2]),vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),Mt[2]))),-xt[3]),vt(pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),Ct[2]),pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),-xt[2]),vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),Mt[2]))),$t[3]))),pt(vt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),Ct[2]),pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),-xt[2]),vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),$t[2]))),-Mt[3]),pt(vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),Ct[2]),pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),-$t[2]),vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),Mt[2]))),St[3]),vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-$t[2]),vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),Mt[2]))),-Ct[3])))),pt(pt(vt(pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),Mt[2]))),$t[3]),pt(vt(pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),$t[2]))),-Mt[3]),vt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),Ct[2]),pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),-xt[2]),vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),$t[2]))),St[3]))),pt(vt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-xt[2]),vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),$t[2]))),-Ct[3]),pt(vt(pt(vt(pt(wt(Ct[1],$t[0]),wt(-$t[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),$t[2]))),xt[3]),vt(pt(vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),xt[2]))),-$t[3]))))),It=pt(pt(pt(vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),xt[2]),pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),-$t[2]),vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),Mt[2]))),St[3]),vt(pt(vt(pt(wt($t[1],Mt[0]),wt(-Mt[1],$t[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-$t[2]),vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),Mt[2]))),-xt[3])),pt(vt(pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-xt[2]),vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),Mt[2]))),$t[3]),vt(pt(vt(pt(wt(xt[1],$t[0]),wt(-$t[1],xt[0])),St[2]),pt(vt(pt(wt(St[1],$t[0]),wt(-$t[1],St[0])),-xt[2]),vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),$t[2]))),-Mt[3]))),pt(pt(vt(pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),Ct[2]),pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),-xt[2]),vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),Mt[2]))),St[3]),vt(pt(vt(pt(wt(xt[1],Mt[0]),wt(-Mt[1],xt[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-xt[2]),vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),Mt[2]))),-Ct[3])),pt(vt(pt(vt(pt(wt(Ct[1],Mt[0]),wt(-Mt[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],Mt[0]),wt(-Mt[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),Mt[2]))),xt[3]),vt(pt(vt(pt(wt(Ct[1],xt[0]),wt(-xt[1],Ct[0])),St[2]),pt(vt(pt(wt(St[1],xt[0]),wt(-xt[1],St[0])),-Ct[2]),vt(pt(wt(St[1],Ct[0]),wt(-Ct[1],St[0])),xt[2]))),-Mt[3])))),Pt=bt(kt,It);return Pt[Pt.length-1]}}function dt(pt){var wt=pt===3?ut:pt===4?ct:ft;return wt(tt,et,nt,ot)}var ht=dt(3),gt=dt(4),yt=[function(){return 0},function(){return 0},function(wt,vt){return vt[0]-wt[0]},function(wt,vt,bt){var Rt=(wt[1]-bt[1])*(vt[0]-bt[0]),St=(wt[0]-bt[0])*(vt[1]-bt[1]),Ct=Rt-St,xt;if(Rt>0){if(St<=0)return Ct;xt=Rt+St}else if(Rt<0){if(St>=0)return Ct;xt=-(Rt+St)}else return Ct;var $t=at*xt;return Ct>=$t||Ct<=-$t?Ct:ht(wt,vt,bt)},function(wt,vt,bt,Rt){var St=wt[0]-Rt[0],Ct=vt[0]-Rt[0],xt=bt[0]-Rt[0],$t=wt[1]-Rt[1],Mt=vt[1]-Rt[1],kt=bt[1]-Rt[1],It=wt[2]-Rt[2],Pt=vt[2]-Rt[2],jt=bt[2]-Rt[2],zt=Ct*kt,Tt=xt*Mt,Nt=xt*$t,Ot=St*kt,Vt=St*Mt,Ut=Ct*$t,Lt=It*(zt-Tt)+Pt*(Nt-Ot)+jt*(Vt-Ut),Ft=(Math.abs(zt)+Math.abs(Tt))*Math.abs(It)+(Math.abs(Nt)+Math.abs(Ot))*Math.abs(Pt)+(Math.abs(Vt)+Math.abs(Ut))*Math.abs(jt),Dt=st*Ft;return Lt>Dt||-Lt>Dt?Lt:gt(wt,vt,bt,Rt)}];function Et(pt){var wt=yt[pt.length];return wt||(wt=yt[pt.length]=dt(pt.length)),wt.apply(void 0,pt)}function mt(pt,wt,vt,bt,Rt,St,Ct){return function($t,Mt,kt,It,Pt){switch(arguments.length){case 0:case 1:return 0;case 2:return bt($t,Mt);case 3:return Rt($t,Mt,kt);case 4:return St($t,Mt,kt,It);case 5:return Ct($t,Mt,kt,It,Pt)}for(var jt=new Array(arguments.length),zt=0;zt<arguments.length;++zt)jt[zt]=arguments[zt];return pt(jt)}}function _t(){for(;yt.length<=it;)yt.push(dt(yt.length));_e.exports=mt.apply(void 0,[Et].concat(yt));for(var pt=0;pt<=it;++pt)_e.exports[pt]=yt[pt]}_t()})(orientation);var robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(_e,et){for(var tt=et[0],nt=et[1],ot=_e.length,it=1,lt=ot,at=0,st=ot-1;at<lt;st=at++){var ut=_e[at],ct=_e[st],ft=ut[1],dt=ct[1];if(dt<ft){if(dt<nt&&nt<ft){var ht=orient(ut,ct,et);if(ht===0)return 0;it^=0<ht|0}else if(nt===ft){var gt=_e[(at+1)%ot],yt=gt[1];if(ft<yt){var ht=orient(ut,ct,et);if(ht===0)return 0;it^=0<ht|0}}}else if(ft<dt){if(ft<nt&&nt<dt){var ht=orient(ut,ct,et);if(ht===0)return 0;it^=ht<0|0}else if(nt===ft){var gt=_e[(at+1)%ot],yt=gt[1];if(yt<ft){var ht=orient(ut,ct,et);if(ht===0)return 0;it^=ht<0|0}}}else if(nt===ft){var Et=Math.min(ut[0],ct[0]),mt=Math.max(ut[0],ct[0]);if(at===0){for(;st>0;){var _t=(st+ot-1)%ot,pt=_e[_t];if(pt[1]!==nt)break;var wt=pt[0];Et=Math.min(Et,wt),mt=Math.max(mt,wt),st=_t}if(st===0)return Et<=tt&&tt<=mt?0:1;lt=st+1}for(var vt=_e[(st+ot-1)%ot][1];at+1<lt;){var pt=_e[at+1];if(pt[1]!==nt)break;var wt=pt[0];Et=Math.min(Et,wt),mt=Math.max(mt,wt),at+=1}if(Et<=tt&&tt<=mt)return 0;var bt=_e[(at+1)%ot][1];tt<Et&&vt<nt!=bt<nt&&(it^=1)}}return 2*it-1}function arrayPointsToObjects(_e){let et=[];for(let tt of _e)et.push([tt.column,tt.row]);return et}function deleteDuplicates(_e){const et=[];for(let tt=0;tt<_e.length;tt++)_e[tt].column===_e[(tt+1)%_e.length].column&&_e[tt].row===_e[(tt+1)%_e.length].row||et.push(_e[tt]);return et}function drawPolygonOnImage(_e,et,tt={}){const{fillColor:nt,origin:ot={column:0,row:0},...it}=tt;checkProcessable(_e,"drawPolygon",{bitDepth:[8,16]});let lt=getOutputImage(_e,tt,{clone:!0});if(nt===void 0)return lt.drawPolyline([...et,et[0]],{origin:ot,...it});{validateColor(nt,lt);const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let ut=0;ut<lt.height;ut++)for(let ct=0;ct<lt.width;ct++)robustPnp(st,[ct,ut])===-1&&lt.setPixel(ot.column+ct,ot.row+ut,nt)}return lt.drawPolyline([...et,et[0]],{origin:ot,...it})}function drawPolygonOnMask(_e,et,tt={}){const{filled:nt=!1,origin:ot={column:0,row:0},...it}=tt;let lt=maskToOutputMask(_e,tt,{clone:!0});if(!nt)return lt.drawPolyline([...et,et[0]],{origin:ot,...it});const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let ut=0;ut<lt.height;ut++)for(let ct=0;ct<lt.width;ct++)robustPnp(st,[ct,ut])===-1&&lt.setBit(ot.column+ct,ot.row+ut,1);return lt.drawPolyline([...et,et[0]],{origin:ot,...it})}function drawRectangle(_e,et={}){const{origin:tt={column:0,row:0},width:nt=_e.width,height:ot=_e.height,strokeColor:it=getDefaultColor(_e),fillColor:lt}=et,{column:at,row:st}=tt;let ut;if(_e instanceof Image?(checkProcessable(_e,"drawRectangle",{bitDepth:[8,16]}),ut=getOutputImage(_e,et,{clone:!0})):ut=maskToOutputMask(_e,et,{clone:!0}),it!=="none"){for(let ct=at;ct<at+nt;ct++)ut.setVisiblePixel(ct,st,it),ut.setVisiblePixel(ct,st+ot-1,it);for(let ct=st+1;ct<st+ot-1;ct++)if(ut.setVisiblePixel(at,ct,it),ut.setVisiblePixel(at+nt-1,ct,it),lt)for(let ft=at+1;ft<at+nt-1;ft++)ut.setVisiblePixel(ft,ct,lt),ut.setVisiblePixel(ft,ct,lt)}else if(lt)for(let ct=st+1;ct<st+ot-1;ct++)for(let ft=at+1;ft<at+nt-1;ft++)ut.setVisiblePixel(ft,ct,lt),ut.setVisiblePixel(ft,ct,lt);return ut}function drawPoints(_e,et,tt={}){const{color:nt=getDefaultColor(_e),origin:ot={row:0,column:0}}=tt;let it;_e instanceof Image?(it=getOutputImage(_e,tt,{clone:!0}),validateColor(nt,it)):it=maskToOutputMask(_e,tt,{clone:!0}),checkProcessable(it,"drawPoints",{bitDepth:[1,8,16]});for(const lt of et)it.setVisiblePixel(ot.column+lt.column,ot.row+lt.row,nt);return it}function drawMarker(_e,et,tt){const nt=getOutputImage(_e,tt,{clone:!0}),{color:ot=getDefaultColor(nt),filled:it=!1,shape:lt="cross",size:at=1}=tt;if(validateColor(ot,nt),checkProcessable(nt,"drawMarker",{bitDepth:[8,16]}),lt==="circle"&&nt.drawCircle(et,at,{color:ot,fill:it?ot:void 0,out:nt}),lt==="triangle"){const st=[{row:et.row-at,column:et.column},{row:et.row,column:et.column+at},{row:et.row,column:et.column-at}];nt.drawPolygon(st,{strokeColor:ot,fillColor:it?ot:void 0,out:nt})}if(lt==="cross"&&(nt.drawLine({row:et.row-at,column:et.column},{row:et.row+at,column:et.column},{strokeColor:ot,out:nt}),nt.drawLine({row:et.row,column:et.column-at},{row:et.row,column:et.column+at},{strokeColor:ot,out:nt})),lt==="square"){const st={row:Math.floor(et.row-at/2),column:Math.floor(et.column-at/2)};nt.drawRectangle({origin:st,width:at,height:at,strokeColor:ot,fillColor:it?ot:void 0,out:nt})}return nt}function drawMarkers(_e,et,tt={}){const nt=getOutputImage(_e,tt,{clone:!0});for(const ot of et)drawMarker(nt,ot,{...tt,out:nt});return nt}var BorderType$1;(function(_e){_e.CONSTANT="CONSTANT",_e.REPLICATE="REPLICATE",_e.REFLECT="REFLECT",_e.WRAP="WRAP",_e.REFLECT_101="REFLECT_101"})(BorderType$1||(BorderType$1={}));function getBorderInterpolation(_e,et){switch(_e){case BorderType$1.CONSTANT:return getInterpolateConstant(et);case BorderType$1.REPLICATE:return interpolateReplicate;case BorderType$1.REFLECT:return interpolateReflect;case BorderType$1.REFLECT_101:return interpolateReflect101;case BorderType$1.WRAP:return interpolateWrap;default:throw new Error(`interpolateBorder cannot be used with border type ${_e}`)}}function checkRange(_e,et){if(_e<=0-et||_e>=et+et-1)throw new RangeError("interpolateBorder only supports borders smaller than the original image")}function getInterpolateConstant(_e){return function(tt,nt,ot,it){const lt=interpolateConstantPoint(tt,it.width),at=interpolateConstantPoint(nt,it.height);return lt===-1||at===-1?_e:it.getValue(lt,at,ot)}}function interpolateConstantPoint(_e,et){return _e>=0&&_e<et?_e:-1}function interpolateReplicate(_e,et,tt,nt){return nt.getValue(interpolateReplicatePoint(_e,nt.width),interpolateReplicatePoint(et,nt.height),tt)}function interpolateReplicatePoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0:et-1)}function interpolateReflect(_e,et,tt,nt){return nt.getValue(interpolateReflectPoint(_e,nt.width),interpolateReflectPoint(et,nt.height),tt)}function interpolateReflectPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?-1-_e:et+et-1-_e)}function interpolateWrap(_e,et,tt,nt){return nt.getValue(interpolateWrapPoint(_e,nt.width),interpolateWrapPoint(et,nt.height),tt)}function interpolateWrapPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?et+_e:_e-et)}function interpolateReflect101(_e,et,tt,nt){return nt.getValue(interpolateReflect101Point(_e,nt.width),interpolateReflect101Point(et,nt.height),tt)}function interpolateReflect101Point(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0-_e:et+et-2-_e)}function round(_e){return _e%.5!==0?Math.round(_e):Math.floor(_e)%2===0?Math.floor(_e):Math.ceil(_e)}var InterpolationType;(function(_e){_e.NEAREST="NEAREST",_e.BILINEAR="BILINEAR",_e.BICUBIC="BICUBIC"})(InterpolationType||(InterpolationType={}));function getInterpolationFunction(_e){switch(_e){case InterpolationType.NEAREST:return interpolateNearest;case InterpolationType.BILINEAR:return interpolateBilinear;case InterpolationType.BICUBIC:return interpolateBicubic;default:throw new Error(`interpolation ${_e} not implemented`)}}function interpolateNearest(_e,et,tt,nt,ot){return et=Math.round(et),tt=Math.round(tt),ot(et,tt,nt,_e)}function interpolateBilinear(_e,et,tt,nt,ot){const it=Math.floor(et),lt=Math.floor(tt);if(it===et&&lt===tt)return ot(it,lt,nt,_e);const at=it+1,st=lt+1,ut=ot(it,lt,nt,_e),ct=ot(at,lt,nt,_e),ft=ot(it,st,nt,_e),dt=ot(at,st,nt,_e),ht=(at-et)*ut+(et-it)*ct,gt=(at-et)*ft+(et-it)*dt;return round((st-tt)*ht+(tt-lt)*gt)}function interpolateBicubic(_e,et,tt,nt,ot,it){const lt=Math.floor(et),at=Math.floor(tt);if(lt===et&&at===tt)return ot(lt,at,nt,_e);const st=et-lt,ut=tt-at,ct=ot(lt-1,at-1,nt,_e),ft=ot(lt,at-1,nt,_e),dt=ot(lt+1,at-1,nt,_e),ht=ot(lt+2,at-1,nt,_e),gt=cubic(ct,ft,dt,ht,st),yt=ot(lt-1,at,nt,_e),Et=ot(lt,at,nt,_e),mt=ot(lt+1,at,nt,_e),_t=ot(lt+2,at,nt,_e),pt=cubic(yt,Et,mt,_t,st),wt=ot(lt-1,at+1,nt,_e),vt=ot(lt,at+1,nt,_e),bt=ot(lt+1,at+1,nt,_e),Rt=ot(lt+2,at+1,nt,_e),St=cubic(wt,vt,bt,Rt,st),Ct=ot(lt-1,at+2,nt,_e),xt=ot(lt,at+2,nt,_e),$t=ot(lt+1,at+2,nt,_e),Mt=ot(lt+2,at+2,nt,_e),kt=cubic(Ct,xt,$t,Mt,st);return round(it(cubic(gt,pt,St,kt,ut)))}function cubic(_e,et,tt,nt,ot){return et+.5*ot*(tt-_e+ot*(2*_e-5*et+4*tt-nt+ot*(3*(et-tt)+nt-_e)))}function resize(_e,et){const{interpolationType:tt=InterpolationType.BILINEAR,borderType:nt=BorderType$1.CONSTANT,borderValue:ot=0}=et,{width:it,height:lt}=checkOptions(_e,et),at=Image.createFrom(_e,{width:it,height:lt}),st=getInterpolationFunction(tt),ut=getBorderInterpolation(nt,ot),ct=getClamp(at),ft=(_e.width-1)/(it-1),dt=(_e.height-1)/(lt-1);for(let ht=0;ht<at.height;ht++)for(let gt=0;gt<at.width;gt++){const yt=gt*ft,Et=ht*dt;for(let mt=0;mt<at.channels;mt++){const _t=st(_e,yt,Et,mt,ut,ct);at.setValue(gt,ht,mt,_t)}}return at}function checkOptions(_e,et){const{width:tt,height:nt,xFactor:ot,yFactor:it,preserveAspectRatio:lt=!0}=et;if(tt===void 0&&nt===void 0&&ot===void 0&&it===void 0)throw new Error("At least one of the width, height, xFactor or yFactor options must be passed");let at,st;const ut=getSize$1(tt,ot,_e.width,lt),ct=getSize$1(nt,it,_e.height,lt);if(ut===void 0)if(ct!==void 0)at=Math.round(ct*(_e.width/_e.height));else throw new Error("UNREACHABLE");else at=ut;if(ct===void 0)if(ut!==void 0)st=Math.round(ut*(_e.height/_e.width));else throw new Error("UNREACHABLE");else st=ct;return{width:at,height:st,xFactor:ot??at/_e.width,yFactor:it??st/_e.height}}function getSize$1(_e,et,tt,nt){if(_e===void 0){if(et!==void 0)return Math.round(tt*et);if(!nt)return tt}else{if(et!==void 0)throw new Error("factor and size cannot be passed together");return _e}}function rotate$1(_e,et){const tt=et%180===0?_e.width:_e.height,nt=et%180===0?_e.height:_e.width,ot=Image.createFrom(_e,{width:tt,height:nt});if(et===90||et===-270)for(let it=0;it<_e.width;it++)for(let lt=0;lt<_e.height;lt++)for(let at=0;at<_e.channels;at++)ot.setValue(ot.width-lt-1,it,at,_e.getValue(it,lt,at));else if(et===180||et===-180)for(let it=0;it<_e.width;it++)for(let lt=0;lt<_e.height;lt++)for(let at=0;at<_e.channels;at++)ot.setValue(ot.width-it-1,ot.height-lt-1,at,_e.getValue(it,lt,at));else if(et===270||et===-90)for(let it=0;it<_e.width;it++)for(let lt=0;lt<_e.height;lt++)for(let at=0;at<_e.channels;at++)ot.setValue(lt,ot.height-it-1,at,_e.getValue(it,lt,at));else throw new Error(`invalid angle: ${et}`);return ot}function transform(_e,et,tt={}){const{borderType:nt=BorderType$1.CONSTANT,borderValue:ot=0,interpolationType:it=InterpolationType.BILINEAR,fullImage:lt}=tt;let{width:at=_e.width,height:st=_e.height}=tt;if(lt){et=et.map(xt=>xt.slice()),et[0][2]=0,et[1][2]=0;const ht=[_e.getCoordinates(ImageCoordinates.TOP_LEFT),_e.getCoordinates(ImageCoordinates.TOP_RIGHT),_e.getCoordinates(ImageCoordinates.BOTTOM_RIGHT),_e.getCoordinates(ImageCoordinates.BOTTOM_LEFT)];ht[1].column+=1,ht[2].column+=1,ht[2].row+=1,ht[3].row+=1;const gt=ht.map(xt=>[transformPoint(et[0],xt.column,xt.row),transformPoint(et[1],xt.column,xt.row)]),yt=gt.map(xt=>xt[0]),Et=gt.map(xt=>xt[1]),mt=Math.max(...yt),_t=Math.max(...Et),pt=Math.min(...yt),wt=Math.min(...Et),vt=[(_e.width-1)/2,(_e.height-1)/2];at=mt-pt,st=_t-wt;const bt=transformPoint(et[0],vt[0],vt[1]),Rt=transformPoint(et[1],vt[0],vt[1]),St=(at-1)/2-bt,Ct=(st-1)/2-Rt;et[0][2]=St,et[1][2]=Ct,at=Math.round(at),st=Math.round(st)}if(et.length!==2||et[0].length!==3||et[1].length!==3)throw new Error(`transform: transformation matrix must be 2x3, found ${et.length}x${et[1].length}`);tt.inverse||(et=[et[0],et[1],[0,0,1]],et=inverse(new Matrix(et)).to2DArray());const ut=Image.createFrom(_e,{width:at,height:st}),ct=getBorderInterpolation(nt,ot),ft=getClamp(ut),dt=getInterpolationFunction(it);for(let ht=0;ht<ut.height;ht++)for(let gt=0;gt<ut.width;gt++){const yt=transformPoint(et[0],gt,ht),Et=transformPoint(et[1],gt,ht);for(let mt=0;mt<ut.channels;mt++){const _t=dt(_e,yt,Et,mt,ct,ft);ut.setValue(gt,ht,mt,_t)}}return ut}function transformPoint(_e,et,tt){return _e[0]*et+_e[1]*tt+_e[2]}function transformRotate(_e,et,tt={}){const{center:nt=ImageCoordinates.CENTER,scale:ot=1,...it}=tt;let lt;typeof nt=="string"?lt=_e.getCoordinates(nt):lt=nt;const at=getRotationMatrix(et,lt,ot);return transform(_e,at,it)}function getRotationMatrix(_e,et,tt){const nt=_e*Math.PI/180,ot=tt*Math.cos(nt),it=tt*Math.sin(nt);return[[ot,it,(1-ot)*et.column-it*et.row],[-it,ot,it*et.column+(1-ot)*et.row]]}function checkKernel$1(_e,et){if(_e.length%2===0||_e[0].length%2===0)throw new TypeError(`${et}: The number of rows and columns of the kernel must be odd`)}function erode(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);let{kernel:nt=[[1,1,1],[1,1,1],[1,1,1]],iterations:ot=1}=et;_e instanceof Image&&checkProcessable(_e,"erode",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(nt,"erode");let it=!0;if(!tt){e:for(const at of nt)for(const st of at)if(st!==1){it=!1;break e}}let lt=_e;for(let at=0;at<ot;at++)if(lt instanceof Mask)if(it){const st=lt.clone();lt=erodeMaskOnlyOnes(lt,st,nt[0].length,nt.length)}else{const st=Mask.createFrom(_e);lt=erodeMask(lt,st,nt)}else if(it){const st=Image.createFrom(_e);lt=erodeGreyOnlyOnes(lt,st,nt[0].length,nt.length)}else{const st=Image.createFrom(_e);lt=erodeGrey(lt,st,nt)}return lt}function erodeGrey(_e,et,tt){const nt=tt[0].length,ot=tt.length;let it=(nt-1)/2,lt=(ot-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let ut=_e.maxValue;for(let ct=0;ct<ot;ct++)for(let ft=0;ft<nt;ft++){if(tt[ct][ft]!==1)continue;let dt=ft-it+st,ht=ct-lt+at;if(dt<0||ht<0||dt>=_e.width||ht>=_e.height)continue;const gt=_e.getValue(dt,ht,0);gt<ut&&(ut=gt)}et.setValue(st,at,0,ut)}return et}function erodeGreyOnlyOnes(_e,et,tt,nt){const ot=(tt-1)/2,it=(nt-1)/2,lt=[];for(let at=0;at<_e.width;at++)lt.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let ut=_e.maxValue;for(let ct=Math.max(0,at-it);ct<Math.min(_e.height,at+it+1);ct++){const ft=_e.getValue(st,ct,0);ft<ut&&(ut=ft)}lt[st]=ut}for(let st=0;st<_e.width;st++){let ut=_e.maxValue;for(let ct=Math.max(0,st-ot);ct<Math.min(_e.width,st+ot+1);ct++)lt[ct]<ut&&(ut=lt[ct]);et.setValue(st,at,0,ut)}}return et}function erodeMask(_e,et,tt){const nt=tt[0].length,ot=tt.length;let it=(nt-1)/2,lt=(ot-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let ut=1;for(let ct=0;ct<ot;ct++)for(let ft=0;ft<nt;ft++){if(tt[ct][ft]!==1)continue;let dt=ft-it+st,ht=ct-lt+at;if(ht<0||dt<0||dt>=_e.width||ht>=_e.height)continue;if(_e.getBit(dt,ht)===0){ut=0;break}}ut===1&&et.setBit(st,at,1)}return et}function erodeMaskOnlyOnes(_e,et,tt,nt){const ot=(tt-1)/2,it=(nt-1)/2,lt=[];for(let at=0;at<_e.width;at++)lt.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){lt[st]=1;for(let ut=Math.max(0,at-it);ut<Math.min(_e.height,at+it+1);ut++)if(_e.getBit(st,ut)===0){lt[st]=0;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==0){for(let ut=Math.max(0,st-ot);ut<Math.min(_e.width,st+ot+1);ut++)if(lt[ut]===0){et.setBit(st,at,0);break}}}return et}function dilate(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);let{kernel:nt=[[1,1,1],[1,1,1],[1,1,1]],iterations:ot=1}=et;_e instanceof Image&&checkProcessable(_e,"dilate",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(nt,"dilate");let it=!0;if(!tt){e:for(const at of nt)for(const st of at)if(st!==1){it=!1;break e}}let lt=_e;for(let at=0;at<ot;at++)if(lt instanceof Mask)if(it){const st=lt.clone();lt=dilatMaskOnlyOnes(lt,st,nt[0].length,nt.length)}else{const st=Mask.createFrom(lt);lt=dilateMask(lt,st,nt)}else if(it){const st=Image.createFrom(lt);lt=dilateGreyOnlyOnes(lt,st,nt[0].length,nt.length)}else{const st=Image.createFrom(lt);lt=dilateGrey(lt,st,nt)}return lt}function dilateGrey(_e,et,tt){const nt=tt[0].length,ot=tt.length;let it=(nt-1)/2,lt=(ot-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let ut=0;for(let ct=0;ct<ot;ct++)for(let ft=0;ft<nt;ft++){if(tt[ct][ft]!==1)continue;let dt=ft-it+st,ht=ct-lt+at;if(dt<0||ht<0||dt>=_e.width||ht>=_e.height)continue;const gt=_e.getValue(dt,ht,0);gt>ut&&(ut=gt)}et.setValue(st,at,0,ut)}return et}function dilateGreyOnlyOnes(_e,et,tt,nt){const ot=(tt-1)/2,it=(nt-1)/2,lt=[];for(let at=0;at<_e.width;at++)lt.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let ut=0;for(let ct=Math.max(0,at-it);ct<Math.min(_e.height,at+it+1);ct++){const ft=_e.getValue(st,ct,0);ft>ut&&(ut=ft)}lt[st]=ut}for(let st=0;st<_e.width;st++){let ut=0;for(let ct=Math.max(0,st-ot);ct<Math.min(_e.width,st+ot+1);ct++)lt[ct]>ut&&(ut=lt[ct]);et.setValue(st,at,0,ut)}}return et}function dilateMask(_e,et,tt){const nt=tt[0].length,ot=tt.length;let it=(nt-1)/2,lt=(ot-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let ut=0;for(let ct=0;ct<ot;ct++)for(let ft=0;ft<nt;ft++){if(tt[ct][ft]!==1)continue;let dt=ft-it+st,ht=ct-lt+at;if(ht<0||dt<0||dt>=_e.width||ht>=_e.height)continue;if(_e.getBit(dt,ht)===1){ut=1;break}}ut===1&&et.setBit(st,at,1)}return et}function dilatMaskOnlyOnes(_e,et,tt,nt){const ot=(tt-1)/2,it=(nt-1)/2,lt=[];for(let at=0;at<_e.width;at++)lt.push(1);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){lt[st]=0;for(let ut=Math.max(0,at-it);ut<Math.min(_e.height,at+it+1);ut++)if(_e.getBit(st,ut)===1){lt[st]=1;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==1){for(let ut=Math.max(0,st-ot);ut<Math.min(_e.width,st+ot+1);ut++)if(lt[ut]===1){et.setBit(st,at,1);break}}}return et}function open(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,"open",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(tt,"open");let ot=_e;for(let it=0;it<nt;it++)ot=ot.erode({kernel:tt}),ot=ot.dilate({kernel:tt});return ot}function close(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,"close",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(tt,"close");let ot=_e;for(let it=0;it<nt;it++)ot=ot.dilate({kernel:tt}).erode({kernel:tt});return ot}function topHat(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,"topHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(tt,"topHat");let ot=_e;for(let it=0;it<nt;it++){let lt=ot.open({kernel:tt});ot=subtract(lt,ot,{absolute:!0})}return ot}function bottomHat(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,"bottomHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(tt,"bottomHat");let ot=_e;for(let it=0;it<nt;it++){let lt=ot.close({kernel:tt});ot=subtract(lt,ot,{absolute:!0})}return ot}function morphologicalGradient(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,"bottomHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(tt,"morphologicalGradient");let ot=_e;for(let it=0;it<nt;it++){let lt=ot.dilate({kernel:tt}),at=ot.erode({kernel:tt});ot=subtract(lt,at,{absolute:!0})}return ot}function*borderIterator(_e){for(let et=0;et<_e.width;et++)yield et;for(let et=2;et<_e.height;et++)yield et*_e.width-1;for(let et=0;et<_e.width;et++)yield _e.width*_e.height-et-1;for(let et=_e.height-2;et>=1;et--)yield et*_e.width}const MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(_e,et={}){let{startPixels:tt=[0],startPixelValue:nt=0,newPixelValue:ot=1,allowCorners:it=!1}=et,lt=maskToOutputMask(_e,et,{clone:!0}),at=Mask.createFrom(_e),st=0,ut=0;for(let ft of tt)lt.getBitByIndex(ft)===nt&&(toProcess[ut++%MAX_ARRAY]=ft,at.setBitByIndex(ft,1),lt.setBitByIndex(ft,ot));for(;st<ut;){if(ut-st>MAX_ARRAY)throw new Error("multipleFloodFill: could not process image, overflow in the data processing array.");const ft=toProcess[st++%MAX_ARRAY];lt.setBitByIndex(ft,ot);const dt=ft<_e.width,ht=ft%_e.width===0,gt=ft%_e.width===_e.width-1,yt=ft>_e.size-_e.width;if(!yt){const Et=ft+_e.width;ct(Et)}if(!ht){const Et=ft-1;ct(Et)}if(!dt){const Et=ft-_e.width;ct(Et)}if(!gt){const Et=ft+1;ct(Et)}if(it){if(!dt){if(!ht){const Et=ft-_e.width-1;ct(Et)}if(!gt){const Et=ft-_e.width+1;ct(Et)}}if(!yt){if(!ht){const Et=ft+_e.width-1;ct(Et)}if(!gt){const Et=ft+_e.width+1;ct(Et)}}}}function ct(ft){at.getBitByIndex(ft)||lt.getBitByIndex(ft)===nt&&(toProcess[ut++%MAX_ARRAY]=ft,at.setBitByIndex(ft,1))}return lt}function clearBorder(_e,et={}){let{allowCorners:tt=!1,out:nt}=et;return multipleFloodFill(_e,{startPixels:borderIterator(_e),startPixelValue:1,newPixelValue:0,allowCorners:tt,out:nt})}function getIndex(_e,et,tt,nt=0){return(et*tt.width+_e)*tt.channels+nt}const kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(_e,et={}){const{hysteresis:tt=!0,lowThreshold:nt=.04,highThreshold:ot=.1,gaussianBlurOptions:it={sigma:1}}=et,lt=nt*_e.maxValue,at=ot*_e.maxValue;checkProcessable(_e,"cannyEdgeDetector",{colorModel:ImageColorModel.GREY});const st=_e.width,ut=_e.height,ct=_e.gaussianBlur(it),ft=ct.rawDirectConvolution(kernelY),dt=ct.rawDirectConvolution(kernelX);let ht=new Float64Array(_e.size);for(let mt=0;mt<_e.size;mt++)ht[mt]=Math.hypot(ft[mt],dt[mt]);let gt=new Float64Array(_e.size),yt=new Float64Array(_e.size);const Et=imageToOutputMask(_e,et);for(let mt=1;mt<st-1;mt++)for(let _t=1;_t<ut-1;_t++){const pt=ft[getIndex(mt,_t,_e,0)],wt=dt[getIndex(mt,_t,_e,0)];let vt=getDirection(pt,wt);const bt=ht[getIndex(mt,_t,_e,0)];(vt===0&&bt>=ht[getIndex(mt,_t-1,_e,0)]&&bt>=ht[getIndex(mt,_t+1,_e,0)]||vt===1&&bt>=ht[getIndex(mt-1,_t-1,_e,0)]&&bt>=ht[getIndex(mt+1,_t+1,_e,0)]||vt===2&&bt>=ht[getIndex(mt-1,_t,_e,0)]&&bt>=ht[getIndex(mt+1,_t,_e,0)]||vt===3&&bt>=ht[getIndex(mt-1,_t+1,_e,0)]&&bt>=ht[getIndex(mt+1,_t-1,_e,0)])&&(gt[getIndex(mt,_t,_e,0)]=bt)}for(let mt=0;mt<st*ut;++mt){let _t=gt[mt],pt=0;_t>at&&(pt++,Et.setBitByIndex(mt,1)),_t>lt&&pt++,yt[mt]=pt}if(tt){let mt=[];for(let _t=1;_t<st-1;++_t)for(let pt=1;pt<ut-1;++pt){if(yt[getIndex(_t,pt,_e,0)]!==1)continue;e:for(let wt=_t-1;wt<_t+2;++wt)for(let vt=pt-1;vt<pt+2;++vt)if(yt[getIndex(wt,vt,_e,0)]===2){mt.push([_t,pt]),Et.setValue(_t,pt,0,1);break e}}for(;mt.length>0;){let _t=[];for(let pt of mt)for(let wt=-1;wt<2;++wt)for(let vt=-1;vt<2;++vt){if(wt===0&&vt===0)continue;let bt=pt[0]+wt,Rt=pt[1]+vt;yt[getIndex(Rt,bt,_e,0)]===1&&Et.getValue(Rt,bt,0)===0&&(_t.push([bt,Rt]),Et.setValue(Rt,bt,0,1))}mt=_t}}return Et}function getDirection(_e,et){return(Math.round(Math.atan2(et,_e)*(4/Math.PI))+4)%4}function floodFill(_e,et={}){let{origin:tt={row:0,column:0},allowCorners:nt=!1,out:ot}=et;const it=getIndex(tt.column,tt.row,_e);return multipleFloodFill(_e,{startPixels:[it],allowCorners:nt,out:ot})}function solidFill(_e,et={}){let{allowCorners:tt=!1}=et,nt=maskToOutputMask(_e,et,{clone:!0}),it=_e.invert().clearBorder({allowCorners:tt});return nt.or(it,{out:nt})}function convertColor(_e,et,tt={}){const nt=new Map([[ImageColorModel.GREY,[ImageColorModel.GREYA,ImageColorModel.RGB,ImageColorModel.RGBA]],[ImageColorModel.GREYA,[ImageColorModel.GREY,ImageColorModel.RGB,ImageColorModel.RGBA]],[ImageColorModel.RGB,[ImageColorModel.GREYA,ImageColorModel.GREY,ImageColorModel.RGBA]],[ImageColorModel.RGBA,[ImageColorModel.GREYA,ImageColorModel.GREY,ImageColorModel.RGB]],[ImageColorModel.BINARY,[ImageColorModel.GREY]]]);if(_e.colorModel===et)throw new Error(`Cannot convert color, image is already ${et}`);const ot=nt.get(_e.colorModel);if(!(ot!=null&&ot.includes(et)))throw new Error(`conversion from ${_e.colorModel} to ${et} not implemented`);if(_e instanceof Image){const it=getOutputImage(_e,tt,{newParameters:{colorModel:et}});return(_e.colorModel===ImageColorModel.GREY||_e.colorModel===ImageColorModel.GREYA)&&convertGreyToAny(_e,it),(_e.colorModel===ImageColorModel.RGB||_e.colorModel===ImageColorModel.RGBA)&&(et===ImageColorModel.RGB||et===ImageColorModel.RGBA?convertRgbToRgb(_e,it):convertRgbToGrey(_e,it)),!_e.alpha&&it.alpha&&it.fillAlpha(it.maxValue),_e.alpha&&it.alpha&&copyAlpha(_e,it),it}else{const it=maskToOutputImage(_e,tt);return convertBinaryToGrey(_e,it),it}}function copyAlpha(_e,et){if(_e.size!==et.size)throw new Error("source and destination have different sizes");if(!_e.alpha)throw new Error("source image does not have alpha");if(!et.alpha)throw new Error("destination does not have alpha");for(let tt=0;tt<et.size;tt++)et.setValueByIndex(tt,et.channels-1,_e.getValueByIndex(tt,_e.channels-1))}function convertGreyToAny(_e,et){for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.components;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,0))}function convertRgbToRgb(_e,et){for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<3;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt))}function convertRgbToGrey(_e,et){for(let tt=0;tt<_e.size;tt++){const nt=_e.getValueByIndex(tt,0),ot=_e.getValueByIndex(tt,1),it=_e.getValueByIndex(tt,2);et.setValueByIndex(tt,0,Math.round(.299*nt+.587*ot+.114*it))}}function convertBinaryToGrey(_e,et){for(let tt=0;tt<_e.size;tt++)et.setValueByIndex(tt,0,_e.getBitByIndex(tt)?et.maxValue:0)}function convertDepth(_e,et){if(_e.depth===et)throw new Error("convertDepth: cannot convert image to same depth");return et===ColorDepth.UINT16?convertToUint16(_e):convertToUint8(_e)}function convertToUint16(_e){const et=new Image(_e.width,_e.height,{depth:ColorDepth.UINT16,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.channels;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt)<<8);return et}function convertToUint8(_e){const et=new Image(_e.width,_e.height,{depth:ColorDepth.UINT8,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.channels;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt)>>8);return et}function assert(_e,et){if(!_e)throw new Error(et||"unreachable")}function extract(_e,et,tt={}){const{origin:nt={row:0,column:0}}=tt,{row:ot,column:it}=nt;assert(ot<_e.height&&it<_e.width&&ot+et.width>0&&it+et.height>0,"extract: image and mask have no overlap");const lt=Math.min(_e.width,et.width+it)-Math.max(0,it),at=Math.min(_e.height,et.height+ot)-Math.max(0,ot);let st=new Image(lt,at,{colorModel:_e.colorModel,origin:nt});st.alpha&&(st=st.fillAlpha(0));const ut=Math.max(0,ot),ct=Math.max(0,it),ft=ot<0?-ot:0,dt=it<0?-it:0;for(let ht=0;ht<at;ht++)for(let gt=0;gt<lt;gt++)et.getBit(dt+gt,ft+ht)&&st.setPixel(gt,ht,_e.getPixel(ct+gt,ut+ht));return st}function split(_e){const et=[];for(let tt=0;tt<_e.channels;tt++){const nt=Image.createFrom(_e,{colorModel:ImageColorModel.GREY});for(let ot=0;ot<nt.size;ot++)nt.setValueByIndex(ot,0,_e.getValueByIndex(ot,tt));et.push(nt)}return et}function huang(_e){let et=0;for(let ct=0;ct<_e.length;ct++)if(_e[ct]!==0){et=ct;break}let tt=_e.length-1;for(let ct=_e.length-1;ct>=et;ct--)if(_e[ct]!==0){tt=ct;break}const nt=1/(tt-et),ot=new Array(_e.length);let it=0,lt=0;for(let ct=et;ct<_e.length;ct++)it+=ct*_e[ct],lt+=_e[ct],ot[ct]=it/lt;const at=new Array(_e.length);it=0,lt=0;for(let ct=tt;ct>0;ct--)it+=ct*_e[ct],lt+=_e[ct],at[ct-1]=it/lt;let st=-1,ut=Number.MAX_VALUE;for(let ct=0;ct<_e.length;ct++){let ft=0,dt;for(let ht=0;ht<=ct;ht++)dt=1/(1+nt*Math.abs(ht-ot[ct])),dt<1e-6||dt>.999999||(ft+=_e[ht]*(-dt*Math.log(dt)-(1-dt)*Math.log(1-dt)));for(let ht=ct+1;ht<_e.length;ht++)dt=1/(1+nt*Math.abs(ht-at[ct])),dt<1e-6||dt>.999999||(ft+=_e[ht]*(-dt*Math.log(dt)-(1-dt)*Math.log(1-dt)));ft<ut&&(ut=ft,st=ct)}return st}function intermodes(_e){const et=_e.slice();let tt=0;for(;!bimodalTest$1(et);){let ot=0,it=0,lt=et[0];for(let at=0;at<_e.length-1;at++)ot=it,it=lt,lt=et[at+1],et[at]=(ot+it+lt)/3;if(et[_e.length-1]=(it+lt)/3,tt++,tt>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let nt=0;for(let ot=1;ot<_e.length-1;ot++)et[ot-1]<et[ot]&&et[ot+1]<et[ot]&&(nt+=ot);return Math.floor(nt/2)}function bimodalTest$1(_e){let et=!1,tt=0;for(let nt=1;nt<_e.length-1;nt++)if(_e[nt-1]<_e[nt]&&_e[nt+1]<_e[nt]&&(tt++,tt>2))return!1;return tt===2&&(et=!0),et}function isodata(_e){let et,tt,nt,ot,it=0;for(let lt=1;lt<_e.length;lt++)if(_e[lt]>0){it=lt+1;break}for(;;){et=0,nt=0;for(let lt=0;lt<it;lt++)nt=nt+_e[lt],et=et+_e[lt]*lt;ot=0,tt=0;for(let lt=it+1;lt<_e.length;lt++)tt+=_e[lt],ot+=_e[lt]*lt;if(nt>0&&tt>0&&(et/=nt,ot/=tt,it===Math.round((et+ot)/2)))break;if(it++,it>_e.length-2)throw new Error("Threshold not found")}return it}function li(_e,et){let tt,nt,ot,it,lt,at,st,ut,ct,ft,ht;ft=0;for(let gt=0;gt<_e.length;gt++)ft+=gt*_e[gt];ft/=et,st=ft;do{at=st,tt=at+.5|0,nt=0,it=0;for(let gt=0;gt<=tt;gt++)nt+=gt*_e[gt],it+=_e[gt];ut=it===0?0:nt/it,ot=0,lt=0;for(let gt=tt+1;gt<_e.length;gt++)ot+=gt*_e[gt],lt+=_e[gt];ct=lt===0?0:ot/lt,ht=(ut-ct)/(Math.log(ut)-Math.log(ct)),ht<-Number.EPSILON?st=ht-.5|0:st=ht+.5|0}while(Math.abs(st-at)>.5);return tt}function maxEntropy(_e,et){const tt=new Array(_e.length);for(let dt=0;dt<_e.length;dt++)tt[dt]=_e[dt]/et;const nt=new Array(_e.length),ot=new Array(_e.length);nt[0]=tt[0],ot[0]=1-nt[0];for(let dt=1;dt<_e.length;dt++)nt[dt]=nt[dt-1]+tt[dt],ot[dt]=1-nt[dt];let it=0;for(let dt=0;dt<_e.length;dt++)if(Math.abs(nt[dt])>=Number.EPSILON){it=dt;break}let lt=_e.length-1;for(let dt=_e.length-1;dt>=it;dt--)if(Math.abs(ot[dt])>=Number.EPSILON){lt=dt;break}let at=-1,st,ut=Number.MIN_VALUE,ct,ft;for(let dt=it;dt<=lt;dt++){ct=0;for(let ht=0;ht<=dt;ht++)_e[ht]!==0&&(ct-=tt[ht]/nt[dt]*Math.log(tt[ht]/nt[dt]));ft=0;for(let ht=dt+1;ht<_e.length;ht++)_e[ht]!==0&&(ft-=tt[ht]/ot[dt]*Math.log(tt[ht]/ot[dt]));st=ct+ft,ut<st&&(ut=st,at=dt)}return at}function mean$1(_e,et){let tt=0;for(let nt=0;nt<_e.length;nt++)tt+=nt*_e[nt];return Math.floor(tt/et)}function minError(_e,et){let tt,nt=-2,ot,it,lt,at,st,ut,ct,ft,dt,ht,gt,yt=0;for(let Et=0;Et<_e.length;Et++)yt+=Et*_e[Et];for(yt/=et,tt=yt;tt!==nt;){const Et=sumA(_e,tt),mt=sumA(_e,_e.length-1),_t=sumB(_e,tt),pt=sumB(_e,_e.length-1),wt=sumC(_e,tt),vt=sumC(_e,_e.length-1);if(ot=_t/Et,it=(pt-_t)/(mt-Et),lt=Et/mt,at=(mt-Et)/mt,st=wt/Et-ot*ot,ut=(vt-wt)/(mt-Et)-it*it,ct=1/st-1/ut,ft=ot/st-it/ut,dt=ot*ot/st-it*it/ut+Math.log10(st*(at*at)/(ut*(lt*lt))),ht=ft*ft-ct*dt,ht<0)return tt;nt=tt,gt=(ft+Math.sqrt(ht))/ct,Number.isNaN(gt)?tt=nt:tt=Math.floor(gt)}return tt}function sumA(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=_e[nt];return tt}function sumB(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=nt*_e[nt];return tt}function sumC(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=nt*nt*_e[nt];return tt}function minimum(_e){if(_e.length<2)return 0;let et=0,tt=-1,nt=-1,ot=new Array(_e.length);for(let it=0;it<_e.length;it++)ot[it]=_e[it],_e[it]>0&&(nt=it);for(;!bimodalTest(ot);)if(ot=smoothed(ot),et++,et>1e4)return tt;for(let it=1;it<nt;it++)if(ot[it-1]>ot[it]&&ot[it+1]>=ot[it]){tt=it;break}return tt}function smoothed(_e){const et=new Array(_e.length);for(let tt=1;tt<_e.length-1;tt++)et[tt]=(_e[tt-1]+_e[tt]+_e[tt+1])/3;return et[0]=(_e[0]+_e[1])/3,et[_e.length-1]=(_e[_e.length-2]+_e[_e.length-1])/3,et}function bimodalTest(_e){const et=_e.length;let tt=!1,nt=0;for(let ot=1;ot<et-1;ot++)if(_e[ot-1]<_e[ot]&&_e[ot+1]<_e[ot]&&(nt++,nt>2))return!1;return nt===2&&(tt=!0),tt}function moments(_e,et){let nt=0,ot=0,it=0,lt=0,at=-1;const st=_e.length,ut=new Array(st);for(let Et=0;Et<st;Et++)ut[Et]=_e[Et]/et;for(let Et=0;Et<st;Et++)nt+=Et*ut[Et],ot+=Et*Et*ut[Et],it+=Et*Et*Et*ut[Et];const ct=1*ot-nt*nt,ft=(-ot*ot+nt*it)/ct,dt=(1*-it+ot*nt)/ct,ht=.5*(-dt-Math.sqrt(dt*dt-4*ft)),gt=.5*(-dt+Math.sqrt(dt*dt-4*ft)),yt=(gt-nt)/(gt-ht);for(let Et=0;Et<st;Et++)if(lt+=ut[Et],lt>yt){at=Et;break}return at}function otsu(_e,et){let tt=0,nt=0,ot=0,it=0,lt=0;for(let at=0;at<_e.length;at++)lt+=at*_e[at];for(let at=0;at<_e.length;at++){nt=nt+_e[at];const st=et-nt;if(nt===0||st===0)continue;tt=tt+at*_e[at];const ut=(lt-tt)/st,ct=nt*st*(tt/nt-ut)*(tt/nt-ut);ct>=ot&&(it=at,ot=ct)}return it}function percentile(_e){let et=-1;const tt=.5,nt=new Array(_e.length),ot=partialSum(_e,_e.length-1);let it=1;for(let lt=0;lt<_e.length;lt++)nt[lt]=Math.abs(partialSum(_e,lt)/ot-tt),nt[lt]<it&&(it=nt[lt],et=lt);return et}function partialSum(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=_e[nt];return tt}function renyiEntropy(_e,et){let tt,nt;const ot=new Array(_e.length),it=new Array(_e.length),lt=new Array(_e.length);let at=0,st=0,ut=0,ct=0,ft=0,dt=0;const gt=1/(1-.5),Et=1/(1-2);for(let vt=0;vt<_e.length;vt++)ot[vt]=_e[vt]/et;it[0]=ot[0],lt[0]=1-it[0];for(let vt=1;vt<_e.length;vt++)it[vt]=it[vt-1]+ot[vt],lt[vt]=1-it[vt];tt=0;for(let vt=0;vt<_e.length;vt++)if(Math.abs(it[vt])>=Number.EPSILON){tt=vt;break}nt=_e.length-1;for(let vt=_e.length-1;vt>=tt;vt--)if(Math.abs(lt[vt])>=Number.EPSILON){nt=vt;break}for(let vt=tt;vt<=nt;vt++){let bt=0,Rt=0,St=0;for(let Pt=0;Pt<=vt;Pt++)_e[Pt]!==0&&(bt-=ot[Pt]/it[vt]*Math.log(ot[Pt]/it[vt])),Rt+=Math.sqrt(ot[Pt]/it[vt]),St+=ot[Pt]*ot[Pt]/(it[vt]*it[vt]);let Ct=0,xt=0,$t=0;for(let Pt=vt+1;Pt<_e.length;Pt++)_e[Pt]!==0&&(Ct-=ot[Pt]/lt[vt]*Math.log(ot[Pt]/lt[vt])),xt+=Math.sqrt(ot[Pt]/lt[vt]),$t+=ot[Pt]*ot[Pt]/(lt[vt]*lt[vt]);const Mt=bt+Ct,kt=gt*(Rt*xt>0?Math.log(Rt*xt):0),It=Et*(St*$t>0?Math.log(St*$t):0);Mt>ct&&(ct=Mt,at=vt),kt>ft&&(ft=kt,st=vt),It>dt&&(dt=It,ut=vt)}const mt=new Uint32Array([at,st,ut]);mt.sort();let _t;Math.abs(mt[0]-mt[1])<=5?Math.abs(mt[1]-mt[2])<=5?_t=[1,2,1]:_t=[0,1,3]:Math.abs(mt[1]-mt[2])<=5?_t=[3,1,0]:_t=[1,2,1];const pt=it[mt[2]]-it[mt[0]];return Math.round(mt[0]*(it[mt[0]]+.25*pt*_t[0])+.25*mt[1]*pt*_t[1]+mt[2]*(lt[mt[2]]+.25*pt*_t[2]))}function shanbhag(_e,et){const tt=new Array(_e.length);for(let ht=0;ht<_e.length;ht++)tt[ht]=_e[ht]/et;const nt=new Array(_e.length),ot=new Array(_e.length);nt[0]=tt[0],ot[0]=1-nt[0];for(let ht=1;ht<_e.length;ht++)nt[ht]=nt[ht-1]+tt[ht],ot[ht]=1-nt[ht];let it=0;for(let ht=0;ht<_e.length;ht++)if(Math.abs(nt[ht])>=Number.EPSILON){it=ht;break}let lt=_e.length-1;for(let ht=_e.length-1;ht>=it;ht--)if(Math.abs(ot[ht])>=Number.EPSILON){lt=ht;break}let at=-1,st=Number.MAX_VALUE,ut,ct,ft,dt;for(let ht=it;ht<=lt;ht++){ft=0,ut=.5/nt[ht];for(let gt=1;gt<=ht;gt++)ft-=tt[gt]*Math.log(1-ut*nt[gt-1]);ft*=ut,dt=0,ut=.5/ot[ht];for(let gt=ht+1;gt<_e.length;gt++)dt-=tt[gt]*Math.log(1-ut*ot[gt]);dt*=ut,ct=Math.abs(ft-dt),ct<st&&(st=ct,at=ht)}return at}function triangle(_e){let et=0,tt=0,nt=0,ot=0;for(let ft=0;ft<_e.length;ft++)if(_e[ft]>0){et=ft;break}et>0&&et--;for(let ft=_e.length-1;ft>0;ft--)if(_e[ft]>0){ot=ft;break}ot<_e.length-1&&ot++;for(let ft=0;ft<_e.length;ft++)_e[ft]>tt&&(nt=ft,tt=_e[ft]);let it=!1;if(nt-et<ot-nt){it=!0;let ft=0,dt=_e.length-1;for(;ft<dt;){const ht=_e[ft];_e[ft]=_e[dt],_e[dt]=ht,ft++,dt--}et=_e.length-1-ot,nt=_e.length-1-nt}if(et===nt)return et;let lt,at,st;lt=_e[nt],at=et-nt,st=Math.sqrt(lt*lt+at*at),lt/=st,at/=st,st=lt*et+at*_e[et];let ut=et,ct=0;for(let ft=et+1;ft<=nt;ft++){const dt=lt*ft+at*_e[ft]-st;dt>ct&&(ut=ft,ct=dt)}if(ut--,it){let ft=0,dt=_e.length-1;for(;ft<dt;){const ht=_e[ft];_e[ft]=_e[dt],_e[dt]=ht,ft++,dt--}return _e.length-1-ut}else return ut}function yen(_e,et){const tt=new Array(_e.length);for(let ut=0;ut<_e.length;ut++)tt[ut]=_e[ut]/et;const nt=new Array(_e.length);nt[0]=tt[0];for(let ut=1;ut<_e.length;ut++)nt[ut]=nt[ut-1]+tt[ut];const ot=new Array(_e.length);ot[0]=tt[0]*tt[0];for(let ut=1;ut<_e.length;ut++)ot[ut]=ot[ut-1]+tt[ut]*tt[ut];const it=new Array(_e.length);it[_e.length-1]=0;for(let ut=_e.length-2;ut>=0;ut--)it[ut]=it[ut+1]+tt[ut+1]*tt[ut+1];let lt=-1,at=Number.MIN_VALUE,st;for(let ut=0;ut<_e.length;ut++)st=-1*(ot[ut]*it[ut]>0?Math.log(ot[ut]*it[ut]):0)+2*(nt[ut]*(1-nt[ut])>0?Math.log(nt[ut]*(1-nt[ut])):0),st>at&&(at=st,lt=ut);return lt}var ThresholdAlgorithm;(function(_e){_e.HUANG="HUANG",_e.INTERMODES="INTERMODES",_e.ISODATA="ISODATA",_e.LI="LI",_e.MAX_ENTROPY="MAX_ENTROPY",_e.MEAN="MEAN",_e.MIN_ERROR="MIN_ERROR",_e.MINIMUM="MINIMUM",_e.MOMENTS="MOMENTS",_e.OTSU="OTSU",_e.PERCENTILE="PERCENTILE",_e.RENYI_ENTROPY="RENYI_ENTROPY",_e.SHANBHAG="SHANBHAG",_e.TRIANGLE="TRIANGLE",_e.YEN="YEN"})(ThresholdAlgorithm||(ThresholdAlgorithm={}));function computeThreshold(_e,et=ThresholdAlgorithm.OTSU){if(_e.channels!==1)throw new Error("threshold can only be computed on images with one channel");const tt=_e.histogram();switch(et){case ThresholdAlgorithm.HUANG:return huang(tt);case ThresholdAlgorithm.INTERMODES:return intermodes(tt);case ThresholdAlgorithm.ISODATA:return isodata(tt);case ThresholdAlgorithm.LI:return li(tt,_e.size);case ThresholdAlgorithm.MAX_ENTROPY:return maxEntropy(tt,_e.size);case ThresholdAlgorithm.MEAN:return mean$1(tt,_e.size);case ThresholdAlgorithm.MINIMUM:return minimum(tt);case ThresholdAlgorithm.MIN_ERROR:return minError(tt,_e.size);case ThresholdAlgorithm.MOMENTS:return moments(tt,_e.size);case ThresholdAlgorithm.OTSU:return otsu(tt,_e.size);case ThresholdAlgorithm.PERCENTILE:return percentile(tt);case ThresholdAlgorithm.RENYI_ENTROPY:return renyiEntropy(tt,_e.size);case ThresholdAlgorithm.SHANBHAG:return shanbhag(tt,_e.size);case ThresholdAlgorithm.TRIANGLE:return triangle(tt);case ThresholdAlgorithm.YEN:return yen(tt,_e.size);default:throw new RangeError(`unsupported threshold algorithm: ${et}`)}}function threshold(_e,et={}){let tt;if("threshold"in et){const ot=et.threshold;if(typeof ot=="number")tt=ot;else if(typeof ot=="string"&&ot.endsWith("%")&&!Number.isNaN(Number(ot.slice(0,-1)))){const it=Number(ot.slice(0,-1));if(it<0||it>100)throw new RangeError("threshold: threshold in percents is out of range 0 to 100");tt=it/100*_e.maxValue}else throw new Error("threshold: unrecognised threshold format")}else tt=computeThreshold(_e,et.algorithm);validateValue(tt,_e);const nt=imageToOutputMask(_e,et);for(let ot=0;ot<_e.size;ot++)nt.setBitByIndex(ot,_e.getValueByIndex(ot,0)>tt?1:0);return nt}function luma709(_e,et,tt){return _e*6966+et*23436+tt*2366>>15}function luma601(_e,et,tt){return _e*9798+et*19235+tt*3735>>15}function max$1(_e,et,tt){return Math.max(_e,et,tt)}function min$1(_e,et,tt){return Math.min(_e,et,tt)}function average(_e,et,tt){return(_e+et+tt)/3>>0}function minmax(_e,et,tt){return(Math.max(_e,et,tt)+Math.min(_e,et,tt))/2}function red(_e){return _e}function green(_e,et){return et}function blue(_e,et,tt){return tt}function black(_e,et,tt,nt){return Math.min(nt.maxValue-_e,nt.maxValue-et,nt.maxValue-tt)}function cyan(_e,et,tt,nt){let ot=black(_e,et,tt,nt);return(nt.maxValue-_e-ot)/(1-ot/nt.maxValue)>>0}function magenta(_e,et,tt,nt){let ot=black(_e,et,tt,nt);return(nt.maxValue-et-ot)/(1-ot/nt.maxValue)>>0}function yellow(_e,et,tt,nt){let ot=black(_e,et,tt,nt);return(nt.maxValue-tt-ot)/(1-ot/nt.maxValue)>>0}function hue(_e,et,tt,nt){let ot=min$1(_e,et,tt),it=max$1(_e,et,tt);if(it===ot)return 0;let lt=0,at=it-ot;switch(it){case _e:lt=(et-tt)/at+(et<tt?6:0);break;case et:lt=(tt-_e)/at+2;break;case tt:lt=(_e-et)/at+4;break;default:throw new Error("unreachable")}return lt/6*nt.maxValue>>0}function saturation(_e,et,tt,nt){let ot=min$1(_e,et,tt),it=max$1(_e,et,tt),lt=it-ot;return it===0?0:lt/it*nt.maxValue}function lightness(_e,et,tt){let nt=min$1(_e,et,tt);return(max$1(_e,et,tt)+nt)/2}const greyAlgorithms=Object.freeze(Object.defineProperty({__proto__:null,average,black,blue,cyan,green,hue,lightness,luma601,luma709,magenta,max:max$1,min:min$1,minmax,red,saturation,yellow},Symbol.toStringTag,{value:"Module"}));function grey(_e,et={}){let{algorithm:tt="luma709",keepAlpha:nt=!1,mergeAlpha:ot=!0}=et;if(_e.colorModel!==ImageColorModel.RGB&&_e.colorModel!==ImageColorModel.RGBA)throw new Error("Image color model is not RGB or RGBA");nt=nt&&_e.alpha,ot=ot&&_e.alpha,nt&&(ot=!1);let it=nt?ImageColorModel.GREYA:ImageColorModel.GREY,lt=getOutputImage(_e,et,{newParameters:{colorModel:it}}),at;typeof tt=="function"?at=tt:at=greyAlgorithms[tt];let st=getClamp(lt);for(let ut=0;ut<_e.size;ut++){const ct=_e.getValueByIndex(ut,0),ft=_e.getValueByIndex(ut,1),dt=_e.getValueByIndex(ut,2);let ht;if(ot){const gt=_e.getValueByIndex(ut,3);ht=st(at(ct,ft,dt,_e)*gt/_e.maxValue)}else if(ht=st(at(ct,ft,dt,_e)),nt){const gt=_e.getValueByIndex(ut,3);lt.setValueByIndex(ut,1,gt)}lt.setValueByIndex(ut,0,ht)}return lt}function setBlendedPixel(_e,et,tt,nt={}){const{color:ot=getDefaultColor(_e)}=nt;if(!_e.alpha)_e.setPixel(et,tt,ot);else{assert(_e instanceof Image);const it=ot[ot.length-1];if(it===_e.maxValue){_e.setPixel(et,tt,ot);return}const lt=_e.getValue(et,tt,_e.channels-1);let at=it+lt*(1-it/_e.maxValue);_e.setValue(et,tt,_e.channels-1,at);for(let st=0;st<_e.components;st++){let ut=ot[st],ct=_e.getValue(et,tt,st),ft=(ut*it+ct*lt*(1-it/_e.maxValue))/at;_e.setValue(et,tt,st,ft)}}}function copyTo(_e,et,tt={}){const{origin:nt={column:0,row:0}}=tt,{column:ot,row:it}=nt;if(_e.colorModel!==et.colorModel)throw new Error("copyTo: source and target must have the same color model.");let lt;et instanceof Image?lt=getOutputImage(et,tt,{clone:!0}):lt=maskToOutputMask(et,tt,{clone:!0});for(let at=Math.max(it,0);at<Math.min(_e.height+it,et.height);at++)for(let st=Math.max(ot,0);st<Math.min(_e.width+ot,et.width);st++){let ut=_e.getPixel(st-ot,at-it);setBlendedPixel(lt,st,at,{color:ut})}return lt}function crop(_e,et={}){const{origin:tt={row:0,column:0},width:nt=_e.width-tt.column,height:ot=_e.height-tt.row}=et,{column:it,row:lt}=tt;if(checkProcessable(_e,"crop",{bitDepth:[8,16]}),lt>_e.height-1||it>_e.width-1)throw new Error(`crop: origin (row:${lt}, column:${it}) out of range (${_e.width-1}; ${_e.height-1})`);if(nt<=0||ot<=0)throw new Error(`crop: width and height (width:${nt}; height:${ot}) must be positive numbers`);if(lt<0||it<0)throw new Error(`crop: row and column (row:${lt}, column:${it}) must be positive numbers`);if(nt>_e.width-it||ot>_e.height-lt)throw new Error(`crop: (row:${lt}, column: ${it}, width:${nt}, height:${ot}) size is out of range`);const at=Image.createFrom(_e,{width:nt,height:ot});for(let st=0;st<ot;st++)for(let ut=0;ut<nt;ut++)at.setPixel(ut,st,_e.getPixel(it+ut,lt+st));return at}function paintMaskOnImage(_e,et,tt={}){const{origin:nt={row:0,column:0},color:ot=getDefaultColor(_e),blend:it=!0}=tt,{column:lt,row:at}=nt;if(ot.length!==_e.channels)throw new Error("paintMask: the given color is not compatible with the image");const st=getOutputImage(_e,tt,{clone:!0});if(it){checkColorIsNumberArray(ot);for(let ut=Math.max(at,0);ut<Math.min(et.height+at,_e.height);ut++)for(let ct=Math.max(lt,0);ct<Math.min(et.width+lt,_e.width);ct++)et.getBit(ct-lt,ut-at)&&setBlendedPixel(st,ct,ut,{color:ot})}else for(let ut=Math.max(at,0);ut<Math.min(et.height+at,_e.height);ut++)for(let ct=Math.max(lt,0);ct<Math.min(et.width+lt,_e.width);ct++)if(et.getBit(ct-lt,ut-at))for(let ft=0;ft<_e.channels;ft++){const dt=ot[ft];typeof dt=="number"&&st.setValue(ct,ut,ft,dt)}return st}function checkColorIsNumberArray(_e){for(let et of _e)if(typeof et!="number")throw new Error("paintMask: cannot have null channels in color if blend is true")}function paintMaskOnMask(_e,et,tt={}){const{origin:nt={row:0,column:0},value:ot=1}=tt,{column:it,row:lt}=nt,at=maskToOutputMask(_e,tt,{clone:!0});for(let st=Math.max(lt,0);st<Math.min(et.height+lt,_e.height);st++)for(let ut=Math.max(it,0);ut<Math.min(et.width+it,_e.width);ut++)et.getBit(ut-it,st-lt)&&at.setBit(ut,st,ot);return at}function cropAlpha(_e,et={}){checkProcessable(_e,"cropAlpha",{alpha:!0});const{threshold:tt=_e.maxValue}=et;let nt=findLeft(_e,tt,_e.components);if(nt===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let ot=findTop(_e,tt,_e.components,nt),it=findBottom(_e,tt,_e.components,nt),lt=findRight(_e,tt,_e.components,nt,ot,it);return _e.crop({origin:{column:nt,row:ot},width:lt-nt+1,height:it-ot+1})}function findLeft(_e,et,tt){for(let nt=0;nt<_e.width;nt++)for(let ot=0;ot<_e.height;ot++)if(_e.getValue(nt,ot,tt)>=et)return nt;return-1}function findTop(_e,et,tt,nt){for(let ot=0;ot<_e.height;ot++)for(let it=nt;it<_e.width;it++)if(_e.getValue(it,ot,tt)>=et)return ot;return-1}function findBottom(_e,et,tt,nt){for(let ot=_e.height-1;ot>=0;ot--)for(let it=nt;it<_e.width;it++)if(_e.getValue(it,ot,tt)>=et)return ot;return-1}function findRight(_e,et,tt,nt,ot,it){for(let lt=_e.width-1;lt>=nt;lt--)for(let at=ot;at<=it;at++)if(_e.getValue(lt,at,tt)>=et)return lt;return-1}var ColorDepth;(function(_e){_e[_e.UINT1=1]="UINT1",_e[_e.UINT8=8]="UINT8",_e[_e.UINT16=16]="UINT16"})(ColorDepth||(ColorDepth={}));var ImageCoordinates;(function(_e){_e.CENTER="CENTER",_e.TOP_LEFT="TOP_LEFT",_e.TOP_RIGHT="TOP_RIGHT",_e.BOTTOM_LEFT="BOTTOM_LEFT",_e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(ImageCoordinates||(ImageCoordinates={}));class Image{constructor(et,tt,nt={}){const{depth:ot=ColorDepth.UINT8,data:it,colorModel:lt=ImageColorModel.RGB,origin:at={row:0,column:0}}=nt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.depth=ot,this.colorModel=lt,this.origin=at;const st=colorModels[lt];if(this.components=st.components,this.alpha=st.alpha,this.channels=st.channels,this.maxValue=2**ot-1,it===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.depth,this.maxValue);else{if(ot===ColorDepth.UINT8&&it instanceof Uint16Array)throw new Error(`depth is ${ot} but data is Uint16Array`);if(ot===ColorDepth.UINT16&&it instanceof Uint8Array)throw new Error(`depth is ${ot} but data is Uint8Array`);const ut=this.size*this.channels;if(it.length!==ut)throw new RangeError(`incorrect data size: ${it.length}. Expected ${ut}`);this.data=it}}static createFrom(et,tt={}){const{width:nt=et.width,height:ot=et.height}=tt;let it;return et instanceof Image?it=et.depth:it=ColorDepth.UINT8,new Image(nt,ot,{depth:it,colorModel:et.colorModel,origin:et.origin,...tt})}getPixel(et,tt){const nt=[],ot=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)nt.push(this.data[ot+it]);return nt}setPixel(et,tt,nt){const ot=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)this.data[ot+it]=nt[it]}setVisiblePixel(et,tt,nt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,nt)}getPixelByIndex(et){const tt=[],nt=et*this.channels;for(let ot=0;ot<this.channels;ot++)tt.push(this.data[nt+ot]);return tt}setPixelByIndex(et,tt){const nt=et*this.channels;for(let ot=0;ot<this.channels;ot++)this.data[nt+ot]=tt[ot]}getValue(et,tt,nt){return this.data[(tt*this.width+et)*this.channels+nt]}setValue(et,tt,nt,ot){this.data[(tt*this.width+et)*this.channels+nt]=ot}getValueByIndex(et,tt){return this.data[et*this.channels+tt]}setValueByIndex(et,tt,nt){this.data[et*this.channels+tt]=nt}getValueByPoint(et,tt){return this.getValue(et.column,et.row,tt)}setValueByPoint(et,tt,nt){this.setValue(et.column,et.row,tt,nt)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,depth:this.depth}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData$1(this),`Image {
  width: ${this.width}
  height: ${this.height}
  depth: ${this.depth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${et}
}`}fill(et){if(typeof et=="number")return validateValue(et,this),this.data.fill(et),this;if(et.length!==this.channels)throw new RangeError(`the size of value must match the number of channels (${this.channels}). Got ${et.length} instead`);for(const tt of et)validateValue(tt,this);for(let tt=0;tt<this.data.length;tt+=this.channels)for(let nt=0;nt<=this.channels;nt++)this.data[tt+nt]=et[nt];return this}fillChannel(et,tt){validateChannel(et,this),validateValue(tt,this);for(let nt=et;nt<this.data.length;nt+=this.channels)this.data[nt]=tt;return this}getChannel(et){validateChannel(et,this);let tt=new Array(this.size);for(let nt=0;nt<this.size;nt++)tt[nt]=this.data[et+nt*this.channels];return tt}fillAlpha(et){if(validateValue(et,this),!this.alpha)throw new Error("fillAlpha can only be called if the image has an alpha channel");const tt=this.channels-1;return this.fillChannel(tt,et)}clone(){return Image.createFrom(this,{data:this.data.slice()})}changeEach(et){for(let tt=0;tt<this.data.length;tt++)this.data[tt]=et(this.data[tt])}getCoordinates(et,tt=!1){switch(et){case ImageCoordinates.CENTER:{const nt=(this.width-1)/2,ot=(this.height-1)/2;return tt?{column:Math.round(nt),row:Math.round(ot)}:{column:nt,row:ot}}case ImageCoordinates.TOP_LEFT:return{column:0,row:0};case ImageCoordinates.TOP_RIGHT:return{column:this.width-1,row:0};case ImageCoordinates.BOTTOM_LEFT:return{column:0,row:this.height-1};case ImageCoordinates.BOTTOM_RIGHT:return{column:this.width-1,row:this.height-1};default:throw new Error(`Unknown image coordinates ${et}`)}}subtract(et,tt={}){return subtract(this,et,tt)}histogram(et){return histogram(this,et)}mean(){return mean$2(this)}median(){return median$1(this)}variance(){return variance(this)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,nt={}){return drawLineOnImage(this,et,tt,nt)}drawRectangle(et={}){return drawRectangle(this,et)}drawPolyline(et,tt={}){return drawPolylineOnImage(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnImage(this,et,tt)}drawCircle(et,tt,nt={}){return drawCircleOnImage(this,et,tt,nt)}drawMarker(et,tt={}){return drawMarker(this,et,tt)}drawMarkers(et,tt={}){return drawMarkers(this,et,tt)}split(){return split(this)}convertColor(et,tt){return convertColor(this,et,tt)}convertDepth(et){return convertDepth(this,et)}grey(et){return grey(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}threshold(et={}){return threshold(this,et)}crop(et){return crop(this,et)}cropAlpha(et={}){return cropAlpha(this,et)}extract(et,tt){return extract(this,et,tt)}paintMask(et,tt){return paintMaskOnImage(this,et,tt)}blur(et){return blur(this,et)}directConvolution(et,tt){return directConvolution(this,et,tt)}rawDirectConvolution(et,tt){return rawDirectConvolution(this,et,tt)}separableConvolution(et,tt,nt){return separableConvolution(this,et,tt,nt)}gaussianBlur(et){return gaussianBlur(this,et)}flip(et){return flip(this,et)}invert(et){return invert(this,et)}hypotenuse(et,tt){return hypotenuse(this,et,tt)}gradientFilter(et){return gradientFilter(this,et)}derivativeFilter(et){return derivativeFilter(this,et)}level(et){return level(this,et)}correctColor(et,tt){return correctColor(this,et,tt)}resize(et){return resize(this,et)}rotate(et){return rotate$1(this,et)}transform(et,tt){return transform(this,et,tt)}transformRotate(et,tt){return transformRotate(this,et,tt)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}cannyEdgeDetector(et){return cannyEdgeDetector(this,et)}}function createPixelArray(_e,et,tt,nt,ot){const it=et*_e;let lt;switch(nt){case ColorDepth.UINT8:lt=new Uint8Array(it);break;case ColorDepth.UINT16:lt=new Uint16Array(it);break;default:throw new Error(`unexpected color depth: ${nt}`)}if(tt)for(let at=et-1;at<it;at+=et)lt[at]=ot;return lt}function printData$1(_e){const et=[],tt=_e.depth===8?3:5;for(let nt=0;nt<_e.height;nt++){const ot=[];for(let it=0;it<_e.width;it++)for(let lt=0;lt<_e.channels;lt++)ot.push(String(_e.getValue(it,nt,lt)).padStart(tt," "));et.push(`[${ot.join(" ")}]`)}return`{
    ${`[
     ${et.join(`
     `)}
    ]`}
  }`}function difference(_e,et){return{column:_e.column-et.column,row:_e.row-et.row}}function normalize(_e){let et=Math.sqrt(_e.column**2+_e.row**2);return{column:_e.column/et,row:_e.row/et}}function rotate(_e,et){let tt=[];const nt=Math.cos(_e),ot=Math.sin(_e);for(let it of et)tt.push({column:nt*it.column-ot*it.row,row:ot*it.column+nt*it.row});return tt}function toDegrees(_e){return _e*180/Math.PI}function getAngle(_e,et){let tt=difference(et,_e),nt=normalize(tt),ot=Math.acos(nt.column);return nt.row<0?-ot:ot}function getFeret(_e){const et=_e.getConvexHull(),tt=et.points;if(et.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},aspectRatio:1};let nt=Number.POSITIVE_INFINITY,ot=0,it=[];for(let ct=0;ct<tt.length;ct++){let ft=getAngle(tt[ct],tt[(ct+1)%tt.length]);const dt=rotate(-ft,tt);let ht=0,gt=[];for(let yt=0;yt<tt.length;yt++){let Et=Math.abs(dt[ct].row-dt[yt].row);Et>ht&&(ht=Et,gt=[dt[ct],dt[yt]])}ht<nt&&(nt=ht,ot=ft,it=gt)}const lt={points:rotate(ot,it),length:nt,angle:toDegrees(ot)};let at=[],st=0;for(let ct=0;ct<tt.length-1;ct++)for(let ft=ct+1;ft<tt.length;ft++){let dt=(tt[ct].column-tt[ft].column)**2+(tt[ct].row-tt[ft].row)**2;dt>st&&(st=dt,at=[tt[ct],tt[ft]])}const ut={length:Math.sqrt(st),angle:toDegrees(getAngle(at[0],at[1])),points:at};return{minDiameter:lt,maxDiameter:ut,aspectRatio:lt.length/ut.length}}function getBorderPoints$1(_e,et={}){const{innerBorders:tt=!1,allowCorners:nt=!1}=et;tt||(_e=_e.solidFill());let ot=[];for(let it=0;it<_e.width;it++)_e.getBit(it,0)&&ot.push({column:it,row:0}),_e.getBit(it,_e.height-1)&&ot.push({column:it,row:_e.height-1});for(let it=0;it<_e.height;it++)_e.getBit(0,it)&&ot.push({column:0,row:it}),_e.getBit(_e.width-1,it)&&ot.push({column:_e.width-1,row:it});for(let it=1;it<_e.height-1;it++)for(let lt=1;lt<_e.width-1;lt++)_e.getBit(lt,it)&&((_e.getBit(lt-1,it)===0||_e.getBit(lt,it-1)===0||_e.getBit(lt+1,it)===0||_e.getBit(lt,it+1)===0)&&ot.push({column:lt,row:it}),nt&&(_e.getBit(lt-1,it-1)===0||_e.getBit(lt-1,it+1)===0||_e.getBit(lt+1,it-1)===0||_e.getBit(lt+1,it+1)===0)&&ot.push({column:lt,row:it}));return ot}function getLineLength(_e,et){return Math.sqrt((_e.column-et.column)**2+(_e.row-et.row)**2)}function getPolygonPerimeter(_e){let et=0;for(let tt=0;tt<_e.length;tt++)et+=getLineLength(_e[(tt+1)%_e.length],_e[tt]);return et}function getPolygonArea(_e){let et=0;for(let tt=0;tt<_e.length;tt++){const nt=(tt+1)%_e.length;et+=_e[tt].column*_e[nt].row,et-=_e[tt].row*_e[nt].column}return Math.abs(et/2)}function getExtendedBorderPoints(_e){const et=_e.getBorderPoints({allowCorners:!0,innerBorders:!1});let tt=[];for(let nt of et)tt.push(nt,{column:nt.column+1,row:nt.row},{column:nt.column+1,row:nt.row+1},{column:nt.column,row:nt.row+1});return tt}function monotoneChainConvexHull(_e,et={}){const{sorted:tt=!1}=et;tt||(_e=_e.slice().sort(byXThenY));const nt=_e.length,ot=new Array(nt*2);let it=0;for(let at=0;at<nt;at++){const st=_e[at];for(;it>=2&&cw(ot[it-2],ot[it-1],st)<=0;)it--;ot[it++]=st}const lt=it+1;for(let at=nt-2;at>=0;at--){const st=_e[at];for(;it>=lt&&cw(ot[it-2],ot[it-1],st)<=0;)it--;ot[it++]=st}return ot.slice(0,it-1)}function cw(_e,et,tt){return(et.row-_e.row)*(tt.column-_e.column)-(et.column-_e.column)*(tt.row-_e.row)}function byXThenY(_e,et){return _e.column===et.column?_e.row-et.row:_e.column-et.column}function getConvexHull(_e){const et=getExtendedBorderPoints(_e);if(et.length===0)return{points:[],surface:0,perimeter:0};const tt=monotoneChainConvexHull(et),nt=getPolygonPerimeter(tt),ot=getPolygonArea(tt);return{points:tt,perimeter:nt,surface:ot}}const leftFirst=(_e,et)=>_e.column<=et.column?-1:1,topFirst=(_e,et)=>_e.row>=et.row?-1:1;function getMbrAngle(_e){const et=_e.slice().sort(leftFirst),tt=et.slice(0,2),nt=et.slice(2,4);tt.sort(topFirst),nt.sort(topFirst);const ot=tt[0],it=nt[0];return-toDegrees(getAngle(ot,it))}function getMbrFromPoints(_e){if(_e.length===0)return{corners:[],angle:0,width:0,height:0,surface:0,perimeter:0};if(_e.length===1)return{corners:[_e[0],_e[0],_e[0],_e[0]],perimeter:0,surface:0,angle:0,width:0,height:0};let et=[],tt=Number.POSITIVE_INFINITY,nt=0,ot=[];for(let ut=0;ut<_e.length;ut++){let ct=getAngle(_e[ut],_e[(ut+1)%_e.length]);et=rotate(-ct,_e);let ft=et[ut].column,dt=et[ut].row,ht=et[(ut+1)%et.length].column,gt=et[(ut+1)%et.length].row,yt=!0,Et=0,mt=0,_t=0;for(let bt of et){let Rt=bt.column,St=bt.row,Ct=(Rt-ft)/(ht-ft);yt?(yt=!1,Et=Ct,mt=Ct):(Ct<Et&&(Et=Ct),Ct>mt&&(mt=Ct));let xt=(-(ht-ft)*St+ht*dt-gt*ft)/(ht-ft);Math.abs(xt)>Math.abs(_t)&&(_t=xt)}let pt={column:ft+Et*(ht-ft),row:dt},wt={column:ft+mt*(ht-ft),row:dt},vt=Math.abs(_t*(Et-mt)*(ht-ft));vt<tt&&(nt=ct,tt=vt,ot=[wt,pt,{column:pt.column,row:pt.row-_t},{column:wt.column,row:wt.row-_t}])}const it=rotate(nt,ot),lt=ot[0].column-ot[2].column,at=ot[0].row-ot[2].row,st=getMbrAngle(it);return{corners:it,surface:tt,angle:st,width:lt,height:at,perimeter:2*lt+2*at}}function getMbr(_e){const et=monotoneChainConvexHull(getExtendedBorderPoints(_e));return getMbrFromPoints(et)}function boolToNumber(_e){let et;return typeof _e=="boolean"?et=_e?1:0:et=_e,et}class Mask{constructor(et,tt,nt={}){const{data:ot,origin:it={row:0,column:0}}=nt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.depth=ColorDepth.UINT1,this.colorModel=ImageColorModel.BINARY,this.origin=it;const lt=colorModels[this.colorModel];if(this.components=lt.components,this.alpha=lt.alpha,this.channels=lt.channels,this.maxValue=1,ot===void 0)this.data=new Uint8Array(this.size);else{const at=this.size*this.channels;if(ot.length!==at)throw new RangeError(`incorrect data size: ${ot.length}. Expected ${at}`);this.data=ot}}static createFrom(et,tt={}){const{width:nt=et.width,height:ot=et.height,origin:it=et.origin}=tt;return new Mask(nt,ot,{origin:it,...tt})}getPixel(et,tt){const nt=[],ot=tt*this.width+et;return nt.push(this.data[ot]),nt}setPixel(et,tt,nt){const ot=tt*this.width+et;this.data[ot]=nt[0]}setVisiblePixel(et,tt,nt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,nt)}getPixelByIndex(et){return[this.data[et]]}setPixelByIndex(et,tt){this.data[et]=tt[0]}static fromPoints(et,tt,nt){let ot=new Mask(et,tt);for(const it of nt)ot.setBit(it.column,it.row,1);return ot}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(et,tt){const nt=tt*this.width+et;return this.data[nt]}setBit(et,tt,nt){const ot=tt*this.width+et;this.data[ot]=nt}getBitByIndex(et){return this.data[et*this.channels]}setBitByIndex(et,tt){let nt=boolToNumber(tt);this.data[et*this.channels]=nt}getValue(et,tt,nt){return checkChannel(nt),this.getBit(et,tt)}setValue(et,tt,nt,ot){checkChannel(nt),this.setBit(et,tt,ot)}getValueByIndex(et,tt){return checkChannel(tt),this.getBitByIndex(et)}setValueByIndex(et,tt,nt){checkChannel(tt),this.setBitByIndex(et,nt)}getValueByPoint(et){return this.getValue(et.column,et.row,0)}setValueByPoint(et,tt){this.setValue(et.column,et.row,0,tt)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${et}
}`}fill(et){let tt=boolToNumber(et);return this.data.fill(tt),this}convertColor(et){return convertColor(this,et)}invert(et){return invert(this,et)}subtract(et,tt){return subtract(this,et,tt)}and(et,tt){return and(this,et,tt)}or(et,tt){return or(this,et,tt)}getBorderPoints(et){return getBorderPoints$1(this,et)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}clearBorder(et){return clearBorder(this,et)}floodFill(et){return floodFill(this,et)}solidFill(et){return solidFill(this,et)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,nt={}){return drawLineOnMask(this,et,tt,nt)}drawPolyline(et,tt={}){return drawPolylineOnMask(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnMask(this,et,tt)}drawRectangle(et={}){return drawRectangle(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}paintMask(et,tt){return paintMaskOnMask(this,et,tt)}}function printData(_e){const et=[];for(let tt=0;tt<_e.height;tt++){const nt=[];for(let ot=0;ot<_e.width;ot++)nt.push(String(_e.getBit(ot,tt)));et.push(`[${nt.join(" ")}]`)}return et.join(`
        `)}function checkChannel(_e){if(_e!==0)throw new Error(`Channel value must be 0 on type Mask, got ${_e}.`)}function copyData(_e,et){if(et.width!==_e.width||et.height!==_e.height||et.colorModel!==_e.colorModel)throw new Error("copyData: images width, height or color model is different");et.data=_e.data.slice()}function getOutputImage(_e,et={},tt={}){const{out:nt}=et,{newParameters:ot,clone:it}=tt;if(nt===void 0)return it?_e.clone():Image.createFrom(_e,ot);{if(!(nt instanceof Image))throw new TypeError("out must be an Image object");const lt={width:_e.width,height:_e.height,depth:_e.depth,colorModel:_e.colorModel,...ot};return checkRequirements(lt,nt),it&&_e!==nt&&copyData(_e,nt),nt}}function maskToOutputImage(_e,et={}){const{out:tt}=et;if(tt===void 0)return Image.createFrom(_e,{colorModel:ImageColorModel.GREY});{if(!(tt instanceof Image))throw new TypeError("out must be an Image object");const nt={width:_e.width,height:_e.height,depth:ColorDepth.UINT8,colorModel:ImageColorModel.GREY};return checkRequirements(nt,tt),tt}}function imageToOutputMask(_e,et={}){const{out:tt}=et;if(tt===void 0)return Mask.createFrom(_e);{if(!(tt instanceof Mask))throw new TypeError("out must be a Mask object");const nt={width:_e.width,height:_e.height,depth:ColorDepth.UINT1,colorModel:ImageColorModel.BINARY};return checkRequirements(nt,tt),tt}}function checkRequirements(_e,et){for(const tt in _e){const nt=tt;if(et[nt]!==_e[nt])throw new RangeError(`cannot use out. Its ${tt} property must be ${_e[nt]}. Found ${et[nt]}`)}}function maskToOutputMask(_e,et={},tt={}){const{out:nt}=et,{newParameters:ot,clone:it}=tt;if(nt===void 0)return it?_e.clone():Mask.createFrom(_e,ot);{if(!(nt instanceof Mask))throw new TypeError("out must be a Mask object");const lt={width:_e.width,height:_e.height,depth:ColorDepth.UINT1,colorModel:ImageColorModel.BINARY};return checkRequirements(lt,nt),it&&_e!==nt&&copyData(_e,nt),nt}}function and(_e,et,tt){const nt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new Error("and: both masks must have the same size");for(let ot=0;ot<nt.size;ot++)_e.getBitByIndex(ot)&&et.getBitByIndex(ot)?nt.setBitByIndex(ot,1):nt.setBitByIndex(ot,0);return nt}function checkSize(_e){if(!Number.isInteger(_e)||_e<1)throw new TypeError(`size must be a positive integer. Got ${_e}`)}function checkKernel(_e){if(_e.length===0||_e.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${_e.length}`)}function checkBorderType(_e){if(_e!=="CONSTANT"&&_e!=="CUT")throw new RangeError(`unexpected border type: ${_e}`)}function checkInputLength(_e,et){if(_e!==et)throw new RangeError(`input length (${_e}) does not match setup size (${et})`)}function createArray(_e){const et=[];for(var tt=0;tt<_e;tt++)et.push(0);return et}class DirectConvolution{constructor(et,tt,nt="CONSTANT"){checkSize(et),checkKernel(tt),checkBorderType(nt),this.size=et,this.kernelOffset=(tt.length-1)/2,this.outputSize=nt==="CONSTANT"?et:et-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=tt,this.kernelSize=tt.length,this.borderType=nt}convolve(et){return checkInputLength(et.length,this.size),this.output.fill(0),this.borderType==="CONSTANT"?this._convolutionBorder0(et):this._convolutionBorderCut(et),this.output}_convolutionBorder0(et){for(let tt=0;tt<this.size;tt++)for(let nt=0;nt<this.kernelSize;nt++)this.output[tt]+=interpolateInput(et,tt-this.kernelOffset+nt)*this.kernel[nt]}_convolutionBorderCut(et){for(let tt=this.kernelOffset;tt<this.size-this.kernelOffset;tt++){const nt=tt-this.kernelOffset;for(let ot=0;ot<this.kernelSize;ot++)this.output[nt]+=et[nt+ot]*this.kernel[ot]}}}function interpolateInput(_e,et){return et<0||et>=_e.length?0:_e[et]}const BorderType={CONSTANT:"CONSTANT",CUT:"CUT"};function directConvolution(_e,et,tt={}){const{borderType:nt=BorderType$1.REFLECT_101,borderValue:ot=0}=tt,it=rawDirectConvolution(_e,et,{borderType:nt,borderValue:ot}),lt=getOutputImage(_e,tt),at=getClamp(lt);for(let st=0;st<_e.size;st++)for(let ut=0;ut<_e.channels;ut++){let ct=st*_e.channels+ut,ft=round(at(it[ct]));lt.setValueByIndex(st,ut,ft)}return lt}function rawDirectConvolution(_e,et,tt={}){const{borderType:nt=BorderType$1.REFLECT_101,borderValue:ot=0}=tt,it=getBorderInterpolation(nt,ot);let lt=new Float64Array(_e.size*_e.channels);for(let at=0;at<_e.channels;at++)for(let st=0;st<_e.height;st++)for(let ut=0;ut<_e.width;ut++){let ct=getIndex(ut,st,_e,at);lt[ct]=computeConvolutionValue(ut,st,at,_e,et,it,{returnRawValue:!0})}return lt}function separableConvolution(_e,et,tt,nt={}){const{normalize:ot,borderType:it=BorderType$1.REFLECT_101,borderValue:lt=0}=nt,at=getBorderInterpolation(it,lt);ot&&([et,tt]=normalizeSeparatedKernel(et,tt));const st=et.length-1,ut=st/2,ft=(tt.length-1)/2,{width:dt,height:ht,channels:gt}=_e,yt=dt-st,Et=Image.createFrom(_e),mt=getClamp(Et),_t=new DirectConvolution(dt,et,BorderType.CUT),pt=new DirectConvolution(ht,tt,BorderType.CUT),wt=new Float64Array(dt),vt=new Float64Array(ht),bt=new Float64Array(yt*ht);for(let xt=0;xt<gt;xt++){for(let $t=0;$t<ht;$t++){for(let kt=0;kt<dt;kt++)wt[kt]=_e.getValue(kt,$t,xt);const Mt=_t.convolve(wt);for(let kt=0;kt<yt;kt++)bt[$t*yt+kt]=Mt[kt]}for(let $t=0;$t<yt;$t++){const Mt=$t+ut;for(let It=0;It<ht;It++)vt[It]=bt[It*yt+$t];const kt=pt.convolve(vt);for(let It=0;It<kt.length;It++){const Pt=(It+ft)*dt+Mt;Et.setValueByIndex(Pt,xt,round(mt(kt[It])))}}}const Rt=Matrix.rowVector(et),Ct=Matrix.columnVector(tt).mmul(Rt).to2DArray();for(let xt=0;xt<gt;xt++)for(let $t=0;$t<ht;$t++)for(let Mt=0;Mt<ut;Mt++){const kt=$t*dt+Mt,It=dt-Mt-1,Pt=ht-$t-1,jt=Pt*dt+It;Et.setValueByIndex(kt,xt,computeConvolutionValue(Mt,$t,xt,_e,Ct,at,{clamp:mt})),Et.setValueByIndex(jt,xt,computeConvolutionValue(It,Pt,xt,_e,Ct,at,{clamp:mt}))}for(let xt=0;xt<gt;xt++)for(let $t=0;$t<dt;$t++)for(let Mt=0;Mt<ft;Mt++){const kt=Mt*dt+$t,It=dt-$t-1,Pt=ht-Mt-1,jt=Pt*dt+It;Et.setValueByIndex(kt,xt,computeConvolutionValue($t,Mt,xt,_e,Ct,at,{clamp:mt})),Et.setValueByIndex(jt,xt,computeConvolutionValue(It,Pt,xt,_e,Ct,at,{clamp:mt}))}return Et}function computeConvolutionValue(_e,et,tt,nt,ot,it,lt={}){let{returnRawValue:at=!1,clamp:st}=lt;at&&(st=void 0);let ut=0;const ct=ot[0].length,ft=ot.length,dt=(ct-1)/2,ht=(ft-1)/2;for(let gt=0;gt<ft;gt++)for(let yt=0;yt<ct;yt++){const Et=ot[gt][yt];ut+=Et*it(_e+yt-dt,et+gt-ht,tt,nt)}return st?round(st(ut)):ut}function normalizeSeparatedKernel(_e,et){const tt=_e.reduce((lt,at)=>lt+at,0),nt=et.reduce((lt,at)=>lt+at,0),ot=tt*nt;if(ot<0)throw new Error("this separated kernel cannot be normalized");const it=1/Math.sqrt(Math.abs(ot));return[_e.map(lt=>lt*it),et.map(lt=>lt*it)]}function blur(_e,et){const{width:tt,height:nt}=et,ot=new Array(tt).fill(1),it=new Array(nt).fill(1);return separableConvolution(_e,ot,it,{normalize:!0,...et})}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];var DerivativeFilters;(function(_e){_e.SOBEL="SOBEL",_e.SCHARR="SCHARR",_e.PREWITT="PREWITT"})(DerivativeFilters||(DerivativeFilters={}));function derivativeFilter(_e,et={}){const{filter:tt=DerivativeFilters.SOBEL}=et;let nt=SOBEL_X,ot=SOBEL_Y;switch(tt){case DerivativeFilters.SOBEL:break;case DerivativeFilters.SCHARR:nt=SCHARR_X,ot=SCHARR_Y;break;case DerivativeFilters.PREWITT:nt=PREWITT_X,ot=PREWITT_Y;break;default:throw new Error("derivativeFilter: unrecognised derivative filter.")}return _e.gradientFilter({kernelX:nt,kernelY:ot,...et})}function getRadius(_e){if(_e%2!==1||_e<0)throw new Error("size must be positive and odd");return(_e-1)/2}function gaussianBlur(_e,et){if("sigma"in et){const{sigma:tt,size:nt=getSize(tt),borderType:ot}=et,it=getRadius(nt),lt=getKernel(it,tt);return separableConvolution(_e,lt,lt,{borderType:ot})}else{const{sigmaX:tt,sigmaY:nt,sizeX:ot=getSize(tt),sizeY:it=getSize(nt),borderType:lt}=et,at=getRadius(ot),st=getRadius(it),ut=getKernel(at,tt),ct=getKernel(st,nt);return separableConvolution(_e,ut,ct,{borderType:lt})}}function getKernel(_e,et){const tt=_e*2+1,nt=new Array(tt),ot=et||((tt-1)*.5-1)*.3+.8,it=-.5/(ot*ot);let lt=0;for(let at=0;at<tt;at++){const st=at-_e,ut=Math.exp(it*st*st);nt[at]=ut,lt+=ut}for(let at=0;at<tt;at++)nt[at]/=lt;return nt}function getSize(_e){return 2*Math.ceil(2*_e)+1}function gradientFilter(_e,et){const{borderType:tt=BorderType$1.REPLICATE,borderValue:nt=0}=et;if(checkProcessable(_e,"gradientFilter",{bitDepth:[8,16],colorModel:ImageColorModel.GREY}),"kernelX"in et&&"kernelY"in et){const{kernelX:ot,kernelY:it}=et,lt=_e.rawDirectConvolution(ot,{borderType:tt,borderValue:nt}),at=_e.rawDirectConvolution(it,{borderType:tt,borderValue:nt});let st=new Image(_e.width,_e.height,{colorModel:ImageColorModel.GREY});for(let ut=0;ut<_e.size;ut++)st.setValueByIndex(ut,0,Math.hypot(lt[ut],at[ut]));return st}else{if("kernelX"in et)return _e.directConvolution(et.kernelX,{borderType:tt,borderValue:nt});if("kernelY"in et)return _e.directConvolution(et.kernelY,{borderType:tt,borderValue:nt});throw new Error("kernelX and KernelY are not defined")}}function hypotenuse(_e,et,tt={}){let{depth:nt=_e.depth,channels:ot=[]}=tt;for(let lt=0;lt<_e.components;lt++)ot.push(lt);if(checkProcessable(_e,"hypotenuse",{bitDepth:[8,16,32]}),_e.width!==et.width||_e.height!==et.height)throw new Error("hypotenuse: both images must have the same size");if(_e.alpha!==et.alpha||_e.depth!==et.depth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(_e.channels!==et.channels)throw new Error("hypotenuse: both images must have the same number of channels");validateChannels(ot,_e);let it=Image.createFrom(_e,{depth:nt});for(const lt of ot)for(let at=0;at<_e.size;at++){let st=Math.hypot(_e.getValueByIndex(at,lt),et.getValueByIndex(at,lt));it.setValueByIndex(at,lt,st>it.maxValue?it.maxValue:st)}return it}function invert(_e,et){if(_e instanceof Image){const tt=getOutputImage(_e,et);_e.alpha&&copyAlpha(_e,tt);const{maxValue:nt,size:ot}=tt;for(let it=0;it<ot;it++)for(let lt=0;lt<_e.components;lt++)tt.setValueByIndex(it,lt,nt-_e.getValueByIndex(it,lt));return tt}else{const tt=maskToOutputMask(_e,et);for(let nt=0;nt<tt.size;nt++)tt.setBitByIndex(nt,!_e.getBitByIndex(nt));return tt}}function level(_e,et={}){let{inputMin:tt=0,inputMax:nt=_e.maxValue,outputMin:ot=0,outputMax:it=_e.maxValue,gamma:lt=1,channels:at=new Array(_e.components).fill(0).map((ct,ft)=>ft)}=et;validateChannels(at,_e),checkProcessable(_e,"level",{bitDepth:[8,16]});let st=getOutputImage(_e,et,{clone:!0});const ut=getClamp(_e);for(let ct=0;ct<_e.height;ct++)for(let ft=0;ft<_e.width;ft++)for(let dt of at){let ht=_e.getValue(ft,ct,dt),gt=Math.max(Math.min(ht,nt),tt);const yt=ut((gt-tt)/(nt-tt)),Et=ut(yt**(1/lt)*(it-ot)+ot);st.setValue(ft,ct,dt,Et)}return st}function or(_e,et,tt){const nt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new Error("or: both masks must have the same size");for(let ot=0;ot<nt.size;ot++)_e.getBitByIndex(ot)||et.getBitByIndex(ot)?nt.setBitByIndex(ot,1):nt.setBitByIndex(ot,0);return nt}function flipX(_e){checkProcessable(_e,"flipX",{bitDepth:[8,16]});for(let et=0;et<_e.height;et++)for(let tt=0;tt<Math.floor(_e.width/2);tt++){const nt=tt,ot=_e.width-tt-1;for(let it=0;it<_e.channels;it++){const lt=_e.getValue(nt,et,it);_e.setValue(nt,et,it,_e.getValue(ot,et,it)),_e.setValue(ot,et,it,lt)}}return _e}function flipY(_e){checkProcessable(_e,"flipY",{bitDepth:[8,16]});for(let et=0;et<Math.floor(_e.height/2);et++)for(let tt=0;tt<_e.width;tt++){const nt=et,ot=_e.height-et-1;for(let it=0;it<_e.channels;it++){const lt=_e.getValue(tt,nt,it);_e.setValue(tt,nt,it,_e.getValue(tt,ot,it)),_e.setValue(tt,ot,it,lt)}}return _e}function flip(_e,et={}){const{axis:tt="horizontal"}=et;let nt=getOutputImage(_e,et,{clone:!0});return tt==="horizontal"?flipX(nt):flipY(tt==="vertical"?nt:flipX(nt))}var imageTypeExports={},imageType$1={get exports(){return imageTypeExports},set exports(_e){imageTypeExports=_e}},fileTypeExports={},fileType$1={get exports(){return fileTypeExports},set exports(_e){fileTypeExports=_e}};(function(module){const toBytes=_e=>[..._e].map(et=>et.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(_e,et=0){let tt=_e[et],nt=1,ot=0;for(;++ot<8;)nt*=256,tt+=_e[et+ot]*nt;return tt}const fileType=_e=>{if(!(_e instanceof Uint8Array||_e instanceof ArrayBuffer||Buffer.isBuffer(_e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof _e}\``);const et=_e instanceof Uint8Array?_e:new Uint8Array(_e);if(!(et&&et.length>1))return null;const tt=(ot,it)=>{it=Object.assign({offset:0},it);for(let lt=0;lt<ot.length;lt++)if(it.mask){if(ot[lt]!==(it.mask[lt]&et[lt+it.offset]))return!1}else if(ot[lt]!==et[lt+it.offset])return!1;return!0},nt=(ot,it)=>tt(toBytes(ot),it);if(tt([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(tt([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(tt([71,73,70]))return{ext:"gif",mime:"image/gif"};if(tt([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(tt([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((tt([73,73,42,0])||tt([77,77,0,42]))&&tt([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(tt([73,73,42,0])||tt([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(tt([66,77]))return{ext:"bmp",mime:"image/bmp"};if(tt([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(tt([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(tt([80,75,3,4])){if(tt([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(tt(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(nt("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(nt("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(nt("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const ot=(st,ut=0)=>st.findIndex((ct,ft,dt)=>ft>=ut&&dt[ft]===80&&dt[ft+1]===75&&dt[ft+2]===3&&dt[ft+3]===4);let it=0,lt=!1,at=null;do{const st=it+30;if(lt||(lt=tt(oxmlContentTypes,{offset:st})||tt(oxmlRels,{offset:st})),at||(nt("word/",{offset:st})?at={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:nt("ppt/",{offset:st})?at={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:nt("xl/",{offset:st})&&(at={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),lt&&at)return at;it=ot(et,st)}while(it>=0);if(at)return at}if(tt([80,75])&&(et[2]===3||et[2]===5||et[2]===7)&&(et[3]===4||et[3]===6||et[3]===8))return{ext:"zip",mime:"application/zip"};if(tt([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(tt([82,97,114,33,26,7])&&(et[6]===0||et[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(tt([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(tt([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(tt([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(tt([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(tt([51,103,112,53])||tt([0,0,0])&&tt([102,116,121,112],{offset:4})&&(tt([109,112,52,49],{offset:8})||tt([109,112,52,50],{offset:8})||tt([105,115,111,109],{offset:8})||tt([105,115,111,50],{offset:8})||tt([109,109,112,52],{offset:8})||tt([77,52,86],{offset:8})||tt([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(tt([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(tt([26,69,223,163])){const ot=et.subarray(4,4100),it=ot.findIndex((lt,at,st)=>st[at]===66&&st[at+1]===130);if(it!==-1){const lt=it+3,at=st=>[...st].every((ut,ct)=>ot[lt+ct]===ut.charCodeAt(0));if(at("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(at("webm"))return{ext:"webm",mime:"video/webm"}}}if(tt([0,0,0,20,102,116,121,112,113,116,32,32])||tt([102,114,101,101],{offset:4})||tt([102,116,121,112,113,116,32,32],{offset:4})||tt([109,100,97,116],{offset:4})||tt([109,111,111,118],{offset:4})||tt([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(tt([82,73,70,70])){if(tt([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(tt([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(tt([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(tt([48,38,178,117,142,102,207,17,166,217])){let ot=30;do{const it=readUInt64LE(et,ot+16);if(tt([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:ot})){if(tt([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:ot+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(tt([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:ot+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}ot+=it}while(ot+24<=et.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(tt([0,0,1,186])||tt([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(tt([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let ot=0;ot<2&&ot<et.length-16;ot++){if(tt([73,68,51],{offset:ot})||tt([255,226],{offset:ot,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(tt([255,228],{offset:ot,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,248],{offset:ot,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,240],{offset:ot,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(tt([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(tt([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(tt([79,103,103,83]))return tt([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:tt([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:tt([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:tt([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:tt([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(tt([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(tt([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(tt([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(tt([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(tt([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(tt([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((et[0]===67||et[0]===70)&&tt([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(tt([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(tt([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(tt([119,79,70,70])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(tt([119,79,70,50])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(tt([76,80],{offset:34})&&(tt([0,0,1],{offset:8})||tt([1,0,2],{offset:8})||tt([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(tt([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(tt([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(tt([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(tt([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(tt([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(tt([37,33]))return{ext:"ps",mime:"application/postscript"};if(tt([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(tt([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(tt([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(tt([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(tt([77,83,67,70])||tt([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(tt([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(tt([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(tt([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(tt([31,160])||tt([31,157]))return{ext:"Z",mime:"application/x-compress"};if(tt([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(tt([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(tt([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(tt([71],{offset:4})&&(tt([71],{offset:192})||tt([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(tt([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(tt([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(tt([0,0,0,12,106,80,32,32,13,10,135,10])){if(tt([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(tt([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(tt([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(tt([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(tt([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(nt("<?xml "))return{ext:"xml",mime:"application/xml"};if(tt([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(tt([102,116,121,112],{offset:4})){if(tt([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(tt([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(tt([104,101,105,99],{offset:8})||tt([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(tt([104,101,118,99],{offset:8})||tt([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return tt([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:tt([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:tt([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:tt([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:tt([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:tt([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:tt([212,195,178,161])||tt([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const _e=new stream.PassThrough,et=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{_e.fileType=fileType(et)}catch(tt){reject(tt)}readableStream.unshift(et),stream.pipeline?resolve(stream.pipeline(readableStream,_e,()=>{})):resolve(readableStream.pipe(_e))})})})(fileType$1);const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=_e=>{const et=fileType(_e);return imageExts.has(et&&et.ext)?et:null};imageType$1.exports=imageType;imageTypeExports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var encoderExports={},encoder$1={get exports(){return encoderExports},set exports(_e){encoderExports=_e}};(function(_e){function et(nt){var ot=Math.floor,it=new Array(64),lt=new Array(64),at=new Array(64),st=new Array(64),ut,ct,ft,dt,ht=new Array(65535),gt=new Array(65535),yt=new Array(64),Et=new Array(64),mt=[],_t=0,pt=7,wt=new Array(64),vt=new Array(64),bt=new Array(64),Rt=new Array(256),St=new Array(2048),Ct,xt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$t=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Mt=[0,1,2,3,4,5,6,7,8,9,10,11],kt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],It=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Pt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],jt=[0,1,2,3,4,5,6,7,8,9,10,11],zt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Nt(At){for(var Kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],qt=0;qt<64;qt++){var Jt=ot((Kt[qt]*At+50)/100);Jt<1?Jt=1:Jt>255&&(Jt=255),it[xt[qt]]=Jt}for(var hn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Sn=0;Sn<64;Sn++){var xn=ot((hn[Sn]*At+50)/100);xn<1?xn=1:xn>255&&(xn=255),lt[xt[Sn]]=xn}for(var Gt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,Qt=0;Qt<8;Qt++)for(var Zt=0;Zt<8;Zt++)at[Xt]=1/(it[xt[Xt]]*Gt[Qt]*Gt[Zt]*8),st[Xt]=1/(lt[xt[Xt]]*Gt[Qt]*Gt[Zt]*8),Xt++}function Ot(At,Kt){for(var qt=0,Jt=0,hn=new Array,Sn=1;Sn<=16;Sn++){for(var xn=1;xn<=At[Sn];xn++)hn[Kt[Jt]]=[],hn[Kt[Jt]][0]=qt,hn[Kt[Jt]][1]=Sn,Jt++,qt++;qt*=2}return hn}function Vt(){ut=Ot($t,Mt),ct=Ot(Pt,jt),ft=Ot(kt,It),dt=Ot(zt,Tt)}function Ut(){for(var At=1,Kt=2,qt=1;qt<=15;qt++){for(var Jt=At;Jt<Kt;Jt++)gt[32767+Jt]=qt,ht[32767+Jt]=[],ht[32767+Jt][1]=qt,ht[32767+Jt][0]=Jt;for(var hn=-(Kt-1);hn<=-At;hn++)gt[32767+hn]=qt,ht[32767+hn]=[],ht[32767+hn][1]=qt,ht[32767+hn][0]=Kt-1+hn;At<<=1,Kt<<=1}}function Lt(){for(var At=0;At<256;At++)St[At]=19595*At,St[At+256>>0]=38470*At,St[At+512>>0]=7471*At+32768,St[At+768>>0]=-11059*At,St[At+1024>>0]=-21709*At,St[At+1280>>0]=32768*At+8421375,St[At+1536>>0]=-27439*At,St[At+1792>>0]=-5329*At}function Ft(At){for(var Kt=At[0],qt=At[1]-1;qt>=0;)Kt&1<<qt&&(_t|=1<<pt),qt--,pt--,pt<0&&(_t==255?(Dt(255),Dt(0)):Dt(_t),pt=7,_t=0)}function Dt(At){mt.push(At)}function Ht(At){Dt(At>>8&255),Dt(At&255)}function Wt(At,Kt){var qt,Jt,hn,Sn,xn,Gt,Xt,Qt,Zt=0,cn,_n=8,ln=64;for(cn=0;cn<_n;++cn){qt=At[Zt],Jt=At[Zt+1],hn=At[Zt+2],Sn=At[Zt+3],xn=At[Zt+4],Gt=At[Zt+5],Xt=At[Zt+6],Qt=At[Zt+7];var vn=qt+Qt,yn=qt-Qt,Cn=Jt+Xt,Mn=Jt-Xt,Rn=hn+Gt,kn=hn-Gt,Ln=Sn+xn,zn=Sn-xn,In=vn+Ln,An=vn-Ln,On=Cn+Rn,Tn=Cn-Rn;At[Zt]=In+On,At[Zt+4]=In-On;var Nn=(Tn+An)*.707106781;At[Zt+2]=An+Nn,At[Zt+6]=An-Nn,In=zn+kn,On=kn+Mn,Tn=Mn+yn;var Pn=(In-Tn)*.382683433,Dn=.5411961*In+Pn,Gn=1.306562965*Tn+Pn,Zn=On*.707106781,Yn=yn+Zn,Wn=yn-Zn;At[Zt+5]=Wn+Dn,At[Zt+3]=Wn-Dn,At[Zt+1]=Yn+Gn,At[Zt+7]=Yn-Gn,Zt+=8}for(Zt=0,cn=0;cn<_n;++cn){qt=At[Zt],Jt=At[Zt+8],hn=At[Zt+16],Sn=At[Zt+24],xn=At[Zt+32],Gt=At[Zt+40],Xt=At[Zt+48],Qt=At[Zt+56];var Xn=qt+Qt,Un=qt-Qt,Kn=Jt+Xt,qn=Jt-Xt,Qn=hn+Gt,Jn=hn-Gt,er=Sn+xn,ur=Sn-xn,Fn=Xn+er,Hn=Xn-er,Bn=Kn+Qn,jn=Kn-Qn;At[Zt]=Fn+Bn,At[Zt+32]=Fn-Bn;var tr=(jn+Hn)*.707106781;At[Zt+16]=Hn+tr,At[Zt+48]=Hn-tr,Fn=ur+Jn,Bn=Jn+qn,jn=qn+Un;var nr=(Fn-jn)*.382683433,rr=.5411961*Fn+nr,ir=1.306562965*jn+nr,lr=Bn*.707106781,ar=Un+lr,sr=Un-lr;At[Zt+40]=sr+rr,At[Zt+24]=sr-rr,At[Zt+8]=ar+ir,At[Zt+56]=ar-ir,Zt++}var Vn;for(cn=0;cn<ln;++cn)Vn=At[cn]*Kt[cn],yt[cn]=Vn>0?Vn+.5|0:Vn-.5|0;return yt}function $n(){Ht(65504),Ht(16),Dt(74),Dt(70),Dt(73),Dt(70),Dt(0),Dt(1),Dt(1),Dt(0),Ht(1),Ht(1),Dt(0),Dt(0)}function pn(At){if(At){Ht(65505),At[0]===69&&At[1]===120&&At[2]===105&&At[3]===102?Ht(At.length+2):(Ht(At.length+5+2),Dt(69),Dt(120),Dt(105),Dt(102),Dt(0));for(var Kt=0;Kt<At.length;Kt++)Dt(At[Kt])}}function En(At,Kt){Ht(65472),Ht(17),Dt(8),Ht(Kt),Ht(At),Dt(3),Dt(1),Dt(17),Dt(0),Dt(2),Dt(17),Dt(1),Dt(3),Dt(17),Dt(1)}function mn(){Ht(65499),Ht(132),Dt(0);for(var At=0;At<64;At++)Dt(it[At]);Dt(1);for(var Kt=0;Kt<64;Kt++)Dt(lt[Kt])}function bn(){Ht(65476),Ht(418),Dt(0);for(var At=0;At<16;At++)Dt($t[At+1]);for(var Kt=0;Kt<=11;Kt++)Dt(Mt[Kt]);Dt(16);for(var qt=0;qt<16;qt++)Dt(kt[qt+1]);for(var Jt=0;Jt<=161;Jt++)Dt(It[Jt]);Dt(1);for(var hn=0;hn<16;hn++)Dt(Pt[hn+1]);for(var Sn=0;Sn<=11;Sn++)Dt(jt[Sn]);Dt(17);for(var xn=0;xn<16;xn++)Dt(zt[xn+1]);for(var Gt=0;Gt<=161;Gt++)Dt(Tt[Gt])}function gn(At){typeof At>"u"||At.constructor!==Array||At.forEach(Kt=>{if(typeof Kt=="string"){Ht(65534);var qt=Kt.length;Ht(qt+2);var Jt;for(Jt=0;Jt<qt;Jt++)Dt(Kt.charCodeAt(Jt))}})}function Yt(){Ht(65498),Ht(12),Dt(3),Dt(1),Dt(0),Dt(2),Dt(17),Dt(3),Dt(17),Dt(0),Dt(63),Dt(0)}function Bt(At,Kt,qt,Jt,hn){for(var Sn=hn[0],xn=hn[240],Gt,Xt=16,Qt=63,Zt=64,cn=Wt(At,Kt),_n=0;_n<Zt;++_n)Et[xt[_n]]=cn[_n];var ln=Et[0]-qt;qt=Et[0],ln==0?Ft(Jt[0]):(Gt=32767+ln,Ft(Jt[gt[Gt]]),Ft(ht[Gt]));for(var vn=63;vn>0&&Et[vn]==0;vn--);if(vn==0)return Ft(Sn),qt;for(var yn=1,Cn;yn<=vn;){for(var Mn=yn;Et[yn]==0&&yn<=vn;++yn);var Rn=yn-Mn;if(Rn>=Xt){Cn=Rn>>4;for(var kn=1;kn<=Cn;++kn)Ft(xn);Rn=Rn&15}Gt=32767+Et[yn],Ft(hn[(Rn<<4)+gt[Gt]]),Ft(ht[Gt]),yn++}return vn!=Qt&&Ft(Sn),qt}function wn(){for(var At=String.fromCharCode,Kt=0;Kt<256;Kt++)Rt[Kt]=At(Kt)}this.encode=function(At,Kt){new Date().getTime(),Kt&&sn(Kt),mt=new Array,_t=0,pt=7,Ht(65496),$n(),gn(At.comments),pn(At.exifBuffer),mn(),En(At.width,At.height),bn(),Yt();var qt=0,Jt=0,hn=0;_t=0,pt=7,this.encode.displayName="_encode_";for(var Sn=At.data,xn=At.width,Gt=At.height,Xt=xn*4,Qt,Zt=0,cn,_n,ln,vn,yn,Cn,Mn,Rn;Zt<Gt;){for(Qt=0;Qt<Xt;){for(vn=Xt*Zt+Qt,yn=vn,Cn=-1,Mn=0,Rn=0;Rn<64;Rn++)Mn=Rn>>3,Cn=(Rn&7)*4,yn=vn+Mn*Xt+Cn,Zt+Mn>=Gt&&(yn-=Xt*(Zt+1+Mn-Gt)),Qt+Cn>=Xt&&(yn-=Qt+Cn-Xt+4),cn=Sn[yn++],_n=Sn[yn++],ln=Sn[yn++],wt[Rn]=(St[cn]+St[_n+256>>0]+St[ln+512>>0]>>16)-128,vt[Rn]=(St[cn+768>>0]+St[_n+1024>>0]+St[ln+1280>>0]>>16)-128,bt[Rn]=(St[cn+1280>>0]+St[_n+1536>>0]+St[ln+1792>>0]>>16)-128;qt=Bt(wt,at,qt,ut,ft),Jt=Bt(vt,st,Jt,ct,dt),hn=Bt(bt,st,hn,ct,dt),Qt+=32}Zt+=8}if(pt>=0){var kn=[];kn[1]=pt+1,kn[0]=(1<<pt+1)-1,Ft(kn)}return Ht(65497),Buffer.from(mt)};function sn(At){if(At<=0&&(At=1),At>100&&(At=100),Ct!=At){var Kt=0;At<50?Kt=Math.floor(5e3/At):Kt=Math.floor(200-At*2),Nt(Kt),Ct=At}}function dn(){var At=new Date().getTime();nt||(nt=50),wn(),Vt(),Ut(),Lt(),sn(nt),new Date().getTime()-At}dn()}_e.exports=tt;function tt(nt,ot){typeof ot>"u"&&(ot=50);var it=new et(ot),lt=it.encode(nt,ot);return{data:lt,width:nt.width,height:nt.height}}})(encoder$1);var decoderExports={},decoder={get exports(){return decoderExports},set exports(_e){decoderExports=_e}};(function(_e){var et=function(){var ot=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),it=4017,lt=799,at=3406,st=2276,ut=1567,ct=3784,ft=5793,dt=2896;function ht(){}function gt(vt,bt){for(var Rt=0,St=[],Ct,xt,$t=16;$t>0&&!vt[$t-1];)$t--;St.push({children:[],index:0});var Mt=St[0],kt;for(Ct=0;Ct<$t;Ct++){for(xt=0;xt<vt[Ct];xt++){for(Mt=St.pop(),Mt.children[Mt.index]=bt[Rt];Mt.index>0;){if(St.length===0)throw new Error("Could not recreate Huffman Table");Mt=St.pop()}for(Mt.index++,St.push(Mt);St.length<=Ct;)St.push(kt={children:[],index:0}),Mt.children[Mt.index]=kt.children,Mt=kt;Rt++}Ct+1<$t&&(St.push(kt={children:[],index:0}),Mt.children[Mt.index]=kt.children,Mt=kt)}return St[0].children}function yt(vt,bt,Rt,St,Ct,xt,$t,Mt,kt,It){Rt.precision,Rt.samplesPerLine,Rt.scanLines;var Pt=Rt.mcusPerLine,jt=Rt.progressive;Rt.maxH,Rt.maxV;var zt=bt,Tt=0,Nt=0;function Ot(){if(Nt>0)return Nt--,Tt>>Nt&1;if(Tt=vt[bt++],Tt==255){var Gt=vt[bt++];if(Gt)throw new Error("unexpected marker: "+(Tt<<8|Gt).toString(16))}return Nt=7,Tt>>>7}function Vt(Gt){for(var Xt=Gt,Qt;(Qt=Ot())!==null;){if(Xt=Xt[Qt],typeof Xt=="number")return Xt;if(typeof Xt!="object")throw new Error("invalid huffman sequence")}return null}function Ut(Gt){for(var Xt=0;Gt>0;){var Qt=Ot();if(Qt===null)return;Xt=Xt<<1|Qt,Gt--}return Xt}function Lt(Gt){var Xt=Ut(Gt);return Xt>=1<<Gt-1?Xt:Xt+(-1<<Gt)+1}function Ft(Gt,Xt){var Qt=Vt(Gt.huffmanTableDC),Zt=Qt===0?0:Lt(Qt);Xt[0]=Gt.pred+=Zt;for(var cn=1;cn<64;){var _n=Vt(Gt.huffmanTableAC),ln=_n&15,vn=_n>>4;if(ln===0){if(vn<15)break;cn+=16;continue}cn+=vn;var yn=ot[cn];Xt[yn]=Lt(ln),cn++}}function Dt(Gt,Xt){var Qt=Vt(Gt.huffmanTableDC),Zt=Qt===0?0:Lt(Qt)<<kt;Xt[0]=Gt.pred+=Zt}function Ht(Gt,Xt){Xt[0]|=Ot()<<kt}var Wt=0;function $n(Gt,Xt){if(Wt>0){Wt--;return}for(var Qt=xt,Zt=$t;Qt<=Zt;){var cn=Vt(Gt.huffmanTableAC),_n=cn&15,ln=cn>>4;if(_n===0){if(ln<15){Wt=Ut(ln)+(1<<ln)-1;break}Qt+=16;continue}Qt+=ln;var vn=ot[Qt];Xt[vn]=Lt(_n)*(1<<kt),Qt++}}var pn=0,En;function mn(Gt,Xt){for(var Qt=xt,Zt=$t,cn=0;Qt<=Zt;){var _n=ot[Qt],ln=Xt[_n]<0?-1:1;switch(pn){case 0:var vn=Vt(Gt.huffmanTableAC),yn=vn&15,cn=vn>>4;if(yn===0)cn<15?(Wt=Ut(cn)+(1<<cn),pn=4):(cn=16,pn=1);else{if(yn!==1)throw new Error("invalid ACn encoding");En=Lt(yn),pn=cn?2:3}continue;case 1:case 2:Xt[_n]?Xt[_n]+=(Ot()<<kt)*ln:(cn--,cn===0&&(pn=pn==2?3:0));break;case 3:Xt[_n]?Xt[_n]+=(Ot()<<kt)*ln:(Xt[_n]=En<<kt,pn=0);break;case 4:Xt[_n]&&(Xt[_n]+=(Ot()<<kt)*ln);break}Qt++}pn===4&&(Wt--,Wt===0&&(pn=0))}function bn(Gt,Xt,Qt,Zt,cn){var _n=Qt/Pt|0,ln=Qt%Pt,vn=_n*Gt.v+Zt,yn=ln*Gt.h+cn;Gt.blocks[vn]===void 0&&It.tolerantDecoding||Xt(Gt,Gt.blocks[vn][yn])}function gn(Gt,Xt,Qt){var Zt=Qt/Gt.blocksPerLine|0,cn=Qt%Gt.blocksPerLine;Gt.blocks[Zt]===void 0&&It.tolerantDecoding||Xt(Gt,Gt.blocks[Zt][cn])}var Yt=St.length,Bt,wn,sn,dn,At,Kt;jt?xt===0?Kt=Mt===0?Dt:Ht:Kt=Mt===0?$n:mn:Kt=Ft;var qt=0,Jt,hn;Yt==1?hn=St[0].blocksPerLine*St[0].blocksPerColumn:hn=Pt*Rt.mcusPerColumn,Ct||(Ct=hn);for(var Sn,xn;qt<hn;){for(wn=0;wn<Yt;wn++)St[wn].pred=0;if(Wt=0,Yt==1)for(Bt=St[0],At=0;At<Ct;At++)gn(Bt,Kt,qt),qt++;else for(At=0;At<Ct;At++){for(wn=0;wn<Yt;wn++)for(Bt=St[wn],Sn=Bt.h,xn=Bt.v,sn=0;sn<xn;sn++)for(dn=0;dn<Sn;dn++)bn(Bt,Kt,qt,sn,dn);if(qt++,qt===hn)break}if(qt===hn)do{if(vt[bt]===255&&vt[bt+1]!==0)break;bt+=1}while(bt<vt.length-2);if(Nt=0,Jt=vt[bt]<<8|vt[bt+1],Jt<65280)throw new Error("marker was not found");if(Jt>=65488&&Jt<=65495)bt+=2;else break}return bt-zt}function Et(vt,bt){var Rt=[],St=bt.blocksPerLine,Ct=bt.blocksPerColumn,xt=St<<3,$t=new Int32Array(64),Mt=new Uint8Array(64);function kt(Ut,Lt,Ft){var Dt=bt.quantizationTable,Ht,Wt,$n,pn,En,mn,bn,gn,Yt,Bt=Ft,wn;for(wn=0;wn<64;wn++)Bt[wn]=Ut[wn]*Dt[wn];for(wn=0;wn<8;++wn){var sn=8*wn;if(Bt[1+sn]==0&&Bt[2+sn]==0&&Bt[3+sn]==0&&Bt[4+sn]==0&&Bt[5+sn]==0&&Bt[6+sn]==0&&Bt[7+sn]==0){Yt=ft*Bt[0+sn]+512>>10,Bt[0+sn]=Yt,Bt[1+sn]=Yt,Bt[2+sn]=Yt,Bt[3+sn]=Yt,Bt[4+sn]=Yt,Bt[5+sn]=Yt,Bt[6+sn]=Yt,Bt[7+sn]=Yt;continue}Ht=ft*Bt[0+sn]+128>>8,Wt=ft*Bt[4+sn]+128>>8,$n=Bt[2+sn],pn=Bt[6+sn],En=dt*(Bt[1+sn]-Bt[7+sn])+128>>8,gn=dt*(Bt[1+sn]+Bt[7+sn])+128>>8,mn=Bt[3+sn]<<4,bn=Bt[5+sn]<<4,Yt=Ht-Wt+1>>1,Ht=Ht+Wt+1>>1,Wt=Yt,Yt=$n*ct+pn*ut+128>>8,$n=$n*ut-pn*ct+128>>8,pn=Yt,Yt=En-bn+1>>1,En=En+bn+1>>1,bn=Yt,Yt=gn+mn+1>>1,mn=gn-mn+1>>1,gn=Yt,Yt=Ht-pn+1>>1,Ht=Ht+pn+1>>1,pn=Yt,Yt=Wt-$n+1>>1,Wt=Wt+$n+1>>1,$n=Yt,Yt=En*st+gn*at+2048>>12,En=En*at-gn*st+2048>>12,gn=Yt,Yt=mn*lt+bn*it+2048>>12,mn=mn*it-bn*lt+2048>>12,bn=Yt,Bt[0+sn]=Ht+gn,Bt[7+sn]=Ht-gn,Bt[1+sn]=Wt+bn,Bt[6+sn]=Wt-bn,Bt[2+sn]=$n+mn,Bt[5+sn]=$n-mn,Bt[3+sn]=pn+En,Bt[4+sn]=pn-En}for(wn=0;wn<8;++wn){var dn=wn;if(Bt[8+dn]==0&&Bt[16+dn]==0&&Bt[24+dn]==0&&Bt[32+dn]==0&&Bt[40+dn]==0&&Bt[48+dn]==0&&Bt[56+dn]==0){Yt=ft*Ft[wn+0]+8192>>14,Bt[0+dn]=Yt,Bt[8+dn]=Yt,Bt[16+dn]=Yt,Bt[24+dn]=Yt,Bt[32+dn]=Yt,Bt[40+dn]=Yt,Bt[48+dn]=Yt,Bt[56+dn]=Yt;continue}Ht=ft*Bt[0+dn]+2048>>12,Wt=ft*Bt[32+dn]+2048>>12,$n=Bt[16+dn],pn=Bt[48+dn],En=dt*(Bt[8+dn]-Bt[56+dn])+2048>>12,gn=dt*(Bt[8+dn]+Bt[56+dn])+2048>>12,mn=Bt[24+dn],bn=Bt[40+dn],Yt=Ht-Wt+1>>1,Ht=Ht+Wt+1>>1,Wt=Yt,Yt=$n*ct+pn*ut+2048>>12,$n=$n*ut-pn*ct+2048>>12,pn=Yt,Yt=En-bn+1>>1,En=En+bn+1>>1,bn=Yt,Yt=gn+mn+1>>1,mn=gn-mn+1>>1,gn=Yt,Yt=Ht-pn+1>>1,Ht=Ht+pn+1>>1,pn=Yt,Yt=Wt-$n+1>>1,Wt=Wt+$n+1>>1,$n=Yt,Yt=En*st+gn*at+2048>>12,En=En*at-gn*st+2048>>12,gn=Yt,Yt=mn*lt+bn*it+2048>>12,mn=mn*it-bn*lt+2048>>12,bn=Yt,Bt[0+dn]=Ht+gn,Bt[56+dn]=Ht-gn,Bt[8+dn]=Wt+bn,Bt[48+dn]=Wt-bn,Bt[16+dn]=$n+mn,Bt[40+dn]=$n-mn,Bt[24+dn]=pn+En,Bt[32+dn]=pn-En}for(wn=0;wn<64;++wn){var At=128+(Bt[wn]+8>>4);Lt[wn]=At<0?0:At>255?255:At}}wt(xt*Ct*8);for(var It,Pt,jt=0;jt<Ct;jt++){var zt=jt<<3;for(It=0;It<8;It++)Rt.push(new Uint8Array(xt));for(var Tt=0;Tt<St;Tt++){kt(bt.blocks[jt][Tt],Mt,$t);var Nt=0,Ot=Tt<<3;for(Pt=0;Pt<8;Pt++){var Vt=Rt[zt+Pt];for(It=0;It<8;It++)Vt[Ot+It]=Mt[Nt++]}}}return Rt}function mt(vt){return vt<0?0:vt>255?255:vt}ht.prototype={load:function(bt){var Rt=new XMLHttpRequest;Rt.open("GET",bt,!0),Rt.responseType="arraybuffer",Rt.onload=function(){var St=new Uint8Array(Rt.response||Rt.mozResponseArrayBuffer);this.parse(St),this.onload&&this.onload()}.bind(this),Rt.send(null)},parse:function(bt){var Rt=this.opts.maxResolutionInMP*1e3*1e3,St=0;bt.length;function Ct(){var ln=bt[St]<<8|bt[St+1];return St+=2,ln}function xt(){var ln=Ct(),vn=bt.subarray(St,St+ln-2);return St+=vn.length,vn}function $t(ln){var vn=1,yn=1,Cn,Mn;for(Mn in ln.components)ln.components.hasOwnProperty(Mn)&&(Cn=ln.components[Mn],vn<Cn.h&&(vn=Cn.h),yn<Cn.v&&(yn=Cn.v));var Rn=Math.ceil(ln.samplesPerLine/8/vn),kn=Math.ceil(ln.scanLines/8/yn);for(Mn in ln.components)if(ln.components.hasOwnProperty(Mn)){Cn=ln.components[Mn];var Ln=Math.ceil(Math.ceil(ln.samplesPerLine/8)*Cn.h/vn),zn=Math.ceil(Math.ceil(ln.scanLines/8)*Cn.v/yn),In=Rn*Cn.h,An=kn*Cn.v,On=An*In,Tn=[];wt(On*256);for(var Nn=0;Nn<An;Nn++){for(var Pn=[],Dn=0;Dn<In;Dn++)Pn.push(new Int32Array(64));Tn.push(Pn)}Cn.blocksPerLine=Ln,Cn.blocksPerColumn=zn,Cn.blocks=Tn}ln.maxH=vn,ln.maxV=yn,ln.mcusPerLine=Rn,ln.mcusPerColumn=kn}var Mt=null,kt=null,It,Pt,jt=[],zt=[],Tt=[],Nt=[],Ot=Ct(),Vt=-1;if(this.comments=[],Ot!=65496)throw new Error("SOI not found");for(Ot=Ct();Ot!=65497;){var Ut,Lt;switch(Ot){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ft=xt();if(Ot===65534){var Dt=String.fromCharCode.apply(null,Ft);this.comments.push(Dt)}Ot===65504&&Ft[0]===74&&Ft[1]===70&&Ft[2]===73&&Ft[3]===70&&Ft[4]===0&&(Mt={version:{major:Ft[5],minor:Ft[6]},densityUnits:Ft[7],xDensity:Ft[8]<<8|Ft[9],yDensity:Ft[10]<<8|Ft[11],thumbWidth:Ft[12],thumbHeight:Ft[13],thumbData:Ft.subarray(14,14+3*Ft[12]*Ft[13])}),Ot===65505&&Ft[0]===69&&Ft[1]===120&&Ft[2]===105&&Ft[3]===102&&Ft[4]===0&&(this.exifBuffer=Ft.subarray(5,Ft.length)),Ot===65518&&Ft[0]===65&&Ft[1]===100&&Ft[2]===111&&Ft[3]===98&&Ft[4]===101&&Ft[5]===0&&(kt={version:Ft[6],flags0:Ft[7]<<8|Ft[8],flags1:Ft[9]<<8|Ft[10],transformCode:Ft[11]});break;case 65499:for(var Ht=Ct(),Wt=Ht+St-2;St<Wt;){var $n=bt[St++];wt(256);var pn=new Int32Array(64);if($n>>4)if($n>>4===1)for(Lt=0;Lt<64;Lt++){var En=ot[Lt];pn[En]=Ct()}else throw new Error("DQT: invalid table spec");else for(Lt=0;Lt<64;Lt++){var En=ot[Lt];pn[En]=bt[St++]}jt[$n&15]=pn}break;case 65472:case 65473:case 65474:Ct(),It={},It.extended=Ot===65473,It.progressive=Ot===65474,It.precision=bt[St++],It.scanLines=Ct(),It.samplesPerLine=Ct(),It.components={},It.componentsOrder=[];var mn=It.scanLines*It.samplesPerLine;if(mn>Rt){var bn=Math.ceil((mn-Rt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${bn}MP`)}var gn=bt[St++],Yt;for(Ut=0;Ut<gn;Ut++){Yt=bt[St];var Bt=bt[St+1]>>4,wn=bt[St+1]&15,sn=bt[St+2];if(Bt<=0||wn<=0)throw new Error("Invalid sampling factor, expected values above 0");It.componentsOrder.push(Yt),It.components[Yt]={h:Bt,v:wn,quantizationIdx:sn},St+=3}$t(It),zt.push(It);break;case 65476:var dn=Ct();for(Ut=2;Ut<dn;){var At=bt[St++],Kt=new Uint8Array(16),qt=0;for(Lt=0;Lt<16;Lt++,St++)qt+=Kt[Lt]=bt[St];wt(16+qt);var Jt=new Uint8Array(qt);for(Lt=0;Lt<qt;Lt++,St++)Jt[Lt]=bt[St];Ut+=17+qt,(At>>4?Tt:Nt)[At&15]=gt(Kt,Jt)}break;case 65501:Ct(),Pt=Ct();break;case 65500:Ct(),Ct();break;case 65498:Ct();var hn=bt[St++],Sn=[],xn;for(Ut=0;Ut<hn;Ut++){xn=It.components[bt[St++]];var Gt=bt[St++];xn.huffmanTableDC=Nt[Gt>>4],xn.huffmanTableAC=Tt[Gt&15],Sn.push(xn)}var Xt=bt[St++],Qt=bt[St++],Zt=bt[St++],cn=yt(bt,St,It,Sn,Pt,Xt,Qt,Zt>>4,Zt&15,this.opts);St+=cn;break;case 65535:bt[St]!==255&&St--;break;default:if(bt[St-3]==255&&bt[St-2]>=192&&bt[St-2]<=254){St-=3;break}else if(Ot===224||Ot==225){if(Vt!==-1)throw new Error(`first unknown JPEG marker at offset ${Vt.toString(16)}, second unknown JPEG marker ${Ot.toString(16)} at offset ${(St-1).toString(16)}`);Vt=St-1;const ln=Ct();if(bt[St+ln-2]===255){St+=ln-2;break}}throw new Error("unknown JPEG marker "+Ot.toString(16))}Ot=Ct()}if(zt.length!=1)throw new Error("only single frame JPEGs supported");for(var Ut=0;Ut<zt.length;Ut++){var _n=zt[Ut].components;for(var Lt in _n)_n[Lt].quantizationTable=jt[_n[Lt].quantizationIdx],delete _n[Lt].quantizationIdx}this.width=It.samplesPerLine,this.height=It.scanLines,this.jfif=Mt,this.adobe=kt,this.components=[];for(var Ut=0;Ut<It.componentsOrder.length;Ut++){var xn=It.components[It.componentsOrder[Ut]];this.components.push({lines:Et(It,xn),scaleX:xn.h/It.maxH,scaleY:xn.v/It.maxV})}},getData:function(bt,Rt){var St=this.width/bt,Ct=this.height/Rt,xt,$t,Mt,kt,It,Pt,jt,zt,Tt,Nt,Ot=0,Vt,Ut,Lt,Ft,Dt,Ht,Wt,$n,pn,En,mn,bn=bt*Rt*this.components.length;wt(bn);var gn=new Uint8Array(bn);switch(this.components.length){case 1:for(xt=this.components[0],Nt=0;Nt<Rt;Nt++)for(It=xt.lines[0|Nt*xt.scaleY*Ct],Tt=0;Tt<bt;Tt++)Vt=It[0|Tt*xt.scaleX*St],gn[Ot++]=Vt;break;case 2:for(xt=this.components[0],$t=this.components[1],Nt=0;Nt<Rt;Nt++)for(It=xt.lines[0|Nt*xt.scaleY*Ct],Pt=$t.lines[0|Nt*$t.scaleY*Ct],Tt=0;Tt<bt;Tt++)Vt=It[0|Tt*xt.scaleX*St],gn[Ot++]=Vt,Vt=Pt[0|Tt*$t.scaleX*St],gn[Ot++]=Vt;break;case 3:for(mn=!0,this.adobe&&this.adobe.transformCode?mn=!0:typeof this.opts.colorTransform<"u"&&(mn=!!this.opts.colorTransform),xt=this.components[0],$t=this.components[1],Mt=this.components[2],Nt=0;Nt<Rt;Nt++)for(It=xt.lines[0|Nt*xt.scaleY*Ct],Pt=$t.lines[0|Nt*$t.scaleY*Ct],jt=Mt.lines[0|Nt*Mt.scaleY*Ct],Tt=0;Tt<bt;Tt++)mn?(Vt=It[0|Tt*xt.scaleX*St],Ut=Pt[0|Tt*$t.scaleX*St],Lt=jt[0|Tt*Mt.scaleX*St],$n=mt(Vt+1.402*(Lt-128)),pn=mt(Vt-.3441363*(Ut-128)-.71413636*(Lt-128)),En=mt(Vt+1.772*(Ut-128))):($n=It[0|Tt*xt.scaleX*St],pn=Pt[0|Tt*$t.scaleX*St],En=jt[0|Tt*Mt.scaleX*St]),gn[Ot++]=$n,gn[Ot++]=pn,gn[Ot++]=En;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(mn=!1,this.adobe&&this.adobe.transformCode?mn=!0:typeof this.opts.colorTransform<"u"&&(mn=!!this.opts.colorTransform),xt=this.components[0],$t=this.components[1],Mt=this.components[2],kt=this.components[3],Nt=0;Nt<Rt;Nt++)for(It=xt.lines[0|Nt*xt.scaleY*Ct],Pt=$t.lines[0|Nt*$t.scaleY*Ct],jt=Mt.lines[0|Nt*Mt.scaleY*Ct],zt=kt.lines[0|Nt*kt.scaleY*Ct],Tt=0;Tt<bt;Tt++)mn?(Vt=It[0|Tt*xt.scaleX*St],Ut=Pt[0|Tt*$t.scaleX*St],Lt=jt[0|Tt*Mt.scaleX*St],Ft=zt[0|Tt*kt.scaleX*St],Dt=255-mt(Vt+1.402*(Lt-128)),Ht=255-mt(Vt-.3441363*(Ut-128)-.71413636*(Lt-128)),Wt=255-mt(Vt+1.772*(Ut-128))):(Dt=It[0|Tt*xt.scaleX*St],Ht=Pt[0|Tt*$t.scaleX*St],Wt=jt[0|Tt*Mt.scaleX*St],Ft=zt[0|Tt*kt.scaleX*St]),gn[Ot++]=255-Dt,gn[Ot++]=255-Ht,gn[Ot++]=255-Wt,gn[Ot++]=255-Ft;break;default:throw new Error("Unsupported color mode")}return gn},copyToImageData:function(bt,Rt){var St=bt.width,Ct=bt.height,xt=bt.data,$t=this.getData(St,Ct),Mt=0,kt=0,It,Pt,jt,zt,Tt,Nt,Ot,Vt,Ut;switch(this.components.length){case 1:for(Pt=0;Pt<Ct;Pt++)for(It=0;It<St;It++)jt=$t[Mt++],xt[kt++]=jt,xt[kt++]=jt,xt[kt++]=jt,Rt&&(xt[kt++]=255);break;case 3:for(Pt=0;Pt<Ct;Pt++)for(It=0;It<St;It++)Ot=$t[Mt++],Vt=$t[Mt++],Ut=$t[Mt++],xt[kt++]=Ot,xt[kt++]=Vt,xt[kt++]=Ut,Rt&&(xt[kt++]=255);break;case 4:for(Pt=0;Pt<Ct;Pt++)for(It=0;It<St;It++)Tt=$t[Mt++],Nt=$t[Mt++],jt=$t[Mt++],zt=$t[Mt++],Ot=255-mt(Tt*(1-zt/255)+zt),Vt=255-mt(Nt*(1-zt/255)+zt),Ut=255-mt(jt*(1-zt/255)+zt),xt[kt++]=Ot,xt[kt++]=Vt,xt[kt++]=Ut,Rt&&(xt[kt++]=255);break;default:throw new Error("Unsupported color mode")}}};var _t=0,pt=0;function wt(vt=0){var bt=_t+vt;if(bt>pt){var Rt=Math.ceil((bt-pt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Rt}MB`)}_t=bt}return ht.resetMaxMemoryUsage=function(vt){_t=0,pt=vt},ht.getBytesAllocated=function(){return _t},ht.requestMemoryAllocation=wt,ht}();_e.exports=tt;function tt(nt,ot={}){var it={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},lt={...it,...ot},at=new Uint8Array(nt),st=new et;st.opts=lt,et.resetMaxMemoryUsage(lt.maxMemoryUsageInMB*1024*1024),st.parse(at);var ut=lt.formatAsRGBA?4:3,ct=st.width*st.height*ut;try{et.requestMemoryAllocation(ct);var ft={width:st.width,height:st.height,exifBuffer:st.exifBuffer,data:lt.useTArray?new Uint8Array(ct):Buffer.alloc(ct)};st.comments.length>0&&(ft.comments=st.comments)}catch(dt){throw dt instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+ct):dt instanceof ReferenceError&&dt.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):dt}return st.copyToImageData(ft,lt.formatAsRGBA),ft}})(decoder);var encode$1=encoderExports,decode$2=decoderExports,jpegJs={encode:encode$1,decode:decode$2};function decodeJpeg(_e){const et=jpegJs.decode(_e,{useTArray:!0,maxMemoryUsageInMB:Number.POSITIVE_INFINITY,maxResolutionInMP:Number.POSITIVE_INFINITY});return new Image(et.width,et.height,{data:et.data,colorModel:ImageColorModel.RGBA})}(function(_e){if(_e.TextEncoder&&_e.TextDecoder)return!1;function et(nt="utf-8"){if(nt!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${nt}') is invalid.`)}Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),et.prototype.encode=function(nt,ot={stream:!1}){if(ot.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let it=0;const lt=nt.length;let at=0,st=Math.max(32,lt+(lt>>1)+7),ut=new Uint8Array(st>>3<<3);for(;it<lt;){let ct=nt.charCodeAt(it++);if(ct>=55296&&ct<=56319){if(it<lt){const ft=nt.charCodeAt(it);(ft&64512)===56320&&(++it,ct=((ct&1023)<<10)+(ft&1023)+65536)}if(ct>=55296&&ct<=56319)continue}if(at+4>ut.length){st+=8,st*=1+it/nt.length*2,st=st>>3<<3;const ft=new Uint8Array(st);ft.set(ut),ut=ft}if(ct&4294967168)if(!(ct&4294965248))ut[at++]=ct>>6&31|192;else if(!(ct&4294901760))ut[at++]=ct>>12&15|224,ut[at++]=ct>>6&63|128;else if(!(ct&4292870144))ut[at++]=ct>>18&7|240,ut[at++]=ct>>12&63|128,ut[at++]=ct>>6&63|128;else continue;else{ut[at++]=ct;continue}ut[at++]=ct&63|128}return ut.slice(0,at)};function tt(nt="utf-8",ot={fatal:!1}){if(nt!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${nt}') is invalid.`);if(ot.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(tt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(tt.prototype,"fatal",{value:!1}),Object.defineProperty(tt.prototype,"ignoreBOM",{value:!1}),tt.prototype.decode=function(nt,ot={stream:!1}){if(ot.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const it=new Uint8Array(nt);let lt=0;const at=it.length,st=[];for(;lt<at;){const ut=it[lt++];if(ut===0)break;if(!(ut&128))st.push(ut);else if((ut&224)===192){const ct=it[lt++]&63;st.push((ut&31)<<6|ct)}else if((ut&240)===224){const ct=it[lt++]&63,ft=it[lt++]&63;st.push((ut&31)<<12|ct<<6|ft)}else if((ut&248)===240){const ct=it[lt++]&63,ft=it[lt++]&63,dt=it[lt++]&63;let ht=(ut&7)<<18|ct<<12|ft<<6|dt;ht>65535&&(ht-=65536,st.push(ht>>>10&1023|55296),ht=56320|ht&1023),st.push(ht)}}return String.fromCharCode.apply(null,st)},_e.TextEncoder=et,_e.TextDecoder=tt})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$1(_e,et="utf8"){return new TextDecoder(et).decode(_e)}const encoder=new TextEncoder;function encode(_e){return encoder.encode(_e)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const _e=new Uint8Array(4),et=new Uint32Array(_e.buffer);return!((et[0]=1)&_e[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(et=defaultByteLength,tt={}){let nt=!1;typeof et=="number"?et=new ArrayBuffer(et):(nt=!0,this.lastWrittenByte=et.byteLength);const ot=tt.offset?tt.offset>>>0:0,it=et.byteLength-ot;let lt=ot;(ArrayBuffer.isView(et)||et instanceof IOBuffer)&&(et.byteLength!==et.buffer.byteLength&&(lt=et.byteOffset+ot),et=et.buffer),nt?this.lastWrittenByte=it:this.lastWrittenByte=0,this.buffer=et,this.length=it,this.byteLength=it,this.byteOffset=lt,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,lt,it),this._mark=0,this._marks=[]}available(et=1){return this.offset+et<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(et=1){return this.offset+=et,this}back(et=1){return this.offset-=et,this}seek(et){return this.offset=et,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const et=this._marks.pop();if(et===void 0)throw new Error("Mark stack empty");return this.seek(et),this}rewind(){return this.offset=0,this}ensureAvailable(et=1){if(!this.available(et)){const nt=(this.offset+et)*2,ot=new Uint8Array(nt);ot.set(new Uint8Array(this.buffer)),this.buffer=ot.buffer,this.length=this.byteLength=nt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(et=1){return this.readArray(et,"uint8")}readArray(et,tt){const nt=typedArrays[tt].BYTES_PER_ELEMENT*et,ot=this.byteOffset+this.offset,it=this.buffer.slice(ot,ot+nt);if(this.littleEndian===hostBigEndian&&tt!=="uint8"&&tt!=="int8"){const at=new Uint8Array(this.buffer.slice(ot,ot+nt));at.reverse();const st=new typedArrays[tt](at.buffer);return this.offset+=nt,st.reverse(),st}const lt=new typedArrays[tt](it);return this.offset+=nt,lt}readInt16(){const et=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,et}readUint16(){const et=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,et}readInt32(){const et=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,et}readUint32(){const et=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat32(){const et=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat64(){const et=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,et}readBigInt64(){const et=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,et}readBigUint64(){const et=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,et}readChar(){return String.fromCharCode(this.readInt8())}readChars(et=1){let tt="";for(let nt=0;nt<et;nt++)tt+=this.readChar();return tt}readUtf8(et=1){return decode$1(this.readBytes(et))}decodeText(et=1,tt="utf-8"){return decode$1(this.readBytes(et),tt)}writeBoolean(et){return this.writeUint8(et?255:0),this}writeInt8(et){return this.ensureAvailable(1),this._data.setInt8(this.offset++,et),this._updateLastWrittenByte(),this}writeUint8(et){return this.ensureAvailable(1),this._data.setUint8(this.offset++,et),this._updateLastWrittenByte(),this}writeByte(et){return this.writeUint8(et)}writeBytes(et){this.ensureAvailable(et.length);for(let tt=0;tt<et.length;tt++)this._data.setUint8(this.offset++,et[tt]);return this._updateLastWrittenByte(),this}writeInt16(et){return this.ensureAvailable(2),this._data.setInt16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(et){return this.ensureAvailable(2),this._data.setUint16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(et){return this.ensureAvailable(4),this._data.setInt32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(et){return this.ensureAvailable(4),this._data.setUint32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(et){return this.ensureAvailable(4),this._data.setFloat32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(et){return this.ensureAvailable(8),this._data.setFloat64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(et){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(et){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(et){return this.writeUint8(et.charCodeAt(0))}writeChars(et){for(let tt=0;tt<et.length;tt++)this.writeUint8(et.charCodeAt(tt));return this}writeUtf8(et){return this.writeBytes(encode(et))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_e){let et=_e.length;for(;--et>=0;)_e[et]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_e,et,tt,nt,ot){this.static_tree=_e,this.extra_bits=et,this.extra_base=tt,this.elems=nt,this.max_length=ot,this.has_stree=_e&&_e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_e,et){this.dyn_tree=_e,this.max_code=0,this.stat_desc=et}const d_code=_e=>_e<256?_dist_code[_e]:_dist_code[256+(_e>>>7)],put_short=(_e,et)=>{_e.pending_buf[_e.pending++]=et&255,_e.pending_buf[_e.pending++]=et>>>8&255},send_bits=(_e,et,tt)=>{_e.bi_valid>Buf_size-tt?(_e.bi_buf|=et<<_e.bi_valid&65535,put_short(_e,_e.bi_buf),_e.bi_buf=et>>Buf_size-_e.bi_valid,_e.bi_valid+=tt-Buf_size):(_e.bi_buf|=et<<_e.bi_valid&65535,_e.bi_valid+=tt)},send_code=(_e,et,tt)=>{send_bits(_e,tt[et*2],tt[et*2+1])},bi_reverse=(_e,et)=>{let tt=0;do tt|=_e&1,_e>>>=1,tt<<=1;while(--et>0);return tt>>>1},bi_flush=_e=>{_e.bi_valid===16?(put_short(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=_e.bi_buf&255,_e.bi_buf>>=8,_e.bi_valid-=8)},gen_bitlen=(_e,et)=>{const tt=et.dyn_tree,nt=et.max_code,ot=et.stat_desc.static_tree,it=et.stat_desc.has_stree,lt=et.stat_desc.extra_bits,at=et.stat_desc.extra_base,st=et.stat_desc.max_length;let ut,ct,ft,dt,ht,gt,yt=0;for(dt=0;dt<=MAX_BITS$1;dt++)_e.bl_count[dt]=0;for(tt[_e.heap[_e.heap_max]*2+1]=0,ut=_e.heap_max+1;ut<HEAP_SIZE$1;ut++)ct=_e.heap[ut],dt=tt[tt[ct*2+1]*2+1]+1,dt>st&&(dt=st,yt++),tt[ct*2+1]=dt,!(ct>nt)&&(_e.bl_count[dt]++,ht=0,ct>=at&&(ht=lt[ct-at]),gt=tt[ct*2],_e.opt_len+=gt*(dt+ht),it&&(_e.static_len+=gt*(ot[ct*2+1]+ht)));if(yt!==0){do{for(dt=st-1;_e.bl_count[dt]===0;)dt--;_e.bl_count[dt]--,_e.bl_count[dt+1]+=2,_e.bl_count[st]--,yt-=2}while(yt>0);for(dt=st;dt!==0;dt--)for(ct=_e.bl_count[dt];ct!==0;)ft=_e.heap[--ut],!(ft>nt)&&(tt[ft*2+1]!==dt&&(_e.opt_len+=(dt-tt[ft*2+1])*tt[ft*2],tt[ft*2+1]=dt),ct--)}},gen_codes=(_e,et,tt)=>{const nt=new Array(MAX_BITS$1+1);let ot=0,it,lt;for(it=1;it<=MAX_BITS$1;it++)ot=ot+tt[it-1]<<1,nt[it]=ot;for(lt=0;lt<=et;lt++){let at=_e[lt*2+1];at!==0&&(_e[lt*2]=bi_reverse(nt[at]++,at))}},tr_static_init=()=>{let _e,et,tt,nt,ot;const it=new Array(MAX_BITS$1+1);for(tt=0,nt=0;nt<LENGTH_CODES$1-1;nt++)for(base_length[nt]=tt,_e=0;_e<1<<extra_lbits[nt];_e++)_length_code[tt++]=nt;for(_length_code[tt-1]=nt,ot=0,nt=0;nt<16;nt++)for(base_dist[nt]=ot,_e=0;_e<1<<extra_dbits[nt];_e++)_dist_code[ot++]=nt;for(ot>>=7;nt<D_CODES$1;nt++)for(base_dist[nt]=ot<<7,_e=0;_e<1<<extra_dbits[nt]-7;_e++)_dist_code[256+ot++]=nt;for(et=0;et<=MAX_BITS$1;et++)it[et]=0;for(_e=0;_e<=143;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(;_e<=255;)static_ltree[_e*2+1]=9,_e++,it[9]++;for(;_e<=279;)static_ltree[_e*2+1]=7,_e++,it[7]++;for(;_e<=287;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(gen_codes(static_ltree,L_CODES$1+1,it),_e=0;_e<D_CODES$1;_e++)static_dtree[_e*2+1]=5,static_dtree[_e*2]=bi_reverse(_e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_e=>{let et;for(et=0;et<L_CODES$1;et++)_e.dyn_ltree[et*2]=0;for(et=0;et<D_CODES$1;et++)_e.dyn_dtree[et*2]=0;for(et=0;et<BL_CODES$1;et++)_e.bl_tree[et*2]=0;_e.dyn_ltree[END_BLOCK*2]=1,_e.opt_len=_e.static_len=0,_e.sym_next=_e.matches=0},bi_windup=_e=>{_e.bi_valid>8?put_short(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0},smaller=(_e,et,tt,nt)=>{const ot=et*2,it=tt*2;return _e[ot]<_e[it]||_e[ot]===_e[it]&&nt[et]<=nt[tt]},pqdownheap=(_e,et,tt)=>{const nt=_e.heap[tt];let ot=tt<<1;for(;ot<=_e.heap_len&&(ot<_e.heap_len&&smaller(et,_e.heap[ot+1],_e.heap[ot],_e.depth)&&ot++,!smaller(et,nt,_e.heap[ot],_e.depth));)_e.heap[tt]=_e.heap[ot],tt=ot,ot<<=1;_e.heap[tt]=nt},compress_block=(_e,et,tt)=>{let nt,ot,it=0,lt,at;if(_e.sym_next!==0)do nt=_e.pending_buf[_e.sym_buf+it++]&255,nt+=(_e.pending_buf[_e.sym_buf+it++]&255)<<8,ot=_e.pending_buf[_e.sym_buf+it++],nt===0?send_code(_e,ot,et):(lt=_length_code[ot],send_code(_e,lt+LITERALS$1+1,et),at=extra_lbits[lt],at!==0&&(ot-=base_length[lt],send_bits(_e,ot,at)),nt--,lt=d_code(nt),send_code(_e,lt,tt),at=extra_dbits[lt],at!==0&&(nt-=base_dist[lt],send_bits(_e,nt,at)));while(it<_e.sym_next);send_code(_e,END_BLOCK,et)},build_tree=(_e,et)=>{const tt=et.dyn_tree,nt=et.stat_desc.static_tree,ot=et.stat_desc.has_stree,it=et.stat_desc.elems;let lt,at,st=-1,ut;for(_e.heap_len=0,_e.heap_max=HEAP_SIZE$1,lt=0;lt<it;lt++)tt[lt*2]!==0?(_e.heap[++_e.heap_len]=st=lt,_e.depth[lt]=0):tt[lt*2+1]=0;for(;_e.heap_len<2;)ut=_e.heap[++_e.heap_len]=st<2?++st:0,tt[ut*2]=1,_e.depth[ut]=0,_e.opt_len--,ot&&(_e.static_len-=nt[ut*2+1]);for(et.max_code=st,lt=_e.heap_len>>1;lt>=1;lt--)pqdownheap(_e,tt,lt);ut=it;do lt=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],pqdownheap(_e,tt,1),at=_e.heap[1],_e.heap[--_e.heap_max]=lt,_e.heap[--_e.heap_max]=at,tt[ut*2]=tt[lt*2]+tt[at*2],_e.depth[ut]=(_e.depth[lt]>=_e.depth[at]?_e.depth[lt]:_e.depth[at])+1,tt[lt*2+1]=tt[at*2+1]=ut,_e.heap[1]=ut++,pqdownheap(_e,tt,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],gen_bitlen(_e,et),gen_codes(tt,st,_e.bl_count)},scan_tree=(_e,et,tt)=>{let nt,ot=-1,it,lt=et[0*2+1],at=0,st=7,ut=4;for(lt===0&&(st=138,ut=3),et[(tt+1)*2+1]=65535,nt=0;nt<=tt;nt++)it=lt,lt=et[(nt+1)*2+1],!(++at<st&&it===lt)&&(at<ut?_e.bl_tree[it*2]+=at:it!==0?(it!==ot&&_e.bl_tree[it*2]++,_e.bl_tree[REP_3_6*2]++):at<=10?_e.bl_tree[REPZ_3_10*2]++:_e.bl_tree[REPZ_11_138*2]++,at=0,ot=it,lt===0?(st=138,ut=3):it===lt?(st=6,ut=3):(st=7,ut=4))},send_tree=(_e,et,tt)=>{let nt,ot=-1,it,lt=et[0*2+1],at=0,st=7,ut=4;for(lt===0&&(st=138,ut=3),nt=0;nt<=tt;nt++)if(it=lt,lt=et[(nt+1)*2+1],!(++at<st&&it===lt)){if(at<ut)do send_code(_e,it,_e.bl_tree);while(--at!==0);else it!==0?(it!==ot&&(send_code(_e,it,_e.bl_tree),at--),send_code(_e,REP_3_6,_e.bl_tree),send_bits(_e,at-3,2)):at<=10?(send_code(_e,REPZ_3_10,_e.bl_tree),send_bits(_e,at-3,3)):(send_code(_e,REPZ_11_138,_e.bl_tree),send_bits(_e,at-11,7));at=0,ot=it,lt===0?(st=138,ut=3):it===lt?(st=6,ut=3):(st=7,ut=4)}},build_bl_tree=_e=>{let et;for(scan_tree(_e,_e.dyn_ltree,_e.l_desc.max_code),scan_tree(_e,_e.dyn_dtree,_e.d_desc.max_code),build_tree(_e,_e.bl_desc),et=BL_CODES$1-1;et>=3&&_e.bl_tree[bl_order[et]*2+1]===0;et--);return _e.opt_len+=3*(et+1)+5+5+4,et},send_all_trees=(_e,et,tt,nt)=>{let ot;for(send_bits(_e,et-257,5),send_bits(_e,tt-1,5),send_bits(_e,nt-4,4),ot=0;ot<nt;ot++)send_bits(_e,_e.bl_tree[bl_order[ot]*2+1],3);send_tree(_e,_e.dyn_ltree,et-1),send_tree(_e,_e.dyn_dtree,tt-1)},detect_data_type=_e=>{let et=4093624447,tt;for(tt=0;tt<=31;tt++,et>>>=1)if(et&1&&_e.dyn_ltree[tt*2]!==0)return Z_BINARY;if(_e.dyn_ltree[9*2]!==0||_e.dyn_ltree[10*2]!==0||_e.dyn_ltree[13*2]!==0)return Z_TEXT;for(tt=32;tt<LITERALS$1;tt++)if(_e.dyn_ltree[tt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_e=>{static_init_done||(tr_static_init(),static_init_done=!0),_e.l_desc=new TreeDesc(_e.dyn_ltree,static_l_desc),_e.d_desc=new TreeDesc(_e.dyn_dtree,static_d_desc),_e.bl_desc=new TreeDesc(_e.bl_tree,static_bl_desc),_e.bi_buf=0,_e.bi_valid=0,init_block(_e)},_tr_stored_block$1=(_e,et,tt,nt)=>{send_bits(_e,(STORED_BLOCK<<1)+(nt?1:0),3),bi_windup(_e),put_short(_e,tt),put_short(_e,~tt),tt&&_e.pending_buf.set(_e.window.subarray(et,et+tt),_e.pending),_e.pending+=tt},_tr_align$1=_e=>{send_bits(_e,STATIC_TREES<<1,3),send_code(_e,END_BLOCK,static_ltree),bi_flush(_e)},_tr_flush_block$1=(_e,et,tt,nt)=>{let ot,it,lt=0;_e.level>0?(_e.strm.data_type===Z_UNKNOWN$1&&(_e.strm.data_type=detect_data_type(_e)),build_tree(_e,_e.l_desc),build_tree(_e,_e.d_desc),lt=build_bl_tree(_e),ot=_e.opt_len+3+7>>>3,it=_e.static_len+3+7>>>3,it<=ot&&(ot=it)):ot=it=tt+5,tt+4<=ot&&et!==-1?_tr_stored_block$1(_e,et,tt,nt):_e.strategy===Z_FIXED$1||it===ot?(send_bits(_e,(STATIC_TREES<<1)+(nt?1:0),3),compress_block(_e,static_ltree,static_dtree)):(send_bits(_e,(DYN_TREES<<1)+(nt?1:0),3),send_all_trees(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,lt+1),compress_block(_e,_e.dyn_ltree,_e.dyn_dtree)),init_block(_e),nt&&bi_windup(_e)},_tr_tally$1=(_e,et,tt)=>(_e.pending_buf[_e.sym_buf+_e.sym_next++]=et,_e.pending_buf[_e.sym_buf+_e.sym_next++]=et>>8,_e.pending_buf[_e.sym_buf+_e.sym_next++]=tt,et===0?_e.dyn_ltree[tt*2]++:(_e.matches++,et--,_e.dyn_ltree[(_length_code[tt]+LITERALS$1+1)*2]++,_e.dyn_dtree[d_code(et)*2]++),_e.sym_next===_e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_e,et,tt,nt)=>{let ot=_e&65535|0,it=_e>>>16&65535|0,lt=0;for(;tt!==0;){lt=tt>2e3?2e3:tt,tt-=lt;do ot=ot+et[nt++]|0,it=it+ot|0;while(--lt);ot%=65521,it%=65521}return ot|it<<16|0};var adler32_1=adler32;const makeTable=()=>{let _e,et=[];for(var tt=0;tt<256;tt++){_e=tt;for(var nt=0;nt<8;nt++)_e=_e&1?3988292384^_e>>>1:_e>>>1;et[tt]=_e}return et},crcTable$1=new Uint32Array(makeTable()),crc32=(_e,et,tt,nt)=>{const ot=crcTable$1,it=nt+tt;_e^=-1;for(let lt=nt;lt<it;lt++)_e=_e>>>8^ot[(_e^et[lt])&255];return _e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_e,et)=>(_e.msg=messages[et],et),rank=_e=>_e*2-(_e>4?9:0),zero=_e=>{let et=_e.length;for(;--et>=0;)_e[et]=0},slide_hash=_e=>{let et,tt,nt,ot=_e.w_size;et=_e.hash_size,nt=et;do tt=_e.head[--nt],_e.head[nt]=tt>=ot?tt-ot:0;while(--et);et=ot,nt=et;do tt=_e.prev[--nt],_e.prev[nt]=tt>=ot?tt-ot:0;while(--et)};let HASH_ZLIB=(_e,et,tt)=>(et<<_e.hash_shift^tt)&_e.hash_mask,HASH=HASH_ZLIB;const flush_pending=_e=>{const et=_e.state;let tt=et.pending;tt>_e.avail_out&&(tt=_e.avail_out),tt!==0&&(_e.output.set(et.pending_buf.subarray(et.pending_out,et.pending_out+tt),_e.next_out),_e.next_out+=tt,et.pending_out+=tt,_e.total_out+=tt,_e.avail_out-=tt,et.pending-=tt,et.pending===0&&(et.pending_out=0))},flush_block_only=(_e,et)=>{_tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,et),_e.block_start=_e.strstart,flush_pending(_e.strm)},put_byte=(_e,et)=>{_e.pending_buf[_e.pending++]=et},putShortMSB=(_e,et)=>{_e.pending_buf[_e.pending++]=et>>>8&255,_e.pending_buf[_e.pending++]=et&255},read_buf=(_e,et,tt,nt)=>{let ot=_e.avail_in;return ot>nt&&(ot=nt),ot===0?0:(_e.avail_in-=ot,et.set(_e.input.subarray(_e.next_in,_e.next_in+ot),tt),_e.state.wrap===1?_e.adler=adler32_1(_e.adler,et,ot,tt):_e.state.wrap===2&&(_e.adler=crc32_1(_e.adler,et,ot,tt)),_e.next_in+=ot,_e.total_in+=ot,ot)},longest_match=(_e,et)=>{let tt=_e.max_chain_length,nt=_e.strstart,ot,it,lt=_e.prev_length,at=_e.nice_match;const st=_e.strstart>_e.w_size-MIN_LOOKAHEAD?_e.strstart-(_e.w_size-MIN_LOOKAHEAD):0,ut=_e.window,ct=_e.w_mask,ft=_e.prev,dt=_e.strstart+MAX_MATCH;let ht=ut[nt+lt-1],gt=ut[nt+lt];_e.prev_length>=_e.good_match&&(tt>>=2),at>_e.lookahead&&(at=_e.lookahead);do if(ot=et,!(ut[ot+lt]!==gt||ut[ot+lt-1]!==ht||ut[ot]!==ut[nt]||ut[++ot]!==ut[nt+1])){nt+=2,ot++;do;while(ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&ut[++nt]===ut[++ot]&&nt<dt);if(it=MAX_MATCH-(dt-nt),nt=dt-MAX_MATCH,it>lt){if(_e.match_start=et,lt=it,it>=at)break;ht=ut[nt+lt-1],gt=ut[nt+lt]}}while((et=ft[et&ct])>st&&--tt!==0);return lt<=_e.lookahead?lt:_e.lookahead},fill_window=_e=>{const et=_e.w_size;let tt,nt,ot;do{if(nt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=et+(et-MIN_LOOKAHEAD)&&(_e.window.set(_e.window.subarray(et,et+et-nt),0),_e.match_start-=et,_e.strstart-=et,_e.block_start-=et,_e.insert>_e.strstart&&(_e.insert=_e.strstart),slide_hash(_e),nt+=et),_e.strm.avail_in===0)break;if(tt=read_buf(_e.strm,_e.window,_e.strstart+_e.lookahead,nt),_e.lookahead+=tt,_e.lookahead+_e.insert>=MIN_MATCH)for(ot=_e.strstart-_e.insert,_e.ins_h=_e.window[ot],_e.ins_h=HASH(_e,_e.ins_h,_e.window[ot+1]);_e.insert&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[ot+MIN_MATCH-1]),_e.prev[ot&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=ot,ot++,_e.insert--,!(_e.lookahead+_e.insert<MIN_MATCH)););}while(_e.lookahead<MIN_LOOKAHEAD&&_e.strm.avail_in!==0)},deflate_stored=(_e,et)=>{let tt=_e.pending_buf_size-5>_e.w_size?_e.w_size:_e.pending_buf_size-5,nt,ot,it,lt=0,at=_e.strm.avail_in;do{if(nt=65535,it=_e.bi_valid+42>>3,_e.strm.avail_out<it||(it=_e.strm.avail_out-it,ot=_e.strstart-_e.block_start,nt>ot+_e.strm.avail_in&&(nt=ot+_e.strm.avail_in),nt>it&&(nt=it),nt<tt&&(nt===0&&et!==Z_FINISH$3||et===Z_NO_FLUSH$2||nt!==ot+_e.strm.avail_in)))break;lt=et===Z_FINISH$3&&nt===ot+_e.strm.avail_in?1:0,_tr_stored_block(_e,0,0,lt),_e.pending_buf[_e.pending-4]=nt,_e.pending_buf[_e.pending-3]=nt>>8,_e.pending_buf[_e.pending-2]=~nt,_e.pending_buf[_e.pending-1]=~nt>>8,flush_pending(_e.strm),ot&&(ot>nt&&(ot=nt),_e.strm.output.set(_e.window.subarray(_e.block_start,_e.block_start+ot),_e.strm.next_out),_e.strm.next_out+=ot,_e.strm.avail_out-=ot,_e.strm.total_out+=ot,_e.block_start+=ot,nt-=ot),nt&&(read_buf(_e.strm,_e.strm.output,_e.strm.next_out,nt),_e.strm.next_out+=nt,_e.strm.avail_out-=nt,_e.strm.total_out+=nt)}while(lt===0);return at-=_e.strm.avail_in,at&&(at>=_e.w_size?(_e.matches=2,_e.window.set(_e.strm.input.subarray(_e.strm.next_in-_e.w_size,_e.strm.next_in),0),_e.strstart=_e.w_size,_e.insert=_e.strstart):(_e.window_size-_e.strstart<=at&&(_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),_e.window.set(_e.strm.input.subarray(_e.strm.next_in-at,_e.strm.next_in),_e.strstart),_e.strstart+=at,_e.insert+=at>_e.w_size-_e.insert?_e.w_size-_e.insert:at),_e.block_start=_e.strstart),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),lt?BS_FINISH_DONE:et!==Z_NO_FLUSH$2&&et!==Z_FINISH$3&&_e.strm.avail_in===0&&_e.strstart===_e.block_start?BS_BLOCK_DONE:(it=_e.window_size-_e.strstart,_e.strm.avail_in>it&&_e.block_start>=_e.w_size&&(_e.block_start-=_e.w_size,_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,it+=_e.w_size,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),it>_e.strm.avail_in&&(it=_e.strm.avail_in),it&&(read_buf(_e.strm,_e.window,_e.strstart,it),_e.strstart+=it,_e.insert+=it>_e.w_size-_e.insert?_e.w_size-_e.insert:it),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),it=_e.bi_valid+42>>3,it=_e.pending_buf_size-it>65535?65535:_e.pending_buf_size-it,tt=it>_e.w_size?_e.w_size:it,ot=_e.strstart-_e.block_start,(ot>=tt||(ot||et===Z_FINISH$3)&&et!==Z_NO_FLUSH$2&&_e.strm.avail_in===0&&ot<=it)&&(nt=ot>it?it:ot,lt=et===Z_FINISH$3&&_e.strm.avail_in===0&&nt===ot?1:0,_tr_stored_block(_e,_e.block_start,nt,lt),_e.block_start+=nt,flush_pending(_e.strm)),lt?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_e,et)=>{let tt,nt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),tt!==0&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt)),_e.match_length>=MIN_MATCH)if(nt=_tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=MIN_MATCH){_e.match_length--;do _e.strstart++,_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!==0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+1]);else nt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(nt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_e,et)=>{let tt,nt,ot;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=MIN_MATCH-1,tt!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt),_e.match_length<=5&&(_e.strategy===Z_FILTERED||_e.match_length===MIN_MATCH&&_e.strstart-_e.match_start>4096)&&(_e.match_length=MIN_MATCH-1)),_e.prev_length>=MIN_MATCH&&_e.match_length<=_e.prev_length){ot=_e.strstart+_e.lookahead-MIN_MATCH,nt=_tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-MIN_MATCH),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=ot&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!==0);if(_e.match_available=0,_e.match_length=MIN_MATCH-1,_e.strstart++,nt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}else if(_e.match_available){if(nt=_tr_tally(_e,0,_e.window[_e.strstart-1]),nt&&flush_block_only(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return BS_NEED_MORE}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(nt=_tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_e,et)=>{let tt,nt,ot,it;const lt=_e.window;for(;;){if(_e.lookahead<=MAX_MATCH){if(fill_window(_e),_e.lookahead<=MAX_MATCH&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=MIN_MATCH&&_e.strstart>0&&(ot=_e.strstart-1,nt=lt[ot],nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot])){it=_e.strstart+MAX_MATCH;do;while(nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&nt===lt[++ot]&&ot<it);_e.match_length=MAX_MATCH-(it-ot),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=MIN_MATCH?(tt=_tr_tally(_e,1,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_e,et)=>{let tt;for(;;){if(_e.lookahead===0&&(fill_window(_e),_e.lookahead===0)){if(et===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_e.match_length=0,tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_e,et,tt,nt,ot){this.good_length=_e,this.max_lazy=et,this.nice_length=tt,this.max_chain=nt,this.func=ot}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_e=>{_e.window_size=2*_e.w_size,zero(_e.head),_e.max_lazy_match=configuration_table[_e.level].max_lazy,_e.good_match=configuration_table[_e.level].good_length,_e.nice_match=configuration_table[_e.level].nice_length,_e.max_chain_length=configuration_table[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=MIN_MATCH-1,_e.match_available=0,_e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.status!==INIT_STATE&&et.status!==GZIP_STATE&&et.status!==EXTRA_STATE&&et.status!==NAME_STATE&&et.status!==COMMENT_STATE&&et.status!==HCRC_STATE&&et.status!==BUSY_STATE&&et.status!==FINISH_STATE?1:0},deflateResetKeep=_e=>{if(deflateStateCheck(_e))return err(_e,Z_STREAM_ERROR$2);_e.total_in=_e.total_out=0,_e.data_type=Z_UNKNOWN;const et=_e.state;return et.pending=0,et.pending_out=0,et.wrap<0&&(et.wrap=-et.wrap),et.status=et.wrap===2?GZIP_STATE:et.wrap?INIT_STATE:BUSY_STATE,_e.adler=et.wrap===2?0:1,et.last_flush=-2,_tr_init(et),Z_OK$3},deflateReset=_e=>{const et=deflateResetKeep(_e);return et===Z_OK$3&&lm_init(_e.state),et},deflateSetHeader=(_e,et)=>deflateStateCheck(_e)||_e.state.wrap!==2?Z_STREAM_ERROR$2:(_e.state.gzhead=et,Z_OK$3),deflateInit2=(_e,et,tt,nt,ot,it)=>{if(!_e)return Z_STREAM_ERROR$2;let lt=1;if(et===Z_DEFAULT_COMPRESSION$1&&(et=6),nt<0?(lt=0,nt=-nt):nt>15&&(lt=2,nt-=16),ot<1||ot>MAX_MEM_LEVEL||tt!==Z_DEFLATED$2||nt<8||nt>15||et<0||et>9||it<0||it>Z_FIXED||nt===8&&lt!==1)return err(_e,Z_STREAM_ERROR$2);nt===8&&(nt=9);const at=new DeflateState;return _e.state=at,at.strm=_e,at.status=INIT_STATE,at.wrap=lt,at.gzhead=null,at.w_bits=nt,at.w_size=1<<at.w_bits,at.w_mask=at.w_size-1,at.hash_bits=ot+7,at.hash_size=1<<at.hash_bits,at.hash_mask=at.hash_size-1,at.hash_shift=~~((at.hash_bits+MIN_MATCH-1)/MIN_MATCH),at.window=new Uint8Array(at.w_size*2),at.head=new Uint16Array(at.hash_size),at.prev=new Uint16Array(at.w_size),at.lit_bufsize=1<<ot+6,at.pending_buf_size=at.lit_bufsize*4,at.pending_buf=new Uint8Array(at.pending_buf_size),at.sym_buf=at.lit_bufsize,at.sym_end=(at.lit_bufsize-1)*3,at.level=et,at.strategy=it,at.method=tt,deflateReset(_e)},deflateInit=(_e,et)=>deflateInit2(_e,et,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_e,et)=>{if(deflateStateCheck(_e)||et>Z_BLOCK$1||et<0)return _e?err(_e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const tt=_e.state;if(!_e.output||_e.avail_in!==0&&!_e.input||tt.status===FINISH_STATE&&et!==Z_FINISH$3)return err(_e,_e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const nt=tt.last_flush;if(tt.last_flush=et,tt.pending!==0){if(flush_pending(_e),_e.avail_out===0)return tt.last_flush=-1,Z_OK$3}else if(_e.avail_in===0&&rank(et)<=rank(nt)&&et!==Z_FINISH$3)return err(_e,Z_BUF_ERROR$1);if(tt.status===FINISH_STATE&&_e.avail_in!==0)return err(_e,Z_BUF_ERROR$1);if(tt.status===INIT_STATE&&tt.wrap===0&&(tt.status=BUSY_STATE),tt.status===INIT_STATE){let ot=Z_DEFLATED$2+(tt.w_bits-8<<4)<<8,it=-1;if(tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?it=0:tt.level<6?it=1:tt.level===6?it=2:it=3,ot|=it<<6,tt.strstart!==0&&(ot|=PRESET_DICT),ot+=31-ot%31,putShortMSB(tt,ot),tt.strstart!==0&&(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),_e.adler=1,tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===GZIP_STATE){if(_e.adler=0,put_byte(tt,31),put_byte(tt,139),put_byte(tt,8),tt.gzhead)put_byte(tt,(tt.gzhead.text?1:0)+(tt.gzhead.hcrc?2:0)+(tt.gzhead.extra?4:0)+(tt.gzhead.name?8:0)+(tt.gzhead.comment?16:0)),put_byte(tt,tt.gzhead.time&255),put_byte(tt,tt.gzhead.time>>8&255),put_byte(tt,tt.gzhead.time>>16&255),put_byte(tt,tt.gzhead.time>>24&255),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,tt.gzhead.os&255),tt.gzhead.extra&&tt.gzhead.extra.length&&(put_byte(tt,tt.gzhead.extra.length&255),put_byte(tt,tt.gzhead.extra.length>>8&255)),tt.gzhead.hcrc&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending,0)),tt.gzindex=0,tt.status=EXTRA_STATE;else if(put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,OS_CODE),tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===EXTRA_STATE){if(tt.gzhead.extra){let ot=tt.pending,it=(tt.gzhead.extra.length&65535)-tt.gzindex;for(;tt.pending+it>tt.pending_buf_size;){let at=tt.pending_buf_size-tt.pending;if(tt.pending_buf.set(tt.gzhead.extra.subarray(tt.gzindex,tt.gzindex+at),tt.pending),tt.pending=tt.pending_buf_size,tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot)),tt.gzindex+=at,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;ot=0,it-=at}let lt=new Uint8Array(tt.gzhead.extra);tt.pending_buf.set(lt.subarray(tt.gzindex,tt.gzindex+it),tt.pending),tt.pending+=it,tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot)),tt.gzindex=0}tt.status=NAME_STATE}if(tt.status===NAME_STATE){if(tt.gzhead.name){let ot=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;ot=0}tt.gzindex<tt.gzhead.name.length?it=tt.gzhead.name.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot)),tt.gzindex=0}tt.status=COMMENT_STATE}if(tt.status===COMMENT_STATE){if(tt.gzhead.comment){let ot=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;ot=0}tt.gzindex<tt.gzhead.comment.length?it=tt.gzhead.comment.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>ot&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-ot,ot))}tt.status=HCRC_STATE}if(tt.status===HCRC_STATE){if(tt.gzhead.hcrc){if(tt.pending+2>tt.pending_buf_size&&(flush_pending(_e),tt.pending!==0))return tt.last_flush=-1,Z_OK$3;put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),_e.adler=0}if(tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(_e.avail_in!==0||tt.lookahead!==0||et!==Z_NO_FLUSH$2&&tt.status!==FINISH_STATE){let ot=tt.level===0?deflate_stored(tt,et):tt.strategy===Z_HUFFMAN_ONLY?deflate_huff(tt,et):tt.strategy===Z_RLE?deflate_rle(tt,et):configuration_table[tt.level].func(tt,et);if((ot===BS_FINISH_STARTED||ot===BS_FINISH_DONE)&&(tt.status=FINISH_STATE),ot===BS_NEED_MORE||ot===BS_FINISH_STARTED)return _e.avail_out===0&&(tt.last_flush=-1),Z_OK$3;if(ot===BS_BLOCK_DONE&&(et===Z_PARTIAL_FLUSH?_tr_align(tt):et!==Z_BLOCK$1&&(_tr_stored_block(tt,0,0,!1),et===Z_FULL_FLUSH$1&&(zero(tt.head),tt.lookahead===0&&(tt.strstart=0,tt.block_start=0,tt.insert=0))),flush_pending(_e),_e.avail_out===0))return tt.last_flush=-1,Z_OK$3}return et!==Z_FINISH$3?Z_OK$3:tt.wrap<=0?Z_STREAM_END$3:(tt.wrap===2?(put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),put_byte(tt,_e.adler>>16&255),put_byte(tt,_e.adler>>24&255),put_byte(tt,_e.total_in&255),put_byte(tt,_e.total_in>>8&255),put_byte(tt,_e.total_in>>16&255),put_byte(tt,_e.total_in>>24&255)):(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),flush_pending(_e),tt.wrap>0&&(tt.wrap=-tt.wrap),tt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_e=>{if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const et=_e.state.status;return _e.state=null,et===BUSY_STATE?err(_e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_e,et)=>{let tt=et.length;if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const nt=_e.state,ot=nt.wrap;if(ot===2||ot===1&&nt.status!==INIT_STATE||nt.lookahead)return Z_STREAM_ERROR$2;if(ot===1&&(_e.adler=adler32_1(_e.adler,et,tt,0)),nt.wrap=0,tt>=nt.w_size){ot===0&&(zero(nt.head),nt.strstart=0,nt.block_start=0,nt.insert=0);let st=new Uint8Array(nt.w_size);st.set(et.subarray(tt-nt.w_size,tt),0),et=st,tt=nt.w_size}const it=_e.avail_in,lt=_e.next_in,at=_e.input;for(_e.avail_in=tt,_e.next_in=0,_e.input=et,fill_window(nt);nt.lookahead>=MIN_MATCH;){let st=nt.strstart,ut=nt.lookahead-(MIN_MATCH-1);do nt.ins_h=HASH(nt,nt.ins_h,nt.window[st+MIN_MATCH-1]),nt.prev[st&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=st,st++;while(--ut);nt.strstart=st,nt.lookahead=MIN_MATCH-1,fill_window(nt)}return nt.strstart+=nt.lookahead,nt.block_start=nt.strstart,nt.insert=nt.lookahead,nt.lookahead=0,nt.match_length=nt.prev_length=MIN_MATCH-1,nt.match_available=0,_e.next_in=lt,_e.input=at,_e.avail_in=it,nt.wrap=ot,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_e,et)=>Object.prototype.hasOwnProperty.call(_e,et);var assign=function(_e){const et=Array.prototype.slice.call(arguments,1);for(;et.length;){const tt=et.shift();if(tt){if(typeof tt!="object")throw new TypeError(tt+"must be non-object");for(const nt in tt)_has(tt,nt)&&(_e[nt]=tt[nt])}}return _e},flattenChunks=_e=>{let et=0;for(let nt=0,ot=_e.length;nt<ot;nt++)et+=_e[nt].length;const tt=new Uint8Array(et);for(let nt=0,ot=0,it=_e.length;nt<it;nt++){let lt=_e[nt];tt.set(lt,ot),ot+=lt.length}return tt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _e=0;_e<256;_e++)_utf8len[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_e);let et,tt,nt,ot,it,lt=_e.length,at=0;for(ot=0;ot<lt;ot++)tt=_e.charCodeAt(ot),(tt&64512)===55296&&ot+1<lt&&(nt=_e.charCodeAt(ot+1),(nt&64512)===56320&&(tt=65536+(tt-55296<<10)+(nt-56320),ot++)),at+=tt<128?1:tt<2048?2:tt<65536?3:4;for(et=new Uint8Array(at),it=0,ot=0;it<at;ot++)tt=_e.charCodeAt(ot),(tt&64512)===55296&&ot+1<lt&&(nt=_e.charCodeAt(ot+1),(nt&64512)===56320&&(tt=65536+(tt-55296<<10)+(nt-56320),ot++)),tt<128?et[it++]=tt:tt<2048?(et[it++]=192|tt>>>6,et[it++]=128|tt&63):tt<65536?(et[it++]=224|tt>>>12,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63):(et[it++]=240|tt>>>18,et[it++]=128|tt>>>12&63,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63);return et};const buf2binstring=(_e,et)=>{if(et<65534&&_e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_e.length===et?_e:_e.subarray(0,et));let tt="";for(let nt=0;nt<et;nt++)tt+=String.fromCharCode(_e[nt]);return tt};var buf2string=(_e,et)=>{const tt=et||_e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_e.subarray(0,et));let nt,ot;const it=new Array(tt*2);for(ot=0,nt=0;nt<tt;){let lt=_e[nt++];if(lt<128){it[ot++]=lt;continue}let at=_utf8len[lt];if(at>4){it[ot++]=65533,nt+=at-1;continue}for(lt&=at===2?31:at===3?15:7;at>1&&nt<tt;)lt=lt<<6|_e[nt++]&63,at--;if(at>1){it[ot++]=65533;continue}lt<65536?it[ot++]=lt:(lt-=65536,it[ot++]=55296|lt>>10&1023,it[ot++]=56320|lt&1023)}return buf2binstring(it,ot)},utf8border=(_e,et)=>{et=et||_e.length,et>_e.length&&(et=_e.length);let tt=et-1;for(;tt>=0&&(_e[tt]&192)===128;)tt--;return tt<0||tt===0?et:tt+_utf8len[_e[tt]]>et?tt:et},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_e||{});let et=this.options;et.raw&&et.windowBits>0?et.windowBits=-et.windowBits:et.gzip&&et.windowBits>0&&et.windowBits<16&&(et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=deflate_1$2.deflateInit2(this.strm,et.level,et.method,et.windowBits,et.memLevel,et.strategy);if(tt!==Z_OK$2)throw new Error(messages[tt]);if(et.header&&deflate_1$2.deflateSetHeader(this.strm,et.header),et.dictionary){let nt;if(typeof et.dictionary=="string"?nt=strings.string2buf(et.dictionary):toString$1.call(et.dictionary)==="[object ArrayBuffer]"?nt=new Uint8Array(et.dictionary):nt=et.dictionary,tt=deflate_1$2.deflateSetDictionary(this.strm,nt),tt!==Z_OK$2)throw new Error(messages[tt]);this._dict_set=!0}}Deflate$1.prototype.push=function(_e,et){const tt=this.strm,nt=this.options.chunkSize;let ot,it;if(this.ended)return!1;for(et===~~et?it=et:it=et===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _e=="string"?tt.input=strings.string2buf(_e):toString$1.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){if(tt.avail_out===0&&(tt.output=new Uint8Array(nt),tt.next_out=0,tt.avail_out=nt),(it===Z_SYNC_FLUSH||it===Z_FULL_FLUSH)&&tt.avail_out<=6){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(ot=deflate_1$2.deflate(tt,it),ot===Z_STREAM_END$2)return tt.next_out>0&&this.onData(tt.output.subarray(0,tt.next_out)),ot=deflate_1$2.deflateEnd(this.strm),this.onEnd(ot),this.ended=!0,ot===Z_OK$2;if(tt.avail_out===0){this.onData(tt.output);continue}if(it>0&&tt.next_out>0){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(tt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Deflate$1.prototype.onEnd=function(_e){_e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function _e(et,tt){let nt,ot,it,lt,at,st,ut,ct,ft,dt,ht,gt,yt,Et,mt,_t,pt,wt,vt,bt,Rt,St,Ct,xt;const $t=et.state;nt=et.next_in,Ct=et.input,ot=nt+(et.avail_in-5),it=et.next_out,xt=et.output,lt=it-(tt-et.avail_out),at=it+(et.avail_out-257),st=$t.dmax,ut=$t.wsize,ct=$t.whave,ft=$t.wnext,dt=$t.window,ht=$t.hold,gt=$t.bits,yt=$t.lencode,Et=$t.distcode,mt=(1<<$t.lenbits)-1,_t=(1<<$t.distbits)-1;e:do{gt<15&&(ht+=Ct[nt++]<<gt,gt+=8,ht+=Ct[nt++]<<gt,gt+=8),pt=yt[ht&mt];t:for(;;){if(wt=pt>>>24,ht>>>=wt,gt-=wt,wt=pt>>>16&255,wt===0)xt[it++]=pt&65535;else if(wt&16){vt=pt&65535,wt&=15,wt&&(gt<wt&&(ht+=Ct[nt++]<<gt,gt+=8),vt+=ht&(1<<wt)-1,ht>>>=wt,gt-=wt),gt<15&&(ht+=Ct[nt++]<<gt,gt+=8,ht+=Ct[nt++]<<gt,gt+=8),pt=Et[ht&_t];n:for(;;){if(wt=pt>>>24,ht>>>=wt,gt-=wt,wt=pt>>>16&255,wt&16){if(bt=pt&65535,wt&=15,gt<wt&&(ht+=Ct[nt++]<<gt,gt+=8,gt<wt&&(ht+=Ct[nt++]<<gt,gt+=8)),bt+=ht&(1<<wt)-1,bt>st){et.msg="invalid distance too far back",$t.mode=BAD$1;break e}if(ht>>>=wt,gt-=wt,wt=it-lt,bt>wt){if(wt=bt-wt,wt>ct&&$t.sane){et.msg="invalid distance too far back",$t.mode=BAD$1;break e}if(Rt=0,St=dt,ft===0){if(Rt+=ut-wt,wt<vt){vt-=wt;do xt[it++]=dt[Rt++];while(--wt);Rt=it-bt,St=xt}}else if(ft<wt){if(Rt+=ut+ft-wt,wt-=ft,wt<vt){vt-=wt;do xt[it++]=dt[Rt++];while(--wt);if(Rt=0,ft<vt){wt=ft,vt-=wt;do xt[it++]=dt[Rt++];while(--wt);Rt=it-bt,St=xt}}}else if(Rt+=ft-wt,wt<vt){vt-=wt;do xt[it++]=dt[Rt++];while(--wt);Rt=it-bt,St=xt}for(;vt>2;)xt[it++]=St[Rt++],xt[it++]=St[Rt++],xt[it++]=St[Rt++],vt-=3;vt&&(xt[it++]=St[Rt++],vt>1&&(xt[it++]=St[Rt++]))}else{Rt=it-bt;do xt[it++]=xt[Rt++],xt[it++]=xt[Rt++],xt[it++]=xt[Rt++],vt-=3;while(vt>2);vt&&(xt[it++]=xt[Rt++],vt>1&&(xt[it++]=xt[Rt++]))}}else if(wt&64){et.msg="invalid distance code",$t.mode=BAD$1;break e}else{pt=Et[(pt&65535)+(ht&(1<<wt)-1)];continue n}break}}else if(wt&64)if(wt&32){$t.mode=TYPE$1;break e}else{et.msg="invalid literal/length code",$t.mode=BAD$1;break e}else{pt=yt[(pt&65535)+(ht&(1<<wt)-1)];continue t}break}}while(nt<ot&&it<at);vt=gt>>3,nt-=vt,gt-=vt<<3,ht&=(1<<gt)-1,et.next_in=nt,et.next_out=it,et.avail_in=nt<ot?5+(ot-nt):5-(nt-ot),et.avail_out=it<at?257+(at-it):257-(it-at),$t.hold=ht,$t.bits=gt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_e,et,tt,nt,ot,it,lt,at)=>{const st=at.bits;let ut=0,ct=0,ft=0,dt=0,ht=0,gt=0,yt=0,Et=0,mt=0,_t=0,pt,wt,vt,bt,Rt,St=null,Ct;const xt=new Uint16Array(MAXBITS+1),$t=new Uint16Array(MAXBITS+1);let Mt=null,kt,It,Pt;for(ut=0;ut<=MAXBITS;ut++)xt[ut]=0;for(ct=0;ct<nt;ct++)xt[et[tt+ct]]++;for(ht=st,dt=MAXBITS;dt>=1&&xt[dt]===0;dt--);if(ht>dt&&(ht=dt),dt===0)return ot[it++]=1<<24|64<<16|0,ot[it++]=1<<24|64<<16|0,at.bits=1,0;for(ft=1;ft<dt&&xt[ft]===0;ft++);for(ht<ft&&(ht=ft),Et=1,ut=1;ut<=MAXBITS;ut++)if(Et<<=1,Et-=xt[ut],Et<0)return-1;if(Et>0&&(_e===CODES$1||dt!==1))return-1;for($t[1]=0,ut=1;ut<MAXBITS;ut++)$t[ut+1]=$t[ut]+xt[ut];for(ct=0;ct<nt;ct++)et[tt+ct]!==0&&(lt[$t[et[tt+ct]]++]=ct);if(_e===CODES$1?(St=Mt=lt,Ct=20):_e===LENS$1?(St=lbase,Mt=lext,Ct=257):(St=dbase,Mt=dext,Ct=0),_t=0,ct=0,ut=ft,Rt=it,gt=ht,yt=0,vt=-1,mt=1<<ht,bt=mt-1,_e===LENS$1&&mt>ENOUGH_LENS$1||_e===DISTS$1&&mt>ENOUGH_DISTS$1)return 1;for(;;){kt=ut-yt,lt[ct]+1<Ct?(It=0,Pt=lt[ct]):lt[ct]>=Ct?(It=Mt[lt[ct]-Ct],Pt=St[lt[ct]-Ct]):(It=32+64,Pt=0),pt=1<<ut-yt,wt=1<<gt,ft=wt;do wt-=pt,ot[Rt+(_t>>yt)+wt]=kt<<24|It<<16|Pt|0;while(wt!==0);for(pt=1<<ut-1;_t&pt;)pt>>=1;if(pt!==0?(_t&=pt-1,_t+=pt):_t=0,ct++,--xt[ut]===0){if(ut===dt)break;ut=et[tt+lt[ct]]}if(ut>ht&&(_t&bt)!==vt){for(yt===0&&(yt=ht),Rt+=ft,gt=ut-yt,Et=1<<gt;gt+yt<dt&&(Et-=xt[gt+yt],!(Et<=0));)gt++,Et<<=1;if(mt+=1<<gt,_e===LENS$1&&mt>ENOUGH_LENS$1||_e===DISTS$1&&mt>ENOUGH_DISTS$1)return 1;vt=_t&bt,ot[vt]=ht<<24|gt<<16|Rt-it|0}}return _t!==0&&(ot[Rt+_t]=ut-yt<<24|64<<16|0),at.bits=ht,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_e=>(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.mode<HEAD||et.mode>SYNC?1:0},inflateResetKeep=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return _e.total_in=_e.total_out=et.total=0,_e.msg="",et.wrap&&(_e.adler=et.wrap&1),et.mode=HEAD,et.last=0,et.havedict=0,et.flags=-1,et.dmax=32768,et.head=null,et.hold=0,et.bits=0,et.lencode=et.lendyn=new Int32Array(ENOUGH_LENS),et.distcode=et.distdyn=new Int32Array(ENOUGH_DISTS),et.sane=1,et.back=-1,Z_OK$1},inflateReset=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return et.wsize=0,et.whave=0,et.wnext=0,inflateResetKeep(_e)},inflateReset2=(_e,et)=>{let tt;if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const nt=_e.state;return et<0?(tt=0,et=-et):(tt=(et>>4)+5,et<48&&(et&=15)),et&&(et<8||et>15)?Z_STREAM_ERROR$1:(nt.window!==null&&nt.wbits!==et&&(nt.window=null),nt.wrap=tt,nt.wbits=et,inflateReset(_e))},inflateInit2=(_e,et)=>{if(!_e)return Z_STREAM_ERROR$1;const tt=new InflateState;_e.state=tt,tt.strm=_e,tt.window=null,tt.mode=HEAD;const nt=inflateReset2(_e,et);return nt!==Z_OK$1&&(_e.state=null),nt},inflateInit=_e=>inflateInit2(_e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let et=0;for(;et<144;)_e.lens[et++]=8;for(;et<256;)_e.lens[et++]=9;for(;et<280;)_e.lens[et++]=7;for(;et<288;)_e.lens[et++]=8;for(inftrees(LENS,_e.lens,0,288,lenfix,0,_e.work,{bits:9}),et=0;et<32;)_e.lens[et++]=5;inftrees(DISTS,_e.lens,0,32,distfix,0,_e.work,{bits:5}),virgin=!1}_e.lencode=lenfix,_e.lenbits=9,_e.distcode=distfix,_e.distbits=5},updatewindow=(_e,et,tt,nt)=>{let ot;const it=_e.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),nt>=it.wsize?(it.window.set(et.subarray(tt-it.wsize,tt),0),it.wnext=0,it.whave=it.wsize):(ot=it.wsize-it.wnext,ot>nt&&(ot=nt),it.window.set(et.subarray(tt-nt,tt-nt+ot),it.wnext),nt-=ot,nt?(it.window.set(et.subarray(tt-nt,tt),0),it.wnext=nt,it.whave=it.wsize):(it.wnext+=ot,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=ot))),0},inflate$2=(_e,et)=>{let tt,nt,ot,it,lt,at,st,ut,ct,ft,dt,ht,gt,yt,Et=0,mt,_t,pt,wt,vt,bt,Rt,St;const Ct=new Uint8Array(4);let xt,$t;const Mt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_e)||!_e.output||!_e.input&&_e.avail_in!==0)return Z_STREAM_ERROR$1;tt=_e.state,tt.mode===TYPE&&(tt.mode=TYPEDO),lt=_e.next_out,ot=_e.output,st=_e.avail_out,it=_e.next_in,nt=_e.input,at=_e.avail_in,ut=tt.hold,ct=tt.bits,ft=at,dt=st,St=Z_OK$1;e:for(;;)switch(tt.mode){case HEAD:if(tt.wrap===0){tt.mode=TYPEDO;break}for(;ct<16;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(tt.wrap&2&&ut===35615){tt.wbits===0&&(tt.wbits=15),tt.check=0,Ct[0]=ut&255,Ct[1]=ut>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0),ut=0,ct=0,tt.mode=FLAGS;break}if(tt.head&&(tt.head.done=!1),!(tt.wrap&1)||(((ut&255)<<8)+(ut>>8))%31){_e.msg="incorrect header check",tt.mode=BAD;break}if((ut&15)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(ut>>>=4,ct-=4,Rt=(ut&15)+8,tt.wbits===0&&(tt.wbits=Rt),Rt>15||Rt>tt.wbits){_e.msg="invalid window size",tt.mode=BAD;break}tt.dmax=1<<tt.wbits,tt.flags=0,_e.adler=tt.check=1,tt.mode=ut&512?DICTID:TYPE,ut=0,ct=0;break;case FLAGS:for(;ct<16;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(tt.flags=ut,(tt.flags&255)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(tt.flags&57344){_e.msg="unknown header flags set",tt.mode=BAD;break}tt.head&&(tt.head.text=ut>>8&1),tt.flags&512&&tt.wrap&4&&(Ct[0]=ut&255,Ct[1]=ut>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),ut=0,ct=0,tt.mode=TIME;case TIME:for(;ct<32;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.head&&(tt.head.time=ut),tt.flags&512&&tt.wrap&4&&(Ct[0]=ut&255,Ct[1]=ut>>>8&255,Ct[2]=ut>>>16&255,Ct[3]=ut>>>24&255,tt.check=crc32_1(tt.check,Ct,4,0)),ut=0,ct=0,tt.mode=OS;case OS:for(;ct<16;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.head&&(tt.head.xflags=ut&255,tt.head.os=ut>>8),tt.flags&512&&tt.wrap&4&&(Ct[0]=ut&255,Ct[1]=ut>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),ut=0,ct=0,tt.mode=EXLEN;case EXLEN:if(tt.flags&1024){for(;ct<16;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.length=ut,tt.head&&(tt.head.extra_len=ut),tt.flags&512&&tt.wrap&4&&(Ct[0]=ut&255,Ct[1]=ut>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),ut=0,ct=0}else tt.head&&(tt.head.extra=null);tt.mode=EXTRA;case EXTRA:if(tt.flags&1024&&(ht=tt.length,ht>at&&(ht=at),ht&&(tt.head&&(Rt=tt.head.extra_len-tt.length,tt.head.extra||(tt.head.extra=new Uint8Array(tt.head.extra_len)),tt.head.extra.set(nt.subarray(it,it+ht),Rt)),tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,ht,it)),at-=ht,it+=ht,tt.length-=ht),tt.length))break e;tt.length=0,tt.mode=NAME;case NAME:if(tt.flags&2048){if(at===0)break e;ht=0;do Rt=nt[it+ht++],tt.head&&Rt&&tt.length<65536&&(tt.head.name+=String.fromCharCode(Rt));while(Rt&&ht<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,ht,it)),at-=ht,it+=ht,Rt)break e}else tt.head&&(tt.head.name=null);tt.length=0,tt.mode=COMMENT;case COMMENT:if(tt.flags&4096){if(at===0)break e;ht=0;do Rt=nt[it+ht++],tt.head&&Rt&&tt.length<65536&&(tt.head.comment+=String.fromCharCode(Rt));while(Rt&&ht<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,ht,it)),at-=ht,it+=ht,Rt)break e}else tt.head&&(tt.head.comment=null);tt.mode=HCRC;case HCRC:if(tt.flags&512){for(;ct<16;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(tt.wrap&4&&ut!==(tt.check&65535)){_e.msg="header crc mismatch",tt.mode=BAD;break}ut=0,ct=0}tt.head&&(tt.head.hcrc=tt.flags>>9&1,tt.head.done=!0),_e.adler=tt.check=0,tt.mode=TYPE;break;case DICTID:for(;ct<32;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}_e.adler=tt.check=zswap32(ut),ut=0,ct=0,tt.mode=DICT;case DICT:if(tt.havedict===0)return _e.next_out=lt,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=ut,tt.bits=ct,Z_NEED_DICT$1;_e.adler=tt.check=1,tt.mode=TYPE;case TYPE:if(et===Z_BLOCK||et===Z_TREES)break e;case TYPEDO:if(tt.last){ut>>>=ct&7,ct-=ct&7,tt.mode=CHECK;break}for(;ct<3;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}switch(tt.last=ut&1,ut>>>=1,ct-=1,ut&3){case 0:tt.mode=STORED;break;case 1:if(fixedtables(tt),tt.mode=LEN_,et===Z_TREES){ut>>>=2,ct-=2;break e}break;case 2:tt.mode=TABLE;break;case 3:_e.msg="invalid block type",tt.mode=BAD}ut>>>=2,ct-=2;break;case STORED:for(ut>>>=ct&7,ct-=ct&7;ct<32;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if((ut&65535)!==(ut>>>16^65535)){_e.msg="invalid stored block lengths",tt.mode=BAD;break}if(tt.length=ut&65535,ut=0,ct=0,tt.mode=COPY_,et===Z_TREES)break e;case COPY_:tt.mode=COPY;case COPY:if(ht=tt.length,ht){if(ht>at&&(ht=at),ht>st&&(ht=st),ht===0)break e;ot.set(nt.subarray(it,it+ht),lt),at-=ht,it+=ht,st-=ht,lt+=ht,tt.length-=ht;break}tt.mode=TYPE;break;case TABLE:for(;ct<14;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(tt.nlen=(ut&31)+257,ut>>>=5,ct-=5,tt.ndist=(ut&31)+1,ut>>>=5,ct-=5,tt.ncode=(ut&15)+4,ut>>>=4,ct-=4,tt.nlen>286||tt.ndist>30){_e.msg="too many length or distance symbols",tt.mode=BAD;break}tt.have=0,tt.mode=LENLENS;case LENLENS:for(;tt.have<tt.ncode;){for(;ct<3;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.lens[Mt[tt.have++]]=ut&7,ut>>>=3,ct-=3}for(;tt.have<19;)tt.lens[Mt[tt.have++]]=0;if(tt.lencode=tt.lendyn,tt.lenbits=7,xt={bits:tt.lenbits},St=inftrees(CODES,tt.lens,0,19,tt.lencode,0,tt.work,xt),tt.lenbits=xt.bits,St){_e.msg="invalid code lengths set",tt.mode=BAD;break}tt.have=0,tt.mode=CODELENS;case CODELENS:for(;tt.have<tt.nlen+tt.ndist;){for(;Et=tt.lencode[ut&(1<<tt.lenbits)-1],mt=Et>>>24,_t=Et>>>16&255,pt=Et&65535,!(mt<=ct);){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(pt<16)ut>>>=mt,ct-=mt,tt.lens[tt.have++]=pt;else{if(pt===16){for($t=mt+2;ct<$t;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(ut>>>=mt,ct-=mt,tt.have===0){_e.msg="invalid bit length repeat",tt.mode=BAD;break}Rt=tt.lens[tt.have-1],ht=3+(ut&3),ut>>>=2,ct-=2}else if(pt===17){for($t=mt+3;ct<$t;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}ut>>>=mt,ct-=mt,Rt=0,ht=3+(ut&7),ut>>>=3,ct-=3}else{for($t=mt+7;ct<$t;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}ut>>>=mt,ct-=mt,Rt=0,ht=11+(ut&127),ut>>>=7,ct-=7}if(tt.have+ht>tt.nlen+tt.ndist){_e.msg="invalid bit length repeat",tt.mode=BAD;break}for(;ht--;)tt.lens[tt.have++]=Rt}}if(tt.mode===BAD)break;if(tt.lens[256]===0){_e.msg="invalid code -- missing end-of-block",tt.mode=BAD;break}if(tt.lenbits=9,xt={bits:tt.lenbits},St=inftrees(LENS,tt.lens,0,tt.nlen,tt.lencode,0,tt.work,xt),tt.lenbits=xt.bits,St){_e.msg="invalid literal/lengths set",tt.mode=BAD;break}if(tt.distbits=6,tt.distcode=tt.distdyn,xt={bits:tt.distbits},St=inftrees(DISTS,tt.lens,tt.nlen,tt.ndist,tt.distcode,0,tt.work,xt),tt.distbits=xt.bits,St){_e.msg="invalid distances set",tt.mode=BAD;break}if(tt.mode=LEN_,et===Z_TREES)break e;case LEN_:tt.mode=LEN;case LEN:if(at>=6&&st>=258){_e.next_out=lt,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=ut,tt.bits=ct,inffast(_e,dt),lt=_e.next_out,ot=_e.output,st=_e.avail_out,it=_e.next_in,nt=_e.input,at=_e.avail_in,ut=tt.hold,ct=tt.bits,tt.mode===TYPE&&(tt.back=-1);break}for(tt.back=0;Et=tt.lencode[ut&(1<<tt.lenbits)-1],mt=Et>>>24,_t=Et>>>16&255,pt=Et&65535,!(mt<=ct);){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(_t&&!(_t&240)){for(wt=mt,vt=_t,bt=pt;Et=tt.lencode[bt+((ut&(1<<wt+vt)-1)>>wt)],mt=Et>>>24,_t=Et>>>16&255,pt=Et&65535,!(wt+mt<=ct);){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}ut>>>=wt,ct-=wt,tt.back+=wt}if(ut>>>=mt,ct-=mt,tt.back+=mt,tt.length=pt,_t===0){tt.mode=LIT;break}if(_t&32){tt.back=-1,tt.mode=TYPE;break}if(_t&64){_e.msg="invalid literal/length code",tt.mode=BAD;break}tt.extra=_t&15,tt.mode=LENEXT;case LENEXT:if(tt.extra){for($t=tt.extra;ct<$t;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.length+=ut&(1<<tt.extra)-1,ut>>>=tt.extra,ct-=tt.extra,tt.back+=tt.extra}tt.was=tt.length,tt.mode=DIST;case DIST:for(;Et=tt.distcode[ut&(1<<tt.distbits)-1],mt=Et>>>24,_t=Et>>>16&255,pt=Et&65535,!(mt<=ct);){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(!(_t&240)){for(wt=mt,vt=_t,bt=pt;Et=tt.distcode[bt+((ut&(1<<wt+vt)-1)>>wt)],mt=Et>>>24,_t=Et>>>16&255,pt=Et&65535,!(wt+mt<=ct);){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}ut>>>=wt,ct-=wt,tt.back+=wt}if(ut>>>=mt,ct-=mt,tt.back+=mt,_t&64){_e.msg="invalid distance code",tt.mode=BAD;break}tt.offset=pt,tt.extra=_t&15,tt.mode=DISTEXT;case DISTEXT:if(tt.extra){for($t=tt.extra;ct<$t;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}tt.offset+=ut&(1<<tt.extra)-1,ut>>>=tt.extra,ct-=tt.extra,tt.back+=tt.extra}if(tt.offset>tt.dmax){_e.msg="invalid distance too far back",tt.mode=BAD;break}tt.mode=MATCH;case MATCH:if(st===0)break e;if(ht=dt-st,tt.offset>ht){if(ht=tt.offset-ht,ht>tt.whave&&tt.sane){_e.msg="invalid distance too far back",tt.mode=BAD;break}ht>tt.wnext?(ht-=tt.wnext,gt=tt.wsize-ht):gt=tt.wnext-ht,ht>tt.length&&(ht=tt.length),yt=tt.window}else yt=ot,gt=lt-tt.offset,ht=tt.length;ht>st&&(ht=st),st-=ht,tt.length-=ht;do ot[lt++]=yt[gt++];while(--ht);tt.length===0&&(tt.mode=LEN);break;case LIT:if(st===0)break e;ot[lt++]=tt.length,st--,tt.mode=LEN;break;case CHECK:if(tt.wrap){for(;ct<32;){if(at===0)break e;at--,ut|=nt[it++]<<ct,ct+=8}if(dt-=st,_e.total_out+=dt,tt.total+=dt,tt.wrap&4&&dt&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,ot,dt,lt-dt):adler32_1(tt.check,ot,dt,lt-dt)),dt=st,tt.wrap&4&&(tt.flags?ut:zswap32(ut))!==tt.check){_e.msg="incorrect data check",tt.mode=BAD;break}ut=0,ct=0}tt.mode=LENGTH;case LENGTH:if(tt.wrap&&tt.flags){for(;ct<32;){if(at===0)break e;at--,ut+=nt[it++]<<ct,ct+=8}if(tt.wrap&4&&ut!==(tt.total&4294967295)){_e.msg="incorrect length check",tt.mode=BAD;break}ut=0,ct=0}tt.mode=DONE;case DONE:St=Z_STREAM_END$1;break e;case BAD:St=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _e.next_out=lt,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=ut,tt.bits=ct,(tt.wsize||dt!==_e.avail_out&&tt.mode<BAD&&(tt.mode<CHECK||et!==Z_FINISH$1))&&updatewindow(_e,_e.output,_e.next_out,dt-_e.avail_out),ft-=_e.avail_in,dt-=_e.avail_out,_e.total_in+=ft,_e.total_out+=dt,tt.total+=dt,tt.wrap&4&&dt&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,ot,dt,_e.next_out-dt):adler32_1(tt.check,ot,dt,_e.next_out-dt)),_e.data_type=tt.bits+(tt.last?64:0)+(tt.mode===TYPE?128:0)+(tt.mode===LEN_||tt.mode===COPY_?256:0),(ft===0&&dt===0||et===Z_FINISH$1)&&St===Z_OK$1&&(St=Z_BUF_ERROR),St},inflateEnd=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;let et=_e.state;return et.window&&(et.window=null),_e.state=null,Z_OK$1},inflateGetHeader=(_e,et)=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const tt=_e.state;return tt.wrap&2?(tt.head=et,et.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(_e,et)=>{const tt=et.length;let nt,ot,it;return inflateStateCheck(_e)||(nt=_e.state,nt.wrap!==0&&nt.mode!==DICT)?Z_STREAM_ERROR$1:nt.mode===DICT&&(ot=1,ot=adler32_1(ot,et,tt,0),ot!==nt.check)?Z_DATA_ERROR$1:(it=updatewindow(_e,et,tt,tt),it?(nt.mode=MEM,Z_MEM_ERROR$1):(nt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_e||{});const et=this.options;et.raw&&et.windowBits>=0&&et.windowBits<16&&(et.windowBits=-et.windowBits,et.windowBits===0&&(et.windowBits=-15)),et.windowBits>=0&&et.windowBits<16&&!(_e&&_e.windowBits)&&(et.windowBits+=32),et.windowBits>15&&et.windowBits<48&&(et.windowBits&15||(et.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=inflate_1$2.inflateInit2(this.strm,et.windowBits);if(tt!==Z_OK)throw new Error(messages[tt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),et.dictionary&&(typeof et.dictionary=="string"?et.dictionary=strings.string2buf(et.dictionary):toString$2.call(et.dictionary)==="[object ArrayBuffer]"&&(et.dictionary=new Uint8Array(et.dictionary)),et.raw&&(tt=inflate_1$2.inflateSetDictionary(this.strm,et.dictionary),tt!==Z_OK)))throw new Error(messages[tt])}Inflate$1.prototype.push=function(_e,et){const tt=this.strm,nt=this.options.chunkSize,ot=this.options.dictionary;let it,lt,at;if(this.ended)return!1;for(et===~~et?lt=et:lt=et===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){for(tt.avail_out===0&&(tt.output=new Uint8Array(nt),tt.next_out=0,tt.avail_out=nt),it=inflate_1$2.inflate(tt,lt),it===Z_NEED_DICT&&ot&&(it=inflate_1$2.inflateSetDictionary(tt,ot),it===Z_OK?it=inflate_1$2.inflate(tt,lt):it===Z_DATA_ERROR&&(it=Z_NEED_DICT));tt.avail_in>0&&it===Z_STREAM_END&&tt.state.wrap>0&&_e[tt.next_in]!==0;)inflate_1$2.inflateReset(tt),it=inflate_1$2.inflate(tt,lt);switch(it){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(it),this.ended=!0,!1}if(at=tt.avail_out,tt.next_out&&(tt.avail_out===0||it===Z_STREAM_END))if(this.options.to==="string"){let st=strings.utf8border(tt.output,tt.next_out),ut=tt.next_out-st,ct=strings.buf2string(tt.output,st);tt.next_out=ut,tt.avail_out=nt-ut,ut&&tt.output.set(tt.output.subarray(st,st+ut),0),this.onData(ct)}else this.onData(tt.output.length===tt.next_out?tt.output:tt.output.subarray(0,tt.next_out));if(!(it===Z_OK&&at===0)){if(it===Z_STREAM_END)return it=inflate_1$2.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(tt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Inflate$1.prototype.onEnd=function(_e){_e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};function inflate$1(_e,et){const tt=new Inflate$1(et);if(tt.push(_e),tt.err)throw tt.msg||messages[tt.err];return tt.result}function inflateRaw$1(_e,et){return et=et||{},et.raw=!0,inflate$1(_e,et)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let _e=0;_e<256;_e++){let et=_e;for(let tt=0;tt<8;tt++)et&1?et=3988292384^et>>>1:et=et>>>1;crcTable[_e]=et}const initialCrc=4294967295;function updateCrc(_e,et,tt){let nt=_e;for(let ot=0;ot<tt;ot++)nt=crcTable[(nt^et[ot])&255]^nt>>>8;return nt}function crc(_e,et){return(updateCrc(initialCrc,_e,et)^initialCrc)>>>0}var ColorType;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.GREYSCALE=0]="GREYSCALE",_e[_e.TRUECOLOUR=2]="TRUECOLOUR",_e[_e.INDEXED_COLOUR=3]="INDEXED_COLOUR",_e[_e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",_e[_e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.NO_INTERLACE=0]="NO_INTERLACE",_e[_e.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer{constructor(et,tt={}){super(et);const{checkCrc:nt=!1}=tt;this._checkCrc=nt,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let et=0;et<pngSignature.length;et++)if(this.readUint8()!==pngSignature[et])throw new Error(`wrong PNG signature. Byte at ${et} should be ${pngSignature[et]}.`)}decodeChunk(){const et=this.readUint32(),tt=this.readChars(4),nt=this.offset;switch(tt){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(et);break;case"IDAT":this.decodeIDAT(et);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(et);break;case"iCCP":this.decodeiCCP(et);break;case"tEXt":this.decodetEXt(et);break;case"pHYs":this.decodepHYs();break;default:this.skip(et);break}if(this.offset-nt!==et)throw new Error(`Length mismatch while decoding chunk ${tt}`);if(this._checkCrc){const ot=this.readUint32(),it=et+4,lt=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-it-4,it),it);if(lt!==ot)throw new Error(`CRC mismatch for chunk ${tt}. Expected ${ot}, found ${lt}`)}else this.skip(4)}decodeIHDR(){const et=this._png;et.width=this.readUint32(),et.height=this.readUint32(),et.depth=checkBitDepth(this.readUint8());const tt=this.readUint8();this._colorType=tt;let nt;switch(tt){case ColorType.GREYSCALE:nt=1;break;case ColorType.TRUECOLOUR:nt=3;break;case ColorType.INDEXED_COLOUR:nt=1;break;case ColorType.GREYSCALE_ALPHA:nt=2;break;case ColorType.TRUECOLOUR_ALPHA:nt=4;break;default:throw new Error(`Unknown color type: ${tt}`)}if(this._png.channels=nt,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(et){if(et%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${et}`);const tt=et/3;this._hasPalette=!0;const nt=[];this._palette=nt;for(let ot=0;ot<tt;ot++)nt.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(et){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,et)),this.skip(et)}decodetRNS(et){if(this._colorType===3){if(et>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${et} vs ${this._palette.length})`);let tt=0;for(;tt<et;tt++){const nt=this.readByte();this._palette[tt].push(nt)}for(;tt<this._palette.length;tt++)this._palette[tt].push(255)}}decodeiCCP(et){let tt="",nt;for(;(nt=this.readChar())!==NULL;)tt+=nt;const ot=this.readUint8();if(ot!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${ot}`);const it=this.readBytes(et-tt.length-2);this._png.iccEmbeddedProfile={name:tt,profile:inflate_1(it)}}decodetEXt(et){let tt="",nt;for(;(nt=this.readChar())!==NULL;)tt+=nt;this._png.text[tt]=this.readChars(et-tt.length-1)}decodepHYs(){const et=this.readUint32(),tt=this.readUint32(),nt=this.readByte();this._png.resolution={x:et,y:tt,unit:nt}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const et=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(et);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(et){const tt=this._png.height,nt=this._png.channels*this._png.depth/8,ot=this._png.width*nt,it=new Uint8Array(this._png.height*ot);let lt=empty,at=0,st,ut;for(let ct=0;ct<tt;ct++){switch(st=et.subarray(at+1,at+1+ot),ut=it.subarray(ct*ot,(ct+1)*ot),et[at]){case 0:unfilterNone(st,ut,ot);break;case 1:unfilterSub(st,ut,ot,nt);break;case 2:unfilterUp(st,ut,lt,ot);break;case 3:unfilterAverage(st,ut,lt,ot,nt);break;case 4:unfilterPaeth(st,ut,lt,ot,nt);break;default:throw new Error(`Unsupported filter: ${et[at]}`)}lt=ut,at+=ot+1}if(this._hasPalette&&(this._png.palette=this._palette),this._png.depth===16){const ct=new Uint16Array(it.buffer);if(osIsLittleEndian)for(let ft=0;ft<ct.length;ft++)ct[ft]=swap16(ct[ft]);this._png.data=ct}else this._png.data=it}}function unfilterNone(_e,et,tt){for(let nt=0;nt<tt;nt++)et[nt]=_e[nt]}function unfilterSub(_e,et,tt,nt){let ot=0;for(;ot<nt;ot++)et[ot]=_e[ot];for(;ot<tt;ot++)et[ot]=_e[ot]+et[ot-nt]&255}function unfilterUp(_e,et,tt,nt){let ot=0;if(tt.length===0)for(;ot<nt;ot++)et[ot]=_e[ot];else for(;ot<nt;ot++)et[ot]=_e[ot]+tt[ot]&255}function unfilterAverage(_e,et,tt,nt,ot){let it=0;if(tt.length===0){for(;it<ot;it++)et[it]=_e[it];for(;it<nt;it++)et[it]=_e[it]+(et[it-ot]>>1)&255}else{for(;it<ot;it++)et[it]=_e[it]+(tt[it]>>1)&255;for(;it<nt;it++)et[it]=_e[it]+(et[it-ot]+tt[it]>>1)&255}}function unfilterPaeth(_e,et,tt,nt,ot){let it=0;if(tt.length===0){for(;it<ot;it++)et[it]=_e[it];for(;it<nt;it++)et[it]=_e[it]+et[it-ot]&255}else{for(;it<ot;it++)et[it]=_e[it]+tt[it]&255;for(;it<nt;it++)et[it]=_e[it]+paethPredictor(et[it-ot],tt[it],tt[it-ot])&255}}function paethPredictor(_e,et,tt){const nt=_e+et-tt,ot=Math.abs(nt-_e),it=Math.abs(nt-et),lt=Math.abs(nt-tt);return ot<=it&&ot<=lt?_e:it<=lt?et:tt}function swap16(_e){return(_e&255)<<8|_e>>8&255}function checkBitDepth(_e){if(_e!==1&&_e!==2&&_e!==4&&_e!==8&&_e!==16)throw new Error(`invalid bit depth: ${_e}`);return _e}var ResolutionUnitSpecifier;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng$1(_e,et){return new PngDecoder(_e,et).decode()}function decodePng(_e){const et=decodePng$1(_e);let tt;const nt=et.depth===16?ColorDepth.UINT16:ColorDepth.UINT8;if(et.palette)return loadPalettePng(et);switch(et.channels){case 1:tt=ImageColorModel.GREY;break;case 2:tt=ImageColorModel.GREYA;break;case 3:tt=ImageColorModel.RGB;break;case 4:tt=ImageColorModel.RGBA;break;default:throw new Error(`Unexpected number of channels: ${et.channels}`)}return new Image(et.width,et.height,{colorModel:tt,depth:nt,data:et.data})}function loadPalettePng(_e){if(!_e.palette)throw new Error("unexpected: there should be a palette when colourType is 3");const et=_e.width*_e.height,tt=new Uint8Array(et*3),nt=8/_e.depth,ot=_e.depth<8?nt:1,it=Number.parseInt("1".repeat(_e.depth),2);let lt=0;for(let at=0;at<et;at++){const st=Math.floor(at/ot);let ut=_e.data[st];_e.depth<8&&(ut=ut>>>_e.depth*(nt-1-at%nt)&it);const ct=_e.palette[ut];tt[lt++]=ct[0],tt[lt++]=ct[1],tt[lt++]=ct[2]}return new Image(_e.width,_e.height,{data:tt})}function guessStripByteCounts(_e){if(_e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const et=_e.rowsPerStrip*_e.width*_e.samplesPerPixel*(_e.bitsPerSample/8);return new Array(_e.stripOffsets.length).fill(et)}function applyHorizontalDifferencing8Bit(_e,et,tt){let nt=0;for(;nt<_e.length;){for(let ot=tt;ot<et*tt;ot+=tt)for(let it=0;it<tt;it++)_e[nt+ot+it]=_e[nt+ot+it]+_e[nt+ot-(tt-it)]&255;nt+=et*tt}}function applyHorizontalDifferencing16Bit(_e,et,tt){let nt=0;for(;nt<_e.length;){for(let ot=tt;ot<et*tt;ot+=tt)for(let it=0;it<tt;it++)_e[nt+ot+it]=_e[nt+ot+it]+_e[nt+ot-(tt-it)]&65535;nt+=et*tt}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let _e in tagsById$2)tagsByName$2[tagsById$2[_e]]=Number(_e);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let _e in tagsById$1)tagsByName$1[tagsById$1[_e]]=Number(_e);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let _e in tagsById)tagsByName[tagsById[_e]]=Number(_e);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(et){if(!et)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=et,this._hasMap=!1,this._map={}}get(et){if(typeof et=="number")return this.fields.get(et);if(typeof et=="string")return this.fields.get(tags[this.kind].tagsByName[et]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const et=tags[this.kind].tagsById;for(let tt of this.fields.keys())et[tt]&&(this._map[et[tt]]=this.fields.get(tt));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(_e,et){const tt=types.get(_e);if(!tt)throw new Error(`type not found: ${_e}`);return tt[0]*et}function readData(_e,et,tt){const nt=types.get(et);if(!nt)throw new Error(`type not found: ${et}`);return nt[1](_e,tt)}function readByte(_e,et){if(et===1)return _e.readUint8();let tt=new Uint8Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint8();return tt}function readASCII(_e,et){let tt=[],nt="";for(let ot=0;ot<et;ot++){let it=String.fromCharCode(_e.readUint8());it==="\0"?(tt.push(nt),nt=""):nt+=it}return tt.length===1?tt[0]:tt}function readShort(_e,et){if(et===1)return _e.readUint16();let tt=new Uint16Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint16();return tt}function readLong(_e,et){if(et===1)return _e.readUint32();let tt=new Uint32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint32();return tt}function readRational(_e,et){if(et===1)return _e.readUint32()/_e.readUint32();let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint32()/_e.readUint32();return tt}function readSByte(_e,et){if(et===1)return _e.readInt8();let tt=new Int8Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt8();return tt}function readSShort(_e,et){if(et===1)return _e.readInt16();let tt=new Int16Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt16();return tt}function readSLong(_e,et){if(et===1)return _e.readInt32();let tt=new Int32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt32();return tt}function readSRational(_e,et){if(et===1)return _e.readInt32()/_e.readInt32();let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt32()/_e.readInt32();return tt}function readFloat(_e,et){if(et===1)return _e.readFloat32();let tt=new Float32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readFloat32();return tt}function readDouble(_e,et){if(et===1)return _e.readFloat64();let tt=new Float64Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readFloat64();return tt}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let et=0;et<256;et++)stringTable.push([et]);const _e=[];for(let et=256;et<4096;et++)stringTable.push(_e)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(et){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(et.buffer,et.byteOffset,et.byteLength),this.outData=new IOBuffer(et.byteLength),this.initializeTable()}decode(){let et=0,tt=0;for(;(et=this.getNextCode())!==EOI_CODE;)if(et===CLEAR_CODE){if(this.initializeTable(),et=this.getNextCode(),et===EOI_CODE)break;this.writeString(this.stringFromCode(et)),tt=et}else if(this.isInTable(et))this.writeString(this.stringFromCode(et)),this.addStringToTable(this.stringFromCode(tt).concat(this.stringFromCode(et)[0])),tt=et;else{const ot=this.stringFromCode(tt).concat(this.stringFromCode(tt)[0]);this.writeString(ot),this.addStringToTable(ot),tt=et}const nt=this.outData.toArray();return new DataView(nt.buffer,nt.byteOffset,nt.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(et){this.outData.writeBytes(et)}stringFromCode(et){return stringTable[et]}isInTable(et){return et<this.tableLength}addStringToTable(et){if(stringTable[this.tableLength++]=et,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const et=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:et}}function decompressLzw(_e){return new LzwDecoder(_e).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let et=new Date,tt=dateTimeRegex.exec(this.dateTime);if(tt===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return et.setFullYear(Number(tt[1]),Number(tt[2])-1,Number(tt[3])),et.setHours(Number(tt[4]),Number(tt[5]),Number(tt[6])),et}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const et=this.get("BitsPerSample");return et&&typeof et!="number"?et[0]:et}get alpha(){const et=this.extraSamples;return et?et[0]!==0:!1}get associatedAlpha(){const et=this.extraSamples;return et?et[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const et=2**this.bitsPerSample,tt=this.get("ColorMap");if(!tt)return;if(tt.length!==3*et)throw new Error(`ColorMap size must be ${et}`);const nt=[];for(let ot=0;ot<et;ot++)nt.push([tt[ot],tt[ot+et],tt[ot+2*et]]);return nt}}function alwaysArray(_e){return typeof _e=="number"?[_e]:_e}function decompressZlib(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=inflate_1(et);return new DataView(tt.buffer,tt.byteOffset,tt.byteLength)}const defaultOptions={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer{constructor(et){super(et),this._nextIFD=0}get isMultiPage(){let et=0;for(this.decodeHeader();this._nextIFD;)if(et++,this.decodeIFD({ignoreImageData:!0},!0),et===2)return!0;if(et===1)return!1;throw unsupported("ifdCount",et)}get pageCount(){let et=0;for(this.decodeHeader();this._nextIFD;)et++,this.decodeIFD({ignoreImageData:!0},!0);if(et>0)return et;throw unsupported("ifdCount",et)}decode(et={}){et=Object.assign({},defaultOptions,et);const tt=[];for(this.decodeHeader();this._nextIFD;)if(tt.push(this.decodeIFD(et,!0)),et.onlyFirst)return[tt[0]];return tt}decodeHeader(){const et=this.readUint16();if(et===18761)this.setLittleEndian();else if(et===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${et.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(et,tt){this.seek(this._nextIFD);let nt;if(tt)nt=new TiffIfd;else{if(!et.kind)throw new Error("kind is missing");nt=new IFD(et.kind)}const ot=this.readUint16();for(let it=0;it<ot;it++)this.decodeIFDEntry(nt);if(!et.ignoreImageData){if(!(nt instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(nt)}return this._nextIFD=this.readUint32(),nt}decodeIFDEntry(et){const tt=this.offset,nt=this.readUint16(),ot=this.readUint16(),it=this.readUint32();if(ot<1||ot>12){this.skip(4);return}getByteLength(ot,it)>4&&this.seek(this.readUint32());const at=readData(this,ot,it);if(et.fields.set(nt,at),nt===34665||nt===34853){let st=this.offset,ut="exif";nt===34665?ut="exif":nt===34853&&(ut="gps"),this._nextIFD=at,et[ut]=this.decodeIFD({kind:ut,ignoreImageData:!0},!1),this.offset=st}this.seek(tt),this.skip(12)}decodeImageData(et){const tt=et.orientation;if(tt&&tt!==1)throw unsupported("orientation",tt);switch(et.type){case 0:case 1:case 2:case 3:this.readStripData(et);break;default:throw unsupported("image type",et.type)}if(this.applyPredictor(et),this.convertAlpha(et),et.type===0){const nt=et.bitsPerSample,ot=Math.pow(2,nt)-1;for(let it=0;it<et.data.length;it++)et.data[it]=ot-et.data[it]}}readStripData(et){const tt=et.width,nt=et.height,ot=et.bitsPerSample,it=et.sampleFormat,lt=tt*nt*et.samplesPerPixel,at=getDataArray(lt,ot,it),ut=et.rowsPerStrip*tt*et.samplesPerPixel,ct=et.stripOffsets,ft=et.stripByteCounts||guessStripByteCounts(et);let dt=lt,ht=0;for(let gt=0;gt<ct.length;gt++){let yt=new DataView(this.buffer,this.byteOffset+ct[gt],ft[gt]),Et=dt>ut?ut:dt;dt-=Et;let mt=yt;switch(et.compression){case 1:break;case 5:{mt=decompressLzw(yt);break}case 8:{mt=decompressZlib(yt);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",et.compression)}ht=this.fillUncompressed(ot,it,at,mt,ht,Et)}et.data=at}fillUncompressed(et,tt,nt,ot,it,lt){if(et===8)return fill8bit(nt,ot,it,lt);if(et===16)return fill16bit(nt,ot,it,lt,this.isLittleEndian());if(et===32&&tt===3)return fillFloat32(nt,ot,it,lt,this.isLittleEndian());throw unsupported("bitDepth",et)}applyPredictor(et){const tt=et.bitsPerSample;switch(et.predictor){case 1:break;case 2:{if(tt===8)applyHorizontalDifferencing8Bit(et.data,et.width,et.components);else if(tt===16)applyHorizontalDifferencing16Bit(et.data,et.width,et.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${tt}`);break}default:throw new Error(`invalid predictor: ${et.predictor}`)}}convertAlpha(et){if(et.alpha&&et.associatedAlpha){const{data:tt,components:nt,maxSampleValue:ot}=et;for(let it=0;it<tt.length;it+=nt){const lt=tt[it+nt-1];for(let at=0;at<nt-1;at++)tt[it+at]=Math.round(tt[it+at]*ot/lt)}}}}function getDataArray(_e,et,tt){if(et===8)return new Uint8Array(_e);if(et===16)return new Uint16Array(_e);if(et===32&&tt===3)return new Float32Array(_e);throw unsupported("bit depth / sample format",`${et} / ${tt}`)}function fill8bit(_e,et,tt,nt){for(let ot=0;ot<nt;ot++)_e[tt++]=et.getUint8(ot);return tt}function fill16bit(_e,et,tt,nt,ot){for(let it=0;it<nt*2;it+=2)_e[tt++]=et.getUint16(it,ot);return tt}function fillFloat32(_e,et,tt,nt,ot){for(let it=0;it<nt*4;it+=4)_e[tt++]=et.getFloat32(it,ot);return tt}function unsupported(_e,et){return new Error(`Unsupported ${_e}: ${et}`)}function decodeTIFF(_e,et){return new TIFFDecoder(_e).decode(et)}function decodeTiff(_e){let et=decodeTIFF(_e);return getImageFromIFD(et[0])}function getImageFromIFD(_e){if(_e.type===3){const et=new Uint16Array(3*_e.width*_e.height),tt=_e.palette;let nt=0;for(let ot of _e.data){const it=tt[ot];et[nt++]=it[0],et[nt++]=it[1],et[nt++]=it[2]}return new Image(_e.width,_e.height,{data:et,colorModel:_e.alpha?ImageColorModel.RGBA:ImageColorModel.RGB,depth:16})}else return new Image(_e.width,_e.height,{data:_e.data,depth:_e.bitsPerSample,colorModel:_e.type===2?_e.alpha?ImageColorModel.RGBA:ImageColorModel.RGB:_e.alpha?ImageColorModel.GREYA:ImageColorModel.GREY})}function decode(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=imageTypeExports(et);switch(tt==null?void 0:tt.mime){case"image/png":return decodePng(et);case"image/jpeg":return decodeJpeg(et);case"image/tiff":return decodeTiff(et);default:throw new Error("unrecognized data format")}}function getBorderPoints(_e,et={}){return _e.getMask().getBorderPoints(et)}function getMask(_e,et={}){const{innerBorders:tt=!0}=et;let nt=new Mask(_e.width,_e.height,{origin:_e.origin});for(let ot=0;ot<_e.height;ot++)for(let it=0;it<_e.width;it++)_e.getMapValue(_e.origin.column+it,_e.origin.row+ot)===_e.id?nt.setBit(it,ot,1):nt.setBit(it,ot,0);return tt||nt.solidFill({out:nt}),nt}class Roi{constructor(et,tt){this.map=et,this.id=tt,this.origin={row:et.height,column:et.width},this.width=0,this.height=0,this.surface=0}getMap(){return this.map}getMapValue(et,tt){return this.map.data[this.map.width*tt+et]}getRatio(){return this.width/this.height}getMask(et){return getMask(this,et)}getBorderPoints(et){return getBorderPoints(this,et)}}function computeRois(_e){const et=_e.getMap(),tt=new Array(et.nbPositive),nt=new Array(et.nbNegative);for(let ot=0;ot<et.nbPositive;ot++)tt[ot]={minRow:et.height,minColumn:et.width,maxRow:-1,maxColumn:-1,surface:0,id:ot+1};for(let ot=0;ot<et.nbNegative;ot++)nt[ot]={minRow:et.height,minColumn:et.width,maxRow:-1,maxColumn:-1,surface:0,id:-ot-1};for(let ot=0;ot<et.height;ot++)for(let it=0;it<et.width;it++){let lt=_e.getMapValue(it,ot),at;lt<0?at=nt[-lt-1]:at=tt[lt-1],at.surface++,ot<at.minRow&&(at.minRow=ot),ot>at.maxRow&&(at.maxRow=ot),it<at.minColumn&&(at.minColumn=it),it>at.maxColumn&&(at.maxColumn=it)}_e.whiteRois=new Array(et.nbPositive),_e.blackRois=new Array(et.nbNegative);for(let ot=0;ot<et.nbPositive;ot++){let it=new Roi(et,ot);it.origin={row:tt[ot].minRow,column:tt[ot].minColumn},it.width=tt[ot].maxColumn-tt[ot].minColumn+1,it.height=tt[ot].maxRow-tt[ot].minRow+1,it.surface=tt[ot].surface,it.id=tt[ot].id,_e.whiteRois[ot]=it}for(let ot=0;ot<et.nbNegative;ot++){let it=new Roi(et,ot);it.origin={row:nt[ot].minRow,column:nt[ot].minColumn},it.width=nt[ot].maxColumn-nt[ot].minColumn+1,it.height=nt[ot].maxRow-nt[ot].minRow+1,it.surface=nt[ot].surface,it.id=nt[ot].id,_e.blackRois[ot]=it}}var RoiKind;(function(_e){_e.BLACK="BLACK",_e.WHITE="WHITE",_e.BW="BW"})(RoiKind||(RoiKind={}));function getRois(_e,et={}){const{minSurface:tt=0,maxSurface:nt=Number.MAX_SAFE_INTEGER,kind:ot="WHITE"}=et;_e.blackRois.length===0&&_e.whiteRois.length===0&&computeRois(_e);let it;switch(ot){case RoiKind.BLACK:{it=_e.blackRois;break}case RoiKind.WHITE:{it=_e.whiteRois;break}case RoiKind.BW:{it=[..._e.whiteRois,..._e.blackRois];break}default:throw new Error("getRois: unknown ROI kind")}return it.filter(lt=>lt.surface>=tt&&lt.surface<=nt)}const maxNumberRois=2**16,maxRoiId=maxNumberRois/2;var RoisColorMode;(function(_e){_e.BINARY="BINARY",_e.SATURATION="SATURATION",_e.RAINBOW="RAINBOW"})(RoisColorMode||(RoisColorMode={}));class RoiMapManager{constructor(et){this.map=et,this.whiteRois=[],this.blackRois=[]}getMap(){return this.map}getMapValue(et,tt){return this.map.data[this.map.width*tt+et]}getMapMatrix(){return Matrix.from1DArray(this.map.height,this.map.width,this.map.data).to2DArray()}getRois(et={}){return getRois(this,et)}}function fromMask(_e,et={}){const{allowCorners:tt=!1}=et,nt=maxNumberRois-1,ot=maxRoiId-1,it=-maxRoiId;let lt=new Int16Array(_e.size),at=0,st=0,ut=new Uint16Array(maxNumberRois),ct=new Uint16Array(maxNumberRois);for(let dt=0;dt<_e.width;dt++)for(let ht=0;ht<_e.height;ht++)lt[ht*_e.width+dt]===0&&ft(dt,ht);function ft(dt,ht){let gt=0,yt=0,Et=_e.getBit(dt,ht),mt=Et?++at:--st;if(at>ot||st<it)throw new Error("Too many regions of interest");for(ut[0]=dt,ct[0]=ht;gt<=yt;){let _t=ut[gt&nt],pt=ct[gt&nt];lt[pt*_e.width+_t]=mt,_t>0&&lt[pt*_e.width+_t-1]===0&&_e.getBit(_t-1,pt)===Et&&(yt++,ut[yt&nt]=_t-1,ct[yt&nt]=pt,lt[pt*_e.width+_t-1]=it),pt>0&&lt[(pt-1)*_e.width+_t]===0&&_e.getBit(_t,pt-1)===Et&&(yt++,ut[yt&nt]=_t,ct[yt&nt]=pt-1,lt[(pt-1)*_e.width+_t]=it),_t<_e.width-1&&lt[pt*_e.width+_t+1]===0&&_e.getBit(_t+1,pt)===Et&&(yt++,ut[yt&nt]=_t+1,ct[yt&nt]=pt,lt[pt*_e.width+_t+1]=it),pt<_e.height-1&&lt[(pt+1)*_e.width+_t]===0&&_e.getBit(_t,pt+1)===Et&&(yt++,ut[yt&nt]=_t,ct[yt&nt]=pt+1,lt[(pt+1)*_e.width+_t]=it),tt&&(_t>0&&pt>0&&lt[(pt-1)*_e.width+_t-1]===0&&_e.getBit(_t-1,pt-1)===Et&&(yt++,ut[yt&nt]=_t-1,ct[yt&nt]=pt-1,lt[(pt-1)*_e.width+_t-1]=it),_t<_e.width-1&&pt>0&&lt[(pt-1)*_e.width+_t+1]===0&&_e.getBit(_t+1,pt-1)===Et&&(yt++,ut[yt&nt]=_t+1,ct[yt&nt]=pt-1,lt[(pt-1)*_e.width+_t+1]=it),_t>0&&pt<_e.height-1&&lt[(pt+1)*_e.width+_t-1]===0&&_e.getBit(_t-1,pt+1)===Et&&(yt++,ut[yt&nt]=_t-1,ct[yt&nt]=pt+1,lt[(pt+1)*_e.width+_t-1]=it),_t<_e.width-1&&pt<_e.height-1&&lt[(pt+1)*_e.width+_t+1]===0&&_e.getBit(_t+1,pt+1)===Et&&(yt++,ut[yt&nt]=_t+1,ct[yt&nt]=pt+1,lt[(pt+1)*_e.width+_t+1]=it)),gt++,assert(yt-gt<=nt,"fromMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMapManager({width:_e.width,height:_e.height,data:lt,nbNegative:Math.abs(st),nbPositive:at})}var ImageFormat;(function(_e){_e.png="png",_e.jpg="jpg",_e.jpeg="jpeg"})(ImageFormat||(ImageFormat={}));ImageFormat.png;function writeCanvas(_e,et,tt={}){_e.colorModel!==ImageColorModel.RGBA&&(_e=_e.convertColor(ImageColorModel.RGBA));const{resizeCanvas:nt=!0,dx:ot=0,dy:it=0,dirtyX:lt=0,dirtyY:at=0,dirtyWidth:st=_e.width,dirtyHeight:ut=_e.height}=tt;nt&&(et.width=_e.width,et.height=_e.height);const ct=et.getContext("2d");if(ct===null)throw new Error("could not get context from canvas element");const ft=_e.getRawImage().data;ct.putImageData(new ImageData(new Uint8ClampedArray(ft.buffer,ft.byteOffset,ft.byteLength),_e.width,_e.height),ot,it,lt,at,st,ut)}function n(_e){for(var et=arguments.length,tt=Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];throw Error("[Immer] minified error nr: "+_e+(tt.length?" "+tt.map(function(ot){return"'"+ot+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$1(_e){return!!_e&&!!_e[Q]}function t$1(_e){var et;return!!_e&&(function(tt){if(!tt||typeof tt!="object")return!1;var nt=Object.getPrototypeOf(tt);if(nt===null)return!0;var ot=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return ot===Object||typeof ot=="function"&&Function.toString.call(ot)===Z}(_e)||Array.isArray(_e)||!!_e[L$2]||!!(!((et=_e.constructor)===null||et===void 0)&&et[L$2])||s$5(_e)||v(_e))}function i$2(_e,et,tt){tt===void 0&&(tt=!1),o$4(_e)===0?(tt?Object.keys:nn)(_e).forEach(function(nt){tt&&typeof nt=="symbol"||et(nt,_e[nt],_e)}):_e.forEach(function(nt,ot){return et(ot,nt,_e)})}function o$4(_e){var et=_e[Q];return et?et.i>3?et.i-4:et.i:Array.isArray(_e)?1:s$5(_e)?2:v(_e)?3:0}function u$2(_e,et){return o$4(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function a$2(_e,et){return o$4(_e)===2?_e.get(et):_e[et]}function f$2(_e,et,tt){var nt=o$4(_e);nt===2?_e.set(et,tt):nt===3?_e.add(tt):_e[et]=tt}function c$1(_e,et){return _e===et?_e!==0||1/_e==1/et:_e!=_e&&et!=et}function s$5(_e){return X$1&&_e instanceof Map}function v(_e){return q$1&&_e instanceof Set}function p$2(_e){return _e.o||_e.t}function l$2(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var et=rn(_e);delete et[Q];for(var tt=nn(et),nt=0;nt<tt.length;nt++){var ot=tt[nt],it=et[ot];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(et[ot]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[ot]})}return Object.create(Object.getPrototypeOf(_e),et)}function d$2(_e,et){return et===void 0&&(et=!1),y$1(_e)||r$1(_e)||!t$1(_e)||(o$4(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$1),Object.freeze(_e),et&&i$2(_e,function(tt,nt){return d$2(nt,!0)},!0)),_e}function h$1(){n(2)}function y$1(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b(_e){var et=tn[_e];return et||n(18,_e),et}function _(){return U}function j$1(_e,et){et&&(b("Patches"),_e.u=[],_e.s=[],_e.v=et)}function O$1(_e){g$1(_e),_e.p.forEach(S),_e.p=null}function g$1(_e){_e===U&&(U=_e.l)}function w$2(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var et=_e[Q];et.i===0||et.i===1?et.j():et.O=!0}function P$1(_e,et){et._=et.p.length;var tt=et.p[0],nt=_e!==void 0&&_e!==tt;return et.h.g||b("ES5").S(et,_e,nt),nt?(tt[Q].P&&(O$1(et),n(4)),t$1(_e)&&(_e=M$1(et,_e),et.l||x(et,_e)),et.u&&b("Patches").M(tt[Q].t,_e,et.u,et.s)):_e=M$1(et,tt,[]),O$1(et),et.u&&et.v(et.u,et.s),_e!==H$1?_e:void 0}function M$1(_e,et,tt){if(y$1(et))return et;var nt=et[Q];if(!nt)return i$2(et,function(at,st){return A$1(_e,nt,et,at,st,tt)},!0),et;if(nt.A!==_e)return et;if(!nt.P)return x(_e,nt.t,!0),nt.t;if(!nt.I){nt.I=!0,nt.A._--;var ot=nt.i===4||nt.i===5?nt.o=l$2(nt.k):nt.o,it=ot,lt=!1;nt.i===3&&(it=new Set(ot),ot.clear(),lt=!0),i$2(it,function(at,st){return A$1(_e,nt,ot,at,st,tt,lt)}),x(_e,ot,!1),tt&&_e.u&&b("Patches").N(nt,tt,_e.u,_e.s)}return nt.o}function A$1(_e,et,tt,nt,ot,it,lt){if(r$1(ot)){var at=M$1(_e,ot,it&&et&&et.i!==3&&!u$2(et.R,nt)?it.concat(nt):void 0);if(f$2(tt,nt,at),!r$1(at))return;_e.m=!1}else lt&&tt.add(ot);if(t$1(ot)&&!y$1(ot)){if(!_e.h.D&&_e._<1)return;M$1(_e,ot),et&&et.A.l||x(_e,ot)}}function x(_e,et,tt){tt===void 0&&(tt=!1),!_e.l&&_e.h.D&&_e.m&&d$2(et,tt)}function z(_e,et){var tt=_e[Q];return(tt?p$2(tt):_e)[et]}function I$2(_e,et){if(et in _e)for(var tt=Object.getPrototypeOf(_e);tt;){var nt=Object.getOwnPropertyDescriptor(tt,et);if(nt)return nt;tt=Object.getPrototypeOf(tt)}}function k(_e){_e.P||(_e.P=!0,_e.l&&k(_e.l))}function E$1(_e){_e.o||(_e.o=l$2(_e.t))}function N$1(_e,et,tt){var nt=s$5(et)?b("MapSet").F(et,tt):v(et)?b("MapSet").T(et,tt):_e.g?function(ot,it){var lt=Array.isArray(ot),at={i:lt?1:0,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:ot,k:null,o:null,j:null,C:!1},st=at,ut=en;lt&&(st=[at],ut=on);var ct=Proxy.revocable(st,ut),ft=ct.revoke,dt=ct.proxy;return at.k=dt,at.j=ft,dt}(et,tt):b("ES5").J(et,tt);return(tt?tt.A:_()).p.push(nt),nt}function R(_e){return r$1(_e)||n(22,_e),function et(tt){if(!t$1(tt))return tt;var nt,ot=tt[Q],it=o$4(tt);if(ot){if(!ot.P&&(ot.i<4||!b("ES5").K(ot)))return ot.t;ot.I=!0,nt=D$1(tt,it),ot.I=!1}else nt=D$1(tt,it);return i$2(nt,function(lt,at){ot&&a$2(ot.t,lt)===at||f$2(nt,lt,et(at))}),it===3?new Set(nt):nt}(_e)}function D$1(_e,et){switch(et){case 2:return new Map(_e);case 3:return Array.from(_e)}return l$2(_e)}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$1=typeof Map<"u",q$1=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$1=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L$2=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var et={};return nn(_e).forEach(function(tt){et[tt]=Object.getOwnPropertyDescriptor(_e,tt)}),et},tn={},en={get:function(_e,et){if(et===Q)return _e;var tt=p$2(_e);if(!u$2(tt,et))return function(ot,it,lt){var at,st=I$2(it,lt);return st?"value"in st?st.value:(at=st.get)===null||at===void 0?void 0:at.call(ot.k):void 0}(_e,tt,et);var nt=tt[et];return _e.I||!t$1(nt)?nt:nt===z(_e.t,et)?(E$1(_e),_e.o[et]=N$1(_e.A.h,nt,_e)):nt},has:function(_e,et){return et in p$2(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$2(_e))},set:function(_e,et,tt){var nt=I$2(p$2(_e),et);if(nt!=null&&nt.set)return nt.set.call(_e.k,tt),!0;if(!_e.P){var ot=z(p$2(_e),et),it=ot==null?void 0:ot[Q];if(it&&it.t===tt)return _e.o[et]=tt,_e.R[et]=!1,!0;if(c$1(tt,ot)&&(tt!==void 0||u$2(_e.t,et)))return!0;E$1(_e),k(_e)}return _e.o[et]===tt&&(tt!==void 0||et in _e.o)||Number.isNaN(tt)&&Number.isNaN(_e.o[et])||(_e.o[et]=tt,_e.R[et]=!0),!0},deleteProperty:function(_e,et){return z(_e.t,et)!==void 0||et in _e.t?(_e.R[et]=!1,E$1(_e),k(_e)):delete _e.R[et],_e.o&&delete _e.o[et],!0},getOwnPropertyDescriptor:function(_e,et){var tt=p$2(_e),nt=Reflect.getOwnPropertyDescriptor(tt,et);return nt&&{writable:!0,configurable:_e.i!==1||et!=="length",enumerable:nt.enumerable,value:tt[et]}},defineProperty:function(){n(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n(12)}},on={};i$2(en,function(_e,et){on[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on.deleteProperty=function(_e,et){return on.set.call(this,_e,et,void 0)},on.set=function(_e,et,tt){return en.set.call(this,_e[0],et,tt,_e[0])};var un=function(){function _e(tt){var nt=this;this.g=B,this.D=!0,this.produce=function(ot,it,lt){if(typeof ot=="function"&&typeof it!="function"){var at=it;it=ot;var st=nt;return function(yt){var Et=this;yt===void 0&&(yt=at);for(var mt=arguments.length,_t=Array(mt>1?mt-1:0),pt=1;pt<mt;pt++)_t[pt-1]=arguments[pt];return st.produce(yt,function(wt){var vt;return(vt=it).call.apply(vt,[Et,wt].concat(_t))})}}var ut;if(typeof it!="function"&&n(6),lt!==void 0&&typeof lt!="function"&&n(7),t$1(ot)){var ct=w$2(nt),ft=N$1(nt,ot,void 0),dt=!0;try{ut=it(ft),dt=!1}finally{dt?O$1(ct):g$1(ct)}return typeof Promise<"u"&&ut instanceof Promise?ut.then(function(yt){return j$1(ct,lt),P$1(yt,ct)},function(yt){throw O$1(ct),yt}):(j$1(ct,lt),P$1(ut,ct))}if(!ot||typeof ot!="object"){if((ut=it(ot))===void 0&&(ut=ot),ut===H$1&&(ut=void 0),nt.D&&d$2(ut,!0),lt){var ht=[],gt=[];b("Patches").M(ot,ut,ht,gt),lt(ht,gt)}return ut}n(21,ot)},this.produceWithPatches=function(ot,it){if(typeof ot=="function")return function(ut){for(var ct=arguments.length,ft=Array(ct>1?ct-1:0),dt=1;dt<ct;dt++)ft[dt-1]=arguments[dt];return nt.produceWithPatches(ut,function(ht){return ot.apply(void 0,[ht].concat(ft))})};var lt,at,st=nt.produce(ot,it,function(ut,ct){lt=ut,at=ct});return typeof Promise<"u"&&st instanceof Promise?st.then(function(ut){return[ut,lt,at]}):[st,lt,at]},typeof(tt==null?void 0:tt.useProxies)=="boolean"&&this.setUseProxies(tt.useProxies),typeof(tt==null?void 0:tt.autoFreeze)=="boolean"&&this.setAutoFreeze(tt.autoFreeze)}var et=_e.prototype;return et.createDraft=function(tt){t$1(tt)||n(8),r$1(tt)&&(tt=R(tt));var nt=w$2(this),ot=N$1(this,tt,void 0);return ot[Q].C=!0,g$1(nt),ot},et.finishDraft=function(tt,nt){var ot=tt&&tt[Q],it=ot.A;return j$1(it,nt),P$1(void 0,it)},et.setAutoFreeze=function(tt){this.D=tt},et.setUseProxies=function(tt){tt&&!B&&n(20),this.g=tt},et.applyPatches=function(tt,nt){var ot;for(ot=nt.length-1;ot>=0;ot--){var it=nt[ot];if(it.path.length===0&&it.op==="replace"){tt=it.value;break}}ot>-1&&(nt=nt.slice(ot+1));var lt=b("Patches").$;return r$1(tt)?lt(tt,nt):this.produce(tt,function(at){return lt(at,nt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const defaultDataValue={image:void 0};function getDataActions(_e,et){return{loadImage:async(tt="/test/good.jpg")=>{const ot=await(await fetch(tt)).arrayBuffer(),it=decode(new Uint8Array(ot));et(fn(lt=>{lt.data.image=it}))}}}const DataContext=reactExports.createContext({data:{image:null},actions:{}}),GlobalContext=reactExports.createContext({});function LoadImage(){const _e=reactExports.useContext(DataContext);return jsxs("select",{onChange:et=>_e.actions.loadImage(et.target.value),children:[jsx("option",{value:""}),jsx("option",{value:"/test/good.jpg",children:"good.jpg"}),jsx("option",{value:"/test/overlap.jpg",children:"overlap.jpg"})]})}var i$1=Object.defineProperty,d$1=(_e,et,tt)=>et in _e?i$1(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt,r=(_e,et,tt)=>(d$1(_e,typeof et!="symbol"?et+"":et,tt),tt);let o$3=class{constructor(){r(this,"current",this.detect()),r(this,"handoffState","pending"),r(this,"currentId",0)}set(et){this.current!==et&&(this.handoffState="pending",this.currentId=0,this.current=et)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$4=new o$3,l$1=(_e,et)=>{s$4.isServer?reactExports.useEffect(_e,et):reactExports.useLayoutEffect(_e,et)};function s$3(_e){let et=reactExports.useRef(_e);return l$1(()=>{et.current=_e},[_e]),et}function t(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch(et=>setTimeout(()=>{throw et}))}let o$2=function(_e){let et=s$3(_e);return React.useCallback((...tt)=>et.current(...tt),[et])};function l(){let[_e,et]=reactExports.useState(s$4.isHandoffComplete);return _e&&s$4.isHandoffComplete===!1&&et(!1),reactExports.useEffect(()=>{_e!==!0&&et(!0)},[_e]),reactExports.useEffect(()=>s$4.handoff(),[]),_e}var o$1;let I$1=(o$1=React.useId)!=null?o$1:function(){let _e=l(),[et,tt]=React.useState(_e?()=>s$4.nextId():null);return l$1(()=>{et===null&&tt(s$4.nextId())},[et]),et!=null?""+et:void 0};function u$1(_e,et,...tt){if(_e in et){let ot=et[_e];return typeof ot=="function"?ot(...tt):ot}let nt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys(et).map(ot=>`"${ot}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(nt,u$1),nt}function e$1(_e){return s$4.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}let f$1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var L$1=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e))(L$1||{}),N=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(N||{}),T=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(T||{});function E(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$1)).sort((et,tt)=>Math.sign((et.tabIndex||Number.MAX_SAFE_INTEGER)-(tt.tabIndex||Number.MAX_SAFE_INTEGER)))}var F=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(F||{});let H=["textarea","input"].join(",");function w$1(_e){var et,tt;return(tt=(et=_e==null?void 0:_e.matches)==null?void 0:et.call(_e,H))!=null?tt:!1}function A(_e,et=tt=>tt){return _e.slice().sort((tt,nt)=>{let ot=et(tt),it=et(nt);if(ot===null||it===null)return 0;let lt=ot.compareDocumentPosition(it);return lt&Node.DOCUMENT_POSITION_FOLLOWING?-1:lt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function I(_e,et,{sorted:tt=!0,relativeTo:nt=null,skipElements:ot=[]}={}){let it=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,lt=Array.isArray(_e)?tt?A(_e):_e:E(_e);ot.length>0&&lt.length>1&&(lt=lt.filter(ht=>!ot.includes(ht))),nt=nt??it.activeElement;let at=(()=>{if(et&5)return 1;if(et&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),st=(()=>{if(et&1)return 0;if(et&2)return Math.max(0,lt.indexOf(nt))-1;if(et&4)return Math.max(0,lt.indexOf(nt))+1;if(et&8)return lt.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),ut=et&32?{preventScroll:!0}:{},ct=0,ft=lt.length,dt;do{if(ct>=ft||ct+ft<=0)return 0;let ht=st+ct;if(et&16)ht=(ht+ft)%ft;else{if(ht<0)return 3;if(ht>=ft)return 1}dt=lt[ht],dt==null||dt.focus(ut),ct+=at}while(dt!==it.activeElement);return et&6&&w$1(dt)&&dt.select(),dt.hasAttribute("tabindex")||dt.setAttribute("tabindex","0"),2}function i(_e){var et;if(_e.type)return _e.type;let tt=(et=_e.as)!=null?et:"button";if(typeof tt=="string"&&tt.toLowerCase()==="button")return"button"}function s$2(_e,et){let[tt,nt]=reactExports.useState(()=>i(_e));return l$1(()=>{nt(i(_e))},[_e.type,_e.as]),l$1(()=>{tt||et.current&&et.current instanceof HTMLButtonElement&&!et.current.hasAttribute("type")&&nt("button")},[tt,et]),tt}let u=Symbol();function y(..._e){let et=reactExports.useRef(_e);reactExports.useEffect(()=>{et.current=_e},[_e]);let tt=o$2(nt=>{for(let ot of et.current)ot!=null&&(typeof ot=="function"?ot(nt):ot.current=nt)});return _e.every(nt=>nt==null||(nt==null?void 0:nt[u]))?void 0:tt}function e(..._e){return _e.filter(Boolean).join(" ")}var j=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(j||{}),w=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(w||{});function D({ourProps:_e,theirProps:et,slot:tt,defaultTag:nt,features:ot,visible:it=!0,name:lt}){let at=h(et,_e);if(it)return m(at,tt,nt,lt);let st=ot??0;if(st&2){let{static:ut=!1,...ct}=at;if(ut)return m(ct,tt,nt,lt)}if(st&1){let{unmount:ut=!0,...ct}=at;return u$1(ut?0:1,{[0](){return null},[1](){return m({...ct,hidden:!0,style:{display:"none"}},tt,nt,lt)}})}return m(at,tt,nt,lt)}function m(_e,et={},tt,nt){var ot;let{as:it=tt,children:lt,refName:at="ref",...st}=g(_e,["unmount","static"]),ut=_e.ref!==void 0?{[at]:_e.ref}:{},ct=typeof lt=="function"?lt(et):lt;"className"in st&&st.className&&typeof st.className=="function"&&(st.className=st.className(et));let ft={};if(et){let dt=!1,ht=[];for(let[gt,yt]of Object.entries(et))typeof yt=="boolean"&&(dt=!0),yt===!0&&ht.push(gt);dt&&(ft["data-headlessui-state"]=ht.join(" "))}if(it===reactExports.Fragment&&Object.keys(P(st)).length>0){if(!reactExports.isValidElement(ct)||Array.isArray(ct)&&ct.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${nt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(st).map(gt=>`  - ${gt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(gt=>`  - ${gt}`).join(`
`)].join(`
`));let dt=e((ot=ct.props)==null?void 0:ot.className,st.className),ht=dt?{className:dt}:{};return reactExports.cloneElement(ct,Object.assign({},h(ct.props,P(g(st,["ref"]))),ft,ut,O(ct.ref,ut.ref),ht))}return reactExports.createElement(it,Object.assign({},g(st,["ref"]),it!==reactExports.Fragment&&ut,it!==reactExports.Fragment&&ft),ct)}function O(..._e){return{ref:_e.every(et=>et==null)?void 0:et=>{for(let tt of _e)tt!=null&&(typeof tt=="function"?tt(et):tt.current=et)}}}function h(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let et={},tt={};for(let nt of _e)for(let ot in nt)ot.startsWith("on")&&typeof nt[ot]=="function"?(tt[ot]!=null||(tt[ot]=[]),tt[ot].push(nt[ot])):et[ot]=nt[ot];if(et.disabled||et["aria-disabled"])return Object.assign(et,Object.fromEntries(Object.keys(tt).map(nt=>[nt,void 0])));for(let nt in tt)Object.assign(et,{[nt](ot,...it){let lt=tt[nt];for(let at of lt){if((ot instanceof Event||(ot==null?void 0:ot.nativeEvent)instanceof Event)&&ot.defaultPrevented)return;at(ot,...it)}}});return et}function L(_e){var et;return Object.assign(reactExports.forwardRef(_e),{displayName:(et=_e.displayName)!=null?et:_e.name})}function P(_e){let et=Object.assign({},_e);for(let tt in et)et[tt]===void 0&&delete et[tt];return et}function g(_e,et=[]){let tt=Object.assign({},_e);for(let nt of et)nt in tt&&delete tt[nt];return tt}let a$1="div";var p$1=(_e=>(_e[_e.None=1]="None",_e[_e.Focusable=2]="Focusable",_e[_e.Hidden=4]="Hidden",_e))(p$1||{});function s$1(_e,et){let{features:tt=1,...nt}=_e,ot={ref:et,"aria-hidden":(tt&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(tt&4)===4&&(tt&2)!==2&&{display:"none"}}};return D({ourProps:ot,theirProps:nt,slot:{},defaultTag:a$1,name:"Hidden"})}let c=L(s$1);var o=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o||{});function p({onFocus:_e}){let[et,tt]=reactExports.useState(!0);return et?React.createElement(c,{as:"button",type:"button",features:p$1.Focusable,onFocus:nt=>{nt.preventDefault();let ot,it=50;function lt(){if(it--<=0){ot&&cancelAnimationFrame(ot);return}if(_e()){tt(!1),cancelAnimationFrame(ot);return}ot=requestAnimationFrame(lt)}ot=requestAnimationFrame(lt)}}):null}const s=reactExports.createContext(null);function a(){return{groups:new Map,get(_e,et){var tt;let nt=this.groups.get(_e);nt||(nt=new Map,this.groups.set(_e,nt));let ot=(tt=nt.get(et))!=null?tt:0;nt.set(et,ot+1);let it=Array.from(nt.keys()).indexOf(et);function lt(){let at=nt.get(et);at>1?nt.set(et,at-1):nt.delete(et)}return[it,lt]}}}function C({children:_e}){let et=reactExports.useRef(a());return reactExports.createElement(s.Provider,{value:et},_e)}function d(_e){let et=reactExports.useContext(s);if(!et)throw new Error("You must wrap your component in a <StableCollection>");let tt=f(),[nt,ot]=et.current.get(_e,tt);return reactExports.useEffect(()=>ot,[]),nt}function f(){var _e,et,tt;let nt=(tt=(et=(_e=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:_e.ReactCurrentOwner)==null?void 0:et.current)!=null?tt:null;if(!nt)return Symbol();let ot=[],it=nt;for(;it;)ot.push(it.index),it=it.return;return"$."+ot.join(".")}var ue=(_e=>(_e[_e.Forwards=0]="Forwards",_e[_e.Backwards=1]="Backwards",_e))(ue||{}),Te=(_e=>(_e[_e.Less=-1]="Less",_e[_e.Equal=0]="Equal",_e[_e.Greater=1]="Greater",_e))(Te||{}),de=(_e=>(_e[_e.SetSelectedIndex=0]="SetSelectedIndex",_e[_e.RegisterTab=1]="RegisterTab",_e[_e.UnregisterTab=2]="UnregisterTab",_e[_e.RegisterPanel=3]="RegisterPanel",_e[_e.UnregisterPanel=4]="UnregisterPanel",_e))(de||{});let ce={[0](_e,et){var tt;let nt=A(_e.tabs,ct=>ct.current),ot=A(_e.panels,ct=>ct.current),it=nt.filter(ct=>{var ft;return!((ft=ct.current)!=null&&ft.hasAttribute("disabled"))}),lt={..._e,tabs:nt,panels:ot};if(et.index<0||et.index>nt.length-1){let ct=u$1(Math.sign(et.index-_e.selectedIndex),{[-1]:()=>1,[0]:()=>u$1(Math.sign(et.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});return it.length===0?lt:{...lt,selectedIndex:u$1(ct,{[0]:()=>nt.indexOf(it[0]),[1]:()=>nt.indexOf(it[it.length-1])})}}let at=nt.slice(0,et.index),st=[...nt.slice(et.index),...at].find(ct=>it.includes(ct));if(!st)return lt;let ut=(tt=nt.indexOf(st))!=null?tt:_e.selectedIndex;return ut===-1&&(ut=_e.selectedIndex),{...lt,selectedIndex:ut}},[1](_e,et){var tt;if(_e.tabs.includes(et.tab))return _e;let nt=_e.tabs[_e.selectedIndex],ot=A([..._e.tabs,et.tab],lt=>lt.current),it=(tt=ot.indexOf(nt))!=null?tt:_e.selectedIndex;return it===-1&&(it=_e.selectedIndex),{..._e,tabs:ot,selectedIndex:it}},[2](_e,et){return{..._e,tabs:_e.tabs.filter(tt=>tt!==et.tab)}},[3](_e,et){return _e.panels.includes(et.panel)?_e:{..._e,panels:A([..._e.panels,et.panel],tt=>tt.current)}},[4](_e,et){return{..._e,panels:_e.panels.filter(tt=>tt!==et.panel)}}},X=reactExports.createContext(null);X.displayName="TabsDataContext";function M(_e){let et=reactExports.useContext(X);if(et===null){let tt=new Error(`<${_e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,M),tt}return et}let $=reactExports.createContext(null);$.displayName="TabsActionsContext";function q(_e){let et=reactExports.useContext($);if(et===null){let tt=new Error(`<${_e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,q),tt}return et}function fe(_e,et){return u$1(et.type,ce,_e,et)}let be=reactExports.Fragment;function me(_e,et){let{defaultIndex:tt=0,vertical:nt=!1,manual:ot=!1,onChange:it,selectedIndex:lt=null,...at}=_e;const st=nt?"vertical":"horizontal",ut=ot?"manual":"auto";let ct=lt!==null,ft=y(et),[dt,ht]=reactExports.useReducer(fe,{selectedIndex:lt??tt,tabs:[],panels:[]}),gt=reactExports.useMemo(()=>({selectedIndex:dt.selectedIndex}),[dt.selectedIndex]),yt=s$3(it||(()=>{})),Et=s$3(dt.tabs),mt=reactExports.useMemo(()=>({orientation:st,activation:ut,...dt}),[st,ut,dt]),_t=o$2(St=>(ht({type:1,tab:St}),()=>ht({type:2,tab:St}))),pt=o$2(St=>(ht({type:3,panel:St}),()=>ht({type:4,panel:St}))),wt=o$2(St=>{vt.current!==St&&yt.current(St),ct||ht({type:0,index:St})}),vt=s$3(ct?_e.selectedIndex:dt.selectedIndex),bt=reactExports.useMemo(()=>({registerTab:_t,registerPanel:pt,change:wt}),[]);l$1(()=>{ht({type:0,index:lt??tt})},[lt]),l$1(()=>{if(vt.current===void 0||dt.tabs.length<=0)return;let St=A(dt.tabs,Ct=>Ct.current);St.some((Ct,xt)=>dt.tabs[xt]!==Ct)&&wt(St.indexOf(dt.tabs[vt.current]))});let Rt={ref:ft};return React.createElement(C,null,React.createElement($.Provider,{value:bt},React.createElement(X.Provider,{value:mt},mt.tabs.length<=0&&React.createElement(p,{onFocus:()=>{var St,Ct;for(let xt of Et.current)if(((St=xt.current)==null?void 0:St.tabIndex)===0)return(Ct=xt.current)==null||Ct.focus(),!0;return!1}}),D({ourProps:Rt,theirProps:at,slot:gt,defaultTag:be,name:"Tabs"}))))}let Pe="div";function ge(_e,et){let{orientation:tt,selectedIndex:nt}=M("Tab.List"),ot=y(et);return D({ourProps:{ref:ot,role:"tablist","aria-orientation":tt},theirProps:_e,slot:{selectedIndex:nt},defaultTag:Pe,name:"Tabs.List"})}let ye="button";function xe(_e,et){var tt,nt;let ot=I$1(),{id:it=`headlessui-tabs-tab-${ot}`,...lt}=_e,{orientation:at,activation:st,selectedIndex:ut,tabs:ct,panels:ft}=M("Tab"),dt=q("Tab"),ht=M("Tab"),gt=reactExports.useRef(null),yt=y(gt,et);l$1(()=>dt.registerTab(gt),[dt,gt]);let Et=d("tabs"),mt=ct.indexOf(gt);mt===-1&&(mt=Et);let _t=mt===ut,pt=o$2(xt=>{var $t;let Mt=xt();if(Mt===N.Success&&st==="auto"){let kt=($t=e$1(gt))==null?void 0:$t.activeElement,It=ht.tabs.findIndex(Pt=>Pt.current===kt);It!==-1&&dt.change(It)}return Mt}),wt=o$2(xt=>{let $t=ct.map(Mt=>Mt.current).filter(Boolean);if(xt.key===o.Space||xt.key===o.Enter){xt.preventDefault(),xt.stopPropagation(),dt.change(mt);return}switch(xt.key){case o.Home:case o.PageUp:return xt.preventDefault(),xt.stopPropagation(),pt(()=>I($t,L$1.First));case o.End:case o.PageDown:return xt.preventDefault(),xt.stopPropagation(),pt(()=>I($t,L$1.Last))}if(pt(()=>u$1(at,{vertical(){return xt.key===o.ArrowUp?I($t,L$1.Previous|L$1.WrapAround):xt.key===o.ArrowDown?I($t,L$1.Next|L$1.WrapAround):N.Error},horizontal(){return xt.key===o.ArrowLeft?I($t,L$1.Previous|L$1.WrapAround):xt.key===o.ArrowRight?I($t,L$1.Next|L$1.WrapAround):N.Error}}))===N.Success)return xt.preventDefault()}),vt=reactExports.useRef(!1),bt=o$2(()=>{var xt;vt.current||(vt.current=!0,(xt=gt.current)==null||xt.focus(),dt.change(mt),t(()=>{vt.current=!1}))}),Rt=o$2(xt=>{xt.preventDefault()}),St=reactExports.useMemo(()=>({selected:_t}),[_t]),Ct={ref:yt,onKeyDown:wt,onMouseDown:Rt,onClick:bt,id:it,role:"tab",type:s$2(_e,gt),"aria-controls":(nt=(tt=ft[mt])==null?void 0:tt.current)==null?void 0:nt.id,"aria-selected":_t,tabIndex:_t?0:-1};return D({ourProps:Ct,theirProps:lt,slot:St,defaultTag:ye,name:"Tabs.Tab"})}let Ee="div";function Ae(_e,et){let{selectedIndex:tt}=M("Tab.Panels"),nt=y(et),ot=reactExports.useMemo(()=>({selectedIndex:tt}),[tt]);return D({ourProps:{ref:nt},theirProps:_e,slot:ot,defaultTag:Ee,name:"Tabs.Panels"})}let Re="div",Le=j.RenderStrategy|j.Static;function De(_e,et){var tt,nt,ot,it;let lt=I$1(),{id:at=`headlessui-tabs-panel-${lt}`,tabIndex:st=0,...ut}=_e,{selectedIndex:ct,tabs:ft,panels:dt}=M("Tab.Panel"),ht=q("Tab.Panel"),gt=reactExports.useRef(null),yt=y(gt,et);l$1(()=>ht.registerPanel(gt),[ht,gt]);let Et=d("panels"),mt=dt.indexOf(gt);mt===-1&&(mt=Et);let _t=mt===ct,pt=reactExports.useMemo(()=>({selected:_t}),[_t]),wt={ref:yt,id:at,role:"tabpanel","aria-labelledby":(nt=(tt=ft[mt])==null?void 0:tt.current)==null?void 0:nt.id,tabIndex:_t?st:-1};return!_t&&((ot=ut.unmount)==null||ot)&&!((it=ut.static)!=null&&it)?React.createElement(c,{as:"span",...wt}):D({ourProps:wt,theirProps:ut,slot:pt,defaultTag:Re,features:Le,visible:_t,name:"Tabs.Panel"})}let Se=L(xe),Ie=L(me),Fe=L(ge),he=L(Ae),Me=L(De),rt=Object.assign(Se,{Group:Ie,List:Fe,Panels:he,Panel:Me});function ImageViewer$1(_e){const{image:et,zoom:tt=.1}=_e,nt=reactExports.useRef(null);return reactExports.useEffect(()=>{et&&writeCanvas(et,nt.current)},[nt,et]),jsx("div",{style:{zoom:tt},children:jsx("canvas",{ref:nt})})}function ImageViewerWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ImageViewer$1,{image:_e.data.image})}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(_e,et)=>function(){return et||(0,_e[__getOwnPropNames(_e)[0]])((et={exports:{}}).exports,et),et.exports},__export=(_e,et)=>{for(var tt in et)__defProp(_e,tt,{get:et[tt],enumerable:!0})},__copyProps=(_e,et,tt,nt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let ot of __getOwnPropNames(et))!__hasOwnProp.call(_e,ot)&&ot!==tt&&__defProp(_e,ot,{get:()=>et[ot],enumerable:!(nt=__getOwnPropDesc(et,ot))||nt.enumerable});return _e},__toESM=(_e,et,tt)=>(tt=_e!=null?__create(__getProtoOf(_e)):{},__copyProps(et||!_e||!_e.__esModule?__defProp(tt,"default",{value:_e,enumerable:!0}):tt,_e)),require_is_object=__commonJS({"node_modules/is-object/index.js"(_e,et){et.exports=function(nt){return typeof nt=="object"&&nt!==null}}}),require_is_window=__commonJS({"node_modules/is-window/index.js"(_e,et){et.exports=function(tt){if(tt==null)return!1;var nt=Object(tt);return nt===nt.window}}}),require_is_dom=__commonJS({"node_modules/is-dom/index.js"(_e,et){var tt=require_is_object(),nt=require_is_window();function ot(it){return!tt(it)||!nt(window)||typeof window.Node!="function"?!1:typeof it.nodeType=="number"&&typeof it.nodeName=="string"}et.exports=ot}}),themes_exports={};__export(themes_exports,{chromeDark:()=>theme,chromeLight:()=>theme2});var theme={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},theme2={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},ExpandedPathsContext=reactExports.createContext([{},()=>{}]),unselectable={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},createTheme=_e=>({DOMNodePreview:{htmlOpenTag:{base:{color:_e.HTML_TAG_COLOR},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:_e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:_e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:_e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-_e.TREENODE_PADDING_LEFT},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:_e.HTML_COMMENT_COLOR},htmlDoctype:{color:_e.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:_e.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:_e.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:_e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:_e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:_e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:_e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:_e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:_e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:_e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:_e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:_e.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:_e.BASE_COLOR,backgroundColor:_e.BASE_BACKGROUND_COLOR,lineHeight:_e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:_e.TREENODE_FONT_FAMILY,fontSize:_e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...unselectable},treeNodeArrow:{base:{color:_e.ARROW_COLOR,display:"inline-block",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...parseFloat(_e.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${_e.ARROW_ANIMATION_DURATION} ease 0s`}:{},...unselectable},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:_e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:_e.BASE_COLOR,position:"relative",border:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontFamily:_e.BASE_FONT_FAMILY,fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:_e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:_e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:_e.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:_e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${_e.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:_e.TABLE_SORT_ICON_COLOR,fontSize:12,...unselectable}}),DEFAULT_THEME_NAME="chromeLight",ThemeContext=reactExports.createContext(createTheme(themes_exports[DEFAULT_THEME_NAME])),useStyles=_e=>reactExports.useContext(ThemeContext)[_e],themeAcceptor=_e=>({theme:tt=DEFAULT_THEME_NAME,...nt})=>{const ot=reactExports.useMemo(()=>{switch(Object.prototype.toString.call(tt)){case"[object String]":return createTheme(themes_exports[tt]);case"[object Object]":return createTheme(tt);default:return createTheme(themes_exports[DEFAULT_THEME_NAME])}},[tt]);return React.createElement(ThemeContext.Provider,{value:ot},React.createElement(_e,{...nt}))},Arrow=({expanded:_e,styles:et})=>React.createElement("span",{style:{...et.base,..._e?et.expanded:et.collapsed}},""),TreeNode=reactExports.memo(_e=>{_e={expanded:!0,nodeRenderer:({name:ct})=>React.createElement("span",null,ct),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,..._e};const{expanded:et,onClick:tt,children:nt,nodeRenderer:ot,title:it,shouldShowArrow:lt,shouldShowPlaceholder:at}=_e,st=useStyles("TreeNode"),ut=ot;return React.createElement("li",{"aria-expanded":et,role:"treeitem",style:st.treeNodeBase,title:it},React.createElement("div",{style:st.treeNodePreviewContainer,onClick:tt},lt||reactExports.Children.count(nt)>0?React.createElement(Arrow,{expanded:et,styles:st.treeNodeArrow}):at&&React.createElement("span",{style:st.treeNodePlaceholder},""),React.createElement(ut,{..._e})),React.createElement("ol",{role:"group",style:st.treeNodeChildNodesContainer},et?nt:void 0))}),DEFAULT_ROOT_PATH="$",WILDCARD="*";function hasChildNodes(_e,et){return!et(_e).next().done}var wildcardPathsFromLevel=_e=>Array.from({length:_e},(et,tt)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:tt},()=>"*")).join(".")),getExpandedPaths=(_e,et,tt,nt,ot)=>{const it=[].concat(wildcardPathsFromLevel(nt)).concat(tt).filter(at=>typeof at=="string"),lt=[];return it.forEach(at=>{const st=at.split("."),ut=(ct,ft,dt)=>{if(dt===st.length){lt.push(ft);return}const ht=st[dt];if(dt===0)hasChildNodes(ct,et)&&(ht===DEFAULT_ROOT_PATH||ht===WILDCARD)&&ut(ct,DEFAULT_ROOT_PATH,dt+1);else if(ht===WILDCARD)for(const{name:gt,data:yt}of et(ct))hasChildNodes(yt,et)&&ut(yt,`${ft}.${gt}`,dt+1);else{const gt=ct[ht];hasChildNodes(gt,et)&&ut(gt,`${ft}.${ht}`,dt+1)}};ut(_e,"",0)}),lt.reduce((at,st)=>(at[st]=!0,at),{...ot})},ConnectedTreeNode=reactExports.memo(_e=>{const{data:et,dataIterator:tt,path:nt,depth:ot,nodeRenderer:it}=_e,[lt,at]=reactExports.useContext(ExpandedPathsContext),st=hasChildNodes(et,tt),ut=!!lt[nt],ct=reactExports.useCallback(()=>st&&at(ft=>({...ft,[nt]:!ut})),[st,at,nt,ut]);return React.createElement(TreeNode,{expanded:ut,onClick:ct,shouldShowArrow:st,shouldShowPlaceholder:ot>0,nodeRenderer:it,..._e},ut?[...tt(et)].map(({name:ft,data:dt,...ht})=>React.createElement(ConnectedTreeNode,{name:ft,data:dt,depth:ot+1,path:`${nt}.${ft}`,key:ft,dataIterator:tt,nodeRenderer:it,...ht})):null)}),TreeView=reactExports.memo(({name:_e,data:et,dataIterator:tt,nodeRenderer:nt,expandPaths:ot,expandLevel:it})=>{const lt=useStyles("TreeView"),at=reactExports.useState({}),[,st]=at;return reactExports.useLayoutEffect(()=>st(ut=>getExpandedPaths(et,tt,ot,it,ut)),[et,tt,ot,it]),React.createElement(ExpandedPathsContext.Provider,{value:at},React.createElement("ol",{role:"tree",style:lt.treeViewOutline},React.createElement(ConnectedTreeNode,{name:_e,data:et,dataIterator:tt,depth:0,path:DEFAULT_ROOT_PATH,nodeRenderer:nt})))}),ObjectName=({name:_e,dimmed:et=!1,styles:tt={}})=>{const nt=useStyles("ObjectName"),ot={...nt.base,...et?nt.dimmed:{},...tt};return React.createElement("span",{style:ot},_e)},ObjectValue=({object:_e,styles:et})=>{const tt=useStyles("ObjectValue"),nt=ot=>({...tt[ot],...et});switch(typeof _e){case"bigint":return React.createElement("span",{style:nt("objectValueNumber")},String(_e),"n");case"number":return React.createElement("span",{style:nt("objectValueNumber")},String(_e));case"string":return React.createElement("span",{style:nt("objectValueString")},'"',_e,'"');case"boolean":return React.createElement("span",{style:nt("objectValueBoolean")},String(_e));case"undefined":return React.createElement("span",{style:nt("objectValueUndefined")},"undefined");case"object":return _e===null?React.createElement("span",{style:nt("objectValueNull")},"null"):_e instanceof Date?React.createElement("span",null,_e.toString()):_e instanceof RegExp?React.createElement("span",{style:nt("objectValueRegExp")},_e.toString()):Array.isArray(_e)?React.createElement("span",null,`Array(${_e.length})`):_e.constructor?typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e)?React.createElement("span",null,`Buffer[${_e.length}]`):React.createElement("span",null,_e.constructor.name):React.createElement("span",null,"Object");case"function":return React.createElement("span",null,React.createElement("span",{style:nt("objectValueFunctionPrefix")},""),React.createElement("span",{style:nt("objectValueFunctionName")},_e.name,"()"));case"symbol":return React.createElement("span",{style:nt("objectValueSymbol")},_e.toString());default:return React.createElement("span",null)}},hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;function getPropertyValue(_e,et){const tt=Object.getOwnPropertyDescriptor(_e,et);if(tt.get)try{return tt.get()}catch{return tt.get}return _e[et]}function intersperse(_e,et){return _e.length===0?[]:_e.slice(1).reduce((tt,nt)=>tt.concat([et,nt]),[_e[0]])}var ObjectPreview=({data:_e})=>{const et=useStyles("ObjectPreview"),tt=_e;if(typeof tt!="object"||tt===null||tt instanceof Date||tt instanceof RegExp)return React.createElement(ObjectValue,{object:tt});if(Array.isArray(tt)){const nt=et.arrayMaxProperties,ot=tt.slice(0,nt).map((lt,at)=>React.createElement(ObjectValue,{key:at,object:lt}));tt.length>nt&&ot.push(React.createElement("span",{key:"ellipsis"},""));const it=tt.length;return React.createElement(React.Fragment,null,React.createElement("span",{style:et.objectDescription},it===0?"":`(${it})`),React.createElement("span",{style:et.preview},"[",intersperse(ot,", "),"]"))}else{const nt=et.objectMaxProperties,ot=[];for(const lt in tt)if(hasOwnProperty.call(tt,lt)){let at;ot.length===nt-1&&Object.keys(tt).length>nt&&(at=React.createElement("span",{key:"ellipsis"},""));const st=getPropertyValue(tt,lt);if(ot.push(React.createElement("span",{key:lt},React.createElement(ObjectName,{name:lt||'""'}),":",React.createElement(ObjectValue,{object:st}),at)),at)break}const it=tt.constructor?tt.constructor.name:"Object";return React.createElement(React.Fragment,null,React.createElement("span",{style:et.objectDescription},it==="Object"?"":`${it} `),React.createElement("span",{style:et.preview},"{",intersperse(ot,", "),"}"))}},ObjectRootLabel=({name:_e,data:et})=>typeof _e=="string"?React.createElement("span",null,React.createElement(ObjectName,{name:_e}),React.createElement("span",null,": "),React.createElement(ObjectPreview,{data:et})):React.createElement(ObjectPreview,{data:et}),ObjectLabel=({name:_e,data:et,isNonenumerable:tt=!1})=>{const nt=et;return React.createElement("span",null,typeof _e=="string"?React.createElement(ObjectName,{name:_e,dimmed:tt}):React.createElement(ObjectPreview,{data:_e}),React.createElement("span",null,": "),React.createElement(ObjectValue,{object:nt}))},createIterator=(_e,et)=>function*(nt){if(!(typeof nt=="object"&&nt!==null||typeof nt=="function"))return;const it=Array.isArray(nt);if(!it&&nt[Symbol.iterator]){let lt=0;for(const at of nt){if(Array.isArray(at)&&at.length===2){const[st,ut]=at;yield{name:st,data:ut}}else yield{name:lt.toString(),data:at};lt++}}else{const lt=Object.getOwnPropertyNames(nt);et===!0&&!it?lt.sort():typeof et=="function"&&lt.sort(et);for(const at of lt)if(propertyIsEnumerable.call(nt,at)){const st=getPropertyValue(nt,at);yield{name:at||'""',data:st}}else if(_e){let st;try{st=getPropertyValue(nt,at)}catch{}st!==void 0&&(yield{name:at,data:st,isNonenumerable:!0})}_e&&nt!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(nt),isNonenumerable:!0})}},defaultNodeRenderer=({depth:_e,name:et,data:tt,isNonenumerable:nt})=>_e===0?React.createElement(ObjectRootLabel,{name:et,data:tt}):React.createElement(ObjectLabel,{name:et,data:tt,isNonenumerable:nt}),ObjectInspector=({showNonenumerable:_e=!1,sortObjectKeys:et,nodeRenderer:tt,...nt})=>{const ot=createIterator(_e,et),it=tt||defaultNodeRenderer;return React.createElement(TreeView,{nodeRenderer:it,dataIterator:ot,...nt})},themedObjectInspector=themeAcceptor(ObjectInspector);__toESM(require_is_dom());function ObjectInspectorWrapper(){const _e=reactExports.useContext(GlobalContext);return jsx(themedObjectInspector,{expandLevel:2,data:_e})}function ExploreGrey(_e){const{image:et}=_e;if(!et)return jsx("div",{children:"No selected image"});if(et.colorModel!=="RGB"&&et.colorModel!=="RGBA")return jsx("div",{children:"This is a grey image, no need to explore"});const tt=et.resize({width:400}),nt=["luma709","luma601","max","min","average","minmax","red","green","blue","black","cyan","magenta","yellow","hue","saturation","lightness"],ot=[];for(let it of nt)ot.push({algorithm:it,image:tt.grey({algorithm:it})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:ot.map(it=>jsxs("div",{children:[jsx("div",{children:it.algorithm}),jsx(ImageViewer$1,{image:it.image,zoom:.5})]},it.algorithm))})}function ExploreGreyWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreGrey,{image:_e.data.image})}function ImageViewer(_e){const{mask:et,zoom:tt=.1}=_e,nt=reactExports.useRef(null);return reactExports.useEffect(()=>{et&&writeCanvas(et.convertColor(ImageColorModel.GREY),nt.current)},[nt,et]),jsx("div",{style:{zoom:tt},children:jsx("canvas",{ref:nt})})}function ExploreMask(_e){let{image:et}=_e;if(!et)return jsx("div",{children:"No selected image"});et.channels>1&&(et=et.grey());const tt=et.resize({width:400}),nt=[];for(let ot in ThresholdAlgorithm)nt.push({algorithm:ot,mask:tt.threshold({algorithm:ot})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:nt.map(ot=>jsxs("div",{children:[jsx("div",{children:ot.algorithm}),jsx(ImageViewer,{mask:ot.mask,zoom:.5})]},ot.algorithm))})}function ExploreMaskWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreMask,{image:_e.data.image})}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function functionalUpdate(_e,et){return typeof _e=="function"?_e(et):_e}function makeStateUpdater(_e,et){return tt=>{et.setState(nt=>({...nt,[_e]:functionalUpdate(tt,nt[_e])}))}}function isFunction(_e){return _e instanceof Function}function flattenBy(_e,et){const tt=[],nt=ot=>{ot.forEach(it=>{tt.push(it);const lt=et(it);lt!=null&&lt.length&&nt(lt)})};return nt(_e),tt}function memo(_e,et,tt){let nt=[],ot;return()=>{let it;tt.key&&tt.debug&&(it=Date.now());const lt=_e();if(!(lt.length!==nt.length||lt.some((ut,ct)=>nt[ct]!==ut)))return ot;nt=lt;let st;if(tt.key&&tt.debug&&(st=Date.now()),ot=et(...lt),tt==null||tt.onChange==null||tt.onChange(ot),tt.key&&tt.debug&&tt!=null&&tt.debug()){const ut=Math.round((Date.now()-it)*100)/100,ct=Math.round((Date.now()-st)*100)/100,ft=ct/16,dt=(ht,gt)=>{for(ht=String(ht);ht.length<gt;)ht=" "+ht;return ht};console.info(`%c ${dt(ct,5)} /${dt(ut,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*ft,120))}deg 100% 31%);`,tt==null?void 0:tt.key)}return ot}}function createColumn(_e,et,tt,nt){var ot,it;const at={..._e._getDefaultColumnDef(),...et},st=at.accessorKey;let ut=(ot=(it=at.id)!=null?it:st?st.replace(".","_"):void 0)!=null?ot:typeof at.header=="string"?at.header:void 0,ct;if(at.accessorFn?ct=at.accessorFn:st&&(st.includes(".")?ct=dt=>{let ht=dt;for(const yt of st.split(".")){var gt;ht=(gt=ht)==null?void 0:gt[yt]}return ht}:ct=dt=>dt[at.accessorKey]),!ut)throw new Error;let ft={id:`${String(ut)}`,accessorFn:ct,parent:nt,depth:tt,columnDef:at,columns:[],getFlatColumns:memo(()=>[!0],()=>{var dt;return[ft,...(dt=ft.columns)==null?void 0:dt.flatMap(ht=>ht.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var dt;return(dt=_e.options.debugAll)!=null?dt:_e.options.debugColumns}}),getLeafColumns:memo(()=>[_e._getOrderColumnsFn()],dt=>{var ht;if((ht=ft.columns)!=null&&ht.length){let gt=ft.columns.flatMap(yt=>yt.getLeafColumns());return dt(gt)}return[ft]},{key:"column.getLeafColumns",debug:()=>{var dt;return(dt=_e.options.debugAll)!=null?dt:_e.options.debugColumns}})};return ft=_e._features.reduce((dt,ht)=>Object.assign(dt,ht.createColumn==null?void 0:ht.createColumn(ft,_e)),ft),ft}function createHeader(_e,et,tt){var nt;let it={id:(nt=tt.id)!=null?nt:et.id,column:et,index:tt.index,isPlaceholder:!!tt.isPlaceholder,placeholderId:tt.placeholderId,depth:tt.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const lt=[],at=st=>{st.subHeaders&&st.subHeaders.length&&st.subHeaders.map(at),lt.push(st)};return at(it),lt},getContext:()=>({table:_e,header:it,column:et})};return _e._features.forEach(lt=>{Object.assign(it,lt.createHeader==null?void 0:lt.createHeader(it,_e))}),it}const Headers={createTable:_e=>({getHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(et,tt,nt,ot)=>{var it,lt;const at=(it=nt==null?void 0:nt.map(ft=>tt.find(dt=>dt.id===ft)).filter(Boolean))!=null?it:[],st=(lt=ot==null?void 0:ot.map(ft=>tt.find(dt=>dt.id===ft)).filter(Boolean))!=null?lt:[],ut=tt.filter(ft=>!(nt!=null&&nt.includes(ft.id))&&!(ot!=null&&ot.includes(ft.id)));return buildHeaderGroups(et,[...at,...ut,...st],_e)},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getCenterHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(et,tt,nt,ot)=>(tt=tt.filter(it=>!(nt!=null&&nt.includes(it.id))&&!(ot!=null&&ot.includes(it.id))),buildHeaderGroups(et,tt,_e,"center")),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getLeftHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left],(et,tt,nt)=>{var ot;const it=(ot=nt==null?void 0:nt.map(lt=>tt.find(at=>at.id===lt)).filter(Boolean))!=null?ot:[];return buildHeaderGroups(et,it,_e,"left")},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getRightHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.right],(et,tt,nt)=>{var ot;const it=(ot=nt==null?void 0:nt.map(lt=>tt.find(at=>at.id===lt)).filter(Boolean))!=null?ot:[];return buildHeaderGroups(et,it,_e,"right")},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getFooterGroups:memo(()=>[_e.getHeaderGroups()],et=>[...et].reverse(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getLeftFooterGroups:memo(()=>[_e.getLeftHeaderGroups()],et=>[...et].reverse(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getCenterFooterGroups:memo(()=>[_e.getCenterHeaderGroups()],et=>[...et].reverse(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getRightFooterGroups:memo(()=>[_e.getRightHeaderGroups()],et=>[...et].reverse(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getFlatHeaders:memo(()=>[_e.getHeaderGroups()],et=>et.map(tt=>tt.headers).flat(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getLeftFlatHeaders:memo(()=>[_e.getLeftHeaderGroups()],et=>et.map(tt=>tt.headers).flat(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getCenterFlatHeaders:memo(()=>[_e.getCenterHeaderGroups()],et=>et.map(tt=>tt.headers).flat(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getRightFlatHeaders:memo(()=>[_e.getRightHeaderGroups()],et=>et.map(tt=>tt.headers).flat(),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getCenterLeafHeaders:memo(()=>[_e.getCenterFlatHeaders()],et=>et.filter(tt=>{var nt;return!((nt=tt.subHeaders)!=null&&nt.length)}),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getLeftLeafHeaders:memo(()=>[_e.getLeftFlatHeaders()],et=>et.filter(tt=>{var nt;return!((nt=tt.subHeaders)!=null&&nt.length)}),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getRightLeafHeaders:memo(()=>[_e.getRightFlatHeaders()],et=>et.filter(tt=>{var nt;return!((nt=tt.subHeaders)!=null&&nt.length)}),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}}),getLeafHeaders:memo(()=>[_e.getLeftHeaderGroups(),_e.getCenterHeaderGroups(),_e.getRightHeaderGroups()],(et,tt,nt)=>{var ot,it,lt,at,st,ut;return[...(ot=(it=et[0])==null?void 0:it.headers)!=null?ot:[],...(lt=(at=tt[0])==null?void 0:at.headers)!=null?lt:[],...(st=(ut=nt[0])==null?void 0:ut.headers)!=null?st:[]].map(ct=>ct.getLeafHeaders()).flat()},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugHeaders}})})};function buildHeaderGroups(_e,et,tt,nt){var ot,it;let lt=0;const at=function(dt,ht){ht===void 0&&(ht=1),lt=Math.max(lt,ht),dt.filter(gt=>gt.getIsVisible()).forEach(gt=>{var yt;(yt=gt.columns)!=null&&yt.length&&at(gt.columns,ht+1)},0)};at(_e);let st=[];const ut=(dt,ht)=>{const gt={depth:ht,id:[nt,`${ht}`].filter(Boolean).join("_"),headers:[]},yt=[];dt.forEach(Et=>{const mt=[...yt].reverse()[0],_t=Et.column.depth===gt.depth;let pt,wt=!1;if(_t&&Et.column.parent?pt=Et.column.parent:(pt=Et.column,wt=!0),mt&&(mt==null?void 0:mt.column)===pt)mt.subHeaders.push(Et);else{const vt=createHeader(tt,pt,{id:[nt,ht,pt.id,Et==null?void 0:Et.id].filter(Boolean).join("_"),isPlaceholder:wt,placeholderId:wt?`${yt.filter(bt=>bt.column===pt).length}`:void 0,depth:ht,index:yt.length});vt.subHeaders.push(Et),yt.push(vt)}gt.headers.push(Et),Et.headerGroup=gt}),st.push(gt),ht>0&&ut(yt,ht-1)},ct=et.map((dt,ht)=>createHeader(tt,dt,{depth:lt,index:ht}));ut(ct,lt-1),st.reverse();const ft=dt=>dt.filter(gt=>gt.column.getIsVisible()).map(gt=>{let yt=0,Et=0,mt=[0];gt.subHeaders&&gt.subHeaders.length?(mt=[],ft(gt.subHeaders).forEach(pt=>{let{colSpan:wt,rowSpan:vt}=pt;yt+=wt,mt.push(vt)})):yt=1;const _t=Math.min(...mt);return Et=Et+_t,gt.colSpan=yt,gt.rowSpan=Et,{colSpan:yt,rowSpan:Et}});return ft((ot=(it=st[0])==null?void 0:it.headers)!=null?ot:[]),st}const defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},getDefaultColumnSizingInfoState=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:_e=>({columnSizing:{},columnSizingInfo:getDefaultColumnSizingInfoState(),..._e}),getDefaultOptions:_e=>({columnResizeMode:"onEnd",onColumnSizingChange:makeStateUpdater("columnSizing",_e),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",_e)}),createColumn:(_e,et)=>({getSize:()=>{var tt,nt,ot;const it=et.getState().columnSizing[_e.id];return Math.min(Math.max((tt=_e.columnDef.minSize)!=null?tt:defaultColumnSizing.minSize,(nt=it??_e.columnDef.size)!=null?nt:defaultColumnSizing.size),(ot=_e.columnDef.maxSize)!=null?ot:defaultColumnSizing.maxSize)},getStart:tt=>{const nt=tt?tt==="left"?et.getLeftVisibleLeafColumns():et.getRightVisibleLeafColumns():et.getVisibleLeafColumns(),ot=nt.findIndex(it=>it.id===_e.id);if(ot>0){const it=nt[ot-1];return it.getStart(tt)+it.getSize()}return 0},resetSize:()=>{et.setColumnSizing(tt=>{let{[_e.id]:nt,...ot}=tt;return ot})},getCanResize:()=>{var tt,nt;return((tt=_e.columnDef.enableResizing)!=null?tt:!0)&&((nt=et.options.enableColumnResizing)!=null?nt:!0)},getIsResizing:()=>et.getState().columnSizingInfo.isResizingColumn===_e.id}),createHeader:(_e,et)=>({getSize:()=>{let tt=0;const nt=ot=>{if(ot.subHeaders.length)ot.subHeaders.forEach(nt);else{var it;tt+=(it=ot.column.getSize())!=null?it:0}};return nt(_e),tt},getStart:()=>{if(_e.index>0){const tt=_e.headerGroup.headers[_e.index-1];return tt.getStart()+tt.getSize()}return 0},getResizeHandler:()=>{const tt=et.getColumn(_e.column.id),nt=tt==null?void 0:tt.getCanResize();return ot=>{if(!tt||!nt||(ot.persist==null||ot.persist(),isTouchStartEvent(ot)&&ot.touches&&ot.touches.length>1))return;const it=_e.getSize(),lt=_e?_e.getLeafHeaders().map(yt=>[yt.column.id,yt.column.getSize()]):[[tt.id,tt.getSize()]],at=isTouchStartEvent(ot)?Math.round(ot.touches[0].clientX):ot.clientX,st={},ut=(yt,Et)=>{typeof Et=="number"&&(et.setColumnSizingInfo(mt=>{var _t,pt;const wt=Et-((_t=mt==null?void 0:mt.startOffset)!=null?_t:0),vt=Math.max(wt/((pt=mt==null?void 0:mt.startSize)!=null?pt:0),-.999999);return mt.columnSizingStart.forEach(bt=>{let[Rt,St]=bt;st[Rt]=Math.round(Math.max(St+St*vt,0)*100)/100}),{...mt,deltaOffset:wt,deltaPercentage:vt}}),(et.options.columnResizeMode==="onChange"||yt==="end")&&et.setColumnSizing(mt=>({...mt,...st})))},ct=yt=>ut("move",yt),ft=yt=>{ut("end",yt),et.setColumnSizingInfo(Et=>({...Et,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},dt={moveHandler:yt=>ct(yt.clientX),upHandler:yt=>{document.removeEventListener("mousemove",dt.moveHandler),document.removeEventListener("mouseup",dt.upHandler),ft(yt.clientX)}},ht={moveHandler:yt=>(yt.cancelable&&(yt.preventDefault(),yt.stopPropagation()),ct(yt.touches[0].clientX),!1),upHandler:yt=>{var Et;document.removeEventListener("touchmove",ht.moveHandler),document.removeEventListener("touchend",ht.upHandler),yt.cancelable&&(yt.preventDefault(),yt.stopPropagation()),ft((Et=yt.touches[0])==null?void 0:Et.clientX)}},gt=passiveEventSupported()?{passive:!1}:!1;isTouchStartEvent(ot)?(document.addEventListener("touchmove",ht.moveHandler,gt),document.addEventListener("touchend",ht.upHandler,gt)):(document.addEventListener("mousemove",dt.moveHandler,gt),document.addEventListener("mouseup",dt.upHandler,gt)),et.setColumnSizingInfo(yt=>({...yt,startOffset:at,startSize:it,deltaOffset:0,deltaPercentage:0,columnSizingStart:lt,isResizingColumn:tt.id}))}}}),createTable:_e=>({setColumnSizing:et=>_e.options.onColumnSizingChange==null?void 0:_e.options.onColumnSizingChange(et),setColumnSizingInfo:et=>_e.options.onColumnSizingInfoChange==null?void 0:_e.options.onColumnSizingInfoChange(et),resetColumnSizing:et=>{var tt;_e.setColumnSizing(et?{}:(tt=_e.initialState.columnSizing)!=null?tt:{})},resetHeaderSizeInfo:et=>{var tt;_e.setColumnSizingInfo(et?getDefaultColumnSizingInfoState():(tt=_e.initialState.columnSizingInfo)!=null?tt:getDefaultColumnSizingInfoState())},getTotalSize:()=>{var et,tt;return(et=(tt=_e.getHeaderGroups()[0])==null?void 0:tt.headers.reduce((nt,ot)=>nt+ot.getSize(),0))!=null?et:0},getLeftTotalSize:()=>{var et,tt;return(et=(tt=_e.getLeftHeaderGroups()[0])==null?void 0:tt.headers.reduce((nt,ot)=>nt+ot.getSize(),0))!=null?et:0},getCenterTotalSize:()=>{var et,tt;return(et=(tt=_e.getCenterHeaderGroups()[0])==null?void 0:tt.headers.reduce((nt,ot)=>nt+ot.getSize(),0))!=null?et:0},getRightTotalSize:()=>{var et,tt;return(et=(tt=_e.getRightHeaderGroups()[0])==null?void 0:tt.headers.reduce((nt,ot)=>nt+ot.getSize(),0))!=null?et:0}})};let passiveSupported=null;function passiveEventSupported(){if(typeof passiveSupported=="boolean")return passiveSupported;let _e=!1;try{const et={get passive(){return _e=!0,!1}},tt=()=>{};window.addEventListener("test",tt,et),window.removeEventListener("test",tt)}catch{_e=!1}return passiveSupported=_e,passiveSupported}function isTouchStartEvent(_e){return _e.type==="touchstart"}const Expanding={getInitialState:_e=>({expanded:{},..._e}),getDefaultOptions:_e=>({onExpandedChange:makeStateUpdater("expanded",_e),paginateExpandedRows:!0}),createTable:_e=>{let et=!1,tt=!1;return{_autoResetExpanded:()=>{var nt,ot;if(!et){_e._queue(()=>{et=!0});return}if((nt=(ot=_e.options.autoResetAll)!=null?ot:_e.options.autoResetExpanded)!=null?nt:!_e.options.manualExpanding){if(tt)return;tt=!0,_e._queue(()=>{_e.resetExpanded(),tt=!1})}},setExpanded:nt=>_e.options.onExpandedChange==null?void 0:_e.options.onExpandedChange(nt),toggleAllRowsExpanded:nt=>{nt??!_e.getIsAllRowsExpanded()?_e.setExpanded(!0):_e.setExpanded({})},resetExpanded:nt=>{var ot,it;_e.setExpanded(nt?{}:(ot=(it=_e.initialState)==null?void 0:it.expanded)!=null?ot:{})},getCanSomeRowsExpand:()=>_e.getRowModel().flatRows.some(nt=>nt.getCanExpand()),getToggleAllRowsExpandedHandler:()=>nt=>{nt.persist==null||nt.persist(),_e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const nt=_e.getState().expanded;return nt===!0||Object.values(nt).some(Boolean)},getIsAllRowsExpanded:()=>{const nt=_e.getState().expanded;return typeof nt=="boolean"?nt===!0:!(!Object.keys(nt).length||_e.getRowModel().flatRows.some(ot=>!ot.getIsExpanded()))},getExpandedDepth:()=>{let nt=0;return(_e.getState().expanded===!0?Object.keys(_e.getRowModel().rowsById):Object.keys(_e.getState().expanded)).forEach(it=>{const lt=it.split(".");nt=Math.max(nt,lt.length)}),nt},getPreExpandedRowModel:()=>_e.getSortedRowModel(),getExpandedRowModel:()=>(!_e._getExpandedRowModel&&_e.options.getExpandedRowModel&&(_e._getExpandedRowModel=_e.options.getExpandedRowModel(_e)),_e.options.manualExpanding||!_e._getExpandedRowModel?_e.getPreExpandedRowModel():_e._getExpandedRowModel())}},createRow:(_e,et)=>({toggleExpanded:tt=>{et.setExpanded(nt=>{var ot;const it=nt===!0?!0:!!(nt!=null&&nt[_e.id]);let lt={};if(nt===!0?Object.keys(et.getRowModel().rowsById).forEach(at=>{lt[at]=!0}):lt=nt,tt=(ot=tt)!=null?ot:!it,!it&&tt)return{...lt,[_e.id]:!0};if(it&&!tt){const{[_e.id]:at,...st}=lt;return st}return nt})},getIsExpanded:()=>{var tt;const nt=et.getState().expanded;return!!((tt=et.options.getIsRowExpanded==null?void 0:et.options.getIsRowExpanded(_e))!=null?tt:nt===!0||nt!=null&&nt[_e.id])},getCanExpand:()=>{var tt,nt,ot;return(tt=et.options.getRowCanExpand==null?void 0:et.options.getRowCanExpand(_e))!=null?tt:((nt=et.options.enableExpanding)!=null?nt:!0)&&!!((ot=_e.subRows)!=null&&ot.length)},getToggleExpandedHandler:()=>{const tt=_e.getCanExpand();return()=>{tt&&_e.toggleExpanded()}}})},includesString=(_e,et,tt)=>{var nt;const ot=tt.toLowerCase();return Boolean((nt=_e.getValue(et))==null?void 0:nt.toLowerCase().includes(ot))};includesString.autoRemove=_e=>testFalsey(_e);const includesStringSensitive=(_e,et,tt)=>{var nt;return Boolean((nt=_e.getValue(et))==null?void 0:nt.includes(tt))};includesStringSensitive.autoRemove=_e=>testFalsey(_e);const equalsString=(_e,et,tt)=>{var nt;return((nt=_e.getValue(et))==null?void 0:nt.toLowerCase())===tt.toLowerCase()};equalsString.autoRemove=_e=>testFalsey(_e);const arrIncludes=(_e,et,tt)=>{var nt;return(nt=_e.getValue(et))==null?void 0:nt.includes(tt)};arrIncludes.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const arrIncludesAll=(_e,et,tt)=>!tt.some(nt=>{var ot;return!((ot=_e.getValue(et))!=null&&ot.includes(nt))});arrIncludesAll.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const arrIncludesSome=(_e,et,tt)=>tt.some(nt=>{var ot;return(ot=_e.getValue(et))==null?void 0:ot.includes(nt)});arrIncludesSome.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const equals=(_e,et,tt)=>_e.getValue(et)===tt;equals.autoRemove=_e=>testFalsey(_e);const weakEquals=(_e,et,tt)=>_e.getValue(et)==tt;weakEquals.autoRemove=_e=>testFalsey(_e);const inNumberRange=(_e,et,tt)=>{let[nt,ot]=tt;const it=_e.getValue(et);return it>=nt&&it<=ot};inNumberRange.resolveFilterValue=_e=>{let[et,tt]=_e,nt=typeof et!="number"?parseFloat(et):et,ot=typeof tt!="number"?parseFloat(tt):tt,it=et===null||Number.isNaN(nt)?-1/0:nt,lt=tt===null||Number.isNaN(ot)?1/0:ot;if(it>lt){const at=it;it=lt,lt=at}return[it,lt]};inNumberRange.autoRemove=_e=>testFalsey(_e)||testFalsey(_e[0])&&testFalsey(_e[1]);const filterFns={includesString,includesStringSensitive,equalsString,arrIncludes,arrIncludesAll,arrIncludesSome,equals,weakEquals,inNumberRange};function testFalsey(_e){return _e==null||_e===""}const Filters={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:_e=>({columnFilters:[],globalFilter:void 0,..._e}),getDefaultOptions:_e=>({onColumnFiltersChange:makeStateUpdater("columnFilters",_e),onGlobalFilterChange:makeStateUpdater("globalFilter",_e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:et=>{var tt,nt;const ot=(tt=_e.getCoreRowModel().flatRows[0])==null||(nt=tt._getAllCellsByColumnId()[et.id])==null?void 0:nt.getValue();return typeof ot=="string"||typeof ot=="number"}}),createColumn:(_e,et)=>({getAutoFilterFn:()=>{const tt=et.getCoreRowModel().flatRows[0],nt=tt==null?void 0:tt.getValue(_e.id);return typeof nt=="string"?filterFns.includesString:typeof nt=="number"?filterFns.inNumberRange:typeof nt=="boolean"||nt!==null&&typeof nt=="object"?filterFns.equals:Array.isArray(nt)?filterFns.arrIncludes:filterFns.weakEquals},getFilterFn:()=>{var tt,nt;return isFunction(_e.columnDef.filterFn)?_e.columnDef.filterFn:_e.columnDef.filterFn==="auto"?_e.getAutoFilterFn():(tt=(nt=et.options.filterFns)==null?void 0:nt[_e.columnDef.filterFn])!=null?tt:filterFns[_e.columnDef.filterFn]},getCanFilter:()=>{var tt,nt,ot;return((tt=_e.columnDef.enableColumnFilter)!=null?tt:!0)&&((nt=et.options.enableColumnFilters)!=null?nt:!0)&&((ot=et.options.enableFilters)!=null?ot:!0)&&!!_e.accessorFn},getCanGlobalFilter:()=>{var tt,nt,ot,it;return((tt=_e.columnDef.enableGlobalFilter)!=null?tt:!0)&&((nt=et.options.enableGlobalFilter)!=null?nt:!0)&&((ot=et.options.enableFilters)!=null?ot:!0)&&((it=et.options.getColumnCanGlobalFilter==null?void 0:et.options.getColumnCanGlobalFilter(_e))!=null?it:!0)&&!!_e.accessorFn},getIsFiltered:()=>_e.getFilterIndex()>-1,getFilterValue:()=>{var tt,nt;return(tt=et.getState().columnFilters)==null||(nt=tt.find(ot=>ot.id===_e.id))==null?void 0:nt.value},getFilterIndex:()=>{var tt,nt;return(tt=(nt=et.getState().columnFilters)==null?void 0:nt.findIndex(ot=>ot.id===_e.id))!=null?tt:-1},setFilterValue:tt=>{et.setColumnFilters(nt=>{const ot=_e.getFilterFn(),it=nt==null?void 0:nt.find(ct=>ct.id===_e.id),lt=functionalUpdate(tt,it?it.value:void 0);if(shouldAutoRemoveFilter(ot,lt,_e)){var at;return(at=nt==null?void 0:nt.filter(ct=>ct.id!==_e.id))!=null?at:[]}const st={id:_e.id,value:lt};if(it){var ut;return(ut=nt==null?void 0:nt.map(ct=>ct.id===_e.id?st:ct))!=null?ut:[]}return nt!=null&&nt.length?[...nt,st]:[st]})},_getFacetedRowModel:et.options.getFacetedRowModel&&et.options.getFacetedRowModel(et,_e.id),getFacetedRowModel:()=>_e._getFacetedRowModel?_e._getFacetedRowModel():et.getPreFilteredRowModel(),_getFacetedUniqueValues:et.options.getFacetedUniqueValues&&et.options.getFacetedUniqueValues(et,_e.id),getFacetedUniqueValues:()=>_e._getFacetedUniqueValues?_e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:et.options.getFacetedMinMaxValues&&et.options.getFacetedMinMaxValues(et,_e.id),getFacetedMinMaxValues:()=>{if(_e._getFacetedMinMaxValues)return _e._getFacetedMinMaxValues()}}),createRow:(_e,et)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:_e=>({getGlobalAutoFilterFn:()=>filterFns.includesString,getGlobalFilterFn:()=>{var et,tt;const{globalFilterFn:nt}=_e.options;return isFunction(nt)?nt:nt==="auto"?_e.getGlobalAutoFilterFn():(et=(tt=_e.options.filterFns)==null?void 0:tt[nt])!=null?et:filterFns[nt]},setColumnFilters:et=>{const tt=_e.getAllLeafColumns(),nt=ot=>{var it;return(it=functionalUpdate(et,ot))==null?void 0:it.filter(lt=>{const at=tt.find(st=>st.id===lt.id);if(at){const st=at.getFilterFn();if(shouldAutoRemoveFilter(st,lt.value,at))return!1}return!0})};_e.options.onColumnFiltersChange==null||_e.options.onColumnFiltersChange(nt)},setGlobalFilter:et=>{_e.options.onGlobalFilterChange==null||_e.options.onGlobalFilterChange(et)},resetGlobalFilter:et=>{_e.setGlobalFilter(et?void 0:_e.initialState.globalFilter)},resetColumnFilters:et=>{var tt,nt;_e.setColumnFilters(et?[]:(tt=(nt=_e.initialState)==null?void 0:nt.columnFilters)!=null?tt:[])},getPreFilteredRowModel:()=>_e.getCoreRowModel(),getFilteredRowModel:()=>(!_e._getFilteredRowModel&&_e.options.getFilteredRowModel&&(_e._getFilteredRowModel=_e.options.getFilteredRowModel(_e)),_e.options.manualFiltering||!_e._getFilteredRowModel?_e.getPreFilteredRowModel():_e._getFilteredRowModel()),_getGlobalFacetedRowModel:_e.options.getFacetedRowModel&&_e.options.getFacetedRowModel(_e,"__global__"),getGlobalFacetedRowModel:()=>_e.options.manualFiltering||!_e._getGlobalFacetedRowModel?_e.getPreFilteredRowModel():_e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:_e.options.getFacetedUniqueValues&&_e.options.getFacetedUniqueValues(_e,"__global__"),getGlobalFacetedUniqueValues:()=>_e._getGlobalFacetedUniqueValues?_e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:_e.options.getFacetedMinMaxValues&&_e.options.getFacetedMinMaxValues(_e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(_e._getGlobalFacetedMinMaxValues)return _e._getGlobalFacetedMinMaxValues()}})};function shouldAutoRemoveFilter(_e,et,tt){return(_e&&_e.autoRemove?_e.autoRemove(et,tt):!1)||typeof et>"u"||typeof et=="string"&&!et}const sum=(_e,et,tt)=>tt.reduce((nt,ot)=>{const it=ot.getValue(_e);return nt+(typeof it=="number"?it:0)},0),min=(_e,et,tt)=>{let nt;return tt.forEach(ot=>{const it=ot.getValue(_e);it!=null&&(nt>it||nt===void 0&&it>=it)&&(nt=it)}),nt},max=(_e,et,tt)=>{let nt;return tt.forEach(ot=>{const it=ot.getValue(_e);it!=null&&(nt<it||nt===void 0&&it>=it)&&(nt=it)}),nt},extent=(_e,et,tt)=>{let nt,ot;return tt.forEach(it=>{const lt=it.getValue(_e);lt!=null&&(nt===void 0?lt>=lt&&(nt=ot=lt):(nt>lt&&(nt=lt),ot<lt&&(ot=lt)))}),[nt,ot]},mean=(_e,et)=>{let tt=0,nt=0;if(et.forEach(ot=>{let it=ot.getValue(_e);it!=null&&(it=+it)>=it&&(++tt,nt+=it)}),tt)return nt/tt},median=(_e,et)=>{if(!et.length)return;let tt=0,nt=0;return et.forEach(ot=>{let it=ot.getValue(_e);typeof it=="number"&&(tt=Math.min(tt,it),nt=Math.max(nt,it))}),(tt+nt)/2},unique=(_e,et)=>Array.from(new Set(et.map(tt=>tt.getValue(_e))).values()),uniqueCount=(_e,et)=>new Set(et.map(tt=>tt.getValue(_e))).size,count=(_e,et)=>et.length,aggregationFns={sum,min,max,extent,mean,median,unique,uniqueCount,count},Grouping={getDefaultColumnDef:()=>({aggregatedCell:_e=>{var et,tt;return(et=(tt=_e.getValue())==null||tt.toString==null?void 0:tt.toString())!=null?et:null},aggregationFn:"auto"}),getInitialState:_e=>({grouping:[],..._e}),getDefaultOptions:_e=>({onGroupingChange:makeStateUpdater("grouping",_e),groupedColumnMode:"reorder"}),createColumn:(_e,et)=>({toggleGrouping:()=>{et.setGrouping(tt=>tt!=null&&tt.includes(_e.id)?tt.filter(nt=>nt!==_e.id):[...tt??[],_e.id])},getCanGroup:()=>{var tt,nt,ot,it;return(tt=(nt=(ot=(it=_e.columnDef.enableGrouping)!=null?it:!0)!=null?ot:et.options.enableGrouping)!=null?nt:!0)!=null?tt:!!_e.accessorFn},getIsGrouped:()=>{var tt;return(tt=et.getState().grouping)==null?void 0:tt.includes(_e.id)},getGroupedIndex:()=>{var tt;return(tt=et.getState().grouping)==null?void 0:tt.indexOf(_e.id)},getToggleGroupingHandler:()=>{const tt=_e.getCanGroup();return()=>{tt&&_e.toggleGrouping()}},getAutoAggregationFn:()=>{const tt=et.getCoreRowModel().flatRows[0],nt=tt==null?void 0:tt.getValue(_e.id);if(typeof nt=="number")return aggregationFns.sum;if(Object.prototype.toString.call(nt)==="[object Date]")return aggregationFns.extent},getAggregationFn:()=>{var tt,nt;if(!_e)throw new Error;return isFunction(_e.columnDef.aggregationFn)?_e.columnDef.aggregationFn:_e.columnDef.aggregationFn==="auto"?_e.getAutoAggregationFn():(tt=(nt=et.options.aggregationFns)==null?void 0:nt[_e.columnDef.aggregationFn])!=null?tt:aggregationFns[_e.columnDef.aggregationFn]}}),createTable:_e=>({setGrouping:et=>_e.options.onGroupingChange==null?void 0:_e.options.onGroupingChange(et),resetGrouping:et=>{var tt,nt;_e.setGrouping(et?[]:(tt=(nt=_e.initialState)==null?void 0:nt.grouping)!=null?tt:[])},getPreGroupedRowModel:()=>_e.getFilteredRowModel(),getGroupedRowModel:()=>(!_e._getGroupedRowModel&&_e.options.getGroupedRowModel&&(_e._getGroupedRowModel=_e.options.getGroupedRowModel(_e)),_e.options.manualGrouping||!_e._getGroupedRowModel?_e.getPreGroupedRowModel():_e._getGroupedRowModel())}),createRow:_e=>({getIsGrouped:()=>!!_e.groupingColumnId,_groupingValuesCache:{}}),createCell:(_e,et,tt,nt)=>({getIsGrouped:()=>et.getIsGrouped()&&et.id===tt.groupingColumnId,getIsPlaceholder:()=>!_e.getIsGrouped()&&et.getIsGrouped(),getIsAggregated:()=>{var ot;return!_e.getIsGrouped()&&!_e.getIsPlaceholder()&&!!((ot=tt.subRows)!=null&&ot.length)}})};function orderColumns(_e,et,tt){if(!(et!=null&&et.length)||!tt)return _e;const nt=_e.filter(it=>!et.includes(it.id));return tt==="remove"?nt:[...et.map(it=>_e.find(lt=>lt.id===it)).filter(Boolean),...nt]}const Ordering={getInitialState:_e=>({columnOrder:[],..._e}),getDefaultOptions:_e=>({onColumnOrderChange:makeStateUpdater("columnOrder",_e)}),createTable:_e=>({setColumnOrder:et=>_e.options.onColumnOrderChange==null?void 0:_e.options.onColumnOrderChange(et),resetColumnOrder:et=>{var tt;_e.setColumnOrder(et?[]:(tt=_e.initialState.columnOrder)!=null?tt:[])},_getOrderColumnsFn:memo(()=>[_e.getState().columnOrder,_e.getState().grouping,_e.options.groupedColumnMode],(et,tt,nt)=>ot=>{let it=[];if(!(et!=null&&et.length))it=ot;else{const lt=[...et],at=[...ot];for(;at.length&&lt.length;){const st=lt.shift(),ut=at.findIndex(ct=>ct.id===st);ut>-1&&it.push(at.splice(ut,1)[0])}it=[...it,...at]}return orderColumns(it,tt,nt)},{key:!1})})},defaultPageIndex=0,defaultPageSize=10,getDefaultPaginationState=()=>({pageIndex:defaultPageIndex,pageSize:defaultPageSize}),Pagination={getInitialState:_e=>({..._e,pagination:{...getDefaultPaginationState(),..._e==null?void 0:_e.pagination}}),getDefaultOptions:_e=>({onPaginationChange:makeStateUpdater("pagination",_e)}),createTable:_e=>{let et=!1,tt=!1;return{_autoResetPageIndex:()=>{var nt,ot;if(!et){_e._queue(()=>{et=!0});return}if((nt=(ot=_e.options.autoResetAll)!=null?ot:_e.options.autoResetPageIndex)!=null?nt:!_e.options.manualPagination){if(tt)return;tt=!0,_e._queue(()=>{_e.resetPageIndex(),tt=!1})}},setPagination:nt=>{const ot=it=>functionalUpdate(nt,it);return _e.options.onPaginationChange==null?void 0:_e.options.onPaginationChange(ot)},resetPagination:nt=>{var ot;_e.setPagination(nt?getDefaultPaginationState():(ot=_e.initialState.pagination)!=null?ot:getDefaultPaginationState())},setPageIndex:nt=>{_e.setPagination(ot=>{let it=functionalUpdate(nt,ot.pageIndex);const lt=typeof _e.options.pageCount>"u"||_e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:_e.options.pageCount-1;return it=Math.max(0,Math.min(it,lt)),{...ot,pageIndex:it}})},resetPageIndex:nt=>{var ot,it,lt;_e.setPageIndex(nt?defaultPageIndex:(ot=(it=_e.initialState)==null||(lt=it.pagination)==null?void 0:lt.pageIndex)!=null?ot:defaultPageIndex)},resetPageSize:nt=>{var ot,it,lt;_e.setPageSize(nt?defaultPageSize:(ot=(it=_e.initialState)==null||(lt=it.pagination)==null?void 0:lt.pageSize)!=null?ot:defaultPageSize)},setPageSize:nt=>{_e.setPagination(ot=>{const it=Math.max(1,functionalUpdate(nt,ot.pageSize)),lt=ot.pageSize*ot.pageIndex,at=Math.floor(lt/it);return{...ot,pageIndex:at,pageSize:it}})},setPageCount:nt=>_e.setPagination(ot=>{var it;let lt=functionalUpdate(nt,(it=_e.options.pageCount)!=null?it:-1);return typeof lt=="number"&&(lt=Math.max(-1,lt)),{...ot,pageCount:lt}}),getPageOptions:memo(()=>[_e.getPageCount()],nt=>{let ot=[];return nt&&nt>0&&(ot=[...new Array(nt)].fill(null).map((it,lt)=>lt)),ot},{key:!1,debug:()=>{var nt;return(nt=_e.options.debugAll)!=null?nt:_e.options.debugTable}}),getCanPreviousPage:()=>_e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:nt}=_e.getState().pagination,ot=_e.getPageCount();return ot===-1?!0:ot===0?!1:nt<ot-1},previousPage:()=>_e.setPageIndex(nt=>nt-1),nextPage:()=>_e.setPageIndex(nt=>nt+1),getPrePaginationRowModel:()=>_e.getExpandedRowModel(),getPaginationRowModel:()=>(!_e._getPaginationRowModel&&_e.options.getPaginationRowModel&&(_e._getPaginationRowModel=_e.options.getPaginationRowModel(_e)),_e.options.manualPagination||!_e._getPaginationRowModel?_e.getPrePaginationRowModel():_e._getPaginationRowModel()),getPageCount:()=>{var nt;return(nt=_e.options.pageCount)!=null?nt:Math.ceil(_e.getPrePaginationRowModel().rows.length/_e.getState().pagination.pageSize)}}}},getDefaultPinningState=()=>({left:[],right:[]}),Pinning={getInitialState:_e=>({columnPinning:getDefaultPinningState(),..._e}),getDefaultOptions:_e=>({onColumnPinningChange:makeStateUpdater("columnPinning",_e)}),createColumn:(_e,et)=>({pin:tt=>{const nt=_e.getLeafColumns().map(ot=>ot.id).filter(Boolean);et.setColumnPinning(ot=>{var it,lt;if(tt==="right"){var at,st;return{left:((at=ot==null?void 0:ot.left)!=null?at:[]).filter(ft=>!(nt!=null&&nt.includes(ft))),right:[...((st=ot==null?void 0:ot.right)!=null?st:[]).filter(ft=>!(nt!=null&&nt.includes(ft))),...nt]}}if(tt==="left"){var ut,ct;return{left:[...((ut=ot==null?void 0:ot.left)!=null?ut:[]).filter(ft=>!(nt!=null&&nt.includes(ft))),...nt],right:((ct=ot==null?void 0:ot.right)!=null?ct:[]).filter(ft=>!(nt!=null&&nt.includes(ft)))}}return{left:((it=ot==null?void 0:ot.left)!=null?it:[]).filter(ft=>!(nt!=null&&nt.includes(ft))),right:((lt=ot==null?void 0:ot.right)!=null?lt:[]).filter(ft=>!(nt!=null&&nt.includes(ft)))}})},getCanPin:()=>_e.getLeafColumns().some(nt=>{var ot,it;return((ot=nt.columnDef.enablePinning)!=null?ot:!0)&&((it=et.options.enablePinning)!=null?it:!0)}),getIsPinned:()=>{const tt=_e.getLeafColumns().map(at=>at.id),{left:nt,right:ot}=et.getState().columnPinning,it=tt.some(at=>nt==null?void 0:nt.includes(at)),lt=tt.some(at=>ot==null?void 0:ot.includes(at));return it?"left":lt?"right":!1},getPinnedIndex:()=>{var tt,nt,ot;const it=_e.getIsPinned();return it?(tt=(nt=et.getState().columnPinning)==null||(ot=nt[it])==null?void 0:ot.indexOf(_e.id))!=null?tt:-1:0}}),createRow:(_e,et)=>({getCenterVisibleCells:memo(()=>[_e._getAllVisibleCells(),et.getState().columnPinning.left,et.getState().columnPinning.right],(tt,nt,ot)=>{const it=[...nt??[],...ot??[]];return tt.filter(lt=>!it.includes(lt.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var tt;return(tt=et.options.debugAll)!=null?tt:et.options.debugRows}}),getLeftVisibleCells:memo(()=>[_e._getAllVisibleCells(),et.getState().columnPinning.left,,],(tt,nt)=>(nt??[]).map(it=>tt.find(lt=>lt.column.id===it)).filter(Boolean).map(it=>({...it,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var tt;return(tt=et.options.debugAll)!=null?tt:et.options.debugRows}}),getRightVisibleCells:memo(()=>[_e._getAllVisibleCells(),et.getState().columnPinning.right],(tt,nt)=>(nt??[]).map(it=>tt.find(lt=>lt.column.id===it)).filter(Boolean).map(it=>({...it,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var tt;return(tt=et.options.debugAll)!=null?tt:et.options.debugRows}})}),createTable:_e=>({setColumnPinning:et=>_e.options.onColumnPinningChange==null?void 0:_e.options.onColumnPinningChange(et),resetColumnPinning:et=>{var tt,nt;return _e.setColumnPinning(et?getDefaultPinningState():(tt=(nt=_e.initialState)==null?void 0:nt.columnPinning)!=null?tt:getDefaultPinningState())},getIsSomeColumnsPinned:et=>{var tt;const nt=_e.getState().columnPinning;if(!et){var ot,it;return Boolean(((ot=nt.left)==null?void 0:ot.length)||((it=nt.right)==null?void 0:it.length))}return Boolean((tt=nt[et])==null?void 0:tt.length)},getLeftLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.left],(et,tt)=>(tt??[]).map(nt=>et.find(ot=>ot.id===nt)).filter(Boolean),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugColumns}}),getRightLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.right],(et,tt)=>(tt??[]).map(nt=>et.find(ot=>ot.id===nt)).filter(Boolean),{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugColumns}}),getCenterLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(et,tt,nt)=>{const ot=[...tt??[],...nt??[]];return et.filter(it=>!ot.includes(it.id))},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugColumns}})})},RowSelection={getInitialState:_e=>({rowSelection:{},..._e}),getDefaultOptions:_e=>({onRowSelectionChange:makeStateUpdater("rowSelection",_e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:_e=>({setRowSelection:et=>_e.options.onRowSelectionChange==null?void 0:_e.options.onRowSelectionChange(et),resetRowSelection:et=>{var tt;return _e.setRowSelection(et?{}:(tt=_e.initialState.rowSelection)!=null?tt:{})},toggleAllRowsSelected:et=>{_e.setRowSelection(tt=>{et=typeof et<"u"?et:!_e.getIsAllRowsSelected();const nt={...tt},ot=_e.getPreGroupedRowModel().flatRows;return et?ot.forEach(it=>{it.getCanSelect()&&(nt[it.id]=!0)}):ot.forEach(it=>{delete nt[it.id]}),nt})},toggleAllPageRowsSelected:et=>_e.setRowSelection(tt=>{const nt=typeof et<"u"?et:!_e.getIsAllPageRowsSelected(),ot={...tt};return _e.getRowModel().rows.forEach(it=>{mutateRowIsSelected(ot,it.id,nt,_e)}),ot}),getPreSelectedRowModel:()=>_e.getCoreRowModel(),getSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getCoreRowModel()],(et,tt)=>Object.keys(et).length?selectRowsFn(_e,tt):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugTable}}),getFilteredSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getFilteredRowModel()],(et,tt)=>Object.keys(et).length?selectRowsFn(_e,tt):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugTable}}),getGroupedSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getSortedRowModel()],(et,tt)=>Object.keys(et).length?selectRowsFn(_e,tt):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugTable}}),getIsAllRowsSelected:()=>{const et=_e.getFilteredRowModel().flatRows,{rowSelection:tt}=_e.getState();let nt=Boolean(et.length&&Object.keys(tt).length);return nt&&et.some(ot=>ot.getCanSelect()&&!tt[ot.id])&&(nt=!1),nt},getIsAllPageRowsSelected:()=>{const et=_e.getPaginationRowModel().flatRows,{rowSelection:tt}=_e.getState();let nt=!!et.length;return nt&&et.some(ot=>ot.getCanSelect()&&!tt[ot.id])&&(nt=!1),nt},getIsSomeRowsSelected:()=>{var et;const tt=Object.keys((et=_e.getState().rowSelection)!=null?et:{}).length;return tt>0&&tt<_e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const et=_e.getPaginationRowModel().flatRows;return _e.getIsAllPageRowsSelected()?!1:et.some(tt=>tt.getIsSelected()||tt.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>et=>{_e.toggleAllRowsSelected(et.target.checked)},getToggleAllPageRowsSelectedHandler:()=>et=>{_e.toggleAllPageRowsSelected(et.target.checked)}}),createRow:(_e,et)=>({toggleSelected:tt=>{const nt=_e.getIsSelected();et.setRowSelection(ot=>{if(tt=typeof tt<"u"?tt:!nt,nt===tt)return ot;const it={...ot};return mutateRowIsSelected(it,_e.id,tt,et),it})},getIsSelected:()=>{const{rowSelection:tt}=et.getState();return isRowSelected(_e,tt)},getIsSomeSelected:()=>{const{rowSelection:tt}=et.getState();return isSubRowSelected(_e,tt)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:tt}=et.getState();return isSubRowSelected(_e,tt)==="all"},getCanSelect:()=>{var tt;return typeof et.options.enableRowSelection=="function"?et.options.enableRowSelection(_e):(tt=et.options.enableRowSelection)!=null?tt:!0},getCanSelectSubRows:()=>{var tt;return typeof et.options.enableSubRowSelection=="function"?et.options.enableSubRowSelection(_e):(tt=et.options.enableSubRowSelection)!=null?tt:!0},getCanMultiSelect:()=>{var tt;return typeof et.options.enableMultiRowSelection=="function"?et.options.enableMultiRowSelection(_e):(tt=et.options.enableMultiRowSelection)!=null?tt:!0},getToggleSelectedHandler:()=>{const tt=_e.getCanSelect();return nt=>{var ot;tt&&_e.toggleSelected((ot=nt.target)==null?void 0:ot.checked)}}})},mutateRowIsSelected=(_e,et,tt,nt)=>{var ot;const it=nt.getRow(et);tt?(it.getCanMultiSelect()||Object.keys(_e).forEach(lt=>delete _e[lt]),it.getCanSelect()&&(_e[et]=!0)):delete _e[et],(ot=it.subRows)!=null&&ot.length&&it.getCanSelectSubRows()&&it.subRows.forEach(lt=>mutateRowIsSelected(_e,lt.id,tt,nt))};function selectRowsFn(_e,et){const tt=_e.getState().rowSelection,nt=[],ot={},it=function(lt,at){return lt.map(st=>{var ut;const ct=isRowSelected(st,tt);if(ct&&(nt.push(st),ot[st.id]=st),(ut=st.subRows)!=null&&ut.length&&(st={...st,subRows:it(st.subRows)}),ct)return st}).filter(Boolean)};return{rows:it(et.rows),flatRows:nt,rowsById:ot}}function isRowSelected(_e,et){var tt;return(tt=et[_e.id])!=null?tt:!1}function isSubRowSelected(_e,et,tt){if(_e.subRows&&_e.subRows.length){let nt=!0,ot=!1;return _e.subRows.forEach(it=>{ot&&!nt||(isRowSelected(it,et)?ot=!0:nt=!1)}),nt?"all":ot?"some":!1}return!1}const reSplitAlphaNumeric=/([0-9]+)/gm,alphanumeric=(_e,et,tt)=>compareAlphanumeric(toString(_e.getValue(tt)).toLowerCase(),toString(et.getValue(tt)).toLowerCase()),alphanumericCaseSensitive=(_e,et,tt)=>compareAlphanumeric(toString(_e.getValue(tt)),toString(et.getValue(tt))),text=(_e,et,tt)=>compareBasic(toString(_e.getValue(tt)).toLowerCase(),toString(et.getValue(tt)).toLowerCase()),textCaseSensitive=(_e,et,tt)=>compareBasic(toString(_e.getValue(tt)),toString(et.getValue(tt))),datetime=(_e,et,tt)=>{const nt=_e.getValue(tt),ot=et.getValue(tt);return nt>ot?1:nt<ot?-1:0},basic=(_e,et,tt)=>compareBasic(_e.getValue(tt),et.getValue(tt));function compareBasic(_e,et){return _e===et?0:_e>et?1:-1}function toString(_e){return typeof _e=="number"?isNaN(_e)||_e===1/0||_e===-1/0?"":String(_e):typeof _e=="string"?_e:""}function compareAlphanumeric(_e,et){const tt=_e.split(reSplitAlphaNumeric).filter(Boolean),nt=et.split(reSplitAlphaNumeric).filter(Boolean);for(;tt.length&&nt.length;){const ot=tt.shift(),it=nt.shift(),lt=parseInt(ot,10),at=parseInt(it,10),st=[lt,at].sort();if(isNaN(st[0])){if(ot>it)return 1;if(it>ot)return-1;continue}if(isNaN(st[1]))return isNaN(lt)?-1:1;if(lt>at)return 1;if(at>lt)return-1}return tt.length-nt.length}const sortingFns={alphanumeric,alphanumericCaseSensitive,text,textCaseSensitive,datetime,basic},Sorting={getInitialState:_e=>({sorting:[],..._e}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:_e=>({onSortingChange:makeStateUpdater("sorting",_e),isMultiSortEvent:et=>et.shiftKey}),createColumn:(_e,et)=>({getAutoSortingFn:()=>{const tt=et.getFilteredRowModel().flatRows.slice(10);let nt=!1;for(const ot of tt){const it=ot==null?void 0:ot.getValue(_e.id);if(Object.prototype.toString.call(it)==="[object Date]")return sortingFns.datetime;if(typeof it=="string"&&(nt=!0,it.split(reSplitAlphaNumeric).length>1))return sortingFns.alphanumeric}return nt?sortingFns.text:sortingFns.basic},getAutoSortDir:()=>{const tt=et.getFilteredRowModel().flatRows[0];return typeof(tt==null?void 0:tt.getValue(_e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var tt,nt;if(!_e)throw new Error;return isFunction(_e.columnDef.sortingFn)?_e.columnDef.sortingFn:_e.columnDef.sortingFn==="auto"?_e.getAutoSortingFn():(tt=(nt=et.options.sortingFns)==null?void 0:nt[_e.columnDef.sortingFn])!=null?tt:sortingFns[_e.columnDef.sortingFn]},toggleSorting:(tt,nt)=>{const ot=_e.getNextSortingOrder(),it=typeof tt<"u"&&tt!==null;et.setSorting(lt=>{const at=lt==null?void 0:lt.find(ht=>ht.id===_e.id),st=lt==null?void 0:lt.findIndex(ht=>ht.id===_e.id);let ut=[],ct,ft=it?tt:ot==="desc";if(lt!=null&&lt.length&&_e.getCanMultiSort()&&nt?at?ct="toggle":ct="add":lt!=null&&lt.length&&st!==lt.length-1?ct="replace":at?ct="toggle":ct="replace",ct==="toggle"&&(it||ot||(ct="remove")),ct==="add"){var dt;ut=[...lt,{id:_e.id,desc:ft}],ut.splice(0,ut.length-((dt=et.options.maxMultiSortColCount)!=null?dt:Number.MAX_SAFE_INTEGER))}else ct==="toggle"?ut=lt.map(ht=>ht.id===_e.id?{...ht,desc:ft}:ht):ct==="remove"?ut=lt.filter(ht=>ht.id!==_e.id):ut=[{id:_e.id,desc:ft}];return ut})},getFirstSortDir:()=>{var tt,nt;return((tt=(nt=_e.columnDef.sortDescFirst)!=null?nt:et.options.sortDescFirst)!=null?tt:_e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:tt=>{var nt,ot;const it=_e.getFirstSortDir(),lt=_e.getIsSorted();return lt?lt!==it&&((nt=et.options.enableSortingRemoval)==null||nt)&&(!(tt&&(ot=et.options.enableMultiRemove)!=null)||ot)?!1:lt==="desc"?"asc":"desc":it},getCanSort:()=>{var tt,nt;return((tt=_e.columnDef.enableSorting)!=null?tt:!0)&&((nt=et.options.enableSorting)!=null?nt:!0)&&!!_e.accessorFn},getCanMultiSort:()=>{var tt,nt;return(tt=(nt=_e.columnDef.enableMultiSort)!=null?nt:et.options.enableMultiSort)!=null?tt:!!_e.accessorFn},getIsSorted:()=>{var tt;const nt=(tt=et.getState().sorting)==null?void 0:tt.find(ot=>ot.id===_e.id);return nt?nt.desc?"desc":"asc":!1},getSortIndex:()=>{var tt,nt;return(tt=(nt=et.getState().sorting)==null?void 0:nt.findIndex(ot=>ot.id===_e.id))!=null?tt:-1},clearSorting:()=>{et.setSorting(tt=>tt!=null&&tt.length?tt.filter(nt=>nt.id!==_e.id):[])},getToggleSortingHandler:()=>{const tt=_e.getCanSort();return nt=>{tt&&(nt.persist==null||nt.persist(),_e.toggleSorting==null||_e.toggleSorting(void 0,_e.getCanMultiSort()?et.options.isMultiSortEvent==null?void 0:et.options.isMultiSortEvent(nt):!1))}}}),createTable:_e=>({setSorting:et=>_e.options.onSortingChange==null?void 0:_e.options.onSortingChange(et),resetSorting:et=>{var tt,nt;_e.setSorting(et?[]:(tt=(nt=_e.initialState)==null?void 0:nt.sorting)!=null?tt:[])},getPreSortedRowModel:()=>_e.getGroupedRowModel(),getSortedRowModel:()=>(!_e._getSortedRowModel&&_e.options.getSortedRowModel&&(_e._getSortedRowModel=_e.options.getSortedRowModel(_e)),_e.options.manualSorting||!_e._getSortedRowModel?_e.getPreSortedRowModel():_e._getSortedRowModel())})},Visibility={getInitialState:_e=>({columnVisibility:{},..._e}),getDefaultOptions:_e=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",_e)}),createColumn:(_e,et)=>({toggleVisibility:tt=>{_e.getCanHide()&&et.setColumnVisibility(nt=>({...nt,[_e.id]:tt??!_e.getIsVisible()}))},getIsVisible:()=>{var tt,nt;return(tt=(nt=et.getState().columnVisibility)==null?void 0:nt[_e.id])!=null?tt:!0},getCanHide:()=>{var tt,nt;return((tt=_e.columnDef.enableHiding)!=null?tt:!0)&&((nt=et.options.enableHiding)!=null?nt:!0)},getToggleVisibilityHandler:()=>tt=>{_e.toggleVisibility==null||_e.toggleVisibility(tt.target.checked)}}),createRow:(_e,et)=>({_getAllVisibleCells:memo(()=>[_e.getAllCells(),et.getState().columnVisibility],tt=>tt.filter(nt=>nt.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var tt;return(tt=et.options.debugAll)!=null?tt:et.options.debugRows}}),getVisibleCells:memo(()=>[_e.getLeftVisibleCells(),_e.getCenterVisibleCells(),_e.getRightVisibleCells()],(tt,nt,ot)=>[...tt,...nt,...ot],{key:!1,debug:()=>{var tt;return(tt=et.options.debugAll)!=null?tt:et.options.debugRows}})}),createTable:_e=>{const et=(tt,nt)=>memo(()=>[nt(),nt().filter(ot=>ot.getIsVisible()).map(ot=>ot.id).join("_")],ot=>ot.filter(it=>it.getIsVisible==null?void 0:it.getIsVisible()),{key:tt,debug:()=>{var ot;return(ot=_e.options.debugAll)!=null?ot:_e.options.debugColumns}});return{getVisibleFlatColumns:et("getVisibleFlatColumns",()=>_e.getAllFlatColumns()),getVisibleLeafColumns:et("getVisibleLeafColumns",()=>_e.getAllLeafColumns()),getLeftVisibleLeafColumns:et("getLeftVisibleLeafColumns",()=>_e.getLeftLeafColumns()),getRightVisibleLeafColumns:et("getRightVisibleLeafColumns",()=>_e.getRightLeafColumns()),getCenterVisibleLeafColumns:et("getCenterVisibleLeafColumns",()=>_e.getCenterLeafColumns()),setColumnVisibility:tt=>_e.options.onColumnVisibilityChange==null?void 0:_e.options.onColumnVisibilityChange(tt),resetColumnVisibility:tt=>{var nt;_e.setColumnVisibility(tt?{}:(nt=_e.initialState.columnVisibility)!=null?nt:{})},toggleAllColumnsVisible:tt=>{var nt;tt=(nt=tt)!=null?nt:!_e.getIsAllColumnsVisible(),_e.setColumnVisibility(_e.getAllLeafColumns().reduce((ot,it)=>({...ot,[it.id]:tt||!(it.getCanHide!=null&&it.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!_e.getAllLeafColumns().some(tt=>!(tt.getIsVisible!=null&&tt.getIsVisible())),getIsSomeColumnsVisible:()=>_e.getAllLeafColumns().some(tt=>tt.getIsVisible==null?void 0:tt.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>tt=>{var nt;_e.toggleAllColumnsVisible((nt=tt.target)==null?void 0:nt.checked)}}}},features=[Headers,Visibility,Ordering,Pinning,Filters,Sorting,Grouping,Expanding,Pagination,RowSelection,ColumnSizing];function createTable(_e){var et;(_e.debugAll||_e.debugTable)&&console.info("Creating Table Instance...");let tt={_features:features};const nt=tt._features.reduce((ct,ft)=>Object.assign(ct,ft.getDefaultOptions==null?void 0:ft.getDefaultOptions(tt)),{}),ot=ct=>tt.options.mergeOptions?tt.options.mergeOptions(nt,ct):{...nt,...ct};let lt={...{},...(et=_e.initialState)!=null?et:{}};tt._features.forEach(ct=>{var ft;lt=(ft=ct.getInitialState==null?void 0:ct.getInitialState(lt))!=null?ft:lt});const at=[];let st=!1;const ut={_features:features,options:{...nt,..._e},initialState:lt,_queue:ct=>{at.push(ct),st||(st=!0,Promise.resolve().then(()=>{for(;at.length;)at.shift()();st=!1}).catch(ft=>setTimeout(()=>{throw ft})))},reset:()=>{tt.setState(tt.initialState)},setOptions:ct=>{const ft=functionalUpdate(ct,tt.options);tt.options=ot(ft)},getState:()=>tt.options.state,setState:ct=>{tt.options.onStateChange==null||tt.options.onStateChange(ct)},_getRowId:(ct,ft,dt)=>{var ht;return(ht=tt.options.getRowId==null?void 0:tt.options.getRowId(ct,ft,dt))!=null?ht:`${dt?[dt.id,ft].join("."):ft}`},getCoreRowModel:()=>(tt._getCoreRowModel||(tt._getCoreRowModel=tt.options.getCoreRowModel(tt)),tt._getCoreRowModel()),getRowModel:()=>tt.getPaginationRowModel(),getRow:ct=>{const ft=tt.getRowModel().rowsById[ct];if(!ft)throw new Error;return ft},_getDefaultColumnDef:memo(()=>[tt.options.defaultColumn],ct=>{var ft;return ct=(ft=ct)!=null?ft:{},{header:dt=>{const ht=dt.header.column.columnDef;return ht.accessorKey?ht.accessorKey:ht.accessorFn?ht.id:null},cell:dt=>{var ht,gt;return(ht=(gt=dt.renderValue())==null||gt.toString==null?void 0:gt.toString())!=null?ht:null},...tt._features.reduce((dt,ht)=>Object.assign(dt,ht.getDefaultColumnDef==null?void 0:ht.getDefaultColumnDef()),{}),...ct}},{debug:()=>{var ct;return(ct=tt.options.debugAll)!=null?ct:tt.options.debugColumns},key:!1}),_getColumnDefs:()=>tt.options.columns,getAllColumns:memo(()=>[tt._getColumnDefs()],ct=>{const ft=function(dt,ht,gt){return gt===void 0&&(gt=0),dt.map(yt=>{const Et=createColumn(tt,yt,gt,ht),mt=yt;return Et.columns=mt.columns?ft(mt.columns,Et,gt+1):[],Et})};return ft(ct)},{key:!1,debug:()=>{var ct;return(ct=tt.options.debugAll)!=null?ct:tt.options.debugColumns}}),getAllFlatColumns:memo(()=>[tt.getAllColumns()],ct=>ct.flatMap(ft=>ft.getFlatColumns()),{key:!1,debug:()=>{var ct;return(ct=tt.options.debugAll)!=null?ct:tt.options.debugColumns}}),_getAllFlatColumnsById:memo(()=>[tt.getAllFlatColumns()],ct=>ct.reduce((ft,dt)=>(ft[dt.id]=dt,ft),{}),{key:!1,debug:()=>{var ct;return(ct=tt.options.debugAll)!=null?ct:tt.options.debugColumns}}),getAllLeafColumns:memo(()=>[tt.getAllColumns(),tt._getOrderColumnsFn()],(ct,ft)=>{let dt=ct.flatMap(ht=>ht.getLeafColumns());return ft(dt)},{key:!1,debug:()=>{var ct;return(ct=tt.options.debugAll)!=null?ct:tt.options.debugColumns}}),getColumn:ct=>tt._getAllFlatColumnsById()[ct]};return Object.assign(tt,ut),tt._features.forEach(ct=>Object.assign(tt,ct.createTable==null?void 0:ct.createTable(tt))),tt}function createCell(_e,et,tt,nt){const ot=()=>{var lt;return(lt=it.getValue())!=null?lt:_e.options.renderFallbackValue},it={id:`${et.id}_${tt.id}`,row:et,column:tt,getValue:()=>et.getValue(nt),renderValue:ot,getContext:memo(()=>[_e,tt,et,it],(lt,at,st,ut)=>({table:lt,column:at,row:st,cell:ut,getValue:ut.getValue,renderValue:ut.renderValue}),{key:!1,debug:()=>_e.options.debugAll})};return _e._features.forEach(lt=>{Object.assign(it,lt.createCell==null?void 0:lt.createCell(it,tt,et,_e))},{}),it}const createRow=(_e,et,tt,nt,ot,it)=>{let lt={id:et,index:nt,original:tt,depth:ot,_valuesCache:{},_uniqueValuesCache:{},getValue:at=>{if(lt._valuesCache.hasOwnProperty(at))return lt._valuesCache[at];const st=_e.getColumn(at);if(st!=null&&st.accessorFn)return lt._valuesCache[at]=st.accessorFn(lt.original,nt),lt._valuesCache[at]},getUniqueValues:at=>{if(lt._uniqueValuesCache.hasOwnProperty(at))return lt._uniqueValuesCache[at];const st=_e.getColumn(at);if(st!=null&&st.accessorFn)return st.columnDef.getUniqueValues?(lt._uniqueValuesCache[at]=st.columnDef.getUniqueValues(lt.original,nt),lt._uniqueValuesCache[at]):(lt._uniqueValuesCache[at]=[lt.getValue(at)],lt._uniqueValuesCache[at])},renderValue:at=>{var st;return(st=lt.getValue(at))!=null?st:_e.options.renderFallbackValue},subRows:it??[],getLeafRows:()=>flattenBy(lt.subRows,at=>at.subRows),getAllCells:memo(()=>[_e.getAllLeafColumns()],at=>at.map(st=>createCell(_e,lt,st,st.id)),{key:!1,debug:()=>{var at;return(at=_e.options.debugAll)!=null?at:_e.options.debugRows}}),_getAllCellsByColumnId:memo(()=>[lt.getAllCells()],at=>at.reduce((st,ut)=>(st[ut.column.id]=ut,st),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var at;return(at=_e.options.debugAll)!=null?at:_e.options.debugRows}})};for(let at=0;at<_e._features.length;at++){const st=_e._features[at];Object.assign(lt,st==null||st.createRow==null?void 0:st.createRow(lt,_e))}return lt};function createColumnHelper(){return{accessor:(_e,et)=>typeof _e=="function"?{...et,accessorFn:_e}:{...et,accessorKey:_e},display:_e=>_e,group:_e=>_e}}function getCoreRowModel(){return _e=>memo(()=>[_e.options.data],et=>{const tt={rows:[],flatRows:[],rowsById:{}},nt=function(ot,it,lt){it===void 0&&(it=0);const at=[];for(let ut=0;ut<ot.length;ut++){const ct=createRow(_e,_e._getRowId(ot[ut],ut,lt),ot[ut],ut,it);if(tt.flatRows.push(ct),tt.rowsById[ct.id]=ct,at.push(ct),_e.options.getSubRows){var st;ct.originalSubRows=_e.options.getSubRows(ot[ut],ut),(st=ct.originalSubRows)!=null&&st.length&&(ct.subRows=nt(ct.originalSubRows,it+1,ct))}}return at};return tt.rows=nt(et),tt},{key:!1,debug:()=>{var et;return(et=_e.options.debugAll)!=null?et:_e.options.debugTable},onChange:()=>{_e._autoResetPageIndex()}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function flexRender(_e,et){return _e?isReactComponent(_e)?reactExports.createElement(_e,et):_e:null}function isReactComponent(_e){return isClassComponent(_e)||typeof _e=="function"||isExoticComponent(_e)}function isClassComponent(_e){return typeof _e=="function"&&(()=>{const et=Object.getPrototypeOf(_e);return et.prototype&&et.prototype.isReactComponent})()}function isExoticComponent(_e){return typeof _e=="object"&&typeof _e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(_e.$$typeof.description)}function useReactTable(_e){const et={state:{},onStateChange:()=>{},renderFallbackValue:null,..._e},[tt]=reactExports.useState(()=>({current:createTable(et)})),[nt,ot]=reactExports.useState(()=>tt.current.initialState);return tt.current.setOptions(it=>({...it,..._e,state:{...nt,..._e.state},onStateChange:lt=>{ot(lt),_e.onStateChange==null||_e.onStateChange(lt)}})),tt.current}function ROIsTable(_e){const{data:et=[]}=_e,tt=createColumnHelper(),nt=[tt.accessor("crop",{header:()=>"Crop",cell:it=>jsx(ImageViewer$1,{image:it.getValue(),zoom:.4})}),tt.accessor("width",{header:()=>"Width",cell:it=>it.getValue()}),tt.accessor("height",{header:()=>"Height"}),tt.accessor("hull.surface",{header:()=>"Hull surface",cell:it=>it.getValue().toFixed(0)}),tt.accessor("mbr.surface",{header:()=>"MBR surface",cell:it=>it.getValue().toFixed(0)})],ot=useReactTable({data:et,columns:nt,getCoreRowModel:getCoreRowModel()});return jsxs("table",{children:[jsx("thead",{children:ot.getHeaderGroups().map(it=>jsx("tr",{children:it.headers.map(lt=>jsx("th",{children:lt.isPlaceholder?null:flexRender(lt.column.columnDef.header,lt.getContext())},lt.id))},it.id))}),jsx("tbody",{children:ot.getRowModel().rows.map(it=>jsx("tr",{children:it.getVisibleCells().map(lt=>jsx("td",{children:flexRender(lt.column.columnDef.cell,lt.getContext())},lt.id))},it.id))})]})}function ExploreROIs(_e){let{image:et}=_e;if(!et)return jsx("div",{children:"No selected image"});let tt=et.clone();et.channels>1&&(et=et.grey());const nt=threshold(et,{algorithm:ThresholdAlgorithm.MINIMUM});let it=fromMask(nt).getRois({kind:RoiKind.BLACK,minSurface:100});const lt=[];for(const at of it){const st=at.getMask();tt.paintMask(st,{origin:at.origin,color:[255,0,0,255],out:tt});const ut={origin:at.origin,width:at.width,height:at.height,surface:at.surface,mbr:st.getMbr(),feret:st.getFeret(),hull:st.getConvexHull(),crop:tt.crop(at)};lt.push(ut)}return jsxs("div",{children:[jsx(ROIsTable,{data:lt}),jsx(ImageViewer$1,{image:tt,zoom:.5})]})}function ExploreROIsWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreROIs,{image:_e.data.image})}function MyTabs(){const _e=["Image","Grey","Mask","ROIs","Check state"];return jsxs(rt.Group,{children:[jsx(rt.List,{children:_e.map(et=>jsx(rt,{as:reactExports.Fragment,children:({selected:tt})=>jsx("button",{className:tt?"bg-blue-500 text-white":"bg-white text-black",children:et})}))}),jsxs(rt.Panels,{children:[jsx(rt.Panel,{children:jsx(ImageViewerWrapper,{})}),jsx(rt.Panel,{children:jsx(ExploreGreyWrapper,{})}),jsx(rt.Panel,{children:jsx(ExploreMaskWrapper,{})}),jsx(rt.Panel,{children:jsx(ExploreROIsWrapper,{})}),jsx(rt.Panel,{children:jsx(ObjectInspectorWrapper,{})})]})]})}function App(){const[_e,et]=reactExports.useState({data:defaultDataValue,view:{},settings:{}}),tt=getDataActions(_e,et);return jsx(GlobalContext.Provider,{value:{globalState:_e,setGlobalState:et},children:jsx(DataContext.Provider,{value:{data:_e.data,actions:tt},children:jsxs("div",{children:[jsx(LoadImage,{}),jsx(MyTabs,{})]})})})}const index="";client.createRoot(document.querySelector("#root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
