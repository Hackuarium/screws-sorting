var $r=Object.defineProperty;var yr=(rt,it,at)=>it in rt?$r(rt,it,{enumerable:!0,configurable:!0,writable:!0,value:at}):rt[it]=at;var Zn=(rt,it,at)=>(yr(rt,typeof it!="symbol"?it+"":it,at),at);function _mergeNamespaces(rt,it){for(var at=0;at<it.length;at++){const lt=it[at];if(typeof lt!="string"&&!Array.isArray(lt)){for(const st in lt)if(st!=="default"&&!(st in rt)){const ct=Object.getOwnPropertyDescriptor(lt,st);ct&&Object.defineProperty(rt,st,ct.get?ct:{enumerable:!0,get:()=>lt[st]})}}}return Object.freeze(Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}))}(function(){const it=document.createElement("link").relList;if(it&&it.supports&&it.supports("modulepreload"))return;for(const st of document.querySelectorAll('link[rel="modulepreload"]'))lt(st);new MutationObserver(st=>{for(const ct of st)if(ct.type==="childList")for(const ut of ct.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&lt(ut)}).observe(document,{childList:!0,subtree:!0});function at(st){const ct={};return st.integrity&&(ct.integrity=st.integrity),st.referrerPolicy&&(ct.referrerPolicy=st.referrerPolicy),st.crossOrigin==="use-credentials"?ct.credentials="include":st.crossOrigin==="anonymous"?ct.credentials="omit":ct.credentials="same-origin",ct}function lt(st){if(st.ep)return;st.ep=!0;const ct=at(st);fetch(st.href,ct)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(rt){return rt&&rt.__esModule&&Object.prototype.hasOwnProperty.call(rt,"default")?rt.default:rt}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(rt){jsxRuntimeExports=rt}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(rt){reactExports=rt}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$a=Symbol.for("react.element"),n$a=Symbol.for("react.portal"),p$c=Symbol.for("react.fragment"),q$7=Symbol.for("react.strict_mode"),r$9=Symbol.for("react.profiler"),t$8=Symbol.for("react.provider"),u$b=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$9=Symbol.for("react.suspense"),x$9=Symbol.for("react.memo"),y$9=Symbol.for("react.lazy"),z$9=Symbol.iterator;function A$7(rt){return rt===null||typeof rt!="object"?null:(rt=z$9&&rt[z$9]||rt["@@iterator"],typeof rt=="function"?rt:null)}var B$8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$6=Object.assign,D$9={};function E$8(rt,it,at){this.props=rt,this.context=it,this.refs=D$9,this.updater=at||B$8}E$8.prototype.isReactComponent={};E$8.prototype.setState=function(rt,it){if(typeof rt!="object"&&typeof rt!="function"&&rt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,rt,it,"setState")};E$8.prototype.forceUpdate=function(rt){this.updater.enqueueForceUpdate(this,rt,"forceUpdate")};function F$6(){}F$6.prototype=E$8.prototype;function G$5(rt,it,at){this.props=rt,this.context=it,this.refs=D$9,this.updater=at||B$8}var H$6=G$5.prototype=new F$6;H$6.constructor=G$5;C$6(H$6,E$8.prototype);H$6.isPureReactComponent=!0;var I$5=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$3={current:null},L$9={key:!0,ref:!0,__self:!0,__source:!0};function M$5(rt,it,at){var lt,st={},ct=null,ut=null;if(it!=null)for(lt in it.ref!==void 0&&(ut=it.ref),it.key!==void 0&&(ct=""+it.key),it)J$3.call(it,lt)&&!L$9.hasOwnProperty(lt)&&(st[lt]=it[lt]);var ft=arguments.length-2;if(ft===1)st.children=at;else if(1<ft){for(var dt=Array(ft),pt=0;pt<ft;pt++)dt[pt]=arguments[pt+2];st.children=dt}if(rt&&rt.defaultProps)for(lt in ft=rt.defaultProps,ft)st[lt]===void 0&&(st[lt]=ft[lt]);return{$$typeof:l$a,type:rt,key:ct,ref:ut,props:st,_owner:K$3.current}}function N$7(rt,it){return{$$typeof:l$a,type:rt.type,key:it,ref:rt.ref,props:rt.props,_owner:rt._owner}}function O$5(rt){return typeof rt=="object"&&rt!==null&&rt.$$typeof===l$a}function escape(rt){var it={"=":"=0",":":"=2"};return"$"+rt.replace(/[=:]/g,function(at){return it[at]})}var P$5=/\/+/g;function Q$4(rt,it){return typeof rt=="object"&&rt!==null&&rt.key!=null?escape(""+rt.key):it.toString(36)}function R$5(rt,it,at,lt,st){var ct=typeof rt;(ct==="undefined"||ct==="boolean")&&(rt=null);var ut=!1;if(rt===null)ut=!0;else switch(ct){case"string":case"number":ut=!0;break;case"object":switch(rt.$$typeof){case l$a:case n$a:ut=!0}}if(ut)return ut=rt,st=st(ut),rt=lt===""?"."+Q$4(ut,0):lt,I$5(st)?(at="",rt!=null&&(at=rt.replace(P$5,"$&/")+"/"),R$5(st,it,at,"",function(pt){return pt})):st!=null&&(O$5(st)&&(st=N$7(st,at+(!st.key||ut&&ut.key===st.key?"":(""+st.key).replace(P$5,"$&/")+"/")+rt)),it.push(st)),1;if(ut=0,lt=lt===""?".":lt+":",I$5(rt))for(var ft=0;ft<rt.length;ft++){ct=rt[ft];var dt=lt+Q$4(ct,ft);ut+=R$5(ct,it,at,dt,st)}else if(dt=A$7(rt),typeof dt=="function")for(rt=dt.call(rt),ft=0;!(ct=rt.next()).done;)ct=ct.value,dt=lt+Q$4(ct,ft++),ut+=R$5(ct,it,at,dt,st);else if(ct==="object")throw it=String(rt),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(rt).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.");return ut}function S$5(rt,it,at){if(rt==null)return rt;var lt=[],st=0;return R$5(rt,lt,"","",function(ct){return it.call(at,ct,st++)}),lt}function T$6(rt){if(rt._status===-1){var it=rt._result;it=it(),it.then(function(at){(rt._status===0||rt._status===-1)&&(rt._status=1,rt._result=at)},function(at){(rt._status===0||rt._status===-1)&&(rt._status=2,rt._result=at)}),rt._status===-1&&(rt._status=0,rt._result=it)}if(rt._status===1)return rt._result.default;throw rt._result}var U$4={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$5,forEach:function(rt,it,at){S$5(rt,function(){it.apply(this,arguments)},at)},count:function(rt){var it=0;return S$5(rt,function(){it++}),it},toArray:function(rt){return S$5(rt,function(it){return it})||[]},only:function(rt){if(!O$5(rt))throw Error("React.Children.only expected to receive a single React element child.");return rt}};react_production_min.Component=E$8;react_production_min.Fragment=p$c;react_production_min.Profiler=r$9;react_production_min.PureComponent=G$5;react_production_min.StrictMode=q$7;react_production_min.Suspense=w$9;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(rt,it,at){if(rt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+rt+".");var lt=C$6({},rt.props),st=rt.key,ct=rt.ref,ut=rt._owner;if(it!=null){if(it.ref!==void 0&&(ct=it.ref,ut=K$3.current),it.key!==void 0&&(st=""+it.key),rt.type&&rt.type.defaultProps)var ft=rt.type.defaultProps;for(dt in it)J$3.call(it,dt)&&!L$9.hasOwnProperty(dt)&&(lt[dt]=it[dt]===void 0&&ft!==void 0?ft[dt]:it[dt])}var dt=arguments.length-2;if(dt===1)lt.children=at;else if(1<dt){ft=Array(dt);for(var pt=0;pt<dt;pt++)ft[pt]=arguments[pt+2];lt.children=ft}return{$$typeof:l$a,type:rt.type,key:st,ref:ct,props:lt,_owner:ut}};react_production_min.createContext=function(rt){return rt={$$typeof:u$b,_currentValue:rt,_currentValue2:rt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},rt.Provider={$$typeof:t$8,_context:rt},rt.Consumer=rt};react_production_min.createElement=M$5;react_production_min.createFactory=function(rt){var it=M$5.bind(null,rt);return it.type=rt,it};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(rt){return{$$typeof:v$6,render:rt}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(rt){return{$$typeof:y$9,_payload:{_status:-1,_result:rt},_init:T$6}};react_production_min.memo=function(rt,it){return{$$typeof:x$9,type:rt,compare:it===void 0?null:it}};react_production_min.startTransition=function(rt){var it=V$3.transition;V$3.transition={};try{rt()}finally{V$3.transition=it}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(rt,it){return U$4.current.useCallback(rt,it)};react_production_min.useContext=function(rt){return U$4.current.useContext(rt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(rt){return U$4.current.useDeferredValue(rt)};react_production_min.useEffect=function(rt,it){return U$4.current.useEffect(rt,it)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(rt,it,at){return U$4.current.useImperativeHandle(rt,it,at)};react_production_min.useInsertionEffect=function(rt,it){return U$4.current.useInsertionEffect(rt,it)};react_production_min.useLayoutEffect=function(rt,it){return U$4.current.useLayoutEffect(rt,it)};react_production_min.useMemo=function(rt,it){return U$4.current.useMemo(rt,it)};react_production_min.useReducer=function(rt,it,at){return U$4.current.useReducer(rt,it,at)};react_production_min.useRef=function(rt){return U$4.current.useRef(rt)};react_production_min.useState=function(rt){return U$4.current.useState(rt)};react_production_min.useSyncExternalStore=function(rt,it,at){return U$4.current.useSyncExternalStore(rt,it,at)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.2.0";(function(rt){rt.exports=react_production_min})(react);const React$8=getDefaultExportFromCjs(reactExports),e$6=_mergeNamespaces({__proto__:null,default:React$8},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k$7=Symbol.for("react.element"),l$9=Symbol.for("react.fragment"),m$8=Object.prototype.hasOwnProperty,n$9=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$b={key:!0,ref:!0,__self:!0,__source:!0};function q$6(rt,it,at){var lt,st={},ct=null,ut=null;at!==void 0&&(ct=""+at),it.key!==void 0&&(ct=""+it.key),it.ref!==void 0&&(ut=it.ref);for(lt in it)m$8.call(it,lt)&&!p$b.hasOwnProperty(lt)&&(st[lt]=it[lt]);if(rt&&rt.defaultProps)for(lt in it=rt.defaultProps,it)st[lt]===void 0&&(st[lt]=it[lt]);return{$$typeof:k$7,type:rt,key:ct,ref:ut,props:st,_owner:n$9.current}}reactJsxRuntime_production_min.Fragment=l$9;reactJsxRuntime_production_min.jsx=q$6;reactJsxRuntime_production_min.jsxs=q$6;(function(rt){rt.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(rt){reactDomExports=rt}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(rt){schedulerExports=rt}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(rt){function it(Pt,Lt){var Ft=Pt.length;Pt.push(Lt);e:for(;0<Ft;){var qt=Ft-1>>>1,Gt=Pt[qt];if(0<st(Gt,Lt))Pt[qt]=Lt,Pt[Ft]=Gt,Ft=qt;else break e}}function at(Pt){return Pt.length===0?null:Pt[0]}function lt(Pt){if(Pt.length===0)return null;var Lt=Pt[0],Ft=Pt.pop();if(Ft!==Lt){Pt[0]=Ft;e:for(var qt=0,Gt=Pt.length,Ut=Gt>>>1;qt<Ut;){var Vt=2*(qt+1)-1,Wt=Pt[Vt],ln=Vt+1,pn=Pt[ln];if(0>st(Wt,Ft))ln<Gt&&0>st(pn,Wt)?(Pt[qt]=pn,Pt[ln]=Ft,qt=ln):(Pt[qt]=Wt,Pt[Vt]=Ft,qt=Vt);else if(ln<Gt&&0>st(pn,Ft))Pt[qt]=pn,Pt[ln]=Ft,qt=ln;else break e}}return Lt}function st(Pt,Lt){var Ft=Pt.sortIndex-Lt.sortIndex;return Ft!==0?Ft:Pt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ct=performance;rt.unstable_now=function(){return ct.now()}}else{var ut=Date,ft=ut.now();rt.unstable_now=function(){return ut.now()-ft}}var dt=[],pt=[],ht=1,gt=null,mt=3,xt=!1,vt=!1,$t=!1,_t=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function wt(Pt){for(var Lt=at(pt);Lt!==null;){if(Lt.callback===null)lt(pt);else if(Lt.startTime<=Pt)lt(pt),Lt.sortIndex=Lt.expirationTime,it(dt,Lt);else break;Lt=at(pt)}}function bt(Pt){if($t=!1,wt(Pt),!vt)if(at(dt)!==null)vt=!0,zt(St);else{var Lt=at(pt);Lt!==null&&Yt(bt,Lt.startTime-Pt)}}function St(Pt,Lt){vt=!1,$t&&($t=!1,yt(kt),kt=-1),xt=!0;var Ft=mt;try{for(wt(Lt),gt=at(dt);gt!==null&&(!(gt.expirationTime>Lt)||Pt&&!Mt());){var qt=gt.callback;if(typeof qt=="function"){gt.callback=null,mt=gt.priorityLevel;var Gt=qt(gt.expirationTime<=Lt);Lt=rt.unstable_now(),typeof Gt=="function"?gt.callback=Gt:gt===at(dt)&&lt(dt),wt(Lt)}else lt(dt);gt=at(dt)}if(gt!==null)var Ut=!0;else{var Vt=at(pt);Vt!==null&&Yt(bt,Vt.startTime-Lt),Ut=!1}return Ut}finally{gt=null,mt=Ft,xt=!1}}var Tt=!1,Rt=null,kt=-1,At=5,Ct=-1;function Mt(){return!(rt.unstable_now()-Ct<At)}function Ot(){if(Rt!==null){var Pt=rt.unstable_now();Ct=Pt;var Lt=!0;try{Lt=Rt(!0,Pt)}finally{Lt?Nt():(Tt=!1,Rt=null)}}else Tt=!1}var Nt;if(typeof Et=="function")Nt=function(){Et(Ot)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Dt=It.port2;It.port1.onmessage=Ot,Nt=function(){Dt.postMessage(null)}}else Nt=function(){_t(Ot,0)};function zt(Pt){Rt=Pt,Tt||(Tt=!0,Nt())}function Yt(Pt,Lt){kt=_t(function(){Pt(rt.unstable_now())},Lt)}rt.unstable_IdlePriority=5,rt.unstable_ImmediatePriority=1,rt.unstable_LowPriority=4,rt.unstable_NormalPriority=3,rt.unstable_Profiling=null,rt.unstable_UserBlockingPriority=2,rt.unstable_cancelCallback=function(Pt){Pt.callback=null},rt.unstable_continueExecution=function(){vt||xt||(vt=!0,zt(St))},rt.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<Pt?Math.floor(1e3/Pt):5},rt.unstable_getCurrentPriorityLevel=function(){return mt},rt.unstable_getFirstCallbackNode=function(){return at(dt)},rt.unstable_next=function(Pt){switch(mt){case 1:case 2:case 3:var Lt=3;break;default:Lt=mt}var Ft=mt;mt=Lt;try{return Pt()}finally{mt=Ft}},rt.unstable_pauseExecution=function(){},rt.unstable_requestPaint=function(){},rt.unstable_runWithPriority=function(Pt,Lt){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Ft=mt;mt=Pt;try{return Lt()}finally{mt=Ft}},rt.unstable_scheduleCallback=function(Pt,Lt,Ft){var qt=rt.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?qt+Ft:qt):Ft=qt,Pt){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=Ft+Gt,Pt={id:ht++,callback:Lt,priorityLevel:Pt,startTime:Ft,expirationTime:Gt,sortIndex:-1},Ft>qt?(Pt.sortIndex=Ft,it(pt,Pt),at(dt)===null&&Pt===at(pt)&&($t?(yt(kt),kt=-1):$t=!0,Yt(bt,Ft-qt))):(Pt.sortIndex=Gt,it(dt,Pt),vt||xt||(vt=!0,zt(St))),Pt},rt.unstable_shouldYield=Mt,rt.unstable_wrapCallback=function(Pt){var Lt=mt;return function(){var Ft=mt;mt=Lt;try{return Pt.apply(this,arguments)}finally{mt=Ft}}}})(scheduler_production_min);(function(rt){rt.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca=schedulerExports;function p$a(rt){for(var it="https://reactjs.org/docs/error-decoder.html?invariant="+rt,at=1;at<arguments.length;at++)it+="&args[]="+encodeURIComponent(arguments[at]);return"Minified React error #"+rt+"; visit "+it+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(rt,it){ha(rt,it),ha(rt+"Capture",it)}function ha(rt,it){for(ea[rt]=it,rt=0;rt<it.length;rt++)da.add(it[rt])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma={};function oa(rt){return ja$1.call(ma,rt)?!0:ja$1.call(la$1,rt)?!1:ka$1.test(rt)?ma[rt]=!0:(la$1[rt]=!0,!1)}function pa(rt,it,at,lt){if(at!==null&&at.type===0)return!1;switch(typeof it){case"function":case"symbol":return!0;case"boolean":return lt?!1:at!==null?!at.acceptsBooleans:(rt=rt.toLowerCase().slice(0,5),rt!=="data-"&&rt!=="aria-");default:return!1}}function qa$1(rt,it,at,lt){if(it===null||typeof it>"u"||pa(rt,it,at,lt))return!0;if(lt)return!1;if(at!==null)switch(at.type){case 3:return!it;case 4:return it===!1;case 5:return isNaN(it);case 6:return isNaN(it)||1>it}return!1}function v$5(rt,it,at,lt,st,ct,ut){this.acceptsBooleans=it===2||it===3||it===4,this.attributeName=lt,this.attributeNamespace=st,this.mustUseProperty=at,this.propertyName=rt,this.type=it,this.sanitizeURL=ct,this.removeEmptyString=ut}var z$8={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(rt){z$8[rt]=new v$5(rt,0,!1,rt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(rt){var it=rt[0];z$8[it]=new v$5(it,1,!1,rt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(rt){z$8[rt]=new v$5(rt,2,!1,rt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(rt){z$8[rt]=new v$5(rt,2,!1,rt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(rt){z$8[rt]=new v$5(rt,3,!1,rt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(rt){z$8[rt]=new v$5(rt,3,!0,rt,null,!1,!1)});["capture","download"].forEach(function(rt){z$8[rt]=new v$5(rt,4,!1,rt,null,!1,!1)});["cols","rows","size","span"].forEach(function(rt){z$8[rt]=new v$5(rt,6,!1,rt,null,!1,!1)});["rowSpan","start"].forEach(function(rt){z$8[rt]=new v$5(rt,5,!1,rt.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(rt){return rt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(rt){var it=rt.replace(ra$1,sa$1);z$8[it]=new v$5(it,1,!1,rt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(rt){var it=rt.replace(ra$1,sa$1);z$8[it]=new v$5(it,1,!1,rt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(rt){var it=rt.replace(ra$1,sa$1);z$8[it]=new v$5(it,1,!1,rt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(rt){z$8[rt]=new v$5(rt,1,!1,rt.toLowerCase(),null,!1,!1)});z$8.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(rt){z$8[rt]=new v$5(rt,1,!1,rt.toLowerCase(),null,!0,!0)});function ta$1(rt,it,at,lt){var st=z$8.hasOwnProperty(it)?z$8[it]:null;(st!==null?st.type!==0:lt||!(2<it.length)||it[0]!=="o"&&it[0]!=="O"||it[1]!=="n"&&it[1]!=="N")&&(qa$1(it,at,st,lt)&&(at=null),lt||st===null?oa(it)&&(at===null?rt.removeAttribute(it):rt.setAttribute(it,""+at)):st.mustUseProperty?rt[st.propertyName]=at===null?st.type===3?!1:"":at:(it=st.attributeName,lt=st.attributeNamespace,at===null?rt.removeAttribute(it):(st=st.type,at=st===3||st===4&&at===!0?"":""+at,lt?rt.setAttributeNS(lt,it,at):rt.setAttribute(it,at))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(rt){return rt===null||typeof rt!="object"?null:(rt=Ja$1&&rt[Ja$1]||rt["@@iterator"],typeof rt=="function"?rt:null)}var A$6=Object.assign,La$1;function Ma$1(rt){if(La$1===void 0)try{throw Error()}catch(at){var it=at.stack.trim().match(/\n( *(at )?)/);La$1=it&&it[1]||""}return`
`+La$1+rt}var Na$1=!1;function Oa$1(rt,it){if(!rt||Na$1)return"";Na$1=!0;var at=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(it)if(it=function(){throw Error()},Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(pt){var lt=pt}Reflect.construct(rt,[],it)}else{try{it.call()}catch(pt){lt=pt}rt.call(it.prototype)}else{try{throw Error()}catch(pt){lt=pt}rt()}}catch(pt){if(pt&&lt&&typeof pt.stack=="string"){for(var st=pt.stack.split(`
`),ct=lt.stack.split(`
`),ut=st.length-1,ft=ct.length-1;1<=ut&&0<=ft&&st[ut]!==ct[ft];)ft--;for(;1<=ut&&0<=ft;ut--,ft--)if(st[ut]!==ct[ft]){if(ut!==1||ft!==1)do if(ut--,ft--,0>ft||st[ut]!==ct[ft]){var dt=`
`+st[ut].replace(" at new "," at ");return rt.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",rt.displayName)),dt}while(1<=ut&&0<=ft);break}}}finally{Na$1=!1,Error.prepareStackTrace=at}return(rt=rt?rt.displayName||rt.name:"")?Ma$1(rt):""}function Pa$1(rt){switch(rt.tag){case 5:return Ma$1(rt.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return rt=Oa$1(rt.type,!1),rt;case 11:return rt=Oa$1(rt.type.render,!1),rt;case 1:return rt=Oa$1(rt.type,!0),rt;default:return""}}function Qa$1(rt){if(rt==null)return null;if(typeof rt=="function")return rt.displayName||rt.name||null;if(typeof rt=="string")return rt;switch(rt){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof rt=="object")switch(rt.$$typeof){case Ca$1:return(rt.displayName||"Context")+".Consumer";case Ba$1:return(rt._context.displayName||"Context")+".Provider";case Da$1:var it=rt.render;return rt=rt.displayName,rt||(rt=it.displayName||it.name||"",rt=rt!==""?"ForwardRef("+rt+")":"ForwardRef"),rt;case Ga$1:return it=rt.displayName||null,it!==null?it:Qa$1(rt.type)||"Memo";case Ha$1:it=rt._payload,rt=rt._init;try{return Qa$1(rt(it))}catch{}}return null}function Ra$1(rt){var it=rt.type;switch(rt.tag){case 24:return"Cache";case 9:return(it.displayName||"Context")+".Consumer";case 10:return(it._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return rt=it.render,rt=rt.displayName||rt.name||"",it.displayName||(rt!==""?"ForwardRef("+rt+")":"ForwardRef");case 7:return"Fragment";case 5:return it;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(it);case 8:return it===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it}return null}function Sa$1(rt){switch(typeof rt){case"boolean":case"number":case"string":case"undefined":return rt;case"object":return rt;default:return""}}function Ta$1(rt){var it=rt.type;return(rt=rt.nodeName)&&rt.toLowerCase()==="input"&&(it==="checkbox"||it==="radio")}function Ua$1(rt){var it=Ta$1(rt)?"checked":"value",at=Object.getOwnPropertyDescriptor(rt.constructor.prototype,it),lt=""+rt[it];if(!rt.hasOwnProperty(it)&&typeof at<"u"&&typeof at.get=="function"&&typeof at.set=="function"){var st=at.get,ct=at.set;return Object.defineProperty(rt,it,{configurable:!0,get:function(){return st.call(this)},set:function(ut){lt=""+ut,ct.call(this,ut)}}),Object.defineProperty(rt,it,{enumerable:at.enumerable}),{getValue:function(){return lt},setValue:function(ut){lt=""+ut},stopTracking:function(){rt._valueTracker=null,delete rt[it]}}}}function Va$1(rt){rt._valueTracker||(rt._valueTracker=Ua$1(rt))}function Wa$1(rt){if(!rt)return!1;var it=rt._valueTracker;if(!it)return!0;var at=it.getValue(),lt="";return rt&&(lt=Ta$1(rt)?rt.checked?"true":"false":rt.value),rt=lt,rt!==at?(it.setValue(rt),!0):!1}function Xa$1(rt){if(rt=rt||(typeof document<"u"?document:void 0),typeof rt>"u")return null;try{return rt.activeElement||rt.body}catch{return rt.body}}function Ya$1(rt,it){var at=it.checked;return A$6({},it,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:at??rt._wrapperState.initialChecked})}function Za$1(rt,it){var at=it.defaultValue==null?"":it.defaultValue,lt=it.checked!=null?it.checked:it.defaultChecked;at=Sa$1(it.value!=null?it.value:at),rt._wrapperState={initialChecked:lt,initialValue:at,controlled:it.type==="checkbox"||it.type==="radio"?it.checked!=null:it.value!=null}}function ab$1(rt,it){it=it.checked,it!=null&&ta$1(rt,"checked",it,!1)}function bb$1(rt,it){ab$1(rt,it);var at=Sa$1(it.value),lt=it.type;if(at!=null)lt==="number"?(at===0&&rt.value===""||rt.value!=at)&&(rt.value=""+at):rt.value!==""+at&&(rt.value=""+at);else if(lt==="submit"||lt==="reset"){rt.removeAttribute("value");return}it.hasOwnProperty("value")?cb$1(rt,it.type,at):it.hasOwnProperty("defaultValue")&&cb$1(rt,it.type,Sa$1(it.defaultValue)),it.checked==null&&it.defaultChecked!=null&&(rt.defaultChecked=!!it.defaultChecked)}function db$1(rt,it,at){if(it.hasOwnProperty("value")||it.hasOwnProperty("defaultValue")){var lt=it.type;if(!(lt!=="submit"&&lt!=="reset"||it.value!==void 0&&it.value!==null))return;it=""+rt._wrapperState.initialValue,at||it===rt.value||(rt.value=it),rt.defaultValue=it}at=rt.name,at!==""&&(rt.name=""),rt.defaultChecked=!!rt._wrapperState.initialChecked,at!==""&&(rt.name=at)}function cb$1(rt,it,at){(it!=="number"||Xa$1(rt.ownerDocument)!==rt)&&(at==null?rt.defaultValue=""+rt._wrapperState.initialValue:rt.defaultValue!==""+at&&(rt.defaultValue=""+at))}var eb$1=Array.isArray;function fb$1(rt,it,at,lt){if(rt=rt.options,it){it={};for(var st=0;st<at.length;st++)it["$"+at[st]]=!0;for(at=0;at<rt.length;at++)st=it.hasOwnProperty("$"+rt[at].value),rt[at].selected!==st&&(rt[at].selected=st),st&&lt&&(rt[at].defaultSelected=!0)}else{for(at=""+Sa$1(at),it=null,st=0;st<rt.length;st++){if(rt[st].value===at){rt[st].selected=!0,lt&&(rt[st].defaultSelected=!0);return}it!==null||rt[st].disabled||(it=rt[st])}it!==null&&(it.selected=!0)}}function gb$1(rt,it){if(it.dangerouslySetInnerHTML!=null)throw Error(p$a(91));return A$6({},it,{value:void 0,defaultValue:void 0,children:""+rt._wrapperState.initialValue})}function hb(rt,it){var at=it.value;if(at==null){if(at=it.children,it=it.defaultValue,at!=null){if(it!=null)throw Error(p$a(92));if(eb$1(at)){if(1<at.length)throw Error(p$a(93));at=at[0]}it=at}it==null&&(it=""),at=it}rt._wrapperState={initialValue:Sa$1(at)}}function ib(rt,it){var at=Sa$1(it.value),lt=Sa$1(it.defaultValue);at!=null&&(at=""+at,at!==rt.value&&(rt.value=at),it.defaultValue==null&&rt.defaultValue!==at&&(rt.defaultValue=at)),lt!=null&&(rt.defaultValue=""+lt)}function jb(rt){var it=rt.textContent;it===rt._wrapperState.initialValue&&it!==""&&it!==null&&(rt.value=it)}function kb$1(rt){switch(rt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(rt,it){return rt==null||rt==="http://www.w3.org/1999/xhtml"?kb$1(it):rt==="http://www.w3.org/2000/svg"&&it==="foreignObject"?"http://www.w3.org/1999/xhtml":rt}var mb$1,nb$1=function(rt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(it,at,lt,st){MSApp.execUnsafeLocalFunction(function(){return rt(it,at,lt,st)})}:rt}(function(rt,it){if(rt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in rt)rt.innerHTML=it;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+it.valueOf().toString()+"</svg>",it=mb$1.firstChild;rt.firstChild;)rt.removeChild(rt.firstChild);for(;it.firstChild;)rt.appendChild(it.firstChild)}});function ob$1(rt,it){if(it){var at=rt.firstChild;if(at&&at===rt.lastChild&&at.nodeType===3){at.nodeValue=it;return}}rt.textContent=it}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(rt){qb$1.forEach(function(it){it=it+rt.charAt(0).toUpperCase()+rt.substring(1),pb$1[it]=pb$1[rt]})});function rb$1(rt,it,at){return it==null||typeof it=="boolean"||it===""?"":at||typeof it!="number"||it===0||pb$1.hasOwnProperty(rt)&&pb$1[rt]?(""+it).trim():it+"px"}function sb$1(rt,it){rt=rt.style;for(var at in it)if(it.hasOwnProperty(at)){var lt=at.indexOf("--")===0,st=rb$1(at,it[at],lt);at==="float"&&(at="cssFloat"),lt?rt.setProperty(at,st):rt[at]=st}}var tb$1=A$6({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(rt,it){if(it){if(tb$1[rt]&&(it.children!=null||it.dangerouslySetInnerHTML!=null))throw Error(p$a(137,rt));if(it.dangerouslySetInnerHTML!=null){if(it.children!=null)throw Error(p$a(60));if(typeof it.dangerouslySetInnerHTML!="object"||!("__html"in it.dangerouslySetInnerHTML))throw Error(p$a(61))}if(it.style!=null&&typeof it.style!="object")throw Error(p$a(62))}}function vb$1(rt,it){if(rt.indexOf("-")===-1)return typeof it.is=="string";switch(rt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(rt){return rt=rt.target||rt.srcElement||window,rt.correspondingUseElement&&(rt=rt.correspondingUseElement),rt.nodeType===3?rt.parentNode:rt}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(rt){if(rt=Cb$1(rt)){if(typeof yb$1!="function")throw Error(p$a(280));var it=rt.stateNode;it&&(it=Db$1(it),yb$1(rt.stateNode,rt.type,it))}}function Eb$1(rt){zb$1?Ab$1?Ab$1.push(rt):Ab$1=[rt]:zb$1=rt}function Fb$1(){if(zb$1){var rt=zb$1,it=Ab$1;if(Ab$1=zb$1=null,Bb$1(rt),it)for(rt=0;rt<it.length;rt++)Bb$1(it[rt])}}function Gb$1(rt,it){return rt(it)}function Hb$1(){}var Ib$1=!1;function Jb(rt,it,at){if(Ib$1)return rt(it,at);Ib$1=!0;try{return Gb$1(rt,it,at)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb(rt,it){var at=rt.stateNode;if(at===null)return null;var lt=Db$1(at);if(lt===null)return null;at=lt[it];e:switch(it){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lt=!lt.disabled)||(rt=rt.type,lt=!(rt==="button"||rt==="input"||rt==="select"||rt==="textarea")),rt=!lt;break e;default:rt=!1}if(rt)return null;if(at&&typeof at!="function")throw Error(p$a(231,it,typeof at));return at}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(rt,it,at,lt,st,ct,ut,ft,dt){var pt=Array.prototype.slice.call(arguments,3);try{it.apply(at,pt)}catch(ht){this.onError(ht)}}var Ob=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(rt){Ob=!0,Pb$1=rt}};function Tb$1(rt,it,at,lt,st,ct,ut,ft,dt){Ob=!1,Pb$1=null,Nb.apply(Sb$1,arguments)}function Ub$1(rt,it,at,lt,st,ct,ut,ft,dt){if(Tb$1.apply(this,arguments),Ob){if(Ob){var pt=Pb$1;Ob=!1,Pb$1=null}else throw Error(p$a(198));Qb$1||(Qb$1=!0,Rb$1=pt)}}function Vb$1(rt){var it=rt,at=rt;if(rt.alternate)for(;it.return;)it=it.return;else{rt=it;do it=rt,it.flags&4098&&(at=it.return),rt=it.return;while(rt)}return it.tag===3?at:null}function Wb$1(rt){if(rt.tag===13){var it=rt.memoizedState;if(it===null&&(rt=rt.alternate,rt!==null&&(it=rt.memoizedState)),it!==null)return it.dehydrated}return null}function Xb$1(rt){if(Vb$1(rt)!==rt)throw Error(p$a(188))}function Yb$1(rt){var it=rt.alternate;if(!it){if(it=Vb$1(rt),it===null)throw Error(p$a(188));return it!==rt?null:rt}for(var at=rt,lt=it;;){var st=at.return;if(st===null)break;var ct=st.alternate;if(ct===null){if(lt=st.return,lt!==null){at=lt;continue}break}if(st.child===ct.child){for(ct=st.child;ct;){if(ct===at)return Xb$1(st),rt;if(ct===lt)return Xb$1(st),it;ct=ct.sibling}throw Error(p$a(188))}if(at.return!==lt.return)at=st,lt=ct;else{for(var ut=!1,ft=st.child;ft;){if(ft===at){ut=!0,at=st,lt=ct;break}if(ft===lt){ut=!0,lt=st,at=ct;break}ft=ft.sibling}if(!ut){for(ft=ct.child;ft;){if(ft===at){ut=!0,at=ct,lt=st;break}if(ft===lt){ut=!0,lt=ct,at=st;break}ft=ft.sibling}if(!ut)throw Error(p$a(189))}}if(at.alternate!==lt)throw Error(p$a(190))}if(at.tag!==3)throw Error(p$a(188));return at.stateNode.current===at?rt:it}function Zb$1(rt){return rt=Yb$1(rt),rt!==null?$b$1(rt):null}function $b$1(rt){if(rt.tag===5||rt.tag===6)return rt;for(rt=rt.child;rt!==null;){var it=$b$1(rt);if(it!==null)return it;rt=rt.sibling}return null}var ac$1=ca.unstable_scheduleCallback,bc$1=ca.unstable_cancelCallback,cc$1=ca.unstable_shouldYield,dc$1=ca.unstable_requestPaint,B$7=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc$1=ca.unstable_ImmediatePriority,gc$1=ca.unstable_UserBlockingPriority,hc$1=ca.unstable_NormalPriority,ic$1=ca.unstable_LowPriority,jc$1=ca.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(rt){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,rt,void 0,(rt.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(rt){return rt>>>=0,rt===0?32:31-(pc$1(rt)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(rt){switch(rt&-rt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return rt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return rt}}function uc$1(rt,it){var at=rt.pendingLanes;if(at===0)return 0;var lt=0,st=rt.suspendedLanes,ct=rt.pingedLanes,ut=at&268435455;if(ut!==0){var ft=ut&~st;ft!==0?lt=tc$1(ft):(ct&=ut,ct!==0&&(lt=tc$1(ct)))}else ut=at&~st,ut!==0?lt=tc$1(ut):ct!==0&&(lt=tc$1(ct));if(lt===0)return 0;if(it!==0&&it!==lt&&!(it&st)&&(st=lt&-lt,ct=it&-it,st>=ct||st===16&&(ct&4194240)!==0))return it;if(lt&4&&(lt|=at&16),it=rt.entangledLanes,it!==0)for(rt=rt.entanglements,it&=lt;0<it;)at=31-oc$1(it),st=1<<at,lt|=rt[at],it&=~st;return lt}function vc$1(rt,it){switch(rt){case 1:case 2:case 4:return it+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return it+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(rt,it){for(var at=rt.suspendedLanes,lt=rt.pingedLanes,st=rt.expirationTimes,ct=rt.pendingLanes;0<ct;){var ut=31-oc$1(ct),ft=1<<ut,dt=st[ut];dt===-1?(!(ft&at)||ft&lt)&&(st[ut]=vc$1(ft,it)):dt<=it&&(rt.expiredLanes|=ft),ct&=~ft}}function xc$1(rt){return rt=rt.pendingLanes&-1073741825,rt!==0?rt:rt&1073741824?1073741824:0}function yc$1(){var rt=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),rt}function zc$1(rt){for(var it=[],at=0;31>at;at++)it.push(rt);return it}function Ac$1(rt,it,at){rt.pendingLanes|=it,it!==536870912&&(rt.suspendedLanes=0,rt.pingedLanes=0),rt=rt.eventTimes,it=31-oc$1(it),rt[it]=at}function Bc$1(rt,it){var at=rt.pendingLanes&~it;rt.pendingLanes=it,rt.suspendedLanes=0,rt.pingedLanes=0,rt.expiredLanes&=it,rt.mutableReadLanes&=it,rt.entangledLanes&=it,it=rt.entanglements;var lt=rt.eventTimes;for(rt=rt.expirationTimes;0<at;){var st=31-oc$1(at),ct=1<<st;it[st]=0,lt[st]=-1,rt[st]=-1,at&=~ct}}function Cc$1(rt,it){var at=rt.entangledLanes|=it;for(rt=rt.entanglements;at;){var lt=31-oc$1(at),st=1<<lt;st&it|rt[lt]&it&&(rt[lt]|=it),at&=~st}}var C$5=0;function Dc$1(rt){return rt&=-rt,1<rt?4<rt?rt&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(rt,it){switch(rt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(it.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(it.pointerId)}}function Tc$1(rt,it,at,lt,st,ct){return rt===null||rt.nativeEvent!==ct?(rt={blockedOn:it,domEventName:at,eventSystemFlags:lt,nativeEvent:ct,targetContainers:[st]},it!==null&&(it=Cb$1(it),it!==null&&Fc$1(it)),rt):(rt.eventSystemFlags|=lt,it=rt.targetContainers,st!==null&&it.indexOf(st)===-1&&it.push(st),rt)}function Uc$1(rt,it,at,lt,st){switch(it){case"focusin":return Lc=Tc$1(Lc,rt,it,at,lt,st),!0;case"dragenter":return Mc=Tc$1(Mc,rt,it,at,lt,st),!0;case"mouseover":return Nc=Tc$1(Nc,rt,it,at,lt,st),!0;case"pointerover":var ct=st.pointerId;return Oc.set(ct,Tc$1(Oc.get(ct)||null,rt,it,at,lt,st)),!0;case"gotpointercapture":return ct=st.pointerId,Pc.set(ct,Tc$1(Pc.get(ct)||null,rt,it,at,lt,st)),!0}return!1}function Vc$1(rt){var it=Wc$1(rt.target);if(it!==null){var at=Vb$1(it);if(at!==null){if(it=at.tag,it===13){if(it=Wb$1(at),it!==null){rt.blockedOn=it,Ic(rt.priority,function(){Gc$1(at)});return}}else if(it===3&&at.stateNode.current.memoizedState.isDehydrated){rt.blockedOn=at.tag===3?at.stateNode.containerInfo:null;return}}}rt.blockedOn=null}function Xc$1(rt){if(rt.blockedOn!==null)return!1;for(var it=rt.targetContainers;0<it.length;){var at=Yc$1(rt.domEventName,rt.eventSystemFlags,it[0],rt.nativeEvent);if(at===null){at=rt.nativeEvent;var lt=new at.constructor(at.type,at);wb$1=lt,at.target.dispatchEvent(lt),wb$1=null}else return it=Cb$1(at),it!==null&&Fc$1(it),rt.blockedOn=at,!1;it.shift()}return!0}function Zc$1(rt,it,at){Xc$1(rt)&&at.delete(it)}function $c$1(){Jc=!1,Lc!==null&&Xc$1(Lc)&&(Lc=null),Mc!==null&&Xc$1(Mc)&&(Mc=null),Nc!==null&&Xc$1(Nc)&&(Nc=null),Oc.forEach(Zc$1),Pc.forEach(Zc$1)}function ad$1(rt,it){rt.blockedOn===it&&(rt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c$1)))}function bd$1(rt){function it(st){return ad$1(st,rt)}if(0<Kc.length){ad$1(Kc[0],rt);for(var at=1;at<Kc.length;at++){var lt=Kc[at];lt.blockedOn===rt&&(lt.blockedOn=null)}}for(Lc!==null&&ad$1(Lc,rt),Mc!==null&&ad$1(Mc,rt),Nc!==null&&ad$1(Nc,rt),Oc.forEach(it),Pc.forEach(it),at=0;at<Qc$1.length;at++)lt=Qc$1[at],lt.blockedOn===rt&&(lt.blockedOn=null);for(;0<Qc$1.length&&(at=Qc$1[0],at.blockedOn===null);)Vc$1(at),at.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(rt,it,at,lt){var st=C$5,ct=cd$1.transition;cd$1.transition=null;try{C$5=1,fd$1(rt,it,at,lt)}finally{C$5=st,cd$1.transition=ct}}function gd$1(rt,it,at,lt){var st=C$5,ct=cd$1.transition;cd$1.transition=null;try{C$5=4,fd$1(rt,it,at,lt)}finally{C$5=st,cd$1.transition=ct}}function fd$1(rt,it,at,lt){if(dd$1){var st=Yc$1(rt,it,at,lt);if(st===null)hd$1(rt,it,lt,id$1,at),Sc$1(rt,lt);else if(Uc$1(st,rt,it,at,lt))lt.stopPropagation();else if(Sc$1(rt,lt),it&4&&-1<Rc$1.indexOf(rt)){for(;st!==null;){var ct=Cb$1(st);if(ct!==null&&Ec$1(ct),ct=Yc$1(rt,it,at,lt),ct===null&&hd$1(rt,it,lt,id$1,at),ct===st)break;st=ct}st!==null&&lt.stopPropagation()}else hd$1(rt,it,lt,null,at)}}var id$1=null;function Yc$1(rt,it,at,lt){if(id$1=null,rt=xb$1(lt),rt=Wc$1(rt),rt!==null)if(it=Vb$1(rt),it===null)rt=null;else if(at=it.tag,at===13){if(rt=Wb$1(it),rt!==null)return rt;rt=null}else if(at===3){if(it.stateNode.current.memoizedState.isDehydrated)return it.tag===3?it.stateNode.containerInfo:null;rt=null}else it!==rt&&(rt=null);return id$1=rt,null}function jd$1(rt){switch(rt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var rt,it=ld$1,at=it.length,lt,st="value"in kd$1?kd$1.value:kd$1.textContent,ct=st.length;for(rt=0;rt<at&&it[rt]===st[rt];rt++);var ut=at-rt;for(lt=1;lt<=ut&&it[at-lt]===st[ct-lt];lt++);return md$1=st.slice(rt,1<lt?1-lt:void 0)}function od$1(rt){var it=rt.keyCode;return"charCode"in rt?(rt=rt.charCode,rt===0&&it===13&&(rt=13)):rt=it,rt===10&&(rt=13),32<=rt||rt===13?rt:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(rt){function it(at,lt,st,ct,ut){this._reactName=at,this._targetInst=st,this.type=lt,this.nativeEvent=ct,this.target=ut,this.currentTarget=null;for(var ft in rt)rt.hasOwnProperty(ft)&&(at=rt[ft],this[ft]=at?at(ct):ct[ft]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$6(it.prototype,{preventDefault:function(){this.defaultPrevented=!0;var at=this.nativeEvent;at&&(at.preventDefault?at.preventDefault():typeof at.returnValue!="unknown"&&(at.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var at=this.nativeEvent;at&&(at.stopPropagation?at.stopPropagation():typeof at.cancelBubble!="unknown"&&(at.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),it}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(rt){return rt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$6({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$6({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(rt){return rt.relatedTarget===void 0?rt.fromElement===rt.srcElement?rt.toElement:rt.fromElement:rt.relatedTarget},movementX:function(rt){return"movementX"in rt?rt.movementX:(rt!==yd$1&&(yd$1&&rt.type==="mousemove"?(wd$1=rt.screenX-yd$1.screenX,xd$1=rt.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=rt),wd$1)},movementY:function(rt){return"movementY"in rt?rt.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$6({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$6({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$6({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$6({},sd$1,{clipboardData:function(rt){return"clipboardData"in rt?rt.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$6({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(rt){var it=this.nativeEvent;return it.getModifierState?it.getModifierState(rt):(rt=Od$1[rt])?!!it[rt]:!1}function zd$1(){return Pd$1}var Qd$1=A$6({},ud$1,{key:function(rt){if(rt.key){var it=Md$1[rt.key]||rt.key;if(it!=="Unidentified")return it}return rt.type==="keypress"?(rt=od$1(rt),rt===13?"Enter":String.fromCharCode(rt)):rt.type==="keydown"||rt.type==="keyup"?Nd$1[rt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(rt){return rt.type==="keypress"?od$1(rt):0},keyCode:function(rt){return rt.type==="keydown"||rt.type==="keyup"?rt.keyCode:0},which:function(rt){return rt.type==="keypress"?od$1(rt):rt.type==="keydown"||rt.type==="keyup"?rt.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$6({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$6({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$6({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$6({},Ad$1,{deltaX:function(rt){return"deltaX"in rt?rt.deltaX:"wheelDeltaX"in rt?-rt.wheelDeltaX:0},deltaY:function(rt){return"deltaY"in rt?rt.deltaY:"wheelDeltaY"in rt?-rt.wheelDeltaY:"wheelDelta"in rt?-rt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(rt,it){switch(rt){case"keyup":return $d$1.indexOf(it.keyCode)!==-1;case"keydown":return it.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(rt){return rt=rt.detail,typeof rt=="object"&&"data"in rt?rt.data:null}var ie$1=!1;function je$2(rt,it){switch(rt){case"compositionend":return he$1(it);case"keypress":return it.which!==32?null:(fe$1=!0,ee$1);case"textInput":return rt=it.data,rt===ee$1&&fe$1?null:rt;default:return null}}function ke$1(rt,it){if(ie$1)return rt==="compositionend"||!ae$1&&ge$1(rt,it)?(rt=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,rt):null;switch(rt){case"paste":return null;case"keypress":if(!(it.ctrlKey||it.altKey||it.metaKey)||it.ctrlKey&&it.altKey){if(it.char&&1<it.char.length)return it.char;if(it.which)return String.fromCharCode(it.which)}return null;case"compositionend":return de$1&&it.locale!=="ko"?null:it.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(rt){var it=rt&&rt.nodeName&&rt.nodeName.toLowerCase();return it==="input"?!!le$1[rt.type]:it==="textarea"}function ne$1(rt,it,at,lt){Eb$1(lt),it=oe$1(it,"onChange"),0<it.length&&(at=new td$1("onChange","change",null,at,lt),rt.push({event:at,listeners:it}))}var pe$1=null,qe$2=null;function re$2(rt){se$1(rt,0)}function te$1(rt){var it=ue$1(rt);if(Wa$1(it))return rt}function ve(rt,it){if(rt==="change")return it}var we=!1;if(ia$1){var xe;if(ia$1){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$2=pe$1=null)}function Be$1(rt){if(rt.propertyName==="value"&&te$1(qe$2)){var it=[];ne$1(it,qe$2,rt,xb$1(rt)),Jb(re$2,it)}}function Ce(rt,it,at){rt==="focusin"?(Ae(),pe$1=it,qe$2=at,pe$1.attachEvent("onpropertychange",Be$1)):rt==="focusout"&&Ae()}function De(rt){if(rt==="selectionchange"||rt==="keyup"||rt==="keydown")return te$1(qe$2)}function Ee$1(rt,it){if(rt==="click")return te$1(it)}function Fe$1(rt,it){if(rt==="input"||rt==="change")return te$1(it)}function Ge$2(rt,it){return rt===it&&(rt!==0||1/rt===1/it)||rt!==rt&&it!==it}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$1(rt,it){if(He$2(rt,it))return!0;if(typeof rt!="object"||rt===null||typeof it!="object"||it===null)return!1;var at=Object.keys(rt),lt=Object.keys(it);if(at.length!==lt.length)return!1;for(lt=0;lt<at.length;lt++){var st=at[lt];if(!ja$1.call(it,st)||!He$2(rt[st],it[st]))return!1}return!0}function Je$2(rt){for(;rt&&rt.firstChild;)rt=rt.firstChild;return rt}function Ke$2(rt,it){var at=Je$2(rt);rt=0;for(var lt;at;){if(at.nodeType===3){if(lt=rt+at.textContent.length,rt<=it&&lt>=it)return{node:at,offset:it-rt};rt=lt}e:{for(;at;){if(at.nextSibling){at=at.nextSibling;break e}at=at.parentNode}at=void 0}at=Je$2(at)}}function Le$1(rt,it){return rt&&it?rt===it?!0:rt&&rt.nodeType===3?!1:it&&it.nodeType===3?Le$1(rt,it.parentNode):"contains"in rt?rt.contains(it):rt.compareDocumentPosition?!!(rt.compareDocumentPosition(it)&16):!1:!1}function Me$1(){for(var rt=window,it=Xa$1();it instanceof rt.HTMLIFrameElement;){try{var at=typeof it.contentWindow.location.href=="string"}catch{at=!1}if(at)rt=it.contentWindow;else break;it=Xa$1(rt.document)}return it}function Ne$2(rt){var it=rt&&rt.nodeName&&rt.nodeName.toLowerCase();return it&&(it==="input"&&(rt.type==="text"||rt.type==="search"||rt.type==="tel"||rt.type==="url"||rt.type==="password")||it==="textarea"||rt.contentEditable==="true")}function Oe$1(rt){var it=Me$1(),at=rt.focusedElem,lt=rt.selectionRange;if(it!==at&&at&&at.ownerDocument&&Le$1(at.ownerDocument.documentElement,at)){if(lt!==null&&Ne$2(at)){if(it=lt.start,rt=lt.end,rt===void 0&&(rt=it),"selectionStart"in at)at.selectionStart=it,at.selectionEnd=Math.min(rt,at.value.length);else if(rt=(it=at.ownerDocument||document)&&it.defaultView||window,rt.getSelection){rt=rt.getSelection();var st=at.textContent.length,ct=Math.min(lt.start,st);lt=lt.end===void 0?ct:Math.min(lt.end,st),!rt.extend&&ct>lt&&(st=lt,lt=ct,ct=st),st=Ke$2(at,ct);var ut=Ke$2(at,lt);st&&ut&&(rt.rangeCount!==1||rt.anchorNode!==st.node||rt.anchorOffset!==st.offset||rt.focusNode!==ut.node||rt.focusOffset!==ut.offset)&&(it=it.createRange(),it.setStart(st.node,st.offset),rt.removeAllRanges(),ct>lt?(rt.addRange(it),rt.extend(ut.node,ut.offset)):(it.setEnd(ut.node,ut.offset),rt.addRange(it)))}}for(it=[],rt=at;rt=rt.parentNode;)rt.nodeType===1&&it.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof at.focus=="function"&&at.focus(),at=0;at<it.length;at++)rt=it[at],rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$2(rt,it,at){var lt=at.window===at?at.document:at.nodeType===9?at:at.ownerDocument;Te$1||Qe$2==null||Qe$2!==Xa$1(lt)||(lt=Qe$2,"selectionStart"in lt&&Ne$2(lt)?lt={start:lt.selectionStart,end:lt.selectionEnd}:(lt=(lt.ownerDocument&&lt.ownerDocument.defaultView||window).getSelection(),lt={anchorNode:lt.anchorNode,anchorOffset:lt.anchorOffset,focusNode:lt.focusNode,focusOffset:lt.focusOffset}),Se$1&&Ie$1(Se$1,lt)||(Se$1=lt,lt=oe$1(Re$1,"onSelect"),0<lt.length&&(it=new td$1("onSelect","select",null,it,at),rt.push({event:it,listeners:lt}),it.target=Qe$2)))}function Ve$2(rt,it){var at={};return at[rt.toLowerCase()]=it.toLowerCase(),at["Webkit"+rt]="webkit"+it,at["Moz"+rt]="moz"+it,at}var We$2={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia$1&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$2.animationend.animation,delete We$2.animationiteration.animation,delete We$2.animationstart.animation),"TransitionEvent"in window||delete We$2.transitionend.transition);function Ze$2(rt){if(Xe$2[rt])return Xe$2[rt];if(!We$2[rt])return rt;var it=We$2[rt],at;for(at in it)if(it.hasOwnProperty(at)&&at in Ye$2)return Xe$2[rt]=it[at];return rt}var $e$2=Ze$2("animationend"),af$1=Ze$2("animationiteration"),bf$1=Ze$2("animationstart"),cf$1=Ze$2("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(rt,it){df$1.set(rt,it),fa(it,[rt])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$2,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(rt,it,at){var lt=rt.type||"unknown-event";rt.currentTarget=at,Ub$1(lt,it,void 0,rt),rt.currentTarget=null}function se$1(rt,it){it=(it&4)!==0;for(var at=0;at<rt.length;at++){var lt=rt[at],st=lt.event;lt=lt.listeners;e:{var ct=void 0;if(it)for(var ut=lt.length-1;0<=ut;ut--){var ft=lt[ut],dt=ft.instance,pt=ft.currentTarget;if(ft=ft.listener,dt!==ct&&st.isPropagationStopped())break e;nf$1(st,ft,pt),ct=dt}else for(ut=0;ut<lt.length;ut++){if(ft=lt[ut],dt=ft.instance,pt=ft.currentTarget,ft=ft.listener,dt!==ct&&st.isPropagationStopped())break e;nf$1(st,ft,pt),ct=dt}}}if(Qb$1)throw rt=Rb$1,Qb$1=!1,Rb$1=null,rt}function D$8(rt,it){var at=it[of$1];at===void 0&&(at=it[of$1]=new Set);var lt=rt+"__bubble";at.has(lt)||(pf$1(it,rt,2,!1),at.add(lt))}function qf(rt,it,at){var lt=0;it&&(lt|=4),pf$1(at,rt,lt,it)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(rt){if(!rt[rf]){rt[rf]=!0,da.forEach(function(at){at!=="selectionchange"&&(mf$1.has(at)||qf(at,!1,rt),qf(at,!0,rt))});var it=rt.nodeType===9?rt:rt.ownerDocument;it===null||it[rf]||(it[rf]=!0,qf("selectionchange",!1,it))}}function pf$1(rt,it,at,lt){switch(jd$1(it)){case 1:var st=ed$1;break;case 4:st=gd$1;break;default:st=fd$1}at=st.bind(null,it,at,rt),st=void 0,!Lb||it!=="touchstart"&&it!=="touchmove"&&it!=="wheel"||(st=!0),lt?st!==void 0?rt.addEventListener(it,at,{capture:!0,passive:st}):rt.addEventListener(it,at,!0):st!==void 0?rt.addEventListener(it,at,{passive:st}):rt.addEventListener(it,at,!1)}function hd$1(rt,it,at,lt,st){var ct=lt;if(!(it&1)&&!(it&2)&&lt!==null)e:for(;;){if(lt===null)return;var ut=lt.tag;if(ut===3||ut===4){var ft=lt.stateNode.containerInfo;if(ft===st||ft.nodeType===8&&ft.parentNode===st)break;if(ut===4)for(ut=lt.return;ut!==null;){var dt=ut.tag;if((dt===3||dt===4)&&(dt=ut.stateNode.containerInfo,dt===st||dt.nodeType===8&&dt.parentNode===st))return;ut=ut.return}for(;ft!==null;){if(ut=Wc$1(ft),ut===null)return;if(dt=ut.tag,dt===5||dt===6){lt=ct=ut;continue e}ft=ft.parentNode}}lt=lt.return}Jb(function(){var pt=ct,ht=xb$1(at),gt=[];e:{var mt=df$1.get(rt);if(mt!==void 0){var xt=td$1,vt=rt;switch(rt){case"keypress":if(od$1(at)===0)break e;case"keydown":case"keyup":xt=Rd$1;break;case"focusin":vt="focus",xt=Fd$1;break;case"focusout":vt="blur",xt=Fd$1;break;case"beforeblur":case"afterblur":xt=Fd$1;break;case"click":if(at.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Vd$1;break;case $e$2:case af$1:case bf$1:xt=Hd$1;break;case cf$1:xt=Xd$1;break;case"scroll":xt=vd$1;break;case"wheel":xt=Zd$1;break;case"copy":case"cut":case"paste":xt=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Td$1}var $t=(it&4)!==0,_t=!$t&&rt==="scroll",yt=$t?mt!==null?mt+"Capture":null:mt;$t=[];for(var Et=pt,wt;Et!==null;){wt=Et;var bt=wt.stateNode;if(wt.tag===5&&bt!==null&&(wt=bt,yt!==null&&(bt=Kb(Et,yt),bt!=null&&$t.push(tf(Et,bt,wt)))),_t)break;Et=Et.return}0<$t.length&&(mt=new xt(mt,vt,null,at,ht),gt.push({event:mt,listeners:$t}))}}if(!(it&7)){e:{if(mt=rt==="mouseover"||rt==="pointerover",xt=rt==="mouseout"||rt==="pointerout",mt&&at!==wb$1&&(vt=at.relatedTarget||at.fromElement)&&(Wc$1(vt)||vt[uf]))break e;if((xt||mt)&&(mt=ht.window===ht?ht:(mt=ht.ownerDocument)?mt.defaultView||mt.parentWindow:window,xt?(vt=at.relatedTarget||at.toElement,xt=pt,vt=vt?Wc$1(vt):null,vt!==null&&(_t=Vb$1(vt),vt!==_t||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(xt=null,vt=pt),xt!==vt)){if($t=Bd$1,bt="onMouseLeave",yt="onMouseEnter",Et="mouse",(rt==="pointerout"||rt==="pointerover")&&($t=Td$1,bt="onPointerLeave",yt="onPointerEnter",Et="pointer"),_t=xt==null?mt:ue$1(xt),wt=vt==null?mt:ue$1(vt),mt=new $t(bt,Et+"leave",xt,at,ht),mt.target=_t,mt.relatedTarget=wt,bt=null,Wc$1(ht)===pt&&($t=new $t(yt,Et+"enter",vt,at,ht),$t.target=wt,$t.relatedTarget=_t,bt=$t),_t=bt,xt&&vt)t:{for($t=xt,yt=vt,Et=0,wt=$t;wt;wt=vf$1(wt))Et++;for(wt=0,bt=yt;bt;bt=vf$1(bt))wt++;for(;0<Et-wt;)$t=vf$1($t),Et--;for(;0<wt-Et;)yt=vf$1(yt),wt--;for(;Et--;){if($t===yt||yt!==null&&$t===yt.alternate)break t;$t=vf$1($t),yt=vf$1(yt)}$t=null}else $t=null;xt!==null&&wf$1(gt,mt,xt,$t,!1),vt!==null&&_t!==null&&wf$1(gt,_t,vt,$t,!0)}}e:{if(mt=pt?ue$1(pt):window,xt=mt.nodeName&&mt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&mt.type==="file")var St=ve;else if(me$1(mt))if(we)St=Fe$1;else{St=De;var Tt=Ce}else(xt=mt.nodeName)&&xt.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(St=Ee$1);if(St&&(St=St(rt,pt))){ne$1(gt,St,at,ht);break e}Tt&&Tt(rt,mt,pt),rt==="focusout"&&(Tt=mt._wrapperState)&&Tt.controlled&&mt.type==="number"&&cb$1(mt,"number",mt.value)}switch(Tt=pt?ue$1(pt):window,rt){case"focusin":(me$1(Tt)||Tt.contentEditable==="true")&&(Qe$2=Tt,Re$1=pt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$2=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(gt,at,ht);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$2(gt,at,ht)}var Rt;if(ae$1)e:{switch(rt){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie$1?ge$1(rt,at)&&(kt="onCompositionEnd"):rt==="keydown"&&at.keyCode===229&&(kt="onCompositionStart");kt&&(de$1&&at.locale!=="ko"&&(ie$1||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie$1&&(Rt=nd$1()):(kd$1=ht,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),Tt=oe$1(pt,kt),0<Tt.length&&(kt=new Ld$1(kt,rt,null,at,ht),gt.push({event:kt,listeners:Tt}),Rt?kt.data=Rt:(Rt=he$1(at),Rt!==null&&(kt.data=Rt)))),(Rt=ce$1?je$2(rt,at):ke$1(rt,at))&&(pt=oe$1(pt,"onBeforeInput"),0<pt.length&&(ht=new Ld$1("onBeforeInput","beforeinput",null,at,ht),gt.push({event:ht,listeners:pt}),ht.data=Rt))}se$1(gt,it)})}function tf(rt,it,at){return{instance:rt,listener:it,currentTarget:at}}function oe$1(rt,it){for(var at=it+"Capture",lt=[];rt!==null;){var st=rt,ct=st.stateNode;st.tag===5&&ct!==null&&(st=ct,ct=Kb(rt,at),ct!=null&&lt.unshift(tf(rt,ct,st)),ct=Kb(rt,it),ct!=null&&lt.push(tf(rt,ct,st))),rt=rt.return}return lt}function vf$1(rt){if(rt===null)return null;do rt=rt.return;while(rt&&rt.tag!==5);return rt||null}function wf$1(rt,it,at,lt,st){for(var ct=it._reactName,ut=[];at!==null&&at!==lt;){var ft=at,dt=ft.alternate,pt=ft.stateNode;if(dt!==null&&dt===lt)break;ft.tag===5&&pt!==null&&(ft=pt,st?(dt=Kb(at,ct),dt!=null&&ut.unshift(tf(at,dt,ft))):st||(dt=Kb(at,ct),dt!=null&&ut.push(tf(at,dt,ft)))),at=at.return}ut.length!==0&&rt.push({event:it,listeners:ut})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(rt){return(typeof rt=="string"?rt:""+rt).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(rt,it,at){if(it=zf$1(it),zf$1(rt)!==it&&at)throw Error(p$a(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(rt,it){return rt==="textarea"||rt==="noscript"||typeof it.children=="string"||typeof it.children=="number"||typeof it.dangerouslySetInnerHTML=="object"&&it.dangerouslySetInnerHTML!==null&&it.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(rt){return Hf.resolve(null).then(rt).catch(If)}:Ff;function If(rt){setTimeout(function(){throw rt})}function Kf(rt,it){var at=it,lt=0;do{var st=at.nextSibling;if(rt.removeChild(at),st&&st.nodeType===8)if(at=st.data,at==="/$"){if(lt===0){rt.removeChild(st),bd$1(it);return}lt--}else at!=="$"&&at!=="$?"&&at!=="$!"||lt++;at=st}while(at);bd$1(it)}function Lf(rt){for(;rt!=null;rt=rt.nextSibling){var it=rt.nodeType;if(it===1||it===3)break;if(it===8){if(it=rt.data,it==="$"||it==="$!"||it==="$?")break;if(it==="/$")return null}}return rt}function Mf(rt){rt=rt.previousSibling;for(var it=0;rt;){if(rt.nodeType===8){var at=rt.data;if(at==="$"||at==="$!"||at==="$?"){if(it===0)return rt;it--}else at==="/$"&&it++}rt=rt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(rt){var it=rt[Of];if(it)return it;for(var at=rt.parentNode;at;){if(it=at[uf]||at[Of]){if(at=it.alternate,it.child!==null||at!==null&&at.child!==null)for(rt=Mf(rt);rt!==null;){if(at=rt[Of])return at;rt=Mf(rt)}return it}rt=at,at=rt.parentNode}return null}function Cb$1(rt){return rt=rt[Of]||rt[uf],!rt||rt.tag!==5&&rt.tag!==6&&rt.tag!==13&&rt.tag!==3?null:rt}function ue$1(rt){if(rt.tag===5||rt.tag===6)return rt.stateNode;throw Error(p$a(33))}function Db$1(rt){return rt[Pf]||null}var Sf=[],Tf=-1;function Uf(rt){return{current:rt}}function E$7(rt){0>Tf||(rt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$4(rt,it){Tf++,Sf[Tf]=rt.current,rt.current=it}var Vf={},H$5=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(rt,it){var at=rt.type.contextTypes;if(!at)return Vf;var lt=rt.stateNode;if(lt&&lt.__reactInternalMemoizedUnmaskedChildContext===it)return lt.__reactInternalMemoizedMaskedChildContext;var st={},ct;for(ct in at)st[ct]=it[ct];return lt&&(rt=rt.stateNode,rt.__reactInternalMemoizedUnmaskedChildContext=it,rt.__reactInternalMemoizedMaskedChildContext=st),st}function Zf(rt){return rt=rt.childContextTypes,rt!=null}function $f(){E$7(Wf),E$7(H$5)}function ag(rt,it,at){if(H$5.current!==Vf)throw Error(p$a(168));G$4(H$5,it),G$4(Wf,at)}function bg(rt,it,at){var lt=rt.stateNode;if(it=it.childContextTypes,typeof lt.getChildContext!="function")return at;lt=lt.getChildContext();for(var st in lt)if(!(st in it))throw Error(p$a(108,Ra$1(rt)||"Unknown",st));return A$6({},at,lt)}function cg(rt){return rt=(rt=rt.stateNode)&&rt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$5.current,G$4(H$5,rt),G$4(Wf,Wf.current),!0}function dg(rt,it,at){var lt=rt.stateNode;if(!lt)throw Error(p$a(169));at?(rt=bg(rt,it,Xf),lt.__reactInternalMemoizedMergedChildContext=rt,E$7(Wf),E$7(H$5),G$4(H$5,rt)):E$7(Wf),G$4(Wf,at)}var eg=null,fg=!1,gg=!1;function hg(rt){eg===null?eg=[rt]:eg.push(rt)}function ig(rt){fg=!0,hg(rt)}function jg(){if(!gg&&eg!==null){gg=!0;var rt=0,it=C$5;try{var at=eg;for(C$5=1;rt<at.length;rt++){var lt=at[rt];do lt=lt(!0);while(lt!==null)}eg=null,fg=!1}catch(st){throw eg!==null&&(eg=eg.slice(rt+1)),ac$1(fc$1,jg),st}finally{C$5=it,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(rt,it){kg[lg++]=ng,kg[lg++]=mg,mg=rt,ng=it}function ug(rt,it,at){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=rt;var lt=rg;rt=sg;var st=32-oc$1(lt)-1;lt&=~(1<<st),at+=1;var ct=32-oc$1(it)+st;if(30<ct){var ut=st-st%5;ct=(lt&(1<<ut)-1).toString(32),lt>>=ut,st-=ut,rg=1<<32-oc$1(it)+st|at<<st|lt,sg=ct+rt}else rg=1<<ct|at<<st|lt,sg=rt}function vg(rt){rt.return!==null&&(tg(rt,1),ug(rt,1,0))}function wg(rt){for(;rt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;rt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(rt,it){var at=Bg(5,null,null,0);at.elementType="DELETED",at.stateNode=it,at.return=rt,it=rt.deletions,it===null?(rt.deletions=[at],rt.flags|=16):it.push(at)}function Cg(rt,it){switch(rt.tag){case 5:var at=rt.type;return it=it.nodeType!==1||at.toLowerCase()!==it.nodeName.toLowerCase()?null:it,it!==null?(rt.stateNode=it,xg=rt,yg=Lf(it.firstChild),!0):!1;case 6:return it=rt.pendingProps===""||it.nodeType!==3?null:it,it!==null?(rt.stateNode=it,xg=rt,yg=null,!0):!1;case 13:return it=it.nodeType!==8?null:it,it!==null?(at=qg!==null?{id:rg,overflow:sg}:null,rt.memoizedState={dehydrated:it,treeContext:at,retryLane:1073741824},at=Bg(18,null,null,0),at.stateNode=it,at.return=rt,rt.child=at,xg=rt,yg=null,!0):!1;default:return!1}}function Dg(rt){return(rt.mode&1)!==0&&(rt.flags&128)===0}function Eg(rt){if(I$4){var it=yg;if(it){var at=it;if(!Cg(rt,it)){if(Dg(rt))throw Error(p$a(418));it=Lf(at.nextSibling);var lt=xg;it&&Cg(rt,it)?Ag(lt,at):(rt.flags=rt.flags&-4097|2,I$4=!1,xg=rt)}}else{if(Dg(rt))throw Error(p$a(418));rt.flags=rt.flags&-4097|2,I$4=!1,xg=rt}}}function Fg(rt){for(rt=rt.return;rt!==null&&rt.tag!==5&&rt.tag!==3&&rt.tag!==13;)rt=rt.return;xg=rt}function Gg(rt){if(rt!==xg)return!1;if(!I$4)return Fg(rt),I$4=!0,!1;var it;if((it=rt.tag!==3)&&!(it=rt.tag!==5)&&(it=rt.type,it=it!=="head"&&it!=="body"&&!Ef$1(rt.type,rt.memoizedProps)),it&&(it=yg)){if(Dg(rt))throw Hg(),Error(p$a(418));for(;it;)Ag(rt,it),it=Lf(it.nextSibling)}if(Fg(rt),rt.tag===13){if(rt=rt.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$a(317));e:{for(rt=rt.nextSibling,it=0;rt;){if(rt.nodeType===8){var at=rt.data;if(at==="/$"){if(it===0){yg=Lf(rt.nextSibling);break e}it--}else at!=="$"&&at!=="$!"&&at!=="$?"||it++}rt=rt.nextSibling}yg=null}}else yg=xg?Lf(rt.stateNode.nextSibling):null;return!0}function Hg(){for(var rt=yg;rt;)rt=Lf(rt.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(rt){zg===null?zg=[rt]:zg.push(rt)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(rt,it){if(rt&&rt.defaultProps){it=A$6({},it),rt=rt.defaultProps;for(var at in rt)it[at]===void 0&&(it[at]=rt[at]);return it}return it}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(rt){var it=Mg.current;E$7(Mg),rt._currentValue=it}function Sg(rt,it,at){for(;rt!==null;){var lt=rt.alternate;if((rt.childLanes&it)!==it?(rt.childLanes|=it,lt!==null&&(lt.childLanes|=it)):lt!==null&&(lt.childLanes&it)!==it&&(lt.childLanes|=it),rt===at)break;rt=rt.return}}function Tg(rt,it){Ng=rt,Pg=Og=null,rt=rt.dependencies,rt!==null&&rt.firstContext!==null&&(rt.lanes&it&&(Ug=!0),rt.firstContext=null)}function Vg(rt){var it=rt._currentValue;if(Pg!==rt)if(rt={context:rt,memoizedValue:it,next:null},Og===null){if(Ng===null)throw Error(p$a(308));Og=rt,Ng.dependencies={lanes:0,firstContext:rt}}else Og=Og.next=rt;return it}var Wg=null;function Xg(rt){Wg===null?Wg=[rt]:Wg.push(rt)}function Yg(rt,it,at,lt){var st=it.interleaved;return st===null?(at.next=at,Xg(it)):(at.next=st.next,st.next=at),it.interleaved=at,Zg(rt,lt)}function Zg(rt,it){rt.lanes|=it;var at=rt.alternate;for(at!==null&&(at.lanes|=it),at=rt,rt=rt.return;rt!==null;)rt.childLanes|=it,at=rt.alternate,at!==null&&(at.childLanes|=it),at=rt,rt=rt.return;return at.tag===3?at.stateNode:null}var $g=!1;function ah(rt){rt.updateQueue={baseState:rt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(rt,it){rt=rt.updateQueue,it.updateQueue===rt&&(it.updateQueue={baseState:rt.baseState,firstBaseUpdate:rt.firstBaseUpdate,lastBaseUpdate:rt.lastBaseUpdate,shared:rt.shared,effects:rt.effects})}function ch(rt,it){return{eventTime:rt,lane:it,tag:0,payload:null,callback:null,next:null}}function dh(rt,it,at){var lt=rt.updateQueue;if(lt===null)return null;if(lt=lt.shared,K$2&2){var st=lt.pending;return st===null?it.next=it:(it.next=st.next,st.next=it),lt.pending=it,Zg(rt,at)}return st=lt.interleaved,st===null?(it.next=it,Xg(lt)):(it.next=st.next,st.next=it),lt.interleaved=it,Zg(rt,at)}function eh(rt,it,at){if(it=it.updateQueue,it!==null&&(it=it.shared,(at&4194240)!==0)){var lt=it.lanes;lt&=rt.pendingLanes,at|=lt,it.lanes=at,Cc$1(rt,at)}}function fh(rt,it){var at=rt.updateQueue,lt=rt.alternate;if(lt!==null&&(lt=lt.updateQueue,at===lt)){var st=null,ct=null;if(at=at.firstBaseUpdate,at!==null){do{var ut={eventTime:at.eventTime,lane:at.lane,tag:at.tag,payload:at.payload,callback:at.callback,next:null};ct===null?st=ct=ut:ct=ct.next=ut,at=at.next}while(at!==null);ct===null?st=ct=it:ct=ct.next=it}else st=ct=it;at={baseState:lt.baseState,firstBaseUpdate:st,lastBaseUpdate:ct,shared:lt.shared,effects:lt.effects},rt.updateQueue=at;return}rt=at.lastBaseUpdate,rt===null?at.firstBaseUpdate=it:rt.next=it,at.lastBaseUpdate=it}function gh(rt,it,at,lt){var st=rt.updateQueue;$g=!1;var ct=st.firstBaseUpdate,ut=st.lastBaseUpdate,ft=st.shared.pending;if(ft!==null){st.shared.pending=null;var dt=ft,pt=dt.next;dt.next=null,ut===null?ct=pt:ut.next=pt,ut=dt;var ht=rt.alternate;ht!==null&&(ht=ht.updateQueue,ft=ht.lastBaseUpdate,ft!==ut&&(ft===null?ht.firstBaseUpdate=pt:ft.next=pt,ht.lastBaseUpdate=dt))}if(ct!==null){var gt=st.baseState;ut=0,ht=pt=dt=null,ft=ct;do{var mt=ft.lane,xt=ft.eventTime;if((lt&mt)===mt){ht!==null&&(ht=ht.next={eventTime:xt,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var vt=rt,$t=ft;switch(mt=it,xt=at,$t.tag){case 1:if(vt=$t.payload,typeof vt=="function"){gt=vt.call(xt,gt,mt);break e}gt=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=$t.payload,mt=typeof vt=="function"?vt.call(xt,gt,mt):vt,mt==null)break e;gt=A$6({},gt,mt);break e;case 2:$g=!0}}ft.callback!==null&&ft.lane!==0&&(rt.flags|=64,mt=st.effects,mt===null?st.effects=[ft]:mt.push(ft))}else xt={eventTime:xt,lane:mt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},ht===null?(pt=ht=xt,dt=gt):ht=ht.next=xt,ut|=mt;if(ft=ft.next,ft===null){if(ft=st.shared.pending,ft===null)break;mt=ft,ft=mt.next,mt.next=null,st.lastBaseUpdate=mt,st.shared.pending=null}}while(1);if(ht===null&&(dt=gt),st.baseState=dt,st.firstBaseUpdate=pt,st.lastBaseUpdate=ht,it=st.shared.interleaved,it!==null){st=it;do ut|=st.lane,st=st.next;while(st!==it)}else ct===null&&(st.shared.lanes=0);hh|=ut,rt.lanes=ut,rt.memoizedState=gt}}function ih(rt,it,at){if(rt=it.effects,it.effects=null,rt!==null)for(it=0;it<rt.length;it++){var lt=rt[it],st=lt.callback;if(st!==null){if(lt.callback=null,lt=at,typeof st!="function")throw Error(p$a(191,st));st.call(lt)}}}var jh=new aa$1.Component().refs;function kh(rt,it,at,lt){it=rt.memoizedState,at=at(lt,it),at=at==null?it:A$6({},it,at),rt.memoizedState=at,rt.lanes===0&&(rt.updateQueue.baseState=at)}var nh={isMounted:function(rt){return(rt=rt._reactInternals)?Vb$1(rt)===rt:!1},enqueueSetState:function(rt,it,at){rt=rt._reactInternals;var lt=L$8(),st=lh(rt),ct=ch(lt,st);ct.payload=it,at!=null&&(ct.callback=at),it=dh(rt,ct,st),it!==null&&(mh(it,rt,st,lt),eh(it,rt,st))},enqueueReplaceState:function(rt,it,at){rt=rt._reactInternals;var lt=L$8(),st=lh(rt),ct=ch(lt,st);ct.tag=1,ct.payload=it,at!=null&&(ct.callback=at),it=dh(rt,ct,st),it!==null&&(mh(it,rt,st,lt),eh(it,rt,st))},enqueueForceUpdate:function(rt,it){rt=rt._reactInternals;var at=L$8(),lt=lh(rt),st=ch(at,lt);st.tag=2,it!=null&&(st.callback=it),it=dh(rt,st,lt),it!==null&&(mh(it,rt,lt,at),eh(it,rt,lt))}};function oh(rt,it,at,lt,st,ct,ut){return rt=rt.stateNode,typeof rt.shouldComponentUpdate=="function"?rt.shouldComponentUpdate(lt,ct,ut):it.prototype&&it.prototype.isPureReactComponent?!Ie$1(at,lt)||!Ie$1(st,ct):!0}function ph(rt,it,at){var lt=!1,st=Vf,ct=it.contextType;return typeof ct=="object"&&ct!==null?ct=Vg(ct):(st=Zf(it)?Xf:H$5.current,lt=it.contextTypes,ct=(lt=lt!=null)?Yf(rt,st):Vf),it=new it(at,ct),rt.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,it.updater=nh,rt.stateNode=it,it._reactInternals=rt,lt&&(rt=rt.stateNode,rt.__reactInternalMemoizedUnmaskedChildContext=st,rt.__reactInternalMemoizedMaskedChildContext=ct),it}function qh(rt,it,at,lt){rt=it.state,typeof it.componentWillReceiveProps=="function"&&it.componentWillReceiveProps(at,lt),typeof it.UNSAFE_componentWillReceiveProps=="function"&&it.UNSAFE_componentWillReceiveProps(at,lt),it.state!==rt&&nh.enqueueReplaceState(it,it.state,null)}function rh(rt,it,at,lt){var st=rt.stateNode;st.props=at,st.state=rt.memoizedState,st.refs=jh,ah(rt);var ct=it.contextType;typeof ct=="object"&&ct!==null?st.context=Vg(ct):(ct=Zf(it)?Xf:H$5.current,st.context=Yf(rt,ct)),st.state=rt.memoizedState,ct=it.getDerivedStateFromProps,typeof ct=="function"&&(kh(rt,it,ct,at),st.state=rt.memoizedState),typeof it.getDerivedStateFromProps=="function"||typeof st.getSnapshotBeforeUpdate=="function"||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(it=st.state,typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount(),it!==st.state&&nh.enqueueReplaceState(st,st.state,null),gh(rt,at,st,lt),st.state=rt.memoizedState),typeof st.componentDidMount=="function"&&(rt.flags|=4194308)}function sh(rt,it,at){if(rt=at.ref,rt!==null&&typeof rt!="function"&&typeof rt!="object"){if(at._owner){if(at=at._owner,at){if(at.tag!==1)throw Error(p$a(309));var lt=at.stateNode}if(!lt)throw Error(p$a(147,rt));var st=lt,ct=""+rt;return it!==null&&it.ref!==null&&typeof it.ref=="function"&&it.ref._stringRef===ct?it.ref:(it=function(ut){var ft=st.refs;ft===jh&&(ft=st.refs={}),ut===null?delete ft[ct]:ft[ct]=ut},it._stringRef=ct,it)}if(typeof rt!="string")throw Error(p$a(284));if(!at._owner)throw Error(p$a(290,rt))}return rt}function th(rt,it){throw rt=Object.prototype.toString.call(it),Error(p$a(31,rt==="[object Object]"?"object with keys {"+Object.keys(it).join(", ")+"}":rt))}function uh(rt){var it=rt._init;return it(rt._payload)}function vh(rt){function it(yt,Et){if(rt){var wt=yt.deletions;wt===null?(yt.deletions=[Et],yt.flags|=16):wt.push(Et)}}function at(yt,Et){if(!rt)return null;for(;Et!==null;)it(yt,Et),Et=Et.sibling;return null}function lt(yt,Et){for(yt=new Map;Et!==null;)Et.key!==null?yt.set(Et.key,Et):yt.set(Et.index,Et),Et=Et.sibling;return yt}function st(yt,Et){return yt=wh(yt,Et),yt.index=0,yt.sibling=null,yt}function ct(yt,Et,wt){return yt.index=wt,rt?(wt=yt.alternate,wt!==null?(wt=wt.index,wt<Et?(yt.flags|=2,Et):wt):(yt.flags|=2,Et)):(yt.flags|=1048576,Et)}function ut(yt){return rt&&yt.alternate===null&&(yt.flags|=2),yt}function ft(yt,Et,wt,bt){return Et===null||Et.tag!==6?(Et=xh(wt,yt.mode,bt),Et.return=yt,Et):(Et=st(Et,wt),Et.return=yt,Et)}function dt(yt,Et,wt,bt){var St=wt.type;return St===ya$1?ht(yt,Et,wt.props.children,bt,wt.key):Et!==null&&(Et.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha$1&&uh(St)===Et.type)?(bt=st(Et,wt.props),bt.ref=sh(yt,Et,wt),bt.return=yt,bt):(bt=yh(wt.type,wt.key,wt.props,null,yt.mode,bt),bt.ref=sh(yt,Et,wt),bt.return=yt,bt)}function pt(yt,Et,wt,bt){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==wt.containerInfo||Et.stateNode.implementation!==wt.implementation?(Et=zh(wt,yt.mode,bt),Et.return=yt,Et):(Et=st(Et,wt.children||[]),Et.return=yt,Et)}function ht(yt,Et,wt,bt,St){return Et===null||Et.tag!==7?(Et=Ah(wt,yt.mode,bt,St),Et.return=yt,Et):(Et=st(Et,wt),Et.return=yt,Et)}function gt(yt,Et,wt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Et=xh(""+Et,yt.mode,wt),Et.return=yt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return wt=yh(Et.type,Et.key,Et.props,null,yt.mode,wt),wt.ref=sh(yt,null,Et),wt.return=yt,wt;case wa$1:return Et=zh(Et,yt.mode,wt),Et.return=yt,Et;case Ha$1:var bt=Et._init;return gt(yt,bt(Et._payload),wt)}if(eb$1(Et)||Ka$1(Et))return Et=Ah(Et,yt.mode,wt,null),Et.return=yt,Et;th(yt,Et)}return null}function mt(yt,Et,wt,bt){var St=Et!==null?Et.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number")return St!==null?null:ft(yt,Et,""+wt,bt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return wt.key===St?dt(yt,Et,wt,bt):null;case wa$1:return wt.key===St?pt(yt,Et,wt,bt):null;case Ha$1:return St=wt._init,mt(yt,Et,St(wt._payload),bt)}if(eb$1(wt)||Ka$1(wt))return St!==null?null:ht(yt,Et,wt,bt,null);th(yt,wt)}return null}function xt(yt,Et,wt,bt,St){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return yt=yt.get(wt)||null,ft(Et,yt,""+bt,St);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return yt=yt.get(bt.key===null?wt:bt.key)||null,dt(Et,yt,bt,St);case wa$1:return yt=yt.get(bt.key===null?wt:bt.key)||null,pt(Et,yt,bt,St);case Ha$1:var Tt=bt._init;return xt(yt,Et,wt,Tt(bt._payload),St)}if(eb$1(bt)||Ka$1(bt))return yt=yt.get(wt)||null,ht(Et,yt,bt,St,null);th(Et,bt)}return null}function vt(yt,Et,wt,bt){for(var St=null,Tt=null,Rt=Et,kt=Et=0,At=null;Rt!==null&&kt<wt.length;kt++){Rt.index>kt?(At=Rt,Rt=null):At=Rt.sibling;var Ct=mt(yt,Rt,wt[kt],bt);if(Ct===null){Rt===null&&(Rt=At);break}rt&&Rt&&Ct.alternate===null&&it(yt,Rt),Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct,Rt=At}if(kt===wt.length)return at(yt,Rt),I$4&&tg(yt,kt),St;if(Rt===null){for(;kt<wt.length;kt++)Rt=gt(yt,wt[kt],bt),Rt!==null&&(Et=ct(Rt,Et,kt),Tt===null?St=Rt:Tt.sibling=Rt,Tt=Rt);return I$4&&tg(yt,kt),St}for(Rt=lt(yt,Rt);kt<wt.length;kt++)At=xt(Rt,yt,kt,wt[kt],bt),At!==null&&(rt&&At.alternate!==null&&Rt.delete(At.key===null?kt:At.key),Et=ct(At,Et,kt),Tt===null?St=At:Tt.sibling=At,Tt=At);return rt&&Rt.forEach(function(Mt){return it(yt,Mt)}),I$4&&tg(yt,kt),St}function $t(yt,Et,wt,bt){var St=Ka$1(wt);if(typeof St!="function")throw Error(p$a(150));if(wt=St.call(wt),wt==null)throw Error(p$a(151));for(var Tt=St=null,Rt=Et,kt=Et=0,At=null,Ct=wt.next();Rt!==null&&!Ct.done;kt++,Ct=wt.next()){Rt.index>kt?(At=Rt,Rt=null):At=Rt.sibling;var Mt=mt(yt,Rt,Ct.value,bt);if(Mt===null){Rt===null&&(Rt=At);break}rt&&Rt&&Mt.alternate===null&&it(yt,Rt),Et=ct(Mt,Et,kt),Tt===null?St=Mt:Tt.sibling=Mt,Tt=Mt,Rt=At}if(Ct.done)return at(yt,Rt),I$4&&tg(yt,kt),St;if(Rt===null){for(;!Ct.done;kt++,Ct=wt.next())Ct=gt(yt,Ct.value,bt),Ct!==null&&(Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct);return I$4&&tg(yt,kt),St}for(Rt=lt(yt,Rt);!Ct.done;kt++,Ct=wt.next())Ct=xt(Rt,yt,kt,Ct.value,bt),Ct!==null&&(rt&&Ct.alternate!==null&&Rt.delete(Ct.key===null?kt:Ct.key),Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct);return rt&&Rt.forEach(function(Ot){return it(yt,Ot)}),I$4&&tg(yt,kt),St}function _t(yt,Et,wt,bt){if(typeof wt=="object"&&wt!==null&&wt.type===ya$1&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:e:{for(var St=wt.key,Tt=Et;Tt!==null;){if(Tt.key===St){if(St=wt.type,St===ya$1){if(Tt.tag===7){at(yt,Tt.sibling),Et=st(Tt,wt.props.children),Et.return=yt,yt=Et;break e}}else if(Tt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha$1&&uh(St)===Tt.type){at(yt,Tt.sibling),Et=st(Tt,wt.props),Et.ref=sh(yt,Tt,wt),Et.return=yt,yt=Et;break e}at(yt,Tt);break}else it(yt,Tt);Tt=Tt.sibling}wt.type===ya$1?(Et=Ah(wt.props.children,yt.mode,bt,wt.key),Et.return=yt,yt=Et):(bt=yh(wt.type,wt.key,wt.props,null,yt.mode,bt),bt.ref=sh(yt,Et,wt),bt.return=yt,yt=bt)}return ut(yt);case wa$1:e:{for(Tt=wt.key;Et!==null;){if(Et.key===Tt)if(Et.tag===4&&Et.stateNode.containerInfo===wt.containerInfo&&Et.stateNode.implementation===wt.implementation){at(yt,Et.sibling),Et=st(Et,wt.children||[]),Et.return=yt,yt=Et;break e}else{at(yt,Et);break}else it(yt,Et);Et=Et.sibling}Et=zh(wt,yt.mode,bt),Et.return=yt,yt=Et}return ut(yt);case Ha$1:return Tt=wt._init,_t(yt,Et,Tt(wt._payload),bt)}if(eb$1(wt))return vt(yt,Et,wt,bt);if(Ka$1(wt))return $t(yt,Et,wt,bt);th(yt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"?(wt=""+wt,Et!==null&&Et.tag===6?(at(yt,Et.sibling),Et=st(Et,wt),Et.return=yt,yt=Et):(at(yt,Et),Et=xh(wt,yt.mode,bt),Et.return=yt,yt=Et),ut(yt)):at(yt,Et)}return _t}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(rt){if(rt===Dh)throw Error(p$a(174));return rt}function Ih(rt,it){switch(G$4(Gh,it),G$4(Fh,rt),G$4(Eh,Dh),rt=it.nodeType,rt){case 9:case 11:it=(it=it.documentElement)?it.namespaceURI:lb$1(null,"");break;default:rt=rt===8?it.parentNode:it,it=rt.namespaceURI||null,rt=rt.tagName,it=lb$1(it,rt)}E$7(Eh),G$4(Eh,it)}function Jh(){E$7(Eh),E$7(Fh),E$7(Gh)}function Kh(rt){Hh(Gh.current);var it=Hh(Eh.current),at=lb$1(it,rt.type);it!==at&&(G$4(Fh,rt),G$4(Eh,at))}function Lh(rt){Fh.current===rt&&(E$7(Eh),E$7(Fh))}var M$4=Uf(0);function Mh(rt){for(var it=rt;it!==null;){if(it.tag===13){var at=it.memoizedState;if(at!==null&&(at=at.dehydrated,at===null||at.data==="$?"||at.data==="$!"))return it}else if(it.tag===19&&it.memoizedProps.revealOrder!==void 0){if(it.flags&128)return it}else if(it.child!==null){it.child.return=it,it=it.child;continue}if(it===rt)break;for(;it.sibling===null;){if(it.return===null||it.return===rt)return null;it=it.return}it.sibling.return=it.return,it=it.sibling}return null}var Nh=[];function Oh(){for(var rt=0;rt<Nh.length;rt++)Nh[rt]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$6=null,O$4=null,P$4=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$3(){throw Error(p$a(321))}function Wh(rt,it){if(it===null)return!1;for(var at=0;at<it.length&&at<rt.length;at++)if(!He$2(rt[at],it[at]))return!1;return!0}function Xh(rt,it,at,lt,st,ct){if(Rh=ct,N$6=it,it.memoizedState=null,it.updateQueue=null,it.lanes=0,Ph.current=rt===null||rt.memoizedState===null?Yh:Zh,rt=at(lt,st),Th){ct=0;do{if(Th=!1,Uh=0,25<=ct)throw Error(p$a(301));ct+=1,P$4=O$4=null,it.updateQueue=null,Ph.current=$h,rt=at(lt,st)}while(Th)}if(Ph.current=ai,it=O$4!==null&&O$4.next!==null,Rh=0,P$4=O$4=N$6=null,Sh=!1,it)throw Error(p$a(300));return rt}function bi(){var rt=Uh!==0;return Uh=0,rt}function ci(){var rt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$4===null?N$6.memoizedState=P$4=rt:P$4=P$4.next=rt,P$4}function di(){if(O$4===null){var rt=N$6.alternate;rt=rt!==null?rt.memoizedState:null}else rt=O$4.next;var it=P$4===null?N$6.memoizedState:P$4.next;if(it!==null)P$4=it,O$4=rt;else{if(rt===null)throw Error(p$a(310));O$4=rt,rt={memoizedState:O$4.memoizedState,baseState:O$4.baseState,baseQueue:O$4.baseQueue,queue:O$4.queue,next:null},P$4===null?N$6.memoizedState=P$4=rt:P$4=P$4.next=rt}return P$4}function ei(rt,it){return typeof it=="function"?it(rt):it}function fi(rt){var it=di(),at=it.queue;if(at===null)throw Error(p$a(311));at.lastRenderedReducer=rt;var lt=O$4,st=lt.baseQueue,ct=at.pending;if(ct!==null){if(st!==null){var ut=st.next;st.next=ct.next,ct.next=ut}lt.baseQueue=st=ct,at.pending=null}if(st!==null){ct=st.next,lt=lt.baseState;var ft=ut=null,dt=null,pt=ct;do{var ht=pt.lane;if((Rh&ht)===ht)dt!==null&&(dt=dt.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),lt=pt.hasEagerState?pt.eagerState:rt(lt,pt.action);else{var gt={lane:ht,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};dt===null?(ft=dt=gt,ut=lt):dt=dt.next=gt,N$6.lanes|=ht,hh|=ht}pt=pt.next}while(pt!==null&&pt!==ct);dt===null?ut=lt:dt.next=ft,He$2(lt,it.memoizedState)||(Ug=!0),it.memoizedState=lt,it.baseState=ut,it.baseQueue=dt,at.lastRenderedState=lt}if(rt=at.interleaved,rt!==null){st=rt;do ct=st.lane,N$6.lanes|=ct,hh|=ct,st=st.next;while(st!==rt)}else st===null&&(at.lanes=0);return[it.memoizedState,at.dispatch]}function gi(rt){var it=di(),at=it.queue;if(at===null)throw Error(p$a(311));at.lastRenderedReducer=rt;var lt=at.dispatch,st=at.pending,ct=it.memoizedState;if(st!==null){at.pending=null;var ut=st=st.next;do ct=rt(ct,ut.action),ut=ut.next;while(ut!==st);He$2(ct,it.memoizedState)||(Ug=!0),it.memoizedState=ct,it.baseQueue===null&&(it.baseState=ct),at.lastRenderedState=ct}return[ct,lt]}function hi(){}function ii(rt,it){var at=N$6,lt=di(),st=it(),ct=!He$2(lt.memoizedState,st);if(ct&&(lt.memoizedState=st,Ug=!0),lt=lt.queue,ji(ki.bind(null,at,lt,rt),[rt]),lt.getSnapshot!==it||ct||P$4!==null&&P$4.memoizedState.tag&1){if(at.flags|=2048,li$1(9,mi.bind(null,at,lt,st,it),void 0,null),R$4===null)throw Error(p$a(349));Rh&30||ni(at,it,st)}return st}function ni(rt,it,at){rt.flags|=16384,rt={getSnapshot:it,value:at},it=N$6.updateQueue,it===null?(it={lastEffect:null,stores:null},N$6.updateQueue=it,it.stores=[rt]):(at=it.stores,at===null?it.stores=[rt]:at.push(rt))}function mi(rt,it,at,lt){it.value=at,it.getSnapshot=lt,oi(it)&&pi$1(rt)}function ki(rt,it,at){return at(function(){oi(it)&&pi$1(rt)})}function oi(rt){var it=rt.getSnapshot;rt=rt.value;try{var at=it();return!He$2(rt,at)}catch{return!0}}function pi$1(rt){var it=Zg(rt,1);it!==null&&mh(it,rt,1,-1)}function qi(rt){var it=ci();return typeof rt=="function"&&(rt=rt()),it.memoizedState=it.baseState=rt,rt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:rt},it.queue=rt,rt=rt.dispatch=ri.bind(null,N$6,rt),[it.memoizedState,rt]}function li$1(rt,it,at,lt){return rt={tag:rt,create:it,destroy:at,deps:lt,next:null},it=N$6.updateQueue,it===null?(it={lastEffect:null,stores:null},N$6.updateQueue=it,it.lastEffect=rt.next=rt):(at=it.lastEffect,at===null?it.lastEffect=rt.next=rt:(lt=at.next,at.next=rt,rt.next=lt,it.lastEffect=rt)),rt}function si(){return di().memoizedState}function ti(rt,it,at,lt){var st=ci();N$6.flags|=rt,st.memoizedState=li$1(1|it,at,void 0,lt===void 0?null:lt)}function ui(rt,it,at,lt){var st=di();lt=lt===void 0?null:lt;var ct=void 0;if(O$4!==null){var ut=O$4.memoizedState;if(ct=ut.destroy,lt!==null&&Wh(lt,ut.deps)){st.memoizedState=li$1(it,at,ct,lt);return}}N$6.flags|=rt,st.memoizedState=li$1(1|it,at,ct,lt)}function vi(rt,it){return ti(8390656,8,rt,it)}function ji(rt,it){return ui(2048,8,rt,it)}function wi(rt,it){return ui(4,2,rt,it)}function xi(rt,it){return ui(4,4,rt,it)}function yi(rt,it){if(typeof it=="function")return rt=rt(),it(rt),function(){it(null)};if(it!=null)return rt=rt(),it.current=rt,function(){it.current=null}}function zi(rt,it,at){return at=at!=null?at.concat([rt]):null,ui(4,4,yi.bind(null,it,rt),at)}function Ai(){}function Bi(rt,it){var at=di();it=it===void 0?null:it;var lt=at.memoizedState;return lt!==null&&it!==null&&Wh(it,lt[1])?lt[0]:(at.memoizedState=[rt,it],rt)}function Ci(rt,it){var at=di();it=it===void 0?null:it;var lt=at.memoizedState;return lt!==null&&it!==null&&Wh(it,lt[1])?lt[0]:(rt=rt(),at.memoizedState=[rt,it],rt)}function Di(rt,it,at){return Rh&21?(He$2(at,it)||(at=yc$1(),N$6.lanes|=at,hh|=at,rt.baseState=!0),it):(rt.baseState&&(rt.baseState=!1,Ug=!0),rt.memoizedState=at)}function Ei(rt,it){var at=C$5;C$5=at!==0&&4>at?at:4,rt(!0);var lt=Qh.transition;Qh.transition={};try{rt(!1),it()}finally{C$5=at,Qh.transition=lt}}function Fi(){return di().memoizedState}function Gi(rt,it,at){var lt=lh(rt);if(at={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null},Hi(rt))Ii(it,at);else if(at=Yg(rt,it,at,lt),at!==null){var st=L$8();mh(at,rt,lt,st),Ji(at,it,lt)}}function ri(rt,it,at){var lt=lh(rt),st={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null};if(Hi(rt))Ii(it,st);else{var ct=rt.alternate;if(rt.lanes===0&&(ct===null||ct.lanes===0)&&(ct=it.lastRenderedReducer,ct!==null))try{var ut=it.lastRenderedState,ft=ct(ut,at);if(st.hasEagerState=!0,st.eagerState=ft,He$2(ft,ut)){var dt=it.interleaved;dt===null?(st.next=st,Xg(it)):(st.next=dt.next,dt.next=st),it.interleaved=st;return}}catch{}finally{}at=Yg(rt,it,st,lt),at!==null&&(st=L$8(),mh(at,rt,lt,st),Ji(at,it,lt))}}function Hi(rt){var it=rt.alternate;return rt===N$6||it!==null&&it===N$6}function Ii(rt,it){Th=Sh=!0;var at=rt.pending;at===null?it.next=it:(it.next=at.next,at.next=it),rt.pending=it}function Ji(rt,it,at){if(at&4194240){var lt=it.lanes;lt&=rt.pendingLanes,at|=lt,it.lanes=at,Cc$1(rt,at)}}var ai={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(rt,it){return ci().memoizedState=[rt,it===void 0?null:it],rt},useContext:Vg,useEffect:vi,useImperativeHandle:function(rt,it,at){return at=at!=null?at.concat([rt]):null,ti(4194308,4,yi.bind(null,it,rt),at)},useLayoutEffect:function(rt,it){return ti(4194308,4,rt,it)},useInsertionEffect:function(rt,it){return ti(4,2,rt,it)},useMemo:function(rt,it){var at=ci();return it=it===void 0?null:it,rt=rt(),at.memoizedState=[rt,it],rt},useReducer:function(rt,it,at){var lt=ci();return it=at!==void 0?at(it):it,lt.memoizedState=lt.baseState=it,rt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:it},lt.queue=rt,rt=rt.dispatch=Gi.bind(null,N$6,rt),[lt.memoizedState,rt]},useRef:function(rt){var it=ci();return rt={current:rt},it.memoizedState=rt},useState:qi,useDebugValue:Ai,useDeferredValue:function(rt){return ci().memoizedState=rt},useTransition:function(){var rt=qi(!1),it=rt[0];return rt=Ei.bind(null,rt[1]),ci().memoizedState=rt,[it,rt]},useMutableSource:function(){},useSyncExternalStore:function(rt,it,at){var lt=N$6,st=ci();if(I$4){if(at===void 0)throw Error(p$a(407));at=at()}else{if(at=it(),R$4===null)throw Error(p$a(349));Rh&30||ni(lt,it,at)}st.memoizedState=at;var ct={value:at,getSnapshot:it};return st.queue=ct,vi(ki.bind(null,lt,ct,rt),[rt]),lt.flags|=2048,li$1(9,mi.bind(null,lt,ct,at,it),void 0,null),at},useId:function(){var rt=ci(),it=R$4.identifierPrefix;if(I$4){var at=sg,lt=rg;at=(lt&~(1<<32-oc$1(lt)-1)).toString(32)+at,it=":"+it+"R"+at,at=Uh++,0<at&&(it+="H"+at.toString(32)),it+=":"}else at=Vh++,it=":"+it+"r"+at.toString(32)+":";return rt.memoizedState=it},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(rt){var it=di();return Di(it,O$4.memoizedState,rt)},useTransition:function(){var rt=fi(ei)[0],it=di().memoizedState;return[rt,it]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(rt){var it=di();return O$4===null?it.memoizedState=rt:Di(it,O$4.memoizedState,rt)},useTransition:function(){var rt=gi(ei)[0],it=di().memoizedState;return[rt,it]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(rt,it){try{var at="",lt=it;do at+=Pa$1(lt),lt=lt.return;while(lt);var st=at}catch(ct){st=`
Error generating stack: `+ct.message+`
`+ct.stack}return{value:rt,source:it,stack:st,digest:null}}function Li(rt,it,at){return{value:rt,source:null,stack:at??null,digest:it??null}}function Mi(rt,it){try{console.error(it.value)}catch(at){setTimeout(function(){throw at})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(rt,it,at){at=ch(-1,at),at.tag=3,at.payload={element:null};var lt=it.value;return at.callback=function(){Pi||(Pi=!0,Qi=lt),Mi(rt,it)},at}function Ri(rt,it,at){at=ch(-1,at),at.tag=3;var lt=rt.type.getDerivedStateFromError;if(typeof lt=="function"){var st=it.value;at.payload=function(){return lt(st)},at.callback=function(){Mi(rt,it)}}var ct=rt.stateNode;return ct!==null&&typeof ct.componentDidCatch=="function"&&(at.callback=function(){Mi(rt,it),typeof lt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ut=it.stack;this.componentDidCatch(it.value,{componentStack:ut!==null?ut:""})}),at}function Ti(rt,it,at){var lt=rt.pingCache;if(lt===null){lt=rt.pingCache=new Ni;var st=new Set;lt.set(it,st)}else st=lt.get(it),st===void 0&&(st=new Set,lt.set(it,st));st.has(at)||(st.add(at),rt=Ui.bind(null,rt,it,at),it.then(rt,rt))}function Vi(rt){do{var it;if((it=rt.tag===13)&&(it=rt.memoizedState,it=it!==null?it.dehydrated!==null:!0),it)return rt;rt=rt.return}while(rt!==null);return null}function Wi(rt,it,at,lt,st){return rt.mode&1?(rt.flags|=65536,rt.lanes=st,rt):(rt===it?rt.flags|=65536:(rt.flags|=128,at.flags|=131072,at.flags&=-52805,at.tag===1&&(at.alternate===null?at.tag=17:(it=ch(-1,1),it.tag=2,dh(at,it,1))),at.lanes|=1),rt)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(rt,it,at,lt){it.child=rt===null?Ch(it,null,at,lt):Bh(it,rt.child,at,lt)}function Zi(rt,it,at,lt,st){at=at.render;var ct=it.ref;return Tg(it,st),lt=Xh(rt,it,at,lt,ct,st),at=bi(),rt!==null&&!Ug?(it.updateQueue=rt.updateQueue,it.flags&=-2053,rt.lanes&=~st,$i(rt,it,st)):(I$4&&at&&vg(it),it.flags|=1,Yi(rt,it,lt,st),it.child)}function aj(rt,it,at,lt,st){if(rt===null){var ct=at.type;return typeof ct=="function"&&!bj(ct)&&ct.defaultProps===void 0&&at.compare===null&&at.defaultProps===void 0?(it.tag=15,it.type=ct,cj(rt,it,ct,lt,st)):(rt=yh(at.type,null,lt,it,it.mode,st),rt.ref=it.ref,rt.return=it,it.child=rt)}if(ct=rt.child,!(rt.lanes&st)){var ut=ct.memoizedProps;if(at=at.compare,at=at!==null?at:Ie$1,at(ut,lt)&&rt.ref===it.ref)return $i(rt,it,st)}return it.flags|=1,rt=wh(ct,lt),rt.ref=it.ref,rt.return=it,it.child=rt}function cj(rt,it,at,lt,st){if(rt!==null){var ct=rt.memoizedProps;if(Ie$1(ct,lt)&&rt.ref===it.ref)if(Ug=!1,it.pendingProps=lt=ct,(rt.lanes&st)!==0)rt.flags&131072&&(Ug=!0);else return it.lanes=rt.lanes,$i(rt,it,st)}return dj(rt,it,at,lt,st)}function ej(rt,it,at){var lt=it.pendingProps,st=lt.children,ct=rt!==null?rt.memoizedState:null;if(lt.mode==="hidden")if(!(it.mode&1))it.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$4(fj,gj),gj|=at;else{if(!(at&1073741824))return rt=ct!==null?ct.baseLanes|at:at,it.lanes=it.childLanes=1073741824,it.memoizedState={baseLanes:rt,cachePool:null,transitions:null},it.updateQueue=null,G$4(fj,gj),gj|=rt,null;it.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt=ct!==null?ct.baseLanes:at,G$4(fj,gj),gj|=lt}else ct!==null?(lt=ct.baseLanes|at,it.memoizedState=null):lt=at,G$4(fj,gj),gj|=lt;return Yi(rt,it,st,at),it.child}function hj(rt,it){var at=it.ref;(rt===null&&at!==null||rt!==null&&rt.ref!==at)&&(it.flags|=512,it.flags|=2097152)}function dj(rt,it,at,lt,st){var ct=Zf(at)?Xf:H$5.current;return ct=Yf(it,ct),Tg(it,st),at=Xh(rt,it,at,lt,ct,st),lt=bi(),rt!==null&&!Ug?(it.updateQueue=rt.updateQueue,it.flags&=-2053,rt.lanes&=~st,$i(rt,it,st)):(I$4&&lt&&vg(it),it.flags|=1,Yi(rt,it,at,st),it.child)}function ij(rt,it,at,lt,st){if(Zf(at)){var ct=!0;cg(it)}else ct=!1;if(Tg(it,st),it.stateNode===null)jj(rt,it),ph(it,at,lt),rh(it,at,lt,st),lt=!0;else if(rt===null){var ut=it.stateNode,ft=it.memoizedProps;ut.props=ft;var dt=ut.context,pt=at.contextType;typeof pt=="object"&&pt!==null?pt=Vg(pt):(pt=Zf(at)?Xf:H$5.current,pt=Yf(it,pt));var ht=at.getDerivedStateFromProps,gt=typeof ht=="function"||typeof ut.getSnapshotBeforeUpdate=="function";gt||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(ft!==lt||dt!==pt)&&qh(it,ut,lt,pt),$g=!1;var mt=it.memoizedState;ut.state=mt,gh(it,lt,ut,st),dt=it.memoizedState,ft!==lt||mt!==dt||Wf.current||$g?(typeof ht=="function"&&(kh(it,at,ht,lt),dt=it.memoizedState),(ft=$g||oh(it,at,ft,lt,mt,dt,pt))?(gt||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount()),typeof ut.componentDidMount=="function"&&(it.flags|=4194308)):(typeof ut.componentDidMount=="function"&&(it.flags|=4194308),it.memoizedProps=lt,it.memoizedState=dt),ut.props=lt,ut.state=dt,ut.context=pt,lt=ft):(typeof ut.componentDidMount=="function"&&(it.flags|=4194308),lt=!1)}else{ut=it.stateNode,bh(rt,it),ft=it.memoizedProps,pt=it.type===it.elementType?ft:Lg(it.type,ft),ut.props=pt,gt=it.pendingProps,mt=ut.context,dt=at.contextType,typeof dt=="object"&&dt!==null?dt=Vg(dt):(dt=Zf(at)?Xf:H$5.current,dt=Yf(it,dt));var xt=at.getDerivedStateFromProps;(ht=typeof xt=="function"||typeof ut.getSnapshotBeforeUpdate=="function")||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(ft!==gt||mt!==dt)&&qh(it,ut,lt,dt),$g=!1,mt=it.memoizedState,ut.state=mt,gh(it,lt,ut,st);var vt=it.memoizedState;ft!==gt||mt!==vt||Wf.current||$g?(typeof xt=="function"&&(kh(it,at,xt,lt),vt=it.memoizedState),(pt=$g||oh(it,at,pt,lt,mt,vt,dt)||!1)?(ht||typeof ut.UNSAFE_componentWillUpdate!="function"&&typeof ut.componentWillUpdate!="function"||(typeof ut.componentWillUpdate=="function"&&ut.componentWillUpdate(lt,vt,dt),typeof ut.UNSAFE_componentWillUpdate=="function"&&ut.UNSAFE_componentWillUpdate(lt,vt,dt)),typeof ut.componentDidUpdate=="function"&&(it.flags|=4),typeof ut.getSnapshotBeforeUpdate=="function"&&(it.flags|=1024)):(typeof ut.componentDidUpdate!="function"||ft===rt.memoizedProps&&mt===rt.memoizedState||(it.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||ft===rt.memoizedProps&&mt===rt.memoizedState||(it.flags|=1024),it.memoizedProps=lt,it.memoizedState=vt),ut.props=lt,ut.state=vt,ut.context=dt,lt=pt):(typeof ut.componentDidUpdate!="function"||ft===rt.memoizedProps&&mt===rt.memoizedState||(it.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||ft===rt.memoizedProps&&mt===rt.memoizedState||(it.flags|=1024),lt=!1)}return kj(rt,it,at,lt,ct,st)}function kj(rt,it,at,lt,st,ct){hj(rt,it);var ut=(it.flags&128)!==0;if(!lt&&!ut)return st&&dg(it,at,!1),$i(rt,it,ct);lt=it.stateNode,Xi.current=it;var ft=ut&&typeof at.getDerivedStateFromError!="function"?null:lt.render();return it.flags|=1,rt!==null&&ut?(it.child=Bh(it,rt.child,null,ct),it.child=Bh(it,null,ft,ct)):Yi(rt,it,ft,ct),it.memoizedState=lt.state,st&&dg(it,at,!0),it.child}function lj(rt){var it=rt.stateNode;it.pendingContext?ag(rt,it.pendingContext,it.pendingContext!==it.context):it.context&&ag(rt,it.context,!1),Ih(rt,it.containerInfo)}function mj(rt,it,at,lt,st){return Ig(),Jg(st),it.flags|=256,Yi(rt,it,at,lt),it.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(rt){return{baseLanes:rt,cachePool:null,transitions:null}}function pj(rt,it,at){var lt=it.pendingProps,st=M$4.current,ct=!1,ut=(it.flags&128)!==0,ft;if((ft=ut)||(ft=rt!==null&&rt.memoizedState===null?!1:(st&2)!==0),ft?(ct=!0,it.flags&=-129):(rt===null||rt.memoizedState!==null)&&(st|=1),G$4(M$4,st&1),rt===null)return Eg(it),rt=it.memoizedState,rt!==null&&(rt=rt.dehydrated,rt!==null)?(it.mode&1?rt.data==="$!"?it.lanes=8:it.lanes=1073741824:it.lanes=1,null):(ut=lt.children,rt=lt.fallback,ct?(lt=it.mode,ct=it.child,ut={mode:"hidden",children:ut},!(lt&1)&&ct!==null?(ct.childLanes=0,ct.pendingProps=ut):ct=qj(ut,lt,0,null),rt=Ah(rt,lt,at,null),ct.return=it,rt.return=it,ct.sibling=rt,it.child=ct,it.child.memoizedState=oj(at),it.memoizedState=nj,rt):rj(it,ut));if(st=rt.memoizedState,st!==null&&(ft=st.dehydrated,ft!==null))return sj(rt,it,ut,lt,ft,st,at);if(ct){ct=lt.fallback,ut=it.mode,st=rt.child,ft=st.sibling;var dt={mode:"hidden",children:lt.children};return!(ut&1)&&it.child!==st?(lt=it.child,lt.childLanes=0,lt.pendingProps=dt,it.deletions=null):(lt=wh(st,dt),lt.subtreeFlags=st.subtreeFlags&14680064),ft!==null?ct=wh(ft,ct):(ct=Ah(ct,ut,at,null),ct.flags|=2),ct.return=it,lt.return=it,lt.sibling=ct,it.child=lt,lt=ct,ct=it.child,ut=rt.child.memoizedState,ut=ut===null?oj(at):{baseLanes:ut.baseLanes|at,cachePool:null,transitions:ut.transitions},ct.memoizedState=ut,ct.childLanes=rt.childLanes&~at,it.memoizedState=nj,lt}return ct=rt.child,rt=ct.sibling,lt=wh(ct,{mode:"visible",children:lt.children}),!(it.mode&1)&&(lt.lanes=at),lt.return=it,lt.sibling=null,rt!==null&&(at=it.deletions,at===null?(it.deletions=[rt],it.flags|=16):at.push(rt)),it.child=lt,it.memoizedState=null,lt}function rj(rt,it){return it=qj({mode:"visible",children:it},rt.mode,0,null),it.return=rt,rt.child=it}function tj(rt,it,at,lt){return lt!==null&&Jg(lt),Bh(it,rt.child,null,at),rt=rj(it,it.pendingProps.children),rt.flags|=2,it.memoizedState=null,rt}function sj(rt,it,at,lt,st,ct,ut){if(at)return it.flags&256?(it.flags&=-257,lt=Li(Error(p$a(422))),tj(rt,it,ut,lt)):it.memoizedState!==null?(it.child=rt.child,it.flags|=128,null):(ct=lt.fallback,st=it.mode,lt=qj({mode:"visible",children:lt.children},st,0,null),ct=Ah(ct,st,ut,null),ct.flags|=2,lt.return=it,ct.return=it,lt.sibling=ct,it.child=lt,it.mode&1&&Bh(it,rt.child,null,ut),it.child.memoizedState=oj(ut),it.memoizedState=nj,ct);if(!(it.mode&1))return tj(rt,it,ut,null);if(st.data==="$!"){if(lt=st.nextSibling&&st.nextSibling.dataset,lt)var ft=lt.dgst;return lt=ft,ct=Error(p$a(419)),lt=Li(ct,lt,void 0),tj(rt,it,ut,lt)}if(ft=(ut&rt.childLanes)!==0,Ug||ft){if(lt=R$4,lt!==null){switch(ut&-ut){case 4:st=2;break;case 16:st=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:st=32;break;case 536870912:st=268435456;break;default:st=0}st=st&(lt.suspendedLanes|ut)?0:st,st!==0&&st!==ct.retryLane&&(ct.retryLane=st,Zg(rt,st),mh(lt,rt,st,-1))}return uj(),lt=Li(Error(p$a(421))),tj(rt,it,ut,lt)}return st.data==="$?"?(it.flags|=128,it.child=rt.child,it=vj.bind(null,rt),st._reactRetry=it,null):(rt=ct.treeContext,yg=Lf(st.nextSibling),xg=it,I$4=!0,zg=null,rt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=rt.id,sg=rt.overflow,qg=it),it=rj(it,lt.children),it.flags|=4096,it)}function wj(rt,it,at){rt.lanes|=it;var lt=rt.alternate;lt!==null&&(lt.lanes|=it),Sg(rt.return,it,at)}function xj(rt,it,at,lt,st){var ct=rt.memoizedState;ct===null?rt.memoizedState={isBackwards:it,rendering:null,renderingStartTime:0,last:lt,tail:at,tailMode:st}:(ct.isBackwards=it,ct.rendering=null,ct.renderingStartTime=0,ct.last=lt,ct.tail=at,ct.tailMode=st)}function yj(rt,it,at){var lt=it.pendingProps,st=lt.revealOrder,ct=lt.tail;if(Yi(rt,it,lt.children,at),lt=M$4.current,lt&2)lt=lt&1|2,it.flags|=128;else{if(rt!==null&&rt.flags&128)e:for(rt=it.child;rt!==null;){if(rt.tag===13)rt.memoizedState!==null&&wj(rt,at,it);else if(rt.tag===19)wj(rt,at,it);else if(rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===it)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===it)break e;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}lt&=1}if(G$4(M$4,lt),!(it.mode&1))it.memoizedState=null;else switch(st){case"forwards":for(at=it.child,st=null;at!==null;)rt=at.alternate,rt!==null&&Mh(rt)===null&&(st=at),at=at.sibling;at=st,at===null?(st=it.child,it.child=null):(st=at.sibling,at.sibling=null),xj(it,!1,st,at,ct);break;case"backwards":for(at=null,st=it.child,it.child=null;st!==null;){if(rt=st.alternate,rt!==null&&Mh(rt)===null){it.child=st;break}rt=st.sibling,st.sibling=at,at=st,st=rt}xj(it,!0,at,null,ct);break;case"together":xj(it,!1,null,null,void 0);break;default:it.memoizedState=null}return it.child}function jj(rt,it){!(it.mode&1)&&rt!==null&&(rt.alternate=null,it.alternate=null,it.flags|=2)}function $i(rt,it,at){if(rt!==null&&(it.dependencies=rt.dependencies),hh|=it.lanes,!(at&it.childLanes))return null;if(rt!==null&&it.child!==rt.child)throw Error(p$a(153));if(it.child!==null){for(rt=it.child,at=wh(rt,rt.pendingProps),it.child=at,at.return=it;rt.sibling!==null;)rt=rt.sibling,at=at.sibling=wh(rt,rt.pendingProps),at.return=it;at.sibling=null}return it.child}function zj(rt,it,at){switch(it.tag){case 3:lj(it),Ig();break;case 5:Kh(it);break;case 1:Zf(it.type)&&cg(it);break;case 4:Ih(it,it.stateNode.containerInfo);break;case 10:var lt=it.type._context,st=it.memoizedProps.value;G$4(Mg,lt._currentValue),lt._currentValue=st;break;case 13:if(lt=it.memoizedState,lt!==null)return lt.dehydrated!==null?(G$4(M$4,M$4.current&1),it.flags|=128,null):at&it.child.childLanes?pj(rt,it,at):(G$4(M$4,M$4.current&1),rt=$i(rt,it,at),rt!==null?rt.sibling:null);G$4(M$4,M$4.current&1);break;case 19:if(lt=(at&it.childLanes)!==0,rt.flags&128){if(lt)return yj(rt,it,at);it.flags|=128}if(st=it.memoizedState,st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),G$4(M$4,M$4.current),lt)break;return null;case 22:case 23:return it.lanes=0,ej(rt,it,at)}return $i(rt,it,at)}var Aj,Bj,Cj,Dj;Aj=function(rt,it){for(var at=it.child;at!==null;){if(at.tag===5||at.tag===6)rt.appendChild(at.stateNode);else if(at.tag!==4&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===it)break;for(;at.sibling===null;){if(at.return===null||at.return===it)return;at=at.return}at.sibling.return=at.return,at=at.sibling}};Bj=function(){};Cj=function(rt,it,at,lt){var st=rt.memoizedProps;if(st!==lt){rt=it.stateNode,Hh(Eh.current);var ct=null;switch(at){case"input":st=Ya$1(rt,st),lt=Ya$1(rt,lt),ct=[];break;case"select":st=A$6({},st,{value:void 0}),lt=A$6({},lt,{value:void 0}),ct=[];break;case"textarea":st=gb$1(rt,st),lt=gb$1(rt,lt),ct=[];break;default:typeof st.onClick!="function"&&typeof lt.onClick=="function"&&(rt.onclick=Bf$1)}ub$1(at,lt);var ut;at=null;for(pt in st)if(!lt.hasOwnProperty(pt)&&st.hasOwnProperty(pt)&&st[pt]!=null)if(pt==="style"){var ft=st[pt];for(ut in ft)ft.hasOwnProperty(ut)&&(at||(at={}),at[ut]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea.hasOwnProperty(pt)?ct||(ct=[]):(ct=ct||[]).push(pt,null));for(pt in lt){var dt=lt[pt];if(ft=st!=null?st[pt]:void 0,lt.hasOwnProperty(pt)&&dt!==ft&&(dt!=null||ft!=null))if(pt==="style")if(ft){for(ut in ft)!ft.hasOwnProperty(ut)||dt&&dt.hasOwnProperty(ut)||(at||(at={}),at[ut]="");for(ut in dt)dt.hasOwnProperty(ut)&&ft[ut]!==dt[ut]&&(at||(at={}),at[ut]=dt[ut])}else at||(ct||(ct=[]),ct.push(pt,at)),at=dt;else pt==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,ft=ft?ft.__html:void 0,dt!=null&&ft!==dt&&(ct=ct||[]).push(pt,dt)):pt==="children"?typeof dt!="string"&&typeof dt!="number"||(ct=ct||[]).push(pt,""+dt):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(pt)?(dt!=null&&pt==="onScroll"&&D$8("scroll",rt),ct||ft===dt||(ct=[])):(ct=ct||[]).push(pt,dt))}at&&(ct=ct||[]).push("style",at);var pt=ct;(it.updateQueue=pt)&&(it.flags|=4)}};Dj=function(rt,it,at,lt){at!==lt&&(it.flags|=4)};function Ej(rt,it){if(!I$4)switch(rt.tailMode){case"hidden":it=rt.tail;for(var at=null;it!==null;)it.alternate!==null&&(at=it),it=it.sibling;at===null?rt.tail=null:at.sibling=null;break;case"collapsed":at=rt.tail;for(var lt=null;at!==null;)at.alternate!==null&&(lt=at),at=at.sibling;lt===null?it||rt.tail===null?rt.tail=null:rt.tail.sibling=null:lt.sibling=null}}function S$4(rt){var it=rt.alternate!==null&&rt.alternate.child===rt.child,at=0,lt=0;if(it)for(var st=rt.child;st!==null;)at|=st.lanes|st.childLanes,lt|=st.subtreeFlags&14680064,lt|=st.flags&14680064,st.return=rt,st=st.sibling;else for(st=rt.child;st!==null;)at|=st.lanes|st.childLanes,lt|=st.subtreeFlags,lt|=st.flags,st.return=rt,st=st.sibling;return rt.subtreeFlags|=lt,rt.childLanes=at,it}function Fj(rt,it,at){var lt=it.pendingProps;switch(wg(it),it.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(it),null;case 1:return Zf(it.type)&&$f(),S$4(it),null;case 3:return lt=it.stateNode,Jh(),E$7(Wf),E$7(H$5),Oh(),lt.pendingContext&&(lt.context=lt.pendingContext,lt.pendingContext=null),(rt===null||rt.child===null)&&(Gg(it)?it.flags|=4:rt===null||rt.memoizedState.isDehydrated&&!(it.flags&256)||(it.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(rt,it),S$4(it),null;case 5:Lh(it);var st=Hh(Gh.current);if(at=it.type,rt!==null&&it.stateNode!=null)Cj(rt,it,at,lt,st),rt.ref!==it.ref&&(it.flags|=512,it.flags|=2097152);else{if(!lt){if(it.stateNode===null)throw Error(p$a(166));return S$4(it),null}if(rt=Hh(Eh.current),Gg(it)){lt=it.stateNode,at=it.type;var ct=it.memoizedProps;switch(lt[Of]=it,lt[Pf]=ct,rt=(it.mode&1)!==0,at){case"dialog":D$8("cancel",lt),D$8("close",lt);break;case"iframe":case"object":case"embed":D$8("load",lt);break;case"video":case"audio":for(st=0;st<lf$1.length;st++)D$8(lf$1[st],lt);break;case"source":D$8("error",lt);break;case"img":case"image":case"link":D$8("error",lt),D$8("load",lt);break;case"details":D$8("toggle",lt);break;case"input":Za$1(lt,ct),D$8("invalid",lt);break;case"select":lt._wrapperState={wasMultiple:!!ct.multiple},D$8("invalid",lt);break;case"textarea":hb(lt,ct),D$8("invalid",lt)}ub$1(at,ct),st=null;for(var ut in ct)if(ct.hasOwnProperty(ut)){var ft=ct[ut];ut==="children"?typeof ft=="string"?lt.textContent!==ft&&(ct.suppressHydrationWarning!==!0&&Af$1(lt.textContent,ft,rt),st=["children",ft]):typeof ft=="number"&&lt.textContent!==""+ft&&(ct.suppressHydrationWarning!==!0&&Af$1(lt.textContent,ft,rt),st=["children",""+ft]):ea.hasOwnProperty(ut)&&ft!=null&&ut==="onScroll"&&D$8("scroll",lt)}switch(at){case"input":Va$1(lt),db$1(lt,ct,!0);break;case"textarea":Va$1(lt),jb(lt);break;case"select":case"option":break;default:typeof ct.onClick=="function"&&(lt.onclick=Bf$1)}lt=st,it.updateQueue=lt,lt!==null&&(it.flags|=4)}else{ut=st.nodeType===9?st:st.ownerDocument,rt==="http://www.w3.org/1999/xhtml"&&(rt=kb$1(at)),rt==="http://www.w3.org/1999/xhtml"?at==="script"?(rt=ut.createElement("div"),rt.innerHTML="<script><\/script>",rt=rt.removeChild(rt.firstChild)):typeof lt.is=="string"?rt=ut.createElement(at,{is:lt.is}):(rt=ut.createElement(at),at==="select"&&(ut=rt,lt.multiple?ut.multiple=!0:lt.size&&(ut.size=lt.size))):rt=ut.createElementNS(rt,at),rt[Of]=it,rt[Pf]=lt,Aj(rt,it,!1,!1),it.stateNode=rt;e:{switch(ut=vb$1(at,lt),at){case"dialog":D$8("cancel",rt),D$8("close",rt),st=lt;break;case"iframe":case"object":case"embed":D$8("load",rt),st=lt;break;case"video":case"audio":for(st=0;st<lf$1.length;st++)D$8(lf$1[st],rt);st=lt;break;case"source":D$8("error",rt),st=lt;break;case"img":case"image":case"link":D$8("error",rt),D$8("load",rt),st=lt;break;case"details":D$8("toggle",rt),st=lt;break;case"input":Za$1(rt,lt),st=Ya$1(rt,lt),D$8("invalid",rt);break;case"option":st=lt;break;case"select":rt._wrapperState={wasMultiple:!!lt.multiple},st=A$6({},lt,{value:void 0}),D$8("invalid",rt);break;case"textarea":hb(rt,lt),st=gb$1(rt,lt),D$8("invalid",rt);break;default:st=lt}ub$1(at,st),ft=st;for(ct in ft)if(ft.hasOwnProperty(ct)){var dt=ft[ct];ct==="style"?sb$1(rt,dt):ct==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,dt!=null&&nb$1(rt,dt)):ct==="children"?typeof dt=="string"?(at!=="textarea"||dt!=="")&&ob$1(rt,dt):typeof dt=="number"&&ob$1(rt,""+dt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?dt!=null&&ct==="onScroll"&&D$8("scroll",rt):dt!=null&&ta$1(rt,ct,dt,ut))}switch(at){case"input":Va$1(rt),db$1(rt,lt,!1);break;case"textarea":Va$1(rt),jb(rt);break;case"option":lt.value!=null&&rt.setAttribute("value",""+Sa$1(lt.value));break;case"select":rt.multiple=!!lt.multiple,ct=lt.value,ct!=null?fb$1(rt,!!lt.multiple,ct,!1):lt.defaultValue!=null&&fb$1(rt,!!lt.multiple,lt.defaultValue,!0);break;default:typeof st.onClick=="function"&&(rt.onclick=Bf$1)}switch(at){case"button":case"input":case"select":case"textarea":lt=!!lt.autoFocus;break e;case"img":lt=!0;break e;default:lt=!1}}lt&&(it.flags|=4)}it.ref!==null&&(it.flags|=512,it.flags|=2097152)}return S$4(it),null;case 6:if(rt&&it.stateNode!=null)Dj(rt,it,rt.memoizedProps,lt);else{if(typeof lt!="string"&&it.stateNode===null)throw Error(p$a(166));if(at=Hh(Gh.current),Hh(Eh.current),Gg(it)){if(lt=it.stateNode,at=it.memoizedProps,lt[Of]=it,(ct=lt.nodeValue!==at)&&(rt=xg,rt!==null))switch(rt.tag){case 3:Af$1(lt.nodeValue,at,(rt.mode&1)!==0);break;case 5:rt.memoizedProps.suppressHydrationWarning!==!0&&Af$1(lt.nodeValue,at,(rt.mode&1)!==0)}ct&&(it.flags|=4)}else lt=(at.nodeType===9?at:at.ownerDocument).createTextNode(lt),lt[Of]=it,it.stateNode=lt}return S$4(it),null;case 13:if(E$7(M$4),lt=it.memoizedState,rt===null||rt.memoizedState!==null&&rt.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&it.mode&1&&!(it.flags&128))Hg(),Ig(),it.flags|=98560,ct=!1;else if(ct=Gg(it),lt!==null&&lt.dehydrated!==null){if(rt===null){if(!ct)throw Error(p$a(318));if(ct=it.memoizedState,ct=ct!==null?ct.dehydrated:null,!ct)throw Error(p$a(317));ct[Of]=it}else Ig(),!(it.flags&128)&&(it.memoizedState=null),it.flags|=4;S$4(it),ct=!1}else zg!==null&&(Gj(zg),zg=null),ct=!0;if(!ct)return it.flags&65536?it:null}return it.flags&128?(it.lanes=at,it):(lt=lt!==null,lt!==(rt!==null&&rt.memoizedState!==null)&&lt&&(it.child.flags|=8192,it.mode&1&&(rt===null||M$4.current&1?T$5===0&&(T$5=3):uj())),it.updateQueue!==null&&(it.flags|=4),S$4(it),null);case 4:return Jh(),Bj(rt,it),rt===null&&sf(it.stateNode.containerInfo),S$4(it),null;case 10:return Rg(it.type._context),S$4(it),null;case 17:return Zf(it.type)&&$f(),S$4(it),null;case 19:if(E$7(M$4),ct=it.memoizedState,ct===null)return S$4(it),null;if(lt=(it.flags&128)!==0,ut=ct.rendering,ut===null)if(lt)Ej(ct,!1);else{if(T$5!==0||rt!==null&&rt.flags&128)for(rt=it.child;rt!==null;){if(ut=Mh(rt),ut!==null){for(it.flags|=128,Ej(ct,!1),lt=ut.updateQueue,lt!==null&&(it.updateQueue=lt,it.flags|=4),it.subtreeFlags=0,lt=at,at=it.child;at!==null;)ct=at,rt=lt,ct.flags&=14680066,ut=ct.alternate,ut===null?(ct.childLanes=0,ct.lanes=rt,ct.child=null,ct.subtreeFlags=0,ct.memoizedProps=null,ct.memoizedState=null,ct.updateQueue=null,ct.dependencies=null,ct.stateNode=null):(ct.childLanes=ut.childLanes,ct.lanes=ut.lanes,ct.child=ut.child,ct.subtreeFlags=0,ct.deletions=null,ct.memoizedProps=ut.memoizedProps,ct.memoizedState=ut.memoizedState,ct.updateQueue=ut.updateQueue,ct.type=ut.type,rt=ut.dependencies,ct.dependencies=rt===null?null:{lanes:rt.lanes,firstContext:rt.firstContext}),at=at.sibling;return G$4(M$4,M$4.current&1|2),it.child}rt=rt.sibling}ct.tail!==null&&B$7()>Hj&&(it.flags|=128,lt=!0,Ej(ct,!1),it.lanes=4194304)}else{if(!lt)if(rt=Mh(ut),rt!==null){if(it.flags|=128,lt=!0,at=rt.updateQueue,at!==null&&(it.updateQueue=at,it.flags|=4),Ej(ct,!0),ct.tail===null&&ct.tailMode==="hidden"&&!ut.alternate&&!I$4)return S$4(it),null}else 2*B$7()-ct.renderingStartTime>Hj&&at!==1073741824&&(it.flags|=128,lt=!0,Ej(ct,!1),it.lanes=4194304);ct.isBackwards?(ut.sibling=it.child,it.child=ut):(at=ct.last,at!==null?at.sibling=ut:it.child=ut,ct.last=ut)}return ct.tail!==null?(it=ct.tail,ct.rendering=it,ct.tail=it.sibling,ct.renderingStartTime=B$7(),it.sibling=null,at=M$4.current,G$4(M$4,lt?at&1|2:at&1),it):(S$4(it),null);case 22:case 23:return Ij(),lt=it.memoizedState!==null,rt!==null&&rt.memoizedState!==null!==lt&&(it.flags|=8192),lt&&it.mode&1?gj&1073741824&&(S$4(it),it.subtreeFlags&6&&(it.flags|=8192)):S$4(it),null;case 24:return null;case 25:return null}throw Error(p$a(156,it.tag))}function Jj(rt,it){switch(wg(it),it.tag){case 1:return Zf(it.type)&&$f(),rt=it.flags,rt&65536?(it.flags=rt&-65537|128,it):null;case 3:return Jh(),E$7(Wf),E$7(H$5),Oh(),rt=it.flags,rt&65536&&!(rt&128)?(it.flags=rt&-65537|128,it):null;case 5:return Lh(it),null;case 13:if(E$7(M$4),rt=it.memoizedState,rt!==null&&rt.dehydrated!==null){if(it.alternate===null)throw Error(p$a(340));Ig()}return rt=it.flags,rt&65536?(it.flags=rt&-65537|128,it):null;case 19:return E$7(M$4),null;case 4:return Jh(),null;case 10:return Rg(it.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$3=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(rt,it){var at=rt.ref;if(at!==null)if(typeof at=="function")try{at(null)}catch(lt){W$3(rt,it,lt)}else at.current=null}function Nj(rt,it,at){try{at()}catch(lt){W$3(rt,it,lt)}}var Oj=!1;function Pj(rt,it){if(Cf$1=dd$1,rt=Me$1(),Ne$2(rt)){if("selectionStart"in rt)var at={start:rt.selectionStart,end:rt.selectionEnd};else e:{at=(at=rt.ownerDocument)&&at.defaultView||window;var lt=at.getSelection&&at.getSelection();if(lt&&lt.rangeCount!==0){at=lt.anchorNode;var st=lt.anchorOffset,ct=lt.focusNode;lt=lt.focusOffset;try{at.nodeType,ct.nodeType}catch{at=null;break e}var ut=0,ft=-1,dt=-1,pt=0,ht=0,gt=rt,mt=null;t:for(;;){for(var xt;gt!==at||st!==0&&gt.nodeType!==3||(ft=ut+st),gt!==ct||lt!==0&&gt.nodeType!==3||(dt=ut+lt),gt.nodeType===3&&(ut+=gt.nodeValue.length),(xt=gt.firstChild)!==null;)mt=gt,gt=xt;for(;;){if(gt===rt)break t;if(mt===at&&++pt===st&&(ft=ut),mt===ct&&++ht===lt&&(dt=ut),(xt=gt.nextSibling)!==null)break;gt=mt,mt=gt.parentNode}gt=xt}at=ft===-1||dt===-1?null:{start:ft,end:dt}}else at=null}at=at||{start:0,end:0}}else at=null;for(Df$1={focusedElem:rt,selectionRange:at},dd$1=!1,V$2=it;V$2!==null;)if(it=V$2,rt=it.child,(it.subtreeFlags&1028)!==0&&rt!==null)rt.return=it,V$2=rt;else for(;V$2!==null;){it=V$2;try{var vt=it.alternate;if(it.flags&1024)switch(it.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var $t=vt.memoizedProps,_t=vt.memoizedState,yt=it.stateNode,Et=yt.getSnapshotBeforeUpdate(it.elementType===it.type?$t:Lg(it.type,$t),_t);yt.__reactInternalSnapshotBeforeUpdate=Et}break;case 3:var wt=it.stateNode.containerInfo;wt.nodeType===1?wt.textContent="":wt.nodeType===9&&wt.documentElement&&wt.removeChild(wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$a(163))}}catch(bt){W$3(it,it.return,bt)}if(rt=it.sibling,rt!==null){rt.return=it.return,V$2=rt;break}V$2=it.return}return vt=Oj,Oj=!1,vt}function Qj(rt,it,at){var lt=it.updateQueue;if(lt=lt!==null?lt.lastEffect:null,lt!==null){var st=lt=lt.next;do{if((st.tag&rt)===rt){var ct=st.destroy;st.destroy=void 0,ct!==void 0&&Nj(it,at,ct)}st=st.next}while(st!==lt)}}function Rj(rt,it){if(it=it.updateQueue,it=it!==null?it.lastEffect:null,it!==null){var at=it=it.next;do{if((at.tag&rt)===rt){var lt=at.create;at.destroy=lt()}at=at.next}while(at!==it)}}function Sj(rt){var it=rt.ref;if(it!==null){var at=rt.stateNode;switch(rt.tag){case 5:rt=at;break;default:rt=at}typeof it=="function"?it(rt):it.current=rt}}function Tj(rt){var it=rt.alternate;it!==null&&(rt.alternate=null,Tj(it)),rt.child=null,rt.deletions=null,rt.sibling=null,rt.tag===5&&(it=rt.stateNode,it!==null&&(delete it[Of],delete it[Pf],delete it[of$1],delete it[Qf],delete it[Rf])),rt.stateNode=null,rt.return=null,rt.dependencies=null,rt.memoizedProps=null,rt.memoizedState=null,rt.pendingProps=null,rt.stateNode=null,rt.updateQueue=null}function Uj(rt){return rt.tag===5||rt.tag===3||rt.tag===4}function Vj(rt){e:for(;;){for(;rt.sibling===null;){if(rt.return===null||Uj(rt.return))return null;rt=rt.return}for(rt.sibling.return=rt.return,rt=rt.sibling;rt.tag!==5&&rt.tag!==6&&rt.tag!==18;){if(rt.flags&2||rt.child===null||rt.tag===4)continue e;rt.child.return=rt,rt=rt.child}if(!(rt.flags&2))return rt.stateNode}}function Wj(rt,it,at){var lt=rt.tag;if(lt===5||lt===6)rt=rt.stateNode,it?at.nodeType===8?at.parentNode.insertBefore(rt,it):at.insertBefore(rt,it):(at.nodeType===8?(it=at.parentNode,it.insertBefore(rt,at)):(it=at,it.appendChild(rt)),at=at._reactRootContainer,at!=null||it.onclick!==null||(it.onclick=Bf$1));else if(lt!==4&&(rt=rt.child,rt!==null))for(Wj(rt,it,at),rt=rt.sibling;rt!==null;)Wj(rt,it,at),rt=rt.sibling}function Xj(rt,it,at){var lt=rt.tag;if(lt===5||lt===6)rt=rt.stateNode,it?at.insertBefore(rt,it):at.appendChild(rt);else if(lt!==4&&(rt=rt.child,rt!==null))for(Xj(rt,it,at),rt=rt.sibling;rt!==null;)Xj(rt,it,at),rt=rt.sibling}var X$1=null,Yj=!1;function Zj(rt,it,at){for(at=at.child;at!==null;)ak(rt,it,at),at=at.sibling}function ak(rt,it,at){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,at)}catch{}switch(at.tag){case 5:U$3||Mj(at,it);case 6:var lt=X$1,st=Yj;X$1=null,Zj(rt,it,at),X$1=lt,Yj=st,X$1!==null&&(Yj?(rt=X$1,at=at.stateNode,rt.nodeType===8?rt.parentNode.removeChild(at):rt.removeChild(at)):X$1.removeChild(at.stateNode));break;case 18:X$1!==null&&(Yj?(rt=X$1,at=at.stateNode,rt.nodeType===8?Kf(rt.parentNode,at):rt.nodeType===1&&Kf(rt,at),bd$1(rt)):Kf(X$1,at.stateNode));break;case 4:lt=X$1,st=Yj,X$1=at.stateNode.containerInfo,Yj=!0,Zj(rt,it,at),X$1=lt,Yj=st;break;case 0:case 11:case 14:case 15:if(!U$3&&(lt=at.updateQueue,lt!==null&&(lt=lt.lastEffect,lt!==null))){st=lt=lt.next;do{var ct=st,ut=ct.destroy;ct=ct.tag,ut!==void 0&&(ct&2||ct&4)&&Nj(at,it,ut),st=st.next}while(st!==lt)}Zj(rt,it,at);break;case 1:if(!U$3&&(Mj(at,it),lt=at.stateNode,typeof lt.componentWillUnmount=="function"))try{lt.props=at.memoizedProps,lt.state=at.memoizedState,lt.componentWillUnmount()}catch(ft){W$3(at,it,ft)}Zj(rt,it,at);break;case 21:Zj(rt,it,at);break;case 22:at.mode&1?(U$3=(lt=U$3)||at.memoizedState!==null,Zj(rt,it,at),U$3=lt):Zj(rt,it,at);break;default:Zj(rt,it,at)}}function bk(rt){var it=rt.updateQueue;if(it!==null){rt.updateQueue=null;var at=rt.stateNode;at===null&&(at=rt.stateNode=new Lj),it.forEach(function(lt){var st=ck.bind(null,rt,lt);at.has(lt)||(at.add(lt),lt.then(st,st))})}}function dk(rt,it){var at=it.deletions;if(at!==null)for(var lt=0;lt<at.length;lt++){var st=at[lt];try{var ct=rt,ut=it,ft=ut;e:for(;ft!==null;){switch(ft.tag){case 5:X$1=ft.stateNode,Yj=!1;break e;case 3:X$1=ft.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ft.stateNode.containerInfo,Yj=!0;break e}ft=ft.return}if(X$1===null)throw Error(p$a(160));ak(ct,ut,st),X$1=null,Yj=!1;var dt=st.alternate;dt!==null&&(dt.return=null),st.return=null}catch(pt){W$3(st,it,pt)}}if(it.subtreeFlags&12854)for(it=it.child;it!==null;)ek(it,rt),it=it.sibling}function ek(rt,it){var at=rt.alternate,lt=rt.flags;switch(rt.tag){case 0:case 11:case 14:case 15:if(dk(it,rt),fk(rt),lt&4){try{Qj(3,rt,rt.return),Rj(3,rt)}catch($t){W$3(rt,rt.return,$t)}try{Qj(5,rt,rt.return)}catch($t){W$3(rt,rt.return,$t)}}break;case 1:dk(it,rt),fk(rt),lt&512&&at!==null&&Mj(at,at.return);break;case 5:if(dk(it,rt),fk(rt),lt&512&&at!==null&&Mj(at,at.return),rt.flags&32){var st=rt.stateNode;try{ob$1(st,"")}catch($t){W$3(rt,rt.return,$t)}}if(lt&4&&(st=rt.stateNode,st!=null)){var ct=rt.memoizedProps,ut=at!==null?at.memoizedProps:ct,ft=rt.type,dt=rt.updateQueue;if(rt.updateQueue=null,dt!==null)try{ft==="input"&&ct.type==="radio"&&ct.name!=null&&ab$1(st,ct),vb$1(ft,ut);var pt=vb$1(ft,ct);for(ut=0;ut<dt.length;ut+=2){var ht=dt[ut],gt=dt[ut+1];ht==="style"?sb$1(st,gt):ht==="dangerouslySetInnerHTML"?nb$1(st,gt):ht==="children"?ob$1(st,gt):ta$1(st,ht,gt,pt)}switch(ft){case"input":bb$1(st,ct);break;case"textarea":ib(st,ct);break;case"select":var mt=st._wrapperState.wasMultiple;st._wrapperState.wasMultiple=!!ct.multiple;var xt=ct.value;xt!=null?fb$1(st,!!ct.multiple,xt,!1):mt!==!!ct.multiple&&(ct.defaultValue!=null?fb$1(st,!!ct.multiple,ct.defaultValue,!0):fb$1(st,!!ct.multiple,ct.multiple?[]:"",!1))}st[Pf]=ct}catch($t){W$3(rt,rt.return,$t)}}break;case 6:if(dk(it,rt),fk(rt),lt&4){if(rt.stateNode===null)throw Error(p$a(162));st=rt.stateNode,ct=rt.memoizedProps;try{st.nodeValue=ct}catch($t){W$3(rt,rt.return,$t)}}break;case 3:if(dk(it,rt),fk(rt),lt&4&&at!==null&&at.memoizedState.isDehydrated)try{bd$1(it.containerInfo)}catch($t){W$3(rt,rt.return,$t)}break;case 4:dk(it,rt),fk(rt);break;case 13:dk(it,rt),fk(rt),st=rt.child,st.flags&8192&&(ct=st.memoizedState!==null,st.stateNode.isHidden=ct,!ct||st.alternate!==null&&st.alternate.memoizedState!==null||(gk=B$7())),lt&4&&bk(rt);break;case 22:if(ht=at!==null&&at.memoizedState!==null,rt.mode&1?(U$3=(pt=U$3)||ht,dk(it,rt),U$3=pt):dk(it,rt),fk(rt),lt&8192){if(pt=rt.memoizedState!==null,(rt.stateNode.isHidden=pt)&&!ht&&rt.mode&1)for(V$2=rt,ht=rt.child;ht!==null;){for(gt=V$2=ht;V$2!==null;){switch(mt=V$2,xt=mt.child,mt.tag){case 0:case 11:case 14:case 15:Qj(4,mt,mt.return);break;case 1:Mj(mt,mt.return);var vt=mt.stateNode;if(typeof vt.componentWillUnmount=="function"){lt=mt,at=mt.return;try{it=lt,vt.props=it.memoizedProps,vt.state=it.memoizedState,vt.componentWillUnmount()}catch($t){W$3(lt,at,$t)}}break;case 5:Mj(mt,mt.return);break;case 22:if(mt.memoizedState!==null){hk(gt);continue}}xt!==null?(xt.return=mt,V$2=xt):hk(gt)}ht=ht.sibling}e:for(ht=null,gt=rt;;){if(gt.tag===5){if(ht===null){ht=gt;try{st=gt.stateNode,pt?(ct=st.style,typeof ct.setProperty=="function"?ct.setProperty("display","none","important"):ct.display="none"):(ft=gt.stateNode,dt=gt.memoizedProps.style,ut=dt!=null&&dt.hasOwnProperty("display")?dt.display:null,ft.style.display=rb$1("display",ut))}catch($t){W$3(rt,rt.return,$t)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=pt?"":gt.memoizedProps}catch($t){W$3(rt,rt.return,$t)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===rt)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===rt)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===rt)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(it,rt),fk(rt),lt&4&&bk(rt);break;case 21:break;default:dk(it,rt),fk(rt)}}function fk(rt){var it=rt.flags;if(it&2){try{e:{for(var at=rt.return;at!==null;){if(Uj(at)){var lt=at;break e}at=at.return}throw Error(p$a(160))}switch(lt.tag){case 5:var st=lt.stateNode;lt.flags&32&&(ob$1(st,""),lt.flags&=-33);var ct=Vj(rt);Xj(rt,ct,st);break;case 3:case 4:var ut=lt.stateNode.containerInfo,ft=Vj(rt);Wj(rt,ft,ut);break;default:throw Error(p$a(161))}}catch(dt){W$3(rt,rt.return,dt)}rt.flags&=-3}it&4096&&(rt.flags&=-4097)}function ik(rt,it,at){V$2=rt,jk(rt)}function jk(rt,it,at){for(var lt=(rt.mode&1)!==0;V$2!==null;){var st=V$2,ct=st.child;if(st.tag===22&&lt){var ut=st.memoizedState!==null||Kj;if(!ut){var ft=st.alternate,dt=ft!==null&&ft.memoizedState!==null||U$3;ft=Kj;var pt=U$3;if(Kj=ut,(U$3=dt)&&!pt)for(V$2=st;V$2!==null;)ut=V$2,dt=ut.child,ut.tag===22&&ut.memoizedState!==null?kk(st):dt!==null?(dt.return=ut,V$2=dt):kk(st);for(;ct!==null;)V$2=ct,jk(ct),ct=ct.sibling;V$2=st,Kj=ft,U$3=pt}lk(rt)}else st.subtreeFlags&8772&&ct!==null?(ct.return=st,V$2=ct):lk(rt)}}function lk(rt){for(;V$2!==null;){var it=V$2;if(it.flags&8772){var at=it.alternate;try{if(it.flags&8772)switch(it.tag){case 0:case 11:case 15:U$3||Rj(5,it);break;case 1:var lt=it.stateNode;if(it.flags&4&&!U$3)if(at===null)lt.componentDidMount();else{var st=it.elementType===it.type?at.memoizedProps:Lg(it.type,at.memoizedProps);lt.componentDidUpdate(st,at.memoizedState,lt.__reactInternalSnapshotBeforeUpdate)}var ct=it.updateQueue;ct!==null&&ih(it,ct,lt);break;case 3:var ut=it.updateQueue;if(ut!==null){if(at=null,it.child!==null)switch(it.child.tag){case 5:at=it.child.stateNode;break;case 1:at=it.child.stateNode}ih(it,ut,at)}break;case 5:var ft=it.stateNode;if(at===null&&it.flags&4){at=ft;var dt=it.memoizedProps;switch(it.type){case"button":case"input":case"select":case"textarea":dt.autoFocus&&at.focus();break;case"img":dt.src&&(at.src=dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(it.memoizedState===null){var pt=it.alternate;if(pt!==null){var ht=pt.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&bd$1(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$a(163))}U$3||it.flags&512&&Sj(it)}catch(mt){W$3(it,it.return,mt)}}if(it===rt){V$2=null;break}if(at=it.sibling,at!==null){at.return=it.return,V$2=at;break}V$2=it.return}}function hk(rt){for(;V$2!==null;){var it=V$2;if(it===rt){V$2=null;break}var at=it.sibling;if(at!==null){at.return=it.return,V$2=at;break}V$2=it.return}}function kk(rt){for(;V$2!==null;){var it=V$2;try{switch(it.tag){case 0:case 11:case 15:var at=it.return;try{Rj(4,it)}catch(dt){W$3(it,at,dt)}break;case 1:var lt=it.stateNode;if(typeof lt.componentDidMount=="function"){var st=it.return;try{lt.componentDidMount()}catch(dt){W$3(it,st,dt)}}var ct=it.return;try{Sj(it)}catch(dt){W$3(it,ct,dt)}break;case 5:var ut=it.return;try{Sj(it)}catch(dt){W$3(it,ut,dt)}}}catch(dt){W$3(it,it.return,dt)}if(it===rt){V$2=null;break}var ft=it.sibling;if(ft!==null){ft.return=it.return,V$2=ft;break}V$2=it.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$2=0,R$4=null,Y=null,Z$2=0,gj=0,fj=Uf(0),T$5=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$8(){return K$2&6?B$7():Bk!==-1?Bk:Bk=B$7()}function lh(rt){return rt.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(rt=C$5,rt!==0||(rt=window.event,rt=rt===void 0?16:jd$1(rt.type)),rt):1}function mh(rt,it,at,lt){if(50<zk)throw zk=0,Ak=null,Error(p$a(185));Ac$1(rt,at,lt),(!(K$2&2)||rt!==R$4)&&(rt===R$4&&(!(K$2&2)&&(rk|=at),T$5===4&&Dk(rt,Z$2)),Ek(rt,lt),at===1&&K$2===0&&!(it.mode&1)&&(Hj=B$7()+500,fg&&jg()))}function Ek(rt,it){var at=rt.callbackNode;wc$1(rt,it);var lt=uc$1(rt,rt===R$4?Z$2:0);if(lt===0)at!==null&&bc$1(at),rt.callbackNode=null,rt.callbackPriority=0;else if(it=lt&-lt,rt.callbackPriority!==it){if(at!=null&&bc$1(at),it===1)rt.tag===0?ig(Fk.bind(null,rt)):hg(Fk.bind(null,rt)),Jf(function(){!(K$2&6)&&jg()}),at=null;else{switch(Dc$1(lt)){case 1:at=fc$1;break;case 4:at=gc$1;break;case 16:at=hc$1;break;case 536870912:at=jc$1;break;default:at=hc$1}at=Gk(at,Hk.bind(null,rt))}rt.callbackPriority=it,rt.callbackNode=at}}function Hk(rt,it){if(Bk=-1,Ck=0,K$2&6)throw Error(p$a(327));var at=rt.callbackNode;if(Ik()&&rt.callbackNode!==at)return null;var lt=uc$1(rt,rt===R$4?Z$2:0);if(lt===0)return null;if(lt&30||lt&rt.expiredLanes||it)it=Jk(rt,lt);else{it=lt;var st=K$2;K$2|=2;var ct=Kk();(R$4!==rt||Z$2!==it)&&(vk=null,Hj=B$7()+500,Lk(rt,it));do try{Mk();break}catch(ft){Nk(rt,ft)}while(1);Qg(),nk.current=ct,K$2=st,Y!==null?it=0:(R$4=null,Z$2=0,it=T$5)}if(it!==0){if(it===2&&(st=xc$1(rt),st!==0&&(lt=st,it=Ok(rt,st))),it===1)throw at=qk,Lk(rt,0),Dk(rt,lt),Ek(rt,B$7()),at;if(it===6)Dk(rt,lt);else{if(st=rt.current.alternate,!(lt&30)&&!Pk(st)&&(it=Jk(rt,lt),it===2&&(ct=xc$1(rt),ct!==0&&(lt=ct,it=Ok(rt,ct))),it===1))throw at=qk,Lk(rt,0),Dk(rt,lt),Ek(rt,B$7()),at;switch(rt.finishedWork=st,rt.finishedLanes=lt,it){case 0:case 1:throw Error(p$a(345));case 2:Qk(rt,uk,vk);break;case 3:if(Dk(rt,lt),(lt&130023424)===lt&&(it=gk+500-B$7(),10<it)){if(uc$1(rt,0)!==0)break;if(st=rt.suspendedLanes,(st&lt)!==lt){L$8(),rt.pingedLanes|=rt.suspendedLanes&st;break}rt.timeoutHandle=Ff(Qk.bind(null,rt,uk,vk),it);break}Qk(rt,uk,vk);break;case 4:if(Dk(rt,lt),(lt&4194240)===lt)break;for(it=rt.eventTimes,st=-1;0<lt;){var ut=31-oc$1(lt);ct=1<<ut,ut=it[ut],ut>st&&(st=ut),lt&=~ct}if(lt=st,lt=B$7()-lt,lt=(120>lt?120:480>lt?480:1080>lt?1080:1920>lt?1920:3e3>lt?3e3:4320>lt?4320:1960*mk(lt/1960))-lt,10<lt){rt.timeoutHandle=Ff(Qk.bind(null,rt,uk,vk),lt);break}Qk(rt,uk,vk);break;case 5:Qk(rt,uk,vk);break;default:throw Error(p$a(329))}}}return Ek(rt,B$7()),rt.callbackNode===at?Hk.bind(null,rt):null}function Ok(rt,it){var at=tk;return rt.current.memoizedState.isDehydrated&&(Lk(rt,it).flags|=256),rt=Jk(rt,it),rt!==2&&(it=uk,uk=at,it!==null&&Gj(it)),rt}function Gj(rt){uk===null?uk=rt:uk.push.apply(uk,rt)}function Pk(rt){for(var it=rt;;){if(it.flags&16384){var at=it.updateQueue;if(at!==null&&(at=at.stores,at!==null))for(var lt=0;lt<at.length;lt++){var st=at[lt],ct=st.getSnapshot;st=st.value;try{if(!He$2(ct(),st))return!1}catch{return!1}}}if(at=it.child,it.subtreeFlags&16384&&at!==null)at.return=it,it=at;else{if(it===rt)break;for(;it.sibling===null;){if(it.return===null||it.return===rt)return!0;it=it.return}it.sibling.return=it.return,it=it.sibling}}return!0}function Dk(rt,it){for(it&=~sk,it&=~rk,rt.suspendedLanes|=it,rt.pingedLanes&=~it,rt=rt.expirationTimes;0<it;){var at=31-oc$1(it),lt=1<<at;rt[at]=-1,it&=~lt}}function Fk(rt){if(K$2&6)throw Error(p$a(327));Ik();var it=uc$1(rt,0);if(!(it&1))return Ek(rt,B$7()),null;var at=Jk(rt,it);if(rt.tag!==0&&at===2){var lt=xc$1(rt);lt!==0&&(it=lt,at=Ok(rt,lt))}if(at===1)throw at=qk,Lk(rt,0),Dk(rt,it),Ek(rt,B$7()),at;if(at===6)throw Error(p$a(345));return rt.finishedWork=rt.current.alternate,rt.finishedLanes=it,Qk(rt,uk,vk),Ek(rt,B$7()),null}function Rk(rt,it){var at=K$2;K$2|=1;try{return rt(it)}finally{K$2=at,K$2===0&&(Hj=B$7()+500,fg&&jg())}}function Sk(rt){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var it=K$2;K$2|=1;var at=pk.transition,lt=C$5;try{if(pk.transition=null,C$5=1,rt)return rt()}finally{C$5=lt,pk.transition=at,K$2=it,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$7(fj)}function Lk(rt,it){rt.finishedWork=null,rt.finishedLanes=0;var at=rt.timeoutHandle;if(at!==-1&&(rt.timeoutHandle=-1,Gf(at)),Y!==null)for(at=Y.return;at!==null;){var lt=at;switch(wg(lt),lt.tag){case 1:lt=lt.type.childContextTypes,lt!=null&&$f();break;case 3:Jh(),E$7(Wf),E$7(H$5),Oh();break;case 5:Lh(lt);break;case 4:Jh();break;case 13:E$7(M$4);break;case 19:E$7(M$4);break;case 10:Rg(lt.type._context);break;case 22:case 23:Ij()}at=at.return}if(R$4=rt,Y=rt=wh(rt.current,null),Z$2=gj=it,T$5=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(it=0;it<Wg.length;it++)if(at=Wg[it],lt=at.interleaved,lt!==null){at.interleaved=null;var st=lt.next,ct=at.pending;if(ct!==null){var ut=ct.next;ct.next=st,lt.next=ut}at.pending=lt}Wg=null}return rt}function Nk(rt,it){do{var at=Y;try{if(Qg(),Ph.current=ai,Sh){for(var lt=N$6.memoizedState;lt!==null;){var st=lt.queue;st!==null&&(st.pending=null),lt=lt.next}Sh=!1}if(Rh=0,P$4=O$4=N$6=null,Th=!1,Uh=0,ok.current=null,at===null||at.return===null){T$5=1,qk=it,Y=null;break}e:{var ct=rt,ut=at.return,ft=at,dt=it;if(it=Z$2,ft.flags|=32768,dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var pt=dt,ht=ft,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var mt=ht.alternate;mt?(ht.updateQueue=mt.updateQueue,ht.memoizedState=mt.memoizedState,ht.lanes=mt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var xt=Vi(ut);if(xt!==null){xt.flags&=-257,Wi(xt,ut,ft,ct,it),xt.mode&1&&Ti(ct,pt,it),it=xt,dt=pt;var vt=it.updateQueue;if(vt===null){var $t=new Set;$t.add(dt),it.updateQueue=$t}else vt.add(dt);break e}else{if(!(it&1)){Ti(ct,pt,it),uj();break e}dt=Error(p$a(426))}}else if(I$4&&ft.mode&1){var _t=Vi(ut);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),Wi(_t,ut,ft,ct,it),Jg(Ki(dt,ft));break e}}ct=dt=Ki(dt,ft),T$5!==4&&(T$5=2),tk===null?tk=[ct]:tk.push(ct),ct=ut;do{switch(ct.tag){case 3:ct.flags|=65536,it&=-it,ct.lanes|=it;var yt=Oi(ct,dt,it);fh(ct,yt);break e;case 1:ft=dt;var Et=ct.type,wt=ct.stateNode;if(!(ct.flags&128)&&(typeof Et.getDerivedStateFromError=="function"||wt!==null&&typeof wt.componentDidCatch=="function"&&(Si===null||!Si.has(wt)))){ct.flags|=65536,it&=-it,ct.lanes|=it;var bt=Ri(ct,ft,it);fh(ct,bt);break e}}ct=ct.return}while(ct!==null)}Tk(at)}catch(St){it=St,Y===at&&at!==null&&(Y=at=at.return);continue}break}while(1)}function Kk(){var rt=nk.current;return nk.current=ai,rt===null?ai:rt}function uj(){(T$5===0||T$5===3||T$5===2)&&(T$5=4),R$4===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$4,Z$2)}function Jk(rt,it){var at=K$2;K$2|=2;var lt=Kk();(R$4!==rt||Z$2!==it)&&(vk=null,Lk(rt,it));do try{Uk();break}catch(st){Nk(rt,st)}while(1);if(Qg(),K$2=at,nk.current=lt,Y!==null)throw Error(p$a(261));return R$4=null,Z$2=0,T$5}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc$1();)Vk(Y)}function Vk(rt){var it=Wk(rt.alternate,rt,gj);rt.memoizedProps=rt.pendingProps,it===null?Tk(rt):Y=it,ok.current=null}function Tk(rt){var it=rt;do{var at=it.alternate;if(rt=it.return,it.flags&32768){if(at=Jj(at,it),at!==null){at.flags&=32767,Y=at;return}if(rt!==null)rt.flags|=32768,rt.subtreeFlags=0,rt.deletions=null;else{T$5=6,Y=null;return}}else if(at=Fj(at,it,gj),at!==null){Y=at;return}if(it=it.sibling,it!==null){Y=it;return}Y=it=rt}while(it!==null);T$5===0&&(T$5=5)}function Qk(rt,it,at){var lt=C$5,st=pk.transition;try{pk.transition=null,C$5=1,Xk(rt,it,at,lt)}finally{pk.transition=st,C$5=lt}return null}function Xk(rt,it,at,lt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$a(327));at=rt.finishedWork;var st=rt.finishedLanes;if(at===null)return null;if(rt.finishedWork=null,rt.finishedLanes=0,at===rt.current)throw Error(p$a(177));rt.callbackNode=null,rt.callbackPriority=0;var ct=at.lanes|at.childLanes;if(Bc$1(rt,ct),rt===R$4&&(Y=R$4=null,Z$2=0),!(at.subtreeFlags&2064)&&!(at.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),ct=(at.flags&15990)!==0,at.subtreeFlags&15990||ct){ct=pk.transition,pk.transition=null;var ut=C$5;C$5=1;var ft=K$2;K$2|=4,ok.current=null,Pj(rt,at),ek(at,rt),Oe$1(Df$1),dd$1=!!Cf$1,Df$1=Cf$1=null,rt.current=at,ik(at),dc$1(),K$2=ft,C$5=ut,pk.transition=ct}else rt.current=at;if(wk&&(wk=!1,xk=rt,yk=st),ct=rt.pendingLanes,ct===0&&(Si=null),mc$1(at.stateNode),Ek(rt,B$7()),it!==null)for(lt=rt.onRecoverableError,at=0;at<it.length;at++)st=it[at],lt(st.value,{componentStack:st.stack,digest:st.digest});if(Pi)throw Pi=!1,rt=Qi,Qi=null,rt;return yk&1&&rt.tag!==0&&Ik(),ct=rt.pendingLanes,ct&1?rt===Ak?zk++:(zk=0,Ak=rt):zk=0,jg(),null}function Ik(){if(xk!==null){var rt=Dc$1(yk),it=pk.transition,at=C$5;try{if(pk.transition=null,C$5=16>rt?16:rt,xk===null)var lt=!1;else{if(rt=xk,xk=null,yk=0,K$2&6)throw Error(p$a(331));var st=K$2;for(K$2|=4,V$2=rt.current;V$2!==null;){var ct=V$2,ut=ct.child;if(V$2.flags&16){var ft=ct.deletions;if(ft!==null){for(var dt=0;dt<ft.length;dt++){var pt=ft[dt];for(V$2=pt;V$2!==null;){var ht=V$2;switch(ht.tag){case 0:case 11:case 15:Qj(8,ht,ct)}var gt=ht.child;if(gt!==null)gt.return=ht,V$2=gt;else for(;V$2!==null;){ht=V$2;var mt=ht.sibling,xt=ht.return;if(Tj(ht),ht===pt){V$2=null;break}if(mt!==null){mt.return=xt,V$2=mt;break}V$2=xt}}}var vt=ct.alternate;if(vt!==null){var $t=vt.child;if($t!==null){vt.child=null;do{var _t=$t.sibling;$t.sibling=null,$t=_t}while($t!==null)}}V$2=ct}}if(ct.subtreeFlags&2064&&ut!==null)ut.return=ct,V$2=ut;else e:for(;V$2!==null;){if(ct=V$2,ct.flags&2048)switch(ct.tag){case 0:case 11:case 15:Qj(9,ct,ct.return)}var yt=ct.sibling;if(yt!==null){yt.return=ct.return,V$2=yt;break e}V$2=ct.return}}var Et=rt.current;for(V$2=Et;V$2!==null;){ut=V$2;var wt=ut.child;if(ut.subtreeFlags&2064&&wt!==null)wt.return=ut,V$2=wt;else e:for(ut=Et;V$2!==null;){if(ft=V$2,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Rj(9,ft)}}catch(St){W$3(ft,ft.return,St)}if(ft===ut){V$2=null;break e}var bt=ft.sibling;if(bt!==null){bt.return=ft.return,V$2=bt;break e}V$2=ft.return}}if(K$2=st,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,rt)}catch{}lt=!0}return lt}finally{C$5=at,pk.transition=it}}return!1}function Yk(rt,it,at){it=Ki(at,it),it=Oi(rt,it,1),rt=dh(rt,it,1),it=L$8(),rt!==null&&(Ac$1(rt,1,it),Ek(rt,it))}function W$3(rt,it,at){if(rt.tag===3)Yk(rt,rt,at);else for(;it!==null;){if(it.tag===3){Yk(it,rt,at);break}else if(it.tag===1){var lt=it.stateNode;if(typeof it.type.getDerivedStateFromError=="function"||typeof lt.componentDidCatch=="function"&&(Si===null||!Si.has(lt))){rt=Ki(at,rt),rt=Ri(it,rt,1),it=dh(it,rt,1),rt=L$8(),it!==null&&(Ac$1(it,1,rt),Ek(it,rt));break}}it=it.return}}function Ui(rt,it,at){var lt=rt.pingCache;lt!==null&&lt.delete(it),it=L$8(),rt.pingedLanes|=rt.suspendedLanes&at,R$4===rt&&(Z$2&at)===at&&(T$5===4||T$5===3&&(Z$2&130023424)===Z$2&&500>B$7()-gk?Lk(rt,0):sk|=at),Ek(rt,it)}function Zk(rt,it){it===0&&(rt.mode&1?(it=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):it=1);var at=L$8();rt=Zg(rt,it),rt!==null&&(Ac$1(rt,it,at),Ek(rt,at))}function vj(rt){var it=rt.memoizedState,at=0;it!==null&&(at=it.retryLane),Zk(rt,at)}function ck(rt,it){var at=0;switch(rt.tag){case 13:var lt=rt.stateNode,st=rt.memoizedState;st!==null&&(at=st.retryLane);break;case 19:lt=rt.stateNode;break;default:throw Error(p$a(314))}lt!==null&&lt.delete(it),Zk(rt,at)}var Wk;Wk=function(rt,it,at){if(rt!==null)if(rt.memoizedProps!==it.pendingProps||Wf.current)Ug=!0;else{if(!(rt.lanes&at)&&!(it.flags&128))return Ug=!1,zj(rt,it,at);Ug=!!(rt.flags&131072)}else Ug=!1,I$4&&it.flags&1048576&&ug(it,ng,it.index);switch(it.lanes=0,it.tag){case 2:var lt=it.type;jj(rt,it),rt=it.pendingProps;var st=Yf(it,H$5.current);Tg(it,at),st=Xh(null,it,lt,rt,st,at);var ct=bi();return it.flags|=1,typeof st=="object"&&st!==null&&typeof st.render=="function"&&st.$$typeof===void 0?(it.tag=1,it.memoizedState=null,it.updateQueue=null,Zf(lt)?(ct=!0,cg(it)):ct=!1,it.memoizedState=st.state!==null&&st.state!==void 0?st.state:null,ah(it),st.updater=nh,it.stateNode=st,st._reactInternals=it,rh(it,lt,rt,at),it=kj(null,it,lt,!0,ct,at)):(it.tag=0,I$4&&ct&&vg(it),Yi(null,it,st,at),it=it.child),it;case 16:lt=it.elementType;e:{switch(jj(rt,it),rt=it.pendingProps,st=lt._init,lt=st(lt._payload),it.type=lt,st=it.tag=$k(lt),rt=Lg(lt,rt),st){case 0:it=dj(null,it,lt,rt,at);break e;case 1:it=ij(null,it,lt,rt,at);break e;case 11:it=Zi(null,it,lt,rt,at);break e;case 14:it=aj(null,it,lt,Lg(lt.type,rt),at);break e}throw Error(p$a(306,lt,""))}return it;case 0:return lt=it.type,st=it.pendingProps,st=it.elementType===lt?st:Lg(lt,st),dj(rt,it,lt,st,at);case 1:return lt=it.type,st=it.pendingProps,st=it.elementType===lt?st:Lg(lt,st),ij(rt,it,lt,st,at);case 3:e:{if(lj(it),rt===null)throw Error(p$a(387));lt=it.pendingProps,ct=it.memoizedState,st=ct.element,bh(rt,it),gh(it,lt,null,at);var ut=it.memoizedState;if(lt=ut.element,ct.isDehydrated)if(ct={element:lt,isDehydrated:!1,cache:ut.cache,pendingSuspenseBoundaries:ut.pendingSuspenseBoundaries,transitions:ut.transitions},it.updateQueue.baseState=ct,it.memoizedState=ct,it.flags&256){st=Ki(Error(p$a(423)),it),it=mj(rt,it,lt,at,st);break e}else if(lt!==st){st=Ki(Error(p$a(424)),it),it=mj(rt,it,lt,at,st);break e}else for(yg=Lf(it.stateNode.containerInfo.firstChild),xg=it,I$4=!0,zg=null,at=Ch(it,null,lt,at),it.child=at;at;)at.flags=at.flags&-3|4096,at=at.sibling;else{if(Ig(),lt===st){it=$i(rt,it,at);break e}Yi(rt,it,lt,at)}it=it.child}return it;case 5:return Kh(it),rt===null&&Eg(it),lt=it.type,st=it.pendingProps,ct=rt!==null?rt.memoizedProps:null,ut=st.children,Ef$1(lt,st)?ut=null:ct!==null&&Ef$1(lt,ct)&&(it.flags|=32),hj(rt,it),Yi(rt,it,ut,at),it.child;case 6:return rt===null&&Eg(it),null;case 13:return pj(rt,it,at);case 4:return Ih(it,it.stateNode.containerInfo),lt=it.pendingProps,rt===null?it.child=Bh(it,null,lt,at):Yi(rt,it,lt,at),it.child;case 11:return lt=it.type,st=it.pendingProps,st=it.elementType===lt?st:Lg(lt,st),Zi(rt,it,lt,st,at);case 7:return Yi(rt,it,it.pendingProps,at),it.child;case 8:return Yi(rt,it,it.pendingProps.children,at),it.child;case 12:return Yi(rt,it,it.pendingProps.children,at),it.child;case 10:e:{if(lt=it.type._context,st=it.pendingProps,ct=it.memoizedProps,ut=st.value,G$4(Mg,lt._currentValue),lt._currentValue=ut,ct!==null)if(He$2(ct.value,ut)){if(ct.children===st.children&&!Wf.current){it=$i(rt,it,at);break e}}else for(ct=it.child,ct!==null&&(ct.return=it);ct!==null;){var ft=ct.dependencies;if(ft!==null){ut=ct.child;for(var dt=ft.firstContext;dt!==null;){if(dt.context===lt){if(ct.tag===1){dt=ch(-1,at&-at),dt.tag=2;var pt=ct.updateQueue;if(pt!==null){pt=pt.shared;var ht=pt.pending;ht===null?dt.next=dt:(dt.next=ht.next,ht.next=dt),pt.pending=dt}}ct.lanes|=at,dt=ct.alternate,dt!==null&&(dt.lanes|=at),Sg(ct.return,at,it),ft.lanes|=at;break}dt=dt.next}}else if(ct.tag===10)ut=ct.type===it.type?null:ct.child;else if(ct.tag===18){if(ut=ct.return,ut===null)throw Error(p$a(341));ut.lanes|=at,ft=ut.alternate,ft!==null&&(ft.lanes|=at),Sg(ut,at,it),ut=ct.sibling}else ut=ct.child;if(ut!==null)ut.return=ct;else for(ut=ct;ut!==null;){if(ut===it){ut=null;break}if(ct=ut.sibling,ct!==null){ct.return=ut.return,ut=ct;break}ut=ut.return}ct=ut}Yi(rt,it,st.children,at),it=it.child}return it;case 9:return st=it.type,lt=it.pendingProps.children,Tg(it,at),st=Vg(st),lt=lt(st),it.flags|=1,Yi(rt,it,lt,at),it.child;case 14:return lt=it.type,st=Lg(lt,it.pendingProps),st=Lg(lt.type,st),aj(rt,it,lt,st,at);case 15:return cj(rt,it,it.type,it.pendingProps,at);case 17:return lt=it.type,st=it.pendingProps,st=it.elementType===lt?st:Lg(lt,st),jj(rt,it),it.tag=1,Zf(lt)?(rt=!0,cg(it)):rt=!1,Tg(it,at),ph(it,lt,st),rh(it,lt,st,at),kj(null,it,lt,!0,rt,at);case 19:return yj(rt,it,at);case 22:return ej(rt,it,at)}throw Error(p$a(156,it.tag))};function Gk(rt,it){return ac$1(rt,it)}function al(rt,it,at,lt){this.tag=rt,this.key=at,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=it,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(rt,it,at,lt){return new al(rt,it,at,lt)}function bj(rt){return rt=rt.prototype,!(!rt||!rt.isReactComponent)}function $k(rt){if(typeof rt=="function")return bj(rt)?1:0;if(rt!=null){if(rt=rt.$$typeof,rt===Da$1)return 11;if(rt===Ga$1)return 14}return 2}function wh(rt,it){var at=rt.alternate;return at===null?(at=Bg(rt.tag,it,rt.key,rt.mode),at.elementType=rt.elementType,at.type=rt.type,at.stateNode=rt.stateNode,at.alternate=rt,rt.alternate=at):(at.pendingProps=it,at.type=rt.type,at.flags=0,at.subtreeFlags=0,at.deletions=null),at.flags=rt.flags&14680064,at.childLanes=rt.childLanes,at.lanes=rt.lanes,at.child=rt.child,at.memoizedProps=rt.memoizedProps,at.memoizedState=rt.memoizedState,at.updateQueue=rt.updateQueue,it=rt.dependencies,at.dependencies=it===null?null:{lanes:it.lanes,firstContext:it.firstContext},at.sibling=rt.sibling,at.index=rt.index,at.ref=rt.ref,at}function yh(rt,it,at,lt,st,ct){var ut=2;if(lt=rt,typeof rt=="function")bj(rt)&&(ut=1);else if(typeof rt=="string")ut=5;else e:switch(rt){case ya$1:return Ah(at.children,st,ct,it);case za$1:ut=8,st|=8;break;case Aa$1:return rt=Bg(12,at,it,st|2),rt.elementType=Aa$1,rt.lanes=ct,rt;case Ea:return rt=Bg(13,at,it,st),rt.elementType=Ea,rt.lanes=ct,rt;case Fa:return rt=Bg(19,at,it,st),rt.elementType=Fa,rt.lanes=ct,rt;case Ia$1:return qj(at,st,ct,it);default:if(typeof rt=="object"&&rt!==null)switch(rt.$$typeof){case Ba$1:ut=10;break e;case Ca$1:ut=9;break e;case Da$1:ut=11;break e;case Ga$1:ut=14;break e;case Ha$1:ut=16,lt=null;break e}throw Error(p$a(130,rt==null?rt:typeof rt,""))}return it=Bg(ut,at,it,st),it.elementType=rt,it.type=lt,it.lanes=ct,it}function Ah(rt,it,at,lt){return rt=Bg(7,rt,lt,it),rt.lanes=at,rt}function qj(rt,it,at,lt){return rt=Bg(22,rt,lt,it),rt.elementType=Ia$1,rt.lanes=at,rt.stateNode={isHidden:!1},rt}function xh(rt,it,at){return rt=Bg(6,rt,null,it),rt.lanes=at,rt}function zh(rt,it,at){return it=Bg(4,rt.children!==null?rt.children:[],rt.key,it),it.lanes=at,it.stateNode={containerInfo:rt.containerInfo,pendingChildren:null,implementation:rt.implementation},it}function bl(rt,it,at,lt,st){this.tag=it,this.containerInfo=rt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=lt,this.onRecoverableError=st,this.mutableSourceEagerHydrationData=null}function cl(rt,it,at,lt,st,ct,ut,ft,dt){return rt=new bl(rt,it,at,ft,dt),it===1?(it=1,ct===!0&&(it|=8)):it=0,ct=Bg(3,null,null,it),rt.current=ct,ct.stateNode=rt,ct.memoizedState={element:lt,isDehydrated:at,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ct),rt}function dl(rt,it,at){var lt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:lt==null?null:""+lt,children:rt,containerInfo:it,implementation:at}}function el(rt){if(!rt)return Vf;rt=rt._reactInternals;e:{if(Vb$1(rt)!==rt||rt.tag!==1)throw Error(p$a(170));var it=rt;do{switch(it.tag){case 3:it=it.stateNode.context;break e;case 1:if(Zf(it.type)){it=it.stateNode.__reactInternalMemoizedMergedChildContext;break e}}it=it.return}while(it!==null);throw Error(p$a(171))}if(rt.tag===1){var at=rt.type;if(Zf(at))return bg(rt,at,it)}return it}function fl(rt,it,at,lt,st,ct,ut,ft,dt){return rt=cl(at,lt,!0,rt,st,ct,ut,ft,dt),rt.context=el(null),at=rt.current,lt=L$8(),st=lh(at),ct=ch(lt,st),ct.callback=it??null,dh(at,ct,st),rt.current.lanes=st,Ac$1(rt,st,lt),Ek(rt,lt),rt}function gl(rt,it,at,lt){var st=it.current,ct=L$8(),ut=lh(st);return at=el(at),it.context===null?it.context=at:it.pendingContext=at,it=ch(ct,ut),it.payload={element:rt},lt=lt===void 0?null:lt,lt!==null&&(it.callback=lt),rt=dh(st,it,ut),rt!==null&&(mh(rt,st,ut,ct),eh(rt,st,ut)),ut}function hl(rt){if(rt=rt.current,!rt.child)return null;switch(rt.child.tag){case 5:return rt.child.stateNode;default:return rt.child.stateNode}}function il(rt,it){if(rt=rt.memoizedState,rt!==null&&rt.dehydrated!==null){var at=rt.retryLane;rt.retryLane=at!==0&&at<it?at:it}}function jl(rt,it){il(rt,it),(rt=rt.alternate)&&il(rt,it)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(rt){console.error(rt)};function ml(rt){this._internalRoot=rt}nl.prototype.render=ml.prototype.render=function(rt){var it=this._internalRoot;if(it===null)throw Error(p$a(409));gl(rt,it,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var rt=this._internalRoot;if(rt!==null){this._internalRoot=null;var it=rt.containerInfo;Sk(function(){gl(null,rt,null,null)}),it[uf]=null}};function nl(rt){this._internalRoot=rt}nl.prototype.unstable_scheduleHydration=function(rt){if(rt){var it=Hc$1();rt={blockedOn:null,target:rt,priority:it};for(var at=0;at<Qc$1.length&&it!==0&&it<Qc$1[at].priority;at++);Qc$1.splice(at,0,rt),at===0&&Vc$1(rt)}};function ol(rt){return!(!rt||rt.nodeType!==1&&rt.nodeType!==9&&rt.nodeType!==11)}function pl(rt){return!(!rt||rt.nodeType!==1&&rt.nodeType!==9&&rt.nodeType!==11&&(rt.nodeType!==8||rt.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(rt,it,at,lt,st){if(st){if(typeof lt=="function"){var ct=lt;lt=function(){var pt=hl(ut);ct.call(pt)}}var ut=fl(it,lt,rt,0,null,!1,!1,"",ql);return rt._reactRootContainer=ut,rt[uf]=ut.current,sf(rt.nodeType===8?rt.parentNode:rt),Sk(),ut}for(;st=rt.lastChild;)rt.removeChild(st);if(typeof lt=="function"){var ft=lt;lt=function(){var pt=hl(dt);ft.call(pt)}}var dt=cl(rt,0,!1,null,null,!1,!1,"",ql);return rt._reactRootContainer=dt,rt[uf]=dt.current,sf(rt.nodeType===8?rt.parentNode:rt),Sk(function(){gl(it,dt,at,lt)}),dt}function sl(rt,it,at,lt,st){var ct=at._reactRootContainer;if(ct){var ut=ct;if(typeof st=="function"){var ft=st;st=function(){var dt=hl(ut);ft.call(dt)}}gl(it,ut,rt,st)}else ut=rl(at,it,rt,st,lt);return hl(ut)}Ec$1=function(rt){switch(rt.tag){case 3:var it=rt.stateNode;if(it.current.memoizedState.isDehydrated){var at=tc$1(it.pendingLanes);at!==0&&(Cc$1(it,at|1),Ek(it,B$7()),!(K$2&6)&&(Hj=B$7()+500,jg()))}break;case 13:Sk(function(){var lt=Zg(rt,1);if(lt!==null){var st=L$8();mh(lt,rt,1,st)}}),jl(rt,1)}};Fc$1=function(rt){if(rt.tag===13){var it=Zg(rt,134217728);if(it!==null){var at=L$8();mh(it,rt,134217728,at)}jl(rt,134217728)}};Gc$1=function(rt){if(rt.tag===13){var it=lh(rt),at=Zg(rt,it);if(at!==null){var lt=L$8();mh(at,rt,it,lt)}jl(rt,it)}};Hc$1=function(){return C$5};Ic=function(rt,it){var at=C$5;try{return C$5=rt,it()}finally{C$5=at}};yb$1=function(rt,it,at){switch(it){case"input":if(bb$1(rt,at),it=at.name,at.type==="radio"&&it!=null){for(at=rt;at.parentNode;)at=at.parentNode;for(at=at.querySelectorAll("input[name="+JSON.stringify(""+it)+'][type="radio"]'),it=0;it<at.length;it++){var lt=at[it];if(lt!==rt&&lt.form===rt.form){var st=Db$1(lt);if(!st)throw Error(p$a(90));Wa$1(lt),bb$1(lt,st)}}}break;case"textarea":ib(rt,at);break;case"select":it=at.value,it!=null&&fb$1(rt,!!at.multiple,it,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db$1,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(rt){return rt=Zb$1(rt),rt===null?null:rt.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(rt,it){var at=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(it))throw Error(p$a(200));return dl(rt,it,null,at)};reactDom_production_min.createRoot=function(rt,it){if(!ol(rt))throw Error(p$a(299));var at=!1,lt="",st=ll;return it!=null&&(it.unstable_strictMode===!0&&(at=!0),it.identifierPrefix!==void 0&&(lt=it.identifierPrefix),it.onRecoverableError!==void 0&&(st=it.onRecoverableError)),it=cl(rt,1,!1,null,null,at,!1,lt,st),rt[uf]=it.current,sf(rt.nodeType===8?rt.parentNode:rt),new ml(it)};reactDom_production_min.findDOMNode=function(rt){if(rt==null)return null;if(rt.nodeType===1)return rt;var it=rt._reactInternals;if(it===void 0)throw typeof rt.render=="function"?Error(p$a(188)):(rt=Object.keys(rt).join(","),Error(p$a(268,rt)));return rt=Zb$1(it),rt=rt===null?null:rt.stateNode,rt};reactDom_production_min.flushSync=function(rt){return Sk(rt)};reactDom_production_min.hydrate=function(rt,it,at){if(!pl(it))throw Error(p$a(200));return sl(null,rt,it,!0,at)};reactDom_production_min.hydrateRoot=function(rt,it,at){if(!ol(rt))throw Error(p$a(405));var lt=at!=null&&at.hydratedSources||null,st=!1,ct="",ut=ll;if(at!=null&&(at.unstable_strictMode===!0&&(st=!0),at.identifierPrefix!==void 0&&(ct=at.identifierPrefix),at.onRecoverableError!==void 0&&(ut=at.onRecoverableError)),it=fl(it,null,rt,1,at??null,st,!1,ct,ut),rt[uf]=it.current,sf(rt),lt)for(rt=0;rt<lt.length;rt++)at=lt[rt],st=at._getVersion,st=st(at._source),it.mutableSourceEagerHydrationData==null?it.mutableSourceEagerHydrationData=[at,st]:it.mutableSourceEagerHydrationData.push(at,st);return new nl(it)};reactDom_production_min.render=function(rt,it,at){if(!pl(it))throw Error(p$a(200));return sl(null,rt,it,!1,at)};reactDom_production_min.unmountComponentAtNode=function(rt){if(!pl(rt))throw Error(p$a(40));return rt._reactRootContainer?(Sk(function(){sl(null,null,rt,!1,function(){rt._reactRootContainer=null,rt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(rt,it,at,lt){if(!pl(at))throw Error(p$a(200));if(rt==null||rt._reactInternals===void 0)throw Error(p$a(38));return sl(rt,it,at,!1,lt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(rt){function it(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(it)}catch(at){console.error(at)}}it(),rt.exports=reactDom_production_min})(reactDom);var m$7=reactDomExports;client.createRoot=m$7.createRoot,client.hydrateRoot=m$7.hydrateRoot;const App$1="";function mean$2(rt){let it=new Array(rt.channels).fill(0);for(let lt=0;lt<rt.height;lt++)for(let st=0;st<rt.width;st++)for(let ct=0;ct<rt.channels;ct++)it[ct]+=rt.getValue(st,lt,ct);return it.map(lt=>lt/rt.size)}function validateChannels(rt,it){for(const at of rt)validateChannel(at,it)}function validateChannel(rt,it){if(!Number.isInteger(rt)||rt>it.channels||rt<0)throw new RangeError(`invalid channel: ${rt}. It must be a positive integer smaller than ${it.channels+1}`)}function validateValues(rt,it){for(const at of rt)validateValue(at,it)}function validateValue(rt,it){if(rt>it.maxValue||rt<0)throw new RangeError(`invalid value: ${rt}. It must be a positive value smaller than ${it.maxValue+1}`)}function validateForComparison(rt,it,at){if(it.width!==at.width||it.height!==at.height)throw new Error(`${rt}: both images must have the same size`);if(it.alpha!==at.alpha||it.depth!==at.depth)throw new Error(`${rt}: both images must have the same alpha and depth`);if(it.channels!==at.channels)throw new Error(`${rt}: both images must have the same number of channels`)}function validateColor(rt,it){validateChannel(rt.length,it),validateValues(rt,it)}function histogram(rt,it={}){let{channel:at}=it;if(typeof at!="number"){if(rt.channels!==1)throw new Error("channel option is mandatory for multi-channel images");at=0}validateChannel(at,rt);const lt=new Uint32Array(rt.maxValue+1);for(let st=0;st<rt.size;st++)lt[rt.getValueByIndex(st,at)]++;return lt}var medianQuickselect_minExports={},medianQuickselect_min={get exports(){return medianQuickselect_minExports},set exports(rt){medianQuickselect_minExports=rt}};(function(rt){(function(){function it(st){for(var ct=0,ut=st.length-1,ft=void 0,dt=void 0,pt=void 0,ht=lt(ct,ut);;){if(ut<=ct)return st[ht];if(ut==ct+1)return st[ct]>st[ut]&&at(st,ct,ut),st[ht];for(ft=lt(ct,ut),st[ft]>st[ut]&&at(st,ft,ut),st[ct]>st[ut]&&at(st,ct,ut),st[ft]>st[ct]&&at(st,ft,ct),at(st,ft,ct+1),dt=ct+1,pt=ut;;){do dt++;while(st[ct]>st[dt]);do pt--;while(st[pt]>st[ct]);if(pt<dt)break;at(st,dt,pt)}at(st,ct,pt),pt<=ht&&(ct=dt),pt>=ht&&(ut=pt-1)}}var at=function(ct,ut,ft){var dt;return dt=[ct[ft],ct[ut]],ct[ut]=dt[0],ct[ft]=dt[1],dt},lt=function(ct,ut){return~~((ct+ut)/2)};rt.exports?rt.exports=it:window.median=it})()})(medianQuickselect_min);const quickMedian=medianQuickselect_minExports;function median$1(rt){let it=new Array(rt.channels).fill(0);for(let at=0;at<rt.channels;at++){const lt=rt.getChannel(at);it[at]=quickMedian(lt)}return it}var ssim_webExports={},ssim_web={get exports(){return ssim_webExports},set exports(rt){ssim_webExports=rt}};(function(rt,it){(function(at,lt){rt.exports=lt()})(self,function(){return(()=>{var at={132:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.bezkrovnySsim=void 0;var ft=ut(490),dt=ut(971);function pt(ht,gt,mt){var xt=ht.data,vt=gt.data,$t=mt.bitDepth,_t=mt.k1,yt=mt.k2,Et=Math.pow(2,$t)-1,wt=Math.pow(_t*Et,2),bt=Math.pow(yt*Et,2),St=ft.average(xt),Tt=ft.average(vt),Rt=ft.variance(xt,St),kt=ft.variance(vt,Tt);return(2*St*Tt+wt)*(2*ft.covariance(xt,vt,St,Tt)+bt)/((Math.pow(St,2)+Math.pow(Tt,2)+wt)*(Rt+kt+bt))}ct.bezkrovnySsim=function(ht,gt,mt){for(var xt=mt.windowSize,vt=Math.ceil(ht.width/xt),$t=Math.ceil(ht.height/xt),_t=new Array(vt*$t),yt=0,Et=0;Et<ht.height;Et+=xt)for(var wt=0;wt<ht.width;wt+=xt){var bt=Math.min(xt,ht.width-wt),St=Math.min(xt,ht.height-Et),Tt=dt.sub(ht,wt,St,Et,bt),Rt=dt.sub(gt,wt,St,Et,bt);_t[yt++]=pt(Tt,Rt,mt)}return{data:_t,width:vt,height:$t}}},63:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.defaults=void 0,ct.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.downsample=void 0;var ft=ut(490),dt=ut(971);function pt(ht,gt,mt){var xt=dt.imfilter(ht,gt,"symmetric","same");return dt.skip2d(xt,[0,mt,xt.height],[0,mt,xt.width])}ct.downsample=function(ht,gt){return gt.downsample==="original"?function(mt,xt,vt){vt===void 0&&(vt=256);var $t=Math.min(mt.width,xt.height)/vt,_t=Math.round($t);if(_t>1){var yt=dt.ones(_t);mt=pt(mt,yt=ft.divide2d(yt,ft.sum2d(yt)),_t),xt=pt(xt,yt,_t)}return[mt,xt]}(ht[0],ht[1],gt.maxSize):ht}},607:function(st,ct,ut){var ft=this&&this.__assign||function(){return(ft=Object.assign||function(wt){for(var bt,St=1,Tt=arguments.length;St<Tt;St++)for(var Rt in bt=arguments[St])Object.prototype.hasOwnProperty.call(bt,Rt)&&(wt[Rt]=bt[Rt]);return wt}).apply(this,arguments)};Object.defineProperty(ct,"__esModule",{value:!0}),ct.ssim=ct.getOptions=void 0;var dt=ut(971),pt=ut(490),ht=ut(773),gt=ut(595),mt=ut(132),xt=ut(441),vt=ut(63),$t=ut(535),_t={fast:ht.ssim,original:gt.originalSsim,bezkrovny:mt.bezkrovnySsim,weber:$t.weberSsim};function yt(wt){var bt=ft(ft({},vt.defaults),wt);return function(St){if(Object.keys(St).forEach(function(Tt){if(!(Tt in vt.defaults))throw new Error('"'+Tt+'" is not a valid option')}),"k1"in St&&(typeof St.k1!="number"||St.k1<0))throw new Error("Invalid k1 value. Default is "+vt.defaults.k1);if("k2"in St&&(typeof St.k2!="number"||St.k2<0))throw new Error("Invalid k2 value. Default is "+vt.defaults.k2);if(!(St.ssim in _t))throw new Error("Invalid ssim option (use: "+Object.keys(_t).join(", ")+")")}(bt),bt}function Et(wt,bt,St){var Tt,Rt,kt,At,Ct=new Date().getTime(),Mt=function(Ot){var Nt=Ot[0],It=Ot[1],Dt=Ot[2];return _t[Dt.ssim](Nt,It,Dt)}(function(Ot){var Nt=Ot[0],It=Ot[1],Dt=Ot[2],zt=xt.downsample([Nt,It],Dt);return[zt[0],zt[1],Dt]}((Tt=function(Ot){var Nt=Ot[0],It=Ot[1],Dt=Ot[2];if(Nt.width!==It.width||Nt.height!==It.height)throw new Error("Image dimensions do not match");return[Nt,It,Dt]}([wt,bt,yt(St)]),Rt=Tt[0],kt=Tt[1],(At=Tt[2]).rgb2grayVersion==="original"?[dt.rgb2gray(Rt),dt.rgb2gray(kt),At]:[dt.rgb2grayInteger(Rt),dt.rgb2grayInteger(kt),At])));return{mssim:Mt.mssim!==void 0?Mt.mssim:pt.mean2d(Mt),ssim_map:Mt,performance:new Date().getTime()-Ct}}ct.getOptions=yt,ct.ssim=Et,ct.default=Et},490:(st,ct)=>{function ut(gt){return ft(gt)/gt.length}function ft(gt){for(var mt=0,xt=0;xt<gt.length;xt++)mt+=gt[xt];return mt}function dt(gt){for(var mt=gt.data,xt=0,vt=0;vt<mt.length;vt++)xt+=mt[vt];return xt}function pt(gt,mt){for(var xt=gt.data,vt=gt.width,$t=gt.height,_t=new Array(xt.length),yt=0;yt<xt.length;yt++)_t[yt]=xt[yt]+mt;return{data:_t,width:vt,height:$t}}function ht(gt,mt){return typeof mt=="number"?function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=new Array($t.length),wt=0;wt<$t.length;wt++)Et[wt]=$t[wt]*vt;return{data:Et,width:_t,height:yt}}(gt,mt):function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=vt.data,wt=new Array($t.length),bt=0;bt<$t.length;bt++)wt[bt]=$t[bt]*Et[bt];return{data:wt,width:_t,height:yt}}(gt,mt)}Object.defineProperty(ct,"__esModule",{value:!0}),ct.covariance=ct.variance=ct.mean2d=ct.square2d=ct.multiply2d=ct.divide2d=ct.subtract2d=ct.add2d=ct.sum2d=ct.floor=ct.sum=ct.average=void 0,ct.average=ut,ct.sum=ft,ct.floor=function(gt){for(var mt=new Array(gt.length),xt=0;xt<gt.length;xt++)mt[xt]=Math.floor(gt[xt]);return mt},ct.sum2d=dt,ct.add2d=function(gt,mt){return typeof mt=="number"?pt(gt,mt):function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=vt.data,wt=new Array($t.length),bt=0;bt<yt;bt++)for(var St=bt*_t,Tt=0;Tt<_t;Tt++)wt[St+Tt]=$t[St+Tt]+Et[St+Tt];return{data:wt,width:_t,height:yt}}(gt,mt)},ct.subtract2d=function(gt,mt){return typeof mt=="number"?pt(gt,-mt):function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=vt.data,wt=new Array($t.length),bt=0;bt<yt;bt++)for(var St=bt*_t,Tt=0;Tt<_t;Tt++)wt[St+Tt]=$t[St+Tt]-Et[St+Tt];return{data:wt,width:_t,height:yt}}(gt,mt)},ct.divide2d=function(gt,mt){return typeof mt=="number"?function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=new Array($t.length),wt=0;wt<$t.length;wt++)Et[wt]=$t[wt]/vt;return{data:Et,width:_t,height:yt}}(gt,mt):function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=vt.data,wt=new Array($t.length),bt=0;bt<$t.length;bt++)wt[bt]=$t[bt]/Et[bt];return{data:wt,width:_t,height:yt}}(gt,mt)},ct.multiply2d=ht,ct.square2d=function(gt){return ht(gt,gt)},ct.mean2d=function(gt){return dt(gt)/gt.data.length},ct.variance=function(gt,mt){mt===void 0&&(mt=ut(gt));for(var xt=0,vt=gt.length;vt--;)xt+=Math.pow(gt[vt]-mt,2);return xt/gt.length},ct.covariance=function(gt,mt,xt,vt){xt===void 0&&(xt=ut(gt)),vt===void 0&&(vt=ut(mt));for(var $t=0,_t=gt.length;_t--;)$t+=(gt[_t]-xt)*(mt[_t]-vt);return $t/gt.length}},687:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.conv2=void 0;var ft=ut(490),dt=ut(298),pt=ut(118),ht=ut(799);function gt(_t,yt,Et){var wt=_t.data,bt=_t.width,St=_t.height;Et===void 0&&(Et="full");for(var Tt=bt+yt.width-1,Rt=St+yt.height-1,kt=ht.zeros(Rt,Tt).data,At=0;At<yt.height;At++)for(var Ct=0;Ct<yt.width;Ct++){var Mt=yt.data[At*yt.width+Ct];if(Mt)for(var Ot=0;Ot<St;Ot++)for(var Nt=0;Nt<bt;Nt++)kt[(Ot+At)*Tt+Nt+Ct]+=wt[Ot*bt+Nt]*Mt}return $t({data:kt,width:Tt,height:Rt},Et,St,yt.height,bt,yt.width)}function mt(_t,yt,Et){var wt=yt.data,bt=yt.width,St=yt.height;Et===void 0&&(Et="full");var Tt=vt(_t,dt.ones(St,1),dt.ones(1,bt),Et);return ft.multiply2d(Tt,wt[0])}function xt(_t){for(var yt=_t.data,Et=yt[0],wt=1;wt<yt.length;wt++)if(yt[wt]!==Et)return!1;return!0}function vt(_t,yt,Et,wt){wt===void 0&&(wt="full");var bt=Math.max(yt.height,yt.width),St=Math.max(Et.height,Et.width),Tt=gt(_t,yt,"full");return $t(gt(Tt,Et,"full"),wt,_t.height,bt,_t.width,St)}function $t(_t,yt,Et,wt,bt,St){if(yt==="full")return _t;if(yt==="same"){var Tt=Math.ceil((_t.height-Et)/2),Rt=Math.ceil((_t.width-bt)/2);return pt.sub(_t,Tt,Et,Rt,bt)}return pt.sub(_t,wt-1,Et-wt+1,St-1,bt-St+1)}ct.conv2=function(){for(var _t=[],yt=0;yt<arguments.length;yt++)_t[yt]=arguments[yt];return _t[2]&&_t[2].data?vt.apply(void 0,_t):xt(_t[1])?mt.apply(void 0,_t):gt.apply(void 0,_t)}},346:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.filter2=void 0;var ft=ut(687);ct.filter2=function(dt,pt,ht){return ht===void 0&&(ht="same"),ft.conv2(pt,function(gt){for(var mt=gt.data,xt=gt.width,vt=gt.height,$t=new Array(mt.length),_t=0;_t<vt;_t++)for(var yt=0;yt<xt;yt++)$t[_t*xt+yt]=mt[(vt-1-_t)*xt+xt-1-yt];return{data:$t,width:xt,height:vt}}(dt),ht)}},470:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.fspecial=void 0;var ft=ut(490);ct.fspecial=function(dt,pt,ht){pt===void 0&&(pt=3),ht===void 0&&(ht=1.5);var gt=function(xt,vt){for(var $t=xt.data,_t=xt.width,yt=xt.height,Et=new Array($t.length),wt=0;wt<$t.length;wt++)Et[wt]=Math.exp(-$t[wt]/(2*Math.pow(vt,2)));return{data:Et,width:_t,height:yt}}(function(xt){for(var vt=2*xt+1,$t=new Array(Math.pow(vt,2)),_t=0;_t<vt;_t++)for(var yt=0;yt<vt;yt++)$t[_t*vt+yt]=Math.pow(_t-xt,2)+Math.pow(yt-xt,2);return{data:$t,width:vt,height:vt}}(pt=(pt-1)/2),ht),mt=ft.sum2d(gt);return ft.divide2d(gt,mt)}},521:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.imfilter=void 0;var ft=ut(20),dt=ut(389),pt=ut(490),ht=ut(346);ct.imfilter=function(gt,mt,xt,vt){return xt===void 0&&(xt="symmetric"),vt===void 0&&(vt="same"),gt=function($t,_t,yt,Et){if($t=dt.padarray($t,pt.floor([_t/2,yt/2]),Et),ft.mod(_t,2)===0&&($t.data=$t.data.slice(0,-$t.width),$t.height--),ft.mod(yt,2)===0){for(var wt=[],bt=0;bt<$t.data.length;bt++)(bt+1)%$t.width!=0&&wt.push($t.data[bt]);$t.data=wt,$t.width--}return $t}(gt,mt.width,mt.height,xt),vt=function($t){return $t==="same"&&($t="valid"),$t}(vt),ht.filter2(mt,gt,vt)}},971:function(st,ct,ut){var ft=this&&this.__createBinding||(Object.create?function(pt,ht,gt,mt){mt===void 0&&(mt=gt),Object.defineProperty(pt,mt,{enumerable:!0,get:function(){return ht[gt]}})}:function(pt,ht,gt,mt){mt===void 0&&(mt=gt),pt[mt]=ht[gt]}),dt=this&&this.__exportStar||function(pt,ht){for(var gt in pt)gt==="default"||Object.prototype.hasOwnProperty.call(ht,gt)||ft(ht,pt,gt)};Object.defineProperty(ct,"__esModule",{value:!0}),dt(ut(687),ct),dt(ut(346),ct),dt(ut(470),ct),dt(ut(521),ct),dt(ut(150),ct),dt(ut(298),ct),dt(ut(389),ct),dt(ut(582),ct),dt(ut(439),ct),dt(ut(118),ct),dt(ut(240),ct),dt(ut(799),ct)},928:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.numbers=void 0,ct.numbers=function(ut,ft,dt){for(var pt=ft*ut,ht=new Array(pt),gt=0;gt<pt;gt++)ht[gt]=dt;return{data:ht,width:ft,height:ut}}},20:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.mod=void 0,ct.mod=function(ut,ft){return ut-ft*Math.floor(ut/ft)}},150:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.normpdf=void 0,ct.normpdf=function(ut,ft,dt){var pt=ut.data,ht=ut.width,gt=ut.height;ft===void 0&&(ft=0),dt===void 0&&(dt=1);for(var mt=new Array(pt.length),xt=0;xt<pt.length;xt++){var vt=(pt[xt]-ft)/dt;mt[xt]=Math.exp(-Math.pow(vt,2)/2)/(2.5066282746310007*dt)}return{data:mt,width:ht,height:gt}}},298:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ones=void 0;var ft=ut(928);ct.ones=function(dt,pt){return pt===void 0&&(pt=dt),ft.numbers(dt,pt,1)}},389:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.padarray=void 0;var ft=ut(20);ct.padarray=function(dt,pt,ht,gt){var mt=pt[0],xt=pt[1];return dt.height>=mt&&dt.width>=xt?function(vt,$t){for(var _t=$t[0],yt=$t[1],Et=vt.width+2*yt,wt=vt.height+2*_t,bt=new Array(Et*wt),St=-_t;St<0;St++){for(var Tt=-yt;Tt<0;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(Math.abs(St)-1)*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(Math.abs(St)-1)*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+yt;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(Math.abs(St)-1)*vt.width+2*vt.width-Tt-1]}for(St=0;St<vt.height;St++){for(Tt=-yt;Tt<0;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[St*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[St*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+yt;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[St*vt.width+2*vt.width-Tt-1]}for(St=vt.height;St<vt.height+_t;St++){for(Tt=-yt;Tt<0;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(2*vt.height-St-1)*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(2*vt.height-St-1)*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+yt;Tt++)bt[(St+_t)*Et+Tt+yt]=vt.data[(2*vt.height-St-1)*vt.width+2*vt.width-Tt-1]}return{data:bt,width:Et,height:wt}}(dt,[mt,xt]):function(vt,$t){for(var _t=function(St,Tt){return{data:St.data.concat(Tt.data),height:St.height+Tt.height,width:St.width}}(vt,function(St){for(var Tt=St.data,Rt=St.width,kt=St.height,At=new Array(Tt.length),Ct=0;Ct<kt;Ct++)for(var Mt=0;Mt<Rt;Mt++)At[Ct*Rt+Mt]=Tt[(kt-1-Ct)*Rt+Mt];return{data:At,width:Rt,height:kt}}(vt)),yt=vt.height+2*$t,Et=new Array(vt.width*yt),wt=-$t;wt<vt.height+$t;wt++)for(var bt=0;bt<vt.width;bt++)Et[(wt+$t)*vt.width+bt]=_t.data[ft.mod(wt,_t.height)*vt.width+bt];return{data:Et,width:vt.width,height:yt}}(function(vt,$t){for(var _t=vt.width+2*$t,yt=new Array(_t*vt.height),Et=function(St,Tt){for(var Rt=St.width+Tt.width,kt=new Array(St.height*Rt),At=0;At<St.height;At++){for(var Ct=0;Ct<St.width;Ct++)kt[At*Rt+Ct]=St.data[At*St.width+Ct];for(Ct=0;Ct<Tt.width;Ct++)kt[At*Rt+Ct+St.width]=Tt.data[At*Tt.width+Ct]}return{data:kt,width:Rt,height:St.height}}(vt,function(St){for(var Tt=St.data,Rt=St.width,kt=St.height,At=new Array(Tt.length),Ct=0;Ct<kt;Ct++)for(var Mt=0;Mt<Rt;Mt++)At[Ct*Rt+Mt]=Tt[Ct*Rt+Rt-1-Mt];return{data:At,width:Rt,height:kt}}(vt)),wt=0;wt<vt.height;wt++)for(var bt=-$t;bt<vt.width+$t;bt++)yt[wt*_t+bt+$t]=Et.data[wt*Et.width+ft.mod(bt,Et.width)];return{data:yt,width:_t,height:vt.height}}(dt,xt),mt)}},582:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.rgb2grayInteger=ct.rgb2gray=void 0,ct.rgb2gray=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Uint8Array(dt*pt),gt=0;gt<ft.length;gt+=4)ht[gt/4]=.29894*ft[gt]+.58704*ft[gt+1]+.11402*ft[gt+2]+.5;return{data:Array.from(ht),width:dt,height:pt}},ct.rgb2grayInteger=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Array(dt*pt),gt=0;gt<ft.length;gt+=4)ht[gt/4]=77*ft[gt]+150*ft[gt+1]+29*ft[gt+2]+128>>8;return{data:ht,width:dt,height:pt}}},439:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.skip2d=void 0,ct.skip2d=function(ut,ft,dt){for(var pt=ft[0],ht=ft[1],gt=ft[2],mt=dt[0],xt=dt[1],vt=dt[2],$t=Math.ceil((vt-mt)/xt),_t=Math.ceil((gt-pt)/ht),yt=new Array($t*_t),Et=0;Et<_t;Et++)for(var wt=0;wt<$t;wt++){var bt=pt+Et*ht,St=mt+wt*xt;yt[Et*$t+wt]=ut.data[bt*ut.width+St]}return{data:yt,width:$t,height:_t}}},118:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.sub=void 0,ct.sub=function(ut,ft,dt,pt,ht){for(var gt=ut.data,mt=ut.width,xt=new Array(ht*dt),vt=0;vt<dt;vt++)for(var $t=0;$t<ht;$t++)xt[vt*ht+$t]=gt[(pt+vt)*mt+ft+$t];return{data:xt,width:ht,height:dt}}},240:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.transpose=void 0,ct.transpose=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Array(dt*pt),gt=0;gt<pt;gt++)for(var mt=0;mt<dt;mt++)ht[mt*pt+gt]=ft[gt*dt+mt];return{data:ht,height:dt,width:pt}}},799:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.zeros=void 0;var ft=ut(928);ct.zeros=function(dt,pt){return pt===void 0&&(pt=dt),ft.numbers(dt,pt,0)}},595:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.originalSsim=void 0;var ft=ut(490),dt=ut(971);ct.originalSsim=function(pt,ht,gt){var mt=dt.fspecial("gaussian",gt.windowSize,1.5),xt=Math.pow(2,gt.bitDepth)-1,vt=Math.pow(gt.k1*xt,2),$t=Math.pow(gt.k2*xt,2);mt=ft.divide2d(mt,ft.sum2d(mt));var _t=dt.filter2(mt,pt,"valid"),yt=dt.filter2(mt,ht,"valid"),Et=ft.square2d(_t),wt=ft.square2d(yt),bt=ft.multiply2d(_t,yt),St=ft.square2d(pt),Tt=ft.square2d(ht),Rt=ft.subtract2d(dt.filter2(mt,St,"valid"),Et),kt=ft.subtract2d(dt.filter2(mt,Tt,"valid"),wt),At=ft.subtract2d(dt.filter2(mt,ft.multiply2d(pt,ht),"valid"),bt);if(vt>0&&$t>0){var Ct=ft.add2d(ft.multiply2d(bt,2),vt),Mt=ft.add2d(ft.multiply2d(At,2),$t),Ot=ft.add2d(ft.add2d(Et,wt),vt),Nt=ft.add2d(ft.add2d(Rt,kt),$t);return ft.divide2d(ft.multiply2d(Ct,Mt),ft.multiply2d(Ot,Nt))}var It=ft.multiply2d(bt,2),Dt=ft.multiply2d(At,2),zt=ft.add2d(Et,wt),Yt=ft.add2d(Rt,kt);return ft.divide2d(ft.multiply2d(It,Dt),ft.multiply2d(zt,Yt))}},773:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ssim=void 0;var ft=ut(490),dt=ut(971);ct.ssim=function(pt,ht,gt){var mt=dt.normpdf(function(Mt){for(var Ot=Math.floor(Mt/2),Nt=new Array(2*Ot+1),It=-Ot;It<=Ot;It++)Nt[It+Ot]=Math.abs(It);return{data:Nt,width:Nt.length,height:1}}(gt.windowSize),0,1.5),xt=Math.pow(2,gt.bitDepth)-1,vt=Math.pow(gt.k1*xt,2),$t=Math.pow(gt.k2*xt,2);mt=ft.divide2d(mt,ft.sum2d(mt));var _t=dt.transpose(mt),yt=dt.conv2(pt,mt,_t,"valid"),Et=dt.conv2(ht,mt,_t,"valid"),wt=ft.square2d(yt),bt=ft.square2d(Et),St=ft.multiply2d(yt,Et),Tt=ft.square2d(pt),Rt=ft.square2d(ht),kt=ft.subtract2d(dt.conv2(Tt,mt,_t,"valid"),wt),At=ft.subtract2d(dt.conv2(Rt,mt,_t,"valid"),bt),Ct=ft.subtract2d(dt.conv2(ft.multiply2d(pt,ht),mt,_t,"valid"),St);return vt>0&&$t>0?function(Mt,Ot,Nt,It,Dt,zt,Yt,Pt){var Lt=ft.add2d(ft.multiply2d(Mt,2),Yt),Ft=ft.add2d(ft.multiply2d(Ot,2),Pt),qt=ft.add2d(ft.add2d(Nt,It),Yt),Gt=ft.add2d(ft.add2d(Dt,zt),Pt);return ft.divide2d(ft.multiply2d(Lt,Ft),ft.multiply2d(qt,Gt))}(St,Ct,wt,bt,kt,At,vt,$t):function(Mt,Ot,Nt,It,Dt,zt){var Yt=ft.multiply2d(Mt,2),Pt=ft.multiply2d(Ot,2),Lt=ft.add2d(Nt,It),Ft=ft.add2d(Dt,zt);return ft.divide2d(ft.multiply2d(Yt,Pt),ft.multiply2d(Lt,Ft))}(St,Ct,wt,bt,kt,At)}},535:function(st,ct){var ut=this&&this.__assign||function(){return(ut=Object.assign||function(vt){for(var $t,_t=1,yt=arguments.length;_t<yt;_t++)for(var Et in $t=arguments[_t])Object.prototype.hasOwnProperty.call($t,Et)&&(vt[Et]=$t[Et]);return vt}).apply(this,arguments)};function ft(vt,$t,_t,yt){return{rightEdge:_t[$t*yt+vt+1],bottomEdge:_t[($t+1)*yt+vt],bottomRightEdge:_t[($t+1)*yt+vt+1]}}function dt(vt,$t){for(var _t=vt.width,yt=vt.height,Et=vt.data,wt=_t+1,bt=yt+1,St=new Int32Array(wt*bt),Tt=yt-1;Tt>=0;--Tt)for(var Rt=_t-1;Rt>=0;--Rt){var kt=ft(Rt,Tt,St,wt),At=kt.rightEdge,Ct=kt.bottomEdge,Mt=kt.bottomRightEdge;St[Tt*wt+Rt]=$t(Et[Tt*_t+Rt],Rt,Tt)+At+Ct-Mt}return{data:St,height:bt,width:wt}}function pt(vt,$t,_t){for(var yt=vt.width,Et=vt.height,wt=vt.data,bt=$t.data,St=yt+1,Tt=Et+1,Rt=new Int32Array(St*Tt),kt=Et-1;kt>=0;--kt)for(var At=yt-1;At>=0;--At){var Ct=ft(At,kt,Rt,St),Mt=Ct.rightEdge,Ot=Ct.bottomEdge,Nt=Ct.bottomRightEdge,It=kt*yt+At;Rt[kt*St+At]=_t(wt[It],bt[It],At,kt)+Mt+Ot-Nt}return{data:Rt,height:Tt,width:St}}function ht(vt,$t,_t){for(var yt=vt.width,Et=vt.height,wt=vt.data,bt=yt-1,St=Et-1,Tt=bt-$t+1,Rt=St-$t+1,kt=new Int32Array(Tt*Rt),At=0;At<St;++At)for(var Ct=0;Ct<bt;++Ct)if(Ct<Tt&&At<Rt){var Mt=wt[yt*At+Ct]-wt[yt*At+Ct+$t]-wt[yt*(At+$t)+Ct]+wt[yt*(At+$t)+Ct+$t];kt[At*Tt+Ct]=Mt/_t}return{height:Rt,width:Tt,data:kt}}function gt(vt,$t){return ht(dt(vt,function(_t){return _t}),$t,1)}function mt(vt,$t,_t){for(var yt=_t*_t,Et=ht(dt(vt,function(Rt){return Rt*Rt}),_t,1),wt=0;wt<$t.data.length;++wt){var bt=$t.data[wt]/yt,St=Et.data[wt]/yt,Tt=bt*bt;Et.data[wt]=1024*(St-Tt)}return Et}function xt(vt,$t,_t,yt,Et){for(var wt=Et*Et,bt=ht(pt(vt,$t,function(Tt,Rt){return Tt*Rt}),Et,1),St=0;St<_t.data.length;++St)bt.data[St]=1024*(bt.data[St]/wt-_t.data[St]/wt*(yt.data[St]/wt));return bt}Object.defineProperty(ct,"__esModule",{value:!0}),ct.weberSsim=ct.windowCovariance=ct.windowVariance=ct.windowSums=ct.windowMatrix=ct.partialSumMatrix2=ct.partialSumMatrix1=void 0,ct.partialSumMatrix1=dt,ct.partialSumMatrix2=pt,ct.windowMatrix=ht,ct.windowSums=gt,ct.windowVariance=mt,ct.windowCovariance=xt,ct.weberSsim=function(vt,$t,_t){for(var yt=_t.bitDepth,Et=_t.k1,wt=_t.k2,bt=_t.windowSize,St=Math.pow(2,yt)-1,Tt=Et*St*(Et*St),Rt=wt*St*(wt*St),kt=bt*bt,At=ut(ut({},vt),{data:Int32Array.from(vt.data,function(Wt){return Wt+.5})}),Ct=ut(ut({},$t),{data:Int32Array.from($t.data,function(Wt){return Wt+.5})}),Mt=gt(At,bt),Ot=mt(At,Mt,bt),Nt=gt(Ct,bt),It=mt(Ct,Nt,bt),Dt=xt(At,Ct,Mt,Nt,bt),zt=Mt.data.length,Yt=0,Pt=new Array(zt),Lt=0;Lt<zt;++Lt){var Ft=Mt.data[Lt]/kt,qt=Nt.data[Lt]/kt,Gt=Ot.data[Lt]/1024,Ut=It.data[Lt]/1024,Vt=(2*Ft*qt+Tt)*(Dt.data[Lt]/1024*2+Rt)/(Ft*Ft+qt*qt+Tt)/(Gt+Ut+Rt);Pt[Lt]=Vt,Lt==0?Yt=Vt:Yt+=(Vt-Yt)/(Lt+1)}return{data:Pt,width:Mt.width,height:Mt.height,mssim:Yt}}}},lt={};return function st(ct){if(lt[ct])return lt[ct].exports;var ut=lt[ct]={exports:{}};return at[ct].call(ut.exports,ut,ut.exports,st),ut.exports}(607)})()})})(ssim_web);const formatter=new Intl.ListFormat("en",{type:"disjunction"});function checkProcessable(rt,it,at={}){let{bitDepth:lt,alpha:st,colorModel:ct,components:ut,channels:ft}=at;if(lt&&(Array.isArray(lt)||(lt=[lt]),!lt.includes(rt.depth)))throw new TypeError(`The process "${it}" can only be applied if bit depth is ${format$1(lt)}`);if(st&&(Array.isArray(st)||(st=[st]),!st.includes(rt.alpha)))throw new TypeError(`The process "${it}" can only be applied if alpha is ${format$1(st)}`);if(ct&&(Array.isArray(ct)||(ct=[ct]),!ct.includes(rt.colorModel)))throw new TypeError(`The process "${it}" can only be applied if color model is ${format$1(ct)}`);if(ut&&(Array.isArray(ut)||(ut=[ut]),!ut.includes(rt.components))){let dt=`The process "${it}" can only be applied if the number of components is ${format$1(ut)}`;throw ut.length===1&&ut[0]===1?new TypeError(`${dt}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(dt)}if(ft&&(Array.isArray(ft)||(ft=[ft]),!ft.includes(rt.channels)))throw new TypeError(`The process "${it}" can only be applied if the number of channels is ${format$1(ft)}`)}function format$1(rt){return formatter.format(rt.map(String))}function subtract(rt,it,at={}){let{absolute:lt=!1}=at;rt instanceof Image&&checkProcessable(rt,"subtract",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:[1,3],alpha:!1}),validateForComparison("subtract",rt,it);let st=rt.clone();if(st instanceof Image)for(let ct=0;ct<rt.size;ct++)for(let ut=0;ut<rt.channels;ut++){let ft=rt.getValueByIndex(ct,ut)-it.getValueByIndex(ct,ut);lt?st.setValueByIndex(ct,ut,Math.abs(ft)):st.setValueByIndex(ct,ut,Math.max(ft,0))}else if(rt instanceof Mask&&it instanceof Mask)for(let ct=0;ct<rt.size;ct++){let ut=rt.getBitByIndex(ct)-it.getBitByIndex(ct);lt?st.setBitByIndex(ct,Math.abs(ut)?1:0):st.setBitByIndex(ct,Math.max(ut,0)?1:0)}return st}function variance(rt){const it=rt.mean();let at=new Array(rt.channels).fill(0);for(let st=0;st<rt.size;st++)for(let ct=0;ct<rt.channels;ct++)at[ct]+=Math.pow(rt.getValueByIndex(st,ct)-it[ct],2);const lt=rt.size*rt.channels;return at.map(st=>st/lt)}const toString$3=Object.prototype.toString;function isAnyArray(rt){return toString$3.call(rt).endsWith("Array]")}function max$4(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(rt))throw new TypeError("input must be an array");if(rt.length===0)throw new TypeError("input must not be empty");var at=it.fromIndex,lt=at===void 0?0:at,st=it.toIndex,ct=st===void 0?rt.length:st;if(lt<0||lt>=rt.length||!Number.isInteger(lt))throw new Error("fromIndex must be a positive integer smaller than length");if(ct<=lt||ct>rt.length||!Number.isInteger(ct))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ut=rt[lt],ft=lt+1;ft<ct;ft++)rt[ft]>ut&&(ut=rt[ft]);return ut}function min$4(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(rt))throw new TypeError("input must be an array");if(rt.length===0)throw new TypeError("input must not be empty");var at=it.fromIndex,lt=at===void 0?0:at,st=it.toIndex,ct=st===void 0?rt.length:st;if(lt<0||lt>=rt.length||!Number.isInteger(lt))throw new Error("fromIndex must be a positive integer smaller than length");if(ct<=lt||ct>rt.length||!Number.isInteger(ct))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ut=rt[lt],ft=lt+1;ft<ct;ft++)rt[ft]<ut&&(ut=rt[ft]);return ut}function rescale(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(rt)){if(rt.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var at;if(it.output!==void 0){if(!isAnyArray(it.output))throw new TypeError("output option must be an array if specified");at=it.output}else at=new Array(rt.length);var lt=min$4(rt),st=max$4(rt);if(lt===st)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var ct=it.min,ut=ct===void 0?it.autoMinMax?lt:0:ct,ft=it.max,dt=ft===void 0?it.autoMinMax?st:1:ft;if(ut>=dt)throw new RangeError("min option must be smaller than max option");for(var pt=(dt-ut)/(st-lt),ht=0;ht<rt.length;ht++)at[ht]=(rt[ht]-lt)*pt+ut;return at}const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(rt,it={}){const{maxRows:at=15,maxColumns:lt=10,maxNumSize:st=8,padMinus:ct="auto"}=it;return`${rt.constructor.name} {
${indent}[
${indentData}${inspectData(rt,at,lt,st,ct)}
${indent}]
${indent}rows: ${rt.rows}
${indent}columns: ${rt.columns}
}`}function inspectData(rt,it,at,lt,st){const{rows:ct,columns:ut}=rt,ft=Math.min(ct,it),dt=Math.min(ut,at),pt=[];if(st==="auto"){st=!1;e:for(let ht=0;ht<ft;ht++)for(let gt=0;gt<dt;gt++)if(rt.get(ht,gt)<0){st=!0;break e}}for(let ht=0;ht<ft;ht++){let gt=[];for(let mt=0;mt<dt;mt++)gt.push(formatNumber(rt.get(ht,mt),lt,st));pt.push(`${gt.join(" ")}`)}return dt!==ut&&(pt[pt.length-1]+=` ... ${ut-at} more columns`),ft!==ct&&pt.push(`... ${ct-it} more rows`),pt.join(`
${indentData}`)}function formatNumber(rt,it,at){return(rt>=0&&at?` ${formatNumber2(rt,it-1)}`:formatNumber2(rt,it)).padEnd(it)}function formatNumber2(rt,it){let at=rt.toString();if(at.length<=it)return at;let lt=rt.toFixed(it);if(lt.length>it&&(lt=rt.toFixed(Math.max(0,it-(lt.length-it)))),lt.length<=it&&!lt.startsWith("0.000")&&!lt.startsWith("-0.000"))return lt;let st=rt.toExponential(it);return st.length>it&&(st=rt.toExponential(Math.max(0,it-(st.length-it)))),st.slice(0)}function installMathOperations(rt,it){rt.prototype.add=function(lt){return typeof lt=="number"?this.addS(lt):this.addM(lt)},rt.prototype.addS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)+lt);return this},rt.prototype.addM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)+lt.get(st,ct));return this},rt.add=function(lt,st){return new it(lt).add(st)},rt.prototype.sub=function(lt){return typeof lt=="number"?this.subS(lt):this.subM(lt)},rt.prototype.subS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)-lt);return this},rt.prototype.subM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)-lt.get(st,ct));return this},rt.sub=function(lt,st){return new it(lt).sub(st)},rt.prototype.subtract=rt.prototype.sub,rt.prototype.subtractS=rt.prototype.subS,rt.prototype.subtractM=rt.prototype.subM,rt.subtract=rt.sub,rt.prototype.mul=function(lt){return typeof lt=="number"?this.mulS(lt):this.mulM(lt)},rt.prototype.mulS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)*lt);return this},rt.prototype.mulM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)*lt.get(st,ct));return this},rt.mul=function(lt,st){return new it(lt).mul(st)},rt.prototype.multiply=rt.prototype.mul,rt.prototype.multiplyS=rt.prototype.mulS,rt.prototype.multiplyM=rt.prototype.mulM,rt.multiply=rt.mul,rt.prototype.div=function(lt){return typeof lt=="number"?this.divS(lt):this.divM(lt)},rt.prototype.divS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)/lt);return this},rt.prototype.divM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)/lt.get(st,ct));return this},rt.div=function(lt,st){return new it(lt).div(st)},rt.prototype.divide=rt.prototype.div,rt.prototype.divideS=rt.prototype.divS,rt.prototype.divideM=rt.prototype.divM,rt.divide=rt.div,rt.prototype.mod=function(lt){return typeof lt=="number"?this.modS(lt):this.modM(lt)},rt.prototype.modS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)%lt);return this},rt.prototype.modM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)%lt.get(st,ct));return this},rt.mod=function(lt,st){return new it(lt).mod(st)},rt.prototype.modulus=rt.prototype.mod,rt.prototype.modulusS=rt.prototype.modS,rt.prototype.modulusM=rt.prototype.modM,rt.modulus=rt.mod,rt.prototype.and=function(lt){return typeof lt=="number"?this.andS(lt):this.andM(lt)},rt.prototype.andS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)&lt);return this},rt.prototype.andM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)&lt.get(st,ct));return this},rt.and=function(lt,st){return new it(lt).and(st)},rt.prototype.or=function(lt){return typeof lt=="number"?this.orS(lt):this.orM(lt)},rt.prototype.orS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)|lt);return this},rt.prototype.orM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)|lt.get(st,ct));return this},rt.or=function(lt,st){return new it(lt).or(st)},rt.prototype.xor=function(lt){return typeof lt=="number"?this.xorS(lt):this.xorM(lt)},rt.prototype.xorS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)^lt);return this},rt.prototype.xorM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)^lt.get(st,ct));return this},rt.xor=function(lt,st){return new it(lt).xor(st)},rt.prototype.leftShift=function(lt){return typeof lt=="number"?this.leftShiftS(lt):this.leftShiftM(lt)},rt.prototype.leftShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)<<lt);return this},rt.prototype.leftShiftM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)<<lt.get(st,ct));return this},rt.leftShift=function(lt,st){return new it(lt).leftShift(st)},rt.prototype.signPropagatingRightShift=function(lt){return typeof lt=="number"?this.signPropagatingRightShiftS(lt):this.signPropagatingRightShiftM(lt)},rt.prototype.signPropagatingRightShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>lt);return this},rt.prototype.signPropagatingRightShiftM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>lt.get(st,ct));return this},rt.signPropagatingRightShift=function(lt,st){return new it(lt).signPropagatingRightShift(st)},rt.prototype.rightShift=function(lt){return typeof lt=="number"?this.rightShiftS(lt):this.rightShiftM(lt)},rt.prototype.rightShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>>lt);return this},rt.prototype.rightShiftM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>>lt.get(st,ct));return this},rt.rightShift=function(lt,st){return new it(lt).rightShift(st)},rt.prototype.zeroFillRightShift=rt.prototype.rightShift,rt.prototype.zeroFillRightShiftS=rt.prototype.rightShiftS,rt.prototype.zeroFillRightShiftM=rt.prototype.rightShiftM,rt.zeroFillRightShift=rt.rightShift,rt.prototype.not=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,~this.get(lt,st));return this},rt.not=function(lt){return new it(lt).not()},rt.prototype.abs=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.abs(this.get(lt,st)));return this},rt.abs=function(lt){return new it(lt).abs()},rt.prototype.acos=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.acos(this.get(lt,st)));return this},rt.acos=function(lt){return new it(lt).acos()},rt.prototype.acosh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.acosh(this.get(lt,st)));return this},rt.acosh=function(lt){return new it(lt).acosh()},rt.prototype.asin=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.asin(this.get(lt,st)));return this},rt.asin=function(lt){return new it(lt).asin()},rt.prototype.asinh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.asinh(this.get(lt,st)));return this},rt.asinh=function(lt){return new it(lt).asinh()},rt.prototype.atan=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.atan(this.get(lt,st)));return this},rt.atan=function(lt){return new it(lt).atan()},rt.prototype.atanh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.atanh(this.get(lt,st)));return this},rt.atanh=function(lt){return new it(lt).atanh()},rt.prototype.cbrt=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cbrt(this.get(lt,st)));return this},rt.cbrt=function(lt){return new it(lt).cbrt()},rt.prototype.ceil=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.ceil(this.get(lt,st)));return this},rt.ceil=function(lt){return new it(lt).ceil()},rt.prototype.clz32=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.clz32(this.get(lt,st)));return this},rt.clz32=function(lt){return new it(lt).clz32()},rt.prototype.cos=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cos(this.get(lt,st)));return this},rt.cos=function(lt){return new it(lt).cos()},rt.prototype.cosh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cosh(this.get(lt,st)));return this},rt.cosh=function(lt){return new it(lt).cosh()},rt.prototype.exp=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.exp(this.get(lt,st)));return this},rt.exp=function(lt){return new it(lt).exp()},rt.prototype.expm1=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.expm1(this.get(lt,st)));return this},rt.expm1=function(lt){return new it(lt).expm1()},rt.prototype.floor=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.floor(this.get(lt,st)));return this},rt.floor=function(lt){return new it(lt).floor()},rt.prototype.fround=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.fround(this.get(lt,st)));return this},rt.fround=function(lt){return new it(lt).fround()},rt.prototype.log=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log(this.get(lt,st)));return this},rt.log=function(lt){return new it(lt).log()},rt.prototype.log1p=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log1p(this.get(lt,st)));return this},rt.log1p=function(lt){return new it(lt).log1p()},rt.prototype.log10=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log10(this.get(lt,st)));return this},rt.log10=function(lt){return new it(lt).log10()},rt.prototype.log2=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log2(this.get(lt,st)));return this},rt.log2=function(lt){return new it(lt).log2()},rt.prototype.round=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.round(this.get(lt,st)));return this},rt.round=function(lt){return new it(lt).round()},rt.prototype.sign=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sign(this.get(lt,st)));return this},rt.sign=function(lt){return new it(lt).sign()},rt.prototype.sin=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sin(this.get(lt,st)));return this},rt.sin=function(lt){return new it(lt).sin()},rt.prototype.sinh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sinh(this.get(lt,st)));return this},rt.sinh=function(lt){return new it(lt).sinh()},rt.prototype.sqrt=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sqrt(this.get(lt,st)));return this},rt.sqrt=function(lt){return new it(lt).sqrt()},rt.prototype.tan=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.tan(this.get(lt,st)));return this},rt.tan=function(lt){return new it(lt).tan()},rt.prototype.tanh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.tanh(this.get(lt,st)));return this},rt.tanh=function(lt){return new it(lt).tanh()},rt.prototype.trunc=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.trunc(this.get(lt,st)));return this},rt.trunc=function(lt){return new it(lt).trunc()},rt.pow=function(lt,st){return new it(lt).pow(st)},rt.prototype.pow=function(lt){return typeof lt=="number"?this.powS(lt):this.powM(lt)},rt.prototype.powS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,Math.pow(this.get(st,ct),lt));return this},rt.prototype.powM=function(lt){if(lt=it.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,Math.pow(this.get(st,ct),lt.get(st,ct)));return this}}function checkRowIndex(rt,it,at){let lt=at?rt.rows:rt.rows-1;if(it<0||it>lt)throw new RangeError("Row index out of range")}function checkColumnIndex(rt,it,at){let lt=at?rt.columns:rt.columns-1;if(it<0||it>lt)throw new RangeError("Column index out of range")}function checkRowVector(rt,it){if(it.to1DArray&&(it=it.to1DArray()),it.length!==rt.columns)throw new RangeError("vector size must be the same as the number of columns");return it}function checkColumnVector(rt,it){if(it.to1DArray&&(it=it.to1DArray()),it.length!==rt.rows)throw new RangeError("vector size must be the same as the number of rows");return it}function checkRowIndices(rt,it){if(!isAnyArray(it))throw new TypeError("row indices must be an array");for(let at=0;at<it.length;at++)if(it[at]<0||it[at]>=rt.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(rt,it){if(!isAnyArray(it))throw new TypeError("column indices must be an array");for(let at=0;at<it.length;at++)if(it[at]<0||it[at]>=rt.columns)throw new RangeError("column indices are out of range")}function checkRange$1(rt,it,at,lt,st){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",it),checkNumber("endRow",at),checkNumber("startColumn",lt),checkNumber("endColumn",st),it>at||lt>st||it<0||it>=rt.rows||at<0||at>=rt.rows||lt<0||lt>=rt.columns||st<0||st>=rt.columns)throw new RangeError("Submatrix indices are out of range")}function newArray(rt,it=0){let at=[];for(let lt=0;lt<rt;lt++)at.push(it);return at}function checkNumber(rt,it){if(typeof it!="number")throw new TypeError(`${rt} must be a number`)}function checkNonEmpty(rt){if(rt.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(rt){let it=newArray(rt.rows);for(let at=0;at<rt.rows;++at)for(let lt=0;lt<rt.columns;++lt)it[at]+=rt.get(at,lt);return it}function sumByColumn(rt){let it=newArray(rt.columns);for(let at=0;at<rt.rows;++at)for(let lt=0;lt<rt.columns;++lt)it[lt]+=rt.get(at,lt);return it}function sumAll(rt){let it=0;for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)it+=rt.get(at,lt);return it}function productByRow(rt){let it=newArray(rt.rows,1);for(let at=0;at<rt.rows;++at)for(let lt=0;lt<rt.columns;++lt)it[at]*=rt.get(at,lt);return it}function productByColumn(rt){let it=newArray(rt.columns,1);for(let at=0;at<rt.rows;++at)for(let lt=0;lt<rt.columns;++lt)it[lt]*=rt.get(at,lt);return it}function productAll(rt){let it=1;for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)it*=rt.get(at,lt);return it}function varianceByRow(rt,it,at){const lt=rt.rows,st=rt.columns,ct=[];for(let ut=0;ut<lt;ut++){let ft=0,dt=0,pt=0;for(let ht=0;ht<st;ht++)pt=rt.get(ut,ht)-at[ut],ft+=pt,dt+=pt*pt;it?ct.push((dt-ft*ft/st)/(st-1)):ct.push((dt-ft*ft/st)/st)}return ct}function varianceByColumn(rt,it,at){const lt=rt.rows,st=rt.columns,ct=[];for(let ut=0;ut<st;ut++){let ft=0,dt=0,pt=0;for(let ht=0;ht<lt;ht++)pt=rt.get(ht,ut)-at[ut],ft+=pt,dt+=pt*pt;it?ct.push((dt-ft*ft/lt)/(lt-1)):ct.push((dt-ft*ft/lt)/lt)}return ct}function varianceAll(rt,it,at){const lt=rt.rows,st=rt.columns,ct=lt*st;let ut=0,ft=0,dt=0;for(let pt=0;pt<lt;pt++)for(let ht=0;ht<st;ht++)dt=rt.get(pt,ht)-at,ut+=dt,ft+=dt*dt;return it?(ft-ut*ut/ct)/(ct-1):(ft-ut*ut/ct)/ct}function centerByRow(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)-it[at])}function centerByColumn(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)-it[lt])}function centerAll(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)-it)}function getScaleByRow(rt){const it=[];for(let at=0;at<rt.rows;at++){let lt=0;for(let st=0;st<rt.columns;st++)lt+=Math.pow(rt.get(at,st),2)/(rt.columns-1);it.push(Math.sqrt(lt))}return it}function scaleByRow(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)/it[at])}function getScaleByColumn(rt){const it=[];for(let at=0;at<rt.columns;at++){let lt=0;for(let st=0;st<rt.rows;st++)lt+=Math.pow(rt.get(st,at),2)/(rt.rows-1);it.push(Math.sqrt(lt))}return it}function scaleByColumn(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)/it[lt])}function getScaleAll(rt){const it=rt.size-1;let at=0;for(let lt=0;lt<rt.columns;lt++)for(let st=0;st<rt.rows;st++)at+=Math.pow(rt.get(st,lt),2)/it;return Math.sqrt(at)}function scaleAll(rt,it){for(let at=0;at<rt.rows;at++)for(let lt=0;lt<rt.columns;lt++)rt.set(at,lt,rt.get(at,lt)/it)}class AbstractMatrix{static from1DArray(it,at,lt){if(it*at!==lt.length)throw new RangeError("data length does not match given dimensions");let ct=new Matrix(it,at);for(let ut=0;ut<it;ut++)for(let ft=0;ft<at;ft++)ct.set(ut,ft,lt[ut*at+ft]);return ct}static rowVector(it){let at=new Matrix(1,it.length);for(let lt=0;lt<it.length;lt++)at.set(0,lt,it[lt]);return at}static columnVector(it){let at=new Matrix(it.length,1);for(let lt=0;lt<it.length;lt++)at.set(lt,0,it[lt]);return at}static zeros(it,at){return new Matrix(it,at)}static ones(it,at){return new Matrix(it,at).fill(1)}static rand(it,at,lt={}){if(typeof lt!="object")throw new TypeError("options must be an object");const{random:st=Math.random}=lt;let ct=new Matrix(it,at);for(let ut=0;ut<it;ut++)for(let ft=0;ft<at;ft++)ct.set(ut,ft,st());return ct}static randInt(it,at,lt={}){if(typeof lt!="object")throw new TypeError("options must be an object");const{min:st=0,max:ct=1e3,random:ut=Math.random}=lt;if(!Number.isInteger(st))throw new TypeError("min must be an integer");if(!Number.isInteger(ct))throw new TypeError("max must be an integer");if(st>=ct)throw new RangeError("min must be smaller than max");let ft=ct-st,dt=new Matrix(it,at);for(let pt=0;pt<it;pt++)for(let ht=0;ht<at;ht++){let gt=st+Math.round(ut()*ft);dt.set(pt,ht,gt)}return dt}static eye(it,at,lt){at===void 0&&(at=it),lt===void 0&&(lt=1);let st=Math.min(it,at),ct=this.zeros(it,at);for(let ut=0;ut<st;ut++)ct.set(ut,ut,lt);return ct}static diag(it,at,lt){let st=it.length;at===void 0&&(at=st),lt===void 0&&(lt=at);let ct=Math.min(st,at,lt),ut=this.zeros(at,lt);for(let ft=0;ft<ct;ft++)ut.set(ft,ft,it[ft]);return ut}static min(it,at){it=this.checkMatrix(it),at=this.checkMatrix(at);let lt=it.rows,st=it.columns,ct=new Matrix(lt,st);for(let ut=0;ut<lt;ut++)for(let ft=0;ft<st;ft++)ct.set(ut,ft,Math.min(it.get(ut,ft),at.get(ut,ft)));return ct}static max(it,at){it=this.checkMatrix(it),at=this.checkMatrix(at);let lt=it.rows,st=it.columns,ct=new this(lt,st);for(let ut=0;ut<lt;ut++)for(let ft=0;ft<st;ft++)ct.set(ut,ft,Math.max(it.get(ut,ft),at.get(ut,ft)));return ct}static checkMatrix(it){return AbstractMatrix.isMatrix(it)?it:new Matrix(it)}static isMatrix(it){return it!=null&&it.klass==="Matrix"}get size(){return this.rows*this.columns}apply(it){if(typeof it!="function")throw new TypeError("callback must be a function");for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)it.call(this,at,lt);return this}to1DArray(){let it=[];for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)it.push(this.get(at,lt));return it}to2DArray(){let it=[];for(let at=0;at<this.rows;at++){it.push([]);for(let lt=0;lt<this.columns;lt++)it[at].push(this.get(at,lt))}return it}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let it=0;it<this.rows;it++)for(let at=0;at<=it;at++)if(this.get(it,at)!==this.get(at,it))return!1;return!0}return!1}isEchelonForm(){let it=0,at=0,lt=-1,st=!0,ct=!1;for(;it<this.rows&&st;){for(at=0,ct=!1;at<this.columns&&ct===!1;)this.get(it,at)===0?at++:this.get(it,at)===1&&at>lt?(ct=!0,lt=at):(st=!1,ct=!0);it++}return st}isReducedEchelonForm(){let it=0,at=0,lt=-1,st=!0,ct=!1;for(;it<this.rows&&st;){for(at=0,ct=!1;at<this.columns&&ct===!1;)this.get(it,at)===0?at++:this.get(it,at)===1&&at>lt?(ct=!0,lt=at):(st=!1,ct=!0);for(let ut=at+1;ut<this.rows;ut++)this.get(it,ut)!==0&&(st=!1);it++}return st}echelonForm(){let it=this.clone(),at=0,lt=0;for(;at<it.rows&&lt<it.columns;){let st=at;for(let ct=at;ct<it.rows;ct++)it.get(ct,lt)>it.get(st,lt)&&(st=ct);if(it.get(st,lt)===0)lt++;else{it.swapRows(at,st);let ct=it.get(at,lt);for(let ut=lt;ut<it.columns;ut++)it.set(at,ut,it.get(at,ut)/ct);for(let ut=at+1;ut<it.rows;ut++){let ft=it.get(ut,lt)/it.get(at,lt);it.set(ut,lt,0);for(let dt=lt+1;dt<it.columns;dt++)it.set(ut,dt,it.get(ut,dt)-it.get(at,dt)*ft)}at++,lt++}}return it}reducedEchelonForm(){let it=this.echelonForm(),at=it.columns,lt=it.rows,st=lt-1;for(;st>=0;)if(it.maxRow(st)===0)st--;else{let ct=0,ut=!1;for(;ct<lt&&ut===!1;)it.get(st,ct)===1?ut=!0:ct++;for(let ft=0;ft<st;ft++){let dt=it.get(ft,ct);for(let pt=ct;pt<at;pt++){let ht=it.get(ft,pt)-dt*it.get(st,pt);it.set(ft,pt,ht)}}st--}return it}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(it={}){if(typeof it!="object")throw new TypeError("options must be an object");const{rows:at=1,columns:lt=1}=it;if(!Number.isInteger(at)||at<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(lt)||lt<=0)throw new TypeError("columns must be a positive integer");let st=new Matrix(this.rows*at,this.columns*lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)st.setSubMatrix(this,this.rows*ct,this.columns*ut);return st}fill(it){for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,it);return this}neg(){return this.mulS(-1)}getRow(it){checkRowIndex(this,it);let at=[];for(let lt=0;lt<this.columns;lt++)at.push(this.get(it,lt));return at}getRowVector(it){return Matrix.rowVector(this.getRow(it))}setRow(it,at){checkRowIndex(this,it),at=checkRowVector(this,at);for(let lt=0;lt<this.columns;lt++)this.set(it,lt,at[lt]);return this}swapRows(it,at){checkRowIndex(this,it),checkRowIndex(this,at);for(let lt=0;lt<this.columns;lt++){let st=this.get(it,lt);this.set(it,lt,this.get(at,lt)),this.set(at,lt,st)}return this}getColumn(it){checkColumnIndex(this,it);let at=[];for(let lt=0;lt<this.rows;lt++)at.push(this.get(lt,it));return at}getColumnVector(it){return Matrix.columnVector(this.getColumn(it))}setColumn(it,at){checkColumnIndex(this,it),at=checkColumnVector(this,at);for(let lt=0;lt<this.rows;lt++)this.set(lt,it,at[lt]);return this}swapColumns(it,at){checkColumnIndex(this,it),checkColumnIndex(this,at);for(let lt=0;lt<this.rows;lt++){let st=this.get(lt,it);this.set(lt,it,this.get(lt,at)),this.set(lt,at,st)}return this}addRowVector(it){it=checkRowVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)+it[lt]);return this}subRowVector(it){it=checkRowVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)-it[lt]);return this}mulRowVector(it){it=checkRowVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)*it[lt]);return this}divRowVector(it){it=checkRowVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)/it[lt]);return this}addColumnVector(it){it=checkColumnVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)+it[at]);return this}subColumnVector(it){it=checkColumnVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)-it[at]);return this}mulColumnVector(it){it=checkColumnVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)*it[at]);return this}divColumnVector(it){it=checkColumnVector(this,it);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)/it[at]);return this}mulRow(it,at){checkRowIndex(this,it);for(let lt=0;lt<this.columns;lt++)this.set(it,lt,this.get(it,lt)*at);return this}mulColumn(it,at){checkColumnIndex(this,it);for(let lt=0;lt<this.rows;lt++)this.set(lt,it,this.get(lt,it)*at);return this}max(it){if(this.isEmpty())return NaN;switch(it){case"row":{const at=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at[lt]&&(at[lt]=this.get(lt,st));return at}case"column":{const at=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at[st]&&(at[st]=this.get(lt,st));return at}case void 0:{let at=this.get(0,0);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at&&(at=this.get(lt,st));return at}default:throw new Error(`invalid option: ${it}`)}}maxIndex(){checkNonEmpty(this);let it=this.get(0,0),at=[0,0];for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>it&&(it=this.get(lt,st),at[0]=lt,at[1]=st);return at}min(it){if(this.isEmpty())return NaN;switch(it){case"row":{const at=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at[lt]&&(at[lt]=this.get(lt,st));return at}case"column":{const at=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at[st]&&(at[st]=this.get(lt,st));return at}case void 0:{let at=this.get(0,0);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at&&(at=this.get(lt,st));return at}default:throw new Error(`invalid option: ${it}`)}}minIndex(){checkNonEmpty(this);let it=this.get(0,0),at=[0,0];for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<it&&(it=this.get(lt,st),at[0]=lt,at[1]=st);return at}maxRow(it){if(checkRowIndex(this,it),this.isEmpty())return NaN;let at=this.get(it,0);for(let lt=1;lt<this.columns;lt++)this.get(it,lt)>at&&(at=this.get(it,lt));return at}maxRowIndex(it){checkRowIndex(this,it),checkNonEmpty(this);let at=this.get(it,0),lt=[it,0];for(let st=1;st<this.columns;st++)this.get(it,st)>at&&(at=this.get(it,st),lt[1]=st);return lt}minRow(it){if(checkRowIndex(this,it),this.isEmpty())return NaN;let at=this.get(it,0);for(let lt=1;lt<this.columns;lt++)this.get(it,lt)<at&&(at=this.get(it,lt));return at}minRowIndex(it){checkRowIndex(this,it),checkNonEmpty(this);let at=this.get(it,0),lt=[it,0];for(let st=1;st<this.columns;st++)this.get(it,st)<at&&(at=this.get(it,st),lt[1]=st);return lt}maxColumn(it){if(checkColumnIndex(this,it),this.isEmpty())return NaN;let at=this.get(0,it);for(let lt=1;lt<this.rows;lt++)this.get(lt,it)>at&&(at=this.get(lt,it));return at}maxColumnIndex(it){checkColumnIndex(this,it),checkNonEmpty(this);let at=this.get(0,it),lt=[0,it];for(let st=1;st<this.rows;st++)this.get(st,it)>at&&(at=this.get(st,it),lt[0]=st);return lt}minColumn(it){if(checkColumnIndex(this,it),this.isEmpty())return NaN;let at=this.get(0,it);for(let lt=1;lt<this.rows;lt++)this.get(lt,it)<at&&(at=this.get(lt,it));return at}minColumnIndex(it){checkColumnIndex(this,it),checkNonEmpty(this);let at=this.get(0,it),lt=[0,it];for(let st=1;st<this.rows;st++)this.get(st,it)<at&&(at=this.get(st,it),lt[0]=st);return lt}diag(){let it=Math.min(this.rows,this.columns),at=[];for(let lt=0;lt<it;lt++)at.push(this.get(lt,lt));return at}norm(it="frobenius"){let at=0;if(it==="max")return this.max();if(it==="frobenius"){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)at=at+this.get(lt,st)*this.get(lt,st);return Math.sqrt(at)}else throw new RangeError(`unknown norm type: ${it}`)}cumulativeSum(){let it=0;for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)it+=this.get(at,lt),this.set(at,lt,it);return this}dot(it){AbstractMatrix.isMatrix(it)&&(it=it.to1DArray());let at=this.to1DArray();if(at.length!==it.length)throw new RangeError("vectors do not have the same size");let lt=0;for(let st=0;st<at.length;st++)lt+=at[st]*it[st];return lt}mmul(it){it=Matrix.checkMatrix(it);let at=this.rows,lt=this.columns,st=it.columns,ct=new Matrix(at,st),ut=new Float64Array(lt);for(let ft=0;ft<st;ft++){for(let dt=0;dt<lt;dt++)ut[dt]=it.get(dt,ft);for(let dt=0;dt<at;dt++){let pt=0;for(let ht=0;ht<lt;ht++)pt+=this.get(dt,ht)*ut[ht];ct.set(dt,ft,pt)}}return ct}strassen2x2(it){it=Matrix.checkMatrix(it);let at=new Matrix(2,2);const lt=this.get(0,0),st=it.get(0,0),ct=this.get(0,1),ut=it.get(0,1),ft=this.get(1,0),dt=it.get(1,0),pt=this.get(1,1),ht=it.get(1,1),gt=(lt+pt)*(st+ht),mt=(ft+pt)*st,xt=lt*(ut-ht),vt=pt*(dt-st),$t=(lt+ct)*ht,_t=(ft-lt)*(st+ut),yt=(ct-pt)*(dt+ht),Et=gt+vt-$t+yt,wt=xt+$t,bt=mt+vt,St=gt-mt+xt+_t;return at.set(0,0,Et),at.set(0,1,wt),at.set(1,0,bt),at.set(1,1,St),at}strassen3x3(it){it=Matrix.checkMatrix(it);let at=new Matrix(3,3);const lt=this.get(0,0),st=this.get(0,1),ct=this.get(0,2),ut=this.get(1,0),ft=this.get(1,1),dt=this.get(1,2),pt=this.get(2,0),ht=this.get(2,1),gt=this.get(2,2),mt=it.get(0,0),xt=it.get(0,1),vt=it.get(0,2),$t=it.get(1,0),_t=it.get(1,1),yt=it.get(1,2),Et=it.get(2,0),wt=it.get(2,1),bt=it.get(2,2),St=(lt+st+ct-ut-ft-ht-gt)*_t,Tt=(lt-ut)*(-xt+_t),Rt=ft*(-mt+xt+$t-_t-yt-Et+bt),kt=(-lt+ut+ft)*(mt-xt+_t),At=(ut+ft)*(-mt+xt),Ct=lt*mt,Mt=(-lt+pt+ht)*(mt-vt+yt),Ot=(-lt+pt)*(vt-yt),Nt=(pt+ht)*(-mt+vt),It=(lt+st+ct-ft-dt-pt-ht)*yt,Dt=ht*(-mt+vt+$t-_t-yt-Et+wt),zt=(-ct+ht+gt)*(_t+Et-wt),Yt=(ct-gt)*(_t-wt),Pt=ct*Et,Lt=(ht+gt)*(-Et+wt),Ft=(-ct+ft+dt)*(yt+Et-bt),qt=(ct-dt)*(yt-bt),Gt=(ft+dt)*(-Et+bt),Ut=st*$t,Vt=dt*wt,Wt=ut*vt,ln=pt*xt,pn=gt*bt,Sn=Ct+Pt+Ut,Kt=St+kt+At+Ct+zt+Pt+Lt,cn=Ct+Mt+Nt+It+Pt+Ft+Gt,hn=Tt+Rt+kt+Ct+Pt+Ft+qt,Ht=Tt+kt+At+Ct+Vt,bn=Pt+Ft+qt+Gt+Wt,Qt=Ct+Mt+Ot+Dt+zt+Yt+Pt,Xt=zt+Yt+Pt+Lt+ln,gn=Ct+Mt+Ot+Nt+pn;return at.set(0,0,Sn),at.set(0,1,Kt),at.set(0,2,cn),at.set(1,0,hn),at.set(1,1,Ht),at.set(1,2,bn),at.set(2,0,Qt),at.set(2,1,Xt),at.set(2,2,gn),at}mmulStrassen(it){it=Matrix.checkMatrix(it);let at=this.clone(),lt=at.rows,st=at.columns,ct=it.rows,ut=it.columns;st!==ct&&console.warn(`Multiplying ${lt} x ${st} and ${ct} x ${ut} matrix: dimensions do not match.`);function ft(gt,mt,xt){let vt=gt.rows,$t=gt.columns;if(vt===mt&&$t===xt)return gt;{let _t=AbstractMatrix.zeros(mt,xt);return _t=_t.setSubMatrix(gt,0,0),_t}}let dt=Math.max(lt,ct),pt=Math.max(st,ut);at=ft(at,dt,pt),it=ft(it,dt,pt);function ht(gt,mt,xt,vt){if(xt<=512||vt<=512)return gt.mmul(mt);xt%2===1&&vt%2===1?(gt=ft(gt,xt+1,vt+1),mt=ft(mt,xt+1,vt+1)):xt%2===1?(gt=ft(gt,xt+1,vt),mt=ft(mt,xt+1,vt)):vt%2===1&&(gt=ft(gt,xt,vt+1),mt=ft(mt,xt,vt+1));let $t=parseInt(gt.rows/2,10),_t=parseInt(gt.columns/2,10),yt=gt.subMatrix(0,$t-1,0,_t-1),Et=mt.subMatrix(0,$t-1,0,_t-1),wt=gt.subMatrix(0,$t-1,_t,gt.columns-1),bt=mt.subMatrix(0,$t-1,_t,mt.columns-1),St=gt.subMatrix($t,gt.rows-1,0,_t-1),Tt=mt.subMatrix($t,mt.rows-1,0,_t-1),Rt=gt.subMatrix($t,gt.rows-1,_t,gt.columns-1),kt=mt.subMatrix($t,mt.rows-1,_t,mt.columns-1),At=ht(AbstractMatrix.add(yt,Rt),AbstractMatrix.add(Et,kt),$t,_t),Ct=ht(AbstractMatrix.add(St,Rt),Et,$t,_t),Mt=ht(yt,AbstractMatrix.sub(bt,kt),$t,_t),Ot=ht(Rt,AbstractMatrix.sub(Tt,Et),$t,_t),Nt=ht(AbstractMatrix.add(yt,wt),kt,$t,_t),It=ht(AbstractMatrix.sub(St,yt),AbstractMatrix.add(Et,bt),$t,_t),Dt=ht(AbstractMatrix.sub(wt,Rt),AbstractMatrix.add(Tt,kt),$t,_t),zt=AbstractMatrix.add(At,Ot);zt.sub(Nt),zt.add(Dt);let Yt=AbstractMatrix.add(Mt,Nt),Pt=AbstractMatrix.add(Ct,Ot),Lt=AbstractMatrix.sub(At,Ct);Lt.add(Mt),Lt.add(It);let Ft=AbstractMatrix.zeros(2*zt.rows,2*zt.columns);return Ft=Ft.setSubMatrix(zt,0,0),Ft=Ft.setSubMatrix(Yt,zt.rows,0),Ft=Ft.setSubMatrix(Pt,0,zt.columns),Ft=Ft.setSubMatrix(Lt,zt.rows,zt.columns),Ft.subMatrix(0,xt-1,0,vt-1)}return ht(at,it,dt,pt)}scaleRows(it={}){if(typeof it!="object")throw new TypeError("options must be an object");const{min:at=0,max:lt=1}=it;if(!Number.isFinite(at))throw new TypeError("min must be a number");if(!Number.isFinite(lt))throw new TypeError("max must be a number");if(at>=lt)throw new RangeError("min must be smaller than max");let st=new Matrix(this.rows,this.columns);for(let ct=0;ct<this.rows;ct++){const ut=this.getRow(ct);ut.length>0&&rescale(ut,{min:at,max:lt,output:ut}),st.setRow(ct,ut)}return st}scaleColumns(it={}){if(typeof it!="object")throw new TypeError("options must be an object");const{min:at=0,max:lt=1}=it;if(!Number.isFinite(at))throw new TypeError("min must be a number");if(!Number.isFinite(lt))throw new TypeError("max must be a number");if(at>=lt)throw new RangeError("min must be smaller than max");let st=new Matrix(this.rows,this.columns);for(let ct=0;ct<this.columns;ct++){const ut=this.getColumn(ct);ut.length&&rescale(ut,{min:at,max:lt,output:ut}),st.setColumn(ct,ut)}return st}flipRows(){const it=Math.ceil(this.columns/2);for(let at=0;at<this.rows;at++)for(let lt=0;lt<it;lt++){let st=this.get(at,lt),ct=this.get(at,this.columns-1-lt);this.set(at,lt,ct),this.set(at,this.columns-1-lt,st)}return this}flipColumns(){const it=Math.ceil(this.rows/2);for(let at=0;at<this.columns;at++)for(let lt=0;lt<it;lt++){let st=this.get(lt,at),ct=this.get(this.rows-1-lt,at);this.set(lt,at,ct),this.set(this.rows-1-lt,at,st)}return this}kroneckerProduct(it){it=Matrix.checkMatrix(it);let at=this.rows,lt=this.columns,st=it.rows,ct=it.columns,ut=new Matrix(at*st,lt*ct);for(let ft=0;ft<at;ft++)for(let dt=0;dt<lt;dt++)for(let pt=0;pt<st;pt++)for(let ht=0;ht<ct;ht++)ut.set(st*ft+pt,ct*dt+ht,this.get(ft,dt)*it.get(pt,ht));return ut}kroneckerSum(it){if(it=Matrix.checkMatrix(it),!this.isSquare()||!it.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let at=this.rows,lt=it.rows,st=this.kroneckerProduct(Matrix.eye(lt,lt)),ct=Matrix.eye(at,at).kroneckerProduct(it);return st.add(ct)}transpose(){let it=new Matrix(this.columns,this.rows);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)it.set(lt,at,this.get(at,lt));return it}sortRows(it=compareNumbers){for(let at=0;at<this.rows;at++)this.setRow(at,this.getRow(at).sort(it));return this}sortColumns(it=compareNumbers){for(let at=0;at<this.columns;at++)this.setColumn(at,this.getColumn(at).sort(it));return this}subMatrix(it,at,lt,st){checkRange$1(this,it,at,lt,st);let ct=new Matrix(at-it+1,st-lt+1);for(let ut=it;ut<=at;ut++)for(let ft=lt;ft<=st;ft++)ct.set(ut-it,ft-lt,this.get(ut,ft));return ct}subMatrixRow(it,at,lt){if(at===void 0&&(at=0),lt===void 0&&(lt=this.columns-1),at>lt||at<0||at>=this.columns||lt<0||lt>=this.columns)throw new RangeError("Argument out of range");let st=new Matrix(it.length,lt-at+1);for(let ct=0;ct<it.length;ct++)for(let ut=at;ut<=lt;ut++){if(it[ct]<0||it[ct]>=this.rows)throw new RangeError(`Row index out of range: ${it[ct]}`);st.set(ct,ut-at,this.get(it[ct],ut))}return st}subMatrixColumn(it,at,lt){if(at===void 0&&(at=0),lt===void 0&&(lt=this.rows-1),at>lt||at<0||at>=this.rows||lt<0||lt>=this.rows)throw new RangeError("Argument out of range");let st=new Matrix(lt-at+1,it.length);for(let ct=0;ct<it.length;ct++)for(let ut=at;ut<=lt;ut++){if(it[ct]<0||it[ct]>=this.columns)throw new RangeError(`Column index out of range: ${it[ct]}`);st.set(ut-at,ct,this.get(ut,it[ct]))}return st}setSubMatrix(it,at,lt){if(it=Matrix.checkMatrix(it),it.isEmpty())return this;let st=at+it.rows-1,ct=lt+it.columns-1;checkRange$1(this,at,st,lt,ct);for(let ut=0;ut<it.rows;ut++)for(let ft=0;ft<it.columns;ft++)this.set(at+ut,lt+ft,it.get(ut,ft));return this}selection(it,at){checkRowIndices(this,it),checkColumnIndices(this,at);let lt=new Matrix(it.length,at.length);for(let st=0;st<it.length;st++){let ct=it[st];for(let ut=0;ut<at.length;ut++){let ft=at[ut];lt.set(st,ut,this.get(ct,ft))}}return lt}trace(){let it=Math.min(this.rows,this.columns),at=0;for(let lt=0;lt<it;lt++)at+=this.get(lt,lt);return at}clone(){let it=new Matrix(this.rows,this.columns);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)it.set(at,lt,this.get(at,lt));return it}sum(it){switch(it){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${it}`)}}product(it){switch(it){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${it}`)}}mean(it){const at=this.sum(it);switch(it){case"row":{for(let lt=0;lt<this.rows;lt++)at[lt]/=this.columns;return at}case"column":{for(let lt=0;lt<this.columns;lt++)at[lt]/=this.rows;return at}case void 0:return at/this.size;default:throw new Error(`invalid option: ${it}`)}}variance(it,at={}){if(typeof it=="object"&&(at=it,it=void 0),typeof at!="object")throw new TypeError("options must be an object");const{unbiased:lt=!0,mean:st=this.mean(it)}=at;if(typeof lt!="boolean")throw new TypeError("unbiased must be a boolean");switch(it){case"row":{if(!isAnyArray(st))throw new TypeError("mean must be an array");return varianceByRow(this,lt,st)}case"column":{if(!isAnyArray(st))throw new TypeError("mean must be an array");return varianceByColumn(this,lt,st)}case void 0:{if(typeof st!="number")throw new TypeError("mean must be a number");return varianceAll(this,lt,st)}default:throw new Error(`invalid option: ${it}`)}}standardDeviation(it,at){typeof it=="object"&&(at=it,it=void 0);const lt=this.variance(it,at);if(it===void 0)return Math.sqrt(lt);for(let st=0;st<lt.length;st++)lt[st]=Math.sqrt(lt[st]);return lt}center(it,at={}){if(typeof it=="object"&&(at=it,it=void 0),typeof at!="object")throw new TypeError("options must be an object");const{center:lt=this.mean(it)}=at;switch(it){case"row":{if(!isAnyArray(lt))throw new TypeError("center must be an array");return centerByRow(this,lt),this}case"column":{if(!isAnyArray(lt))throw new TypeError("center must be an array");return centerByColumn(this,lt),this}case void 0:{if(typeof lt!="number")throw new TypeError("center must be a number");return centerAll(this,lt),this}default:throw new Error(`invalid option: ${it}`)}}scale(it,at={}){if(typeof it=="object"&&(at=it,it=void 0),typeof at!="object")throw new TypeError("options must be an object");let lt=at.scale;switch(it){case"row":{if(lt===void 0)lt=getScaleByRow(this);else if(!isAnyArray(lt))throw new TypeError("scale must be an array");return scaleByRow(this,lt),this}case"column":{if(lt===void 0)lt=getScaleByColumn(this);else if(!isAnyArray(lt))throw new TypeError("scale must be an array");return scaleByColumn(this,lt),this}case void 0:{if(lt===void 0)lt=getScaleAll(this);else if(typeof lt!="number")throw new TypeError("scale must be a number");return scaleAll(this,lt),this}default:throw new Error(`invalid option: ${it}`)}}toString(it){return inspectMatrixWithOptions(this,it)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(rt,it){return rt-it}function isArrayOfNumbers(rt){return rt.every(it=>typeof it=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;class Matrix extends AbstractMatrix{constructor(it,at){if(super(),Matrix.isMatrix(it))return it.clone();if(Number.isInteger(it)&&it>=0)if(this.data=[],Number.isInteger(at)&&at>=0)for(let lt=0;lt<it;lt++)this.data.push(new Float64Array(at));else throw new TypeError("nColumns must be a positive integer");else if(isAnyArray(it)){const lt=it;if(it=lt.length,at=it?lt[0].length:0,typeof at!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let st=0;st<it;st++){if(lt[st].length!==at)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(lt[st]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(lt[st]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=it,this.columns=at}set(it,at,lt){return this.data[it][at]=lt,this}get(it,at){return this.data[it][at]}removeRow(it){return checkRowIndex(this,it),this.data.splice(it,1),this.rows-=1,this}addRow(it,at){return at===void 0&&(at=it,it=this.rows),checkRowIndex(this,it,!0),at=Float64Array.from(checkRowVector(this,at)),this.data.splice(it,0,at),this.rows+=1,this}removeColumn(it){checkColumnIndex(this,it);for(let at=0;at<this.rows;at++){const lt=new Float64Array(this.columns-1);for(let st=0;st<it;st++)lt[st]=this.data[at][st];for(let st=it+1;st<this.columns;st++)lt[st-1]=this.data[at][st];this.data[at]=lt}return this.columns-=1,this}addColumn(it,at){typeof at>"u"&&(at=it,it=this.columns),checkColumnIndex(this,it,!0),at=checkColumnVector(this,at);for(let lt=0;lt<this.rows;lt++){const st=new Float64Array(this.columns+1);let ct=0;for(;ct<it;ct++)st[ct]=this.data[lt][ct];for(st[ct++]=at[lt];ct<this.columns+1;ct++)st[ct]=this.data[lt][ct-1];this.data[lt]=st}return this.columns+=1,this}}installMathOperations(AbstractMatrix,Matrix);class WrapperMatrix2D extends AbstractMatrix{constructor(it){super(),this.data=it,this.rows=it.length,this.columns=it[0].length}set(it,at,lt){return this.data[it][at]=lt,this}get(it,at){return this.data[it][at]}}class LuDecomposition{constructor(it){it=WrapperMatrix2D.checkMatrix(it);let at=it.clone(),lt=at.rows,st=at.columns,ct=new Float64Array(lt),ut=1,ft,dt,pt,ht,gt,mt,xt,vt,$t;for(ft=0;ft<lt;ft++)ct[ft]=ft;for(vt=new Float64Array(lt),dt=0;dt<st;dt++){for(ft=0;ft<lt;ft++)vt[ft]=at.get(ft,dt);for(ft=0;ft<lt;ft++){for($t=Math.min(ft,dt),gt=0,pt=0;pt<$t;pt++)gt+=at.get(ft,pt)*vt[pt];vt[ft]-=gt,at.set(ft,dt,vt[ft])}for(ht=dt,ft=dt+1;ft<lt;ft++)Math.abs(vt[ft])>Math.abs(vt[ht])&&(ht=ft);if(ht!==dt){for(pt=0;pt<st;pt++)mt=at.get(ht,pt),at.set(ht,pt,at.get(dt,pt)),at.set(dt,pt,mt);xt=ct[ht],ct[ht]=ct[dt],ct[dt]=xt,ut=-ut}if(dt<lt&&at.get(dt,dt)!==0)for(ft=dt+1;ft<lt;ft++)at.set(ft,dt,at.get(ft,dt)/at.get(dt,dt))}this.LU=at,this.pivotVector=ct,this.pivotSign=ut}isSingular(){let it=this.LU,at=it.columns;for(let lt=0;lt<at;lt++)if(it.get(lt,lt)===0)return!0;return!1}solve(it){it=Matrix.checkMatrix(it);let at=this.LU;if(at.rows!==it.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let st=it.columns,ct=it.subMatrixRow(this.pivotVector,0,st-1),ut=at.columns,ft,dt,pt;for(pt=0;pt<ut;pt++)for(ft=pt+1;ft<ut;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt));for(pt=ut-1;pt>=0;pt--){for(dt=0;dt<st;dt++)ct.set(pt,dt,ct.get(pt,dt)/at.get(pt,pt));for(ft=0;ft<pt;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt))}return ct}get determinant(){let it=this.LU;if(!it.isSquare())throw new Error("Matrix must be square");let at=this.pivotSign,lt=it.columns;for(let st=0;st<lt;st++)at*=it.get(st,st);return at}get lowerTriangularMatrix(){let it=this.LU,at=it.rows,lt=it.columns,st=new Matrix(at,lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)ct>ut?st.set(ct,ut,it.get(ct,ut)):ct===ut?st.set(ct,ut,1):st.set(ct,ut,0);return st}get upperTriangularMatrix(){let it=this.LU,at=it.rows,lt=it.columns,st=new Matrix(at,lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)ct<=ut?st.set(ct,ut,it.get(ct,ut)):st.set(ct,ut,0);return st}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(rt,it){let at=0;return Math.abs(rt)>Math.abs(it)?(at=it/rt,Math.abs(rt)*Math.sqrt(1+at*at)):it!==0?(at=rt/it,Math.abs(it)*Math.sqrt(1+at*at)):0}class QrDecomposition{constructor(it){it=WrapperMatrix2D.checkMatrix(it);let at=it.clone(),lt=it.rows,st=it.columns,ct=new Float64Array(st),ut,ft,dt,pt;for(dt=0;dt<st;dt++){let ht=0;for(ut=dt;ut<lt;ut++)ht=hypotenuse$1(ht,at.get(ut,dt));if(ht!==0){for(at.get(dt,dt)<0&&(ht=-ht),ut=dt;ut<lt;ut++)at.set(ut,dt,at.get(ut,dt)/ht);for(at.set(dt,dt,at.get(dt,dt)+1),ft=dt+1;ft<st;ft++){for(pt=0,ut=dt;ut<lt;ut++)pt+=at.get(ut,dt)*at.get(ut,ft);for(pt=-pt/at.get(dt,dt),ut=dt;ut<lt;ut++)at.set(ut,ft,at.get(ut,ft)+pt*at.get(ut,dt))}}ct[dt]=-ht}this.QR=at,this.Rdiag=ct}solve(it){it=Matrix.checkMatrix(it);let at=this.QR,lt=at.rows;if(it.rows!==lt)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let st=it.columns,ct=it.clone(),ut=at.columns,ft,dt,pt,ht;for(pt=0;pt<ut;pt++)for(dt=0;dt<st;dt++){for(ht=0,ft=pt;ft<lt;ft++)ht+=at.get(ft,pt)*ct.get(ft,dt);for(ht=-ht/at.get(pt,pt),ft=pt;ft<lt;ft++)ct.set(ft,dt,ct.get(ft,dt)+ht*at.get(ft,pt))}for(pt=ut-1;pt>=0;pt--){for(dt=0;dt<st;dt++)ct.set(pt,dt,ct.get(pt,dt)/this.Rdiag[pt]);for(ft=0;ft<pt;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt))}return ct.subMatrix(0,ut-1,0,st-1)}isFullRank(){let it=this.QR.columns;for(let at=0;at<it;at++)if(this.Rdiag[at]===0)return!1;return!0}get upperTriangularMatrix(){let it=this.QR,at=it.columns,lt=new Matrix(at,at),st,ct;for(st=0;st<at;st++)for(ct=0;ct<at;ct++)st<ct?lt.set(st,ct,it.get(st,ct)):st===ct?lt.set(st,ct,this.Rdiag[st]):lt.set(st,ct,0);return lt}get orthogonalMatrix(){let it=this.QR,at=it.rows,lt=it.columns,st=new Matrix(at,lt),ct,ut,ft,dt;for(ft=lt-1;ft>=0;ft--){for(ct=0;ct<at;ct++)st.set(ct,ft,0);for(st.set(ft,ft,1),ut=ft;ut<lt;ut++)if(it.get(ft,ft)!==0){for(dt=0,ct=ft;ct<at;ct++)dt+=it.get(ct,ft)*st.get(ct,ut);for(dt=-dt/it.get(ft,ft),ct=ft;ct<at;ct++)st.set(ct,ut,st.get(ct,ut)+dt*it.get(ct,ft))}}return st}}class SingularValueDecomposition{constructor(it,at={}){if(it=WrapperMatrix2D.checkMatrix(it),it.isEmpty())throw new Error("Matrix must be non-empty");let lt=it.rows,st=it.columns;const{computeLeftSingularVectors:ct=!0,computeRightSingularVectors:ut=!0,autoTranspose:ft=!1}=at;let dt=!!ct,pt=!!ut,ht=!1,gt;if(lt<st)if(!ft)gt=it.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{gt=it.transpose(),lt=gt.rows,st=gt.columns,ht=!0;let Ct=dt;dt=pt,pt=Ct}else gt=it.clone();let mt=Math.min(lt,st),xt=Math.min(lt+1,st),vt=new Float64Array(xt),$t=new Matrix(lt,mt),_t=new Matrix(st,st),yt=new Float64Array(st),Et=new Float64Array(lt),wt=new Float64Array(xt);for(let Ct=0;Ct<xt;Ct++)wt[Ct]=Ct;let bt=Math.min(lt-1,st),St=Math.max(0,Math.min(st-2,lt)),Tt=Math.max(bt,St);for(let Ct=0;Ct<Tt;Ct++){if(Ct<bt){vt[Ct]=0;for(let Mt=Ct;Mt<lt;Mt++)vt[Ct]=hypotenuse$1(vt[Ct],gt.get(Mt,Ct));if(vt[Ct]!==0){gt.get(Ct,Ct)<0&&(vt[Ct]=-vt[Ct]);for(let Mt=Ct;Mt<lt;Mt++)gt.set(Mt,Ct,gt.get(Mt,Ct)/vt[Ct]);gt.set(Ct,Ct,gt.get(Ct,Ct)+1)}vt[Ct]=-vt[Ct]}for(let Mt=Ct+1;Mt<st;Mt++){if(Ct<bt&&vt[Ct]!==0){let Ot=0;for(let Nt=Ct;Nt<lt;Nt++)Ot+=gt.get(Nt,Ct)*gt.get(Nt,Mt);Ot=-Ot/gt.get(Ct,Ct);for(let Nt=Ct;Nt<lt;Nt++)gt.set(Nt,Mt,gt.get(Nt,Mt)+Ot*gt.get(Nt,Ct))}yt[Mt]=gt.get(Ct,Mt)}if(dt&&Ct<bt)for(let Mt=Ct;Mt<lt;Mt++)$t.set(Mt,Ct,gt.get(Mt,Ct));if(Ct<St){yt[Ct]=0;for(let Mt=Ct+1;Mt<st;Mt++)yt[Ct]=hypotenuse$1(yt[Ct],yt[Mt]);if(yt[Ct]!==0){yt[Ct+1]<0&&(yt[Ct]=0-yt[Ct]);for(let Mt=Ct+1;Mt<st;Mt++)yt[Mt]/=yt[Ct];yt[Ct+1]+=1}if(yt[Ct]=-yt[Ct],Ct+1<lt&&yt[Ct]!==0){for(let Mt=Ct+1;Mt<lt;Mt++)Et[Mt]=0;for(let Mt=Ct+1;Mt<lt;Mt++)for(let Ot=Ct+1;Ot<st;Ot++)Et[Mt]+=yt[Ot]*gt.get(Mt,Ot);for(let Mt=Ct+1;Mt<st;Mt++){let Ot=-yt[Mt]/yt[Ct+1];for(let Nt=Ct+1;Nt<lt;Nt++)gt.set(Nt,Mt,gt.get(Nt,Mt)+Ot*Et[Nt])}}if(pt)for(let Mt=Ct+1;Mt<st;Mt++)_t.set(Mt,Ct,yt[Mt])}}let Rt=Math.min(st,lt+1);if(bt<st&&(vt[bt]=gt.get(bt,bt)),lt<Rt&&(vt[Rt-1]=0),St+1<Rt&&(yt[St]=gt.get(St,Rt-1)),yt[Rt-1]=0,dt){for(let Ct=bt;Ct<mt;Ct++){for(let Mt=0;Mt<lt;Mt++)$t.set(Mt,Ct,0);$t.set(Ct,Ct,1)}for(let Ct=bt-1;Ct>=0;Ct--)if(vt[Ct]!==0){for(let Mt=Ct+1;Mt<mt;Mt++){let Ot=0;for(let Nt=Ct;Nt<lt;Nt++)Ot+=$t.get(Nt,Ct)*$t.get(Nt,Mt);Ot=-Ot/$t.get(Ct,Ct);for(let Nt=Ct;Nt<lt;Nt++)$t.set(Nt,Mt,$t.get(Nt,Mt)+Ot*$t.get(Nt,Ct))}for(let Mt=Ct;Mt<lt;Mt++)$t.set(Mt,Ct,-$t.get(Mt,Ct));$t.set(Ct,Ct,1+$t.get(Ct,Ct));for(let Mt=0;Mt<Ct-1;Mt++)$t.set(Mt,Ct,0)}else{for(let Mt=0;Mt<lt;Mt++)$t.set(Mt,Ct,0);$t.set(Ct,Ct,1)}}if(pt)for(let Ct=st-1;Ct>=0;Ct--){if(Ct<St&&yt[Ct]!==0)for(let Mt=Ct+1;Mt<st;Mt++){let Ot=0;for(let Nt=Ct+1;Nt<st;Nt++)Ot+=_t.get(Nt,Ct)*_t.get(Nt,Mt);Ot=-Ot/_t.get(Ct+1,Ct);for(let Nt=Ct+1;Nt<st;Nt++)_t.set(Nt,Mt,_t.get(Nt,Mt)+Ot*_t.get(Nt,Ct))}for(let Mt=0;Mt<st;Mt++)_t.set(Mt,Ct,0);_t.set(Ct,Ct,1)}let kt=Rt-1,At=Number.EPSILON;for(;Rt>0;){let Ct,Mt;for(Ct=Rt-2;Ct>=-1&&Ct!==-1;Ct--){const Ot=Number.MIN_VALUE+At*Math.abs(vt[Ct]+Math.abs(vt[Ct+1]));if(Math.abs(yt[Ct])<=Ot||Number.isNaN(yt[Ct])){yt[Ct]=0;break}}if(Ct===Rt-2)Mt=4;else{let Ot;for(Ot=Rt-1;Ot>=Ct&&Ot!==Ct;Ot--){let Nt=(Ot!==Rt?Math.abs(yt[Ot]):0)+(Ot!==Ct+1?Math.abs(yt[Ot-1]):0);if(Math.abs(vt[Ot])<=At*Nt){vt[Ot]=0;break}}Ot===Ct?Mt=3:Ot===Rt-1?Mt=1:(Mt=2,Ct=Ot)}switch(Ct++,Mt){case 1:{let Ot=yt[Rt-2];yt[Rt-2]=0;for(let Nt=Rt-2;Nt>=Ct;Nt--){let It=hypotenuse$1(vt[Nt],Ot),Dt=vt[Nt]/It,zt=Ot/It;if(vt[Nt]=It,Nt!==Ct&&(Ot=-zt*yt[Nt-1],yt[Nt-1]=Dt*yt[Nt-1]),pt)for(let Yt=0;Yt<st;Yt++)It=Dt*_t.get(Yt,Nt)+zt*_t.get(Yt,Rt-1),_t.set(Yt,Rt-1,-zt*_t.get(Yt,Nt)+Dt*_t.get(Yt,Rt-1)),_t.set(Yt,Nt,It)}break}case 2:{let Ot=yt[Ct-1];yt[Ct-1]=0;for(let Nt=Ct;Nt<Rt;Nt++){let It=hypotenuse$1(vt[Nt],Ot),Dt=vt[Nt]/It,zt=Ot/It;if(vt[Nt]=It,Ot=-zt*yt[Nt],yt[Nt]=Dt*yt[Nt],dt)for(let Yt=0;Yt<lt;Yt++)It=Dt*$t.get(Yt,Nt)+zt*$t.get(Yt,Ct-1),$t.set(Yt,Ct-1,-zt*$t.get(Yt,Nt)+Dt*$t.get(Yt,Ct-1)),$t.set(Yt,Nt,It)}break}case 3:{const Ot=Math.max(Math.abs(vt[Rt-1]),Math.abs(vt[Rt-2]),Math.abs(yt[Rt-2]),Math.abs(vt[Ct]),Math.abs(yt[Ct])),Nt=vt[Rt-1]/Ot,It=vt[Rt-2]/Ot,Dt=yt[Rt-2]/Ot,zt=vt[Ct]/Ot,Yt=yt[Ct]/Ot,Pt=((It+Nt)*(It-Nt)+Dt*Dt)/2,Lt=Nt*Dt*(Nt*Dt);let Ft=0;(Pt!==0||Lt!==0)&&(Pt<0?Ft=0-Math.sqrt(Pt*Pt+Lt):Ft=Math.sqrt(Pt*Pt+Lt),Ft=Lt/(Pt+Ft));let qt=(zt+Nt)*(zt-Nt)+Ft,Gt=zt*Yt;for(let Ut=Ct;Ut<Rt-1;Ut++){let Vt=hypotenuse$1(qt,Gt);Vt===0&&(Vt=Number.MIN_VALUE);let Wt=qt/Vt,ln=Gt/Vt;if(Ut!==Ct&&(yt[Ut-1]=Vt),qt=Wt*vt[Ut]+ln*yt[Ut],yt[Ut]=Wt*yt[Ut]-ln*vt[Ut],Gt=ln*vt[Ut+1],vt[Ut+1]=Wt*vt[Ut+1],pt)for(let pn=0;pn<st;pn++)Vt=Wt*_t.get(pn,Ut)+ln*_t.get(pn,Ut+1),_t.set(pn,Ut+1,-ln*_t.get(pn,Ut)+Wt*_t.get(pn,Ut+1)),_t.set(pn,Ut,Vt);if(Vt=hypotenuse$1(qt,Gt),Vt===0&&(Vt=Number.MIN_VALUE),Wt=qt/Vt,ln=Gt/Vt,vt[Ut]=Vt,qt=Wt*yt[Ut]+ln*vt[Ut+1],vt[Ut+1]=-ln*yt[Ut]+Wt*vt[Ut+1],Gt=ln*yt[Ut+1],yt[Ut+1]=Wt*yt[Ut+1],dt&&Ut<lt-1)for(let pn=0;pn<lt;pn++)Vt=Wt*$t.get(pn,Ut)+ln*$t.get(pn,Ut+1),$t.set(pn,Ut+1,-ln*$t.get(pn,Ut)+Wt*$t.get(pn,Ut+1)),$t.set(pn,Ut,Vt)}yt[Rt-2]=qt;break}case 4:{if(vt[Ct]<=0&&(vt[Ct]=vt[Ct]<0?-vt[Ct]:0,pt))for(let Ot=0;Ot<=kt;Ot++)_t.set(Ot,Ct,-_t.get(Ot,Ct));for(;Ct<kt&&!(vt[Ct]>=vt[Ct+1]);){let Ot=vt[Ct];if(vt[Ct]=vt[Ct+1],vt[Ct+1]=Ot,pt&&Ct<st-1)for(let Nt=0;Nt<st;Nt++)Ot=_t.get(Nt,Ct+1),_t.set(Nt,Ct+1,_t.get(Nt,Ct)),_t.set(Nt,Ct,Ot);if(dt&&Ct<lt-1)for(let Nt=0;Nt<lt;Nt++)Ot=$t.get(Nt,Ct+1),$t.set(Nt,Ct+1,$t.get(Nt,Ct)),$t.set(Nt,Ct,Ot);Ct++}Rt--;break}}}if(ht){let Ct=_t;_t=$t,$t=Ct}this.m=lt,this.n=st,this.s=vt,this.U=$t,this.V=_t}solve(it){let at=it,lt=this.threshold,st=this.s.length,ct=Matrix.zeros(st,st);for(let mt=0;mt<st;mt++)Math.abs(this.s[mt])<=lt?ct.set(mt,mt,0):ct.set(mt,mt,1/this.s[mt]);let ut=this.U,ft=this.rightSingularVectors,dt=ft.mmul(ct),pt=ft.rows,ht=ut.rows,gt=Matrix.zeros(pt,ht);for(let mt=0;mt<pt;mt++)for(let xt=0;xt<ht;xt++){let vt=0;for(let $t=0;$t<st;$t++)vt+=dt.get(mt,$t)*ut.get(xt,$t);gt.set(mt,xt,vt)}return gt.mmul(at)}solveForDiagonal(it){return this.solve(Matrix.diag(it))}inverse(){let it=this.V,at=this.threshold,lt=it.rows,st=it.columns,ct=new Matrix(lt,this.s.length);for(let ht=0;ht<lt;ht++)for(let gt=0;gt<st;gt++)Math.abs(this.s[gt])>at&&ct.set(ht,gt,it.get(ht,gt)/this.s[gt]);let ut=this.U,ft=ut.rows,dt=ut.columns,pt=new Matrix(lt,ft);for(let ht=0;ht<lt;ht++)for(let gt=0;gt<ft;gt++){let mt=0;for(let xt=0;xt<dt;xt++)mt+=ct.get(ht,xt)*ut.get(gt,xt);pt.set(ht,gt,mt)}return pt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let it=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,at=0,lt=this.s;for(let st=0,ct=lt.length;st<ct;st++)lt[st]>it&&at++;return at}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix.diag(this.s)}}function inverse(rt,it=!1){return rt=WrapperMatrix2D.checkMatrix(rt),it?new SingularValueDecomposition(rt).inverse():solve(rt,Matrix.eye(rt.rows))}function solve(rt,it,at=!1){return rt=WrapperMatrix2D.checkMatrix(rt),it=WrapperMatrix2D.checkMatrix(it),at?new SingularValueDecomposition(rt).solve(it):rt.isSquare()?new LuDecomposition(rt).solve(it):new QrDecomposition(rt).solve(it)}function pseudoInverse(rt,it=Number.EPSILON){if(rt=Matrix.checkMatrix(rt),rt.isEmpty())return rt.transpose();let at=new SingularValueDecomposition(rt,{autoTranspose:!0}),lt=at.leftSingularVectors,st=at.rightSingularVectors,ct=at.diagonal;for(let ut=0;ut<ct.length;ut++)Math.abs(ct[ut])>it?ct[ut]=1/ct[ut]:ct[ut]=0;return st.mmul(Matrix.diag(ct).mmul(lt.transpose()))}class MultivariateLinearRegression{constructor(it,at,lt={}){const{intercept:st=!0,statistics:ct=!0}=lt;if(this.statistics=ct,it===!0)this.weights=at.weights,this.inputs=at.inputs,this.outputs=at.outputs,this.intercept=at.intercept;else{it=new Matrix(it),at=new Matrix(at),st&&it.addColumn(new Array(it.rows).fill(1));let ut=it.transpose();const ft=ut.mmul(it),dt=ut.mmul(at),pt=new SingularValueDecomposition(ft).inverse(),ht=dt.transpose().mmul(pt).transpose();if(this.weights=ht.to2DArray(),this.inputs=it.columns,this.outputs=at.columns,st&&this.inputs--,this.intercept=st,ct){const gt=it.mmul(ht),xt=at.clone().addM(gt.neg()).to2DArray().map(vt=>Math.pow(vt[0],2)).reduce((vt,$t)=>vt+$t)/(at.rows-it.columns);this.stdError=Math.sqrt(xt),this.stdErrorMatrix=pseudoInverse(ft).mul(xt),this.stdErrors=this.stdErrorMatrix.diagonal().map(vt=>Math.sqrt(vt)),this.tStats=this.weights.map((vt,$t)=>this.stdErrors[$t]===0?0:vt[0]/this.stdErrors[$t])}}}predict(it){if(Array.isArray(it)){if(typeof it[0]=="number")return this._predict(it);if(Array.isArray(it[0])){const at=new Array(it.length);for(let lt=0;lt<it.length;lt++)at[lt]=this._predict(it[lt]);return at}}else if(Matrix.isMatrix(it)){const at=new Matrix(it.rows,this.outputs);for(let lt=0;lt<it.rows;lt++)at.setRow(lt,this._predict(it.getRow(lt)));return at}throw new TypeError("x must be a matrix or array of numbers")}_predict(it){const at=new Array(this.outputs);if(this.intercept)for(let lt=0;lt<this.outputs;lt++)at[lt]=this.weights[this.inputs][lt];else at.fill(0);for(let lt=0;lt<this.inputs;lt++)for(let st=0;st<this.outputs;st++)at[st]+=this.weights[lt][st]*it[lt];return at}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((it,at)=>({label:at===this.weights.length-1?"Intercept":`X Variable ${at+1}`,coefficients:it,standardError:this.stdErrors[at],tStat:this.tStats[at]}))}:void 0}}static load(it){if(it.name!=="multivariateLinearRegression")throw new Error("not a MLR model");return new MultivariateLinearRegression(!0,it)}}function getClamp(rt){if(rt.maxValue===255)return clamp255;if(rt.maxValue===65535)return clamp65535;throw new Error(`unknown maxValue: ${rt.maxValue}`)}function clamp255(rt){return Math.min(Math.max(rt,0),255)}function clamp65535(rt){return Math.min(Math.max(rt,0),65535)}var r$8={grad:.9,turn:360,rad:360/(2*Math.PI)},t$7=function(rt){return typeof rt=="string"?rt.length>0:typeof rt=="number"},n$8=function(rt,it,at){return it===void 0&&(it=0),at===void 0&&(at=Math.pow(10,it)),Math.round(at*rt)/at+0},e$5=function(rt,it,at){return it===void 0&&(it=0),at===void 0&&(at=1),rt>at?at:rt>it?rt:it},u$a=function(rt){return(rt=isFinite(rt)?rt%360:0)>0?rt:rt+360},a$6=function(rt){return{r:e$5(rt.r,0,255),g:e$5(rt.g,0,255),b:e$5(rt.b,0,255),a:e$5(rt.a)}},o$9=function(rt){return{r:n$8(rt.r),g:n$8(rt.g),b:n$8(rt.b),a:n$8(rt.a,3)}},i$8=/^#([0-9a-f]{3,8})$/i,s$8=function(rt){var it=rt.toString(16);return it.length<2?"0"+it:it},h$8=function(rt){var it=rt.r,at=rt.g,lt=rt.b,st=rt.a,ct=Math.max(it,at,lt),ut=ct-Math.min(it,at,lt),ft=ut?ct===it?(at-lt)/ut:ct===at?2+(lt-it)/ut:4+(it-at)/ut:0;return{h:60*(ft<0?ft+6:ft),s:ct?ut/ct*100:0,v:ct/255*100,a:st}},b$4=function(rt){var it=rt.h,at=rt.s,lt=rt.v,st=rt.a;it=it/360*6,at/=100,lt/=100;var ct=Math.floor(it),ut=lt*(1-at),ft=lt*(1-(it-ct)*at),dt=lt*(1-(1-it+ct)*at),pt=ct%6;return{r:255*[lt,ft,ut,ut,dt,lt][pt],g:255*[dt,lt,lt,ft,ut,ut][pt],b:255*[ut,ut,dt,lt,lt,ft][pt],a:st}},g$8=function(rt){return{h:u$a(rt.h),s:e$5(rt.s,0,100),l:e$5(rt.l,0,100),a:e$5(rt.a)}},d$7=function(rt){return{h:n$8(rt.h),s:n$8(rt.s),l:n$8(rt.l),a:n$8(rt.a,3)}},f$6=function(rt){return b$4((at=(it=rt).s,{h:it.h,s:(at*=((lt=it.l)<50?lt:100-lt)/100)>0?2*at/(lt+at)*100:0,v:lt+at,a:it.a}));var it,at,lt},c$7=function(rt){return{h:(it=h$8(rt)).h,s:(st=(200-(at=it.s))*(lt=it.v)/100)>0&&st<200?at*lt/100/(st<=100?st:200-st)*100:0,l:st/2,a:it.a};var it,at,lt,st},l$8=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$6=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$8={string:[[function(rt){var it=i$8.exec(rt);return it?(rt=it[1]).length<=4?{r:parseInt(rt[0]+rt[0],16),g:parseInt(rt[1]+rt[1],16),b:parseInt(rt[2]+rt[2],16),a:rt.length===4?n$8(parseInt(rt[3]+rt[3],16)/255,2):1}:rt.length===6||rt.length===8?{r:parseInt(rt.substr(0,2),16),g:parseInt(rt.substr(2,2),16),b:parseInt(rt.substr(4,2),16),a:rt.length===8?n$8(parseInt(rt.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(rt){var it=v$4.exec(rt)||m$6.exec(rt);return it?it[2]!==it[4]||it[4]!==it[6]?null:a$6({r:Number(it[1])/(it[2]?100/255:1),g:Number(it[3])/(it[4]?100/255:1),b:Number(it[5])/(it[6]?100/255:1),a:it[7]===void 0?1:Number(it[7])/(it[8]?100:1)}):null},"rgb"],[function(rt){var it=l$8.exec(rt)||p$9.exec(rt);if(!it)return null;var at,lt,st=g$8({h:(at=it[1],lt=it[2],lt===void 0&&(lt="deg"),Number(at)*(r$8[lt]||1)),s:Number(it[3]),l:Number(it[4]),a:it[5]===void 0?1:Number(it[5])/(it[6]?100:1)});return f$6(st)},"hsl"]],object:[[function(rt){var it=rt.r,at=rt.g,lt=rt.b,st=rt.a,ct=st===void 0?1:st;return t$7(it)&&t$7(at)&&t$7(lt)?a$6({r:Number(it),g:Number(at),b:Number(lt),a:Number(ct)}):null},"rgb"],[function(rt){var it=rt.h,at=rt.s,lt=rt.l,st=rt.a,ct=st===void 0?1:st;if(!t$7(it)||!t$7(at)||!t$7(lt))return null;var ut=g$8({h:Number(it),s:Number(at),l:Number(lt),a:Number(ct)});return f$6(ut)},"hsl"],[function(rt){var it=rt.h,at=rt.s,lt=rt.v,st=rt.a,ct=st===void 0?1:st;if(!t$7(it)||!t$7(at)||!t$7(lt))return null;var ut=function(ft){return{h:u$a(ft.h),s:e$5(ft.s,0,100),v:e$5(ft.v,0,100),a:e$5(ft.a)}}({h:Number(it),s:Number(at),v:Number(lt),a:Number(ct)});return b$4(ut)},"hsv"]]},N$5=function(rt,it){for(var at=0;at<it.length;at++){var lt=it[at][0](rt);if(lt)return[lt,it[at][1]]}return[null,void 0]},x$8=function(rt){return typeof rt=="string"?N$5(rt.trim(),y$8.string):typeof rt=="object"&&rt!==null?N$5(rt,y$8.object):[null,void 0]},M$3=function(rt,it){var at=c$7(rt);return{h:at.h,s:e$5(at.s+100*it,0,100),l:at.l,a:at.a}},H$4=function(rt){return(299*rt.r+587*rt.g+114*rt.b)/1e3/255},$$1=function(rt,it){var at=c$7(rt);return{h:at.h,s:at.s,l:e$5(at.l+100*it,0,100),a:at.a}},j$2=function(){function rt(it){this.parsed=x$8(it)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return rt.prototype.isValid=function(){return this.parsed!==null},rt.prototype.brightness=function(){return n$8(H$4(this.rgba),2)},rt.prototype.isDark=function(){return H$4(this.rgba)<.5},rt.prototype.isLight=function(){return H$4(this.rgba)>=.5},rt.prototype.toHex=function(){return it=o$9(this.rgba),at=it.r,lt=it.g,st=it.b,ut=(ct=it.a)<1?s$8(n$8(255*ct)):"","#"+s$8(at)+s$8(lt)+s$8(st)+ut;var it,at,lt,st,ct,ut},rt.prototype.toRgb=function(){return o$9(this.rgba)},rt.prototype.toRgbString=function(){return it=o$9(this.rgba),at=it.r,lt=it.g,st=it.b,(ct=it.a)<1?"rgba("+at+", "+lt+", "+st+", "+ct+")":"rgb("+at+", "+lt+", "+st+")";var it,at,lt,st,ct},rt.prototype.toHsl=function(){return d$7(c$7(this.rgba))},rt.prototype.toHslString=function(){return it=d$7(c$7(this.rgba)),at=it.h,lt=it.s,st=it.l,(ct=it.a)<1?"hsla("+at+", "+lt+"%, "+st+"%, "+ct+")":"hsl("+at+", "+lt+"%, "+st+"%)";var it,at,lt,st,ct},rt.prototype.toHsv=function(){return it=h$8(this.rgba),{h:n$8(it.h),s:n$8(it.s),v:n$8(it.v),a:n$8(it.a,3)};var it},rt.prototype.invert=function(){return w$8({r:255-(it=this.rgba).r,g:255-it.g,b:255-it.b,a:it.a});var it},rt.prototype.saturate=function(it){return it===void 0&&(it=.1),w$8(M$3(this.rgba,it))},rt.prototype.desaturate=function(it){return it===void 0&&(it=.1),w$8(M$3(this.rgba,-it))},rt.prototype.grayscale=function(){return w$8(M$3(this.rgba,-1))},rt.prototype.lighten=function(it){return it===void 0&&(it=.1),w$8($$1(this.rgba,it))},rt.prototype.darken=function(it){return it===void 0&&(it=.1),w$8($$1(this.rgba,-it))},rt.prototype.rotate=function(it){return it===void 0&&(it=15),this.hue(this.hue()+it)},rt.prototype.alpha=function(it){return typeof it=="number"?w$8({r:(at=this.rgba).r,g:at.g,b:at.b,a:it}):n$8(this.rgba.a,3);var at},rt.prototype.hue=function(it){var at=c$7(this.rgba);return typeof it=="number"?w$8({h:it,s:at.s,l:at.l,a:at.a}):n$8(at.h)},rt.prototype.isEqual=function(it){return this.toHex()===w$8(it).toHex()},rt}(),w$8=function(rt){return rt instanceof j$2?rt:new j$2(rt)},S$3=[],k$6=function(rt){rt.forEach(function(it){S$3.indexOf(it)<0&&(it(j$2,y$8),S$3.push(it))})},a$5=function(rt){return typeof rt=="string"?rt.length>0:typeof rt=="number"},t$6=function(rt,it,at){return it===void 0&&(it=0),at===void 0&&(at=Math.pow(10,it)),Math.round(at*rt)/at+0},o$8=function(rt,it,at){return it===void 0&&(it=0),at===void 0&&(at=1),rt>at?at:rt>it?rt:it},r$7=function(rt){var it=rt/255;return it<.04045?it/12.92:Math.pow((it+.055)/1.055,2.4)},h$7=function(rt){return 255*(rt>.0031308?1.055*Math.pow(rt,1/2.4)-.055:12.92*rt)},n$7=96.422,p$8=100,M$2=82.521,u$9=function(rt){var it,at,lt={x:.9555766*(it=rt).x+-.0230393*it.y+.0631636*it.z,y:-.0282895*it.x+1.0099416*it.y+.0210077*it.z,z:.0122982*it.x+-.020483*it.y+1.3299098*it.z};return at={r:h$7(.032404542*lt.x-.015371385*lt.y-.004985314*lt.z),g:h$7(-.00969266*lt.x+.018760108*lt.y+41556e-8*lt.z),b:h$7(556434e-9*lt.x-.002040259*lt.y+.010572252*lt.z),a:rt.a},{r:o$8(at.r,0,255),g:o$8(at.g,0,255),b:o$8(at.b,0,255),a:o$8(at.a)}},e$4=function(rt){var it=r$7(rt.r),at=r$7(rt.g),lt=r$7(rt.b);return function(st){return{x:o$8(st.x,0,n$7),y:o$8(st.y,0,p$8),z:o$8(st.z,0,M$2),a:o$8(st.a)}}(function(st){return{x:1.0478112*st.x+.0228866*st.y+-.050127*st.z,y:.0295424*st.x+.9904844*st.y+-.0170491*st.z,z:-.0092345*st.x+.0150436*st.y+.7521316*st.z,a:st.a}}({x:100*(.4124564*it+.3575761*at+.1804375*lt),y:100*(.2126729*it+.7151522*at+.072175*lt),z:100*(.0193339*it+.119192*at+.9503041*lt),a:rt.a}))},w$7=216/24389,b$3=24389/27,i$7=function(rt){var it=rt.l,at=rt.a,lt=rt.b,st=rt.alpha,ct=st===void 0?1:st;if(!a$5(it)||!a$5(at)||!a$5(lt))return null;var ut=function(ft){return{l:o$8(ft.l,0,400),a:ft.a,b:ft.b,alpha:o$8(ft.alpha)}}({l:Number(it),a:Number(at),b:Number(lt),alpha:Number(ct)});return l$7(ut)},l$7=function(rt){var it=(rt.l+16)/116,at=rt.a/500+it,lt=it-rt.b/200;return u$9({x:(Math.pow(at,3)>w$7?Math.pow(at,3):(116*at-16)/b$3)*n$7,y:(rt.l>8?Math.pow((rt.l+16)/116,3):rt.l/b$3)*p$8,z:(Math.pow(lt,3)>w$7?Math.pow(lt,3):(116*lt-16)/b$3)*M$2,a:rt.alpha})};function labPlugin(rt,it){rt.prototype.toLab=function(){return lt=e$4(this.rgba),ct=lt.y/p$8,ut=lt.z/M$2,st=(st=lt.x/n$7)>w$7?Math.cbrt(st):(b$3*st+16)/116,at={l:116*(ct=ct>w$7?Math.cbrt(ct):(b$3*ct+16)/116)-16,a:500*(st-ct),b:200*(ct-(ut=ut>w$7?Math.cbrt(ut):(b$3*ut+16)/116)),alpha:lt.a},{l:t$6(at.l,2),a:t$6(at.a,2),b:t$6(at.b,2),alpha:t$6(at.alpha,3)};var at,lt,st,ct,ut},rt.prototype.delta=function(at){at===void 0&&(at="#FFF");var lt=at instanceof rt?at:new rt(at),st=function(ct,ut){var ft=ct.l,dt=ct.a,pt=ct.b,ht=ut.l,gt=ut.a,mt=ut.b,xt=180/Math.PI,vt=Math.PI/180,$t=Math.pow(Math.pow(dt,2)+Math.pow(pt,2),.5),_t=Math.pow(Math.pow(gt,2)+Math.pow(mt,2),.5),yt=(ft+ht)/2,Et=Math.pow(($t+_t)/2,7),wt=.5*(1-Math.pow(Et/(Et+Math.pow(25,7)),.5)),bt=dt*(1+wt),St=gt*(1+wt),Tt=Math.pow(Math.pow(bt,2)+Math.pow(pt,2),.5),Rt=Math.pow(Math.pow(St,2)+Math.pow(mt,2),.5),kt=(Tt+Rt)/2,At=bt===0&&pt===0?0:Math.atan2(pt,bt)*xt,Ct=St===0&&mt===0?0:Math.atan2(mt,St)*xt;At<0&&(At+=360),Ct<0&&(Ct+=360);var Mt=Ct-At,Ot=Math.abs(Ct-At);Ot>180&&Ct<=At?Mt+=360:Ot>180&&Ct>At&&(Mt-=360);var Nt=At+Ct;Ot<=180?Nt/=2:Nt=(At+Ct<360?Nt+360:Nt-360)/2;var It=1-.17*Math.cos(vt*(Nt-30))+.24*Math.cos(2*vt*Nt)+.32*Math.cos(vt*(3*Nt+6))-.2*Math.cos(vt*(4*Nt-63)),Dt=ht-ft,zt=Rt-Tt,Yt=2*Math.sin(vt*Mt/2)*Math.pow(Tt*Rt,.5),Pt=1+.015*Math.pow(yt-50,2)/Math.pow(20+Math.pow(yt-50,2),.5),Lt=1+.045*kt,Ft=1+.015*kt*It,qt=30*Math.exp(-1*Math.pow((Nt-275)/25,2)),Gt=-2*Math.pow(Et/(Et+Math.pow(25,7)),.5)*Math.sin(2*vt*qt);return Math.pow(Math.pow(Dt/1/Pt,2)+Math.pow(zt/1/Lt,2)+Math.pow(Yt/1/Ft,2)+Gt*zt*Yt/(1*Lt*1*Ft),.5)}(this.toLab(),lt.toLab())/100;return o$8(t$6(st,3))},it.object.push([i$7,"lab"])}k$6([labPlugin]);function formatReferenceForMlr(rt,it){const at={r:[],g:[],b:[]};for(let lt of rt)at.r.push([lt.r/it]),at.g.push([lt.g/it]),at.b.push([lt.b/it]);return at}function formatInputForMlr(rt,it){const at=[];for(let lt of rt)at.push(getRegressionVariables(lt.r,lt.g,lt.b,it));return at}function correctColor(rt,it,at){if(checkProcessable(rt,"correctColor",{colorModel:[ImageColorModel.RGB,ImageColorModel.RGBA]}),it.length!==at.length)throw new Error("correctColor: number of measured colors and reference colors differ");const lt=formatInputForMlr(it,rt.maxValue),st=formatReferenceForMlr(at,rt.maxValue),ct=new MultivariateLinearRegression(lt,st.r),ut=new MultivariateLinearRegression(lt,st.g),ft=new MultivariateLinearRegression(lt,st.b),dt=Image.createFrom(rt);for(let pt=0;pt<rt.height;pt++)for(let ht=0;ht<rt.width;ht++){const gt=rt.getPixel(ht,pt),mt=getRegressionVariables(gt[0],gt[1],gt[2],rt.maxValue),xt=getClamp(rt),vt=[0,0,0],$t=ct.predict(mt)[0]*rt.maxValue,_t=ut.predict(mt)[0]*rt.maxValue,yt=ft.predict(mt)[0]*rt.maxValue;vt[0]=xt($t),vt[1]=xt(_t),vt[2]=xt(yt),rt.alpha&&(vt[3]=rt.getValue(ht,pt,3)),dt.setPixel(ht,pt,vt)}return dt}function getRegressionVariables(rt,it,at,lt){return rt/=lt,it/=lt,at/=lt,[rt,it,at,rt**2,it**2,at**2,rt**3,it**3,at**3,rt*it,rt*at,at*it]}function line$1(rt,it,at,lt,st){for(var ct=Math.abs(at-rt),ut=rt<at?1:-1,ft=-Math.abs(lt-it),dt=it<lt?1:-1,pt=ct+ft,ht;;){if(st(rt,it),ht=2*pt,ht>=ft){if(rt===at)break;pt+=ft,rt+=ut}if(ht<=ct){if(it===lt)break;pt+=ct,it+=dt}}}function circle(rt,it,at,lt){var st=-at,ct=0,ut=2-2*at;do lt(rt-st,it+ct),lt(rt-ct,it-st),lt(rt+st,it-ct),lt(rt+ct,it+st),at=ut,at<=ct&&(ut+=++ct*2+1),(at>st||ut>ct)&&(ut+=++st*2+1);while(st<0)}var ImageColorModel;(function(rt){rt.GREY="GREY",rt.GREYA="GREYA",rt.RGB="RGB",rt.RGBA="RGBA",rt.BINARY="BINARY"})(ImageColorModel||(ImageColorModel={}));const colorModels={[ImageColorModel.GREY]:{components:1,alpha:!1,channels:1},[ImageColorModel.GREYA]:{components:1,alpha:!0,channels:2},[ImageColorModel.RGB]:{components:3,alpha:!1,channels:3},[ImageColorModel.RGBA]:{components:3,alpha:!0,channels:4},[ImageColorModel.BINARY]:{components:1,alpha:!1,channels:1}};function getDefaultColor(rt){switch(rt.colorModel){case ImageColorModel.GREY:return[0];case ImageColorModel.GREYA:return[0,rt.maxValue];case ImageColorModel.RGB:return[0,0,0];case ImageColorModel.RGBA:return[0,0,0,rt.maxValue];case ImageColorModel.BINARY:return[1];default:throw new Error(`image color model ${rt.colorModel} is not compatible`)}}function drawCircleOnImage(rt,it,at,lt={}){const st=getOutputImage(rt,lt,{clone:!0}),{color:ct=getDefaultColor(st),fill:ut}=lt;if(validateColor(ct,st),checkProcessable(st,"paintPoints",{bitDepth:[8,16]}),!Number.isInteger(at))throw new Error("drawCircle: radius must be an integer");if(at<0)throw new Error("drawCircle: circle radius must be positive");return at===0?(st.setVisiblePixel(it.column,it.row,ct),st):(ut?(at===1&&st.setVisiblePixel(it.column,it.row,ut),circle(it.column,it.row,at,(ft,dt)=>{st.setVisiblePixel(ft,dt,ct),ft-1>it.column?st.drawLine({row:dt,column:ft-1},{row:dt,column:it.column},{strokeColor:ut,out:st}):ft+1<it.column&&st.drawLine({row:dt,column:ft+1},{row:dt,column:it.column},{strokeColor:ut,out:st})})):circle(it.column,it.row,at,(ft,dt)=>{st.setVisiblePixel(ft,dt,ct)}),st)}function drawLineOnImage(rt,it,at,lt={}){const st=getOutputImage(rt,lt,{clone:!0}),{strokeColor:ct=getDefaultColor(st),origin:ut={column:0,row:0}}=lt;return validateColor(ct,st),checkProcessable(st,"drawLine",{bitDepth:[8,16]}),line$1(Math.round(ut.column+it.column),Math.round(ut.row+it.row),Math.round(ut.column+at.column),Math.round(ut.row+at.row),(ft,dt)=>{st.setVisiblePixel(ft,dt,ct)}),st}function drawLineOnMask(rt,it,at,lt={}){const{origin:st={column:0,row:0}}=lt,ct=maskToOutputMask(rt,lt,{clone:!0});return line$1(Math.round(st.column+it.column),Math.round(st.row+it.row),Math.round(st.column+at.column),Math.round(st.row+at.row),(ut,ft)=>{ct.setVisiblePixel(ut,ft,[1])}),ct}function drawPolylineOnImage(rt,it,at={}){const{strokeColor:lt=getDefaultColor(rt),origin:st={column:0,row:0}}=at;checkProcessable(rt,"drawPolyline",{bitDepth:[8,16]});let ct=getOutputImage(rt,at,{clone:!0});validateColor(lt,ct);for(let ut=0;ut<it.length-1;ut++){const ft=it[ut],dt=it[ut+1];ct.drawLine(ft,dt,{out:ct,strokeColor:lt,origin:st})}return ct}function drawPolylineOnMask(rt,it,at={}){let lt=maskToOutputMask(rt,at,{clone:!0});for(let st=0;st<it.length-1;st++){const ct=it[st],ut=it[st+1];lt.drawLine(ct,ut,{out:lt,origin:at.origin})}return lt}var orientationExports={},orientation={get exports(){return orientationExports},set exports(rt){orientationExports=rt}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(rt,it,at){var lt=rt*it,st=SPLITTER*rt,ct=st-rt,ut=st-ct,ft=rt-ut,dt=SPLITTER*it,pt=dt-it,ht=dt-pt,gt=it-ht,mt=lt-ut*ht,xt=mt-ft*ht,vt=xt-ut*gt,$t=ft*gt-vt;return at?(at[0]=$t,at[1]=lt,at):[$t,lt]}var robustSum=linearExpansionSum;function scalarScalar$1(rt,it){var at=rt+it,lt=at-rt,st=at-lt,ct=it-lt,ut=rt-st,ft=ut+ct;return ft?[ft,at]:[at]}function linearExpansionSum(rt,it){var at=rt.length|0,lt=it.length|0;if(at===1&&lt===1)return scalarScalar$1(rt[0],it[0]);var st=at+lt,ct=new Array(st),ut=0,ft=0,dt=0,pt=Math.abs,ht=rt[ft],gt=pt(ht),mt=it[dt],xt=pt(mt),vt,$t;gt<xt?($t=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):($t=mt,dt+=1,dt<lt&&(mt=it[dt],xt=pt(mt))),ft<at&&gt<xt||dt>=lt?(vt=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=it[dt],xt=pt(mt)));for(var _t=vt+$t,yt=_t-vt,Et=$t-yt,wt=Et,bt=_t,St,Tt,Rt,kt,At;ft<at&&dt<lt;)gt<xt?(vt=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=it[dt],xt=pt(mt))),$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St;for(;ft<at;)vt=ht,$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,ft+=1,ft<at&&(ht=rt[ft]);for(;dt<lt;)vt=mt,$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,dt+=1,dt<lt&&(mt=it[dt]);return wt&&(ct[ut++]=wt),bt&&(ct[ut++]=bt),ut||(ct[ut++]=0),ct.length=ut,ct}var twoSum$1=fastTwoSum;function fastTwoSum(rt,it,at){var lt=rt+it,st=lt-rt,ct=lt-st,ut=it-st,ft=rt-ct;return at?(at[0]=ft+ut,at[1]=lt,at):[ft+ut,lt]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(rt,it){var at=rt.length;if(at===1){var lt=twoProduct(rt[0],it);return lt[0]?lt:[lt[1]]}var st=new Array(2*at),ct=[.1,.1],ut=[.1,.1],ft=0;twoProduct(rt[0],it,ct),ct[0]&&(st[ft++]=ct[0]);for(var dt=1;dt<at;++dt){twoProduct(rt[dt],it,ut);var pt=ct[1];twoSum(pt,ut[0],ct),ct[0]&&(st[ft++]=ct[0]);var ht=ut[1],gt=ct[1],mt=ht+gt,xt=mt-ht,vt=gt-xt;ct[1]=mt,vt&&(st[ft++]=vt)}return ct[1]&&(st[ft++]=ct[1]),ft===0&&(st[ft++]=0),st.length=ft,st}var robustDiff=robustSubtract;function scalarScalar(rt,it){var at=rt+it,lt=at-rt,st=at-lt,ct=it-lt,ut=rt-st,ft=ut+ct;return ft?[ft,at]:[at]}function robustSubtract(rt,it){var at=rt.length|0,lt=it.length|0;if(at===1&&lt===1)return scalarScalar(rt[0],-it[0]);var st=at+lt,ct=new Array(st),ut=0,ft=0,dt=0,pt=Math.abs,ht=rt[ft],gt=pt(ht),mt=-it[dt],xt=pt(mt),vt,$t;gt<xt?($t=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):($t=mt,dt+=1,dt<lt&&(mt=-it[dt],xt=pt(mt))),ft<at&&gt<xt||dt>=lt?(vt=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=-it[dt],xt=pt(mt)));for(var _t=vt+$t,yt=_t-vt,Et=$t-yt,wt=Et,bt=_t,St,Tt,Rt,kt,At;ft<at&&dt<lt;)gt<xt?(vt=ht,ft+=1,ft<at&&(ht=rt[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=-it[dt],xt=pt(mt))),$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St;for(;ft<at;)vt=ht,$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,ft+=1,ft<at&&(ht=rt[ft]);for(;dt<lt;)vt=mt,$t=wt,_t=vt+$t,yt=_t-vt,Et=$t-yt,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,dt+=1,dt<lt&&(mt=-it[dt]);return wt&&(ct[ut++]=wt),bt&&(ct[ut++]=bt),ut||(ct[ut++]=0),ct.length=ut,ct}(function(rt){var it=twoProduct_1,at=robustSum,lt=robustScale,st=robustDiff,ct=5,ut=11102230246251565e-32,ft=(3+16*ut)*ut,dt=(7+56*ut)*ut;function pt(wt,bt,St,Tt){return function(kt,At,Ct){var Mt=wt(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),wt(bt(kt[1],At[0]),bt(-At[1],kt[0]))),Ot=wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Nt=Tt(Mt,Ot);return Nt[Nt.length-1]}}function ht(wt,bt,St,Tt){return function(kt,At,Ct,Mt){var Ot=wt(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2])))),Nt=wt(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2])))),It=Tt(Ot,Nt);return It[It.length-1]}}function gt(wt,bt,St,Tt){return function(kt,At,Ct,Mt,Ot){var Nt=wt(wt(wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),Ct[2]),wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),-Mt[2]),St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),Ot[2]))),At[3]),wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Mt[2]),St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),Ot[2]))),-Ct[3]),St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Ot[2]))),Mt[3]))),wt(St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),-Ot[3]),wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Mt[2]),St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Mt[2]),St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),Ot[2]))),-At[3])))),wt(wt(St(wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ot[2]))),Mt[3]),wt(St(wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2]))),-Ot[3]),St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),kt[3]))),wt(St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),-At[3]),wt(St(wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2]))),Ct[3]),St(wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2]))),-Mt[3]))))),It=wt(wt(wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),Ct[2]),wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),-Mt[2]),St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Mt[2]),St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),Ot[2]))),-Ct[3])),wt(St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Ot[2]))),Mt[3]),St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),-Ot[3]))),wt(wt(St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Ot[2]))),-At[3])),wt(St(wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ot[2]))),Ct[3]),St(wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2]))),-Ot[3])))),Dt=Tt(Nt,It);return Dt[Dt.length-1]}}function mt(wt){var bt=wt===3?pt:wt===4?ht:gt;return bt(at,it,lt,st)}var xt=mt(3),vt=mt(4),$t=[function(){return 0},function(){return 0},function(bt,St){return St[0]-bt[0]},function(bt,St,Tt){var Rt=(bt[1]-Tt[1])*(St[0]-Tt[0]),kt=(bt[0]-Tt[0])*(St[1]-Tt[1]),At=Rt-kt,Ct;if(Rt>0){if(kt<=0)return At;Ct=Rt+kt}else if(Rt<0){if(kt>=0)return At;Ct=-(Rt+kt)}else return At;var Mt=ft*Ct;return At>=Mt||At<=-Mt?At:xt(bt,St,Tt)},function(bt,St,Tt,Rt){var kt=bt[0]-Rt[0],At=St[0]-Rt[0],Ct=Tt[0]-Rt[0],Mt=bt[1]-Rt[1],Ot=St[1]-Rt[1],Nt=Tt[1]-Rt[1],It=bt[2]-Rt[2],Dt=St[2]-Rt[2],zt=Tt[2]-Rt[2],Yt=At*Nt,Pt=Ct*Ot,Lt=Ct*Mt,Ft=kt*Nt,qt=kt*Ot,Gt=At*Mt,Ut=It*(Yt-Pt)+Dt*(Lt-Ft)+zt*(qt-Gt),Vt=(Math.abs(Yt)+Math.abs(Pt))*Math.abs(It)+(Math.abs(Lt)+Math.abs(Ft))*Math.abs(Dt)+(Math.abs(qt)+Math.abs(Gt))*Math.abs(zt),Wt=dt*Vt;return Ut>Wt||-Ut>Wt?Ut:vt(bt,St,Tt,Rt)}];function _t(wt){var bt=$t[wt.length];return bt||(bt=$t[wt.length]=mt(wt.length)),bt.apply(void 0,wt)}function yt(wt,bt,St,Tt,Rt,kt,At){return function(Mt,Ot,Nt,It,Dt){switch(arguments.length){case 0:case 1:return 0;case 2:return Tt(Mt,Ot);case 3:return Rt(Mt,Ot,Nt);case 4:return kt(Mt,Ot,Nt,It);case 5:return At(Mt,Ot,Nt,It,Dt)}for(var zt=new Array(arguments.length),Yt=0;Yt<arguments.length;++Yt)zt[Yt]=arguments[Yt];return wt(zt)}}function Et(){for(;$t.length<=ct;)$t.push(mt($t.length));rt.exports=yt.apply(void 0,[_t].concat($t));for(var wt=0;wt<=ct;++wt)rt.exports[wt]=$t[wt]}Et()})(orientation);var robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(rt,it){for(var at=it[0],lt=it[1],st=rt.length,ct=1,ut=st,ft=0,dt=st-1;ft<ut;dt=ft++){var pt=rt[ft],ht=rt[dt],gt=pt[1],mt=ht[1];if(mt<gt){if(mt<lt&&lt<gt){var xt=orient(pt,ht,it);if(xt===0)return 0;ct^=0<xt|0}else if(lt===gt){var vt=rt[(ft+1)%st],$t=vt[1];if(gt<$t){var xt=orient(pt,ht,it);if(xt===0)return 0;ct^=0<xt|0}}}else if(gt<mt){if(gt<lt&&lt<mt){var xt=orient(pt,ht,it);if(xt===0)return 0;ct^=xt<0|0}else if(lt===gt){var vt=rt[(ft+1)%st],$t=vt[1];if($t<gt){var xt=orient(pt,ht,it);if(xt===0)return 0;ct^=xt<0|0}}}else if(lt===gt){var _t=Math.min(pt[0],ht[0]),yt=Math.max(pt[0],ht[0]);if(ft===0){for(;dt>0;){var Et=(dt+st-1)%st,wt=rt[Et];if(wt[1]!==lt)break;var bt=wt[0];_t=Math.min(_t,bt),yt=Math.max(yt,bt),dt=Et}if(dt===0)return _t<=at&&at<=yt?0:1;ut=dt+1}for(var St=rt[(dt+st-1)%st][1];ft+1<ut;){var wt=rt[ft+1];if(wt[1]!==lt)break;var bt=wt[0];_t=Math.min(_t,bt),yt=Math.max(yt,bt),ft+=1}if(_t<=at&&at<=yt)return 0;var Tt=rt[(ft+1)%st][1];at<_t&&St<lt!=Tt<lt&&(ct^=1)}}return 2*ct-1}function arrayPointsToObjects(rt){let it=[];for(let at of rt)it.push([at.column,at.row]);return it}function deleteDuplicates(rt){const it=[];for(let at=0;at<rt.length;at++)rt[at].column===rt[(at+1)%rt.length].column&&rt[at].row===rt[(at+1)%rt.length].row||it.push(rt[at]);return it}function drawPolygonOnImage(rt,it,at={}){const{fillColor:lt,origin:st={column:0,row:0},...ct}=at;checkProcessable(rt,"drawPolygon",{bitDepth:[8,16]});let ut=getOutputImage(rt,at,{clone:!0});if(lt===void 0)return ut.drawPolyline([...it,it[0]],{origin:st,...ct});{validateColor(lt,ut);const ft=deleteDuplicates(it),dt=arrayPointsToObjects(ft);for(let pt=0;pt<ut.height;pt++)for(let ht=0;ht<ut.width;ht++)robustPnp(dt,[ht,pt])===-1&&ut.setPixel(st.column+ht,st.row+pt,lt)}return ut.drawPolyline([...it,it[0]],{origin:st,...ct})}function drawPolygonOnMask(rt,it,at={}){const{filled:lt=!1,origin:st={column:0,row:0},...ct}=at;let ut=maskToOutputMask(rt,at,{clone:!0});if(!lt)return ut.drawPolyline([...it,it[0]],{origin:st,...ct});const ft=deleteDuplicates(it),dt=arrayPointsToObjects(ft);for(let pt=0;pt<ut.height;pt++)for(let ht=0;ht<ut.width;ht++)robustPnp(dt,[ht,pt])===-1&&ut.setBit(st.column+ht,st.row+pt,1);return ut.drawPolyline([...it,it[0]],{origin:st,...ct})}function drawRectangle(rt,it={}){const{origin:at={column:0,row:0},width:lt=rt.width,height:st=rt.height,strokeColor:ct=getDefaultColor(rt),fillColor:ut}=it,{column:ft,row:dt}=at;let pt;if(rt instanceof Image?(checkProcessable(rt,"drawRectangle",{bitDepth:[8,16]}),pt=getOutputImage(rt,it,{clone:!0})):pt=maskToOutputMask(rt,it,{clone:!0}),ct!=="none"){for(let ht=ft;ht<ft+lt;ht++)pt.setVisiblePixel(ht,dt,ct),pt.setVisiblePixel(ht,dt+st-1,ct);for(let ht=dt+1;ht<dt+st-1;ht++)if(pt.setVisiblePixel(ft,ht,ct),pt.setVisiblePixel(ft+lt-1,ht,ct),ut)for(let gt=ft+1;gt<ft+lt-1;gt++)pt.setVisiblePixel(gt,ht,ut),pt.setVisiblePixel(gt,ht,ut)}else if(ut)for(let ht=dt+1;ht<dt+st-1;ht++)for(let gt=ft+1;gt<ft+lt-1;gt++)pt.setVisiblePixel(gt,ht,ut),pt.setVisiblePixel(gt,ht,ut);return pt}function drawPoints(rt,it,at={}){const{color:lt=getDefaultColor(rt),origin:st={row:0,column:0}}=at;let ct;rt instanceof Image?(ct=getOutputImage(rt,at,{clone:!0}),validateColor(lt,ct)):ct=maskToOutputMask(rt,at,{clone:!0}),checkProcessable(ct,"drawPoints",{bitDepth:[1,8,16]});for(const ut of it)ct.setVisiblePixel(st.column+ut.column,st.row+ut.row,lt);return ct}function drawMarker(rt,it,at){const lt=getOutputImage(rt,at,{clone:!0}),{color:st=getDefaultColor(lt),filled:ct=!1,shape:ut="cross",size:ft=1}=at;if(validateColor(st,lt),checkProcessable(lt,"drawMarker",{bitDepth:[8,16]}),ut==="circle"&&lt.drawCircle(it,ft,{color:st,fill:ct?st:void 0,out:lt}),ut==="triangle"){const dt=[{row:it.row-ft,column:it.column},{row:it.row,column:it.column+ft},{row:it.row,column:it.column-ft}];lt.drawPolygon(dt,{strokeColor:st,fillColor:ct?st:void 0,out:lt})}if(ut==="cross"&&(lt.drawLine({row:it.row-ft,column:it.column},{row:it.row+ft,column:it.column},{strokeColor:st,out:lt}),lt.drawLine({row:it.row,column:it.column-ft},{row:it.row,column:it.column+ft},{strokeColor:st,out:lt})),ut==="square"){const dt={row:Math.floor(it.row-ft/2),column:Math.floor(it.column-ft/2)};lt.drawRectangle({origin:dt,width:ft,height:ft,strokeColor:st,fillColor:ct?st:void 0,out:lt})}return lt}function drawMarkers(rt,it,at={}){const lt=getOutputImage(rt,at,{clone:!0});for(const st of it)drawMarker(lt,st,{...at,out:lt});return lt}function checkKernel$1(rt,it){if(rt.length%2===0||rt[0].length%2===0)throw new TypeError(`${it}: The number of rows and columns of the kernel must be odd`)}function erode(rt,it={}){let at=!1;it.kernel===void 0&&(at=!0);let{kernel:lt=[[1,1,1],[1,1,1],[1,1,1]],iterations:st=1}=it;rt instanceof Image&&checkProcessable(rt,"erode",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(lt,"erode");let ct=!0;if(!at){e:for(const ft of lt)for(const dt of ft)if(dt!==1){ct=!1;break e}}let ut=rt;for(let ft=0;ft<st;ft++)if(ut instanceof Mask)if(ct){const dt=ut.clone();ut=erodeMaskOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Mask.createFrom(rt);ut=erodeMask(ut,dt,lt)}else if(ct){const dt=Image.createFrom(rt);ut=erodeGreyOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Image.createFrom(rt);ut=erodeGrey(ut,dt,lt)}return ut}function erodeGrey(rt,it,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<rt.height;ft++)for(let dt=0;dt<rt.width;dt++){let pt=rt.maxValue;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(mt<0||xt<0||mt>=rt.width||xt>=rt.height)continue;const vt=rt.getValue(mt,xt,0);vt<pt&&(pt=vt)}it.setValue(dt,ft,0,pt)}return it}function erodeGreyOnlyOnes(rt,it,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<rt.width;ft++)ut.push(0);for(let ft=0;ft<rt.height;ft++){for(let dt=0;dt<rt.width;dt++){let pt=rt.maxValue;for(let ht=Math.max(0,ft-ct);ht<Math.min(rt.height,ft+ct+1);ht++){const gt=rt.getValue(dt,ht,0);gt<pt&&(pt=gt)}ut[dt]=pt}for(let dt=0;dt<rt.width;dt++){let pt=rt.maxValue;for(let ht=Math.max(0,dt-st);ht<Math.min(rt.width,dt+st+1);ht++)ut[ht]<pt&&(pt=ut[ht]);it.setValue(dt,ft,0,pt)}}return it}function erodeMask(rt,it,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<rt.height;ft++)for(let dt=0;dt<rt.width;dt++){let pt=1;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(xt<0||mt<0||mt>=rt.width||xt>=rt.height)continue;if(rt.getBit(mt,xt)===0){pt=0;break}}pt===1&&it.setBit(dt,ft,1)}return it}function erodeMaskOnlyOnes(rt,it,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<rt.width;ft++)ut.push(0);for(let ft=0;ft<rt.height;ft++){for(let dt=0;dt<rt.width;dt++){ut[dt]=1;for(let pt=Math.max(0,ft-ct);pt<Math.min(rt.height,ft+ct+1);pt++)if(rt.getBit(dt,pt)===0){ut[dt]=0;break}}for(let dt=0;dt<rt.width;dt++)if(it.getBit(dt,ft)!==0){for(let pt=Math.max(0,dt-st);pt<Math.min(rt.width,dt+st+1);pt++)if(ut[pt]===0){it.setBit(dt,ft,0);break}}}return it}function dilate(rt,it={}){let at=!1;it.kernel===void 0&&(at=!0);let{kernel:lt=[[1,1,1],[1,1,1],[1,1,1]],iterations:st=1}=it;rt instanceof Image&&checkProcessable(rt,"dilate",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(lt,"dilate");let ct=!0;if(!at){e:for(const ft of lt)for(const dt of ft)if(dt!==1){ct=!1;break e}}let ut=rt;for(let ft=0;ft<st;ft++)if(ut instanceof Mask)if(ct){const dt=ut.clone();ut=dilatMaskOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Mask.createFrom(ut);ut=dilateMask(ut,dt,lt)}else if(ct){const dt=Image.createFrom(ut);ut=dilateGreyOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Image.createFrom(ut);ut=dilateGrey(ut,dt,lt)}return ut}function dilateGrey(rt,it,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<rt.height;ft++)for(let dt=0;dt<rt.width;dt++){let pt=0;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(mt<0||xt<0||mt>=rt.width||xt>=rt.height)continue;const vt=rt.getValue(mt,xt,0);vt>pt&&(pt=vt)}it.setValue(dt,ft,0,pt)}return it}function dilateGreyOnlyOnes(rt,it,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<rt.width;ft++)ut.push(0);for(let ft=0;ft<rt.height;ft++){for(let dt=0;dt<rt.width;dt++){let pt=0;for(let ht=Math.max(0,ft-ct);ht<Math.min(rt.height,ft+ct+1);ht++){const gt=rt.getValue(dt,ht,0);gt>pt&&(pt=gt)}ut[dt]=pt}for(let dt=0;dt<rt.width;dt++){let pt=0;for(let ht=Math.max(0,dt-st);ht<Math.min(rt.width,dt+st+1);ht++)ut[ht]>pt&&(pt=ut[ht]);it.setValue(dt,ft,0,pt)}}return it}function dilateMask(rt,it,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<rt.height;ft++)for(let dt=0;dt<rt.width;dt++){let pt=0;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(xt<0||mt<0||mt>=rt.width||xt>=rt.height)continue;if(rt.getBit(mt,xt)===1){pt=1;break}}pt===1&&it.setBit(dt,ft,1)}return it}function dilatMaskOnlyOnes(rt,it,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<rt.width;ft++)ut.push(1);for(let ft=0;ft<rt.height;ft++){for(let dt=0;dt<rt.width;dt++){ut[dt]=0;for(let pt=Math.max(0,ft-ct);pt<Math.min(rt.height,ft+ct+1);pt++)if(rt.getBit(dt,pt)===1){ut[dt]=1;break}}for(let dt=0;dt<rt.width;dt++)if(it.getBit(dt,ft)!==1){for(let pt=Math.max(0,dt-st);pt<Math.min(rt.width,dt+st+1);pt++)if(ut[pt]===1){it.setBit(dt,ft,1);break}}}return it}function open(rt,it={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=it;rt instanceof Image&&checkProcessable(rt,"open",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(at,"open");let st=rt;for(let ct=0;ct<lt;ct++)st=st.erode({kernel:at}),st=st.dilate({kernel:at});return st}function close(rt,it={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=it;rt instanceof Image&&checkProcessable(rt,"close",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(at,"close");let st=rt;for(let ct=0;ct<lt;ct++)st=st.dilate({kernel:at}).erode({kernel:at});return st}function topHat(rt,it={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=it;rt instanceof Image&&checkProcessable(rt,"topHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(at,"topHat");let st=rt;for(let ct=0;ct<lt;ct++){let ut=st.open({kernel:at});st=subtract(ut,st,{absolute:!0})}return st}function bottomHat(rt,it={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=it;rt instanceof Image&&checkProcessable(rt,"bottomHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(at,"bottomHat");let st=rt;for(let ct=0;ct<lt;ct++){let ut=st.close({kernel:at});st=subtract(ut,st,{absolute:!0})}return st}function morphologicalGradient(rt,it={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=it;rt instanceof Image&&checkProcessable(rt,"bottomHat",{bitDepth:[ColorDepth.UINT1,ColorDepth.UINT8,ColorDepth.UINT16],components:1,alpha:!1}),checkKernel$1(at,"morphologicalGradient");let st=rt;for(let ct=0;ct<lt;ct++){let ut=st.dilate({kernel:at}),ft=st.erode({kernel:at});st=subtract(ut,ft,{absolute:!0})}return st}function*borderIterator(rt){for(let it=0;it<rt.width;it++)yield it;for(let it=2;it<rt.height;it++)yield it*rt.width-1;for(let it=0;it<rt.width;it++)yield rt.width*rt.height-it-1;for(let it=rt.height-2;it>=1;it--)yield it*rt.width}const MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(rt,it={}){let{startPixels:at=[0],startPixelValue:lt=0,newPixelValue:st=1,allowCorners:ct=!1}=it,ut=maskToOutputMask(rt,it,{clone:!0}),ft=Mask.createFrom(rt),dt=0,pt=0;for(let gt of at)ut.getBitByIndex(gt)===lt&&(toProcess[pt++%MAX_ARRAY]=gt,ft.setBitByIndex(gt,1),ut.setBitByIndex(gt,st));for(;dt<pt;){if(pt-dt>MAX_ARRAY)throw new Error("multipleFloodFill: could not process image, overflow in the data processing array.");const gt=toProcess[dt++%MAX_ARRAY];ut.setBitByIndex(gt,st);const mt=gt<rt.width,xt=gt%rt.width===0,vt=gt%rt.width===rt.width-1,$t=gt>rt.size-rt.width;if(!$t){const _t=gt+rt.width;ht(_t)}if(!xt){const _t=gt-1;ht(_t)}if(!mt){const _t=gt-rt.width;ht(_t)}if(!vt){const _t=gt+1;ht(_t)}if(ct){if(!mt){if(!xt){const _t=gt-rt.width-1;ht(_t)}if(!vt){const _t=gt-rt.width+1;ht(_t)}}if(!$t){if(!xt){const _t=gt+rt.width-1;ht(_t)}if(!vt){const _t=gt+rt.width+1;ht(_t)}}}}function ht(gt){ft.getBitByIndex(gt)||ut.getBitByIndex(gt)===lt&&(toProcess[pt++%MAX_ARRAY]=gt,ft.setBitByIndex(gt,1))}return ut}function clearBorder(rt,it={}){let{allowCorners:at=!1,out:lt}=it;return multipleFloodFill(rt,{startPixels:borderIterator(rt),startPixelValue:1,newPixelValue:0,allowCorners:at,out:lt})}function getIndex(rt,it,at,lt=0){return(it*at.width+rt)*at.channels+lt}const kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(rt,it={}){const{hysteresis:at=!0,lowThreshold:lt=.04,highThreshold:st=.1,gaussianBlurOptions:ct={sigma:1}}=it,ut=lt*rt.maxValue,ft=st*rt.maxValue;checkProcessable(rt,"cannyEdgeDetector",{colorModel:ImageColorModel.GREY});const dt=rt.width,pt=rt.height,ht=rt.gaussianBlur(ct),gt=ht.rawDirectConvolution(kernelY),mt=ht.rawDirectConvolution(kernelX);let xt=new Float64Array(rt.size);for(let yt=0;yt<rt.size;yt++)xt[yt]=Math.hypot(gt[yt],mt[yt]);let vt=new Float64Array(rt.size),$t=new Float64Array(rt.size);const _t=imageToOutputMask(rt,it);for(let yt=1;yt<dt-1;yt++)for(let Et=1;Et<pt-1;Et++){const wt=gt[getIndex(yt,Et,rt,0)],bt=mt[getIndex(yt,Et,rt,0)];let St=getDirection(wt,bt);const Tt=xt[getIndex(yt,Et,rt,0)];(St===0&&Tt>=xt[getIndex(yt,Et-1,rt,0)]&&Tt>=xt[getIndex(yt,Et+1,rt,0)]||St===1&&Tt>=xt[getIndex(yt-1,Et-1,rt,0)]&&Tt>=xt[getIndex(yt+1,Et+1,rt,0)]||St===2&&Tt>=xt[getIndex(yt-1,Et,rt,0)]&&Tt>=xt[getIndex(yt+1,Et,rt,0)]||St===3&&Tt>=xt[getIndex(yt-1,Et+1,rt,0)]&&Tt>=xt[getIndex(yt+1,Et-1,rt,0)])&&(vt[getIndex(yt,Et,rt,0)]=Tt)}for(let yt=0;yt<dt*pt;++yt){let Et=vt[yt],wt=0;Et>ft&&(wt++,_t.setBitByIndex(yt,1)),Et>ut&&wt++,$t[yt]=wt}if(at){let yt=[];for(let Et=1;Et<dt-1;++Et)for(let wt=1;wt<pt-1;++wt)if($t[getIndex(Et,wt,rt,0)]===1){e:for(let bt=Et-1;bt<Et+2;++bt)for(let St=wt-1;St<wt+2;++St)if($t[getIndex(bt,St,rt,0)]===2){yt.push([Et,wt]),_t.setValue(Et,wt,0,1);break e}}for(;yt.length>0;){let Et=[];for(let wt of yt)for(let bt=-1;bt<2;++bt)for(let St=-1;St<2;++St){if(bt===0&&St===0)continue;let Tt=wt[0]+bt,Rt=wt[1]+St;$t[getIndex(Rt,Tt,rt,0)]===1&&_t.getValue(Rt,Tt,0)===0&&(Et.push([Tt,Rt]),_t.setValue(Rt,Tt,0,1))}yt=Et}}return _t}function getDirection(rt,it){return(Math.round(Math.atan2(it,rt)*(4/Math.PI))+4)%4}function floodFill(rt,it={}){let{origin:at={row:0,column:0},allowCorners:lt=!1,out:st}=it;const ct=getIndex(at.column,at.row,rt);return multipleFloodFill(rt,{startPixels:[ct],allowCorners:lt,out:st})}function solidFill(rt,it={}){let{allowCorners:at=!1}=it,lt=maskToOutputMask(rt,it,{clone:!0}),ct=rt.invert().clearBorder({allowCorners:at});return lt.or(ct,{out:lt})}function convertColor(rt,it,at={}){const lt=new Map([[ImageColorModel.GREY,[ImageColorModel.GREYA,ImageColorModel.RGB,ImageColorModel.RGBA]],[ImageColorModel.GREYA,[ImageColorModel.GREY,ImageColorModel.RGB,ImageColorModel.RGBA]],[ImageColorModel.RGB,[ImageColorModel.GREYA,ImageColorModel.GREY,ImageColorModel.RGBA]],[ImageColorModel.RGBA,[ImageColorModel.GREYA,ImageColorModel.GREY,ImageColorModel.RGB]],[ImageColorModel.BINARY,[ImageColorModel.GREY]]]);if(rt.colorModel===it)throw new Error(`Cannot convert color, image is already ${it}`);const st=lt.get(rt.colorModel);if(!st||!st.includes(it))throw new Error(`conversion from ${rt.colorModel} to ${it} not implemented`);if(rt instanceof Image){const ct=getOutputImage(rt,at,{newParameters:{colorModel:it}});return(rt.colorModel===ImageColorModel.GREY||rt.colorModel===ImageColorModel.GREYA)&&convertGreyToAny(rt,ct),(rt.colorModel===ImageColorModel.RGB||rt.colorModel===ImageColorModel.RGBA)&&(it===ImageColorModel.RGB||it===ImageColorModel.RGBA?convertRgbToRgb(rt,ct):convertRgbToGrey(rt,ct)),!rt.alpha&&ct.alpha&&ct.fillAlpha(ct.maxValue),rt.alpha&&ct.alpha&&copyAlpha(rt,ct),ct}else{const ct=maskToOutputImage(rt,at);return convertBinaryToGrey(rt,ct),ct}}function copyAlpha(rt,it){if(rt.size!==it.size)throw new Error("source and destination have different sizes");if(!rt.alpha)throw new Error("source image does not have alpha");if(!it.alpha)throw new Error("destination does not have alpha");for(let at=0;at<it.size;at++)it.setValueByIndex(at,it.channels-1,rt.getValueByIndex(at,rt.channels-1))}function convertGreyToAny(rt,it){for(let at=0;at<rt.size;at++)for(let lt=0;lt<it.components;lt++)it.setValueByIndex(at,lt,rt.getValueByIndex(at,0))}function convertRgbToRgb(rt,it){for(let at=0;at<rt.size;at++)for(let lt=0;lt<3;lt++)it.setValueByIndex(at,lt,rt.getValueByIndex(at,lt))}function convertRgbToGrey(rt,it){for(let at=0;at<rt.size;at++){const lt=rt.getValueByIndex(at,0),st=rt.getValueByIndex(at,1),ct=rt.getValueByIndex(at,2);it.setValueByIndex(at,0,Math.round(.299*lt+.587*st+.114*ct))}}function convertBinaryToGrey(rt,it){for(let at=0;at<rt.size;at++)it.setValueByIndex(at,0,rt.getBitByIndex(at)?it.maxValue:0)}function convertDepth(rt,it){if(rt.depth===it)throw new Error("convertDepth: cannot convert image to same depth");return it===ColorDepth.UINT16?convertToUint16(rt):convertToUint8(rt)}function convertToUint16(rt){const it=new Image(rt.width,rt.height,{depth:ColorDepth.UINT16,colorModel:rt.colorModel,origin:rt.origin});for(let at=0;at<rt.size;at++)for(let lt=0;lt<it.channels;lt++)it.setValueByIndex(at,lt,rt.getValueByIndex(at,lt)<<8);return it}function convertToUint8(rt){const it=new Image(rt.width,rt.height,{depth:ColorDepth.UINT8,colorModel:rt.colorModel,origin:rt.origin});for(let at=0;at<rt.size;at++)for(let lt=0;lt<it.channels;lt++)it.setValueByIndex(at,lt,rt.getValueByIndex(at,lt)>>8);return it}function assert(rt,it){if(!rt)throw new Error(it||"unreachable")}function extract(rt,it,at={}){const{origin:lt={row:0,column:0}}=at,{row:st,column:ct}=lt;assert(st<rt.height&&ct<rt.width&&st+it.width>0&&ct+it.height>0,"extract: image and mask have no overlap");const ut=Math.min(rt.width,it.width+ct)-Math.max(0,ct),ft=Math.min(rt.height,it.height+st)-Math.max(0,st);let dt=new Image(ut,ft,{colorModel:rt.colorModel,origin:lt});dt.alpha&&(dt=dt.fillAlpha(0));const pt=Math.max(0,st),ht=Math.max(0,ct),gt=st<0?-st:0,mt=ct<0?-ct:0;for(let xt=0;xt<ft;xt++)for(let vt=0;vt<ut;vt++)it.getBit(mt+vt,gt+xt)&&dt.setPixel(vt,xt,rt.getPixel(ht+vt,pt+xt));return dt}function split$1(rt){const it=[];for(let at=0;at<rt.channels;at++){const lt=Image.createFrom(rt,{colorModel:ImageColorModel.GREY});for(let st=0;st<lt.size;st++)lt.setValueByIndex(st,0,rt.getValueByIndex(st,at));it.push(lt)}return it}function huang(rt){let it=0;for(let ht=0;ht<rt.length;ht++)if(rt[ht]!==0){it=ht;break}let at=rt.length-1;for(let ht=rt.length-1;ht>=it;ht--)if(rt[ht]!==0){at=ht;break}const lt=1/(at-it),st=new Array(rt.length);let ct=0,ut=0;for(let ht=it;ht<rt.length;ht++)ct+=ht*rt[ht],ut+=rt[ht],st[ht]=ct/ut;const ft=new Array(rt.length);ct=0,ut=0;for(let ht=at;ht>0;ht--)ct+=ht*rt[ht],ut+=rt[ht],ft[ht-1]=ct/ut;let dt=-1,pt=Number.MAX_VALUE;for(let ht=0;ht<rt.length;ht++){let gt=0,mt;for(let xt=0;xt<=ht;xt++)mt=1/(1+lt*Math.abs(xt-st[ht])),mt<1e-6||mt>.999999||(gt+=rt[xt]*(-mt*Math.log(mt)-(1-mt)*Math.log(1-mt)));for(let xt=ht+1;xt<rt.length;xt++)mt=1/(1+lt*Math.abs(xt-ft[ht])),mt<1e-6||mt>.999999||(gt+=rt[xt]*(-mt*Math.log(mt)-(1-mt)*Math.log(1-mt)));gt<pt&&(pt=gt,dt=ht)}return dt}function intermodes(rt){const it=rt.slice();let at=0;for(;!bimodalTest$1(it);){let st=0,ct=0,ut=it[0];for(let ft=0;ft<rt.length-1;ft++)st=ct,ct=ut,ut=it[ft+1],it[ft]=(st+ct+ut)/3;if(it[rt.length-1]=(ct+ut)/3,at++,at>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let lt=0;for(let st=1;st<rt.length-1;st++)it[st-1]<it[st]&&it[st+1]<it[st]&&(lt+=st);return Math.floor(lt/2)}function bimodalTest$1(rt){let it=!1,at=0;for(let lt=1;lt<rt.length-1;lt++)if(rt[lt-1]<rt[lt]&&rt[lt+1]<rt[lt]&&(at++,at>2))return!1;return at===2&&(it=!0),it}function isodata(rt){let it,at,lt,st,ct=0;for(let ut=1;ut<rt.length;ut++)if(rt[ut]>0){ct=ut+1;break}for(;;){it=0,lt=0;for(let ut=0;ut<ct;ut++)lt=lt+rt[ut],it=it+rt[ut]*ut;st=0,at=0;for(let ut=ct+1;ut<rt.length;ut++)at+=rt[ut],st+=rt[ut]*ut;if(lt>0&&at>0&&(it/=lt,st/=at,ct===Math.round((it+st)/2)))break;if(ct++,ct>rt.length-2)throw new Error("Threshold not found")}return ct}function li(rt,it){let at,lt,st,ct,ut,ft,dt,pt,ht,gt,xt;gt=0;for(let vt=0;vt<rt.length;vt++)gt+=vt*rt[vt];gt/=it,dt=gt;do{ft=dt,at=ft+.5|0,lt=0,ct=0;for(let vt=0;vt<=at;vt++)lt+=vt*rt[vt],ct+=rt[vt];pt=ct===0?0:lt/ct,st=0,ut=0;for(let vt=at+1;vt<rt.length;vt++)st+=vt*rt[vt],ut+=rt[vt];ht=ut===0?0:st/ut,xt=(pt-ht)/(Math.log(pt)-Math.log(ht)),xt<-Number.EPSILON?dt=xt-.5|0:dt=xt+.5|0}while(Math.abs(dt-ft)>.5);return at}function maxEntropy(rt,it){const at=new Array(rt.length);for(let mt=0;mt<rt.length;mt++)at[mt]=rt[mt]/it;const lt=new Array(rt.length),st=new Array(rt.length);lt[0]=at[0],st[0]=1-lt[0];for(let mt=1;mt<rt.length;mt++)lt[mt]=lt[mt-1]+at[mt],st[mt]=1-lt[mt];let ct=0;for(let mt=0;mt<rt.length;mt++)if(Math.abs(lt[mt])>=Number.EPSILON){ct=mt;break}let ut=rt.length-1;for(let mt=rt.length-1;mt>=ct;mt--)if(Math.abs(st[mt])>=Number.EPSILON){ut=mt;break}let ft=-1,dt,pt=Number.MIN_VALUE,ht,gt;for(let mt=ct;mt<=ut;mt++){ht=0;for(let xt=0;xt<=mt;xt++)rt[xt]!==0&&(ht-=at[xt]/lt[mt]*Math.log(at[xt]/lt[mt]));gt=0;for(let xt=mt+1;xt<rt.length;xt++)rt[xt]!==0&&(gt-=at[xt]/st[mt]*Math.log(at[xt]/st[mt]));dt=ht+gt,pt<dt&&(pt=dt,ft=mt)}return ft}function mean$1(rt,it){let at=0;for(let lt=0;lt<rt.length;lt++)at+=lt*rt[lt];return Math.floor(at/it)}function minError(rt,it){let at,lt=-2,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,$t=0;for(let _t=0;_t<rt.length;_t++)$t+=_t*rt[_t];for($t/=it,at=$t;at!==lt;){const _t=sumA(rt,at),yt=sumA(rt,rt.length-1),Et=sumB(rt,at),wt=sumB(rt,rt.length-1),bt=sumC(rt,at),St=sumC(rt,rt.length-1);if(st=Et/_t,ct=(wt-Et)/(yt-_t),ut=_t/yt,ft=(yt-_t)/yt,dt=bt/_t-st*st,pt=(St-bt)/(yt-_t)-ct*ct,ht=1/dt-1/pt,gt=st/dt-ct/pt,mt=st*st/dt-ct*ct/pt+Math.log10(dt*(ft*ft)/(pt*(ut*ut))),xt=gt*gt-ht*mt,xt<0)return at;lt=at,vt=(gt+Math.sqrt(xt))/ht,Number.isNaN(vt)?at=lt:at=Math.floor(vt)}return at}function sumA(rt,it){let at=0;for(let lt=0;lt<=it;lt++)at+=rt[lt];return at}function sumB(rt,it){let at=0;for(let lt=0;lt<=it;lt++)at+=lt*rt[lt];return at}function sumC(rt,it){let at=0;for(let lt=0;lt<=it;lt++)at+=lt*lt*rt[lt];return at}function minimum(rt){if(rt.length<2)return 0;let it=0,at=-1,lt=-1,st=new Array(rt.length);for(let ct=0;ct<rt.length;ct++)st[ct]=rt[ct],rt[ct]>0&&(lt=ct);for(;!bimodalTest(st);)if(st=smoothed(st),it++,it>1e4)return at;for(let ct=1;ct<lt;ct++)if(st[ct-1]>st[ct]&&st[ct+1]>=st[ct]){at=ct;break}return at}function smoothed(rt){const it=new Array(rt.length);for(let at=1;at<rt.length-1;at++)it[at]=(rt[at-1]+rt[at]+rt[at+1])/3;return it[0]=(rt[0]+rt[1])/3,it[rt.length-1]=(rt[rt.length-2]+rt[rt.length-1])/3,it}function bimodalTest(rt){const it=rt.length;let at=!1,lt=0;for(let st=1;st<it-1;st++)if(rt[st-1]<rt[st]&&rt[st+1]<rt[st]&&(lt++,lt>2))return!1;return lt===2&&(at=!0),at}function moments(rt,it){let lt=0,st=0,ct=0,ut=0,ft=-1;const dt=rt.length,pt=new Array(dt);for(let _t=0;_t<dt;_t++)pt[_t]=rt[_t]/it;for(let _t=0;_t<dt;_t++)lt+=_t*pt[_t],st+=_t*_t*pt[_t],ct+=_t*_t*_t*pt[_t];const ht=1*st-lt*lt,gt=(-st*st+lt*ct)/ht,mt=(1*-ct+st*lt)/ht,xt=.5*(-mt-Math.sqrt(mt*mt-4*gt)),vt=.5*(-mt+Math.sqrt(mt*mt-4*gt)),$t=(vt-lt)/(vt-xt);for(let _t=0;_t<dt;_t++)if(ut+=pt[_t],ut>$t){ft=_t;break}return ft}function otsu(rt,it){let at=0,lt=0,st=0,ct=0,ut=0;for(let ft=0;ft<rt.length;ft++)ut+=ft*rt[ft];for(let ft=0;ft<rt.length;ft++){lt=lt+rt[ft];const dt=it-lt;if(lt===0||dt===0)continue;at=at+ft*rt[ft];const pt=(ut-at)/dt,ht=lt*dt*(at/lt-pt)*(at/lt-pt);ht>=st&&(ct=ft,st=ht)}return ct}function percentile(rt){let it=-1;const at=.5,lt=new Array(rt.length),st=partialSum(rt,rt.length-1);let ct=1;for(let ut=0;ut<rt.length;ut++)lt[ut]=Math.abs(partialSum(rt,ut)/st-at),lt[ut]<ct&&(ct=lt[ut],it=ut);return it}function partialSum(rt,it){let at=0;for(let lt=0;lt<=it;lt++)at+=rt[lt];return at}function renyiEntropy(rt,it){let at,lt;const st=new Array(rt.length),ct=new Array(rt.length),ut=new Array(rt.length);let ft=0,dt=0,pt=0,ht=0,gt=0,mt=0;const vt=1/(1-.5),_t=1/(1-2);for(let St=0;St<rt.length;St++)st[St]=rt[St]/it;ct[0]=st[0],ut[0]=1-ct[0];for(let St=1;St<rt.length;St++)ct[St]=ct[St-1]+st[St],ut[St]=1-ct[St];at=0;for(let St=0;St<rt.length;St++)if(Math.abs(ct[St])>=Number.EPSILON){at=St;break}lt=rt.length-1;for(let St=rt.length-1;St>=at;St--)if(Math.abs(ut[St])>=Number.EPSILON){lt=St;break}for(let St=at;St<=lt;St++){let Tt=0,Rt=0,kt=0;for(let Dt=0;Dt<=St;Dt++)rt[Dt]!==0&&(Tt-=st[Dt]/ct[St]*Math.log(st[Dt]/ct[St])),Rt+=Math.sqrt(st[Dt]/ct[St]),kt+=st[Dt]*st[Dt]/(ct[St]*ct[St]);let At=0,Ct=0,Mt=0;for(let Dt=St+1;Dt<rt.length;Dt++)rt[Dt]!==0&&(At-=st[Dt]/ut[St]*Math.log(st[Dt]/ut[St])),Ct+=Math.sqrt(st[Dt]/ut[St]),Mt+=st[Dt]*st[Dt]/(ut[St]*ut[St]);const Ot=Tt+At,Nt=vt*(Rt*Ct>0?Math.log(Rt*Ct):0),It=_t*(kt*Mt>0?Math.log(kt*Mt):0);Ot>ht&&(ht=Ot,ft=St),Nt>gt&&(gt=Nt,dt=St),It>mt&&(mt=It,pt=St)}const yt=new Uint32Array([ft,dt,pt]);yt.sort();let Et;Math.abs(yt[0]-yt[1])<=5?Math.abs(yt[1]-yt[2])<=5?Et=[1,2,1]:Et=[0,1,3]:Math.abs(yt[1]-yt[2])<=5?Et=[3,1,0]:Et=[1,2,1];const wt=ct[yt[2]]-ct[yt[0]];return Math.round(yt[0]*(ct[yt[0]]+.25*wt*Et[0])+.25*yt[1]*wt*Et[1]+yt[2]*(ut[yt[2]]+.25*wt*Et[2]))}function shanbhag(rt,it){const at=new Array(rt.length);for(let xt=0;xt<rt.length;xt++)at[xt]=rt[xt]/it;const lt=new Array(rt.length),st=new Array(rt.length);lt[0]=at[0],st[0]=1-lt[0];for(let xt=1;xt<rt.length;xt++)lt[xt]=lt[xt-1]+at[xt],st[xt]=1-lt[xt];let ct=0;for(let xt=0;xt<rt.length;xt++)if(Math.abs(lt[xt])>=Number.EPSILON){ct=xt;break}let ut=rt.length-1;for(let xt=rt.length-1;xt>=ct;xt--)if(Math.abs(st[xt])>=Number.EPSILON){ut=xt;break}let ft=-1,dt=Number.MAX_VALUE,pt,ht,gt,mt;for(let xt=ct;xt<=ut;xt++){gt=0,pt=.5/lt[xt];for(let vt=1;vt<=xt;vt++)gt-=at[vt]*Math.log(1-pt*lt[vt-1]);gt*=pt,mt=0,pt=.5/st[xt];for(let vt=xt+1;vt<rt.length;vt++)mt-=at[vt]*Math.log(1-pt*st[vt]);mt*=pt,ht=Math.abs(gt-mt),ht<dt&&(dt=ht,ft=xt)}return ft}function triangle(rt){let it=0,at=0,lt=0,st=0;for(let gt=0;gt<rt.length;gt++)if(rt[gt]>0){it=gt;break}it>0&&it--;for(let gt=rt.length-1;gt>0;gt--)if(rt[gt]>0){st=gt;break}st<rt.length-1&&st++;for(let gt=0;gt<rt.length;gt++)rt[gt]>at&&(lt=gt,at=rt[gt]);let ct=!1;if(lt-it<st-lt){ct=!0;let gt=0,mt=rt.length-1;for(;gt<mt;){const xt=rt[gt];rt[gt]=rt[mt],rt[mt]=xt,gt++,mt--}it=rt.length-1-st,lt=rt.length-1-lt}if(it===lt)return it;let ut,ft,dt;ut=rt[lt],ft=it-lt,dt=Math.sqrt(ut*ut+ft*ft),ut/=dt,ft/=dt,dt=ut*it+ft*rt[it];let pt=it,ht=0;for(let gt=it+1;gt<=lt;gt++){const mt=ut*gt+ft*rt[gt]-dt;mt>ht&&(pt=gt,ht=mt)}if(pt--,ct){let gt=0,mt=rt.length-1;for(;gt<mt;){const xt=rt[gt];rt[gt]=rt[mt],rt[mt]=xt,gt++,mt--}return rt.length-1-pt}else return pt}function yen(rt,it){const at=new Array(rt.length);for(let pt=0;pt<rt.length;pt++)at[pt]=rt[pt]/it;const lt=new Array(rt.length);lt[0]=at[0];for(let pt=1;pt<rt.length;pt++)lt[pt]=lt[pt-1]+at[pt];const st=new Array(rt.length);st[0]=at[0]*at[0];for(let pt=1;pt<rt.length;pt++)st[pt]=st[pt-1]+at[pt]*at[pt];const ct=new Array(rt.length);ct[rt.length-1]=0;for(let pt=rt.length-2;pt>=0;pt--)ct[pt]=ct[pt+1]+at[pt+1]*at[pt+1];let ut=-1,ft=Number.MIN_VALUE,dt;for(let pt=0;pt<rt.length;pt++)dt=-1*(st[pt]*ct[pt]>0?Math.log(st[pt]*ct[pt]):0)+2*(lt[pt]*(1-lt[pt])>0?Math.log(lt[pt]*(1-lt[pt])):0),dt>ft&&(ft=dt,ut=pt);return ut}var ThresholdAlgorithm;(function(rt){rt.HUANG="HUANG",rt.INTERMODES="INTERMODES",rt.ISODATA="ISODATA",rt.LI="LI",rt.MAX_ENTROPY="MAX_ENTROPY",rt.MEAN="MEAN",rt.MIN_ERROR="MIN_ERROR",rt.MINIMUM="MINIMUM",rt.MOMENTS="MOMENTS",rt.OTSU="OTSU",rt.PERCENTILE="PERCENTILE",rt.RENYI_ENTROPY="RENYI_ENTROPY",rt.SHANBHAG="SHANBHAG",rt.TRIANGLE="TRIANGLE",rt.YEN="YEN"})(ThresholdAlgorithm||(ThresholdAlgorithm={}));function computeThreshold(rt,it=ThresholdAlgorithm.OTSU){if(rt.channels!==1)throw new Error("threshold can only be computed on images with one channel");const at=rt.histogram();switch(it){case ThresholdAlgorithm.HUANG:return huang(at);case ThresholdAlgorithm.INTERMODES:return intermodes(at);case ThresholdAlgorithm.ISODATA:return isodata(at);case ThresholdAlgorithm.LI:return li(at,rt.size);case ThresholdAlgorithm.MAX_ENTROPY:return maxEntropy(at,rt.size);case ThresholdAlgorithm.MEAN:return mean$1(at,rt.size);case ThresholdAlgorithm.MINIMUM:return minimum(at);case ThresholdAlgorithm.MIN_ERROR:return minError(at,rt.size);case ThresholdAlgorithm.MOMENTS:return moments(at,rt.size);case ThresholdAlgorithm.OTSU:return otsu(at,rt.size);case ThresholdAlgorithm.PERCENTILE:return percentile(at);case ThresholdAlgorithm.RENYI_ENTROPY:return renyiEntropy(at,rt.size);case ThresholdAlgorithm.SHANBHAG:return shanbhag(at,rt.size);case ThresholdAlgorithm.TRIANGLE:return triangle(at);case ThresholdAlgorithm.YEN:return yen(at,rt.size);default:throw new RangeError(`unsupported threshold algorithm: ${it}`)}}function threshold(rt,it={}){let at;if("threshold"in it){const st=it.threshold;if(typeof st=="number")at=st;else if(typeof st=="string"&&st.endsWith("%")&&!Number.isNaN(Number(st.slice(0,-1)))){const ct=Number(st.slice(0,-1));if(ct<0||ct>100)throw new RangeError("threshold: threshold in percents is out of range 0 to 100");at=ct/100*rt.maxValue}else throw new Error("threshold: unrecognised threshold format")}else at=computeThreshold(rt,it.algorithm);validateValue(at,rt);const lt=imageToOutputMask(rt,it);for(let st=0;st<rt.size;st++)lt.setBitByIndex(st,rt.getValueByIndex(st,0)>at?1:0);return lt}function luma709(rt,it,at){return rt*6966+it*23436+at*2366>>15}function luma601(rt,it,at){return rt*9798+it*19235+at*3735>>15}function max$3(rt,it,at){return Math.max(rt,it,at)}function min$3(rt,it,at){return Math.min(rt,it,at)}function average(rt,it,at){return(rt+it+at)/3>>0}function minmax(rt,it,at){return(Math.max(rt,it,at)+Math.min(rt,it,at))/2}function red(rt){return rt}function green(rt,it){return it}function blue(rt,it,at){return at}function black(rt,it,at,lt){return Math.min(lt.maxValue-rt,lt.maxValue-it,lt.maxValue-at)}function cyan(rt,it,at,lt){let st=black(rt,it,at,lt);return(lt.maxValue-rt-st)/(1-st/lt.maxValue)>>0}function magenta(rt,it,at,lt){let st=black(rt,it,at,lt);return(lt.maxValue-it-st)/(1-st/lt.maxValue)>>0}function yellow(rt,it,at,lt){let st=black(rt,it,at,lt);return(lt.maxValue-at-st)/(1-st/lt.maxValue)>>0}function hue(rt,it,at,lt){let st=min$3(rt,it,at),ct=max$3(rt,it,at);if(ct===st)return 0;let ut=0,ft=ct-st;switch(ct){case rt:ut=(it-at)/ft+(it<at?6:0);break;case it:ut=(at-rt)/ft+2;break;case at:ut=(rt-it)/ft+4;break;default:throw new Error("unreachable")}return ut/6*lt.maxValue>>0}function saturation(rt,it,at,lt){let st=min$3(rt,it,at),ct=max$3(rt,it,at),ut=ct-st;return ct===0?0:ut/ct*lt.maxValue}function lightness(rt,it,at){let lt=min$3(rt,it,at);return(max$3(rt,it,at)+lt)/2}const greyAlgorithms=Object.freeze(Object.defineProperty({__proto__:null,average,black,blue,cyan,green,hue,lightness,luma601,luma709,magenta,max:max$3,min:min$3,minmax,red,saturation,yellow},Symbol.toStringTag,{value:"Module"}));function grey(rt,it={}){let{algorithm:at="luma709",keepAlpha:lt=!1,mergeAlpha:st=!0}=it;if(rt.colorModel!==ImageColorModel.RGB&&rt.colorModel!==ImageColorModel.RGBA)throw new Error("Image color model is not RGB or RGBA");lt=lt&&rt.alpha,st=st&&rt.alpha,lt&&(st=!1);let ct=lt?ImageColorModel.GREYA:ImageColorModel.GREY,ut=getOutputImage(rt,it,{newParameters:{colorModel:ct}}),ft;typeof at=="function"?ft=at:ft=greyAlgorithms[at];let dt=getClamp(ut);for(let pt=0;pt<rt.size;pt++){const ht=rt.getValueByIndex(pt,0),gt=rt.getValueByIndex(pt,1),mt=rt.getValueByIndex(pt,2);let xt;if(st){const vt=rt.getValueByIndex(pt,3);xt=dt(ft(ht,gt,mt,rt)*vt/rt.maxValue)}else if(xt=dt(ft(ht,gt,mt,rt)),lt){const vt=rt.getValueByIndex(pt,3);ut.setValueByIndex(pt,1,vt)}ut.setValueByIndex(pt,0,xt)}return ut}function setBlendedPixel(rt,it,at,lt={}){const{color:st=getDefaultColor(rt)}=lt;if(!rt.alpha)rt.setPixel(it,at,st);else{assert(rt instanceof Image);const ct=st[st.length-1];if(ct===rt.maxValue){rt.setPixel(it,at,st);return}const ut=rt.getValue(it,at,rt.channels-1);let ft=ct+ut*(1-ct/rt.maxValue);rt.setValue(it,at,rt.channels-1,ft);for(let dt=0;dt<rt.components;dt++){let pt=st[dt],ht=rt.getValue(it,at,dt),gt=(pt*ct+ht*ut*(1-ct/rt.maxValue))/ft;rt.setValue(it,at,dt,gt)}}}function copyTo(rt,it,at={}){const{origin:lt={column:0,row:0}}=at,{column:st,row:ct}=lt;if(rt.colorModel!==it.colorModel)throw new Error("copyTo: source and target must have the same color model.");let ut;it instanceof Image?ut=getOutputImage(it,at,{clone:!0}):ut=maskToOutputMask(it,at,{clone:!0});for(let ft=Math.max(ct,0);ft<Math.min(rt.height+ct,it.height);ft++)for(let dt=Math.max(st,0);dt<Math.min(rt.width+st,it.width);dt++){let pt=rt.getPixel(dt-st,ft-ct);setBlendedPixel(ut,dt,ft,{color:pt})}return ut}function crop(rt,it={}){const{origin:at={row:0,column:0},width:lt=rt.width-at.column,height:st=rt.height-at.row}=it,{column:ct,row:ut}=at;if(checkProcessable(rt,"crop",{bitDepth:[8,16]}),ut>rt.height-1||ct>rt.width-1)throw new Error(`crop: origin (row:${ut}, column:${ct}) out of range (${rt.width-1}; ${rt.height-1})`);if(lt<=0||st<=0)throw new Error(`crop: width and height (width:${lt}; height:${st}) must be positive numbers`);if(ut<0||ct<0)throw new Error(`crop: row and column (row:${ut}, column:${ct}) must be positive numbers`);if(lt>rt.width-ct||st>rt.height-ut)throw new Error(`crop: (row:${ut}, column: ${ct}, width:${lt}, height:${st}) size is out of range`);const ft=Image.createFrom(rt,{width:lt,height:st});for(let dt=0;dt<st;dt++)for(let pt=0;pt<lt;pt++)ft.setPixel(pt,dt,rt.getPixel(ct+pt,ut+dt));return ft}function paintMaskOnImage(rt,it,at={}){const{origin:lt={row:0,column:0},color:st=getDefaultColor(rt),blend:ct=!0}=at,{column:ut,row:ft}=lt;if(st.length!==rt.channels)throw new Error("paintMask: the given color is not compatible with the image");const dt=getOutputImage(rt,at,{clone:!0});if(ct){checkColorIsNumberArray(st);for(let pt=Math.max(ft,0);pt<Math.min(it.height+ft,rt.height);pt++)for(let ht=Math.max(ut,0);ht<Math.min(it.width+ut,rt.width);ht++)it.getBit(ht-ut,pt-ft)&&setBlendedPixel(dt,ht,pt,{color:st})}else for(let pt=Math.max(ft,0);pt<Math.min(it.height+ft,rt.height);pt++)for(let ht=Math.max(ut,0);ht<Math.min(it.width+ut,rt.width);ht++)if(it.getBit(ht-ut,pt-ft))for(let gt=0;gt<rt.channels;gt++){const mt=st[gt];typeof mt=="number"&&dt.setValue(ht,pt,gt,mt)}return dt}function checkColorIsNumberArray(rt){for(let it of rt)if(typeof it!="number")throw new Error("paintMask: cannot have null channels in color if blend is true")}function paintMaskOnMask(rt,it,at={}){const{origin:lt={row:0,column:0},value:st=1}=at,{column:ct,row:ut}=lt,ft=maskToOutputMask(rt,at,{clone:!0});for(let dt=Math.max(ut,0);dt<Math.min(it.height+ut,rt.height);dt++)for(let pt=Math.max(ct,0);pt<Math.min(it.width+ct,rt.width);pt++)it.getBit(pt-ct,dt-ut)&&ft.setBit(pt,dt,st);return ft}function cropAlpha(rt,it={}){checkProcessable(rt,"cropAlpha",{alpha:!0});const{threshold:at=rt.maxValue}=it;let lt=findLeft(rt,at,rt.components);if(lt===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let st=findTop(rt,at,rt.components,lt),ct=findBottom(rt,at,rt.components,lt),ut=findRight(rt,at,rt.components,lt,st,ct);return rt.crop({origin:{column:lt,row:st},width:ut-lt+1,height:ct-st+1})}function findLeft(rt,it,at){for(let lt=0;lt<rt.width;lt++)for(let st=0;st<rt.height;st++)if(rt.getValue(lt,st,at)>=it)return lt;return-1}function findTop(rt,it,at,lt){for(let st=0;st<rt.height;st++)for(let ct=lt;ct<rt.width;ct++)if(rt.getValue(ct,st,at)>=it)return st;return-1}function findBottom(rt,it,at,lt){for(let st=rt.height-1;st>=0;st--)for(let ct=lt;ct<rt.width;ct++)if(rt.getValue(ct,st,at)>=it)return st;return-1}function findRight(rt,it,at,lt,st,ct){for(let ut=rt.width-1;ut>=lt;ut--)for(let ft=st;ft<=ct;ft++)if(rt.getValue(ut,ft,at)>=it)return ut;return-1}var ColorDepth;(function(rt){rt[rt.UINT1=1]="UINT1",rt[rt.UINT8=8]="UINT8",rt[rt.UINT16=16]="UINT16"})(ColorDepth||(ColorDepth={}));var ImageCoordinates;(function(rt){rt.CENTER="CENTER",rt.TOP_LEFT="TOP_LEFT",rt.TOP_RIGHT="TOP_RIGHT",rt.BOTTOM_LEFT="BOTTOM_LEFT",rt.BOTTOM_RIGHT="BOTTOM_RIGHT"})(ImageCoordinates||(ImageCoordinates={}));class Image{constructor(it,at,lt={}){const{depth:st=ColorDepth.UINT8,data:ct,colorModel:ut=ImageColorModel.RGB,origin:ft={row:0,column:0}}=lt;if(it<1||!Number.isInteger(it))throw new RangeError(`width must be an integer and at least 1. Received ${it}`);if(at<1||!Number.isInteger(at))throw new RangeError(`height must be an integer and at least 1. Received ${at}`);this.width=it,this.height=at,this.size=it*at,this.depth=st,this.colorModel=ut,this.origin=ft;const dt=colorModels[ut];if(this.components=dt.components,this.alpha=dt.alpha,this.channels=dt.channels,this.maxValue=2**st-1,ct===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.depth,this.maxValue);else{if(st===ColorDepth.UINT8&&ct instanceof Uint16Array)throw new Error(`depth is ${st} but data is Uint16Array`);if(st===ColorDepth.UINT16&&ct instanceof Uint8Array)throw new Error(`depth is ${st} but data is Uint8Array`);const pt=this.size*this.channels;if(ct.length!==pt)throw new RangeError(`incorrect data size: ${ct.length}. Expected ${pt}`);this.data=ct}}static createFrom(it,at={}){const{width:lt=it.width,height:st=it.height}=at;let ct;return it instanceof Image?ct=it.depth:ct=ColorDepth.UINT8,new Image(lt,st,{depth:ct,colorModel:it.colorModel,origin:it.origin,...at})}getPixel(it,at){const lt=[],st=(at*this.width+it)*this.channels;for(let ct=0;ct<this.channels;ct++)lt.push(this.data[st+ct]);return lt}setPixel(it,at,lt){const st=(at*this.width+it)*this.channels;for(let ct=0;ct<this.channels;ct++)this.data[st+ct]=lt[ct]}setVisiblePixel(it,at,lt){it>=0&&it<this.width&&at>=0&&at<this.height&&this.setPixel(it,at,lt)}getPixelByIndex(it){const at=[],lt=it*this.channels;for(let st=0;st<this.channels;st++)at.push(this.data[lt+st]);return at}setPixelByIndex(it,at){const lt=it*this.channels;for(let st=0;st<this.channels;st++)this.data[lt+st]=at[st]}getValue(it,at,lt){return this.data[(at*this.width+it)*this.channels+lt]}setValue(it,at,lt,st){this.data[(at*this.width+it)*this.channels+lt]=st}getValueByIndex(it,at){return this.data[it*this.channels+at]}setValueByIndex(it,at,lt){this.data[it*this.channels+at]=lt}getValueByPoint(it,at){return this.getValue(it.column,it.row,at)}setValueByPoint(it,at,lt){this.setValue(it.column,it.row,at,lt)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,depth:this.depth}}[Symbol.for("nodejs.util.inspect.custom")](){let it;return this.height>20||this.width>20?it="[...]":it=printData$1(this),`Image {
  width: ${this.width}
  height: ${this.height}
  depth: ${this.depth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${it}
}`}fill(it){if(typeof it=="number")return validateValue(it,this),this.data.fill(it),this;if(it.length!==this.channels)throw new RangeError(`the size of value must match the number of channels (${this.channels}). Got ${it.length} instead`);for(const at of it)validateValue(at,this);for(let at=0;at<this.data.length;at+=this.channels)for(let lt=0;lt<=this.channels;lt++)this.data[at+lt]=it[lt];return this}fillChannel(it,at){validateChannel(it,this),validateValue(at,this);for(let lt=it;lt<this.data.length;lt+=this.channels)this.data[lt]=at;return this}getChannel(it){validateChannel(it,this);let at=new Array(this.size);for(let lt=0;lt<this.size;lt++)at[lt]=this.data[it+lt*this.channels];return at}fillAlpha(it){if(validateValue(it,this),!this.alpha)throw new Error("fillAlpha can only be called if the image has an alpha channel");const at=this.channels-1;return this.fillChannel(at,it)}clone(){return Image.createFrom(this,{data:this.data.slice()})}changeEach(it){for(let at=0;at<this.data.length;at++)this.data[at]=it(this.data[at])}getCoordinates(it,at=!1){switch(it){case ImageCoordinates.CENTER:{const lt=(this.width-1)/2,st=(this.height-1)/2;return at?{column:Math.round(lt),row:Math.round(st)}:{column:lt,row:st}}case ImageCoordinates.TOP_LEFT:return{column:0,row:0};case ImageCoordinates.TOP_RIGHT:return{column:this.width-1,row:0};case ImageCoordinates.BOTTOM_LEFT:return{column:0,row:this.height-1};case ImageCoordinates.BOTTOM_RIGHT:return{column:this.width-1,row:this.height-1};default:throw new Error(`Unknown image coordinates ${it}`)}}subtract(it,at={}){return subtract(this,it,at)}histogram(it){return histogram(this,it)}mean(){return mean$2(this)}median(){return median$1(this)}variance(){return variance(this)}drawPoints(it,at={}){return drawPoints(this,it,at)}drawLine(it,at,lt={}){return drawLineOnImage(this,it,at,lt)}drawRectangle(it={}){return drawRectangle(this,it)}drawPolyline(it,at={}){return drawPolylineOnImage(this,it,at)}drawPolygon(it,at={}){return drawPolygonOnImage(this,it,at)}drawCircle(it,at,lt={}){return drawCircleOnImage(this,it,at,lt)}drawMarker(it,at={}){return drawMarker(this,it,at)}drawMarkers(it,at={}){return drawMarkers(this,it,at)}split(){return split$1(this)}convertColor(it,at){return convertColor(this,it,at)}convertDepth(it){return convertDepth(this,it)}grey(it){return grey(this,it)}copyTo(it,at={}){return copyTo(this,it,at)}threshold(it={}){return threshold(this,it)}crop(it){return crop(this,it)}cropAlpha(it={}){return cropAlpha(this,it)}extract(it,at){return extract(this,it,at)}paintMask(it,at){return paintMaskOnImage(this,it,at)}blur(it){return blur(this,it)}directConvolution(it,at){return directConvolution(this,it,at)}rawDirectConvolution(it,at){return rawDirectConvolution(this,it,at)}separableConvolution(it,at,lt){return separableConvolution(this,it,at,lt)}gaussianBlur(it){return gaussianBlur(this,it)}flip(it){return flip$2(this,it)}invert(it){return invert(this,it)}hypotenuse(it,at){return hypotenuse(this,it,at)}gradientFilter(it){return gradientFilter(this,it)}derivativeFilter(it){return derivativeFilter(this,it)}level(it){return level(this,it)}correctColor(it,at){return correctColor(this,it,at)}rotate(it,at){return rotate(this,it,at)}resize(it){return resize(this,it)}transform(it,at){return transform(this,it,at)}erode(it){return erode(this,it)}dilate(it){return dilate(this,it)}open(it){return open(this,it)}close(it){return close(this,it)}topHat(it){return topHat(this,it)}bottomHat(it){return bottomHat(this,it)}morphologicalGradient(it){return morphologicalGradient(this,it)}cannyEdgeDetector(it){return cannyEdgeDetector(this,it)}}function createPixelArray(rt,it,at,lt,st){const ct=it*rt;let ut;switch(lt){case ColorDepth.UINT8:ut=new Uint8Array(ct);break;case ColorDepth.UINT16:ut=new Uint16Array(ct);break;default:throw new Error(`unexpected color depth: ${lt}`)}if(at)for(let ft=it-1;ft<ct;ft+=it)ut[ft]=st;return ut}function printData$1(rt){const it=[],at=rt.depth===8?3:5;for(let lt=0;lt<rt.height;lt++){const st=[];for(let ct=0;ct<rt.width;ct++)for(let ut=0;ut<rt.channels;ut++)st.push(String(rt.getValue(ct,lt,ut)).padStart(at," "));it.push(`[${st.join(" ")}]`)}return`{
    ${`[
     ${it.join(`
     `)}
    ]`}
  }`}function difference(rt,it){return{column:rt.column-it.column,row:rt.row-it.row}}function normalize$1(rt){let it=Math.sqrt(rt.column**2+rt.row**2);return{column:rt.column/it,row:rt.row/it}}function rotate$1(rt,it){let at=[];const lt=Math.cos(rt),st=Math.sin(rt);for(let ct of it)at.push({column:lt*ct.column-st*ct.row,row:st*ct.column+lt*ct.row});return at}function toDegrees(rt){return rt*180/Math.PI}function getAngle(rt,it){let at=difference(it,rt),lt=normalize$1(at),st=Math.acos(lt.column);return lt.row<0?-st:st}function getFeret(rt){const it=rt.getConvexHull(),at=it.points;if(it.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},aspectRatio:1};let lt=Number.POSITIVE_INFINITY,st=0,ct=[];for(let ht=0;ht<at.length;ht++){let gt=getAngle(at[ht],at[(ht+1)%at.length]);const mt=rotate$1(-gt,at);let xt=0,vt=[];for(let $t=0;$t<at.length;$t++){let _t=Math.abs(mt[ht].row-mt[$t].row);_t>xt&&(xt=_t,vt=[mt[ht],mt[$t]])}xt<lt&&(lt=xt,st=gt,ct=vt)}const ut={points:rotate$1(st,ct),length:lt,angle:toDegrees(st)};let ft=[],dt=0;for(let ht=0;ht<at.length-1;ht++)for(let gt=ht+1;gt<at.length;gt++){let mt=(at[ht].column-at[gt].column)**2+(at[ht].row-at[gt].row)**2;mt>dt&&(dt=mt,ft=[at[ht],at[gt]])}const pt={length:Math.sqrt(dt),angle:toDegrees(getAngle(ft[0],ft[1])),points:ft};return{minDiameter:ut,maxDiameter:pt,aspectRatio:ut.length/pt.length}}function getBorderPoints$1(rt,it={}){const{innerBorders:at=!1,allowCorners:lt=!1}=it;at||(rt=rt.solidFill());let st=[];for(let ct=0;ct<rt.width;ct++)rt.getBit(ct,0)&&st.push({column:ct,row:0}),rt.getBit(ct,rt.height-1)&&st.push({column:ct,row:rt.height-1});for(let ct=0;ct<rt.height;ct++)rt.getBit(0,ct)&&st.push({column:0,row:ct}),rt.getBit(rt.width-1,ct)&&st.push({column:rt.width-1,row:ct});for(let ct=1;ct<rt.height-1;ct++)for(let ut=1;ut<rt.width-1;ut++)rt.getBit(ut,ct)&&((rt.getBit(ut-1,ct)===0||rt.getBit(ut,ct-1)===0||rt.getBit(ut+1,ct)===0||rt.getBit(ut,ct+1)===0)&&st.push({column:ut,row:ct}),lt&&(rt.getBit(ut-1,ct-1)===0||rt.getBit(ut-1,ct+1)===0||rt.getBit(ut+1,ct-1)===0||rt.getBit(ut+1,ct+1)===0)&&st.push({column:ut,row:ct}));return st}function getLineLength(rt,it){return Math.sqrt((rt.column-it.column)**2+(rt.row-it.row)**2)}function getPolygonPerimeter(rt){let it=0;for(let at=0;at<rt.length;at++)it+=getLineLength(rt[(at+1)%rt.length],rt[at]);return it}function getPolygonArea(rt){let it=0;for(let at=0;at<rt.length;at++){const lt=(at+1)%rt.length;it+=rt[at].column*rt[lt].row,it-=rt[at].row*rt[lt].column}return Math.abs(it/2)}function getExtendedBorderPoints(rt){const it=rt.getBorderPoints({allowCorners:!0,innerBorders:!1});let at=[];for(let lt of it)at.push(lt,{column:lt.column+1,row:lt.row},{column:lt.column+1,row:lt.row+1},{column:lt.column,row:lt.row+1});return at}function monotoneChainConvexHull(rt,it={}){const{sorted:at=!1}=it;at||(rt=rt.slice().sort(byXThenY));const lt=rt.length,st=new Array(lt*2);let ct=0;for(let ft=0;ft<lt;ft++){const dt=rt[ft];for(;ct>=2&&cw(st[ct-2],st[ct-1],dt)<=0;)ct--;st[ct++]=dt}const ut=ct+1;for(let ft=lt-2;ft>=0;ft--){const dt=rt[ft];for(;ct>=ut&&cw(st[ct-2],st[ct-1],dt)<=0;)ct--;st[ct++]=dt}return st.slice(0,ct-1)}function cw(rt,it,at){return(it.row-rt.row)*(at.column-rt.column)-(it.column-rt.column)*(at.row-rt.row)}function byXThenY(rt,it){return rt.column===it.column?rt.row-it.row:rt.column-it.column}function getConvexHull(rt){const it=getExtendedBorderPoints(rt);if(it.length===0)return{points:[],surface:0,perimeter:0};const at=monotoneChainConvexHull(it),lt=getPolygonPerimeter(at),st=getPolygonArea(at);return{points:at,perimeter:lt,surface:st}}const leftFirst=(rt,it)=>rt.column<=it.column?-1:1,topFirst=(rt,it)=>rt.row>=it.row?-1:1;function getMbrAngle(rt){const it=rt.slice().sort(leftFirst),at=it.slice(0,2),lt=it.slice(2,4);at.sort(topFirst),lt.sort(topFirst);const st=at[0],ct=lt[0];return-toDegrees(getAngle(st,ct))}function getMbrFromPoints(rt){if(rt.length===0)return{corners:[],angle:0,width:0,height:0,surface:0,perimeter:0};if(rt.length===1)return{corners:[rt[0],rt[0],rt[0],rt[0]],perimeter:0,surface:0,angle:0,width:0,height:0};let it=[],at=Number.POSITIVE_INFINITY,lt=0,st=[];for(let pt=0;pt<rt.length;pt++){let ht=getAngle(rt[pt],rt[(pt+1)%rt.length]);it=rotate$1(-ht,rt);let gt=it[pt].column,mt=it[pt].row,xt=it[(pt+1)%it.length].column,vt=it[(pt+1)%it.length].row,$t=!0,_t=0,yt=0,Et=0;for(let Tt of it){let Rt=Tt.column,kt=Tt.row,At=(Rt-gt)/(xt-gt);$t?($t=!1,_t=At,yt=At):(At<_t&&(_t=At),At>yt&&(yt=At));let Ct=(-(xt-gt)*kt+xt*mt-vt*gt)/(xt-gt);Math.abs(Ct)>Math.abs(Et)&&(Et=Ct)}let wt={column:gt+_t*(xt-gt),row:mt},bt={column:gt+yt*(xt-gt),row:mt},St=Math.abs(Et*(_t-yt)*(xt-gt));St<at&&(lt=ht,at=St,st=[bt,wt,{column:wt.column,row:wt.row-Et},{column:bt.column,row:bt.row-Et}])}const ct=rotate$1(lt,st),ut=st[0].column-st[2].column,ft=st[0].row-st[2].row,dt=getMbrAngle(ct);return{corners:ct,surface:at,angle:dt,width:ut,height:ft,perimeter:2*ut+2*ft}}function getMbr(rt){const it=monotoneChainConvexHull(getExtendedBorderPoints(rt));return getMbrFromPoints(it)}function boolToNumber(rt){let it;return typeof rt=="boolean"?it=rt?1:0:it=rt,it}class Mask{constructor(it,at,lt={}){const{data:st,origin:ct={row:0,column:0}}=lt;if(it<1||!Number.isInteger(it))throw new RangeError(`width must be an integer and at least 1. Received ${it}`);if(at<1||!Number.isInteger(at))throw new RangeError(`height must be an integer and at least 1. Received ${at}`);this.width=it,this.height=at,this.size=it*at,this.depth=ColorDepth.UINT1,this.colorModel=ImageColorModel.BINARY,this.origin=ct;const ut=colorModels[this.colorModel];if(this.components=ut.components,this.alpha=ut.alpha,this.channels=ut.channels,this.maxValue=1,st===void 0)this.data=new Uint8Array(this.size);else{const ft=this.size*this.channels;if(st.length!==ft)throw new RangeError(`incorrect data size: ${st.length}. Expected ${ft}`);this.data=st}}static createFrom(it,at={}){const{width:lt=it.width,height:st=it.height,origin:ct=it.origin}=at;return new Mask(lt,st,{origin:ct,...at})}getPixel(it,at){const lt=[],st=at*this.width+it;return lt.push(this.data[st]),lt}setPixel(it,at,lt){const st=at*this.width+it;this.data[st]=lt[0]}setVisiblePixel(it,at,lt){it>=0&&it<this.width&&at>=0&&at<this.height&&this.setPixel(it,at,lt)}getPixelByIndex(it){return[this.data[it]]}setPixelByIndex(it,at){this.data[it]=at[0]}static fromPoints(it,at,lt){let st=new Mask(it,at);for(const ct of lt)st.setBit(ct.column,ct.row,1);return st}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(it,at){const lt=at*this.width+it;return this.data[lt]}setBit(it,at,lt){const st=at*this.width+it;this.data[st]=lt}getBitByIndex(it){return this.data[it*this.channels]}setBitByIndex(it,at){let lt=boolToNumber(at);this.data[it*this.channels]=lt}getValue(it,at,lt){return checkChannel(lt),this.getBit(it,at)}setValue(it,at,lt,st){checkChannel(lt),this.setBit(it,at,st)}getValueByIndex(it,at){return checkChannel(at),this.getBitByIndex(it)}setValueByIndex(it,at,lt){checkChannel(at),this.setBitByIndex(it,lt)}getValueByPoint(it){return this.getValue(it.column,it.row,0)}setValueByPoint(it,at){this.setValue(it.column,it.row,0,at)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for("nodejs.util.inspect.custom")](){let it;return this.height>20||this.width>20?it="[...]":it=printData(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${it}
}`}fill(it){let at=boolToNumber(it);return this.data.fill(at),this}convertColor(it){return convertColor(this,it)}invert(it){return invert(this,it)}subtract(it,at){return subtract(this,it,at)}and(it,at){return and(this,it,at)}or(it,at){return or(this,it,at)}getBorderPoints(it){return getBorderPoints$1(this,it)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(it){return erode(this,it)}dilate(it){return dilate(this,it)}open(it){return open(this,it)}close(it){return close(this,it)}topHat(it){return topHat(this,it)}bottomHat(it){return bottomHat(this,it)}morphologicalGradient(it){return morphologicalGradient(this,it)}clearBorder(it){return clearBorder(this,it)}floodFill(it){return floodFill(this,it)}solidFill(it){return solidFill(this,it)}drawPoints(it,at={}){return drawPoints(this,it,at)}drawLine(it,at,lt={}){return drawLineOnMask(this,it,at,lt)}drawPolyline(it,at={}){return drawPolylineOnMask(this,it,at)}drawPolygon(it,at={}){return drawPolygonOnMask(this,it,at)}drawRectangle(it={}){return drawRectangle(this,it)}copyTo(it,at={}){return copyTo(this,it,at)}paintMask(it,at){return paintMaskOnMask(this,it,at)}}function printData(rt){const it=[];for(let at=0;at<rt.height;at++){const lt=[];for(let st=0;st<rt.width;st++)lt.push(String(rt.getBit(st,at)));it.push(`[${lt.join(" ")}]`)}return it.join(`
        `)}function checkChannel(rt){if(rt!==0)throw new Error(`Channel value must be 0 on type Mask, got ${rt}.`)}function copyData(rt,it){if(it.width!==rt.width||it.height!==rt.height||it.colorModel!==rt.colorModel)throw new Error("copyData: images width, height or color model is different");it.data=rt.data.slice()}function getOutputImage(rt,it={},at={}){const{out:lt}=it,{newParameters:st,clone:ct}=at;if(lt===void 0)return ct?rt.clone():Image.createFrom(rt,st);{if(!(lt instanceof Image))throw new TypeError("out must be an Image object");const ut={width:rt.width,height:rt.height,depth:rt.depth,colorModel:rt.colorModel,...st};return checkRequirements(ut,lt),ct&&rt!==lt&&copyData(rt,lt),lt}}function maskToOutputImage(rt,it={}){const{out:at}=it;if(at===void 0)return Image.createFrom(rt,{colorModel:ImageColorModel.GREY});{if(!(at instanceof Image))throw new TypeError("out must be an Image object");const lt={width:rt.width,height:rt.height,depth:ColorDepth.UINT8,colorModel:ImageColorModel.GREY};return checkRequirements(lt,at),at}}function imageToOutputMask(rt,it={}){const{out:at}=it;if(at===void 0)return Mask.createFrom(rt);{if(!(at instanceof Mask))throw new TypeError("out must be a Mask object");const lt={width:rt.width,height:rt.height,depth:ColorDepth.UINT1,colorModel:ImageColorModel.BINARY};return checkRequirements(lt,at),at}}function checkRequirements(rt,it){for(const at in rt){const lt=at;if(it[lt]!==rt[lt])throw new RangeError(`cannot use out. Its ${at} property must be ${rt[lt]}. Found ${it[lt]}`)}}function maskToOutputMask(rt,it={},at={}){const{out:lt}=it,{newParameters:st,clone:ct}=at;if(lt===void 0)return ct?rt.clone():Mask.createFrom(rt,st);{if(!(lt instanceof Mask))throw new TypeError("out must be a Mask object");const ut={width:rt.width,height:rt.height,depth:ColorDepth.UINT1,colorModel:ImageColorModel.BINARY};return checkRequirements(ut,lt),ct&&rt!==lt&&copyData(rt,lt),lt}}function and(rt,it,at){const lt=maskToOutputMask(rt,at);if(rt.width!==it.width||rt.height!==it.height)throw new Error("and: both masks must have the same size");for(let st=0;st<lt.size;st++)rt.getBitByIndex(st)&&it.getBitByIndex(st)?lt.setBitByIndex(st,1):lt.setBitByIndex(st,0);return lt}function checkSize(rt){if(!Number.isInteger(rt)||rt<1)throw new TypeError(`size must be a positive integer. Got ${rt}`)}function checkKernel(rt){if(rt.length===0||rt.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${rt.length}`)}function checkBorderType(rt){if(rt!=="CONSTANT"&&rt!=="CUT")throw new RangeError(`unexpected border type: ${rt}`)}function checkInputLength(rt,it){if(rt!==it)throw new RangeError(`input length (${rt}) does not match setup size (${it})`)}function createArray(rt){const it=[];for(var at=0;at<rt;at++)it.push(0);return it}class DirectConvolution{constructor(it,at,lt="CONSTANT"){checkSize(it),checkKernel(at),checkBorderType(lt),this.size=it,this.kernelOffset=(at.length-1)/2,this.outputSize=lt==="CONSTANT"?it:it-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=at,this.kernelSize=at.length,this.borderType=lt}convolve(it){return checkInputLength(it.length,this.size),this.output.fill(0),this.borderType==="CONSTANT"?this._convolutionBorder0(it):this._convolutionBorderCut(it),this.output}_convolutionBorder0(it){for(let at=0;at<this.size;at++)for(let lt=0;lt<this.kernelSize;lt++)this.output[at]+=interpolateInput(it,at-this.kernelOffset+lt)*this.kernel[lt]}_convolutionBorderCut(it){for(let at=this.kernelOffset;at<this.size-this.kernelOffset;at++){const lt=at-this.kernelOffset;for(let st=0;st<this.kernelSize;st++)this.output[lt]+=it[lt+st]*this.kernel[st]}}}function interpolateInput(rt,it){return it<0||it>=rt.length?0:rt[it]}const BorderType$1={CONSTANT:"CONSTANT",CUT:"CUT"};var BorderType;(function(rt){rt.CONSTANT="CONSTANT",rt.REPLICATE="REPLICATE",rt.REFLECT="REFLECT",rt.WRAP="WRAP",rt.REFLECT_101="REFLECT_101"})(BorderType||(BorderType={}));function getBorderInterpolation(rt,it){switch(rt){case BorderType.CONSTANT:return getInterpolateConstant(it);case BorderType.REPLICATE:return interpolateReplicate;case BorderType.REFLECT:return interpolateReflect;case BorderType.REFLECT_101:return interpolateReflect101;case BorderType.WRAP:return interpolateWrap;default:throw new Error(`interpolateBorder cannot be used with border type ${rt}`)}}function checkRange(rt,it){if(rt<=0-it||rt>=it+it-1)throw new RangeError("interpolateBorder only supports borders smaller than the original image")}function getInterpolateConstant(rt){return function(at,lt,st,ct){const ut=interpolateConstantPoint(at,ct.width),ft=interpolateConstantPoint(lt,ct.height);return ut===-1||ft===-1?rt:ct.getValue(ut,ft,st)}}function interpolateConstantPoint(rt,it){return rt>=0&&rt<it?rt:-1}function interpolateReplicate(rt,it,at,lt){return lt.getValue(interpolateReplicatePoint(rt,lt.width),interpolateReplicatePoint(it,lt.height),at)}function interpolateReplicatePoint(rt,it){return rt>=0&&rt<it?rt:(checkRange(rt,it),rt<0?0:it-1)}function interpolateReflect(rt,it,at,lt){return lt.getValue(interpolateReflectPoint(rt,lt.width),interpolateReflectPoint(it,lt.height),at)}function interpolateReflectPoint(rt,it){return rt>=0&&rt<it?rt:(checkRange(rt,it),rt<0?-1-rt:it+it-1-rt)}function interpolateWrap(rt,it,at,lt){return lt.getValue(interpolateWrapPoint(rt,lt.width),interpolateWrapPoint(it,lt.height),at)}function interpolateWrapPoint(rt,it){return rt>=0&&rt<it?rt:(checkRange(rt,it),rt<0?it+rt:rt-it)}function interpolateReflect101(rt,it,at,lt){return lt.getValue(interpolateReflect101Point(rt,lt.width),interpolateReflect101Point(it,lt.height),at)}function interpolateReflect101Point(rt,it){return rt>=0&&rt<it?rt:(checkRange(rt,it),rt<0?0-rt:it+it-2-rt)}function round$1(rt){return rt%.5!==0?Math.round(rt):Math.floor(rt)%2===0?Math.floor(rt):Math.ceil(rt)}function directConvolution(rt,it,at={}){const{borderType:lt=BorderType.REFLECT_101,borderValue:st=0}=at,ct=rawDirectConvolution(rt,it,{borderType:lt,borderValue:st}),ut=getOutputImage(rt,at),ft=getClamp(ut);for(let dt=0;dt<rt.size;dt++)for(let pt=0;pt<rt.channels;pt++){let ht=dt*rt.channels+pt,gt=round$1(ft(ct[ht]));ut.setValueByIndex(dt,pt,gt)}return ut}function rawDirectConvolution(rt,it,at={}){const{borderType:lt=BorderType.REFLECT_101,borderValue:st=0}=at,ct=getBorderInterpolation(lt,st);let ut=new Float64Array(rt.size*rt.channels);for(let ft=0;ft<rt.channels;ft++)for(let dt=0;dt<rt.height;dt++)for(let pt=0;pt<rt.width;pt++){let ht=getIndex(pt,dt,rt,ft);ut[ht]=computeConvolutionValue(pt,dt,ft,rt,it,ct,{returnRawValue:!0})}return ut}function separableConvolution(rt,it,at,lt={}){const{normalize:st,borderType:ct=BorderType.REFLECT_101,borderValue:ut=0}=lt,ft=getBorderInterpolation(ct,ut);st&&([it,at]=normalizeSeparatedKernel(it,at));const dt=it.length-1,pt=dt/2,gt=(at.length-1)/2,{width:mt,height:xt,channels:vt}=rt,$t=mt-dt,_t=Image.createFrom(rt),yt=getClamp(_t),Et=new DirectConvolution(mt,it,BorderType$1.CUT),wt=new DirectConvolution(xt,at,BorderType$1.CUT),bt=new Float64Array(mt),St=new Float64Array(xt),Tt=new Float64Array($t*xt);for(let Ct=0;Ct<vt;Ct++){for(let Mt=0;Mt<xt;Mt++){for(let Nt=0;Nt<mt;Nt++)bt[Nt]=rt.getValue(Nt,Mt,Ct);const Ot=Et.convolve(bt);for(let Nt=0;Nt<$t;Nt++)Tt[Mt*$t+Nt]=Ot[Nt]}for(let Mt=0;Mt<$t;Mt++){const Ot=Mt+pt;for(let It=0;It<xt;It++)St[It]=Tt[It*$t+Mt];const Nt=wt.convolve(St);for(let It=0;It<Nt.length;It++){const Dt=(It+gt)*mt+Ot;_t.setValueByIndex(Dt,Ct,round$1(yt(Nt[It])))}}}const Rt=Matrix.rowVector(it),At=Matrix.columnVector(at).mmul(Rt).to2DArray();for(let Ct=0;Ct<vt;Ct++)for(let Mt=0;Mt<xt;Mt++)for(let Ot=0;Ot<pt;Ot++){const Nt=Mt*mt+Ot,It=mt-Ot-1,Dt=xt-Mt-1,zt=Dt*mt+It;_t.setValueByIndex(Nt,Ct,computeConvolutionValue(Ot,Mt,Ct,rt,At,ft,{clamp:yt})),_t.setValueByIndex(zt,Ct,computeConvolutionValue(It,Dt,Ct,rt,At,ft,{clamp:yt}))}for(let Ct=0;Ct<vt;Ct++)for(let Mt=0;Mt<mt;Mt++)for(let Ot=0;Ot<gt;Ot++){const Nt=Ot*mt+Mt,It=mt-Mt-1,Dt=xt-Ot-1,zt=Dt*mt+It;_t.setValueByIndex(Nt,Ct,computeConvolutionValue(Mt,Ot,Ct,rt,At,ft,{clamp:yt})),_t.setValueByIndex(zt,Ct,computeConvolutionValue(It,Dt,Ct,rt,At,ft,{clamp:yt}))}return _t}function computeConvolutionValue(rt,it,at,lt,st,ct,ut={}){let{returnRawValue:ft=!1,clamp:dt}=ut;ft&&(dt=void 0);let pt=0;const ht=st[0].length,gt=st.length,mt=(ht-1)/2,xt=(gt-1)/2;for(let vt=0;vt<gt;vt++)for(let $t=0;$t<ht;$t++){const _t=st[vt][$t];pt+=_t*ct(rt+$t-mt,it+vt-xt,at,lt)}return dt?round$1(dt(pt)):pt}function normalizeSeparatedKernel(rt,it){const at=rt.reduce((ut,ft)=>ut+ft,0),lt=it.reduce((ut,ft)=>ut+ft,0),st=at*lt;if(st<0)throw new Error("this separated kernel cannot be normalized");const ct=1/Math.sqrt(Math.abs(st));return[rt.map(ut=>ut*ct),it.map(ut=>ut*ct)]}function blur(rt,it){const{width:at,height:lt}=it,st=new Array(at).fill(1),ct=new Array(lt).fill(1);return separableConvolution(rt,st,ct,{normalize:!0,...it})}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];var DerivativeFilters;(function(rt){rt.SOBEL="SOBEL",rt.SCHARR="SCHARR",rt.PREWITT="PREWITT"})(DerivativeFilters||(DerivativeFilters={}));function derivativeFilter(rt,it={}){const{filter:at=DerivativeFilters.SOBEL}=it;let lt=SOBEL_X,st=SOBEL_Y;switch(at){case DerivativeFilters.SOBEL:break;case DerivativeFilters.SCHARR:lt=SCHARR_X,st=SCHARR_Y;break;case DerivativeFilters.PREWITT:lt=PREWITT_X,st=PREWITT_Y;break;default:throw new Error("derivativeFilter: unrecognised derivative filter.")}return rt.gradientFilter({kernelX:lt,kernelY:st,...it})}function getRadius(rt){if(rt%2!==1||rt<0)throw new Error("size must be positive and odd");return(rt-1)/2}function gaussianBlur(rt,it){if("sigma"in it){const{sigma:at,size:lt=getSize$1(at),borderType:st}=it,ct=getRadius(lt),ut=getKernel(ct,at);return separableConvolution(rt,ut,ut,{borderType:st})}else{const{sigmaX:at,sigmaY:lt,sizeX:st=getSize$1(at),sizeY:ct=getSize$1(lt),borderType:ut}=it,ft=getRadius(st),dt=getRadius(ct),pt=getKernel(ft,at),ht=getKernel(dt,lt);return separableConvolution(rt,pt,ht,{borderType:ut})}}function getKernel(rt,it){const at=rt*2+1,lt=new Array(at),st=it||((at-1)*.5-1)*.3+.8,ct=-.5/(st*st);let ut=0;for(let ft=0;ft<at;ft++){const dt=ft-rt,pt=Math.exp(ct*dt*dt);lt[ft]=pt,ut+=pt}for(let ft=0;ft<at;ft++)lt[ft]/=ut;return lt}function getSize$1(rt){return 2*Math.ceil(2*rt)+1}function gradientFilter(rt,it){const{borderType:at=BorderType.REPLICATE,borderValue:lt=0}=it;if(checkProcessable(rt,"gradientFilter",{bitDepth:[8,16],colorModel:ImageColorModel.GREY}),"kernelX"in it&&"kernelY"in it){const{kernelX:st,kernelY:ct}=it,ut=rt.rawDirectConvolution(st,{borderType:at,borderValue:lt}),ft=rt.rawDirectConvolution(ct,{borderType:at,borderValue:lt});let dt=new Image(rt.width,rt.height,{colorModel:ImageColorModel.GREY});for(let pt=0;pt<rt.size;pt++)dt.setValueByIndex(pt,0,Math.hypot(ut[pt],ft[pt]));return dt}else{if("kernelX"in it)return rt.directConvolution(it.kernelX,{borderType:at,borderValue:lt});if("kernelY"in it)return rt.directConvolution(it.kernelY,{borderType:at,borderValue:lt});throw new Error("kernelX and KernelY are not defined")}}function hypotenuse(rt,it,at={}){let{depth:lt=rt.depth,channels:st=[]}=at;for(let ut=0;ut<rt.components;ut++)st.push(ut);if(checkProcessable(rt,"hypotenuse",{bitDepth:[8,16,32]}),rt.width!==it.width||rt.height!==it.height)throw new Error("hypotenuse: both images must have the same size");if(rt.alpha!==it.alpha||rt.depth!==it.depth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(rt.channels!==it.channels)throw new Error("hypotenuse: both images must have the same number of channels");validateChannels(st,rt);let ct=Image.createFrom(rt,{depth:lt});for(const ut of st)for(let ft=0;ft<rt.size;ft++){let dt=Math.hypot(rt.getValueByIndex(ft,ut),it.getValueByIndex(ft,ut));ct.setValueByIndex(ft,ut,dt>ct.maxValue?ct.maxValue:dt)}return ct}function invert(rt,it){if(rt instanceof Image){const at=getOutputImage(rt,it);rt.alpha&&copyAlpha(rt,at);const{maxValue:lt,size:st}=at;for(let ct=0;ct<st;ct++)for(let ut=0;ut<rt.components;ut++)at.setValueByIndex(ct,ut,lt-rt.getValueByIndex(ct,ut));return at}else{const at=maskToOutputMask(rt,it);for(let lt=0;lt<at.size;lt++)at.setBitByIndex(lt,!rt.getBitByIndex(lt));return at}}function level(rt,it={}){let{inputMin:at=0,inputMax:lt=rt.maxValue,outputMin:st=0,outputMax:ct=rt.maxValue,gamma:ut=1,channels:ft=new Array(rt.components).fill(0).map((ht,gt)=>gt)}=it;validateChannels(ft,rt),checkProcessable(rt,"level",{bitDepth:[8,16]});let dt=getOutputImage(rt,it,{clone:!0});const pt=getClamp(rt);for(let ht=0;ht<rt.height;ht++)for(let gt=0;gt<rt.width;gt++)for(let mt of ft){let xt=rt.getValue(gt,ht,mt),vt=Math.max(Math.min(xt,lt),at);const $t=pt((vt-at)/(lt-at)),_t=pt($t**(1/ut)*(ct-st)+st);dt.setValue(gt,ht,mt,_t)}return dt}function or(rt,it,at){const lt=maskToOutputMask(rt,at);if(rt.width!==it.width||rt.height!==it.height)throw new Error("or: both masks must have the same size");for(let st=0;st<lt.size;st++)rt.getBitByIndex(st)||it.getBitByIndex(st)?lt.setBitByIndex(st,1):lt.setBitByIndex(st,0);return lt}function flipX(rt){checkProcessable(rt,"flipX",{bitDepth:[8,16]});for(let it=0;it<rt.height;it++)for(let at=0;at<Math.floor(rt.width/2);at++){const lt=at,st=rt.width-at-1;for(let ct=0;ct<rt.channels;ct++){const ut=rt.getValue(lt,it,ct);rt.setValue(lt,it,ct,rt.getValue(st,it,ct)),rt.setValue(st,it,ct,ut)}}return rt}function flipY(rt){checkProcessable(rt,"flipY",{bitDepth:[8,16]});for(let it=0;it<Math.floor(rt.height/2);it++)for(let at=0;at<rt.width;at++){const lt=it,st=rt.height-it-1;for(let ct=0;ct<rt.channels;ct++){const ut=rt.getValue(at,lt,ct);rt.setValue(at,lt,ct,rt.getValue(at,st,ct)),rt.setValue(at,st,ct,ut)}}return rt}function flip$2(rt,it={}){const{axis:at="horizontal"}=it;let lt=getOutputImage(rt,it,{clone:!0});return at==="horizontal"?flipX(lt):flipY(at==="vertical"?lt:flipX(lt))}var InterpolationType;(function(rt){rt.NEAREST="NEAREST",rt.BILINEAR="BILINEAR",rt.BICUBIC="BICUBIC"})(InterpolationType||(InterpolationType={}));function getInterpolationFunction(rt){switch(rt){case InterpolationType.NEAREST:return interpolateNearest;case InterpolationType.BILINEAR:return interpolateBilinear;case InterpolationType.BICUBIC:return interpolateBicubic;default:throw new Error(`interpolation ${rt} not implemented`)}}function interpolateNearest(rt,it,at,lt,st){return it=Math.round(it),at=Math.round(at),st(it,at,lt,rt)}function interpolateBilinear(rt,it,at,lt,st){const ct=Math.floor(it),ut=Math.floor(at);if(ct===it&&ut===at)return st(ct,ut,lt,rt);const ft=ct+1,dt=ut+1,pt=st(ct,ut,lt,rt),ht=st(ft,ut,lt,rt),gt=st(ct,dt,lt,rt),mt=st(ft,dt,lt,rt),xt=(ft-it)*pt+(it-ct)*ht,vt=(ft-it)*gt+(it-ct)*mt;return round$1((dt-at)*xt+(at-ut)*vt)}function interpolateBicubic(rt,it,at,lt,st,ct){const ut=Math.floor(it),ft=Math.floor(at);if(ut===it&&ft===at)return st(ut,ft,lt,rt);const dt=it-ut,pt=at-ft,ht=st(ut-1,ft-1,lt,rt),gt=st(ut,ft-1,lt,rt),mt=st(ut+1,ft-1,lt,rt),xt=st(ut+2,ft-1,lt,rt),vt=cubic(ht,gt,mt,xt,dt),$t=st(ut-1,ft,lt,rt),_t=st(ut,ft,lt,rt),yt=st(ut+1,ft,lt,rt),Et=st(ut+2,ft,lt,rt),wt=cubic($t,_t,yt,Et,dt),bt=st(ut-1,ft+1,lt,rt),St=st(ut,ft+1,lt,rt),Tt=st(ut+1,ft+1,lt,rt),Rt=st(ut+2,ft+1,lt,rt),kt=cubic(bt,St,Tt,Rt,dt),At=st(ut-1,ft+2,lt,rt),Ct=st(ut,ft+2,lt,rt),Mt=st(ut+1,ft+2,lt,rt),Ot=st(ut+2,ft+2,lt,rt),Nt=cubic(At,Ct,Mt,Ot,dt);return round$1(ct(cubic(vt,wt,kt,Nt,pt)))}function cubic(rt,it,at,lt,st){return it+.5*st*(at-rt+st*(2*rt-5*it+4*at-lt+st*(3*(it-at)+lt-rt)))}function transform(rt,it,at={}){const{borderType:lt=BorderType.CONSTANT,borderValue:st=0,interpolationType:ct=InterpolationType.BILINEAR,fullImage:ut}=at;let{width:ft=rt.width,height:dt=rt.height}=at;if(ut){it=it.map(Ct=>Ct.slice()),it[0][2]=0,it[1][2]=0;const xt=[rt.getCoordinates(ImageCoordinates.TOP_LEFT),rt.getCoordinates(ImageCoordinates.TOP_RIGHT),rt.getCoordinates(ImageCoordinates.BOTTOM_RIGHT),rt.getCoordinates(ImageCoordinates.BOTTOM_LEFT)];xt[1].column+=1,xt[2].column+=1,xt[2].row+=1,xt[3].row+=1;const vt=xt.map(Ct=>[transformPoint(it[0],Ct.column,Ct.row),transformPoint(it[1],Ct.column,Ct.row)]),$t=vt.map(Ct=>Ct[0]),_t=vt.map(Ct=>Ct[1]),yt=Math.max(...$t),Et=Math.max(..._t),wt=Math.min(...$t),bt=Math.min(..._t),St=[(rt.width-1)/2,(rt.height-1)/2];ft=yt-wt,dt=Et-bt;const Tt=transformPoint(it[0],St[0],St[1]),Rt=transformPoint(it[1],St[0],St[1]),kt=(ft-1)/2-Tt,At=(dt-1)/2-Rt;it[0][2]=kt,it[1][2]=At,ft=Math.round(ft),dt=Math.round(dt)}if(it.length!==2||it[0].length!==3||it[1].length!==3)throw new Error(`transform: transformation matrix must be 2x3, found ${it.length}x${it[1].length}`);at.inverse||(it=[it[0],it[1],[0,0,1]],it=inverse(new Matrix(it)).to2DArray());const pt=Image.createFrom(rt,{width:ft,height:dt}),ht=getBorderInterpolation(lt,st),gt=getClamp(pt),mt=getInterpolationFunction(ct);for(let xt=0;xt<pt.height;xt++)for(let vt=0;vt<pt.width;vt++){const $t=transformPoint(it[0],vt,xt),_t=transformPoint(it[1],vt,xt);for(let yt=0;yt<pt.channels;yt++){const Et=mt(rt,$t,_t,yt,ht,gt);pt.setValue(vt,xt,yt,Et)}}return pt}function transformPoint(rt,it,at){return rt[0]*it+rt[1]*at+rt[2]}function resize(rt,it){const{interpolationType:at=InterpolationType.BILINEAR,borderType:lt=BorderType.CONSTANT,borderValue:st=0}=it,{width:ct,height:ut}=checkOptions(rt,it),ft=Image.createFrom(rt,{width:ct,height:ut}),dt=getInterpolationFunction(at),pt=getBorderInterpolation(lt,st),ht=getClamp(ft),gt=(rt.width-1)/(ct-1),mt=(rt.height-1)/(ut-1);for(let xt=0;xt<ft.height;xt++)for(let vt=0;vt<ft.width;vt++){const $t=vt*gt,_t=xt*mt;for(let yt=0;yt<ft.channels;yt++){const Et=dt(rt,$t,_t,yt,pt,ht);ft.setValue(vt,xt,yt,Et)}}return ft}function checkOptions(rt,it){const{width:at,height:lt,xFactor:st,yFactor:ct,preserveAspectRatio:ut=!0}=it;if(at===void 0&&lt===void 0&&st===void 0&&ct===void 0)throw new Error("At least one of the width, height, xFactor or yFactor options must be passed");let ft,dt;const pt=getSize(at,st,rt.width,ut),ht=getSize(lt,ct,rt.height,ut);if(pt===void 0)if(ht!==void 0)ft=Math.round(ht*(rt.width/rt.height));else throw new Error("UNREACHABLE");else ft=pt;if(ht===void 0)if(pt!==void 0)dt=Math.round(pt*(rt.height/rt.width));else throw new Error("UNREACHABLE");else dt=ht;return{width:ft,height:dt,xFactor:st??ft/rt.width,yFactor:ct??dt/rt.height}}function getSize(rt,it,at,lt){if(rt===void 0){if(it!==void 0)return Math.round(at*it);if(!lt)return at}else{if(it!==void 0)throw new Error("factor and size cannot be passed together");return rt}}function rotate(rt,it,at={}){const{center:lt=ImageCoordinates.CENTER,scale:st=1}=at;let ct;typeof lt=="string"?ct=rt.getCoordinates(lt):ct=lt;const ut=getRotationMatrix(it,ct,st);return transform(rt,ut,at)}function getRotationMatrix(rt,it,at){const lt=rt*Math.PI/180,st=at*Math.cos(lt),ct=at*Math.sin(lt);return[[st,ct,(1-st)*it.column-ct*it.row],[-ct,st,ct*it.column+(1-st)*it.row]]}var imageTypeExports={},imageType$1={get exports(){return imageTypeExports},set exports(rt){imageTypeExports=rt}},fileTypeExports={},fileType$1={get exports(){return fileTypeExports},set exports(rt){fileTypeExports=rt}};(function(module){const toBytes=rt=>[...rt].map(it=>it.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(rt,it=0){let at=rt[it],lt=1,st=0;for(;++st<8;)lt*=256,at+=rt[it+st]*lt;return at}const fileType=rt=>{if(!(rt instanceof Uint8Array||rt instanceof ArrayBuffer||Buffer.isBuffer(rt)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof rt}\``);const it=rt instanceof Uint8Array?rt:new Uint8Array(rt);if(!(it&&it.length>1))return null;const at=(st,ct)=>{ct=Object.assign({offset:0},ct);for(let ut=0;ut<st.length;ut++)if(ct.mask){if(st[ut]!==(ct.mask[ut]&it[ut+ct.offset]))return!1}else if(st[ut]!==it[ut+ct.offset])return!1;return!0},lt=(st,ct)=>at(toBytes(st),ct);if(at([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(at([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(at([71,73,70]))return{ext:"gif",mime:"image/gif"};if(at([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(at([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((at([73,73,42,0])||at([77,77,0,42]))&&at([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(at([73,73,42,0])||at([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(at([66,77]))return{ext:"bmp",mime:"image/bmp"};if(at([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(at([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(at([80,75,3,4])){if(at([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(at(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(lt("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(lt("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(lt("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const st=(dt,pt=0)=>dt.findIndex((ht,gt,mt)=>gt>=pt&&mt[gt]===80&&mt[gt+1]===75&&mt[gt+2]===3&&mt[gt+3]===4);let ct=0,ut=!1,ft=null;do{const dt=ct+30;if(ut||(ut=at(oxmlContentTypes,{offset:dt})||at(oxmlRels,{offset:dt})),ft||(lt("word/",{offset:dt})?ft={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:lt("ppt/",{offset:dt})?ft={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:lt("xl/",{offset:dt})&&(ft={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ut&&ft)return ft;ct=st(it,dt)}while(ct>=0);if(ft)return ft}if(at([80,75])&&(it[2]===3||it[2]===5||it[2]===7)&&(it[3]===4||it[3]===6||it[3]===8))return{ext:"zip",mime:"application/zip"};if(at([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(at([82,97,114,33,26,7])&&(it[6]===0||it[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(at([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(at([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(at([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(at([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(at([51,103,112,53])||at([0,0,0])&&at([102,116,121,112],{offset:4})&&(at([109,112,52,49],{offset:8})||at([109,112,52,50],{offset:8})||at([105,115,111,109],{offset:8})||at([105,115,111,50],{offset:8})||at([109,109,112,52],{offset:8})||at([77,52,86],{offset:8})||at([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(at([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(at([26,69,223,163])){const st=it.subarray(4,4100),ct=st.findIndex((ut,ft,dt)=>dt[ft]===66&&dt[ft+1]===130);if(ct!==-1){const ut=ct+3,ft=dt=>[...dt].every((pt,ht)=>st[ut+ht]===pt.charCodeAt(0));if(ft("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(ft("webm"))return{ext:"webm",mime:"video/webm"}}}if(at([0,0,0,20,102,116,121,112,113,116,32,32])||at([102,114,101,101],{offset:4})||at([102,116,121,112,113,116,32,32],{offset:4})||at([109,100,97,116],{offset:4})||at([109,111,111,118],{offset:4})||at([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(at([82,73,70,70])){if(at([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(at([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(at([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(at([48,38,178,117,142,102,207,17,166,217])){let st=30;do{const ct=readUInt64LE(it,st+16);if(at([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:st})){if(at([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:st+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(at([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:st+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}st+=ct}while(st+24<=it.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(at([0,0,1,186])||at([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(at([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let st=0;st<2&&st<it.length-16;st++){if(at([73,68,51],{offset:st})||at([255,226],{offset:st,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(at([255,228],{offset:st,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(at([255,248],{offset:st,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(at([255,240],{offset:st,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(at([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(at([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(at([79,103,103,83]))return at([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:at([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:at([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:at([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:at([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(at([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(at([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(at([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(at([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(at([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(at([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((it[0]===67||it[0]===70)&&at([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(at([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(at([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(at([119,79,70,70])&&(at([0,1,0,0],{offset:4})||at([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(at([119,79,70,50])&&(at([0,1,0,0],{offset:4})||at([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(at([76,80],{offset:34})&&(at([0,0,1],{offset:8})||at([1,0,2],{offset:8})||at([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(at([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(at([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(at([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(at([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(at([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(at([37,33]))return{ext:"ps",mime:"application/postscript"};if(at([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(at([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(at([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(at([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(at([77,83,67,70])||at([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(at([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(at([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(at([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(at([31,160])||at([31,157]))return{ext:"Z",mime:"application/x-compress"};if(at([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(at([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(at([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(at([71],{offset:4})&&(at([71],{offset:192})||at([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(at([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(at([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(at([0,0,0,12,106,80,32,32,13,10,135,10])){if(at([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(at([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(at([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(at([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(at([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(lt("<?xml "))return{ext:"xml",mime:"application/xml"};if(at([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(at([102,116,121,112],{offset:4})){if(at([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(at([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(at([104,101,105,99],{offset:8})||at([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(at([104,101,118,99],{offset:8})||at([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return at([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:at([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:at([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:at([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:at([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:at([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:at([212,195,178,161])||at([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const rt=new stream.PassThrough,it=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{rt.fileType=fileType(it)}catch(at){reject(at)}readableStream.unshift(it),stream.pipeline?resolve(stream.pipeline(readableStream,rt,()=>{})):resolve(readableStream.pipe(rt))})})})(fileType$1);const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=rt=>{const it=fileType(rt);return imageExts.has(it&&it.ext)?it:null};imageType$1.exports=imageType;imageTypeExports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var encoderExports={},encoder$1={get exports(){return encoderExports},set exports(rt){encoderExports=rt}};(function(rt){function it(lt){var st=Math.floor,ct=new Array(64),ut=new Array(64),ft=new Array(64),dt=new Array(64),pt,ht,gt,mt,xt=new Array(65535),vt=new Array(65535),$t=new Array(64),_t=new Array(64),yt=[],Et=0,wt=7,bt=new Array(64),St=new Array(64),Tt=new Array(64),Rt=new Array(256),kt=new Array(2048),At,Ct=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Mt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],Nt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],It=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Dt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],zt=[0,1,2,3,4,5,6,7,8,9,10,11],Yt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Lt(jt){for(var xn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],vn=0;vn<64;vn++){var wn=st((xn[vn]*jt+50)/100);wn<1?wn=1:wn>255&&(wn=255),ct[Ct[vn]]=wn}for(var En=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Zt=0;Zt<64;Zt++){var sn=st((En[Zt]*jt+50)/100);sn<1?sn=1:sn>255&&(sn=255),ut[Ct[Zt]]=sn}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],dn=0,yn=0;yn<8;yn++)for(var $n=0;$n<8;$n++)ft[dn]=1/(ct[Ct[dn]]*Jt[yn]*Jt[$n]*8),dt[dn]=1/(ut[Ct[dn]]*Jt[yn]*Jt[$n]*8),dn++}function Ft(jt,xn){for(var vn=0,wn=0,En=new Array,Zt=1;Zt<=16;Zt++){for(var sn=1;sn<=jt[Zt];sn++)En[xn[wn]]=[],En[xn[wn]][0]=vn,En[xn[wn]][1]=Zt,wn++,vn++;vn*=2}return En}function qt(){pt=Ft(Mt,Ot),ht=Ft(Dt,zt),gt=Ft(Nt,It),mt=Ft(Yt,Pt)}function Gt(){for(var jt=1,xn=2,vn=1;vn<=15;vn++){for(var wn=jt;wn<xn;wn++)vt[32767+wn]=vn,xt[32767+wn]=[],xt[32767+wn][1]=vn,xt[32767+wn][0]=wn;for(var En=-(xn-1);En<=-jt;En++)vt[32767+En]=vn,xt[32767+En]=[],xt[32767+En][1]=vn,xt[32767+En][0]=xn-1+En;jt<<=1,xn<<=1}}function Ut(){for(var jt=0;jt<256;jt++)kt[jt]=19595*jt,kt[jt+256>>0]=38470*jt,kt[jt+512>>0]=7471*jt+32768,kt[jt+768>>0]=-11059*jt,kt[jt+1024>>0]=-21709*jt,kt[jt+1280>>0]=32768*jt+8421375,kt[jt+1536>>0]=-27439*jt,kt[jt+1792>>0]=-5329*jt}function Vt(jt){for(var xn=jt[0],vn=jt[1]-1;vn>=0;)xn&1<<vn&&(Et|=1<<wt),vn--,wt--,wt<0&&(Et==255?(Wt(255),Wt(0)):Wt(Et),wt=7,Et=0)}function Wt(jt){yt.push(jt)}function ln(jt){Wt(jt>>8&255),Wt(jt&255)}function pn(jt,xn){var vn,wn,En,Zt,sn,Jt,dn,yn,$n=0,Cn,Rn=8,Tn=64;for(Cn=0;Cn<Rn;++Cn){vn=jt[$n],wn=jt[$n+1],En=jt[$n+2],Zt=jt[$n+3],sn=jt[$n+4],Jt=jt[$n+5],dn=jt[$n+6],yn=jt[$n+7];var Mn=vn+yn,kn=vn-yn,An=wn+dn,Nn=wn-dn,On=En+Jt,In=En-Jt,Ln=Zt+sn,Yn=Zt-sn,Pn=Mn+Ln,Fn=Mn-Ln,Bn=An+On,Dn=An-On;jt[$n]=Pn+Bn,jt[$n+4]=Pn-Bn;var jn=(Dn+Fn)*.707106781;jt[$n+2]=Fn+jn,jt[$n+6]=Fn-jn,Pn=Yn+In,Bn=In+Nn,Dn=Nn+kn;var zn=(Pn-Dn)*.382683433,Un=.5411961*Pn+zn,Xn=1.306562965*Dn+zn,Qn=Bn*.707106781,Jn=kn+Qn,er=kn-Qn;jt[$n+5]=er+Un,jt[$n+3]=er-Un,jt[$n+1]=Jn+Xn,jt[$n+7]=Jn-Xn,$n+=8}for($n=0,Cn=0;Cn<Rn;++Cn){vn=jt[$n],wn=jt[$n+8],En=jt[$n+16],Zt=jt[$n+24],sn=jt[$n+32],Jt=jt[$n+40],dn=jt[$n+48],yn=jt[$n+56];var tr=vn+yn,Kn=vn-yn,nr=wn+dn,rr=wn-dn,ir=En+Jt,ar=En-Jt,lr=Zt+sn,vr=Zt-sn,Vn=tr+lr,qn=tr-lr,Hn=nr+ir,Gn=nr-ir;jt[$n]=Vn+Hn,jt[$n+32]=Vn-Hn;var sr=(Gn+qn)*.707106781;jt[$n+16]=qn+sr,jt[$n+48]=qn-sr,Vn=vr+ar,Hn=ar+rr,Gn=rr+Kn;var cr=(Vn-Gn)*.382683433,ur=.5411961*Vn+cr,fr=1.306562965*Gn+cr,dr=Hn*.707106781,pr=Kn+dr,hr=Kn-dr;jt[$n+40]=hr+ur,jt[$n+24]=hr-ur,jt[$n+8]=pr+fr,jt[$n+56]=pr-fr,$n++}var Wn;for(Cn=0;Cn<Tn;++Cn)Wn=jt[Cn]*xn[Cn],$t[Cn]=Wn>0?Wn+.5|0:Wn-.5|0;return $t}function Sn(){ln(65504),ln(16),Wt(74),Wt(70),Wt(73),Wt(70),Wt(0),Wt(1),Wt(1),Wt(0),ln(1),ln(1),Wt(0),Wt(0)}function Kt(jt){if(jt){ln(65505),jt[0]===69&&jt[1]===120&&jt[2]===105&&jt[3]===102?ln(jt.length+2):(ln(jt.length+5+2),Wt(69),Wt(120),Wt(105),Wt(102),Wt(0));for(var xn=0;xn<jt.length;xn++)Wt(jt[xn])}}function cn(jt,xn){ln(65472),ln(17),Wt(8),ln(xn),ln(jt),Wt(3),Wt(1),Wt(17),Wt(0),Wt(2),Wt(17),Wt(1),Wt(3),Wt(17),Wt(1)}function hn(){ln(65499),ln(132),Wt(0);for(var jt=0;jt<64;jt++)Wt(ct[jt]);Wt(1);for(var xn=0;xn<64;xn++)Wt(ut[xn])}function Ht(){ln(65476),ln(418),Wt(0);for(var jt=0;jt<16;jt++)Wt(Mt[jt+1]);for(var xn=0;xn<=11;xn++)Wt(Ot[xn]);Wt(16);for(var vn=0;vn<16;vn++)Wt(Nt[vn+1]);for(var wn=0;wn<=161;wn++)Wt(It[wn]);Wt(1);for(var En=0;En<16;En++)Wt(Dt[En+1]);for(var Zt=0;Zt<=11;Zt++)Wt(zt[Zt]);Wt(17);for(var sn=0;sn<16;sn++)Wt(Yt[sn+1]);for(var Jt=0;Jt<=161;Jt++)Wt(Pt[Jt])}function bn(jt){typeof jt>"u"||jt.constructor!==Array||jt.forEach(xn=>{if(typeof xn=="string"){ln(65534);var vn=xn.length;ln(vn+2);var wn;for(wn=0;wn<vn;wn++)Wt(xn.charCodeAt(wn))}})}function Qt(){ln(65498),ln(12),Wt(3),Wt(1),Wt(0),Wt(2),Wt(17),Wt(3),Wt(17),Wt(0),Wt(63),Wt(0)}function Xt(jt,xn,vn,wn,En){for(var Zt=En[0],sn=En[240],Jt,dn=16,yn=63,$n=64,Cn=pn(jt,xn),Rn=0;Rn<$n;++Rn)_t[Ct[Rn]]=Cn[Rn];var Tn=_t[0]-vn;vn=_t[0],Tn==0?Vt(wn[0]):(Jt=32767+Tn,Vt(wn[vt[Jt]]),Vt(xt[Jt]));for(var Mn=63;Mn>0&&_t[Mn]==0;Mn--);if(Mn==0)return Vt(Zt),vn;for(var kn=1,An;kn<=Mn;){for(var Nn=kn;_t[kn]==0&&kn<=Mn;++kn);var On=kn-Nn;if(On>=dn){An=On>>4;for(var In=1;In<=An;++In)Vt(sn);On=On&15}Jt=32767+_t[kn],Vt(En[(On<<4)+vt[Jt]]),Vt(xt[Jt]),kn++}return Mn!=yn&&Vt(Zt),vn}function gn(){for(var jt=String.fromCharCode,xn=0;xn<256;xn++)Rt[xn]=jt(xn)}this.encode=function(jt,xn){new Date().getTime(),xn&&mn(xn),yt=new Array,Et=0,wt=7,ln(65496),Sn(),bn(jt.comments),Kt(jt.exifBuffer),hn(),cn(jt.width,jt.height),Ht(),Qt();var vn=0,wn=0,En=0;Et=0,wt=7,this.encode.displayName="_encode_";for(var Zt=jt.data,sn=jt.width,Jt=jt.height,dn=sn*4,yn,$n=0,Cn,Rn,Tn,Mn,kn,An,Nn,On;$n<Jt;){for(yn=0;yn<dn;){for(Mn=dn*$n+yn,kn=Mn,An=-1,Nn=0,On=0;On<64;On++)Nn=On>>3,An=(On&7)*4,kn=Mn+Nn*dn+An,$n+Nn>=Jt&&(kn-=dn*($n+1+Nn-Jt)),yn+An>=dn&&(kn-=yn+An-dn+4),Cn=Zt[kn++],Rn=Zt[kn++],Tn=Zt[kn++],bt[On]=(kt[Cn]+kt[Rn+256>>0]+kt[Tn+512>>0]>>16)-128,St[On]=(kt[Cn+768>>0]+kt[Rn+1024>>0]+kt[Tn+1280>>0]>>16)-128,Tt[On]=(kt[Cn+1280>>0]+kt[Rn+1536>>0]+kt[Tn+1792>>0]>>16)-128;vn=Xt(bt,ft,vn,pt,gt),wn=Xt(St,dt,wn,ht,mt),En=Xt(Tt,dt,En,ht,mt),yn+=32}$n+=8}if(wt>=0){var In=[];In[1]=wt+1,In[0]=(1<<wt+1)-1,Vt(In)}return ln(65497),Buffer.from(yt)};function mn(jt){if(jt<=0&&(jt=1),jt>100&&(jt=100),At!=jt){var xn=0;jt<50?xn=Math.floor(5e3/jt):xn=Math.floor(200-jt*2),Lt(xn),At=jt}}function _n(){var jt=new Date().getTime();lt||(lt=50),gn(),qt(),Gt(),Ut(),mn(lt),new Date().getTime()-jt}_n()}rt.exports=at;function at(lt,st){typeof st>"u"&&(st=50);var ct=new it(st),ut=ct.encode(lt,st);return{data:ut,width:lt.width,height:lt.height}}})(encoder$1);var decoderExports={},decoder={get exports(){return decoderExports},set exports(rt){decoderExports=rt}};(function(rt){var it=function(){var st=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ct=4017,ut=799,ft=3406,dt=2276,pt=1567,ht=3784,gt=5793,mt=2896;function xt(){}function vt(St,Tt){for(var Rt=0,kt=[],At,Ct,Mt=16;Mt>0&&!St[Mt-1];)Mt--;kt.push({children:[],index:0});var Ot=kt[0],Nt;for(At=0;At<Mt;At++){for(Ct=0;Ct<St[At];Ct++){for(Ot=kt.pop(),Ot.children[Ot.index]=Tt[Rt];Ot.index>0;){if(kt.length===0)throw new Error("Could not recreate Huffman Table");Ot=kt.pop()}for(Ot.index++,kt.push(Ot);kt.length<=At;)kt.push(Nt={children:[],index:0}),Ot.children[Ot.index]=Nt.children,Ot=Nt;Rt++}At+1<Mt&&(kt.push(Nt={children:[],index:0}),Ot.children[Ot.index]=Nt.children,Ot=Nt)}return kt[0].children}function $t(St,Tt,Rt,kt,At,Ct,Mt,Ot,Nt,It){Rt.precision,Rt.samplesPerLine,Rt.scanLines;var Dt=Rt.mcusPerLine,zt=Rt.progressive;Rt.maxH,Rt.maxV;var Yt=Tt,Pt=0,Lt=0;function Ft(){if(Lt>0)return Lt--,Pt>>Lt&1;if(Pt=St[Tt++],Pt==255){var Jt=St[Tt++];if(Jt)throw new Error("unexpected marker: "+(Pt<<8|Jt).toString(16))}return Lt=7,Pt>>>7}function qt(Jt){for(var dn=Jt,yn;(yn=Ft())!==null;){if(dn=dn[yn],typeof dn=="number")return dn;if(typeof dn!="object")throw new Error("invalid huffman sequence")}return null}function Gt(Jt){for(var dn=0;Jt>0;){var yn=Ft();if(yn===null)return;dn=dn<<1|yn,Jt--}return dn}function Ut(Jt){var dn=Gt(Jt);return dn>=1<<Jt-1?dn:dn+(-1<<Jt)+1}function Vt(Jt,dn){var yn=qt(Jt.huffmanTableDC),$n=yn===0?0:Ut(yn);dn[0]=Jt.pred+=$n;for(var Cn=1;Cn<64;){var Rn=qt(Jt.huffmanTableAC),Tn=Rn&15,Mn=Rn>>4;if(Tn===0){if(Mn<15)break;Cn+=16;continue}Cn+=Mn;var kn=st[Cn];dn[kn]=Ut(Tn),Cn++}}function Wt(Jt,dn){var yn=qt(Jt.huffmanTableDC),$n=yn===0?0:Ut(yn)<<Nt;dn[0]=Jt.pred+=$n}function ln(Jt,dn){dn[0]|=Ft()<<Nt}var pn=0;function Sn(Jt,dn){if(pn>0){pn--;return}for(var yn=Ct,$n=Mt;yn<=$n;){var Cn=qt(Jt.huffmanTableAC),Rn=Cn&15,Tn=Cn>>4;if(Rn===0){if(Tn<15){pn=Gt(Tn)+(1<<Tn)-1;break}yn+=16;continue}yn+=Tn;var Mn=st[yn];dn[Mn]=Ut(Rn)*(1<<Nt),yn++}}var Kt=0,cn;function hn(Jt,dn){for(var yn=Ct,$n=Mt,Cn=0;yn<=$n;){var Rn=st[yn],Tn=dn[Rn]<0?-1:1;switch(Kt){case 0:var Mn=qt(Jt.huffmanTableAC),kn=Mn&15,Cn=Mn>>4;if(kn===0)Cn<15?(pn=Gt(Cn)+(1<<Cn),Kt=4):(Cn=16,Kt=1);else{if(kn!==1)throw new Error("invalid ACn encoding");cn=Ut(kn),Kt=Cn?2:3}continue;case 1:case 2:dn[Rn]?dn[Rn]+=(Ft()<<Nt)*Tn:(Cn--,Cn===0&&(Kt=Kt==2?3:0));break;case 3:dn[Rn]?dn[Rn]+=(Ft()<<Nt)*Tn:(dn[Rn]=cn<<Nt,Kt=0);break;case 4:dn[Rn]&&(dn[Rn]+=(Ft()<<Nt)*Tn);break}yn++}Kt===4&&(pn--,pn===0&&(Kt=0))}function Ht(Jt,dn,yn,$n,Cn){var Rn=yn/Dt|0,Tn=yn%Dt,Mn=Rn*Jt.v+$n,kn=Tn*Jt.h+Cn;Jt.blocks[Mn]===void 0&&It.tolerantDecoding||dn(Jt,Jt.blocks[Mn][kn])}function bn(Jt,dn,yn){var $n=yn/Jt.blocksPerLine|0,Cn=yn%Jt.blocksPerLine;Jt.blocks[$n]===void 0&&It.tolerantDecoding||dn(Jt,Jt.blocks[$n][Cn])}var Qt=kt.length,Xt,gn,mn,_n,jt,xn;zt?Ct===0?xn=Ot===0?Wt:ln:xn=Ot===0?Sn:hn:xn=Vt;var vn=0,wn,En;Qt==1?En=kt[0].blocksPerLine*kt[0].blocksPerColumn:En=Dt*Rt.mcusPerColumn,At||(At=En);for(var Zt,sn;vn<En;){for(gn=0;gn<Qt;gn++)kt[gn].pred=0;if(pn=0,Qt==1)for(Xt=kt[0],jt=0;jt<At;jt++)bn(Xt,xn,vn),vn++;else for(jt=0;jt<At;jt++){for(gn=0;gn<Qt;gn++)for(Xt=kt[gn],Zt=Xt.h,sn=Xt.v,mn=0;mn<sn;mn++)for(_n=0;_n<Zt;_n++)Ht(Xt,xn,vn,mn,_n);if(vn++,vn===En)break}if(vn===En)do{if(St[Tt]===255&&St[Tt+1]!==0)break;Tt+=1}while(Tt<St.length-2);if(Lt=0,wn=St[Tt]<<8|St[Tt+1],wn<65280)throw new Error("marker was not found");if(wn>=65488&&wn<=65495)Tt+=2;else break}return Tt-Yt}function _t(St,Tt){var Rt=[],kt=Tt.blocksPerLine,At=Tt.blocksPerColumn,Ct=kt<<3,Mt=new Int32Array(64),Ot=new Uint8Array(64);function Nt(Gt,Ut,Vt){var Wt=Tt.quantizationTable,ln,pn,Sn,Kt,cn,hn,Ht,bn,Qt,Xt=Vt,gn;for(gn=0;gn<64;gn++)Xt[gn]=Gt[gn]*Wt[gn];for(gn=0;gn<8;++gn){var mn=8*gn;if(Xt[1+mn]==0&&Xt[2+mn]==0&&Xt[3+mn]==0&&Xt[4+mn]==0&&Xt[5+mn]==0&&Xt[6+mn]==0&&Xt[7+mn]==0){Qt=gt*Xt[0+mn]+512>>10,Xt[0+mn]=Qt,Xt[1+mn]=Qt,Xt[2+mn]=Qt,Xt[3+mn]=Qt,Xt[4+mn]=Qt,Xt[5+mn]=Qt,Xt[6+mn]=Qt,Xt[7+mn]=Qt;continue}ln=gt*Xt[0+mn]+128>>8,pn=gt*Xt[4+mn]+128>>8,Sn=Xt[2+mn],Kt=Xt[6+mn],cn=mt*(Xt[1+mn]-Xt[7+mn])+128>>8,bn=mt*(Xt[1+mn]+Xt[7+mn])+128>>8,hn=Xt[3+mn]<<4,Ht=Xt[5+mn]<<4,Qt=ln-pn+1>>1,ln=ln+pn+1>>1,pn=Qt,Qt=Sn*ht+Kt*pt+128>>8,Sn=Sn*pt-Kt*ht+128>>8,Kt=Qt,Qt=cn-Ht+1>>1,cn=cn+Ht+1>>1,Ht=Qt,Qt=bn+hn+1>>1,hn=bn-hn+1>>1,bn=Qt,Qt=ln-Kt+1>>1,ln=ln+Kt+1>>1,Kt=Qt,Qt=pn-Sn+1>>1,pn=pn+Sn+1>>1,Sn=Qt,Qt=cn*dt+bn*ft+2048>>12,cn=cn*ft-bn*dt+2048>>12,bn=Qt,Qt=hn*ut+Ht*ct+2048>>12,hn=hn*ct-Ht*ut+2048>>12,Ht=Qt,Xt[0+mn]=ln+bn,Xt[7+mn]=ln-bn,Xt[1+mn]=pn+Ht,Xt[6+mn]=pn-Ht,Xt[2+mn]=Sn+hn,Xt[5+mn]=Sn-hn,Xt[3+mn]=Kt+cn,Xt[4+mn]=Kt-cn}for(gn=0;gn<8;++gn){var _n=gn;if(Xt[8+_n]==0&&Xt[16+_n]==0&&Xt[24+_n]==0&&Xt[32+_n]==0&&Xt[40+_n]==0&&Xt[48+_n]==0&&Xt[56+_n]==0){Qt=gt*Vt[gn+0]+8192>>14,Xt[0+_n]=Qt,Xt[8+_n]=Qt,Xt[16+_n]=Qt,Xt[24+_n]=Qt,Xt[32+_n]=Qt,Xt[40+_n]=Qt,Xt[48+_n]=Qt,Xt[56+_n]=Qt;continue}ln=gt*Xt[0+_n]+2048>>12,pn=gt*Xt[32+_n]+2048>>12,Sn=Xt[16+_n],Kt=Xt[48+_n],cn=mt*(Xt[8+_n]-Xt[56+_n])+2048>>12,bn=mt*(Xt[8+_n]+Xt[56+_n])+2048>>12,hn=Xt[24+_n],Ht=Xt[40+_n],Qt=ln-pn+1>>1,ln=ln+pn+1>>1,pn=Qt,Qt=Sn*ht+Kt*pt+2048>>12,Sn=Sn*pt-Kt*ht+2048>>12,Kt=Qt,Qt=cn-Ht+1>>1,cn=cn+Ht+1>>1,Ht=Qt,Qt=bn+hn+1>>1,hn=bn-hn+1>>1,bn=Qt,Qt=ln-Kt+1>>1,ln=ln+Kt+1>>1,Kt=Qt,Qt=pn-Sn+1>>1,pn=pn+Sn+1>>1,Sn=Qt,Qt=cn*dt+bn*ft+2048>>12,cn=cn*ft-bn*dt+2048>>12,bn=Qt,Qt=hn*ut+Ht*ct+2048>>12,hn=hn*ct-Ht*ut+2048>>12,Ht=Qt,Xt[0+_n]=ln+bn,Xt[56+_n]=ln-bn,Xt[8+_n]=pn+Ht,Xt[48+_n]=pn-Ht,Xt[16+_n]=Sn+hn,Xt[40+_n]=Sn-hn,Xt[24+_n]=Kt+cn,Xt[32+_n]=Kt-cn}for(gn=0;gn<64;++gn){var jt=128+(Xt[gn]+8>>4);Ut[gn]=jt<0?0:jt>255?255:jt}}bt(Ct*At*8);for(var It,Dt,zt=0;zt<At;zt++){var Yt=zt<<3;for(It=0;It<8;It++)Rt.push(new Uint8Array(Ct));for(var Pt=0;Pt<kt;Pt++){Nt(Tt.blocks[zt][Pt],Ot,Mt);var Lt=0,Ft=Pt<<3;for(Dt=0;Dt<8;Dt++){var qt=Rt[Yt+Dt];for(It=0;It<8;It++)qt[Ft+It]=Ot[Lt++]}}}return Rt}function yt(St){return St<0?0:St>255?255:St}xt.prototype={load:function(Tt){var Rt=new XMLHttpRequest;Rt.open("GET",Tt,!0),Rt.responseType="arraybuffer",Rt.onload=function(){var kt=new Uint8Array(Rt.response||Rt.mozResponseArrayBuffer);this.parse(kt),this.onload&&this.onload()}.bind(this),Rt.send(null)},parse:function(Tt){var Rt=this.opts.maxResolutionInMP*1e3*1e3,kt=0;Tt.length;function At(){var Tn=Tt[kt]<<8|Tt[kt+1];return kt+=2,Tn}function Ct(){var Tn=At(),Mn=Tt.subarray(kt,kt+Tn-2);return kt+=Mn.length,Mn}function Mt(Tn){var Mn=1,kn=1,An,Nn;for(Nn in Tn.components)Tn.components.hasOwnProperty(Nn)&&(An=Tn.components[Nn],Mn<An.h&&(Mn=An.h),kn<An.v&&(kn=An.v));var On=Math.ceil(Tn.samplesPerLine/8/Mn),In=Math.ceil(Tn.scanLines/8/kn);for(Nn in Tn.components)if(Tn.components.hasOwnProperty(Nn)){An=Tn.components[Nn];var Ln=Math.ceil(Math.ceil(Tn.samplesPerLine/8)*An.h/Mn),Yn=Math.ceil(Math.ceil(Tn.scanLines/8)*An.v/kn),Pn=On*An.h,Fn=In*An.v,Bn=Fn*Pn,Dn=[];bt(Bn*256);for(var jn=0;jn<Fn;jn++){for(var zn=[],Un=0;Un<Pn;Un++)zn.push(new Int32Array(64));Dn.push(zn)}An.blocksPerLine=Ln,An.blocksPerColumn=Yn,An.blocks=Dn}Tn.maxH=Mn,Tn.maxV=kn,Tn.mcusPerLine=On,Tn.mcusPerColumn=In}var Ot=null,Nt=null,It,Dt,zt=[],Yt=[],Pt=[],Lt=[],Ft=At(),qt=-1;if(this.comments=[],Ft!=65496)throw new Error("SOI not found");for(Ft=At();Ft!=65497;){var Gt,Ut;switch(Ft){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Vt=Ct();if(Ft===65534){var Wt=String.fromCharCode.apply(null,Vt);this.comments.push(Wt)}Ft===65504&&Vt[0]===74&&Vt[1]===70&&Vt[2]===73&&Vt[3]===70&&Vt[4]===0&&(Ot={version:{major:Vt[5],minor:Vt[6]},densityUnits:Vt[7],xDensity:Vt[8]<<8|Vt[9],yDensity:Vt[10]<<8|Vt[11],thumbWidth:Vt[12],thumbHeight:Vt[13],thumbData:Vt.subarray(14,14+3*Vt[12]*Vt[13])}),Ft===65505&&Vt[0]===69&&Vt[1]===120&&Vt[2]===105&&Vt[3]===102&&Vt[4]===0&&(this.exifBuffer=Vt.subarray(5,Vt.length)),Ft===65518&&Vt[0]===65&&Vt[1]===100&&Vt[2]===111&&Vt[3]===98&&Vt[4]===101&&Vt[5]===0&&(Nt={version:Vt[6],flags0:Vt[7]<<8|Vt[8],flags1:Vt[9]<<8|Vt[10],transformCode:Vt[11]});break;case 65499:for(var ln=At(),pn=ln+kt-2;kt<pn;){var Sn=Tt[kt++];bt(256);var Kt=new Int32Array(64);if(Sn>>4)if(Sn>>4===1)for(Ut=0;Ut<64;Ut++){var cn=st[Ut];Kt[cn]=At()}else throw new Error("DQT: invalid table spec");else for(Ut=0;Ut<64;Ut++){var cn=st[Ut];Kt[cn]=Tt[kt++]}zt[Sn&15]=Kt}break;case 65472:case 65473:case 65474:At(),It={},It.extended=Ft===65473,It.progressive=Ft===65474,It.precision=Tt[kt++],It.scanLines=At(),It.samplesPerLine=At(),It.components={},It.componentsOrder=[];var hn=It.scanLines*It.samplesPerLine;if(hn>Rt){var Ht=Math.ceil((hn-Rt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Ht}MP`)}var bn=Tt[kt++],Qt;for(Gt=0;Gt<bn;Gt++){Qt=Tt[kt];var Xt=Tt[kt+1]>>4,gn=Tt[kt+1]&15,mn=Tt[kt+2];if(Xt<=0||gn<=0)throw new Error("Invalid sampling factor, expected values above 0");It.componentsOrder.push(Qt),It.components[Qt]={h:Xt,v:gn,quantizationIdx:mn},kt+=3}Mt(It),Yt.push(It);break;case 65476:var _n=At();for(Gt=2;Gt<_n;){var jt=Tt[kt++],xn=new Uint8Array(16),vn=0;for(Ut=0;Ut<16;Ut++,kt++)vn+=xn[Ut]=Tt[kt];bt(16+vn);var wn=new Uint8Array(vn);for(Ut=0;Ut<vn;Ut++,kt++)wn[Ut]=Tt[kt];Gt+=17+vn,(jt>>4?Pt:Lt)[jt&15]=vt(xn,wn)}break;case 65501:At(),Dt=At();break;case 65500:At(),At();break;case 65498:At();var En=Tt[kt++],Zt=[],sn;for(Gt=0;Gt<En;Gt++){sn=It.components[Tt[kt++]];var Jt=Tt[kt++];sn.huffmanTableDC=Lt[Jt>>4],sn.huffmanTableAC=Pt[Jt&15],Zt.push(sn)}var dn=Tt[kt++],yn=Tt[kt++],$n=Tt[kt++],Cn=$t(Tt,kt,It,Zt,Dt,dn,yn,$n>>4,$n&15,this.opts);kt+=Cn;break;case 65535:Tt[kt]!==255&&kt--;break;default:if(Tt[kt-3]==255&&Tt[kt-2]>=192&&Tt[kt-2]<=254){kt-=3;break}else if(Ft===224||Ft==225){if(qt!==-1)throw new Error(`first unknown JPEG marker at offset ${qt.toString(16)}, second unknown JPEG marker ${Ft.toString(16)} at offset ${(kt-1).toString(16)}`);qt=kt-1;const Tn=At();if(Tt[kt+Tn-2]===255){kt+=Tn-2;break}}throw new Error("unknown JPEG marker "+Ft.toString(16))}Ft=At()}if(Yt.length!=1)throw new Error("only single frame JPEGs supported");for(var Gt=0;Gt<Yt.length;Gt++){var Rn=Yt[Gt].components;for(var Ut in Rn)Rn[Ut].quantizationTable=zt[Rn[Ut].quantizationIdx],delete Rn[Ut].quantizationIdx}this.width=It.samplesPerLine,this.height=It.scanLines,this.jfif=Ot,this.adobe=Nt,this.components=[];for(var Gt=0;Gt<It.componentsOrder.length;Gt++){var sn=It.components[It.componentsOrder[Gt]];this.components.push({lines:_t(It,sn),scaleX:sn.h/It.maxH,scaleY:sn.v/It.maxV})}},getData:function(Tt,Rt){var kt=this.width/Tt,At=this.height/Rt,Ct,Mt,Ot,Nt,It,Dt,zt,Yt,Pt,Lt,Ft=0,qt,Gt,Ut,Vt,Wt,ln,pn,Sn,Kt,cn,hn,Ht=Tt*Rt*this.components.length;bt(Ht);var bn=new Uint8Array(Ht);switch(this.components.length){case 1:for(Ct=this.components[0],Lt=0;Lt<Rt;Lt++)for(It=Ct.lines[0|Lt*Ct.scaleY*At],Pt=0;Pt<Tt;Pt++)qt=It[0|Pt*Ct.scaleX*kt],bn[Ft++]=qt;break;case 2:for(Ct=this.components[0],Mt=this.components[1],Lt=0;Lt<Rt;Lt++)for(It=Ct.lines[0|Lt*Ct.scaleY*At],Dt=Mt.lines[0|Lt*Mt.scaleY*At],Pt=0;Pt<Tt;Pt++)qt=It[0|Pt*Ct.scaleX*kt],bn[Ft++]=qt,qt=Dt[0|Pt*Mt.scaleX*kt],bn[Ft++]=qt;break;case 3:for(hn=!0,this.adobe&&this.adobe.transformCode?hn=!0:typeof this.opts.colorTransform<"u"&&(hn=!!this.opts.colorTransform),Ct=this.components[0],Mt=this.components[1],Ot=this.components[2],Lt=0;Lt<Rt;Lt++)for(It=Ct.lines[0|Lt*Ct.scaleY*At],Dt=Mt.lines[0|Lt*Mt.scaleY*At],zt=Ot.lines[0|Lt*Ot.scaleY*At],Pt=0;Pt<Tt;Pt++)hn?(qt=It[0|Pt*Ct.scaleX*kt],Gt=Dt[0|Pt*Mt.scaleX*kt],Ut=zt[0|Pt*Ot.scaleX*kt],Sn=yt(qt+1.402*(Ut-128)),Kt=yt(qt-.3441363*(Gt-128)-.71413636*(Ut-128)),cn=yt(qt+1.772*(Gt-128))):(Sn=It[0|Pt*Ct.scaleX*kt],Kt=Dt[0|Pt*Mt.scaleX*kt],cn=zt[0|Pt*Ot.scaleX*kt]),bn[Ft++]=Sn,bn[Ft++]=Kt,bn[Ft++]=cn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(hn=!1,this.adobe&&this.adobe.transformCode?hn=!0:typeof this.opts.colorTransform<"u"&&(hn=!!this.opts.colorTransform),Ct=this.components[0],Mt=this.components[1],Ot=this.components[2],Nt=this.components[3],Lt=0;Lt<Rt;Lt++)for(It=Ct.lines[0|Lt*Ct.scaleY*At],Dt=Mt.lines[0|Lt*Mt.scaleY*At],zt=Ot.lines[0|Lt*Ot.scaleY*At],Yt=Nt.lines[0|Lt*Nt.scaleY*At],Pt=0;Pt<Tt;Pt++)hn?(qt=It[0|Pt*Ct.scaleX*kt],Gt=Dt[0|Pt*Mt.scaleX*kt],Ut=zt[0|Pt*Ot.scaleX*kt],Vt=Yt[0|Pt*Nt.scaleX*kt],Wt=255-yt(qt+1.402*(Ut-128)),ln=255-yt(qt-.3441363*(Gt-128)-.71413636*(Ut-128)),pn=255-yt(qt+1.772*(Gt-128))):(Wt=It[0|Pt*Ct.scaleX*kt],ln=Dt[0|Pt*Mt.scaleX*kt],pn=zt[0|Pt*Ot.scaleX*kt],Vt=Yt[0|Pt*Nt.scaleX*kt]),bn[Ft++]=255-Wt,bn[Ft++]=255-ln,bn[Ft++]=255-pn,bn[Ft++]=255-Vt;break;default:throw new Error("Unsupported color mode")}return bn},copyToImageData:function(Tt,Rt){var kt=Tt.width,At=Tt.height,Ct=Tt.data,Mt=this.getData(kt,At),Ot=0,Nt=0,It,Dt,zt,Yt,Pt,Lt,Ft,qt,Gt;switch(this.components.length){case 1:for(Dt=0;Dt<At;Dt++)for(It=0;It<kt;It++)zt=Mt[Ot++],Ct[Nt++]=zt,Ct[Nt++]=zt,Ct[Nt++]=zt,Rt&&(Ct[Nt++]=255);break;case 3:for(Dt=0;Dt<At;Dt++)for(It=0;It<kt;It++)Ft=Mt[Ot++],qt=Mt[Ot++],Gt=Mt[Ot++],Ct[Nt++]=Ft,Ct[Nt++]=qt,Ct[Nt++]=Gt,Rt&&(Ct[Nt++]=255);break;case 4:for(Dt=0;Dt<At;Dt++)for(It=0;It<kt;It++)Pt=Mt[Ot++],Lt=Mt[Ot++],zt=Mt[Ot++],Yt=Mt[Ot++],Ft=255-yt(Pt*(1-Yt/255)+Yt),qt=255-yt(Lt*(1-Yt/255)+Yt),Gt=255-yt(zt*(1-Yt/255)+Yt),Ct[Nt++]=Ft,Ct[Nt++]=qt,Ct[Nt++]=Gt,Rt&&(Ct[Nt++]=255);break;default:throw new Error("Unsupported color mode")}}};var Et=0,wt=0;function bt(St=0){var Tt=Et+St;if(Tt>wt){var Rt=Math.ceil((Tt-wt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Rt}MB`)}Et=Tt}return xt.resetMaxMemoryUsage=function(St){Et=0,wt=St},xt.getBytesAllocated=function(){return Et},xt.requestMemoryAllocation=bt,xt}();rt.exports=at;function at(lt,st={}){var ct={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ut={...ct,...st},ft=new Uint8Array(lt),dt=new it;dt.opts=ut,it.resetMaxMemoryUsage(ut.maxMemoryUsageInMB*1024*1024),dt.parse(ft);var pt=ut.formatAsRGBA?4:3,ht=dt.width*dt.height*pt;try{it.requestMemoryAllocation(ht);var gt={width:dt.width,height:dt.height,exifBuffer:dt.exifBuffer,data:ut.useTArray?new Uint8Array(ht):Buffer.alloc(ht)};dt.comments.length>0&&(gt.comments=dt.comments)}catch(mt){throw mt instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+ht):mt instanceof ReferenceError&&mt.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):mt}return dt.copyToImageData(gt,ut.formatAsRGBA),gt}})(decoder);var encode$1=encoderExports,decode$2=decoderExports,jpegJs={encode:encode$1,decode:decode$2};function decodeJpeg(rt){const it=jpegJs.decode(rt,{useTArray:!0,maxMemoryUsageInMB:Number.POSITIVE_INFINITY,maxResolutionInMP:Number.POSITIVE_INFINITY});return new Image(it.width,it.height,{data:it.data,colorModel:ImageColorModel.RGBA})}(function(rt){if(rt.TextEncoder&&rt.TextDecoder)return!1;function it(lt="utf-8"){if(lt!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${lt}') is invalid.`)}Object.defineProperty(it.prototype,"encoding",{value:"utf-8"}),it.prototype.encode=function(lt,st={stream:!1}){if(st.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let ct=0;const ut=lt.length;let ft=0,dt=Math.max(32,ut+(ut>>1)+7),pt=new Uint8Array(dt>>3<<3);for(;ct<ut;){let ht=lt.charCodeAt(ct++);if(ht>=55296&&ht<=56319){if(ct<ut){const gt=lt.charCodeAt(ct);(gt&64512)===56320&&(++ct,ht=((ht&1023)<<10)+(gt&1023)+65536)}if(ht>=55296&&ht<=56319)continue}if(ft+4>pt.length){dt+=8,dt*=1+ct/lt.length*2,dt=dt>>3<<3;const gt=new Uint8Array(dt);gt.set(pt),pt=gt}if(ht&4294967168)if(!(ht&4294965248))pt[ft++]=ht>>6&31|192;else if(!(ht&4294901760))pt[ft++]=ht>>12&15|224,pt[ft++]=ht>>6&63|128;else if(!(ht&4292870144))pt[ft++]=ht>>18&7|240,pt[ft++]=ht>>12&63|128,pt[ft++]=ht>>6&63|128;else continue;else{pt[ft++]=ht;continue}pt[ft++]=ht&63|128}return pt.slice(0,ft)};function at(lt="utf-8",st={fatal:!1}){if(lt!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${lt}') is invalid.`);if(st.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(at.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(at.prototype,"fatal",{value:!1}),Object.defineProperty(at.prototype,"ignoreBOM",{value:!1}),at.prototype.decode=function(lt,st={stream:!1}){if(st.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const ct=new Uint8Array(lt);let ut=0;const ft=ct.length,dt=[];for(;ut<ft;){const pt=ct[ut++];if(pt===0)break;if(!(pt&128))dt.push(pt);else if((pt&224)===192){const ht=ct[ut++]&63;dt.push((pt&31)<<6|ht)}else if((pt&240)===224){const ht=ct[ut++]&63,gt=ct[ut++]&63;dt.push((pt&31)<<12|ht<<6|gt)}else if((pt&248)===240){const ht=ct[ut++]&63,gt=ct[ut++]&63,mt=ct[ut++]&63;let xt=(pt&7)<<18|ht<<12|gt<<6|mt;xt>65535&&(xt-=65536,dt.push(xt>>>10&1023|55296),xt=56320|xt&1023),dt.push(xt)}}return String.fromCharCode.apply(null,dt)},rt.TextEncoder=it,rt.TextDecoder=at})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$1(rt,it="utf8"){return new TextDecoder(it).decode(rt)}const encoder=new TextEncoder;function encode(rt){return encoder.encode(rt)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const rt=new Uint8Array(4),it=new Uint32Array(rt.buffer);return!((it[0]=1)&rt[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(it=defaultByteLength,at={}){let lt=!1;typeof it=="number"?it=new ArrayBuffer(it):(lt=!0,this.lastWrittenByte=it.byteLength);const st=at.offset?at.offset>>>0:0,ct=it.byteLength-st;let ut=st;(ArrayBuffer.isView(it)||it instanceof IOBuffer)&&(it.byteLength!==it.buffer.byteLength&&(ut=it.byteOffset+st),it=it.buffer),lt?this.lastWrittenByte=ct:this.lastWrittenByte=0,this.buffer=it,this.length=ct,this.byteLength=ct,this.byteOffset=ut,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ut,ct),this._mark=0,this._marks=[]}available(it=1){return this.offset+it<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(it=1){return this.offset+=it,this}back(it=1){return this.offset-=it,this}seek(it){return this.offset=it,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const it=this._marks.pop();if(it===void 0)throw new Error("Mark stack empty");return this.seek(it),this}rewind(){return this.offset=0,this}ensureAvailable(it=1){if(!this.available(it)){const lt=(this.offset+it)*2,st=new Uint8Array(lt);st.set(new Uint8Array(this.buffer)),this.buffer=st.buffer,this.length=this.byteLength=lt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(it=1){return this.readArray(it,"uint8")}readArray(it,at){const lt=typedArrays[at].BYTES_PER_ELEMENT*it,st=this.byteOffset+this.offset,ct=this.buffer.slice(st,st+lt);if(this.littleEndian===hostBigEndian&&at!=="uint8"&&at!=="int8"){const ft=new Uint8Array(this.buffer.slice(st,st+lt));ft.reverse();const dt=new typedArrays[at](ft.buffer);return this.offset+=lt,dt.reverse(),dt}const ut=new typedArrays[at](ct);return this.offset+=lt,ut}readInt16(){const it=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,it}readUint16(){const it=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,it}readInt32(){const it=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,it}readUint32(){const it=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,it}readFloat32(){const it=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,it}readFloat64(){const it=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,it}readBigInt64(){const it=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,it}readBigUint64(){const it=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,it}readChar(){return String.fromCharCode(this.readInt8())}readChars(it=1){let at="";for(let lt=0;lt<it;lt++)at+=this.readChar();return at}readUtf8(it=1){return decode$1(this.readBytes(it))}decodeText(it=1,at="utf-8"){return decode$1(this.readBytes(it),at)}writeBoolean(it){return this.writeUint8(it?255:0),this}writeInt8(it){return this.ensureAvailable(1),this._data.setInt8(this.offset++,it),this._updateLastWrittenByte(),this}writeUint8(it){return this.ensureAvailable(1),this._data.setUint8(this.offset++,it),this._updateLastWrittenByte(),this}writeByte(it){return this.writeUint8(it)}writeBytes(it){this.ensureAvailable(it.length);for(let at=0;at<it.length;at++)this._data.setUint8(this.offset++,it[at]);return this._updateLastWrittenByte(),this}writeInt16(it){return this.ensureAvailable(2),this._data.setInt16(this.offset,it,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(it){return this.ensureAvailable(2),this._data.setUint16(this.offset,it,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(it){return this.ensureAvailable(4),this._data.setInt32(this.offset,it,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(it){return this.ensureAvailable(4),this._data.setUint32(this.offset,it,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(it){return this.ensureAvailable(4),this._data.setFloat32(this.offset,it,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(it){return this.ensureAvailable(8),this._data.setFloat64(this.offset,it,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(it){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,it,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(it){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,it,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(it){return this.writeUint8(it.charCodeAt(0))}writeChars(it){for(let at=0;at<it.length;at++)this.writeUint8(it.charCodeAt(at));return this}writeUtf8(it){return this.writeBytes(encode(it))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1$1(rt){let it=rt.length;for(;--it>=0;)rt[it]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1$1(base_length);const base_dist=new Array(D_CODES$1);zero$1$1(base_dist);function StaticTreeDesc(rt,it,at,lt,st){this.static_tree=rt,this.extra_bits=it,this.extra_base=at,this.elems=lt,this.max_length=st,this.has_stree=rt&&rt.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(rt,it){this.dyn_tree=rt,this.max_code=0,this.stat_desc=it}const d_code=rt=>rt<256?_dist_code[rt]:_dist_code[256+(rt>>>7)],put_short=(rt,it)=>{rt.pending_buf[rt.pending++]=it&255,rt.pending_buf[rt.pending++]=it>>>8&255},send_bits=(rt,it,at)=>{rt.bi_valid>Buf_size-at?(rt.bi_buf|=it<<rt.bi_valid&65535,put_short(rt,rt.bi_buf),rt.bi_buf=it>>Buf_size-rt.bi_valid,rt.bi_valid+=at-Buf_size):(rt.bi_buf|=it<<rt.bi_valid&65535,rt.bi_valid+=at)},send_code=(rt,it,at)=>{send_bits(rt,at[it*2],at[it*2+1])},bi_reverse=(rt,it)=>{let at=0;do at|=rt&1,rt>>>=1,at<<=1;while(--it>0);return at>>>1},bi_flush=rt=>{rt.bi_valid===16?(put_short(rt,rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0):rt.bi_valid>=8&&(rt.pending_buf[rt.pending++]=rt.bi_buf&255,rt.bi_buf>>=8,rt.bi_valid-=8)},gen_bitlen=(rt,it)=>{const at=it.dyn_tree,lt=it.max_code,st=it.stat_desc.static_tree,ct=it.stat_desc.has_stree,ut=it.stat_desc.extra_bits,ft=it.stat_desc.extra_base,dt=it.stat_desc.max_length;let pt,ht,gt,mt,xt,vt,$t=0;for(mt=0;mt<=MAX_BITS$1;mt++)rt.bl_count[mt]=0;for(at[rt.heap[rt.heap_max]*2+1]=0,pt=rt.heap_max+1;pt<HEAP_SIZE$1;pt++)ht=rt.heap[pt],mt=at[at[ht*2+1]*2+1]+1,mt>dt&&(mt=dt,$t++),at[ht*2+1]=mt,!(ht>lt)&&(rt.bl_count[mt]++,xt=0,ht>=ft&&(xt=ut[ht-ft]),vt=at[ht*2],rt.opt_len+=vt*(mt+xt),ct&&(rt.static_len+=vt*(st[ht*2+1]+xt)));if($t!==0){do{for(mt=dt-1;rt.bl_count[mt]===0;)mt--;rt.bl_count[mt]--,rt.bl_count[mt+1]+=2,rt.bl_count[dt]--,$t-=2}while($t>0);for(mt=dt;mt!==0;mt--)for(ht=rt.bl_count[mt];ht!==0;)gt=rt.heap[--pt],!(gt>lt)&&(at[gt*2+1]!==mt&&(rt.opt_len+=(mt-at[gt*2+1])*at[gt*2],at[gt*2+1]=mt),ht--)}},gen_codes=(rt,it,at)=>{const lt=new Array(MAX_BITS$1+1);let st=0,ct,ut;for(ct=1;ct<=MAX_BITS$1;ct++)st=st+at[ct-1]<<1,lt[ct]=st;for(ut=0;ut<=it;ut++){let ft=rt[ut*2+1];ft!==0&&(rt[ut*2]=bi_reverse(lt[ft]++,ft))}},tr_static_init=()=>{let rt,it,at,lt,st;const ct=new Array(MAX_BITS$1+1);for(at=0,lt=0;lt<LENGTH_CODES$1-1;lt++)for(base_length[lt]=at,rt=0;rt<1<<extra_lbits[lt];rt++)_length_code[at++]=lt;for(_length_code[at-1]=lt,st=0,lt=0;lt<16;lt++)for(base_dist[lt]=st,rt=0;rt<1<<extra_dbits[lt];rt++)_dist_code[st++]=lt;for(st>>=7;lt<D_CODES$1;lt++)for(base_dist[lt]=st<<7,rt=0;rt<1<<extra_dbits[lt]-7;rt++)_dist_code[256+st++]=lt;for(it=0;it<=MAX_BITS$1;it++)ct[it]=0;for(rt=0;rt<=143;)static_ltree[rt*2+1]=8,rt++,ct[8]++;for(;rt<=255;)static_ltree[rt*2+1]=9,rt++,ct[9]++;for(;rt<=279;)static_ltree[rt*2+1]=7,rt++,ct[7]++;for(;rt<=287;)static_ltree[rt*2+1]=8,rt++,ct[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ct),rt=0;rt<D_CODES$1;rt++)static_dtree[rt*2+1]=5,static_dtree[rt*2]=bi_reverse(rt,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=rt=>{let it;for(it=0;it<L_CODES$1;it++)rt.dyn_ltree[it*2]=0;for(it=0;it<D_CODES$1;it++)rt.dyn_dtree[it*2]=0;for(it=0;it<BL_CODES$1;it++)rt.bl_tree[it*2]=0;rt.dyn_ltree[END_BLOCK*2]=1,rt.opt_len=rt.static_len=0,rt.sym_next=rt.matches=0},bi_windup=rt=>{rt.bi_valid>8?put_short(rt,rt.bi_buf):rt.bi_valid>0&&(rt.pending_buf[rt.pending++]=rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0},smaller=(rt,it,at,lt)=>{const st=it*2,ct=at*2;return rt[st]<rt[ct]||rt[st]===rt[ct]&&lt[it]<=lt[at]},pqdownheap=(rt,it,at)=>{const lt=rt.heap[at];let st=at<<1;for(;st<=rt.heap_len&&(st<rt.heap_len&&smaller(it,rt.heap[st+1],rt.heap[st],rt.depth)&&st++,!smaller(it,lt,rt.heap[st],rt.depth));)rt.heap[at]=rt.heap[st],at=st,st<<=1;rt.heap[at]=lt},compress_block=(rt,it,at)=>{let lt,st,ct=0,ut,ft;if(rt.sym_next!==0)do lt=rt.pending_buf[rt.sym_buf+ct++]&255,lt+=(rt.pending_buf[rt.sym_buf+ct++]&255)<<8,st=rt.pending_buf[rt.sym_buf+ct++],lt===0?send_code(rt,st,it):(ut=_length_code[st],send_code(rt,ut+LITERALS$1+1,it),ft=extra_lbits[ut],ft!==0&&(st-=base_length[ut],send_bits(rt,st,ft)),lt--,ut=d_code(lt),send_code(rt,ut,at),ft=extra_dbits[ut],ft!==0&&(lt-=base_dist[ut],send_bits(rt,lt,ft)));while(ct<rt.sym_next);send_code(rt,END_BLOCK,it)},build_tree=(rt,it)=>{const at=it.dyn_tree,lt=it.stat_desc.static_tree,st=it.stat_desc.has_stree,ct=it.stat_desc.elems;let ut,ft,dt=-1,pt;for(rt.heap_len=0,rt.heap_max=HEAP_SIZE$1,ut=0;ut<ct;ut++)at[ut*2]!==0?(rt.heap[++rt.heap_len]=dt=ut,rt.depth[ut]=0):at[ut*2+1]=0;for(;rt.heap_len<2;)pt=rt.heap[++rt.heap_len]=dt<2?++dt:0,at[pt*2]=1,rt.depth[pt]=0,rt.opt_len--,st&&(rt.static_len-=lt[pt*2+1]);for(it.max_code=dt,ut=rt.heap_len>>1;ut>=1;ut--)pqdownheap(rt,at,ut);pt=ct;do ut=rt.heap[1],rt.heap[1]=rt.heap[rt.heap_len--],pqdownheap(rt,at,1),ft=rt.heap[1],rt.heap[--rt.heap_max]=ut,rt.heap[--rt.heap_max]=ft,at[pt*2]=at[ut*2]+at[ft*2],rt.depth[pt]=(rt.depth[ut]>=rt.depth[ft]?rt.depth[ut]:rt.depth[ft])+1,at[ut*2+1]=at[ft*2+1]=pt,rt.heap[1]=pt++,pqdownheap(rt,at,1);while(rt.heap_len>=2);rt.heap[--rt.heap_max]=rt.heap[1],gen_bitlen(rt,it),gen_codes(at,dt,rt.bl_count)},scan_tree=(rt,it,at)=>{let lt,st=-1,ct,ut=it[0*2+1],ft=0,dt=7,pt=4;for(ut===0&&(dt=138,pt=3),it[(at+1)*2+1]=65535,lt=0;lt<=at;lt++)ct=ut,ut=it[(lt+1)*2+1],!(++ft<dt&&ct===ut)&&(ft<pt?rt.bl_tree[ct*2]+=ft:ct!==0?(ct!==st&&rt.bl_tree[ct*2]++,rt.bl_tree[REP_3_6*2]++):ft<=10?rt.bl_tree[REPZ_3_10*2]++:rt.bl_tree[REPZ_11_138*2]++,ft=0,st=ct,ut===0?(dt=138,pt=3):ct===ut?(dt=6,pt=3):(dt=7,pt=4))},send_tree=(rt,it,at)=>{let lt,st=-1,ct,ut=it[0*2+1],ft=0,dt=7,pt=4;for(ut===0&&(dt=138,pt=3),lt=0;lt<=at;lt++)if(ct=ut,ut=it[(lt+1)*2+1],!(++ft<dt&&ct===ut)){if(ft<pt)do send_code(rt,ct,rt.bl_tree);while(--ft!==0);else ct!==0?(ct!==st&&(send_code(rt,ct,rt.bl_tree),ft--),send_code(rt,REP_3_6,rt.bl_tree),send_bits(rt,ft-3,2)):ft<=10?(send_code(rt,REPZ_3_10,rt.bl_tree),send_bits(rt,ft-3,3)):(send_code(rt,REPZ_11_138,rt.bl_tree),send_bits(rt,ft-11,7));ft=0,st=ct,ut===0?(dt=138,pt=3):ct===ut?(dt=6,pt=3):(dt=7,pt=4)}},build_bl_tree=rt=>{let it;for(scan_tree(rt,rt.dyn_ltree,rt.l_desc.max_code),scan_tree(rt,rt.dyn_dtree,rt.d_desc.max_code),build_tree(rt,rt.bl_desc),it=BL_CODES$1-1;it>=3&&rt.bl_tree[bl_order[it]*2+1]===0;it--);return rt.opt_len+=3*(it+1)+5+5+4,it},send_all_trees=(rt,it,at,lt)=>{let st;for(send_bits(rt,it-257,5),send_bits(rt,at-1,5),send_bits(rt,lt-4,4),st=0;st<lt;st++)send_bits(rt,rt.bl_tree[bl_order[st]*2+1],3);send_tree(rt,rt.dyn_ltree,it-1),send_tree(rt,rt.dyn_dtree,at-1)},detect_data_type=rt=>{let it=4093624447,at;for(at=0;at<=31;at++,it>>>=1)if(it&1&&rt.dyn_ltree[at*2]!==0)return Z_BINARY;if(rt.dyn_ltree[9*2]!==0||rt.dyn_ltree[10*2]!==0||rt.dyn_ltree[13*2]!==0)return Z_TEXT;for(at=32;at<LITERALS$1;at++)if(rt.dyn_ltree[at*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=rt=>{static_init_done||(tr_static_init(),static_init_done=!0),rt.l_desc=new TreeDesc(rt.dyn_ltree,static_l_desc),rt.d_desc=new TreeDesc(rt.dyn_dtree,static_d_desc),rt.bl_desc=new TreeDesc(rt.bl_tree,static_bl_desc),rt.bi_buf=0,rt.bi_valid=0,init_block(rt)},_tr_stored_block$1=(rt,it,at,lt)=>{send_bits(rt,(STORED_BLOCK<<1)+(lt?1:0),3),bi_windup(rt),put_short(rt,at),put_short(rt,~at),at&&rt.pending_buf.set(rt.window.subarray(it,it+at),rt.pending),rt.pending+=at},_tr_align$1=rt=>{send_bits(rt,STATIC_TREES<<1,3),send_code(rt,END_BLOCK,static_ltree),bi_flush(rt)},_tr_flush_block$1=(rt,it,at,lt)=>{let st,ct,ut=0;rt.level>0?(rt.strm.data_type===Z_UNKNOWN$1&&(rt.strm.data_type=detect_data_type(rt)),build_tree(rt,rt.l_desc),build_tree(rt,rt.d_desc),ut=build_bl_tree(rt),st=rt.opt_len+3+7>>>3,ct=rt.static_len+3+7>>>3,ct<=st&&(st=ct)):st=ct=at+5,at+4<=st&&it!==-1?_tr_stored_block$1(rt,it,at,lt):rt.strategy===Z_FIXED$1||ct===st?(send_bits(rt,(STATIC_TREES<<1)+(lt?1:0),3),compress_block(rt,static_ltree,static_dtree)):(send_bits(rt,(DYN_TREES<<1)+(lt?1:0),3),send_all_trees(rt,rt.l_desc.max_code+1,rt.d_desc.max_code+1,ut+1),compress_block(rt,rt.dyn_ltree,rt.dyn_dtree)),init_block(rt),lt&&bi_windup(rt)},_tr_tally$1=(rt,it,at)=>(rt.pending_buf[rt.sym_buf+rt.sym_next++]=it,rt.pending_buf[rt.sym_buf+rt.sym_next++]=it>>8,rt.pending_buf[rt.sym_buf+rt.sym_next++]=at,it===0?rt.dyn_ltree[at*2]++:(rt.matches++,it--,rt.dyn_ltree[(_length_code[at]+LITERALS$1+1)*2]++,rt.dyn_dtree[d_code(it)*2]++),rt.sym_next===rt.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(rt,it,at,lt)=>{let st=rt&65535|0,ct=rt>>>16&65535|0,ut=0;for(;at!==0;){ut=at>2e3?2e3:at,at-=ut;do st=st+it[lt++]|0,ct=ct+st|0;while(--ut);st%=65521,ct%=65521}return st|ct<<16|0};var adler32_1=adler32;const makeTable=()=>{let rt,it=[];for(var at=0;at<256;at++){rt=at;for(var lt=0;lt<8;lt++)rt=rt&1?3988292384^rt>>>1:rt>>>1;it[at]=rt}return it},crcTable$1=new Uint32Array(makeTable()),crc32=(rt,it,at,lt)=>{const st=crcTable$1,ct=lt+at;rt^=-1;for(let ut=lt;ut<ct;ut++)rt=rt>>>8^st[(rt^it[ut])&255];return rt^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(rt,it)=>(rt.msg=messages[it],it),rank=rt=>rt*2-(rt>4?9:0),zero$3=rt=>{let it=rt.length;for(;--it>=0;)rt[it]=0},slide_hash=rt=>{let it,at,lt,st=rt.w_size;it=rt.hash_size,lt=it;do at=rt.head[--lt],rt.head[lt]=at>=st?at-st:0;while(--it);it=st,lt=it;do at=rt.prev[--lt],rt.prev[lt]=at>=st?at-st:0;while(--it)};let HASH_ZLIB=(rt,it,at)=>(it<<rt.hash_shift^at)&rt.hash_mask,HASH=HASH_ZLIB;const flush_pending=rt=>{const it=rt.state;let at=it.pending;at>rt.avail_out&&(at=rt.avail_out),at!==0&&(rt.output.set(it.pending_buf.subarray(it.pending_out,it.pending_out+at),rt.next_out),rt.next_out+=at,it.pending_out+=at,rt.total_out+=at,rt.avail_out-=at,it.pending-=at,it.pending===0&&(it.pending_out=0))},flush_block_only=(rt,it)=>{_tr_flush_block(rt,rt.block_start>=0?rt.block_start:-1,rt.strstart-rt.block_start,it),rt.block_start=rt.strstart,flush_pending(rt.strm)},put_byte=(rt,it)=>{rt.pending_buf[rt.pending++]=it},putShortMSB=(rt,it)=>{rt.pending_buf[rt.pending++]=it>>>8&255,rt.pending_buf[rt.pending++]=it&255},read_buf=(rt,it,at,lt)=>{let st=rt.avail_in;return st>lt&&(st=lt),st===0?0:(rt.avail_in-=st,it.set(rt.input.subarray(rt.next_in,rt.next_in+st),at),rt.state.wrap===1?rt.adler=adler32_1(rt.adler,it,st,at):rt.state.wrap===2&&(rt.adler=crc32_1(rt.adler,it,st,at)),rt.next_in+=st,rt.total_in+=st,st)},longest_match=(rt,it)=>{let at=rt.max_chain_length,lt=rt.strstart,st,ct,ut=rt.prev_length,ft=rt.nice_match;const dt=rt.strstart>rt.w_size-MIN_LOOKAHEAD?rt.strstart-(rt.w_size-MIN_LOOKAHEAD):0,pt=rt.window,ht=rt.w_mask,gt=rt.prev,mt=rt.strstart+MAX_MATCH;let xt=pt[lt+ut-1],vt=pt[lt+ut];rt.prev_length>=rt.good_match&&(at>>=2),ft>rt.lookahead&&(ft=rt.lookahead);do if(st=it,!(pt[st+ut]!==vt||pt[st+ut-1]!==xt||pt[st]!==pt[lt]||pt[++st]!==pt[lt+1])){lt+=2,st++;do;while(pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&lt<mt);if(ct=MAX_MATCH-(mt-lt),lt=mt-MAX_MATCH,ct>ut){if(rt.match_start=it,ut=ct,ct>=ft)break;xt=pt[lt+ut-1],vt=pt[lt+ut]}}while((it=gt[it&ht])>dt&&--at!==0);return ut<=rt.lookahead?ut:rt.lookahead},fill_window=rt=>{const it=rt.w_size;let at,lt,st;do{if(lt=rt.window_size-rt.lookahead-rt.strstart,rt.strstart>=it+(it-MIN_LOOKAHEAD)&&(rt.window.set(rt.window.subarray(it,it+it-lt),0),rt.match_start-=it,rt.strstart-=it,rt.block_start-=it,rt.insert>rt.strstart&&(rt.insert=rt.strstart),slide_hash(rt),lt+=it),rt.strm.avail_in===0)break;if(at=read_buf(rt.strm,rt.window,rt.strstart+rt.lookahead,lt),rt.lookahead+=at,rt.lookahead+rt.insert>=MIN_MATCH)for(st=rt.strstart-rt.insert,rt.ins_h=rt.window[st],rt.ins_h=HASH(rt,rt.ins_h,rt.window[st+1]);rt.insert&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[st+MIN_MATCH-1]),rt.prev[st&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=st,st++,rt.insert--,!(rt.lookahead+rt.insert<MIN_MATCH)););}while(rt.lookahead<MIN_LOOKAHEAD&&rt.strm.avail_in!==0)},deflate_stored=(rt,it)=>{let at=rt.pending_buf_size-5>rt.w_size?rt.w_size:rt.pending_buf_size-5,lt,st,ct,ut=0,ft=rt.strm.avail_in;do{if(lt=65535,ct=rt.bi_valid+42>>3,rt.strm.avail_out<ct||(ct=rt.strm.avail_out-ct,st=rt.strstart-rt.block_start,lt>st+rt.strm.avail_in&&(lt=st+rt.strm.avail_in),lt>ct&&(lt=ct),lt<at&&(lt===0&&it!==Z_FINISH$3||it===Z_NO_FLUSH$2||lt!==st+rt.strm.avail_in)))break;ut=it===Z_FINISH$3&&lt===st+rt.strm.avail_in?1:0,_tr_stored_block(rt,0,0,ut),rt.pending_buf[rt.pending-4]=lt,rt.pending_buf[rt.pending-3]=lt>>8,rt.pending_buf[rt.pending-2]=~lt,rt.pending_buf[rt.pending-1]=~lt>>8,flush_pending(rt.strm),st&&(st>lt&&(st=lt),rt.strm.output.set(rt.window.subarray(rt.block_start,rt.block_start+st),rt.strm.next_out),rt.strm.next_out+=st,rt.strm.avail_out-=st,rt.strm.total_out+=st,rt.block_start+=st,lt-=st),lt&&(read_buf(rt.strm,rt.strm.output,rt.strm.next_out,lt),rt.strm.next_out+=lt,rt.strm.avail_out-=lt,rt.strm.total_out+=lt)}while(ut===0);return ft-=rt.strm.avail_in,ft&&(ft>=rt.w_size?(rt.matches=2,rt.window.set(rt.strm.input.subarray(rt.strm.next_in-rt.w_size,rt.strm.next_in),0),rt.strstart=rt.w_size,rt.insert=rt.strstart):(rt.window_size-rt.strstart<=ft&&(rt.strstart-=rt.w_size,rt.window.set(rt.window.subarray(rt.w_size,rt.w_size+rt.strstart),0),rt.matches<2&&rt.matches++,rt.insert>rt.strstart&&(rt.insert=rt.strstart)),rt.window.set(rt.strm.input.subarray(rt.strm.next_in-ft,rt.strm.next_in),rt.strstart),rt.strstart+=ft,rt.insert+=ft>rt.w_size-rt.insert?rt.w_size-rt.insert:ft),rt.block_start=rt.strstart),rt.high_water<rt.strstart&&(rt.high_water=rt.strstart),ut?BS_FINISH_DONE:it!==Z_NO_FLUSH$2&&it!==Z_FINISH$3&&rt.strm.avail_in===0&&rt.strstart===rt.block_start?BS_BLOCK_DONE:(ct=rt.window_size-rt.strstart,rt.strm.avail_in>ct&&rt.block_start>=rt.w_size&&(rt.block_start-=rt.w_size,rt.strstart-=rt.w_size,rt.window.set(rt.window.subarray(rt.w_size,rt.w_size+rt.strstart),0),rt.matches<2&&rt.matches++,ct+=rt.w_size,rt.insert>rt.strstart&&(rt.insert=rt.strstart)),ct>rt.strm.avail_in&&(ct=rt.strm.avail_in),ct&&(read_buf(rt.strm,rt.window,rt.strstart,ct),rt.strstart+=ct,rt.insert+=ct>rt.w_size-rt.insert?rt.w_size-rt.insert:ct),rt.high_water<rt.strstart&&(rt.high_water=rt.strstart),ct=rt.bi_valid+42>>3,ct=rt.pending_buf_size-ct>65535?65535:rt.pending_buf_size-ct,at=ct>rt.w_size?rt.w_size:ct,st=rt.strstart-rt.block_start,(st>=at||(st||it===Z_FINISH$3)&&it!==Z_NO_FLUSH$2&&rt.strm.avail_in===0&&st<=ct)&&(lt=st>ct?ct:st,ut=it===Z_FINISH$3&&rt.strm.avail_in===0&&lt===st?1:0,_tr_stored_block(rt,rt.block_start,lt,ut),rt.block_start+=lt,flush_pending(rt.strm)),ut?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(rt,it)=>{let at,lt;for(;;){if(rt.lookahead<MIN_LOOKAHEAD){if(fill_window(rt),rt.lookahead<MIN_LOOKAHEAD&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(at=0,rt.lookahead>=MIN_MATCH&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),at=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),at!==0&&rt.strstart-at<=rt.w_size-MIN_LOOKAHEAD&&(rt.match_length=longest_match(rt,at)),rt.match_length>=MIN_MATCH)if(lt=_tr_tally(rt,rt.strstart-rt.match_start,rt.match_length-MIN_MATCH),rt.lookahead-=rt.match_length,rt.match_length<=rt.max_lazy_match&&rt.lookahead>=MIN_MATCH){rt.match_length--;do rt.strstart++,rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),at=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart;while(--rt.match_length!==0);rt.strstart++}else rt.strstart+=rt.match_length,rt.match_length=0,rt.ins_h=rt.window[rt.strstart],rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+1]);else lt=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++;if(lt&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=rt.strstart<MIN_MATCH-1?rt.strstart:MIN_MATCH-1,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(rt,it)=>{let at,lt,st;for(;;){if(rt.lookahead<MIN_LOOKAHEAD){if(fill_window(rt),rt.lookahead<MIN_LOOKAHEAD&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(at=0,rt.lookahead>=MIN_MATCH&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),at=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),rt.prev_length=rt.match_length,rt.prev_match=rt.match_start,rt.match_length=MIN_MATCH-1,at!==0&&rt.prev_length<rt.max_lazy_match&&rt.strstart-at<=rt.w_size-MIN_LOOKAHEAD&&(rt.match_length=longest_match(rt,at),rt.match_length<=5&&(rt.strategy===Z_FILTERED||rt.match_length===MIN_MATCH&&rt.strstart-rt.match_start>4096)&&(rt.match_length=MIN_MATCH-1)),rt.prev_length>=MIN_MATCH&&rt.match_length<=rt.prev_length){st=rt.strstart+rt.lookahead-MIN_MATCH,lt=_tr_tally(rt,rt.strstart-1-rt.prev_match,rt.prev_length-MIN_MATCH),rt.lookahead-=rt.prev_length-1,rt.prev_length-=2;do++rt.strstart<=st&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),at=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart);while(--rt.prev_length!==0);if(rt.match_available=0,rt.match_length=MIN_MATCH-1,rt.strstart++,lt&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}else if(rt.match_available){if(lt=_tr_tally(rt,0,rt.window[rt.strstart-1]),lt&&flush_block_only(rt,!1),rt.strstart++,rt.lookahead--,rt.strm.avail_out===0)return BS_NEED_MORE}else rt.match_available=1,rt.strstart++,rt.lookahead--}return rt.match_available&&(lt=_tr_tally(rt,0,rt.window[rt.strstart-1]),rt.match_available=0),rt.insert=rt.strstart<MIN_MATCH-1?rt.strstart:MIN_MATCH-1,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(rt,it)=>{let at,lt,st,ct;const ut=rt.window;for(;;){if(rt.lookahead<=MAX_MATCH){if(fill_window(rt),rt.lookahead<=MAX_MATCH&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(rt.match_length=0,rt.lookahead>=MIN_MATCH&&rt.strstart>0&&(st=rt.strstart-1,lt=ut[st],lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st])){ct=rt.strstart+MAX_MATCH;do;while(lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&st<ct);rt.match_length=MAX_MATCH-(ct-st),rt.match_length>rt.lookahead&&(rt.match_length=rt.lookahead)}if(rt.match_length>=MIN_MATCH?(at=_tr_tally(rt,1,rt.match_length-MIN_MATCH),rt.lookahead-=rt.match_length,rt.strstart+=rt.match_length,rt.match_length=0):(at=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++),at&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=0,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(rt,it)=>{let at;for(;;){if(rt.lookahead===0&&(fill_window(rt),rt.lookahead===0)){if(it===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(rt.match_length=0,at=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++,at&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=0,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(rt,it,at,lt,st){this.good_length=rt,this.max_lazy=it,this.nice_length=at,this.max_chain=lt,this.func=st}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=rt=>{rt.window_size=2*rt.w_size,zero$3(rt.head),rt.max_lazy_match=configuration_table[rt.level].max_lazy,rt.good_match=configuration_table[rt.level].good_length,rt.nice_match=configuration_table[rt.level].nice_length,rt.max_chain_length=configuration_table[rt.level].max_chain,rt.strstart=0,rt.block_start=0,rt.lookahead=0,rt.insert=0,rt.match_length=rt.prev_length=MIN_MATCH-1,rt.match_available=0,rt.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero$3(this.dyn_ltree),zero$3(this.dyn_dtree),zero$3(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero$3(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero$3(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=rt=>{if(!rt)return 1;const it=rt.state;return!it||it.strm!==rt||it.status!==INIT_STATE&&it.status!==GZIP_STATE&&it.status!==EXTRA_STATE&&it.status!==NAME_STATE&&it.status!==COMMENT_STATE&&it.status!==HCRC_STATE&&it.status!==BUSY_STATE&&it.status!==FINISH_STATE?1:0},deflateResetKeep=rt=>{if(deflateStateCheck(rt))return err(rt,Z_STREAM_ERROR$2);rt.total_in=rt.total_out=0,rt.data_type=Z_UNKNOWN;const it=rt.state;return it.pending=0,it.pending_out=0,it.wrap<0&&(it.wrap=-it.wrap),it.status=it.wrap===2?GZIP_STATE:it.wrap?INIT_STATE:BUSY_STATE,rt.adler=it.wrap===2?0:1,it.last_flush=-2,_tr_init(it),Z_OK$3},deflateReset=rt=>{const it=deflateResetKeep(rt);return it===Z_OK$3&&lm_init(rt.state),it},deflateSetHeader=(rt,it)=>deflateStateCheck(rt)||rt.state.wrap!==2?Z_STREAM_ERROR$2:(rt.state.gzhead=it,Z_OK$3),deflateInit2=(rt,it,at,lt,st,ct)=>{if(!rt)return Z_STREAM_ERROR$2;let ut=1;if(it===Z_DEFAULT_COMPRESSION$1&&(it=6),lt<0?(ut=0,lt=-lt):lt>15&&(ut=2,lt-=16),st<1||st>MAX_MEM_LEVEL||at!==Z_DEFLATED$2||lt<8||lt>15||it<0||it>9||ct<0||ct>Z_FIXED||lt===8&&ut!==1)return err(rt,Z_STREAM_ERROR$2);lt===8&&(lt=9);const ft=new DeflateState;return rt.state=ft,ft.strm=rt,ft.status=INIT_STATE,ft.wrap=ut,ft.gzhead=null,ft.w_bits=lt,ft.w_size=1<<ft.w_bits,ft.w_mask=ft.w_size-1,ft.hash_bits=st+7,ft.hash_size=1<<ft.hash_bits,ft.hash_mask=ft.hash_size-1,ft.hash_shift=~~((ft.hash_bits+MIN_MATCH-1)/MIN_MATCH),ft.window=new Uint8Array(ft.w_size*2),ft.head=new Uint16Array(ft.hash_size),ft.prev=new Uint16Array(ft.w_size),ft.lit_bufsize=1<<st+6,ft.pending_buf_size=ft.lit_bufsize*4,ft.pending_buf=new Uint8Array(ft.pending_buf_size),ft.sym_buf=ft.lit_bufsize,ft.sym_end=(ft.lit_bufsize-1)*3,ft.level=it,ft.strategy=ct,ft.method=at,deflateReset(rt)},deflateInit=(rt,it)=>deflateInit2(rt,it,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(rt,it)=>{if(deflateStateCheck(rt)||it>Z_BLOCK$1||it<0)return rt?err(rt,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const at=rt.state;if(!rt.output||rt.avail_in!==0&&!rt.input||at.status===FINISH_STATE&&it!==Z_FINISH$3)return err(rt,rt.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const lt=at.last_flush;if(at.last_flush=it,at.pending!==0){if(flush_pending(rt),rt.avail_out===0)return at.last_flush=-1,Z_OK$3}else if(rt.avail_in===0&&rank(it)<=rank(lt)&&it!==Z_FINISH$3)return err(rt,Z_BUF_ERROR$1);if(at.status===FINISH_STATE&&rt.avail_in!==0)return err(rt,Z_BUF_ERROR$1);if(at.status===INIT_STATE&&at.wrap===0&&(at.status=BUSY_STATE),at.status===INIT_STATE){let st=Z_DEFLATED$2+(at.w_bits-8<<4)<<8,ct=-1;if(at.strategy>=Z_HUFFMAN_ONLY||at.level<2?ct=0:at.level<6?ct=1:at.level===6?ct=2:ct=3,st|=ct<<6,at.strstart!==0&&(st|=PRESET_DICT),st+=31-st%31,putShortMSB(at,st),at.strstart!==0&&(putShortMSB(at,rt.adler>>>16),putShortMSB(at,rt.adler&65535)),rt.adler=1,at.status=BUSY_STATE,flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(at.status===GZIP_STATE){if(rt.adler=0,put_byte(at,31),put_byte(at,139),put_byte(at,8),at.gzhead)put_byte(at,(at.gzhead.text?1:0)+(at.gzhead.hcrc?2:0)+(at.gzhead.extra?4:0)+(at.gzhead.name?8:0)+(at.gzhead.comment?16:0)),put_byte(at,at.gzhead.time&255),put_byte(at,at.gzhead.time>>8&255),put_byte(at,at.gzhead.time>>16&255),put_byte(at,at.gzhead.time>>24&255),put_byte(at,at.level===9?2:at.strategy>=Z_HUFFMAN_ONLY||at.level<2?4:0),put_byte(at,at.gzhead.os&255),at.gzhead.extra&&at.gzhead.extra.length&&(put_byte(at,at.gzhead.extra.length&255),put_byte(at,at.gzhead.extra.length>>8&255)),at.gzhead.hcrc&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending,0)),at.gzindex=0,at.status=EXTRA_STATE;else if(put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,at.level===9?2:at.strategy>=Z_HUFFMAN_ONLY||at.level<2?4:0),put_byte(at,OS_CODE),at.status=BUSY_STATE,flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(at.status===EXTRA_STATE){if(at.gzhead.extra){let st=at.pending,ct=(at.gzhead.extra.length&65535)-at.gzindex;for(;at.pending+ct>at.pending_buf_size;){let ft=at.pending_buf_size-at.pending;if(at.pending_buf.set(at.gzhead.extra.subarray(at.gzindex,at.gzindex+ft),at.pending),at.pending=at.pending_buf_size,at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st)),at.gzindex+=ft,flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0,ct-=ft}let ut=new Uint8Array(at.gzhead.extra);at.pending_buf.set(ut.subarray(at.gzindex,at.gzindex+ct),at.pending),at.pending+=ct,at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st)),at.gzindex=0}at.status=NAME_STATE}if(at.status===NAME_STATE){if(at.gzhead.name){let st=at.pending,ct;do{if(at.pending===at.pending_buf_size){if(at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st)),flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0}at.gzindex<at.gzhead.name.length?ct=at.gzhead.name.charCodeAt(at.gzindex++)&255:ct=0,put_byte(at,ct)}while(ct!==0);at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st)),at.gzindex=0}at.status=COMMENT_STATE}if(at.status===COMMENT_STATE){if(at.gzhead.comment){let st=at.pending,ct;do{if(at.pending===at.pending_buf_size){if(at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st)),flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0}at.gzindex<at.gzhead.comment.length?ct=at.gzhead.comment.charCodeAt(at.gzindex++)&255:ct=0,put_byte(at,ct)}while(ct!==0);at.gzhead.hcrc&&at.pending>st&&(rt.adler=crc32_1(rt.adler,at.pending_buf,at.pending-st,st))}at.status=HCRC_STATE}if(at.status===HCRC_STATE){if(at.gzhead.hcrc){if(at.pending+2>at.pending_buf_size&&(flush_pending(rt),at.pending!==0))return at.last_flush=-1,Z_OK$3;put_byte(at,rt.adler&255),put_byte(at,rt.adler>>8&255),rt.adler=0}if(at.status=BUSY_STATE,flush_pending(rt),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(rt.avail_in!==0||at.lookahead!==0||it!==Z_NO_FLUSH$2&&at.status!==FINISH_STATE){let st=at.level===0?deflate_stored(at,it):at.strategy===Z_HUFFMAN_ONLY?deflate_huff(at,it):at.strategy===Z_RLE?deflate_rle(at,it):configuration_table[at.level].func(at,it);if((st===BS_FINISH_STARTED||st===BS_FINISH_DONE)&&(at.status=FINISH_STATE),st===BS_NEED_MORE||st===BS_FINISH_STARTED)return rt.avail_out===0&&(at.last_flush=-1),Z_OK$3;if(st===BS_BLOCK_DONE&&(it===Z_PARTIAL_FLUSH?_tr_align(at):it!==Z_BLOCK$1&&(_tr_stored_block(at,0,0,!1),it===Z_FULL_FLUSH$1&&(zero$3(at.head),at.lookahead===0&&(at.strstart=0,at.block_start=0,at.insert=0))),flush_pending(rt),rt.avail_out===0))return at.last_flush=-1,Z_OK$3}return it!==Z_FINISH$3?Z_OK$3:at.wrap<=0?Z_STREAM_END$3:(at.wrap===2?(put_byte(at,rt.adler&255),put_byte(at,rt.adler>>8&255),put_byte(at,rt.adler>>16&255),put_byte(at,rt.adler>>24&255),put_byte(at,rt.total_in&255),put_byte(at,rt.total_in>>8&255),put_byte(at,rt.total_in>>16&255),put_byte(at,rt.total_in>>24&255)):(putShortMSB(at,rt.adler>>>16),putShortMSB(at,rt.adler&65535)),flush_pending(rt),at.wrap>0&&(at.wrap=-at.wrap),at.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=rt=>{if(deflateStateCheck(rt))return Z_STREAM_ERROR$2;const it=rt.state.status;return rt.state=null,it===BUSY_STATE?err(rt,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(rt,it)=>{let at=it.length;if(deflateStateCheck(rt))return Z_STREAM_ERROR$2;const lt=rt.state,st=lt.wrap;if(st===2||st===1&&lt.status!==INIT_STATE||lt.lookahead)return Z_STREAM_ERROR$2;if(st===1&&(rt.adler=adler32_1(rt.adler,it,at,0)),lt.wrap=0,at>=lt.w_size){st===0&&(zero$3(lt.head),lt.strstart=0,lt.block_start=0,lt.insert=0);let dt=new Uint8Array(lt.w_size);dt.set(it.subarray(at-lt.w_size,at),0),it=dt,at=lt.w_size}const ct=rt.avail_in,ut=rt.next_in,ft=rt.input;for(rt.avail_in=at,rt.next_in=0,rt.input=it,fill_window(lt);lt.lookahead>=MIN_MATCH;){let dt=lt.strstart,pt=lt.lookahead-(MIN_MATCH-1);do lt.ins_h=HASH(lt,lt.ins_h,lt.window[dt+MIN_MATCH-1]),lt.prev[dt&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=dt,dt++;while(--pt);lt.strstart=dt,lt.lookahead=MIN_MATCH-1,fill_window(lt)}return lt.strstart+=lt.lookahead,lt.block_start=lt.strstart,lt.insert=lt.lookahead,lt.lookahead=0,lt.match_length=lt.prev_length=MIN_MATCH-1,lt.match_available=0,rt.next_in=ut,rt.input=ft,rt.avail_in=ct,lt.wrap=st,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(rt,it)=>Object.prototype.hasOwnProperty.call(rt,it);var assign=function(rt){const it=Array.prototype.slice.call(arguments,1);for(;it.length;){const at=it.shift();if(at){if(typeof at!="object")throw new TypeError(at+"must be non-object");for(const lt in at)_has(at,lt)&&(rt[lt]=at[lt])}}return rt},flattenChunks=rt=>{let it=0;for(let lt=0,st=rt.length;lt<st;lt++)it+=rt[lt].length;const at=new Uint8Array(it);for(let lt=0,st=0,ct=rt.length;lt<ct;lt++){let ut=rt[lt];at.set(ut,st),st+=ut.length}return at},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(rt){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let rt=0;rt<256;rt++)_utf8len[rt]=rt>=252?6:rt>=248?5:rt>=240?4:rt>=224?3:rt>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=rt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(rt);let it,at,lt,st,ct,ut=rt.length,ft=0;for(st=0;st<ut;st++)at=rt.charCodeAt(st),(at&64512)===55296&&st+1<ut&&(lt=rt.charCodeAt(st+1),(lt&64512)===56320&&(at=65536+(at-55296<<10)+(lt-56320),st++)),ft+=at<128?1:at<2048?2:at<65536?3:4;for(it=new Uint8Array(ft),ct=0,st=0;ct<ft;st++)at=rt.charCodeAt(st),(at&64512)===55296&&st+1<ut&&(lt=rt.charCodeAt(st+1),(lt&64512)===56320&&(at=65536+(at-55296<<10)+(lt-56320),st++)),at<128?it[ct++]=at:at<2048?(it[ct++]=192|at>>>6,it[ct++]=128|at&63):at<65536?(it[ct++]=224|at>>>12,it[ct++]=128|at>>>6&63,it[ct++]=128|at&63):(it[ct++]=240|at>>>18,it[ct++]=128|at>>>12&63,it[ct++]=128|at>>>6&63,it[ct++]=128|at&63);return it};const buf2binstring=(rt,it)=>{if(it<65534&&rt.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,rt.length===it?rt:rt.subarray(0,it));let at="";for(let lt=0;lt<it;lt++)at+=String.fromCharCode(rt[lt]);return at};var buf2string=(rt,it)=>{const at=it||rt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(rt.subarray(0,it));let lt,st;const ct=new Array(at*2);for(st=0,lt=0;lt<at;){let ut=rt[lt++];if(ut<128){ct[st++]=ut;continue}let ft=_utf8len[ut];if(ft>4){ct[st++]=65533,lt+=ft-1;continue}for(ut&=ft===2?31:ft===3?15:7;ft>1&&lt<at;)ut=ut<<6|rt[lt++]&63,ft--;if(ft>1){ct[st++]=65533;continue}ut<65536?ct[st++]=ut:(ut-=65536,ct[st++]=55296|ut>>10&1023,ct[st++]=56320|ut&1023)}return buf2binstring(ct,st)},utf8border=(rt,it)=>{it=it||rt.length,it>rt.length&&(it=rt.length);let at=it-1;for(;at>=0&&(rt[at]&192)===128;)at--;return at<0||at===0?it:at+_utf8len[rt[at]]>it?at:it},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(rt){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},rt||{});let it=this.options;it.raw&&it.windowBits>0?it.windowBits=-it.windowBits:it.gzip&&it.windowBits>0&&it.windowBits<16&&(it.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let at=deflate_1$2.deflateInit2(this.strm,it.level,it.method,it.windowBits,it.memLevel,it.strategy);if(at!==Z_OK$2)throw new Error(messages[at]);if(it.header&&deflate_1$2.deflateSetHeader(this.strm,it.header),it.dictionary){let lt;if(typeof it.dictionary=="string"?lt=strings.string2buf(it.dictionary):toString$1$1.call(it.dictionary)==="[object ArrayBuffer]"?lt=new Uint8Array(it.dictionary):lt=it.dictionary,at=deflate_1$2.deflateSetDictionary(this.strm,lt),at!==Z_OK$2)throw new Error(messages[at]);this._dict_set=!0}}Deflate$1.prototype.push=function(rt,it){const at=this.strm,lt=this.options.chunkSize;let st,ct;if(this.ended)return!1;for(it===~~it?ct=it:ct=it===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof rt=="string"?at.input=strings.string2buf(rt):toString$1$1.call(rt)==="[object ArrayBuffer]"?at.input=new Uint8Array(rt):at.input=rt,at.next_in=0,at.avail_in=at.input.length;;){if(at.avail_out===0&&(at.output=new Uint8Array(lt),at.next_out=0,at.avail_out=lt),(ct===Z_SYNC_FLUSH||ct===Z_FULL_FLUSH)&&at.avail_out<=6){this.onData(at.output.subarray(0,at.next_out)),at.avail_out=0;continue}if(st=deflate_1$2.deflate(at,ct),st===Z_STREAM_END$2)return at.next_out>0&&this.onData(at.output.subarray(0,at.next_out)),st=deflate_1$2.deflateEnd(this.strm),this.onEnd(st),this.ended=!0,st===Z_OK$2;if(at.avail_out===0){this.onData(at.output);continue}if(ct>0&&at.next_out>0){this.onData(at.output.subarray(0,at.next_out)),at.avail_out=0;continue}if(at.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(rt){this.chunks.push(rt)};Deflate$1.prototype.onEnd=function(rt){rt===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function rt(it,at){let lt,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,$t,_t,yt,Et,wt,bt,St,Tt,Rt,kt,At,Ct;const Mt=it.state;lt=it.next_in,At=it.input,st=lt+(it.avail_in-5),ct=it.next_out,Ct=it.output,ut=ct-(at-it.avail_out),ft=ct+(it.avail_out-257),dt=Mt.dmax,pt=Mt.wsize,ht=Mt.whave,gt=Mt.wnext,mt=Mt.window,xt=Mt.hold,vt=Mt.bits,$t=Mt.lencode,_t=Mt.distcode,yt=(1<<Mt.lenbits)-1,Et=(1<<Mt.distbits)-1;e:do{vt<15&&(xt+=At[lt++]<<vt,vt+=8,xt+=At[lt++]<<vt,vt+=8),wt=$t[xt&yt];t:for(;;){if(bt=wt>>>24,xt>>>=bt,vt-=bt,bt=wt>>>16&255,bt===0)Ct[ct++]=wt&65535;else if(bt&16){St=wt&65535,bt&=15,bt&&(vt<bt&&(xt+=At[lt++]<<vt,vt+=8),St+=xt&(1<<bt)-1,xt>>>=bt,vt-=bt),vt<15&&(xt+=At[lt++]<<vt,vt+=8,xt+=At[lt++]<<vt,vt+=8),wt=_t[xt&Et];n:for(;;){if(bt=wt>>>24,xt>>>=bt,vt-=bt,bt=wt>>>16&255,bt&16){if(Tt=wt&65535,bt&=15,vt<bt&&(xt+=At[lt++]<<vt,vt+=8,vt<bt&&(xt+=At[lt++]<<vt,vt+=8)),Tt+=xt&(1<<bt)-1,Tt>dt){it.msg="invalid distance too far back",Mt.mode=BAD$1;break e}if(xt>>>=bt,vt-=bt,bt=ct-ut,Tt>bt){if(bt=Tt-bt,bt>ht&&Mt.sane){it.msg="invalid distance too far back",Mt.mode=BAD$1;break e}if(Rt=0,kt=mt,gt===0){if(Rt+=pt-bt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}}else if(gt<bt){if(Rt+=pt+gt-bt,bt-=gt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);if(Rt=0,gt<St){bt=gt,St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}}}else if(Rt+=gt-bt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}for(;St>2;)Ct[ct++]=kt[Rt++],Ct[ct++]=kt[Rt++],Ct[ct++]=kt[Rt++],St-=3;St&&(Ct[ct++]=kt[Rt++],St>1&&(Ct[ct++]=kt[Rt++]))}else{Rt=ct-Tt;do Ct[ct++]=Ct[Rt++],Ct[ct++]=Ct[Rt++],Ct[ct++]=Ct[Rt++],St-=3;while(St>2);St&&(Ct[ct++]=Ct[Rt++],St>1&&(Ct[ct++]=Ct[Rt++]))}}else if(bt&64){it.msg="invalid distance code",Mt.mode=BAD$1;break e}else{wt=_t[(wt&65535)+(xt&(1<<bt)-1)];continue n}break}}else if(bt&64)if(bt&32){Mt.mode=TYPE$1;break e}else{it.msg="invalid literal/length code",Mt.mode=BAD$1;break e}else{wt=$t[(wt&65535)+(xt&(1<<bt)-1)];continue t}break}}while(lt<st&&ct<ft);St=vt>>3,lt-=St,vt-=St<<3,xt&=(1<<vt)-1,it.next_in=lt,it.next_out=ct,it.avail_in=lt<st?5+(st-lt):5-(lt-st),it.avail_out=ct<ft?257+(ft-ct):257-(ct-ft),Mt.hold=xt,Mt.bits=vt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(rt,it,at,lt,st,ct,ut,ft)=>{const dt=ft.bits;let pt=0,ht=0,gt=0,mt=0,xt=0,vt=0,$t=0,_t=0,yt=0,Et=0,wt,bt,St,Tt,Rt,kt=null,At;const Ct=new Uint16Array(MAXBITS+1),Mt=new Uint16Array(MAXBITS+1);let Ot=null,Nt,It,Dt;for(pt=0;pt<=MAXBITS;pt++)Ct[pt]=0;for(ht=0;ht<lt;ht++)Ct[it[at+ht]]++;for(xt=dt,mt=MAXBITS;mt>=1&&Ct[mt]===0;mt--);if(xt>mt&&(xt=mt),mt===0)return st[ct++]=1<<24|64<<16|0,st[ct++]=1<<24|64<<16|0,ft.bits=1,0;for(gt=1;gt<mt&&Ct[gt]===0;gt++);for(xt<gt&&(xt=gt),_t=1,pt=1;pt<=MAXBITS;pt++)if(_t<<=1,_t-=Ct[pt],_t<0)return-1;if(_t>0&&(rt===CODES$1||mt!==1))return-1;for(Mt[1]=0,pt=1;pt<MAXBITS;pt++)Mt[pt+1]=Mt[pt]+Ct[pt];for(ht=0;ht<lt;ht++)it[at+ht]!==0&&(ut[Mt[it[at+ht]]++]=ht);if(rt===CODES$1?(kt=Ot=ut,At=20):rt===LENS$1?(kt=lbase,Ot=lext,At=257):(kt=dbase,Ot=dext,At=0),Et=0,ht=0,pt=gt,Rt=ct,vt=xt,$t=0,St=-1,yt=1<<xt,Tt=yt-1,rt===LENS$1&&yt>ENOUGH_LENS$1||rt===DISTS$1&&yt>ENOUGH_DISTS$1)return 1;for(;;){Nt=pt-$t,ut[ht]+1<At?(It=0,Dt=ut[ht]):ut[ht]>=At?(It=Ot[ut[ht]-At],Dt=kt[ut[ht]-At]):(It=32+64,Dt=0),wt=1<<pt-$t,bt=1<<vt,gt=bt;do bt-=wt,st[Rt+(Et>>$t)+bt]=Nt<<24|It<<16|Dt|0;while(bt!==0);for(wt=1<<pt-1;Et&wt;)wt>>=1;if(wt!==0?(Et&=wt-1,Et+=wt):Et=0,ht++,--Ct[pt]===0){if(pt===mt)break;pt=it[at+ut[ht]]}if(pt>xt&&(Et&Tt)!==St){for($t===0&&($t=xt),Rt+=gt,vt=pt-$t,_t=1<<vt;vt+$t<mt&&(_t-=Ct[vt+$t],!(_t<=0));)vt++,_t<<=1;if(yt+=1<<vt,rt===LENS$1&&yt>ENOUGH_LENS$1||rt===DISTS$1&&yt>ENOUGH_DISTS$1)return 1;St=Et&Tt,st[St]=xt<<24|vt<<16|Rt-ct|0}}return Et!==0&&(st[Rt+Et]=pt-$t<<24|64<<16|0),ft.bits=xt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=rt=>(rt>>>24&255)+(rt>>>8&65280)+((rt&65280)<<8)+((rt&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=rt=>{if(!rt)return 1;const it=rt.state;return!it||it.strm!==rt||it.mode<HEAD||it.mode>SYNC?1:0},inflateResetKeep=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const it=rt.state;return rt.total_in=rt.total_out=it.total=0,rt.msg="",it.wrap&&(rt.adler=it.wrap&1),it.mode=HEAD,it.last=0,it.havedict=0,it.flags=-1,it.dmax=32768,it.head=null,it.hold=0,it.bits=0,it.lencode=it.lendyn=new Int32Array(ENOUGH_LENS),it.distcode=it.distdyn=new Int32Array(ENOUGH_DISTS),it.sane=1,it.back=-1,Z_OK$1},inflateReset=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const it=rt.state;return it.wsize=0,it.whave=0,it.wnext=0,inflateResetKeep(rt)},inflateReset2=(rt,it)=>{let at;if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const lt=rt.state;return it<0?(at=0,it=-it):(at=(it>>4)+5,it<48&&(it&=15)),it&&(it<8||it>15)?Z_STREAM_ERROR$1:(lt.window!==null&&lt.wbits!==it&&(lt.window=null),lt.wrap=at,lt.wbits=it,inflateReset(rt))},inflateInit2=(rt,it)=>{if(!rt)return Z_STREAM_ERROR$1;const at=new InflateState;rt.state=at,at.strm=rt,at.window=null,at.mode=HEAD;const lt=inflateReset2(rt,it);return lt!==Z_OK$1&&(rt.state=null),lt},inflateInit=rt=>inflateInit2(rt,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=rt=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let it=0;for(;it<144;)rt.lens[it++]=8;for(;it<256;)rt.lens[it++]=9;for(;it<280;)rt.lens[it++]=7;for(;it<288;)rt.lens[it++]=8;for(inftrees(LENS,rt.lens,0,288,lenfix,0,rt.work,{bits:9}),it=0;it<32;)rt.lens[it++]=5;inftrees(DISTS,rt.lens,0,32,distfix,0,rt.work,{bits:5}),virgin=!1}rt.lencode=lenfix,rt.lenbits=9,rt.distcode=distfix,rt.distbits=5},updatewindow=(rt,it,at,lt)=>{let st;const ct=rt.state;return ct.window===null&&(ct.wsize=1<<ct.wbits,ct.wnext=0,ct.whave=0,ct.window=new Uint8Array(ct.wsize)),lt>=ct.wsize?(ct.window.set(it.subarray(at-ct.wsize,at),0),ct.wnext=0,ct.whave=ct.wsize):(st=ct.wsize-ct.wnext,st>lt&&(st=lt),ct.window.set(it.subarray(at-lt,at-lt+st),ct.wnext),lt-=st,lt?(ct.window.set(it.subarray(at-lt,at),0),ct.wnext=lt,ct.whave=ct.wsize):(ct.wnext+=st,ct.wnext===ct.wsize&&(ct.wnext=0),ct.whave<ct.wsize&&(ct.whave+=st))),0},inflate$2=(rt,it)=>{let at,lt,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,$t,_t=0,yt,Et,wt,bt,St,Tt,Rt,kt;const At=new Uint8Array(4);let Ct,Mt;const Ot=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(rt)||!rt.output||!rt.input&&rt.avail_in!==0)return Z_STREAM_ERROR$1;at=rt.state,at.mode===TYPE&&(at.mode=TYPEDO),ut=rt.next_out,st=rt.output,dt=rt.avail_out,ct=rt.next_in,lt=rt.input,ft=rt.avail_in,pt=at.hold,ht=at.bits,gt=ft,mt=dt,kt=Z_OK$1;e:for(;;)switch(at.mode){case HEAD:if(at.wrap===0){at.mode=TYPEDO;break}for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&2&&pt===35615){at.wbits===0&&(at.wbits=15),at.check=0,At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0),pt=0,ht=0,at.mode=FLAGS;break}if(at.head&&(at.head.done=!1),!(at.wrap&1)||(((pt&255)<<8)+(pt>>8))%31){rt.msg="incorrect header check",at.mode=BAD;break}if((pt&15)!==Z_DEFLATED){rt.msg="unknown compression method",at.mode=BAD;break}if(pt>>>=4,ht-=4,Rt=(pt&15)+8,at.wbits===0&&(at.wbits=Rt),Rt>15||Rt>at.wbits){rt.msg="invalid window size",at.mode=BAD;break}at.dmax=1<<at.wbits,at.flags=0,rt.adler=at.check=1,at.mode=pt&512?DICTID:TYPE,pt=0,ht=0;break;case FLAGS:for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.flags=pt,(at.flags&255)!==Z_DEFLATED){rt.msg="unknown compression method",at.mode=BAD;break}if(at.flags&57344){rt.msg="unknown header flags set",at.mode=BAD;break}at.head&&(at.head.text=pt>>8&1),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0,at.mode=TIME;case TIME:for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.head&&(at.head.time=pt),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,At[2]=pt>>>16&255,At[3]=pt>>>24&255,at.check=crc32_1(at.check,At,4,0)),pt=0,ht=0,at.mode=OS;case OS:for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.head&&(at.head.xflags=pt&255,at.head.os=pt>>8),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0,at.mode=EXLEN;case EXLEN:if(at.flags&1024){for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.length=pt,at.head&&(at.head.extra_len=pt),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0}else at.head&&(at.head.extra=null);at.mode=EXTRA;case EXTRA:if(at.flags&1024&&(xt=at.length,xt>ft&&(xt=ft),xt&&(at.head&&(Rt=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Uint8Array(at.head.extra_len)),at.head.extra.set(lt.subarray(ct,ct+xt),Rt)),at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,at.length-=xt),at.length))break e;at.length=0,at.mode=NAME;case NAME:if(at.flags&2048){if(ft===0)break e;xt=0;do Rt=lt[ct+xt++],at.head&&Rt&&at.length<65536&&(at.head.name+=String.fromCharCode(Rt));while(Rt&&xt<ft);if(at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,Rt)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=COMMENT;case COMMENT:if(at.flags&4096){if(ft===0)break e;xt=0;do Rt=lt[ct+xt++],at.head&&Rt&&at.length<65536&&(at.head.comment+=String.fromCharCode(Rt));while(Rt&&xt<ft);if(at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,Rt)break e}else at.head&&(at.head.comment=null);at.mode=HCRC;case HCRC:if(at.flags&512){for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&4&&pt!==(at.check&65535)){rt.msg="header crc mismatch",at.mode=BAD;break}pt=0,ht=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),rt.adler=at.check=0,at.mode=TYPE;break;case DICTID:for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}rt.adler=at.check=zswap32(pt),pt=0,ht=0,at.mode=DICT;case DICT:if(at.havedict===0)return rt.next_out=ut,rt.avail_out=dt,rt.next_in=ct,rt.avail_in=ft,at.hold=pt,at.bits=ht,Z_NEED_DICT$1;rt.adler=at.check=1,at.mode=TYPE;case TYPE:if(it===Z_BLOCK||it===Z_TREES)break e;case TYPEDO:if(at.last){pt>>>=ht&7,ht-=ht&7,at.mode=CHECK;break}for(;ht<3;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}switch(at.last=pt&1,pt>>>=1,ht-=1,pt&3){case 0:at.mode=STORED;break;case 1:if(fixedtables(at),at.mode=LEN_,it===Z_TREES){pt>>>=2,ht-=2;break e}break;case 2:at.mode=TABLE;break;case 3:rt.msg="invalid block type",at.mode=BAD}pt>>>=2,ht-=2;break;case STORED:for(pt>>>=ht&7,ht-=ht&7;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if((pt&65535)!==(pt>>>16^65535)){rt.msg="invalid stored block lengths",at.mode=BAD;break}if(at.length=pt&65535,pt=0,ht=0,at.mode=COPY_,it===Z_TREES)break e;case COPY_:at.mode=COPY;case COPY:if(xt=at.length,xt){if(xt>ft&&(xt=ft),xt>dt&&(xt=dt),xt===0)break e;st.set(lt.subarray(ct,ct+xt),ut),ft-=xt,ct+=xt,dt-=xt,ut+=xt,at.length-=xt;break}at.mode=TYPE;break;case TABLE:for(;ht<14;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.nlen=(pt&31)+257,pt>>>=5,ht-=5,at.ndist=(pt&31)+1,pt>>>=5,ht-=5,at.ncode=(pt&15)+4,pt>>>=4,ht-=4,at.nlen>286||at.ndist>30){rt.msg="too many length or distance symbols",at.mode=BAD;break}at.have=0,at.mode=LENLENS;case LENLENS:for(;at.have<at.ncode;){for(;ht<3;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.lens[Ot[at.have++]]=pt&7,pt>>>=3,ht-=3}for(;at.have<19;)at.lens[Ot[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Ct={bits:at.lenbits},kt=inftrees(CODES,at.lens,0,19,at.lencode,0,at.work,Ct),at.lenbits=Ct.bits,kt){rt.msg="invalid code lengths set",at.mode=BAD;break}at.have=0,at.mode=CODELENS;case CODELENS:for(;at.have<at.nlen+at.ndist;){for(;_t=at.lencode[pt&(1<<at.lenbits)-1],yt=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(yt<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(wt<16)pt>>>=yt,ht-=yt,at.lens[at.have++]=wt;else{if(wt===16){for(Mt=yt+2;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(pt>>>=yt,ht-=yt,at.have===0){rt.msg="invalid bit length repeat",at.mode=BAD;break}Rt=at.lens[at.have-1],xt=3+(pt&3),pt>>>=2,ht-=2}else if(wt===17){for(Mt=yt+3;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=yt,ht-=yt,Rt=0,xt=3+(pt&7),pt>>>=3,ht-=3}else{for(Mt=yt+7;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=yt,ht-=yt,Rt=0,xt=11+(pt&127),pt>>>=7,ht-=7}if(at.have+xt>at.nlen+at.ndist){rt.msg="invalid bit length repeat",at.mode=BAD;break}for(;xt--;)at.lens[at.have++]=Rt}}if(at.mode===BAD)break;if(at.lens[256]===0){rt.msg="invalid code -- missing end-of-block",at.mode=BAD;break}if(at.lenbits=9,Ct={bits:at.lenbits},kt=inftrees(LENS,at.lens,0,at.nlen,at.lencode,0,at.work,Ct),at.lenbits=Ct.bits,kt){rt.msg="invalid literal/lengths set",at.mode=BAD;break}if(at.distbits=6,at.distcode=at.distdyn,Ct={bits:at.distbits},kt=inftrees(DISTS,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Ct),at.distbits=Ct.bits,kt){rt.msg="invalid distances set",at.mode=BAD;break}if(at.mode=LEN_,it===Z_TREES)break e;case LEN_:at.mode=LEN;case LEN:if(ft>=6&&dt>=258){rt.next_out=ut,rt.avail_out=dt,rt.next_in=ct,rt.avail_in=ft,at.hold=pt,at.bits=ht,inffast(rt,mt),ut=rt.next_out,st=rt.output,dt=rt.avail_out,ct=rt.next_in,lt=rt.input,ft=rt.avail_in,pt=at.hold,ht=at.bits,at.mode===TYPE&&(at.back=-1);break}for(at.back=0;_t=at.lencode[pt&(1<<at.lenbits)-1],yt=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(yt<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(Et&&!(Et&240)){for(bt=yt,St=Et,Tt=wt;_t=at.lencode[Tt+((pt&(1<<bt+St)-1)>>bt)],yt=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(bt+yt<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=bt,ht-=bt,at.back+=bt}if(pt>>>=yt,ht-=yt,at.back+=yt,at.length=wt,Et===0){at.mode=LIT;break}if(Et&32){at.back=-1,at.mode=TYPE;break}if(Et&64){rt.msg="invalid literal/length code",at.mode=BAD;break}at.extra=Et&15,at.mode=LENEXT;case LENEXT:if(at.extra){for(Mt=at.extra;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.length+=pt&(1<<at.extra)-1,pt>>>=at.extra,ht-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=DIST;case DIST:for(;_t=at.distcode[pt&(1<<at.distbits)-1],yt=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(yt<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(!(Et&240)){for(bt=yt,St=Et,Tt=wt;_t=at.distcode[Tt+((pt&(1<<bt+St)-1)>>bt)],yt=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(bt+yt<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=bt,ht-=bt,at.back+=bt}if(pt>>>=yt,ht-=yt,at.back+=yt,Et&64){rt.msg="invalid distance code",at.mode=BAD;break}at.offset=wt,at.extra=Et&15,at.mode=DISTEXT;case DISTEXT:if(at.extra){for(Mt=at.extra;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.offset+=pt&(1<<at.extra)-1,pt>>>=at.extra,ht-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){rt.msg="invalid distance too far back",at.mode=BAD;break}at.mode=MATCH;case MATCH:if(dt===0)break e;if(xt=mt-dt,at.offset>xt){if(xt=at.offset-xt,xt>at.whave&&at.sane){rt.msg="invalid distance too far back",at.mode=BAD;break}xt>at.wnext?(xt-=at.wnext,vt=at.wsize-xt):vt=at.wnext-xt,xt>at.length&&(xt=at.length),$t=at.window}else $t=st,vt=ut-at.offset,xt=at.length;xt>dt&&(xt=dt),dt-=xt,at.length-=xt;do st[ut++]=$t[vt++];while(--xt);at.length===0&&(at.mode=LEN);break;case LIT:if(dt===0)break e;st[ut++]=at.length,dt--,at.mode=LEN;break;case CHECK:if(at.wrap){for(;ht<32;){if(ft===0)break e;ft--,pt|=lt[ct++]<<ht,ht+=8}if(mt-=dt,rt.total_out+=mt,at.total+=mt,at.wrap&4&&mt&&(rt.adler=at.check=at.flags?crc32_1(at.check,st,mt,ut-mt):adler32_1(at.check,st,mt,ut-mt)),mt=dt,at.wrap&4&&(at.flags?pt:zswap32(pt))!==at.check){rt.msg="incorrect data check",at.mode=BAD;break}pt=0,ht=0}at.mode=LENGTH;case LENGTH:if(at.wrap&&at.flags){for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&4&&pt!==(at.total&4294967295)){rt.msg="incorrect length check",at.mode=BAD;break}pt=0,ht=0}at.mode=DONE;case DONE:kt=Z_STREAM_END$1;break e;case BAD:kt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return rt.next_out=ut,rt.avail_out=dt,rt.next_in=ct,rt.avail_in=ft,at.hold=pt,at.bits=ht,(at.wsize||mt!==rt.avail_out&&at.mode<BAD&&(at.mode<CHECK||it!==Z_FINISH$1))&&updatewindow(rt,rt.output,rt.next_out,mt-rt.avail_out),gt-=rt.avail_in,mt-=rt.avail_out,rt.total_in+=gt,rt.total_out+=mt,at.total+=mt,at.wrap&4&&mt&&(rt.adler=at.check=at.flags?crc32_1(at.check,st,mt,rt.next_out-mt):adler32_1(at.check,st,mt,rt.next_out-mt)),rt.data_type=at.bits+(at.last?64:0)+(at.mode===TYPE?128:0)+(at.mode===LEN_||at.mode===COPY_?256:0),(gt===0&&mt===0||it===Z_FINISH$1)&&kt===Z_OK$1&&(kt=Z_BUF_ERROR),kt},inflateEnd=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;let it=rt.state;return it.window&&(it.window=null),rt.state=null,Z_OK$1},inflateGetHeader=(rt,it)=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const at=rt.state;return at.wrap&2?(at.head=it,it.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(rt,it)=>{const at=it.length;let lt,st,ct;return inflateStateCheck(rt)||(lt=rt.state,lt.wrap!==0&&lt.mode!==DICT)?Z_STREAM_ERROR$1:lt.mode===DICT&&(st=1,st=adler32_1(st,it,at,0),st!==lt.check)?Z_DATA_ERROR$1:(ct=updatewindow(rt,it,at,at),ct?(lt.mode=MEM,Z_MEM_ERROR$1):(lt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(rt){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},rt||{});const it=this.options;it.raw&&it.windowBits>=0&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),it.windowBits>=0&&it.windowBits<16&&!(rt&&rt.windowBits)&&(it.windowBits+=32),it.windowBits>15&&it.windowBits<48&&(it.windowBits&15||(it.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let at=inflate_1$2.inflateInit2(this.strm,it.windowBits);if(at!==Z_OK)throw new Error(messages[at]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),it.dictionary&&(typeof it.dictionary=="string"?it.dictionary=strings.string2buf(it.dictionary):toString$2.call(it.dictionary)==="[object ArrayBuffer]"&&(it.dictionary=new Uint8Array(it.dictionary)),it.raw&&(at=inflate_1$2.inflateSetDictionary(this.strm,it.dictionary),at!==Z_OK)))throw new Error(messages[at])}Inflate$1.prototype.push=function(rt,it){const at=this.strm,lt=this.options.chunkSize,st=this.options.dictionary;let ct,ut,ft;if(this.ended)return!1;for(it===~~it?ut=it:ut=it===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(rt)==="[object ArrayBuffer]"?at.input=new Uint8Array(rt):at.input=rt,at.next_in=0,at.avail_in=at.input.length;;){for(at.avail_out===0&&(at.output=new Uint8Array(lt),at.next_out=0,at.avail_out=lt),ct=inflate_1$2.inflate(at,ut),ct===Z_NEED_DICT&&st&&(ct=inflate_1$2.inflateSetDictionary(at,st),ct===Z_OK?ct=inflate_1$2.inflate(at,ut):ct===Z_DATA_ERROR&&(ct=Z_NEED_DICT));at.avail_in>0&&ct===Z_STREAM_END&&at.state.wrap>0&&rt[at.next_in]!==0;)inflate_1$2.inflateReset(at),ct=inflate_1$2.inflate(at,ut);switch(ct){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ct),this.ended=!0,!1}if(ft=at.avail_out,at.next_out&&(at.avail_out===0||ct===Z_STREAM_END))if(this.options.to==="string"){let dt=strings.utf8border(at.output,at.next_out),pt=at.next_out-dt,ht=strings.buf2string(at.output,dt);at.next_out=pt,at.avail_out=lt-pt,pt&&at.output.set(at.output.subarray(dt,dt+pt),0),this.onData(ht)}else this.onData(at.output.length===at.next_out?at.output:at.output.subarray(0,at.next_out));if(!(ct===Z_OK&&ft===0)){if(ct===Z_STREAM_END)return ct=inflate_1$2.inflateEnd(this.strm),this.onEnd(ct),this.ended=!0,!0;if(at.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(rt){this.chunks.push(rt)};Inflate$1.prototype.onEnd=function(rt){rt===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg};function inflate$1(rt,it){const at=new Inflate$1(it);if(at.push(rt),at.err)throw at.msg||messages[at.err];return at.result}function inflateRaw$1(rt,it){return it=it||{},it.raw=!0,inflate$1(rt,it)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let rt=0;rt<256;rt++){let it=rt;for(let at=0;at<8;at++)it&1?it=3988292384^it>>>1:it=it>>>1;crcTable[rt]=it}const initialCrc=4294967295;function updateCrc(rt,it,at){let lt=rt;for(let st=0;st<at;st++)lt=crcTable[(lt^it[st])&255]^lt>>>8;return lt}function crc(rt,it){return(updateCrc(initialCrc,rt,it)^initialCrc)>>>0}var ColorType;(function(rt){rt[rt.UNKNOWN=-1]="UNKNOWN",rt[rt.GREYSCALE=0]="GREYSCALE",rt[rt.TRUECOLOUR=2]="TRUECOLOUR",rt[rt.INDEXED_COLOUR=3]="INDEXED_COLOUR",rt[rt.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",rt[rt.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(rt){rt[rt.UNKNOWN=-1]="UNKNOWN",rt[rt.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(rt){rt[rt.UNKNOWN=-1]="UNKNOWN",rt[rt.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(rt){rt[rt.UNKNOWN=-1]="UNKNOWN",rt[rt.NO_INTERLACE=0]="NO_INTERLACE",rt[rt.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer{constructor(it,at={}){super(it);const{checkCrc:lt=!1}=at;this._checkCrc=lt,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let it=0;it<pngSignature.length;it++)if(this.readUint8()!==pngSignature[it])throw new Error(`wrong PNG signature. Byte at ${it} should be ${pngSignature[it]}.`)}decodeChunk(){const it=this.readUint32(),at=this.readChars(4),lt=this.offset;switch(at){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(it);break;case"IDAT":this.decodeIDAT(it);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(it);break;case"iCCP":this.decodeiCCP(it);break;case"tEXt":this.decodetEXt(it);break;case"pHYs":this.decodepHYs();break;default:this.skip(it);break}if(this.offset-lt!==it)throw new Error(`Length mismatch while decoding chunk ${at}`);if(this._checkCrc){const st=this.readUint32(),ct=it+4,ut=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-ct-4,ct),ct);if(ut!==st)throw new Error(`CRC mismatch for chunk ${at}. Expected ${st}, found ${ut}`)}else this.skip(4)}decodeIHDR(){const it=this._png;it.width=this.readUint32(),it.height=this.readUint32(),it.depth=checkBitDepth(this.readUint8());const at=this.readUint8();this._colorType=at;let lt;switch(at){case ColorType.GREYSCALE:lt=1;break;case ColorType.TRUECOLOUR:lt=3;break;case ColorType.INDEXED_COLOUR:lt=1;break;case ColorType.GREYSCALE_ALPHA:lt=2;break;case ColorType.TRUECOLOUR_ALPHA:lt=4;break;default:throw new Error(`Unknown color type: ${at}`)}if(this._png.channels=lt,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(it){if(it%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${it}`);const at=it/3;this._hasPalette=!0;const lt=[];this._palette=lt;for(let st=0;st<at;st++)lt.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(it){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,it)),this.skip(it)}decodetRNS(it){if(this._colorType===3){if(it>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${it} vs ${this._palette.length})`);let at=0;for(;at<it;at++){const lt=this.readByte();this._palette[at].push(lt)}for(;at<this._palette.length;at++)this._palette[at].push(255)}}decodeiCCP(it){let at="",lt;for(;(lt=this.readChar())!==NULL;)at+=lt;const st=this.readUint8();if(st!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${st}`);const ct=this.readBytes(it-at.length-2);this._png.iccEmbeddedProfile={name:at,profile:inflate_1(ct)}}decodetEXt(it){let at="",lt;for(;(lt=this.readChar())!==NULL;)at+=lt;this._png.text[at]=this.readChars(it-at.length-1)}decodepHYs(){const it=this.readUint32(),at=this.readUint32(),lt=this.readByte();this._png.resolution={x:it,y:at,unit:lt}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const it=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(it);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(it){const at=this._png.height,lt=this._png.channels*this._png.depth/8,st=this._png.width*lt,ct=new Uint8Array(this._png.height*st);let ut=empty,ft=0,dt,pt;for(let ht=0;ht<at;ht++){switch(dt=it.subarray(ft+1,ft+1+st),pt=ct.subarray(ht*st,(ht+1)*st),it[ft]){case 0:unfilterNone(dt,pt,st);break;case 1:unfilterSub(dt,pt,st,lt);break;case 2:unfilterUp(dt,pt,ut,st);break;case 3:unfilterAverage(dt,pt,ut,st,lt);break;case 4:unfilterPaeth(dt,pt,ut,st,lt);break;default:throw new Error(`Unsupported filter: ${it[ft]}`)}ut=pt,ft+=st+1}if(this._hasPalette&&(this._png.palette=this._palette),this._png.depth===16){const ht=new Uint16Array(ct.buffer);if(osIsLittleEndian)for(let gt=0;gt<ht.length;gt++)ht[gt]=swap16(ht[gt]);this._png.data=ht}else this._png.data=ct}}function unfilterNone(rt,it,at){for(let lt=0;lt<at;lt++)it[lt]=rt[lt]}function unfilterSub(rt,it,at,lt){let st=0;for(;st<lt;st++)it[st]=rt[st];for(;st<at;st++)it[st]=rt[st]+it[st-lt]&255}function unfilterUp(rt,it,at,lt){let st=0;if(at.length===0)for(;st<lt;st++)it[st]=rt[st];else for(;st<lt;st++)it[st]=rt[st]+at[st]&255}function unfilterAverage(rt,it,at,lt,st){let ct=0;if(at.length===0){for(;ct<st;ct++)it[ct]=rt[ct];for(;ct<lt;ct++)it[ct]=rt[ct]+(it[ct-st]>>1)&255}else{for(;ct<st;ct++)it[ct]=rt[ct]+(at[ct]>>1)&255;for(;ct<lt;ct++)it[ct]=rt[ct]+(it[ct-st]+at[ct]>>1)&255}}function unfilterPaeth(rt,it,at,lt,st){let ct=0;if(at.length===0){for(;ct<st;ct++)it[ct]=rt[ct];for(;ct<lt;ct++)it[ct]=rt[ct]+it[ct-st]&255}else{for(;ct<st;ct++)it[ct]=rt[ct]+at[ct]&255;for(;ct<lt;ct++)it[ct]=rt[ct]+paethPredictor(it[ct-st],at[ct],at[ct-st])&255}}function paethPredictor(rt,it,at){const lt=rt+it-at,st=Math.abs(lt-rt),ct=Math.abs(lt-it),ut=Math.abs(lt-at);return st<=ct&&st<=ut?rt:ct<=ut?it:at}function swap16(rt){return(rt&255)<<8|rt>>8&255}function checkBitDepth(rt){if(rt!==1&&rt!==2&&rt!==4&&rt!==8&&rt!==16)throw new Error(`invalid bit depth: ${rt}`);return rt}var ResolutionUnitSpecifier;(function(rt){rt[rt.UNKNOWN=0]="UNKNOWN",rt[rt.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng$1(rt,it){return new PngDecoder(rt,it).decode()}function decodePng(rt){const it=decodePng$1(rt);let at;const lt=it.depth===16?ColorDepth.UINT16:ColorDepth.UINT8;if(it.palette)return loadPalettePng(it);switch(it.channels){case 1:at=ImageColorModel.GREY;break;case 2:at=ImageColorModel.GREYA;break;case 3:at=ImageColorModel.RGB;break;case 4:at=ImageColorModel.RGBA;break;default:throw new Error(`Unexpected number of channels: ${it.channels}`)}return new Image(it.width,it.height,{colorModel:at,depth:lt,data:it.data})}function loadPalettePng(rt){if(!rt.palette)throw new Error("unexpected: there should be a palette when colourType is 3");const it=rt.width*rt.height,at=new Uint8Array(it*3),lt=8/rt.depth,st=rt.depth<8?lt:1,ct=Number.parseInt("1".repeat(rt.depth),2);let ut=0;for(let ft=0;ft<it;ft++){const dt=Math.floor(ft/st);let pt=rt.data[dt];rt.depth<8&&(pt=pt>>>rt.depth*(lt-1-ft%lt)&ct);const ht=rt.palette[pt];at[ut++]=ht[0],at[ut++]=ht[1],at[ut++]=ht[2]}return new Image(rt.width,rt.height,{data:at})}function guessStripByteCounts(rt){if(rt.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const it=rt.rowsPerStrip*rt.width*rt.samplesPerPixel*(rt.bitsPerSample/8);return new Array(rt.stripOffsets.length).fill(it)}function applyHorizontalDifferencing8Bit(rt,it,at){let lt=0;for(;lt<rt.length;){for(let st=at;st<it*at;st+=at)for(let ct=0;ct<at;ct++)rt[lt+st+ct]=rt[lt+st+ct]+rt[lt+st-(at-ct)]&255;lt+=it*at}}function applyHorizontalDifferencing16Bit(rt,it,at){let lt=0;for(;lt<rt.length;){for(let st=at;st<it*at;st+=at)for(let ct=0;ct<at;ct++)rt[lt+st+ct]=rt[lt+st+ct]+rt[lt+st-(at-ct)]&65535;lt+=it*at}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let rt in tagsById$2)tagsByName$2[tagsById$2[rt]]=Number(rt);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let rt in tagsById$1)tagsByName$1[tagsById$1[rt]]=Number(rt);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let rt in tagsById)tagsByName[tagsById[rt]]=Number(rt);const standard$1=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard:standard$1,exif,gps};class IFD{constructor(it){if(!it)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=it,this._hasMap=!1,this._map={}}get(it){if(typeof it=="number")return this.fields.get(it);if(typeof it=="string")return this.fields.get(tags[this.kind].tagsByName[it]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const it=tags[this.kind].tagsById;for(let at of this.fields.keys())it[at]&&(this._map[it[at]]=this.fields.get(at));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(rt,it){const at=types.get(rt);if(!at)throw new Error(`type not found: ${rt}`);return at[0]*it}function readData(rt,it,at){const lt=types.get(it);if(!lt)throw new Error(`type not found: ${it}`);return lt[1](rt,at)}function readByte(rt,it){if(it===1)return rt.readUint8();let at=new Uint8Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readUint8();return at}function readASCII(rt,it){let at=[],lt="";for(let st=0;st<it;st++){let ct=String.fromCharCode(rt.readUint8());ct==="\0"?(at.push(lt),lt=""):lt+=ct}return at.length===1?at[0]:at}function readShort(rt,it){if(it===1)return rt.readUint16();let at=new Uint16Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readUint16();return at}function readLong(rt,it){if(it===1)return rt.readUint32();let at=new Uint32Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readUint32();return at}function readRational(rt,it){if(it===1)return rt.readUint32()/rt.readUint32();let at=new Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readUint32()/rt.readUint32();return at}function readSByte(rt,it){if(it===1)return rt.readInt8();let at=new Int8Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readInt8();return at}function readSShort(rt,it){if(it===1)return rt.readInt16();let at=new Int16Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readInt16();return at}function readSLong(rt,it){if(it===1)return rt.readInt32();let at=new Int32Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readInt32();return at}function readSRational(rt,it){if(it===1)return rt.readInt32()/rt.readInt32();let at=new Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readInt32()/rt.readInt32();return at}function readFloat(rt,it){if(it===1)return rt.readFloat32();let at=new Float32Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readFloat32();return at}function readDouble(rt,it){if(it===1)return rt.readFloat64();let at=new Float64Array(it);for(let lt=0;lt<it;lt++)at[lt]=rt.readFloat64();return at}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let it=0;it<256;it++)stringTable.push([it]);const rt=[];for(let it=256;it<4096;it++)stringTable.push(rt)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(it){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(it.buffer,it.byteOffset,it.byteLength),this.outData=new IOBuffer(it.byteLength),this.initializeTable()}decode(){let it=0,at=0;for(;(it=this.getNextCode())!==EOI_CODE;)if(it===CLEAR_CODE){if(this.initializeTable(),it=this.getNextCode(),it===EOI_CODE)break;this.writeString(this.stringFromCode(it)),at=it}else if(this.isInTable(it))this.writeString(this.stringFromCode(it)),this.addStringToTable(this.stringFromCode(at).concat(this.stringFromCode(it)[0])),at=it;else{const st=this.stringFromCode(at).concat(this.stringFromCode(at)[0]);this.writeString(st),this.addStringToTable(st),at=it}const lt=this.outData.toArray();return new DataView(lt.buffer,lt.byteOffset,lt.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(it){this.outData.writeBytes(it)}stringFromCode(it){return stringTable[it]}isInTable(it){return it<this.tableLength}addStringToTable(it){if(stringTable[this.tableLength++]=it,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const it=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:it}}function decompressLzw(rt){return new LzwDecoder(rt).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let it=new Date,at=dateTimeRegex.exec(this.dateTime);if(at===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return it.setFullYear(Number(at[1]),Number(at[2])-1,Number(at[3])),it.setHours(Number(at[4]),Number(at[5]),Number(at[6])),it}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const it=this.get("BitsPerSample");return it&&typeof it!="number"?it[0]:it}get alpha(){const it=this.extraSamples;return it?it[0]!==0:!1}get associatedAlpha(){const it=this.extraSamples;return it?it[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const it=2**this.bitsPerSample,at=this.get("ColorMap");if(!at)return;if(at.length!==3*it)throw new Error(`ColorMap size must be ${it}`);const lt=[];for(let st=0;st<it;st++)lt.push([at[st],at[st+it],at[st+2*it]]);return lt}}function alwaysArray(rt){return typeof rt=="number"?[rt]:rt}function decompressZlib(rt){const it=new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength),at=inflate_1(it);return new DataView(at.buffer,at.byteOffset,at.byteLength)}const defaultOptions$1={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer{constructor(it){super(it),this._nextIFD=0}get isMultiPage(){let it=0;for(this.decodeHeader();this._nextIFD;)if(it++,this.decodeIFD({ignoreImageData:!0},!0),it===2)return!0;if(it===1)return!1;throw unsupported("ifdCount",it)}get pageCount(){let it=0;for(this.decodeHeader();this._nextIFD;)it++,this.decodeIFD({ignoreImageData:!0},!0);if(it>0)return it;throw unsupported("ifdCount",it)}decode(it={}){it=Object.assign({},defaultOptions$1,it);const at=[];for(this.decodeHeader();this._nextIFD;)if(at.push(this.decodeIFD(it,!0)),it.onlyFirst)return[at[0]];return at}decodeHeader(){const it=this.readUint16();if(it===18761)this.setLittleEndian();else if(it===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${it.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(it,at){this.seek(this._nextIFD);let lt;if(at)lt=new TiffIfd;else{if(!it.kind)throw new Error("kind is missing");lt=new IFD(it.kind)}const st=this.readUint16();for(let ct=0;ct<st;ct++)this.decodeIFDEntry(lt);if(!it.ignoreImageData){if(!(lt instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(lt)}return this._nextIFD=this.readUint32(),lt}decodeIFDEntry(it){const at=this.offset,lt=this.readUint16(),st=this.readUint16(),ct=this.readUint32();if(st<1||st>12){this.skip(4);return}getByteLength(st,ct)>4&&this.seek(this.readUint32());const ft=readData(this,st,ct);if(it.fields.set(lt,ft),lt===34665||lt===34853){let dt=this.offset,pt="exif";lt===34665?pt="exif":lt===34853&&(pt="gps"),this._nextIFD=ft,it[pt]=this.decodeIFD({kind:pt,ignoreImageData:!0},!1),this.offset=dt}this.seek(at),this.skip(12)}decodeImageData(it){const at=it.orientation;if(at&&at!==1)throw unsupported("orientation",at);switch(it.type){case 0:case 1:case 2:case 3:this.readStripData(it);break;default:throw unsupported("image type",it.type)}if(this.applyPredictor(it),this.convertAlpha(it),it.type===0){const lt=it.bitsPerSample,st=Math.pow(2,lt)-1;for(let ct=0;ct<it.data.length;ct++)it.data[ct]=st-it.data[ct]}}readStripData(it){const at=it.width,lt=it.height,st=it.bitsPerSample,ct=it.sampleFormat,ut=at*lt*it.samplesPerPixel,ft=getDataArray(ut,st,ct),pt=it.rowsPerStrip*at*it.samplesPerPixel,ht=it.stripOffsets,gt=it.stripByteCounts||guessStripByteCounts(it);let mt=ut,xt=0;for(let vt=0;vt<ht.length;vt++){let $t=new DataView(this.buffer,this.byteOffset+ht[vt],gt[vt]),_t=mt>pt?pt:mt;mt-=_t;let yt=$t;switch(it.compression){case 1:break;case 5:{yt=decompressLzw($t);break}case 8:{yt=decompressZlib($t);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",it.compression)}xt=this.fillUncompressed(st,ct,ft,yt,xt,_t)}it.data=ft}fillUncompressed(it,at,lt,st,ct,ut){if(it===8)return fill8bit(lt,st,ct,ut);if(it===16)return fill16bit(lt,st,ct,ut,this.isLittleEndian());if(it===32&&at===3)return fillFloat32(lt,st,ct,ut,this.isLittleEndian());throw unsupported("bitDepth",it)}applyPredictor(it){const at=it.bitsPerSample;switch(it.predictor){case 1:break;case 2:{if(at===8)applyHorizontalDifferencing8Bit(it.data,it.width,it.components);else if(at===16)applyHorizontalDifferencing16Bit(it.data,it.width,it.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${at}`);break}default:throw new Error(`invalid predictor: ${it.predictor}`)}}convertAlpha(it){if(it.alpha&&it.associatedAlpha){const{data:at,components:lt,maxSampleValue:st}=it;for(let ct=0;ct<at.length;ct+=lt){const ut=at[ct+lt-1];for(let ft=0;ft<lt-1;ft++)at[ct+ft]=Math.round(at[ct+ft]*st/ut)}}}}function getDataArray(rt,it,at){if(it===8)return new Uint8Array(rt);if(it===16)return new Uint16Array(rt);if(it===32&&at===3)return new Float32Array(rt);throw unsupported("bit depth / sample format",`${it} / ${at}`)}function fill8bit(rt,it,at,lt){for(let st=0;st<lt;st++)rt[at++]=it.getUint8(st);return at}function fill16bit(rt,it,at,lt,st){for(let ct=0;ct<lt*2;ct+=2)rt[at++]=it.getUint16(ct,st);return at}function fillFloat32(rt,it,at,lt,st){for(let ct=0;ct<lt*4;ct+=4)rt[at++]=it.getFloat32(ct,st);return at}function unsupported(rt,it){return new Error(`Unsupported ${rt}: ${it}`)}function decodeTIFF(rt,it){return new TIFFDecoder(rt).decode(it)}function decodeTiff(rt){let it=decodeTIFF(rt);return getImageFromIFD(it[0])}function getImageFromIFD(rt){if(rt.type===3){const it=new Uint16Array(3*rt.width*rt.height),at=rt.palette;let lt=0;for(let st of rt.data){const ct=at[st];it[lt++]=ct[0],it[lt++]=ct[1],it[lt++]=ct[2]}return new Image(rt.width,rt.height,{data:it,colorModel:rt.alpha?ImageColorModel.RGBA:ImageColorModel.RGB,depth:16})}else return new Image(rt.width,rt.height,{data:rt.data,depth:rt.bitsPerSample,colorModel:rt.type===2?rt.alpha?ImageColorModel.RGBA:ImageColorModel.RGB:rt.alpha?ImageColorModel.GREYA:ImageColorModel.GREY})}function decode(rt){const it=new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength),at=imageTypeExports(it);switch(at==null?void 0:at.mime){case"image/png":return decodePng(it);case"image/jpeg":return decodeJpeg(it);case"image/tiff":return decodeTiff(it);default:throw new Error("unrecognized data format")}}function getBorderPoints(rt,it={}){return rt.getMask().getBorderPoints(it)}function getMask(rt,it={}){const{innerBorders:at=!0}=it;let lt=new Mask(rt.width,rt.height,{origin:rt.origin});for(let st=0;st<rt.height;st++)for(let ct=0;ct<rt.width;ct++)rt.getMapValue(rt.origin.column+ct,rt.origin.row+st)===rt.id?lt.setBit(ct,st,1):lt.setBit(ct,st,0);return at||lt.solidFill({out:lt}),lt}var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(rt,it,at,lt,st){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!st)throw new TypeError("Private accessor was defined without a setter");if(typeof it=="function"?rt!==it||!st:!it.has(rt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?st.call(rt,at):st?st.value=at:it.set(rt,at),at},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(rt,it,at,lt){if(at==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof it=="function"?rt!==it||!lt:!it.has(rt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return at==="m"?lt:at==="a"?lt.call(rt):lt?lt.value:it.get(rt)},_Roi_instances,_Roi_computed,_Roi_getComputed;class Roi{constructor(it,at,lt,st,ct,ut){_Roi_instances.add(this),_Roi_computed.set(this,void 0),this.map=it,this.id=at,this.origin=ct,this.width=lt,this.height=st,this.surface=ut,__classPrivateFieldSet(this,_Roi_computed,{},"f")}getMap(){return this.map}getMapValue(it,at){return this.map.data[this.map.width*at+it]}getRatio(){return this.width/this.height}getMask(it){return getMask(this,it)}get ped(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"ped",()=>this.perimeter/Math.PI)}getBorderPoints(it){return getBorderPoints(this,it)}_computeBorderIDs(){let it=getBorders(this);return __classPrivateFieldGet(this,_Roi_computed,"f").borderIDs=it.ids,__classPrivateFieldGet(this,_Roi_computed,"f").borderLengths=it.lengths,it}get internalIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"internalIDs",()=>getInternalIDs(this))}get externalIDs(){return __classPrivateFieldGet(this,_Roi_computed,"f").externalIDs?__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs:(this.getExternalIDs(),__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs||[])}get externalLengths(){return __classPrivateFieldGet(this,_Roi_computed,"f").externalLengths?__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths:(this.getExternalIDs(),__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths)}get perimeterInfo(){return __classPrivateFieldGet(this,_Roi_computed,"f").perimeterInfo||(__classPrivateFieldGet(this,_Roi_computed,"f").perimeterInfo=getPerimeterInfo(this)),__classPrivateFieldGet(this,_Roi_computed,"f").perimeterInfo}get perimeter(){let it=this.perimeterInfo,at=2-Math.sqrt(2);return it.one+it.two*2+it.three*3+it.four*4-at*(it.two+it.three*2+it.four)}get points(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"points",()=>{if(!__classPrivateFieldGet(this,_Roi_computed,"f").points){let it=[];for(let at=0;at<this.height;at++)for(let lt=0;lt<this.width;lt++){let st=(at+this.origin.row)*this.map.width+lt+this.origin.column;this.map.data[st]===this.id&&it.push([lt,at])}__classPrivateFieldGet(this,_Roi_computed,"f").points=it}return __classPrivateFieldGet(this,_Roi_computed,"f").points})}get boxIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"boxIDs",()=>getBoxIDs(this))}get eqpc(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"eqpc",()=>2*Math.sqrt(this.surface/Math.PI))}get external(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"external",()=>getExternal(this))}get holesInfo(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"holesInfo",()=>getHolesInfo(this))}getExternalIDs(){let it=this.borderIDs,at=this.borderLengths;__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths=[],__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs=[];let lt=this.internalIDs;for(let st=0;st<it.length;st++)lt.includes(it[st])||(__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs.push(it[st]),__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths.push(at[st]));return{borders:it,lengths:at}}get borderIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"borderIDs",()=>this._computeBorderIDs().ids)}get borderLengths(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"borderLengths",()=>this._computeBorderIDs().lengths)}get box(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"box",()=>getBox(this))}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/getConvexHull(this.getMask()).surface}get convexHull(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"convexHull",()=>getConvexHull(this.getMask()))}get mbr(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"mbr",()=>getMbr(this.getMask()))}get roundness(){return 4*this.surface/(Math.PI*this.feret.maxDiameter.length**2)}get feret(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"feret",()=>getFeret(this.getMask()))}toJSON(){return{id:this.id,origin:this.origin,height:this.height,width:this.width,surface:this.surface,eqpc:this.eqpc,ped:this.ped,feret:this.feret,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter,convexHull:this.convexHull,mbr:this.mbr}}}_Roi_computed=new WeakMap,_Roi_instances=new WeakSet,_Roi_getComputed=function rt(it,at){if(__classPrivateFieldGet(this,_Roi_computed,"f")[it]===void 0){let lt=at();return __classPrivateFieldGet(this,_Roi_computed,"f")[it]=lt,lt}return __classPrivateFieldGet(this,_Roi_computed,"f")[it]};function getPerimeterInfo(rt){let it=rt.getMap(),at=it.data,lt=0,st=0,ct=0,ut=0;for(let ft=0;ft<rt.width;ft++)for(let dt=0;dt<rt.height;dt++){let pt=computeIndex(rt,dt,ft);if(at[pt]===rt.id){let ht=0;switch((ft===0||rt.externalIDs.includes(at[pt-1]))&&ht++,(ft===it.width-1||rt.externalIDs.includes(at[pt+1]))&&ht++,(dt===0||rt.externalIDs.includes(at[pt-it.width]))&&ht++,(dt===it.height-1||rt.externalIDs.includes(at[pt+it.width]))&&ht++,ht){case 1:lt++;break;case 2:st++;break;case 3:ct++;break;case 4:ut++;break}}}return{one:lt,two:st,three:ct,four:ut}}function getExternal(rt){let it=0,at=rt.getMap(),lt=at.data;for(let st=0;st<rt.width;st++)for(let ct=0;ct<rt.height;ct++){let ut=computeIndex(rt,ct,st);lt[ut]===rt.id&&(rt.externalIDs.includes(lt[ut-1])||rt.externalIDs.includes(lt[ut+1])||rt.externalIDs.includes(lt[ut-at.width])||rt.externalIDs.includes(lt[ut+at.width]))&&it++}return it+rt.box}function getHolesInfo(rt){let it=0,at=rt.getMap().data;for(let lt=1;lt<rt.width-1;lt++)for(let st=1;st<rt.height-1;st++){let ct=computeIndex(rt,st,lt);rt.internalIDs.includes(at[ct])&&at[ct]!==rt.id&&it++}return{number:rt.internalIDs.length-1,surface:it}}function getInternalIDs(rt){let it=[rt.id],at=rt.getMap(),lt=at.data;if(rt.height>2)for(let ct=0;ct<rt.width;ct++){let ut=computeIndex(rt,0,ct);if(it.includes(lt[ut])){let ft=lt[ut+at.width];!it.includes(ft)&&!rt.boxIDs.includes(ft)&&it.push(ft)}}let st=new Array(4);for(let ct=1;ct<rt.width-1;ct++)for(let ut=1;ut<rt.height-1;ut++){let ft=computeIndex(rt,ut,ct);if(it.includes(lt[ft])){st[0]=lt[ft-1],st[1]=lt[ft+1],st[2]=lt[ft-at.width],st[3]=lt[ft+at.width];for(let dt=0;dt<4;dt++){let pt=st[dt];!it.includes(pt)&&!rt.boxIDs.includes(pt)&&it.push(pt)}}}return it}function getBox(rt){let it=0,lt=rt.getMap().data,st=[0];rt.height>1&&(st[1]=rt.height-1);for(let ut of st)for(let ft=1;ft<rt.width-1;ft++){let dt=computeIndex(rt,ut,ft);lt[dt]===rt.id&&it++}let ct=[0];rt.width>1&&(ct[1]=rt.width-1);for(let ut of ct)for(let ft=0;ft<rt.height;ft++){let dt=computeIndex(rt,ft,ut);lt[dt]===rt.id&&it++}return it}function getBoxIDs(rt){let it=new Set,at=rt.getMap(),lt=at.data;for(let st of[0,rt.height-1])for(let ct=0;ct<rt.width;ct++){let ut=computeIndex(rt,st,ct);if(ct-rt.origin.column>0&&lt[ut]===rt.id&&lt[ut-1]!==rt.id){let ft=lt[ut-1];it.add(ft)}if(at.width-ct-rt.origin.column>1&&lt[ut]===rt.id&&lt[ut+1]!==rt.id){let ft=lt[ut+1];it.add(ft)}}for(let st of[0,rt.width-1])for(let ct=0;ct<rt.height;ct++){let ut=computeIndex(rt,ct,st);if(ct-rt.origin.row>0&&lt[ut]===rt.id&&lt[ut-at.width]!==rt.id){let ft=lt[ut-at.width];it.add(ft)}if(at.height-ct-rt.origin.row>1&&lt[ut]===rt.id&&lt[ut+at.width]!==rt.id){let ft=lt[ut+at.width];it.add(ft)}}return Array.from(it)}function getBorders(rt){let it=rt.getMap(),at=it.data,lt=new Set,st=new Map,ct=new Set,ut=[1,0,-1,0],ft=[0,1,0,-1];for(let ht=rt.origin.column;ht<=rt.origin.column+rt.width;ht++)for(let gt=rt.origin.row;gt<=rt.origin.row+rt.height;gt++){let mt=ht+gt*it.width;if(at[mt]===rt.id)for(let xt=0;xt<4;xt++){let vt=ht+ut[xt],$t=gt+ft[xt];if(vt>=0&&$t>=0&&vt<it.width&&$t<it.height){let _t=vt+$t*it.width;if(at[_t]!==rt.id&&!ct.has(_t)){ct.add(_t),lt.add(at[_t]);let yt=st.get(at[_t]);yt?st.set(at[_t],++yt):st.set(at[_t],1)}}}}let dt=Array.from(lt),pt=dt.map(ht=>st.get(ht));return{ids:dt,lengths:pt}}function computeIndex(rt,it,at){const lt=rt.getMap();return(it+rt.origin.row)*lt.width+at+rt.origin.column}function computeRois(rt){const it=rt.getMap(),at=new Array(it.nbPositive),lt=new Array(it.nbNegative);for(let st=0;st<it.nbPositive;st++)at[st]={minRow:it.height,minColumn:it.width,maxRow:-1,maxColumn:-1,surface:0,id:st+1};for(let st=0;st<it.nbNegative;st++)lt[st]={borderLengths:[],borderIDs:[],minRow:it.height,minColumn:it.width,maxRow:-1,maxColumn:-1,surface:0,id:-st-1};for(let st=0;st<it.height;st++)for(let ct=0;ct<it.width;ct++){let ut=rt.getMapValue(ct,st),ft;ut<0?ft=lt[-ut-1]:ft=at[ut-1],ft.surface++,st<ft.minRow&&(ft.minRow=st),st>ft.maxRow&&(ft.maxRow=st),ct<ft.minColumn&&(ft.minColumn=ct),ct>ft.maxColumn&&(ft.maxColumn=ct)}rt.whiteRois=new Array(it.nbPositive),rt.blackRois=new Array(it.nbNegative);for(let st=0;st<it.nbNegative;st++){let ct=lt[st].maxColumn-lt[st].minColumn+1,ut=lt[st].maxRow-lt[st].minRow+1,ft={row:lt[st].minRow,column:lt[st].minColumn},dt=lt[st].id,pt=lt[st].surface,ht=new Roi(it,dt,ct,ut,ft,pt);rt.blackRois[st]=ht}for(let st=0;st<it.nbPositive;st++){let ct=at[st].maxColumn-at[st].minColumn+1,ut=at[st].maxRow-at[st].minRow+1,ft={row:at[st].minRow,column:at[st].minColumn},dt=at[st].id,pt=at[st].surface,ht=new Roi(it,dt,ct,ut,ft,pt);rt.whiteRois[st]=ht}}var RoiKind;(function(rt){rt.BLACK="BLACK",rt.WHITE="WHITE",rt.BW="BW"})(RoiKind||(RoiKind={}));function getRois(rt,it={}){const{minSurface:at=0,maxSurface:lt=Number.MAX_SAFE_INTEGER,kind:st="WHITE"}=it;rt.blackRois.length===0&&rt.whiteRois.length===0&&computeRois(rt);let ct;switch(st){case RoiKind.BLACK:{ct=rt.blackRois;break}case RoiKind.WHITE:{ct=rt.whiteRois;break}case RoiKind.BW:{ct=[...rt.whiteRois,...rt.blackRois];break}default:throw new Error("getRois: unknown ROI kind")}return ct.filter(ut=>ut.surface>=at&&ut.surface<=lt)}const maxNumberRois=2**16,maxRoiId=maxNumberRois/2;var RoisColorMode;(function(rt){rt.BINARY="BINARY",rt.SATURATION="SATURATION",rt.RAINBOW="RAINBOW"})(RoisColorMode||(RoisColorMode={}));class RoiMapManager{constructor(it){this.map=it,this.whiteRois=[],this.blackRois=[]}getMap(){return this.map}getMapValue(it,at){return this.map.data[this.map.width*at+it]}getMapMatrix(){return Matrix.from1DArray(this.map.height,this.map.width,this.map.data).to2DArray()}getRois(it={}){return getRois(this,it)}}function fromMask(rt,it={}){const{allowCorners:at=!1}=it,lt=maxNumberRois-1,st=maxRoiId-1,ct=-maxRoiId;let ut=new Int16Array(rt.size),ft=0,dt=0,pt=new Uint16Array(maxNumberRois),ht=new Uint16Array(maxNumberRois);for(let mt=0;mt<rt.width;mt++)for(let xt=0;xt<rt.height;xt++)ut[xt*rt.width+mt]===0&&gt(mt,xt);function gt(mt,xt){let vt=0,$t=0,_t=rt.getBit(mt,xt),yt=_t?++ft:--dt;if(ft>st||dt<ct)throw new Error("Too many regions of interest");for(pt[0]=mt,ht[0]=xt;vt<=$t;){let Et=pt[vt&lt],wt=ht[vt&lt];ut[wt*rt.width+Et]=yt,Et>0&&ut[wt*rt.width+Et-1]===0&&rt.getBit(Et-1,wt)===_t&&($t++,pt[$t&lt]=Et-1,ht[$t&lt]=wt,ut[wt*rt.width+Et-1]=ct),wt>0&&ut[(wt-1)*rt.width+Et]===0&&rt.getBit(Et,wt-1)===_t&&($t++,pt[$t&lt]=Et,ht[$t&lt]=wt-1,ut[(wt-1)*rt.width+Et]=ct),Et<rt.width-1&&ut[wt*rt.width+Et+1]===0&&rt.getBit(Et+1,wt)===_t&&($t++,pt[$t&lt]=Et+1,ht[$t&lt]=wt,ut[wt*rt.width+Et+1]=ct),wt<rt.height-1&&ut[(wt+1)*rt.width+Et]===0&&rt.getBit(Et,wt+1)===_t&&($t++,pt[$t&lt]=Et,ht[$t&lt]=wt+1,ut[(wt+1)*rt.width+Et]=ct),at&&(Et>0&&wt>0&&ut[(wt-1)*rt.width+Et-1]===0&&rt.getBit(Et-1,wt-1)===_t&&($t++,pt[$t&lt]=Et-1,ht[$t&lt]=wt-1,ut[(wt-1)*rt.width+Et-1]=ct),Et<rt.width-1&&wt>0&&ut[(wt-1)*rt.width+Et+1]===0&&rt.getBit(Et+1,wt-1)===_t&&($t++,pt[$t&lt]=Et+1,ht[$t&lt]=wt-1,ut[(wt-1)*rt.width+Et+1]=ct),Et>0&&wt<rt.height-1&&ut[(wt+1)*rt.width+Et-1]===0&&rt.getBit(Et-1,wt+1)===_t&&($t++,pt[$t&lt]=Et-1,ht[$t&lt]=wt+1,ut[(wt+1)*rt.width+Et-1]=ct),Et<rt.width-1&&wt<rt.height-1&&ut[(wt+1)*rt.width+Et+1]===0&&rt.getBit(Et+1,wt+1)===_t&&($t++,pt[$t&lt]=Et+1,ht[$t&lt]=wt+1,ut[(wt+1)*rt.width+Et+1]=ct)),vt++,assert($t-vt<=lt,"fromMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMapManager({width:rt.width,height:rt.height,data:ut,nbNegative:Math.abs(dt),nbPositive:ft})}var ImageFormat;(function(rt){rt.png="png",rt.jpg="jpg",rt.jpeg="jpeg"})(ImageFormat||(ImageFormat={}));ImageFormat.png;function writeCanvas(rt,it,at={}){rt.colorModel!==ImageColorModel.RGBA&&(rt=rt.convertColor(ImageColorModel.RGBA));const{resizeCanvas:lt=!0,dx:st=0,dy:ct=0,dirtyX:ut=0,dirtyY:ft=0,dirtyWidth:dt=rt.width,dirtyHeight:pt=rt.height}=at;lt&&(it.width=rt.width,it.height=rt.height);const ht=it.getContext("2d");if(ht===null)throw new Error("could not get context from canvas element");const gt=rt.getRawImage().data;ht.putImageData(new ImageData(new Uint8ClampedArray(gt.buffer,gt.byteOffset,gt.byteLength),rt.width,rt.height),st,ct,ut,ft,dt,pt)}function n$6(rt){for(var it=arguments.length,at=Array(it>1?it-1:0),lt=1;lt<it;lt++)at[lt-1]=arguments[lt];throw Error("[Immer] minified error nr: "+rt+(at.length?" "+at.map(function(st){return"'"+st+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$6(rt){return!!rt&&!!rt[Q$2]}function t$5(rt){var it;return!!rt&&(function(at){if(!at||typeof at!="object")return!1;var lt=Object.getPrototypeOf(at);if(lt===null)return!0;var st=Object.hasOwnProperty.call(lt,"constructor")&&lt.constructor;return st===Object||typeof st=="function"&&Function.toString.call(st)===Z$1}(rt)||Array.isArray(rt)||!!rt[L$7]||!!(!((it=rt.constructor)===null||it===void 0)&&it[L$7])||s$7(rt)||v$3(rt))}function i$6(rt,it,at){at===void 0&&(at=!1),o$7(rt)===0?(at?Object.keys:nn)(rt).forEach(function(lt){at&&typeof lt=="symbol"||it(lt,rt[lt],rt)}):rt.forEach(function(lt,st){return it(st,lt,rt)})}function o$7(rt){var it=rt[Q$2];return it?it.i>3?it.i-4:it.i:Array.isArray(rt)?1:s$7(rt)?2:v$3(rt)?3:0}function u$8(rt,it){return o$7(rt)===2?rt.has(it):Object.prototype.hasOwnProperty.call(rt,it)}function a$4(rt,it){return o$7(rt)===2?rt.get(it):rt[it]}function f$5(rt,it,at){var lt=o$7(rt);lt===2?rt.set(it,at):lt===3?rt.add(at):rt[it]=at}function c$6(rt,it){return rt===it?rt!==0||1/rt==1/it:rt!=rt&&it!=it}function s$7(rt){return X&&rt instanceof Map}function v$3(rt){return q$5&&rt instanceof Set}function p$7(rt){return rt.o||rt.t}function l$6(rt){if(Array.isArray(rt))return Array.prototype.slice.call(rt);var it=rn(rt);delete it[Q$2];for(var at=nn(it),lt=0;lt<at.length;lt++){var st=at[lt],ct=it[st];ct.writable===!1&&(ct.writable=!0,ct.configurable=!0),(ct.get||ct.set)&&(it[st]={configurable:!0,writable:!0,enumerable:ct.enumerable,value:rt[st]})}return Object.create(Object.getPrototypeOf(rt),it)}function d$6(rt,it){return it===void 0&&(it=!1),y$7(rt)||r$6(rt)||!t$5(rt)||(o$7(rt)>1&&(rt.set=rt.add=rt.clear=rt.delete=h$6),Object.freeze(rt),it&&i$6(rt,function(at,lt){return d$6(lt,!0)},!0)),rt}function h$6(){n$6(2)}function y$7(rt){return rt==null||typeof rt!="object"||Object.isFrozen(rt)}function b$2(rt){var it=tn[rt];return it||n$6(18,rt),it}function _(){return U$2}function j$1(rt,it){it&&(b$2("Patches"),rt.u=[],rt.s=[],rt.v=it)}function g$7(rt){O$3(rt),rt.p.forEach(S$2),rt.p=null}function O$3(rt){rt===U$2&&(U$2=rt.l)}function w$6(rt){return U$2={p:[],l:U$2,h:rt,m:!0,_:0}}function S$2(rt){var it=rt[Q$2];it.i===0||it.i===1?it.j():it.g=!0}function P$3(rt,it){it._=it.p.length;var at=it.p[0],lt=rt!==void 0&&rt!==at;return it.h.O||b$2("ES5").S(it,rt,lt),lt?(at[Q$2].P&&(g$7(it),n$6(4)),t$5(rt)&&(rt=M$1(it,rt),it.l||x$7(it,rt)),it.u&&b$2("Patches").M(at[Q$2].t,rt,it.u,it.s)):rt=M$1(it,at,[]),g$7(it),it.u&&it.v(it.u,it.s),rt!==H$3?rt:void 0}function M$1(rt,it,at){if(y$7(it))return it;var lt=it[Q$2];if(!lt)return i$6(it,function(ft,dt){return A$5(rt,lt,it,ft,dt,at)},!0),it;if(lt.A!==rt)return it;if(!lt.P)return x$7(rt,lt.t,!0),lt.t;if(!lt.I){lt.I=!0,lt.A._--;var st=lt.i===4||lt.i===5?lt.o=l$6(lt.k):lt.o,ct=st,ut=!1;lt.i===3&&(ct=new Set(st),st.clear(),ut=!0),i$6(ct,function(ft,dt){return A$5(rt,lt,st,ft,dt,at,ut)}),x$7(rt,st,!1),at&&rt.u&&b$2("Patches").N(lt,at,rt.u,rt.s)}return lt.o}function A$5(rt,it,at,lt,st,ct,ut){if(r$6(st)){var ft=M$1(rt,st,ct&&it&&it.i!==3&&!u$8(it.R,lt)?ct.concat(lt):void 0);if(f$5(at,lt,ft),!r$6(ft))return;rt.m=!1}else ut&&at.add(st);if(t$5(st)&&!y$7(st)){if(!rt.h.D&&rt._<1)return;M$1(rt,st),it&&it.A.l||x$7(rt,st)}}function x$7(rt,it,at){at===void 0&&(at=!1),!rt.l&&rt.h.D&&rt.m&&d$6(it,at)}function z$7(rt,it){var at=rt[Q$2];return(at?p$7(at):rt)[it]}function I$3(rt,it){if(it in rt)for(var at=Object.getPrototypeOf(rt);at;){var lt=Object.getOwnPropertyDescriptor(at,it);if(lt)return lt;at=Object.getPrototypeOf(at)}}function k$5(rt){rt.P||(rt.P=!0,rt.l&&k$5(rt.l))}function E$6(rt){rt.o||(rt.o=l$6(rt.t))}function N$4(rt,it,at){var lt=s$7(it)?b$2("MapSet").F(it,at):v$3(it)?b$2("MapSet").T(it,at):rt.O?function(st,ct){var ut=Array.isArray(st),ft={i:ut?1:0,A:ct?ct.A:_(),P:!1,I:!1,R:{},l:ct,t:st,k:null,o:null,j:null,C:!1},dt=ft,pt=en;ut&&(dt=[ft],pt=on);var ht=Proxy.revocable(dt,pt),gt=ht.revoke,mt=ht.proxy;return ft.k=mt,ft.j=gt,mt}(it,at):b$2("ES5").J(it,at);return(at?at.A:_()).p.push(lt),lt}function R$3(rt){return r$6(rt)||n$6(22,rt),function it(at){if(!t$5(at))return at;var lt,st=at[Q$2],ct=o$7(at);if(st){if(!st.P&&(st.i<4||!b$2("ES5").K(st)))return st.t;st.I=!0,lt=D$7(at,ct),st.I=!1}else lt=D$7(at,ct);return i$6(lt,function(ut,ft){st&&a$4(st.t,ut)===ft||f$5(lt,ut,it(ft))}),ct===3?new Set(lt):lt}(rt)}function D$7(rt,it){switch(it){case 2:return new Map(rt);case 3:return Array.from(rt)}return l$6(rt)}var G$3,U$2,W$2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q$5=typeof Set<"u",B$6=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$3=W$2?Symbol.for("immer-nothing"):((G$3={})["immer-nothing"]=!0,G$3),L$7=W$2?Symbol.for("immer-draftable"):"__$immer_draftable",Q$2=W$2?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(rt){return Object.getOwnPropertyNames(rt).concat(Object.getOwnPropertySymbols(rt))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(rt){var it={};return nn(rt).forEach(function(at){it[at]=Object.getOwnPropertyDescriptor(rt,at)}),it},tn={},en={get:function(rt,it){if(it===Q$2)return rt;var at=p$7(rt);if(!u$8(at,it))return function(st,ct,ut){var ft,dt=I$3(ct,ut);return dt?"value"in dt?dt.value:(ft=dt.get)===null||ft===void 0?void 0:ft.call(st.k):void 0}(rt,at,it);var lt=at[it];return rt.I||!t$5(lt)?lt:lt===z$7(rt.t,it)?(E$6(rt),rt.o[it]=N$4(rt.A.h,lt,rt)):lt},has:function(rt,it){return it in p$7(rt)},ownKeys:function(rt){return Reflect.ownKeys(p$7(rt))},set:function(rt,it,at){var lt=I$3(p$7(rt),it);if(lt!=null&&lt.set)return lt.set.call(rt.k,at),!0;if(!rt.P){var st=z$7(p$7(rt),it),ct=st==null?void 0:st[Q$2];if(ct&&ct.t===at)return rt.o[it]=at,rt.R[it]=!1,!0;if(c$6(at,st)&&(at!==void 0||u$8(rt.t,it)))return!0;E$6(rt),k$5(rt)}return rt.o[it]===at&&(at!==void 0||it in rt.o)||Number.isNaN(at)&&Number.isNaN(rt.o[it])||(rt.o[it]=at,rt.R[it]=!0),!0},deleteProperty:function(rt,it){return z$7(rt.t,it)!==void 0||it in rt.t?(rt.R[it]=!1,E$6(rt),k$5(rt)):delete rt.R[it],rt.o&&delete rt.o[it],!0},getOwnPropertyDescriptor:function(rt,it){var at=p$7(rt),lt=Reflect.getOwnPropertyDescriptor(at,it);return lt&&{writable:!0,configurable:rt.i!==1||it!=="length",enumerable:lt.enumerable,value:at[it]}},defineProperty:function(){n$6(11)},getPrototypeOf:function(rt){return Object.getPrototypeOf(rt.t)},setPrototypeOf:function(){n$6(12)}},on={};i$6(en,function(rt,it){on[rt]=function(){return arguments[0]=arguments[0][0],it.apply(this,arguments)}}),on.deleteProperty=function(rt,it){return on.set.call(this,rt,it,void 0)},on.set=function(rt,it,at){return en.set.call(this,rt[0],it,at,rt[0])};var un=function(){function rt(at){var lt=this;this.O=B$6,this.D=!0,this.produce=function(st,ct,ut){if(typeof st=="function"&&typeof ct!="function"){var ft=ct;ct=st;var dt=lt;return function($t){var _t=this;$t===void 0&&($t=ft);for(var yt=arguments.length,Et=Array(yt>1?yt-1:0),wt=1;wt<yt;wt++)Et[wt-1]=arguments[wt];return dt.produce($t,function(bt){var St;return(St=ct).call.apply(St,[_t,bt].concat(Et))})}}var pt;if(typeof ct!="function"&&n$6(6),ut!==void 0&&typeof ut!="function"&&n$6(7),t$5(st)){var ht=w$6(lt),gt=N$4(lt,st,void 0),mt=!0;try{pt=ct(gt),mt=!1}finally{mt?g$7(ht):O$3(ht)}return typeof Promise<"u"&&pt instanceof Promise?pt.then(function($t){return j$1(ht,ut),P$3($t,ht)},function($t){throw g$7(ht),$t}):(j$1(ht,ut),P$3(pt,ht))}if(!st||typeof st!="object"){if((pt=ct(st))===void 0&&(pt=st),pt===H$3&&(pt=void 0),lt.D&&d$6(pt,!0),ut){var xt=[],vt=[];b$2("Patches").M(st,pt,xt,vt),ut(xt,vt)}return pt}n$6(21,st)},this.produceWithPatches=function(st,ct){if(typeof st=="function")return function(pt){for(var ht=arguments.length,gt=Array(ht>1?ht-1:0),mt=1;mt<ht;mt++)gt[mt-1]=arguments[mt];return lt.produceWithPatches(pt,function(xt){return st.apply(void 0,[xt].concat(gt))})};var ut,ft,dt=lt.produce(st,ct,function(pt,ht){ut=pt,ft=ht});return typeof Promise<"u"&&dt instanceof Promise?dt.then(function(pt){return[pt,ut,ft]}):[dt,ut,ft]},typeof(at==null?void 0:at.useProxies)=="boolean"&&this.setUseProxies(at.useProxies),typeof(at==null?void 0:at.autoFreeze)=="boolean"&&this.setAutoFreeze(at.autoFreeze)}var it=rt.prototype;return it.createDraft=function(at){t$5(at)||n$6(8),r$6(at)&&(at=R$3(at));var lt=w$6(this),st=N$4(this,at,void 0);return st[Q$2].C=!0,O$3(lt),st},it.finishDraft=function(at,lt){var st=at&&at[Q$2],ct=st.A;return j$1(ct,lt),P$3(void 0,ct)},it.setAutoFreeze=function(at){this.D=at},it.setUseProxies=function(at){at&&!B$6&&n$6(20),this.O=at},it.applyPatches=function(at,lt){var st;for(st=lt.length-1;st>=0;st--){var ct=lt[st];if(ct.path.length===0&&ct.op==="replace"){at=ct.value;break}}st>-1&&(lt=lt.slice(st+1));var ut=b$2("Patches").$;return r$6(at)?ut(at,lt):this.produce(at,function(ft){return ut(ft,lt)})},rt}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const defaultDataValue={image:void 0};function getDataActions(rt,it){return{loadImage:async(at="/test/good.jpg")=>{const st=await(await fetch(at)).arrayBuffer(),ct=decode(new Uint8Array(st));it(fn(ut=>{ut.data.image=ct}))}}}const DataContext=reactExports.createContext({data:{image:null},actions:{}}),GlobalContext=reactExports.createContext({});function r$5(rt){var it,at,lt="";if(typeof rt=="string"||typeof rt=="number")lt+=rt;else if(typeof rt=="object")if(Array.isArray(rt))for(it=0;it<rt.length;it++)rt[it]&&(at=r$5(rt[it]))&&(lt&&(lt+=" "),lt+=at);else for(it in rt)rt[it]&&(lt&&(lt+=" "),lt+=it);return lt}function clsx(){for(var rt,it,at=0,lt="";at<arguments.length;)(rt=arguments[at++])&&(it=r$5(rt))&&(lt&&(lt+=" "),lt+=it);return lt}const Color$1={primary:"primary",neutral:"neutral",success:"success",warning:"warning",danger:"danger",alternative:"alternative"},Size={xSmall:"xSmall",small:"small",medium:"medium",large:"large",xLarge:"xLarge"},Variant={primary:"primary",secondary:"secondary",white:"white"},Roundness={light:"light",full:"full",circular:"circular"},BadgeSize={SMALL:"small",LARGE:"large"},BadgeVariant={COLORED_DOT:"COLORED_DOT",COLORED_BACKGROUND:"COLORED_BACKGROUND"},colors$4={[Color$1.neutral]:"bg-neutral-100 text-neutral-800",[Color$1.alternative]:"bg-alternative-100 text-alternative-800",[Color$1.danger]:"bg-danger-100 text-danger-800",[Color$1.primary]:"bg-primary-100 text-primary-800",[Color$1.success]:"bg-success-100 text-success-800",[Color$1.warning]:"bg-warning-100 text-warning-800"},dotColors={[Color$1.neutral]:"text-neutral-400",[Color$1.alternative]:"text-alternative-400",[Color$1.danger]:"text-danger-400",[Color$1.primary]:"text-primary-400",[Color$1.success]:"text-success-400",[Color$1.warning]:"text-warning-400"},removeColors={[Color$1.neutral]:"text-neutral-400 hover:bg-neutral-200 hover:text-neutral-500 focus:bg-neutral-500",[Color$1.alternative]:"text-alternative-400 hover:bg-alternative-200 hover:text-alternative-500 focus:bg-alternative-500",[Color$1.danger]:"text-danger-400 hover:bg-danger-200 hover:text-danger-500 focus:bg-danger-500",[Color$1.primary]:"text-primary-400 hover:bg-primary-200 hover:text-primary-500 focus:bg-primary-500",[Color$1.success]:"text-success-400 hover:bg-success-200 hover:text-success-500 focus:bg-success-500",[Color$1.warning]:"text-warning-400 hover:bg-warning-200 hover:text-warning-500 focus:bg-warning-500"},paddings={[BadgeSize.SMALL]:{basic:"px-2.5 py-0.5",rounded:"px-2 py-0.5",remove:"py-0.5 pl-2 pr-0.5"},[BadgeSize.LARGE]:{basic:"px-3 py-0.5",rounded:"px-2.5 py-0.5",remove:"py-0.5 pl-2.5 pr-1"}};function Badge(rt){const{size:it=BadgeSize.SMALL,rounded:at=!1,dot:lt=!1,onDismiss:st,variant:ct,label:ut,className:ft,style:dt}=rt,pt=paddings[it],ht="bg-white border border-neutral-300",gt="color"in rt&&ct===BadgeVariant.COLORED_BACKGROUND?colors$4[rt.color]:ht;return jsxs("span",{className:clsx("inline-flex items-center font-semibold",it===BadgeSize.LARGE?"text-sm":"text-xs",gt,at?it===BadgeSize.LARGE?"rounded-md":"rounded":"rounded-full",st?pt.remove:at?pt.rounded:pt.basic,ft),style:dt,children:[(ct===BadgeVariant.COLORED_DOT||lt)&&jsx("svg",{className:clsx("mr-1.5 h-2 w-2",it===BadgeSize.LARGE?"-ml-1":"-ml-0.5",{[dotColors["color"in rt?rt.color:Color$1.neutral]]:ct===BadgeVariant.COLORED_BACKGROUND&&"color"in rt}),fill:"currentColor",viewBox:"0 0 8 8",style:{color:ct===BadgeVariant.COLORED_DOT&&"customColor"in rt?rt.customColor:void 0},children:jsx("circle",{cx:"4",cy:"4",r:"3"})}),ut,st&&jsx("button",{type:"button",onClick:st,className:clsx("ml-0.5 inline-flex h-4 w-4 shrink-0 items-center justify-center rounded-full focus:text-white focus:outline-none",removeColors["color"in rt?rt.color:Color$1.neutral]),children:jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})})]})}function forwardRefWithGeneric(rt){return reactExports.forwardRef(rt)}function forwardRefWithAs(rt){return Object.assign(reactExports.forwardRef(rt),{displayName:rt.displayName??rt.name})}const userAgent=typeof navigator<"u"?navigator.userAgent:"";userAgent.includes("Macintosh")||userAgent.includes("iPad")||userAgent.includes("iPhone");function _extends(){return _extends=Object.assign?Object.assign.bind():function(rt){for(var it=1;it<arguments.length;it++){var at=arguments[it];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(rt[lt]=at[lt])}return rt},_extends.apply(this,arguments)}function $e42e1063c40fb3ef$export$b9ecd428b558ff10(rt,it,{checkForDefaultPrevented:at=!0}={}){return function(st){if(rt==null||rt(st),at===!1||!st.defaultPrevented)return it==null?void 0:it(st)}}function $6ed0406888f73fc4$var$setRef(rt,it){typeof rt=="function"?rt(it):rt!=null&&(rt.current=it)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...rt){return it=>rt.forEach(at=>$6ed0406888f73fc4$var$setRef(at,it))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...rt){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...rt),rt)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(rt,it=[]){let at=[];function lt(ct,ut){const ft=reactExports.createContext(ut),dt=at.length;at=[...at,ut];function pt(gt){const{scope:mt,children:xt,...vt}=gt,$t=(mt==null?void 0:mt[rt][dt])||ft,_t=reactExports.useMemo(()=>vt,Object.values(vt));return reactExports.createElement($t.Provider,{value:_t},xt)}function ht(gt,mt){const xt=(mt==null?void 0:mt[rt][dt])||ft,vt=reactExports.useContext(xt);if(vt)return vt;if(ut!==void 0)return ut;throw new Error(`\`${gt}\` must be used within \`${ct}\``)}return pt.displayName=ct+"Provider",[pt,ht]}const st=()=>{const ct=at.map(ut=>reactExports.createContext(ut));return function(ft){const dt=(ft==null?void 0:ft[rt])||ct;return reactExports.useMemo(()=>({[`__scope${rt}`]:{...ft,[rt]:dt}}),[ft,dt])}};return st.scopeName=rt,[lt,$c512c27ab02ef895$var$composeContextScopes(st,...it)]}function $c512c27ab02ef895$var$composeContextScopes(...rt){const it=rt[0];if(rt.length===1)return it;const at=()=>{const lt=rt.map(st=>({useScope:st(),scopeName:st.scopeName}));return function(ct){const ut=lt.reduce((ft,{useScope:dt,scopeName:pt})=>{const gt=dt(ct)[`__scope${pt}`];return{...ft,...gt}},{});return reactExports.useMemo(()=>({[`__scope${it.scopeName}`]:ut}),[ut])}};return at.scopeName=it.scopeName,at}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((rt,it)=>{const{children:at,...lt}=rt,st=reactExports.Children.toArray(at),ct=st.find($5e63c961fc1ce211$var$isSlottable);if(ct){const ut=ct.props.children,ft=st.map(dt=>dt===ct?reactExports.Children.count(ut)>1?reactExports.Children.only(null):reactExports.isValidElement(ut)?ut.props.children:null:dt);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends({},lt,{ref:it}),reactExports.isValidElement(ut)?reactExports.cloneElement(ut,void 0,ft):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends({},lt,{ref:it}),at)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((rt,it)=>{const{children:at,...lt}=rt;return reactExports.isValidElement(at)?reactExports.cloneElement(at,{...$5e63c961fc1ce211$var$mergeProps(lt,at.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(it,at.ref)}):reactExports.Children.count(at)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:rt})=>reactExports.createElement(reactExports.Fragment,null,rt);function $5e63c961fc1ce211$var$isSlottable(rt){return reactExports.isValidElement(rt)&&rt.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(rt,it){const at={...it};for(const lt in it){const st=rt[lt],ct=it[lt];/^on[A-Z]/.test(lt)?st&&ct?at[lt]=(...ft)=>{ct(...ft),st(...ft)}:st&&(at[lt]=st):lt==="style"?at[lt]={...st,...ct}:lt==="className"&&(at[lt]=[st,ct].filter(Boolean).join(" "))}return{...rt,...at}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((rt,it)=>{const at=reactExports.forwardRef((lt,st)=>{const{asChild:ct,...ut}=lt,ft=ct?$5e63c961fc1ce211$export$8c6ed5c666ac1360:it;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(ft,_extends({},ut,{ref:st}))});return at.displayName=`Primitive.${it}`,{...rt,[it]:at}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(rt,it){rt&&reactDomExports.flushSync(()=>rt.dispatchEvent(it))}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt){const it=reactExports.useRef(rt);return reactExports.useEffect(()=>{it.current=rt}),reactExports.useMemo(()=>(...at)=>{var lt;return(lt=it.current)===null||lt===void 0?void 0:lt.call(it,...at)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(rt,it=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt);reactExports.useEffect(()=>{const lt=st=>{st.key==="Escape"&&at(st)};return it.addEventListener("keydown",lt),()=>it.removeEventListener("keydown",lt)},[at,it])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((rt,it)=>{var at;const{disableOutsidePointerEvents:lt=!1,onEscapeKeyDown:st,onPointerDownOutside:ct,onFocusOutside:ut,onInteractOutside:ft,onDismiss:dt,...pt}=rt,ht=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[gt,mt]=reactExports.useState(null),xt=(at=gt==null?void 0:gt.ownerDocument)!==null&&at!==void 0?at:globalThis==null?void 0:globalThis.document,[,vt]=reactExports.useState({}),$t=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,kt=>mt(kt)),_t=Array.from(ht.layers),[yt]=[...ht.layersWithOutsidePointerEventsDisabled].slice(-1),Et=_t.indexOf(yt),wt=gt?_t.indexOf(gt):-1,bt=ht.layersWithOutsidePointerEventsDisabled.size>0,St=wt>=Et,Tt=$5cb92bef7577960e$var$usePointerDownOutside(kt=>{const At=kt.target,Ct=[...ht.branches].some(Mt=>Mt.contains(At));!St||Ct||(ct==null||ct(kt),ft==null||ft(kt),kt.defaultPrevented||dt==null||dt())},xt),Rt=$5cb92bef7577960e$var$useFocusOutside(kt=>{const At=kt.target;[...ht.branches].some(Mt=>Mt.contains(At))||(ut==null||ut(kt),ft==null||ft(kt),kt.defaultPrevented||dt==null||dt())},xt);return $addc16e1bbe58fd0$export$3a72a57244d6e765(kt=>{wt===ht.layers.size-1&&(st==null||st(kt),!kt.defaultPrevented&&dt&&(kt.preventDefault(),dt()))},xt),reactExports.useEffect(()=>{if(gt)return lt&&(ht.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=xt.body.style.pointerEvents,xt.body.style.pointerEvents="none"),ht.layersWithOutsidePointerEventsDisabled.add(gt)),ht.layers.add(gt),$5cb92bef7577960e$var$dispatchUpdate(),()=>{lt&&ht.layersWithOutsidePointerEventsDisabled.size===1&&(xt.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[gt,xt,lt,ht]),reactExports.useEffect(()=>()=>{gt&&(ht.layers.delete(gt),ht.layersWithOutsidePointerEventsDisabled.delete(gt),$5cb92bef7577960e$var$dispatchUpdate())},[gt,ht]),reactExports.useEffect(()=>{const kt=()=>vt({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,kt),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,kt)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},pt,{ref:$t,style:{pointerEvents:bt?St?"auto":"none":void 0,...rt.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onFocusCapture,Rt.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onBlurCapture,Rt.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onPointerDownCapture,Tt.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(rt,it=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt),lt=reactExports.useRef(!1),st=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ct=ft=>{if(ft.target&&!lt.current){let ht=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,at,pt,{discrete:!0})};var dt=ht;const pt={originalEvent:ft};ft.pointerType==="touch"?(it.removeEventListener("click",st.current),st.current=ht,it.addEventListener("click",st.current,{once:!0})):ht()}lt.current=!1},ut=window.setTimeout(()=>{it.addEventListener("pointerdown",ct)},0);return()=>{window.clearTimeout(ut),it.removeEventListener("pointerdown",ct),it.removeEventListener("click",st.current)}},[it,at]),{onPointerDownCapture:()=>lt.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(rt,it=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt),lt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const st=ct=>{ct.target&&!lt.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,at,{originalEvent:ct},{discrete:!1})};return it.addEventListener("focusin",st),()=>it.removeEventListener("focusin",st)},[it,at]),{onFocusCapture:()=>lt.current=!0,onBlurCapture:()=>lt.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const rt=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(rt)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(rt,it,at,{discrete:lt}){const st=at.originalEvent.target,ct=new CustomEvent(rt,{bubbles:!1,cancelable:!0,detail:at});it&&st.addEventListener(rt,it,{once:!0}),lt?$8927f6f2acc4f386$export$6d1a0317bde7de7f(st,ct):st.dispatchEvent(ct)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=e$6["useId".toString()]||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(rt){const[it,at]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{rt||at(lt=>lt??String($1746a345f3d73bb7$var$count++))},[rt]),rt||(it?`radix-${it}`:"")}function t$4(rt){return rt.split("-")[0]}function e$3(rt){return rt.split("-")[1]}function n$5(rt){return["top","bottom"].includes(t$4(rt))?"x":"y"}function r$4(rt){return rt==="y"?"height":"width"}function i$5(rt,it,at){let{reference:lt,floating:st}=rt;const ct=lt.x+lt.width/2-st.width/2,ut=lt.y+lt.height/2-st.height/2,ft=n$5(it),dt=r$4(ft),pt=lt[dt]/2-st[dt]/2,ht=ft==="x";let gt;switch(t$4(it)){case"top":gt={x:ct,y:lt.y-st.height};break;case"bottom":gt={x:ct,y:lt.y+lt.height};break;case"right":gt={x:lt.x+lt.width,y:ut};break;case"left":gt={x:lt.x-st.width,y:ut};break;default:gt={x:lt.x,y:lt.y}}switch(e$3(it)){case"start":gt[ft]-=pt*(at&&ht?-1:1);break;case"end":gt[ft]+=pt*(at&&ht?-1:1)}return gt}const o$6=async(rt,it,at)=>{const{placement:lt="bottom",strategy:st="absolute",middleware:ct=[],platform:ut}=at,ft=await(ut.isRTL==null?void 0:ut.isRTL(it));let dt=await ut.getElementRects({reference:rt,floating:it,strategy:st}),{x:pt,y:ht}=i$5(dt,lt,ft),gt=lt,mt={},xt=0;for(let vt=0;vt<ct.length;vt++){const{name:$t,fn:_t}=ct[vt],{x:yt,y:Et,data:wt,reset:bt}=await _t({x:pt,y:ht,initialPlacement:lt,placement:gt,strategy:st,middlewareData:mt,rects:dt,platform:ut,elements:{reference:rt,floating:it}});pt=yt??pt,ht=Et??ht,mt={...mt,[$t]:{...mt[$t],...wt}},bt&&xt<=50&&(xt++,typeof bt=="object"&&(bt.placement&&(gt=bt.placement),bt.rects&&(dt=bt.rects===!0?await ut.getElementRects({reference:rt,floating:it,strategy:st}):bt.rects),{x:pt,y:ht}=i$5(dt,gt,ft)),vt=-1)}return{x:pt,y:ht,placement:gt,strategy:st,middlewareData:mt}};function a$3(rt){return typeof rt!="number"?function(it){return{top:0,right:0,bottom:0,left:0,...it}}(rt):{top:rt,right:rt,bottom:rt,left:rt}}function l$5(rt){return{...rt,top:rt.y,left:rt.x,right:rt.x+rt.width,bottom:rt.y+rt.height}}async function s$6(rt,it){var at;it===void 0&&(it={});const{x:lt,y:st,platform:ct,rects:ut,elements:ft,strategy:dt}=rt,{boundary:pt="clippingAncestors",rootBoundary:ht="viewport",elementContext:gt="floating",altBoundary:mt=!1,padding:xt=0}=it,vt=a$3(xt),$t=ft[mt?gt==="floating"?"reference":"floating":gt],_t=l$5(await ct.getClippingRect({element:(at=await(ct.isElement==null?void 0:ct.isElement($t)))==null||at?$t:$t.contextElement||await(ct.getDocumentElement==null?void 0:ct.getDocumentElement(ft.floating)),boundary:pt,rootBoundary:ht,strategy:dt})),yt=l$5(ct.convertOffsetParentRelativeRectToViewportRelativeRect?await ct.convertOffsetParentRelativeRectToViewportRelativeRect({rect:gt==="floating"?{...ut.floating,x:lt,y:st}:ut.reference,offsetParent:await(ct.getOffsetParent==null?void 0:ct.getOffsetParent(ft.floating)),strategy:dt}):ut[gt]);return{top:_t.top-yt.top+vt.top,bottom:yt.bottom-_t.bottom+vt.bottom,left:_t.left-yt.left+vt.left,right:yt.right-_t.right+vt.right}}const c$5=Math.min,f$4=Math.max;function u$7(rt,it,at){return f$4(rt,c$5(it,at))}const m$5=rt=>({name:"arrow",options:rt,async fn(it){const{element:at,padding:lt=0}=rt??{},{x:st,y:ct,placement:ut,rects:ft,platform:dt}=it;if(at==null)return{};const pt=a$3(lt),ht={x:st,y:ct},gt=n$5(ut),mt=e$3(ut),xt=r$4(gt),vt=await dt.getDimensions(at),$t=gt==="y"?"top":"left",_t=gt==="y"?"bottom":"right",yt=ft.reference[xt]+ft.reference[gt]-ht[gt]-ft.floating[xt],Et=ht[gt]-ft.reference[gt],wt=await(dt.getOffsetParent==null?void 0:dt.getOffsetParent(at));let bt=wt?gt==="y"?wt.clientHeight||0:wt.clientWidth||0:0;bt===0&&(bt=ft.floating[xt]);const St=yt/2-Et/2,Tt=pt[$t],Rt=bt-vt[xt]-pt[_t],kt=bt/2-vt[xt]/2+St,At=u$7(Tt,kt,Rt),Ct=(mt==="start"?pt[$t]:pt[_t])>0&&kt!==At&&ft.reference[xt]<=ft.floating[xt];return{[gt]:ht[gt]-(Ct?kt<Tt?Tt-kt:Rt-kt:0),data:{[gt]:At,centerOffset:kt-At}}}}),g$6={left:"right",right:"left",bottom:"top",top:"bottom"};function d$5(rt){return rt.replace(/left|right|bottom|top/g,it=>g$6[it])}function p$6(rt,it,at){at===void 0&&(at=!1);const lt=e$3(rt),st=n$5(rt),ct=r$4(st);let ut=st==="x"?lt===(at?"end":"start")?"right":"left":lt==="start"?"bottom":"top";return it.reference[ct]>it.floating[ct]&&(ut=d$5(ut)),{main:ut,cross:d$5(ut)}}const h$5={start:"end",end:"start"};function y$6(rt){return rt.replace(/start|end/g,it=>h$5[it])}const x$6=["top","right","bottom","left"];x$6.reduce((rt,it)=>rt.concat(it,it+"-start",it+"-end"),[]);const b$1=function(rt){return rt===void 0&&(rt={}),{name:"flip",options:rt,async fn(it){var at;const{placement:lt,middlewareData:st,rects:ct,initialPlacement:ut,platform:ft,elements:dt}=it,{mainAxis:pt=!0,crossAxis:ht=!0,fallbackPlacements:gt,fallbackStrategy:mt="bestFit",flipAlignment:xt=!0,...vt}=rt,$t=t$4(lt),_t=gt||($t===ut||!xt?[d$5(ut)]:function(kt){const At=d$5(kt);return[y$6(kt),At,y$6(At)]}(ut)),yt=[ut,..._t],Et=await s$6(it,vt),wt=[];let bt=((at=st.flip)==null?void 0:at.overflows)||[];if(pt&&wt.push(Et[$t]),ht){const{main:kt,cross:At}=p$6(lt,ct,await(ft.isRTL==null?void 0:ft.isRTL(dt.floating)));wt.push(Et[kt],Et[At])}if(bt=[...bt,{placement:lt,overflows:wt}],!wt.every(kt=>kt<=0)){var St,Tt;const kt=((St=(Tt=st.flip)==null?void 0:Tt.index)!=null?St:0)+1,At=yt[kt];if(At)return{data:{index:kt,overflows:bt},reset:{placement:At}};let Ct="bottom";switch(mt){case"bestFit":{var Rt;const Mt=(Rt=bt.map(Ot=>[Ot,Ot.overflows.filter(Nt=>Nt>0).reduce((Nt,It)=>Nt+It,0)]).sort((Ot,Nt)=>Ot[1]-Nt[1])[0])==null?void 0:Rt[0].placement;Mt&&(Ct=Mt);break}case"initialPlacement":Ct=ut}if(lt!==Ct)return{reset:{placement:Ct}}}return{}}}};function R$2(rt,it){return{top:rt.top-it.height,right:rt.right-it.width,bottom:rt.bottom-it.height,left:rt.left-it.width}}function A$4(rt){return x$6.some(it=>rt[it]>=0)}const P$2=function(rt){let{strategy:it="referenceHidden",...at}=rt===void 0?{}:rt;return{name:"hide",async fn(lt){const{rects:st}=lt;switch(it){case"referenceHidden":{const ct=R$2(await s$6(lt,{...at,elementContext:"reference"}),st.reference);return{data:{referenceHiddenOffsets:ct,referenceHidden:A$4(ct)}}}case"escaped":{const ct=R$2(await s$6(lt,{...at,altBoundary:!0}),st.floating);return{data:{escapedOffsets:ct,escaped:A$4(ct)}}}default:return{}}}}},T$4=function(rt){return rt===void 0&&(rt=0),{name:"offset",options:rt,async fn(it){const{x:at,y:lt}=it,st=await async function(ct,ut){const{placement:ft,platform:dt,elements:pt}=ct,ht=await(dt.isRTL==null?void 0:dt.isRTL(pt.floating)),gt=t$4(ft),mt=e$3(ft),xt=n$5(ft)==="x",vt=["left","top"].includes(gt)?-1:1,$t=ht&&xt?-1:1,_t=typeof ut=="function"?ut(ct):ut;let{mainAxis:yt,crossAxis:Et,alignmentAxis:wt}=typeof _t=="number"?{mainAxis:_t,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._t};return mt&&typeof wt=="number"&&(Et=mt==="end"?-1*wt:wt),xt?{x:Et*$t,y:yt*vt}:{x:yt*vt,y:Et*$t}}(it,rt);return{x:at+st.x,y:lt+st.y,data:st}}}};function O$2(rt){return rt==="x"?"y":"x"}const D$6=function(rt){return rt===void 0&&(rt={}),{name:"shift",options:rt,async fn(it){const{x:at,y:lt,placement:st}=it,{mainAxis:ct=!0,crossAxis:ut=!1,limiter:ft={fn:_t=>{let{x:yt,y:Et}=_t;return{x:yt,y:Et}}},...dt}=rt,pt={x:at,y:lt},ht=await s$6(it,dt),gt=n$5(t$4(st)),mt=O$2(gt);let xt=pt[gt],vt=pt[mt];if(ct){const _t=gt==="y"?"bottom":"right";xt=u$7(xt+ht[gt==="y"?"top":"left"],xt,xt-ht[_t])}if(ut){const _t=mt==="y"?"bottom":"right";vt=u$7(vt+ht[mt==="y"?"top":"left"],vt,vt-ht[_t])}const $t=ft.fn({...it,[gt]:xt,[mt]:vt});return{...$t,data:{x:$t.x-at,y:$t.y-lt}}}}},L$6=function(rt){return rt===void 0&&(rt={}),{options:rt,fn(it){const{x:at,y:lt,placement:st,rects:ct,middlewareData:ut}=it,{offset:ft=0,mainAxis:dt=!0,crossAxis:pt=!0}=rt,ht={x:at,y:lt},gt=n$5(st),mt=O$2(gt);let xt=ht[gt],vt=ht[mt];const $t=typeof ft=="function"?ft({...ct,placement:st}):ft,_t=typeof $t=="number"?{mainAxis:$t,crossAxis:0}:{mainAxis:0,crossAxis:0,...$t};if(dt){const St=gt==="y"?"height":"width",Tt=ct.reference[gt]-ct.floating[St]+_t.mainAxis,Rt=ct.reference[gt]+ct.reference[St]-_t.mainAxis;xt<Tt?xt=Tt:xt>Rt&&(xt=Rt)}if(pt){var yt,Et,wt,bt;const St=gt==="y"?"width":"height",Tt=["top","left"].includes(t$4(st)),Rt=ct.reference[mt]-ct.floating[St]+(Tt&&(yt=(Et=ut.offset)==null?void 0:Et[mt])!=null?yt:0)+(Tt?0:_t.crossAxis),kt=ct.reference[mt]+ct.reference[St]+(Tt?0:(wt=(bt=ut.offset)==null?void 0:bt[mt])!=null?wt:0)-(Tt?_t.crossAxis:0);vt<Rt?vt=Rt:vt>kt&&(vt=kt)}return{[gt]:xt,[mt]:vt}}}},k$4=function(rt){return rt===void 0&&(rt={}),{name:"size",options:rt,async fn(it){const{placement:at,rects:lt,platform:st,elements:ct}=it,{apply:ut,...ft}=rt,dt=await s$6(it,ft),pt=t$4(at),ht=e$3(at);let gt,mt;pt==="top"||pt==="bottom"?(gt=pt,mt=ht===(await(st.isRTL==null?void 0:st.isRTL(ct.floating))?"start":"end")?"left":"right"):(mt=pt,gt=ht==="end"?"top":"bottom");const xt=f$4(dt.left,0),vt=f$4(dt.right,0),$t=f$4(dt.top,0),_t=f$4(dt.bottom,0),yt={availableHeight:lt.floating.height-(["left","right"].includes(at)?2*($t!==0||_t!==0?$t+_t:f$4(dt.top,dt.bottom)):dt[gt]),availableWidth:lt.floating.width-(["top","bottom"].includes(at)?2*(xt!==0||vt!==0?xt+vt:f$4(dt.left,dt.right)):dt[mt])},Et=await st.getDimensions(ct.floating);ut==null||ut({...it,...yt});const wt=await st.getDimensions(ct.floating);return Et.width!==wt.width||Et.height!==wt.height?{reset:{rects:!0}}:{}}}};function n$4(rt){return rt&&rt.document&&rt.location&&rt.alert&&rt.setInterval}function o$5(rt){if(rt==null)return window;if(!n$4(rt)){const it=rt.ownerDocument;return it&&it.defaultView||window}return rt}function i$4(rt){return o$5(rt).getComputedStyle(rt)}function r$3(rt){return n$4(rt)?"":rt?(rt.nodeName||"").toLowerCase():""}function l$4(){const rt=navigator.userAgentData;return rt!=null&&rt.brands?rt.brands.map(it=>it.brand+"/"+it.version).join(" "):navigator.userAgent}function c$4(rt){return rt instanceof o$5(rt).HTMLElement}function f$3(rt){return rt instanceof o$5(rt).Element}function s$5(rt){return typeof ShadowRoot>"u"?!1:rt instanceof o$5(rt).ShadowRoot||rt instanceof ShadowRoot}function u$6(rt){const{overflow:it,overflowX:at,overflowY:lt}=i$4(rt);return/auto|scroll|overlay|hidden/.test(it+lt+at)}function d$4(rt){return["table","td","th"].includes(r$3(rt))}function h$4(rt){const it=/firefox/i.test(l$4()),at=i$4(rt);return at.transform!=="none"||at.perspective!=="none"||at.contain==="paint"||["transform","perspective"].includes(at.willChange)||it&&at.willChange==="filter"||it&&!!at.filter&&at.filter!=="none"}function a$2(){return!/^((?!chrome|android).)*safari/i.test(l$4())}const g$5=Math.min,p$5=Math.max,m$4=Math.round;function w$5(rt,it,at){var lt,st,ct,ut;it===void 0&&(it=!1),at===void 0&&(at=!1);const ft=rt.getBoundingClientRect();let dt=1,pt=1;it&&c$4(rt)&&(dt=rt.offsetWidth>0&&m$4(ft.width)/rt.offsetWidth||1,pt=rt.offsetHeight>0&&m$4(ft.height)/rt.offsetHeight||1);const ht=f$3(rt)?o$5(rt):window,gt=!a$2()&&at,mt=(ft.left+(gt&&(lt=(st=ht.visualViewport)==null?void 0:st.offsetLeft)!=null?lt:0))/dt,xt=(ft.top+(gt&&(ct=(ut=ht.visualViewport)==null?void 0:ut.offsetTop)!=null?ct:0))/pt,vt=ft.width/dt,$t=ft.height/pt;return{width:vt,height:$t,top:xt,right:mt+vt,bottom:xt+$t,left:mt,x:mt,y:xt}}function v$2(rt){return(it=rt,(it instanceof o$5(it).Node?rt.ownerDocument:rt.document)||window.document).documentElement;var it}function y$5(rt){return f$3(rt)?{scrollLeft:rt.scrollLeft,scrollTop:rt.scrollTop}:{scrollLeft:rt.pageXOffset,scrollTop:rt.pageYOffset}}function x$5(rt){return w$5(v$2(rt)).left+y$5(rt).scrollLeft}function b(rt,it,at){const lt=c$4(it),st=v$2(it),ct=w$5(rt,lt&&function(dt){const pt=w$5(dt);return m$4(pt.width)!==dt.offsetWidth||m$4(pt.height)!==dt.offsetHeight}(it),at==="fixed");let ut={scrollLeft:0,scrollTop:0};const ft={x:0,y:0};if(lt||!lt&&at!=="fixed")if((r$3(it)!=="body"||u$6(st))&&(ut=y$5(it)),c$4(it)){const dt=w$5(it,!0);ft.x=dt.x+it.clientLeft,ft.y=dt.y+it.clientTop}else st&&(ft.x=x$5(st));return{x:ct.left+ut.scrollLeft-ft.x,y:ct.top+ut.scrollTop-ft.y,width:ct.width,height:ct.height}}function L$5(rt){return r$3(rt)==="html"?rt:rt.assignedSlot||rt.parentNode||(s$5(rt)?rt.host:null)||v$2(rt)}function R$1(rt){return c$4(rt)&&getComputedStyle(rt).position!=="fixed"?rt.offsetParent:null}function T$3(rt){const it=o$5(rt);let at=R$1(rt);for(;at&&d$4(at)&&getComputedStyle(at).position==="static";)at=R$1(at);return at&&(r$3(at)==="html"||r$3(at)==="body"&&getComputedStyle(at).position==="static"&&!h$4(at))?it:at||function(lt){let st=L$5(lt);for(s$5(st)&&(st=st.host);c$4(st)&&!["html","body"].includes(r$3(st));){if(h$4(st))return st;st=st.parentNode}return null}(rt)||it}function W$1(rt){if(c$4(rt))return{width:rt.offsetWidth,height:rt.offsetHeight};const it=w$5(rt);return{width:it.width,height:it.height}}function E$5(rt){const it=L$5(rt);return["html","body","#document"].includes(r$3(it))?rt.ownerDocument.body:c$4(it)&&u$6(it)?it:E$5(it)}function H$2(rt,it){var at;it===void 0&&(it=[]);const lt=E$5(rt),st=lt===((at=rt.ownerDocument)==null?void 0:at.body),ct=o$5(lt),ut=st?[ct].concat(ct.visualViewport||[],u$6(lt)?lt:[]):lt,ft=it.concat(ut);return st?ft:ft.concat(H$2(ut))}function C$4(rt,it,at){return it==="viewport"?l$5(function(lt,st){const ct=o$5(lt),ut=v$2(lt),ft=ct.visualViewport;let dt=ut.clientWidth,pt=ut.clientHeight,ht=0,gt=0;if(ft){dt=ft.width,pt=ft.height;const mt=a$2();(mt||!mt&&st==="fixed")&&(ht=ft.offsetLeft,gt=ft.offsetTop)}return{width:dt,height:pt,x:ht,y:gt}}(rt,at)):f$3(it)?function(lt,st){const ct=w$5(lt,!1,st==="fixed"),ut=ct.top+lt.clientTop,ft=ct.left+lt.clientLeft;return{top:ut,left:ft,x:ft,y:ut,right:ft+lt.clientWidth,bottom:ut+lt.clientHeight,width:lt.clientWidth,height:lt.clientHeight}}(it,at):l$5(function(lt){var st;const ct=v$2(lt),ut=y$5(lt),ft=(st=lt.ownerDocument)==null?void 0:st.body,dt=p$5(ct.scrollWidth,ct.clientWidth,ft?ft.scrollWidth:0,ft?ft.clientWidth:0),pt=p$5(ct.scrollHeight,ct.clientHeight,ft?ft.scrollHeight:0,ft?ft.clientHeight:0);let ht=-ut.scrollLeft+x$5(lt);const gt=-ut.scrollTop;return i$4(ft||ct).direction==="rtl"&&(ht+=p$5(ct.clientWidth,ft?ft.clientWidth:0)-dt),{width:dt,height:pt,x:ht,y:gt}}(v$2(rt)))}function S$1(rt){const it=H$2(rt),at=["absolute","fixed"].includes(i$4(rt).position)&&c$4(rt)?T$3(rt):rt;return f$3(at)?it.filter(lt=>f$3(lt)&&function(st,ct){const ut=ct.getRootNode==null?void 0:ct.getRootNode();if(st.contains(ct))return!0;if(ut&&s$5(ut)){let ft=ct;do{if(ft&&st===ft)return!0;ft=ft.parentNode||ft.host}while(ft)}return!1}(lt,at)&&r$3(lt)!=="body"):[]}const D$5={getClippingRect:function(rt){let{element:it,boundary:at,rootBoundary:lt,strategy:st}=rt;const ct=[...at==="clippingAncestors"?S$1(it):[].concat(at),lt],ut=ct[0],ft=ct.reduce((dt,pt)=>{const ht=C$4(it,pt,st);return dt.top=p$5(ht.top,dt.top),dt.right=g$5(ht.right,dt.right),dt.bottom=g$5(ht.bottom,dt.bottom),dt.left=p$5(ht.left,dt.left),dt},C$4(it,ut,st));return{width:ft.right-ft.left,height:ft.bottom-ft.top,x:ft.left,y:ft.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(rt){let{rect:it,offsetParent:at,strategy:lt}=rt;const st=c$4(at),ct=v$2(at);if(at===ct)return it;let ut={scrollLeft:0,scrollTop:0};const ft={x:0,y:0};if((st||!st&&lt!=="fixed")&&((r$3(at)!=="body"||u$6(ct))&&(ut=y$5(at)),c$4(at))){const dt=w$5(at,!0);ft.x=dt.x+at.clientLeft,ft.y=dt.y+at.clientTop}return{...it,x:it.x-ut.scrollLeft+ft.x,y:it.y-ut.scrollTop+ft.y}},isElement:f$3,getDimensions:W$1,getOffsetParent:T$3,getDocumentElement:v$2,getElementRects:rt=>{let{reference:it,floating:at,strategy:lt}=rt;return{reference:b(it,T$3(at),lt),floating:{...W$1(at),x:0,y:0}}},getClientRects:rt=>Array.from(rt.getClientRects()),isRTL:rt=>i$4(rt).direction==="rtl"};function N$3(rt,it,at,lt){lt===void 0&&(lt={});const{ancestorScroll:st=!0,ancestorResize:ct=!0,elementResize:ut=!0,animationFrame:ft=!1}=lt,dt=st&&!ft,pt=ct&&!ft,ht=dt||pt?[...f$3(rt)?H$2(rt):[],...H$2(it)]:[];ht.forEach(vt=>{dt&&vt.addEventListener("scroll",at,{passive:!0}),pt&&vt.addEventListener("resize",at)});let gt,mt=null;if(ut){let vt=!0;mt=new ResizeObserver(()=>{vt||at(),vt=!1}),f$3(rt)&&!ft&&mt.observe(rt),mt.observe(it)}let xt=ft?w$5(rt):null;return ft&&function vt(){const $t=w$5(rt);!xt||$t.x===xt.x&&$t.y===xt.y&&$t.width===xt.width&&$t.height===xt.height||at(),xt=$t,gt=requestAnimationFrame(vt)}(),at(),()=>{var vt;ht.forEach($t=>{dt&&$t.removeEventListener("scroll",at),pt&&$t.removeEventListener("resize",at)}),(vt=mt)==null||vt.disconnect(),mt=null,ft&&cancelAnimationFrame(gt)}}const z$6=(rt,it,at)=>o$6(rt,it,{platform:D$5,...at});var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(rt,it){if(rt===it)return!0;if(typeof rt!=typeof it)return!1;if(typeof rt=="function"&&rt.toString()===it.toString())return!0;let at,lt,st;if(rt&&it&&typeof rt=="object"){if(Array.isArray(rt)){if(at=rt.length,at!=it.length)return!1;for(lt=at;lt--!==0;)if(!deepEqual(rt[lt],it[lt]))return!1;return!0}if(st=Object.keys(rt),at=st.length,at!==Object.keys(it).length)return!1;for(lt=at;lt--!==0;)if(!Object.prototype.hasOwnProperty.call(it,st[lt]))return!1;for(lt=at;lt--!==0;){const ct=st[lt];if(!(ct==="_owner"&&rt.$$typeof)&&!deepEqual(rt[ct],it[ct]))return!1}return!0}return rt!==rt&&it!==it}function useLatestRef(rt){const it=reactExports.useRef(rt);return index$1(()=>{it.current=rt}),it}function useFloating(rt){let{middleware:it,placement:at="bottom",strategy:lt="absolute",whileElementsMounted:st}=rt===void 0?{}:rt;const ct=reactExports.useRef(null),ut=reactExports.useRef(null),ft=useLatestRef(st),dt=reactExports.useRef(null),[pt,ht]=reactExports.useState({x:null,y:null,strategy:lt,placement:at,middlewareData:{}}),[gt,mt]=reactExports.useState(it);deepEqual(gt==null?void 0:gt.map(wt=>{let{options:bt}=wt;return bt}),it==null?void 0:it.map(wt=>{let{options:bt}=wt;return bt}))||mt(it);const xt=reactExports.useCallback(()=>{!ct.current||!ut.current||z$6(ct.current,ut.current,{middleware:gt,placement:at,strategy:lt}).then(wt=>{vt.current&&reactDomExports.flushSync(()=>{ht(wt)})})},[gt,at,lt]);index$1(()=>{vt.current&&xt()},[xt]);const vt=reactExports.useRef(!1);index$1(()=>(vt.current=!0,()=>{vt.current=!1}),[]);const $t=reactExports.useCallback(()=>{if(typeof dt.current=="function"&&(dt.current(),dt.current=null),ct.current&&ut.current)if(ft.current){const wt=ft.current(ct.current,ut.current,xt);dt.current=wt}else xt()},[xt,ft]),_t=reactExports.useCallback(wt=>{ct.current=wt,$t()},[$t]),yt=reactExports.useCallback(wt=>{ut.current=wt,$t()},[$t]),Et=reactExports.useMemo(()=>({reference:ct,floating:ut}),[]);return reactExports.useMemo(()=>({...pt,update:xt,refs:Et,reference:_t,floating:yt}),[pt,xt,Et,_t,yt])}const arrow$2=rt=>{const{element:it,padding:at}=rt;function lt(st){return Object.prototype.hasOwnProperty.call(st,"current")}return{name:"arrow",options:rt,fn(st){return lt(it)?it.current!=null?m$5({element:it.current,padding:at}).fn(st):{}:it?m$5({element:it,padding:at}).fn(st):{}}}},$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((rt,it)=>{const{children:at,width:lt=10,height:st=5,...ct}=rt;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends({},ct,{ref:it,width:lt,height:st,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),rt.asChild?at:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(rt){const[it,at]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(rt){at({width:rt.offsetWidth,height:rt.offsetHeight});const lt=new ResizeObserver(st=>{if(!Array.isArray(st)||!st.length)return;const ct=st[0];let ut,ft;if("borderBoxSize"in ct){const dt=ct.borderBoxSize,pt=Array.isArray(dt)?dt[0]:dt;ut=pt.inlineSize,ft=pt.blockSize}else ut=rt.offsetWidth,ft=rt.offsetHeight;at({width:ut,height:ft})});return lt.observe(rt,{box:"border-box"}),()=>lt.unobserve(rt)}else at(void 0)},[rt]),it}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=rt=>{const{__scopePopper:it,children:at}=rt,[lt,st]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:it,anchor:lt,onAnchorChange:st},at)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((rt,it)=>{const{__scopePopper:at,virtualRef:lt,...st}=rt,ct=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,at),ut=reactExports.useRef(null),ft=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,ut);return reactExports.useEffect(()=>{ct.onAnchorChange((lt==null?void 0:lt.current)||ut.current)}),lt?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},st,{ref:ft}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),[$cf1ac5d9fe0e8206$var$PositionContextProvider,$cf1ac5d9fe0e8206$var$usePositionContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,{hasParent:!1,positionUpdateFns:new Set}),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((rt,it)=>{var at,lt,st,ct,ut,ft,dt,pt;const{__scopePopper:ht,side:gt="bottom",sideOffset:mt=0,align:xt="center",alignOffset:vt=0,arrowPadding:$t=0,collisionBoundary:_t=[],collisionPadding:yt=0,sticky:Et="partial",hideWhenDetached:wt=!1,avoidCollisions:bt=!0,onPlaced:St,...Tt}=rt,Rt=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,ht),[kt,At]=reactExports.useState(null),Ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,wn=>At(wn)),[Mt,Ot]=reactExports.useState(null),Nt=$db6c3485150b8e66$export$1ab7ae714698c4b8(Mt),It=(at=Nt==null?void 0:Nt.width)!==null&&at!==void 0?at:0,Dt=(lt=Nt==null?void 0:Nt.height)!==null&&lt!==void 0?lt:0,zt=gt+(xt!=="center"?"-"+xt:""),Yt=typeof yt=="number"?yt:{top:0,right:0,bottom:0,left:0,...yt},Pt=Array.isArray(_t)?_t:[_t],Lt=Pt.length>0,Ft={padding:Yt,boundary:Pt.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:Lt},{reference:qt,floating:Gt,strategy:Ut,x:Vt,y:Wt,placement:ln,middlewareData:pn,update:Sn}=useFloating({strategy:"fixed",placement:zt,whileElementsMounted:N$3,middleware:[$cf1ac5d9fe0e8206$var$anchorCssProperties(),T$4({mainAxis:mt+Dt,alignmentAxis:vt}),bt?D$6({mainAxis:!0,crossAxis:!1,limiter:Et==="partial"?L$6():void 0,...Ft}):void 0,Mt?arrow$2({element:Mt,padding:$t}):void 0,bt?b$1({...Ft}):void 0,k$4({...Ft,apply:({elements:wn,availableWidth:En,availableHeight:Zt})=>{wn.floating.style.setProperty("--radix-popper-available-width",`${En}px`),wn.floating.style.setProperty("--radix-popper-available-height",`${Zt}px`)}}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:It,arrowHeight:Dt}),wt?P$2({strategy:"referenceHidden"}):void 0].filter($cf1ac5d9fe0e8206$var$isDefined)});$9f79659886946c16$export$e5c5a5f917a5871c(()=>{qt(Rt.anchor)},[qt,Rt.anchor]);const Kt=Vt!==null&&Wt!==null,[cn,hn]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ln),Ht=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(St);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Kt&&(Ht==null||Ht())},[Kt,Ht]);const bn=(st=pn.arrow)===null||st===void 0?void 0:st.x,Qt=(ct=pn.arrow)===null||ct===void 0?void 0:ct.y,Xt=((ut=pn.arrow)===null||ut===void 0?void 0:ut.centerOffset)!==0,[gn,mn]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{kt&&mn(window.getComputedStyle(kt).zIndex)},[kt]);const{hasParent:_n,positionUpdateFns:jt}=$cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,ht),xn=!_n;reactExports.useLayoutEffect(()=>{if(!xn)return jt.add(Sn),()=>{jt.delete(Sn)}},[xn,jt,Sn]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{xn&&Kt&&Array.from(jt).reverse().forEach(wn=>requestAnimationFrame(wn))},[xn,Kt,jt]);const vn={"data-side":cn,"data-align":hn,...Tt,ref:Ct,style:{...Tt.style,animation:Kt?void 0:"none",opacity:(ft=pn.hide)!==null&&ft!==void 0&&ft.referenceHidden?0:void 0}};return reactExports.createElement("div",{ref:Gt,"data-radix-popper-content-wrapper":"",style:{position:Ut,left:0,top:0,transform:Kt?`translate3d(${Math.round(Vt)}px, ${Math.round(Wt)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:gn,["--radix-popper-transform-origin"]:[(dt=pn.transformOrigin)===null||dt===void 0?void 0:dt.x,(pt=pn.transformOrigin)===null||pt===void 0?void 0:pt.y].join(" ")},dir:rt.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:ht,placedSide:cn,onArrowChange:Ot,arrowX:bn,arrowY:Qt,shouldHideArrow:Xt},xn?reactExports.createElement($cf1ac5d9fe0e8206$var$PositionContextProvider,{scope:ht,hasParent:!0,positionUpdateFns:jt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,vn)):reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,vn)))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function rt(it,at){const{__scopePopper:lt,...st}=it,ct=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,lt),ut=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ct.placedSide];return reactExports.createElement("span",{ref:ct.onArrowChange,style:{position:"absolute",left:ct.arrowX,top:ct.arrowY,[ut]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ct.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ct.placedSide],visibility:ct.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends({},st,{ref:at,style:{...st.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isDefined(rt){return rt!==void 0}function $cf1ac5d9fe0e8206$var$isNotNull(rt){return rt!==null}const $cf1ac5d9fe0e8206$var$anchorCssProperties=()=>({name:"anchorCssProperties",fn(rt){const{rects:it,elements:at}=rt,{width:lt,height:st}=it.reference;return at.floating.style.setProperty("--radix-popper-anchor-width",`${lt}px`),at.floating.style.setProperty("--radix-popper-anchor-height",`${st}px`),{}}}),$cf1ac5d9fe0e8206$var$transformOrigin=rt=>({name:"transformOrigin",options:rt,fn(it){var at,lt,st,ct,ut;const{placement:ft,rects:dt,middlewareData:pt}=it,gt=((at=pt.arrow)===null||at===void 0?void 0:at.centerOffset)!==0,mt=gt?0:rt.arrowWidth,xt=gt?0:rt.arrowHeight,[vt,$t]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ft),_t={start:"0%",center:"50%",end:"100%"}[$t],yt=((lt=(st=pt.arrow)===null||st===void 0?void 0:st.x)!==null&&lt!==void 0?lt:0)+mt/2,Et=((ct=(ut=pt.arrow)===null||ut===void 0?void 0:ut.y)!==null&&ct!==void 0?ct:0)+xt/2;let wt="",bt="";return vt==="bottom"?(wt=gt?_t:`${yt}px`,bt=`${-xt}px`):vt==="top"?(wt=gt?_t:`${yt}px`,bt=`${dt.floating.height+xt}px`):vt==="right"?(wt=`${-xt}px`,bt=gt?_t:`${Et}px`):vt==="left"&&(wt=`${dt.floating.width+xt}px`,bt=gt?_t:`${Et}px`),{data:{x:wt,y:bt}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(rt){const[it,at="center"]=rt.split("-");return[it,at]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(rt,it){return reactExports.useReducer((at,lt)=>{const st=it[at][lt];return st??at},rt)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=rt=>{const{present:it,children:at}=rt,lt=$921a889cee6df7e8$var$usePresence(it),st=typeof at=="function"?at({present:lt.isPresent}):reactExports.Children.only(at),ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(lt.ref,st.ref);return typeof at=="function"||lt.isPresent?reactExports.cloneElement(st,{ref:ct}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(rt){const[it,at]=reactExports.useState(),lt=reactExports.useRef({}),st=reactExports.useRef(rt),ct=reactExports.useRef("none"),ut=rt?"mounted":"unmounted",[ft,dt]=$fe963b355347cc68$export$3e6543de14f8614f(ut,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const pt=$921a889cee6df7e8$var$getAnimationName(lt.current);ct.current=ft==="mounted"?pt:"none"},[ft]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const pt=lt.current,ht=st.current;if(ht!==rt){const mt=ct.current,xt=$921a889cee6df7e8$var$getAnimationName(pt);rt?dt("MOUNT"):xt==="none"||(pt==null?void 0:pt.display)==="none"?dt("UNMOUNT"):dt(ht&&mt!==xt?"ANIMATION_OUT":"UNMOUNT"),st.current=rt}},[rt,dt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(it){const pt=gt=>{const xt=$921a889cee6df7e8$var$getAnimationName(lt.current).includes(gt.animationName);gt.target===it&&xt&&reactDomExports.flushSync(()=>dt("ANIMATION_END"))},ht=gt=>{gt.target===it&&(ct.current=$921a889cee6df7e8$var$getAnimationName(lt.current))};return it.addEventListener("animationstart",ht),it.addEventListener("animationcancel",pt),it.addEventListener("animationend",pt),()=>{it.removeEventListener("animationstart",ht),it.removeEventListener("animationcancel",pt),it.removeEventListener("animationend",pt)}}else dt("ANIMATION_END")},[it,dt]),{isPresent:["mounted","unmountSuspended"].includes(ft),ref:reactExports.useCallback(pt=>{pt&&(lt.current=getComputedStyle(pt)),at(pt)},[])}}function $921a889cee6df7e8$var$getAnimationName(rt){return(rt==null?void 0:rt.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:rt,defaultProp:it,onChange:at=()=>{}}){const[lt,st]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:it,onChange:at}),ct=rt!==void 0,ut=ct?rt:lt,ft=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(at),dt=reactExports.useCallback(pt=>{if(ct){const gt=typeof pt=="function"?pt(rt):pt;gt!==rt&&ft(gt)}else st(pt)},[ct,rt,st,ft]);return[ut,dt]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:rt,onChange:it}){const at=reactExports.useState(rt),[lt]=at,st=reactExports.useRef(lt),ct=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(it);return reactExports.useEffect(()=>{st.current!==lt&&(ct(lt),st.current=lt)},[lt,st,ct]),at}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((rt,it)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({},rt,{ref:it,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...rt.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION=700,$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$export$f78649fb9ca566b8=rt=>{const{__scopeTooltip:it,delayDuration:at=$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION,skipDelayDuration:lt=300,disableHoverableContent:st=!1,children:ct}=rt,[ut,ft]=reactExports.useState(!0),dt=reactExports.useRef(!1),pt=reactExports.useRef(0);return reactExports.useEffect(()=>{const ht=pt.current;return()=>window.clearTimeout(ht)},[]),reactExports.createElement($a093c7e1ec25a057$var$TooltipProviderContextProvider,{scope:it,isOpenDelayed:ut,delayDuration:at,onOpen:reactExports.useCallback(()=>{window.clearTimeout(pt.current),ft(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(pt.current),pt.current=window.setTimeout(()=>ft(!0),lt)},[lt]),isPointerInTransitRef:dt,onPointerInTransitChange:reactExports.useCallback(ht=>{dt.current=ht},[]),disableHoverableContent:st},ct)},$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=rt=>{const{__scopeTooltip:it,children:at,open:lt,defaultOpen:st=!1,onOpenChange:ct,disableHoverableContent:ut,delayDuration:ft}=rt,dt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,rt.__scopeTooltip),pt=$a093c7e1ec25a057$var$usePopperScope(it),[ht,gt]=reactExports.useState(null),mt=$1746a345f3d73bb7$export$f680877a34711e37(),xt=reactExports.useRef(0),vt=ut??dt.disableHoverableContent,$t=ft??dt.delayDuration,_t=reactExports.useRef(!1),[yt=!1,Et]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lt,defaultProp:st,onChange:Rt=>{Rt?(dt.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):dt.onClose(),ct==null||ct(Rt)}}),wt=reactExports.useMemo(()=>yt?_t.current?"delayed-open":"instant-open":"closed",[yt]),bt=reactExports.useCallback(()=>{window.clearTimeout(xt.current),_t.current=!1,Et(!0)},[Et]),St=reactExports.useCallback(()=>{window.clearTimeout(xt.current),Et(!1)},[Et]),Tt=reactExports.useCallback(()=>{window.clearTimeout(xt.current),xt.current=window.setTimeout(()=>{_t.current=!0,Et(!0)},$t)},[$t,Et]);return reactExports.useEffect(()=>()=>window.clearTimeout(xt.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,pt,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:it,contentId:mt,open:yt,stateAttribute:wt,trigger:ht,onTriggerChange:gt,onTriggerEnter:reactExports.useCallback(()=>{dt.isOpenDelayed?Tt():bt()},[dt.isOpenDelayed,Tt,bt]),onTriggerLeave:reactExports.useCallback(()=>{vt?St():window.clearTimeout(xt.current)},[St,vt]),onOpen:bt,onClose:St,disableHoverableContent:vt},at))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((rt,it)=>{const{__scopeTooltip:at,...lt}=rt,st=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,at),ct=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,at),ut=$a093c7e1ec25a057$var$usePopperScope(at),ft=reactExports.useRef(null),dt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,ft,st.onTriggerChange),pt=reactExports.useRef(!1),ht=reactExports.useRef(!1),gt=reactExports.useCallback(()=>pt.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",gt),[gt]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends({asChild:!0},ut),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({"aria-describedby":st.open?st.contentId:void 0,"data-state":st.stateAttribute},lt,{ref:dt,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onPointerMove,mt=>{mt.pointerType!=="touch"&&!ht.current&&!ct.isPointerInTransitRef.current&&(st.onTriggerEnter(),ht.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onPointerLeave,()=>{st.onTriggerLeave(),ht.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onPointerDown,()=>{pt.current=!0,document.addEventListener("pointerup",gt,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onFocus,()=>{pt.current||st.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onBlur,st.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onClick,st.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((rt,it)=>{const at=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,rt.__scopeTooltip),{forceMount:lt=at.forceMount,side:st="top",...ct}=rt,ut=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,rt.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lt||ut.open},ut.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends({side:st},ct,{ref:it})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends({side:st},ct,{ref:it})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((rt,it)=>{const at=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,rt.__scopeTooltip),lt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,rt.__scopeTooltip),st=reactExports.useRef(null),ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,st),[ut,ft]=reactExports.useState(null),{trigger:dt,onClose:pt}=at,ht=st.current,{onPointerInTransitChange:gt}=lt,mt=reactExports.useCallback(()=>{ft(null),gt(!1)},[gt]),xt=reactExports.useCallback((vt,$t)=>{const _t=vt.currentTarget,yt={x:vt.clientX,y:vt.clientY},Et=$a093c7e1ec25a057$var$getExitSideFromRect(yt,_t.getBoundingClientRect()),wt=Et==="right"||Et==="bottom"?-5:5,St=Et==="right"||Et==="left"?{x:vt.clientX+wt,y:vt.clientY}:{x:vt.clientX,y:vt.clientY+wt},Tt=$a093c7e1ec25a057$var$getPointsFromRect($t.getBoundingClientRect()),Rt=$a093c7e1ec25a057$var$getHull([St,...Tt]);ft(Rt),gt(!0)},[gt]);return reactExports.useEffect(()=>()=>mt(),[mt]),reactExports.useEffect(()=>{if(dt&&ht){const vt=_t=>xt(_t,ht),$t=_t=>xt(_t,dt);return dt.addEventListener("pointerleave",vt),ht.addEventListener("pointerleave",$t),()=>{dt.removeEventListener("pointerleave",vt),ht.removeEventListener("pointerleave",$t)}}},[dt,ht,xt,mt]),reactExports.useEffect(()=>{if(ut){const vt=$t=>{const _t=$t.target,yt={x:$t.clientX,y:$t.clientY},Et=(dt==null?void 0:dt.contains(_t))||(ht==null?void 0:ht.contains(_t)),wt=!$a093c7e1ec25a057$var$isPointInPolygon(yt,ut);Et?mt():wt&&(mt(),pt())};return document.addEventListener("pointermove",vt),()=>document.removeEventListener("pointermove",vt)}},[dt,ht,ut,pt,mt]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends({},rt,{ref:ct}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((rt,it)=>{const{__scopeTooltip:at,children:lt,"aria-label":st,onEscapeKeyDown:ct,onPointerDownOutside:ut,...ft}=rt,dt=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,at),pt=$a093c7e1ec25a057$var$usePopperScope(at),{onClose:ht}=dt;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,ht),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,ht)),[ht]),reactExports.useEffect(()=>{if(dt.trigger){const gt=mt=>{const xt=mt.target;xt!=null&&xt.contains(dt.trigger)&&ht()};return window.addEventListener("scroll",gt,{capture:!0}),()=>window.removeEventListener("scroll",gt,{capture:!0})}},[dt.trigger,ht]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ct,onPointerDownOutside:ut,onFocusOutside:gt=>gt.preventDefault(),onDismiss:ht},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends({"data-state":dt.stateAttribute},pt,ft,{ref:it,style:{...ft.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,lt),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:at,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:dt.contentId,role:"tooltip"},st||lt))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((rt,it)=>{const{__scopeTooltip:at,...lt}=rt,st=$a093c7e1ec25a057$var$usePopperScope(at);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,at).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends({},st,lt,{ref:it}))});function $a093c7e1ec25a057$var$getExitSideFromRect(rt,it){const at=Math.abs(it.top-rt.y),lt=Math.abs(it.bottom-rt.y),st=Math.abs(it.right-rt.x),ct=Math.abs(it.left-rt.x);switch(Math.min(at,lt,st,ct)){case ct:return"left";case st:return"right";case at:return"top";case lt:return"bottom";default:return null}}function $a093c7e1ec25a057$var$getPointsFromRect(rt){const{top:it,right:at,bottom:lt,left:st}=rt;return[{x:st,y:it},{x:at,y:it},{x:at,y:lt},{x:st,y:lt}]}function $a093c7e1ec25a057$var$isPointInPolygon(rt,it){const{x:at,y:lt}=rt;let st=!1;for(let ct=0,ut=it.length-1;ct<it.length;ut=ct++){const ft=it[ct].x,dt=it[ct].y,pt=it[ut].x,ht=it[ut].y;dt>lt!=ht>lt&&at<(pt-ft)*(lt-dt)/(ht-dt)+ft&&(st=!st)}return st}function $a093c7e1ec25a057$var$getHull(rt){const it=rt.slice();return it.sort((at,lt)=>at.x<lt.x?-1:at.x>lt.x?1:at.y<lt.y?-1:at.y>lt.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(it)}function $a093c7e1ec25a057$var$getHullPresorted(rt){if(rt.length<=1)return rt.slice();const it=[];for(let lt=0;lt<rt.length;lt++){const st=rt[lt];for(;it.length>=2;){const ct=it[it.length-1],ut=it[it.length-2];if((ct.x-ut.x)*(st.y-ut.y)>=(ct.y-ut.y)*(st.x-ut.x))it.pop();else break}it.push(st)}it.pop();const at=[];for(let lt=rt.length-1;lt>=0;lt--){const st=rt[lt];for(;at.length>=2;){const ct=at[at.length-1],ut=at[at.length-2];if((ct.x-ut.x)*(st.y-ut.y)>=(ct.y-ut.y)*(st.x-ut.x))at.pop();else break}at.push(st)}return at.pop(),it.length===1&&at.length===1&&it[0].x===at[0].x&&it[0].y===at[0].y?it:it.concat(at)}const $a093c7e1ec25a057$export$2881499e37b75b9a=$a093c7e1ec25a057$export$f78649fb9ca566b8,$a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559,defaultPortalContext=typeof document>"u"?null:document.body,portalContext=reactExports.createContext(defaultPortalContext);function Portal(rt){const it=reactExports.useContext(portalContext);return it===null?null:reactDomExports.createPortal(rt.children,it)}const context$1=reactExports.createContext(null);function useTooltipContext(){const rt=reactExports.useContext(context$1);if(!rt)throw new Error("TooltipContext not found");return rt}function Tooltip(rt){const{children:it,invertColor:at=!1,delay:lt=400,placement:st="top"}=rt,ct=it.find(dt=>dt.type===Tooltip.Content),ut=it.find(dt=>dt.type===Tooltip.Target),ft=reactExports.useMemo(()=>({invertColor:at,placement:st}),[at,st]);return jsx(context$1.Provider,{value:ft,children:jsx($a093c7e1ec25a057$export$2881499e37b75b9a,{delayDuration:lt,children:jsxs($a093c7e1ec25a057$export$be92b6f5f03c0fe9,{children:[jsx($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0,children:ut}),ct]})})})}Tooltip.Content=function rt(it){const{children:at,className:lt,style:st}=it,{invertColor:ct,placement:ut}=useTooltipContext();return at?jsx(Portal,{children:jsxs($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{sideOffset:2,side:ut,className:clsx(lt===""||!lt?"rounded-md py-1 px-2 text-xs":`rounded-md py-1 px-2 ${lt}`,ct?"bg-neutral-100 text-black":"bg-neutral-900 text-white"),style:st,children:[jsx($a093c7e1ec25a057$export$21b07c8f274aebd5,{className:clsx(ct?"fill-neutral-100":"fill-black")}),at]})}):null};Tooltip.Target=reactExports.forwardRef((rt,it)=>{const{children:at,style:lt,noFit:st,className:ct,...ut}=rt;return jsx("div",{ref:it,className:clsx({"max-w-fit":!st},ct),style:lt,...ut,children:at})});function WithTooltip(rt){const{children:it,tooltip:at,tooltipDelay:lt,tooltipPlacement:st}=rt;return at?jsxs(Tooltip,{delay:lt,placement:st,children:[jsx(Tooltip.Content,{children:at}),jsx(Tooltip.Target,{children:it})]}):jsx(Fragment,{children:it})}const baseSizes={[Size.xSmall]:"px-2.5 py-1.5 text-xs",[Size.small]:"px-3 py-2 text-sm",[Size.medium]:"px-4 py-2 text-sm",[Size.large]:"px-4 py-2 text-base",[Size.xLarge]:"px-6 py-3 text-base"},circularSizes={[Size.xSmall]:"p-1 text-xl",[Size.small]:"p-1.5 text-xl",[Size.medium]:"p-2 text-xl",[Size.large]:"p-2 text-2xl",[Size.xLarge]:"p-3 text-2xl"},colorsPrimary={[Color$1.primary]:"bg-primary-600 disabled:bg-primary-400 hover:bg-primary-700 focus:ring-primary-900 active:bg-primary-800 text-white",[Color$1.neutral]:"bg-neutral-600 disabled:bg-neutral-400 hover:bg-neutral-700 focus:ring-neutral-900 active:bg-neutral-800 text-white",[Color$1.success]:"bg-success-600 disabled:bg-success-400 hover:bg-success-700 focus:ring-success-900 active:bg-success-800 text-white",[Color$1.warning]:"bg-warning-600 disabled:bg-warning-400 hover:bg-warning-700 focus:ring-warning-900 active:bg-warning-800 text-white",[Color$1.danger]:"bg-danger-600 disabled:bg-danger-400 hover:bg-danger-700 focus:ring-danger-900 active:bg-danger-800 text-white",[Color$1.alternative]:"bg-alternative-600 disabled:bg-alternative-400 hover:bg-alternative-700 focus:ring-alternative-900 active:bg-alternative-800 text-white"},colorsSecondary={[Color$1.primary]:"text-primary-700 disabled:text-primary-400 bg-primary-100 disabled:bg-primary-50 hover:bg-primary-200 focus:ring-primary-500 active:bg-primary-300",[Color$1.neutral]:"text-neutral-700 disabled:text-neutral-400 bg-neutral-100 disabled:bg-neutral-50 hover:bg-neutral-200 focus:ring-neutral-500 active:bg-neutral-300",[Color$1.success]:"text-success-700 disabled:text-success-400 bg-success-100 disabled:bg-success-50 hover:bg-success-200 focus:ring-success-500 active:bg-success-300",[Color$1.warning]:"text-warning-700 disabled:text-warning-400 bg-warning-100 disabled:bg-warning-50 hover:bg-warning-200 focus:ring-warning-500 active:bg-warning-300",[Color$1.danger]:"text-danger-700 disabled:text-danger-400 bg-danger-100 disabled:bg-danger-50 hover:bg-danger-200 focus:ring-danger-500 active:bg-danger-300",[Color$1.alternative]:"text-alternative-700 disabled:text-alternative-400 bg-alternative-100 disabled:bg-alternative-50 hover:bg-alternative-200 focus:ring-alternative-500 active:bg-alternative-300"},colorsWhite={[Color$1.primary]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.neutral]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.success]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.warning]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.danger]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.alternative]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100"};function getVariantColor(rt,it){switch(rt){case Variant.primary:return colorsPrimary[it];case Variant.secondary:return colorsSecondary[it];case Variant.white:return colorsWhite[it];default:throw new Error("Variant cannot be null")}}function getButtonClassName(rt){const{variant:it,color:at,roundness:lt,size:st,group:ct,className:ut,disabled:ft,noBorder:dt}=rt;return clsx("font-semibold focus:outline-none",getVariantColor(it,at),lt===Roundness.circular?circularSizes[st]:baseSizes[st],ut,lt===Roundness.full||lt===Roundness.circular?{"rounded-l-full rounded-r-none":ct==="left","rounded-none":ct==="middle","rounded-r-full rounded-l-none":ct==="right","rounded-full":!ct}:{"rounded-l-md rounded-r-none":ct==="left","rounded-none":ct==="middle","rounded-r-md rounded-l-none":ct==="right","rounded-md":!ct},{"cursor-default":ft,"-ml-px":ct&&ct!=="left","shadow-sm focus:ring-2":!ct,"focus:ring-1 focus:z-10":ct,"border border-transparent":!dt&&it!==Variant.white,"border border-neutral-300":!dt&&it===Variant.white})}forwardRefWithAs(function rt(it,at){const{color:lt=Color$1.primary,size:st=Size.medium,variant:ct=Variant.primary,group:ut,children:ft,roundness:dt=Roundness.light,className:pt,noBorder:ht=!1,type:gt="button",tooltip:mt,tooltipDelay:xt,tooltipPlacement:vt,as:$t="button",..._t}=it;return jsx(WithTooltip,{tooltip:mt,tooltipDelay:xt,tooltipPlacement:vt,children:jsx($t,{type:$t==="button"?gt:void 0,..._t,className:getButtonClassName({variant:ct,roundness:dt,color:lt,group:ut,noBorder:ht,size:st,disabled:it.disabled,className:pt}),ref:at,children:ft})})});var i$3=Object.defineProperty,d$3=(rt,it,at)=>it in rt?i$3(rt,it,{enumerable:!0,configurable:!0,writable:!0,value:at}):rt[it]=at,r$2=(rt,it,at)=>(d$3(rt,typeof it!="symbol"?it+"":it,at),at);let o$4=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(it){this.current!==it&&(this.handoffState="pending",this.currentId=0,this.current=it)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$4=new o$4,l$3=(rt,it)=>{s$4.isServer?reactExports.useEffect(rt,it):reactExports.useLayoutEffect(rt,it)};function s$3(rt){let it=reactExports.useRef(rt);return l$3(()=>{it.current=rt},[rt]),it}function i$2(rt,it){let[at,lt]=reactExports.useState(rt),st=s$3(rt);return l$3(()=>lt(st.current),[st,lt,...it]),at}function t$3(rt){typeof queueMicrotask=="function"?queueMicrotask(rt):Promise.resolve().then(rt).catch(it=>setTimeout(()=>{throw it}))}function o$3(){let rt=[],it={addEventListener(at,lt,st,ct){return at.addEventListener(lt,st,ct),it.add(()=>at.removeEventListener(lt,st,ct))},requestAnimationFrame(...at){let lt=requestAnimationFrame(...at);return it.add(()=>cancelAnimationFrame(lt))},nextFrame(...at){return it.requestAnimationFrame(()=>it.requestAnimationFrame(...at))},setTimeout(...at){let lt=setTimeout(...at);return it.add(()=>clearTimeout(lt))},microTask(...at){let lt={current:!0};return t$3(()=>{lt.current&&at[0]()}),it.add(()=>{lt.current=!1})},style(at,lt,st){let ct=at.style.getPropertyValue(lt);return Object.assign(at.style,{[lt]:st}),this.add(()=>{Object.assign(at.style,{[lt]:ct})})},group(at){let lt=o$3();return at(lt),this.add(()=>lt.dispose())},add(at){return rt.push(at),()=>{let lt=rt.indexOf(at);if(lt>=0)for(let st of rt.splice(lt,1))st()}},dispose(){for(let at of rt.splice(0))at()}};return it}function p$4(){let[rt]=reactExports.useState(o$3);return reactExports.useEffect(()=>()=>rt.dispose(),[rt]),rt}let o$2=function(rt){let it=s$3(rt);return React$8.useCallback((...at)=>it.current(...at),[it])};function l$2(){let[rt,it]=reactExports.useState(s$4.isHandoffComplete);return rt&&s$4.isHandoffComplete===!1&&it(!1),reactExports.useEffect(()=>{rt!==!0&&it(!0)},[rt]),reactExports.useEffect(()=>s$4.handoff(),[]),rt}var o$1;let I$2=(o$1=React$8.useId)!=null?o$1:function(){let rt=l$2(),[it,at]=React$8.useState(rt?()=>s$4.nextId():null);return l$3(()=>{it===null&&at(s$4.nextId())},[it]),it!=null?""+it:void 0};function u$5(rt,it,...at){if(rt in it){let st=it[rt];return typeof st=="function"?st(...at):st}let lt=new Error(`Tried to handle "${rt}" but there is no handler defined. Only defined handlers are: ${Object.keys(it).map(st=>`"${st}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(lt,u$5),lt}function e$2(rt){return s$4.isServer?null:rt instanceof Node?rt.ownerDocument:rt!=null&&rt.hasOwnProperty("current")&&rt.current instanceof Node?rt.current.ownerDocument:document}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(rt=>`${rt}:not([tabindex='-1'])`).join(",");var L$4=(rt=>(rt[rt.First=1]="First",rt[rt.Previous=2]="Previous",rt[rt.Next=4]="Next",rt[rt.Last=8]="Last",rt[rt.WrapAround=16]="WrapAround",rt[rt.NoScroll=32]="NoScroll",rt))(L$4||{}),N$2=(rt=>(rt[rt.Error=0]="Error",rt[rt.Overflow=1]="Overflow",rt[rt.Success=2]="Success",rt[rt.Underflow=3]="Underflow",rt))(N$2||{}),T$2=(rt=>(rt[rt.Previous=-1]="Previous",rt[rt.Next=1]="Next",rt))(T$2||{}),F$5=(rt=>(rt[rt.Strict=0]="Strict",rt[rt.Loose=1]="Loose",rt))(F$5||{});function h$3(rt,it=0){var at;return rt===((at=e$2(rt))==null?void 0:at.body)?!1:u$5(it,{[0](){return rt.matches(f$2)},[1](){let lt=rt;for(;lt!==null;){if(lt.matches(f$2))return!0;lt=lt.parentElement}return!1}})}function A$3(rt,it=at=>at){return rt.slice().sort((at,lt)=>{let st=it(at),ct=it(lt);if(st===null||ct===null)return 0;let ut=st.compareDocumentPosition(ct);return ut&Node.DOCUMENT_POSITION_FOLLOWING?-1:ut&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function d$2(rt,it,at){let lt=s$3(it);reactExports.useEffect(()=>{function st(ct){lt.current(ct)}return document.addEventListener(rt,st,at),()=>document.removeEventListener(rt,st,at)},[rt,at])}function L$3(rt,it,at=!0){let lt=reactExports.useRef(!1);reactExports.useEffect(()=>{requestAnimationFrame(()=>{lt.current=at})},[at]);function st(ut,ft){if(!lt.current||ut.defaultPrevented)return;let dt=function ht(gt){return typeof gt=="function"?ht(gt()):Array.isArray(gt)||gt instanceof Set?gt:[gt]}(rt),pt=ft(ut);if(pt!==null&&pt.getRootNode().contains(pt)){for(let ht of dt){if(ht===null)continue;let gt=ht instanceof HTMLElement?ht:ht.current;if(gt!=null&&gt.contains(pt)||ut.composed&&ut.composedPath().includes(gt))return}return!h$3(pt,F$5.Loose)&&pt.tabIndex!==-1&&ut.preventDefault(),it(ut,pt)}}let ct=reactExports.useRef(null);d$2("mousedown",ut=>{var ft,dt;lt.current&&(ct.current=((dt=(ft=ut.composedPath)==null?void 0:ft.call(ut))==null?void 0:dt[0])||ut.target)},!0),d$2("click",ut=>{ct.current&&(st(ut,()=>ct.current),ct.current=null)},!0),d$2("blur",ut=>st(ut,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function i$1(rt){var it;if(rt.type)return rt.type;let at=(it=rt.as)!=null?it:"button";if(typeof at=="string"&&at.toLowerCase()==="button")return"button"}function s$2(rt,it){let[at,lt]=reactExports.useState(()=>i$1(rt));return l$3(()=>{lt(i$1(rt))},[rt.type,rt.as]),l$3(()=>{at||it.current&&it.current instanceof HTMLButtonElement&&!it.current.hasAttribute("type")&&lt("button")},[at,it]),at}let u$4=Symbol();function y$4(...rt){let it=reactExports.useRef(rt);reactExports.useEffect(()=>{it.current=rt},[rt]);let at=o$2(lt=>{for(let st of it.current)st!=null&&(typeof st=="function"?st(lt):st.current=lt)});return rt.every(lt=>lt==null||(lt==null?void 0:lt[u$4]))?void 0:at}function f$1(rt){throw new Error("Unexpected object: "+rt)}var a$1=(rt=>(rt[rt.First=0]="First",rt[rt.Previous=1]="Previous",rt[rt.Next=2]="Next",rt[rt.Last=3]="Last",rt[rt.Specific=4]="Specific",rt[rt.Nothing=5]="Nothing",rt))(a$1||{});function x$4(rt,it){let at=it.resolveItems();if(at.length<=0)return null;let lt=it.resolveActiveIndex(),st=lt??-1,ct=(()=>{switch(rt.focus){case 0:return at.findIndex(ut=>!it.resolveDisabled(ut));case 1:{let ut=at.slice().reverse().findIndex((ft,dt,pt)=>st!==-1&&pt.length-dt-1>=st?!1:!it.resolveDisabled(ft));return ut===-1?ut:at.length-1-ut}case 2:return at.findIndex((ut,ft)=>ft<=st?!1:!it.resolveDisabled(ut));case 3:{let ut=at.slice().reverse().findIndex(ft=>!it.resolveDisabled(ft));return ut===-1?ut:at.length-1-ut}case 4:return at.findIndex(ut=>it.resolveId(ut)===rt.id);case 5:return null;default:f$1(rt)}})();return ct===-1?lt:ct}function e$1(...rt){return rt.filter(Boolean).join(" ")}var j=(rt=>(rt[rt.None=0]="None",rt[rt.RenderStrategy=1]="RenderStrategy",rt[rt.Static=2]="Static",rt))(j||{}),w$4=(rt=>(rt[rt.Unmount=0]="Unmount",rt[rt.Hidden=1]="Hidden",rt))(w$4||{});function D$4({ourProps:rt,theirProps:it,slot:at,defaultTag:lt,features:st,visible:ct=!0,name:ut}){let ft=h$2(it,rt);if(ct)return m$3(ft,at,lt,ut);let dt=st??0;if(dt&2){let{static:pt=!1,...ht}=ft;if(pt)return m$3(ht,at,lt,ut)}if(dt&1){let{unmount:pt=!0,...ht}=ft;return u$5(pt?0:1,{[0](){return null},[1](){return m$3({...ht,hidden:!0,style:{display:"none"}},at,lt,ut)}})}return m$3(ft,at,lt,ut)}function m$3(rt,it={},at,lt){var st;let{as:ct=at,children:ut,refName:ft="ref",...dt}=g$4(rt,["unmount","static"]),pt=rt.ref!==void 0?{[ft]:rt.ref}:{},ht=typeof ut=="function"?ut(it):ut;"className"in dt&&dt.className&&typeof dt.className=="function"&&(dt.className=dt.className(it));let gt={};if(it){let mt=!1,xt=[];for(let[vt,$t]of Object.entries(it))typeof $t=="boolean"&&(mt=!0),$t===!0&&xt.push(vt);mt&&(gt["data-headlessui-state"]=xt.join(" "))}if(ct===reactExports.Fragment&&Object.keys(P$1(dt)).length>0){if(!reactExports.isValidElement(ht)||Array.isArray(ht)&&ht.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${lt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(dt).map(vt=>`  - ${vt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(vt=>`  - ${vt}`).join(`
`)].join(`
`));let mt=e$1((st=ht.props)==null?void 0:st.className,dt.className),xt=mt?{className:mt}:{};return reactExports.cloneElement(ht,Object.assign({},h$2(ht.props,P$1(g$4(dt,["ref"]))),gt,pt,O$1(ht.ref,pt.ref),xt))}return reactExports.createElement(ct,Object.assign({},g$4(dt,["ref"]),ct!==reactExports.Fragment&&pt,ct!==reactExports.Fragment&&gt),ht)}function O$1(...rt){return{ref:rt.every(it=>it==null)?void 0:it=>{for(let at of rt)at!=null&&(typeof at=="function"?at(it):at.current=it)}}}function h$2(...rt){if(rt.length===0)return{};if(rt.length===1)return rt[0];let it={},at={};for(let lt of rt)for(let st in lt)st.startsWith("on")&&typeof lt[st]=="function"?(at[st]!=null||(at[st]=[]),at[st].push(lt[st])):it[st]=lt[st];if(it.disabled||it["aria-disabled"])return Object.assign(it,Object.fromEntries(Object.keys(at).map(lt=>[lt,void 0])));for(let lt in at)Object.assign(it,{[lt](st,...ct){let ut=at[lt];for(let ft of ut){if((st instanceof Event||(st==null?void 0:st.nativeEvent)instanceof Event)&&st.defaultPrevented)return;ft(st,...ct)}}});return it}function L$2(rt){var it;return Object.assign(reactExports.forwardRef(rt),{displayName:(it=rt.displayName)!=null?it:rt.name})}function P$1(rt){let it=Object.assign({},rt);for(let at in it)it[at]===void 0&&delete it[at];return it}function g$4(rt,it=[]){let at=Object.assign({},rt);for(let lt of it)lt in at&&delete at[lt];return at}function r$1(rt){let it=rt.parentElement,at=null;for(;it&&!(it instanceof HTMLFieldSetElement);)it instanceof HTMLLegendElement&&(at=it),it=it.parentElement;let lt=(it==null?void 0:it.getAttribute("disabled"))==="";return lt&&i(at)?!1:lt}function i(rt){if(!rt)return!1;let it=rt.previousElementSibling;for(;it!==null;){if(it instanceof HTMLLegendElement)return!1;it=it.previousElementSibling}return!0}function e(rt={},it=null,at=[]){for(let[lt,st]of Object.entries(rt))f(at,s$1(it,lt),st);return at}function s$1(rt,it){return rt?rt+"["+it+"]":it}function f(rt,it,at){if(Array.isArray(at))for(let[lt,st]of at.entries())f(rt,s$1(it,lt.toString()),st);else at instanceof Date?rt.push([it,at.toISOString()]):typeof at=="boolean"?rt.push([it,at?"1":"0"]):typeof at=="string"?rt.push([it,at]):typeof at=="number"?rt.push([it,`${at}`]):at==null?rt.push([it,""]):e(at,it,rt)}let a="div";var p$3=(rt=>(rt[rt.None=1]="None",rt[rt.Focusable=2]="Focusable",rt[rt.Hidden=4]="Hidden",rt))(p$3||{});function s(rt,it){let{features:at=1,...lt}=rt,st={ref:it,"aria-hidden":(at&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(at&4)===4&&(at&2)!==2&&{display:"none"}}};return D$4({ourProps:st,theirProps:lt,slot:{},defaultTag:a,name:"Hidden"})}let c$3=L$2(s),n$3=reactExports.createContext(null);n$3.displayName="OpenClosedContext";var d$1=(rt=>(rt[rt.Open=1]="Open",rt[rt.Closed=2]="Closed",rt[rt.Closing=4]="Closing",rt[rt.Opening=8]="Opening",rt))(d$1||{});function C$3(){return reactExports.useContext(n$3)}function c$2({value:rt,children:it}){return React$8.createElement(n$3.Provider,{value:rt},it)}var o=(rt=>(rt.Space=" ",rt.Enter="Enter",rt.Escape="Escape",rt.Backspace="Backspace",rt.Delete="Delete",rt.ArrowLeft="ArrowLeft",rt.ArrowUp="ArrowUp",rt.ArrowRight="ArrowRight",rt.ArrowDown="ArrowDown",rt.Home="Home",rt.End="End",rt.PageUp="PageUp",rt.PageDown="PageDown",rt.Tab="Tab",rt))(o||{});function T$1(rt,it,at){let[lt,st]=reactExports.useState(at),ct=rt!==void 0,ut=reactExports.useRef(ct),ft=reactExports.useRef(!1),dt=reactExports.useRef(!1);return ct&&!ut.current&&!ft.current?(ft.current=!0,ut.current=ct,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!ct&&ut.current&&!dt.current&&(dt.current=!0,ut.current=ct,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[ct?rt:lt,o$2(pt=>(ct||st(pt),it==null?void 0:it(pt)))]}function t$2(rt){return[rt.screenX,rt.screenY]}function u$3(){let rt=reactExports.useRef([-1,-1]);return{wasMoved(it){let at=t$2(it);return rt.current[0]===at[0]&&rt.current[1]===at[1]?!1:(rt.current=at,!0)},update(it){rt.current=t$2(it)}}}var _e=(rt=>(rt[rt.Open=0]="Open",rt[rt.Closed=1]="Closed",rt))(_e||{}),Ue$1=(rt=>(rt[rt.Single=0]="Single",rt[rt.Multi=1]="Multi",rt))(Ue$1||{}),Be=(rt=>(rt[rt.Pointer=0]="Pointer",rt[rt.Other=1]="Other",rt))(Be||{}),He$1=(rt=>(rt[rt.OpenListbox=0]="OpenListbox",rt[rt.CloseListbox=1]="CloseListbox",rt[rt.GoToOption=2]="GoToOption",rt[rt.Search=3]="Search",rt[rt.ClearSearch=4]="ClearSearch",rt[rt.RegisterOption=5]="RegisterOption",rt[rt.UnregisterOption=6]="UnregisterOption",rt[rt.RegisterLabel=7]="RegisterLabel",rt))(He$1||{});function $(rt,it=at=>at){let at=rt.activeOptionIndex!==null?rt.options[rt.activeOptionIndex]:null,lt=A$3(it(rt.options.slice()),ct=>ct.dataRef.current.domRef.current),st=at?lt.indexOf(at):null;return st===-1&&(st=null),{options:lt,activeOptionIndex:st}}let Ge$1={[1](rt){return rt.dataRef.current.disabled||rt.listboxState===1?rt:{...rt,activeOptionIndex:null,listboxState:1}},[0](rt){if(rt.dataRef.current.disabled||rt.listboxState===0)return rt;let it=rt.activeOptionIndex,{isSelected:at}=rt.dataRef.current,lt=rt.options.findIndex(st=>at(st.dataRef.current.value));return lt!==-1&&(it=lt),{...rt,listboxState:0,activeOptionIndex:it}},[2](rt,it){var at;if(rt.dataRef.current.disabled||rt.listboxState===1)return rt;let lt=$(rt),st=x$4(it,{resolveItems:()=>lt.options,resolveActiveIndex:()=>lt.activeOptionIndex,resolveId:ct=>ct.id,resolveDisabled:ct=>ct.dataRef.current.disabled});return{...rt,...lt,searchQuery:"",activeOptionIndex:st,activationTrigger:(at=it.trigger)!=null?at:1}},[3]:(rt,it)=>{if(rt.dataRef.current.disabled||rt.listboxState===1)return rt;let at=rt.searchQuery!==""?0:1,lt=rt.searchQuery+it.value.toLowerCase(),st=(rt.activeOptionIndex!==null?rt.options.slice(rt.activeOptionIndex+at).concat(rt.options.slice(0,rt.activeOptionIndex+at)):rt.options).find(ut=>{var ft;return!ut.dataRef.current.disabled&&((ft=ut.dataRef.current.textValue)==null?void 0:ft.startsWith(lt))}),ct=st?rt.options.indexOf(st):-1;return ct===-1||ct===rt.activeOptionIndex?{...rt,searchQuery:lt}:{...rt,searchQuery:lt,activeOptionIndex:ct,activationTrigger:1}},[4](rt){return rt.dataRef.current.disabled||rt.listboxState===1||rt.searchQuery===""?rt:{...rt,searchQuery:""}},[5]:(rt,it)=>{let at={id:it.id,dataRef:it.dataRef},lt=$(rt,st=>[...st,at]);return rt.activeOptionIndex===null&&rt.dataRef.current.isSelected(it.dataRef.current.value)&&(lt.activeOptionIndex=lt.options.indexOf(at)),{...rt,...lt}},[6]:(rt,it)=>{let at=$(rt,lt=>{let st=lt.findIndex(ct=>ct.id===it.id);return st!==-1&&lt.splice(st,1),lt});return{...rt,...at,activationTrigger:1}},[7]:(rt,it)=>({...rt,labelId:it.id})},z$5=reactExports.createContext(null);z$5.displayName="ListboxActionsContext";function U$1(rt){let it=reactExports.useContext(z$5);if(it===null){let at=new Error(`<${rt} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(at,U$1),at}return it}let J$2=reactExports.createContext(null);J$2.displayName="ListboxDataContext";function B$5(rt){let it=reactExports.useContext(J$2);if(it===null){let at=new Error(`<${rt} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(at,B$5),at}return it}function Ne$1(rt,it){return u$5(it.type,Ge$1,rt,it)}let je$1=reactExports.Fragment;function Ve$1(rt,it){let{value:at,defaultValue:lt,name:st,onChange:ct,by:ut=(Ut,Vt)=>Ut===Vt,disabled:ft=!1,horizontal:dt=!1,multiple:pt=!1,...ht}=rt;const gt=dt?"horizontal":"vertical";let mt=y$4(it),[xt=pt?[]:void 0,vt]=T$1(at,ct,lt),[$t,_t]=reactExports.useReducer(Ne$1,{dataRef:reactExports.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),yt=reactExports.useRef({static:!1,hold:!1}),Et=reactExports.useRef(null),wt=reactExports.useRef(null),bt=reactExports.useRef(null),St=o$2(typeof ut=="string"?(Ut,Vt)=>{let Wt=ut;return(Ut==null?void 0:Ut[Wt])===(Vt==null?void 0:Vt[Wt])}:ut),Tt=reactExports.useCallback(Ut=>u$5(Rt.mode,{[1]:()=>xt.some(Vt=>St(Vt,Ut)),[0]:()=>St(xt,Ut)}),[xt]),Rt=reactExports.useMemo(()=>({...$t,value:xt,disabled:ft,mode:pt?1:0,orientation:gt,compare:St,isSelected:Tt,optionsPropsRef:yt,labelRef:Et,buttonRef:wt,optionsRef:bt}),[xt,ft,pt,$t]);l$3(()=>{$t.dataRef.current=Rt},[Rt]),L$3([Rt.buttonRef,Rt.optionsRef],(Ut,Vt)=>{var Wt;_t({type:1}),h$3(Vt,F$5.Loose)||(Ut.preventDefault(),(Wt=Rt.buttonRef.current)==null||Wt.focus())},Rt.listboxState===0);let kt=reactExports.useMemo(()=>({open:Rt.listboxState===0,disabled:ft,value:xt}),[Rt,ft,xt]),At=o$2(Ut=>{let Vt=Rt.options.find(Wt=>Wt.id===Ut);Vt&&zt(Vt.dataRef.current.value)}),Ct=o$2(()=>{if(Rt.activeOptionIndex!==null){let{dataRef:Ut,id:Vt}=Rt.options[Rt.activeOptionIndex];zt(Ut.current.value),_t({type:2,focus:a$1.Specific,id:Vt})}}),Mt=o$2(()=>_t({type:0})),Ot=o$2(()=>_t({type:1})),Nt=o$2((Ut,Vt,Wt)=>Ut===a$1.Specific?_t({type:2,focus:a$1.Specific,id:Vt,trigger:Wt}):_t({type:2,focus:Ut,trigger:Wt})),It=o$2((Ut,Vt)=>(_t({type:5,id:Ut,dataRef:Vt}),()=>_t({type:6,id:Ut}))),Dt=o$2(Ut=>(_t({type:7,id:Ut}),()=>_t({type:7,id:null}))),zt=o$2(Ut=>u$5(Rt.mode,{[0](){return vt==null?void 0:vt(Ut)},[1](){let Vt=Rt.value.slice(),Wt=Vt.findIndex(ln=>St(ln,Ut));return Wt===-1?Vt.push(Ut):Vt.splice(Wt,1),vt==null?void 0:vt(Vt)}})),Yt=o$2(Ut=>_t({type:3,value:Ut})),Pt=o$2(()=>_t({type:4})),Lt=reactExports.useMemo(()=>({onChange:zt,registerOption:It,registerLabel:Dt,goToOption:Nt,closeListbox:Ot,openListbox:Mt,selectActiveOption:Ct,selectOption:At,search:Yt,clearSearch:Pt}),[]),Ft={ref:mt},qt=reactExports.useRef(null),Gt=p$4();return reactExports.useEffect(()=>{qt.current&&lt!==void 0&&Gt.addEventListener(qt.current,"reset",()=>{zt(lt)})},[qt,zt]),React$8.createElement(z$5.Provider,{value:Lt},React$8.createElement(J$2.Provider,{value:Rt},React$8.createElement(c$2,{value:u$5(Rt.listboxState,{[0]:d$1.Open,[1]:d$1.Closed})},st!=null&&xt!=null&&e({[st]:xt}).map(([Ut,Vt],Wt)=>React$8.createElement(c$3,{features:p$3.Hidden,ref:Wt===0?ln=>{var pn;qt.current=(pn=ln==null?void 0:ln.closest("form"))!=null?pn:null}:void 0,...P$1({key:Ut,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:Ut,value:Vt})})),D$4({ourProps:Ft,theirProps:ht,slot:kt,defaultTag:je$1,name:"Listbox"}))))}let Ke$1="button";function Qe$1(rt,it){var at;let lt=I$2(),{id:st=`headlessui-listbox-button-${lt}`,...ct}=rt,ut=B$5("Listbox.Button"),ft=U$1("Listbox.Button"),dt=y$4(ut.buttonRef,it),pt=p$4(),ht=o$2(_t=>{switch(_t.key){case o.Space:case o.Enter:case o.ArrowDown:_t.preventDefault(),ft.openListbox(),pt.nextFrame(()=>{ut.value||ft.goToOption(a$1.First)});break;case o.ArrowUp:_t.preventDefault(),ft.openListbox(),pt.nextFrame(()=>{ut.value||ft.goToOption(a$1.Last)});break}}),gt=o$2(_t=>{switch(_t.key){case o.Space:_t.preventDefault();break}}),mt=o$2(_t=>{if(r$1(_t.currentTarget))return _t.preventDefault();ut.listboxState===0?(ft.closeListbox(),pt.nextFrame(()=>{var yt;return(yt=ut.buttonRef.current)==null?void 0:yt.focus({preventScroll:!0})})):(_t.preventDefault(),ft.openListbox())}),xt=i$2(()=>{if(ut.labelId)return[ut.labelId,st].join(" ")},[ut.labelId,st]),vt=reactExports.useMemo(()=>({open:ut.listboxState===0,disabled:ut.disabled,value:ut.value}),[ut]),$t={ref:dt,id:st,type:s$2(rt,ut.buttonRef),"aria-haspopup":"listbox","aria-controls":(at=ut.optionsRef.current)==null?void 0:at.id,"aria-expanded":ut.disabled?void 0:ut.listboxState===0,"aria-labelledby":xt,disabled:ut.disabled,onKeyDown:ht,onKeyUp:gt,onClick:mt};return D$4({ourProps:$t,theirProps:ct,slot:vt,defaultTag:Ke$1,name:"Listbox.Button"})}let We$1="label";function Xe$1(rt,it){let at=I$2(),{id:lt=`headlessui-listbox-label-${at}`,...st}=rt,ct=B$5("Listbox.Label"),ut=U$1("Listbox.Label"),ft=y$4(ct.labelRef,it);l$3(()=>ut.registerLabel(lt),[lt]);let dt=o$2(()=>{var ht;return(ht=ct.buttonRef.current)==null?void 0:ht.focus({preventScroll:!0})}),pt=reactExports.useMemo(()=>({open:ct.listboxState===0,disabled:ct.disabled}),[ct]);return D$4({ourProps:{ref:ft,id:lt,onClick:dt},theirProps:st,slot:pt,defaultTag:We$1,name:"Listbox.Label"})}let $e$1="ul",ze=j.RenderStrategy|j.Static;function Je$1(rt,it){var at;let lt=I$2(),{id:st=`headlessui-listbox-options-${lt}`,...ct}=rt,ut=B$5("Listbox.Options"),ft=U$1("Listbox.Options"),dt=y$4(ut.optionsRef,it),pt=p$4(),ht=p$4(),gt=C$3(),mt=(()=>gt!==null?(gt&d$1.Open)===d$1.Open:ut.listboxState===0)();reactExports.useEffect(()=>{var yt;let Et=ut.optionsRef.current;Et&&ut.listboxState===0&&Et!==((yt=e$2(Et))==null?void 0:yt.activeElement)&&Et.focus({preventScroll:!0})},[ut.listboxState,ut.optionsRef]);let xt=o$2(yt=>{switch(ht.dispose(),yt.key){case o.Space:if(ut.searchQuery!=="")return yt.preventDefault(),yt.stopPropagation(),ft.search(yt.key);case o.Enter:if(yt.preventDefault(),yt.stopPropagation(),ut.activeOptionIndex!==null){let{dataRef:Et}=ut.options[ut.activeOptionIndex];ft.onChange(Et.current.value)}ut.mode===0&&(ft.closeListbox(),o$3().nextFrame(()=>{var Et;return(Et=ut.buttonRef.current)==null?void 0:Et.focus({preventScroll:!0})}));break;case u$5(ut.orientation,{vertical:o.ArrowDown,horizontal:o.ArrowRight}):return yt.preventDefault(),yt.stopPropagation(),ft.goToOption(a$1.Next);case u$5(ut.orientation,{vertical:o.ArrowUp,horizontal:o.ArrowLeft}):return yt.preventDefault(),yt.stopPropagation(),ft.goToOption(a$1.Previous);case o.Home:case o.PageUp:return yt.preventDefault(),yt.stopPropagation(),ft.goToOption(a$1.First);case o.End:case o.PageDown:return yt.preventDefault(),yt.stopPropagation(),ft.goToOption(a$1.Last);case o.Escape:return yt.preventDefault(),yt.stopPropagation(),ft.closeListbox(),pt.nextFrame(()=>{var Et;return(Et=ut.buttonRef.current)==null?void 0:Et.focus({preventScroll:!0})});case o.Tab:yt.preventDefault(),yt.stopPropagation();break;default:yt.key.length===1&&(ft.search(yt.key),ht.setTimeout(()=>ft.clearSearch(),350));break}}),vt=i$2(()=>{var yt,Et,wt;return(wt=(yt=ut.labelRef.current)==null?void 0:yt.id)!=null?wt:(Et=ut.buttonRef.current)==null?void 0:Et.id},[ut.labelRef.current,ut.buttonRef.current]),$t=reactExports.useMemo(()=>({open:ut.listboxState===0}),[ut]),_t={"aria-activedescendant":ut.activeOptionIndex===null||(at=ut.options[ut.activeOptionIndex])==null?void 0:at.id,"aria-multiselectable":ut.mode===1?!0:void 0,"aria-labelledby":vt,"aria-orientation":ut.orientation,id:st,onKeyDown:xt,role:"listbox",tabIndex:0,ref:dt};return D$4({ourProps:_t,theirProps:ct,slot:$t,defaultTag:$e$1,features:ze,visible:mt,name:"Listbox.Options"})}let qe$1="li";function Ye$1(rt,it){let at=I$2(),{id:lt=`headlessui-listbox-option-${at}`,disabled:st=!1,value:ct,...ut}=rt,ft=B$5("Listbox.Option"),dt=U$1("Listbox.Option"),pt=ft.activeOptionIndex!==null?ft.options[ft.activeOptionIndex].id===lt:!1,ht=ft.isSelected(ct),gt=reactExports.useRef(null),mt=s$3({disabled:st,value:ct,domRef:gt,get textValue(){var St,Tt;return(Tt=(St=gt.current)==null?void 0:St.textContent)==null?void 0:Tt.toLowerCase()}}),xt=y$4(it,gt);l$3(()=>{if(ft.listboxState!==0||!pt||ft.activationTrigger===0)return;let St=o$3();return St.requestAnimationFrame(()=>{var Tt,Rt;(Rt=(Tt=gt.current)==null?void 0:Tt.scrollIntoView)==null||Rt.call(Tt,{block:"nearest"})}),St.dispose},[gt,pt,ft.listboxState,ft.activationTrigger,ft.activeOptionIndex]),l$3(()=>dt.registerOption(lt,mt),[mt,lt]);let vt=o$2(St=>{if(st)return St.preventDefault();dt.onChange(ct),ft.mode===0&&(dt.closeListbox(),o$3().nextFrame(()=>{var Tt;return(Tt=ft.buttonRef.current)==null?void 0:Tt.focus({preventScroll:!0})}))}),$t=o$2(()=>{if(st)return dt.goToOption(a$1.Nothing);dt.goToOption(a$1.Specific,lt)}),_t=u$3(),yt=o$2(St=>_t.update(St)),Et=o$2(St=>{_t.wasMoved(St)&&(st||pt||dt.goToOption(a$1.Specific,lt,0))}),wt=o$2(St=>{_t.wasMoved(St)&&(st||pt&&dt.goToOption(a$1.Nothing))}),bt=reactExports.useMemo(()=>({active:pt,selected:ht,disabled:st}),[pt,ht,st]);return D$4({ourProps:{id:lt,ref:xt,role:"option",tabIndex:st===!0?void 0:-1,"aria-disabled":st===!0?!0:void 0,"aria-selected":ht,disabled:void 0,onClick:vt,onFocus:$t,onPointerEnter:yt,onMouseEnter:yt,onPointerMove:Et,onMouseMove:Et,onPointerLeave:wt,onMouseLeave:wt},theirProps:ut,slot:bt,defaultTag:qe$1,name:"Listbox.Option"})}let Ze$1=L$2(Ve$1),et=L$2(Qe$1),tt=L$2(Xe$1),ot=L$2(Je$1),nt=L$2(Ye$1),Bt=Object.assign(Ze$1,{Button:et,Label:tt,Options:ot,Option:nt});const React$7=reactExports;function ArrowUpOnSquareIcon$1({title:rt,titleId:it,...at},lt){return React$7.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$7.createElement("title",{id:it},rt):null,React$7.createElement("path",{fillRule:"evenodd",d:"M13.75 7h-3V3.66l1.95 2.1a.75.75 0 101.1-1.02l-3.25-3.5a.75.75 0 00-1.1 0L6.2 4.74a.75.75 0 001.1 1.02l1.95-2.1V7h-3A2.25 2.25 0 004 9.25v7.5A2.25 2.25 0 006.25 19h7.5A2.25 2.25 0 0016 16.75v-7.5A2.25 2.25 0 0013.75 7zm-3 0h-1.5v5.25a.75.75 0 001.5 0V7z",clipRule:"evenodd"}))}const ForwardRef$7=React$7.forwardRef(ArrowUpOnSquareIcon$1);var ArrowUpOnSquareIcon_1=ForwardRef$7;const React$6=reactExports;function CheckIcon$3({title:rt,titleId:it,...at},lt){return React$6.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$6.createElement("title",{id:it},rt):null,React$6.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const ForwardRef$6=React$6.forwardRef(CheckIcon$3);var CheckIcon_1$1=ForwardRef$6;const React$5=reactExports;function ChevronDownIcon$1({title:rt,titleId:it,...at},lt){return React$5.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$5.createElement("title",{id:it},rt):null,React$5.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const ForwardRef$5=React$5.forwardRef(ChevronDownIcon$1);var ChevronDownIcon_1=ForwardRef$5;const React$4=reactExports;function ExclamationCircleIcon$1({title:rt,titleId:it,...at},lt){return React$4.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$4.createElement("title",{id:it},rt):null,React$4.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const ForwardRef$4=React$4.forwardRef(ExclamationCircleIcon$1);var ExclamationCircleIcon_1=ForwardRef$4;const React$3=reactExports;function PencilSquareIcon$1({title:rt,titleId:it,...at},lt){return React$3.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$3.createElement("title",{id:it},rt):null,React$3.createElement("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),React$3.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"}))}const ForwardRef$3=React$3.forwardRef(PencilSquareIcon$1);var PencilSquareIcon_1=ForwardRef$3;const React$2=reactExports;function PlusCircleIcon$1({title:rt,titleId:it,...at},lt){return React$2.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$2.createElement("title",{id:it},rt):null,React$2.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z",clipRule:"evenodd"}))}const ForwardRef$2=React$2.forwardRef(PlusCircleIcon$1);var PlusCircleIcon_1=ForwardRef$2;const React$1=reactExports;function XMarkIcon$1({title:rt,titleId:it,...at},lt){return React$1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React$1.createElement("title",{id:it},rt):null,React$1.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))}const ForwardRef$1=React$1.forwardRef(XMarkIcon$1);var XMarkIcon_1=ForwardRef$1,ArrowUpOnSquareIcon=ArrowUpOnSquareIcon_1,CheckIcon$2=CheckIcon_1$1,ChevronDownIcon=ChevronDownIcon_1,ExclamationCircleIcon=ExclamationCircleIcon_1,PencilSquareIcon=PencilSquareIcon_1,PlusCircleIcon=PlusCircleIcon_1,XMarkIcon=XMarkIcon_1,fromEntries=function rt(it){return it.reduce(function(at,lt){var st=lt[0],ct=lt[1];return at[st]=ct,at},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(rt,it){return rt.concat([it+"-"+start,it+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(rt,it){return rt.concat([it,it+"-"+start,it+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(rt){return rt?(rt.nodeName||"").toLowerCase():null}function getWindow(rt){if(rt==null)return window;if(rt.toString()!=="[object Window]"){var it=rt.ownerDocument;return it&&it.defaultView||window}return rt}function isElement(rt){var it=getWindow(rt).Element;return rt instanceof it||rt instanceof Element}function isHTMLElement(rt){var it=getWindow(rt).HTMLElement;return rt instanceof it||rt instanceof HTMLElement}function isShadowRoot(rt){if(typeof ShadowRoot>"u")return!1;var it=getWindow(rt).ShadowRoot;return rt instanceof it||rt instanceof ShadowRoot}function applyStyles(rt){var it=rt.state;Object.keys(it.elements).forEach(function(at){var lt=it.styles[at]||{},st=it.attributes[at]||{},ct=it.elements[at];!isHTMLElement(ct)||!getNodeName(ct)||(Object.assign(ct.style,lt),Object.keys(st).forEach(function(ut){var ft=st[ut];ft===!1?ct.removeAttribute(ut):ct.setAttribute(ut,ft===!0?"":ft)}))})}function effect$2(rt){var it=rt.state,at={popper:{position:it.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(it.elements.popper.style,at.popper),it.styles=at,it.elements.arrow&&Object.assign(it.elements.arrow.style,at.arrow),function(){Object.keys(it.elements).forEach(function(lt){var st=it.elements[lt],ct=it.attributes[lt]||{},ut=Object.keys(it.styles.hasOwnProperty(lt)?it.styles[lt]:at[lt]),ft=ut.reduce(function(dt,pt){return dt[pt]="",dt},{});!isHTMLElement(st)||!getNodeName(st)||(Object.assign(st.style,ft),Object.keys(ct).forEach(function(dt){st.removeAttribute(dt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(rt){return rt.split("-")[0]}var max$2=Math.max,min$2=Math.min,round=Math.round;function getUAString(){var rt=navigator.userAgentData;return rt!=null&&rt.brands&&Array.isArray(rt.brands)?rt.brands.map(function(it){return it.brand+"/"+it.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(rt,it,at){it===void 0&&(it=!1),at===void 0&&(at=!1);var lt=rt.getBoundingClientRect(),st=1,ct=1;it&&isHTMLElement(rt)&&(st=rt.offsetWidth>0&&round(lt.width)/rt.offsetWidth||1,ct=rt.offsetHeight>0&&round(lt.height)/rt.offsetHeight||1);var ut=isElement(rt)?getWindow(rt):window,ft=ut.visualViewport,dt=!isLayoutViewport()&&at,pt=(lt.left+(dt&&ft?ft.offsetLeft:0))/st,ht=(lt.top+(dt&&ft?ft.offsetTop:0))/ct,gt=lt.width/st,mt=lt.height/ct;return{width:gt,height:mt,top:ht,right:pt+gt,bottom:ht+mt,left:pt,x:pt,y:ht}}function getLayoutRect(rt){var it=getBoundingClientRect(rt),at=rt.offsetWidth,lt=rt.offsetHeight;return Math.abs(it.width-at)<=1&&(at=it.width),Math.abs(it.height-lt)<=1&&(lt=it.height),{x:rt.offsetLeft,y:rt.offsetTop,width:at,height:lt}}function contains(rt,it){var at=it.getRootNode&&it.getRootNode();if(rt.contains(it))return!0;if(at&&isShadowRoot(at)){var lt=it;do{if(lt&&rt.isSameNode(lt))return!0;lt=lt.parentNode||lt.host}while(lt)}return!1}function getComputedStyle$1(rt){return getWindow(rt).getComputedStyle(rt)}function isTableElement(rt){return["table","td","th"].indexOf(getNodeName(rt))>=0}function getDocumentElement(rt){return((isElement(rt)?rt.ownerDocument:rt.document)||window.document).documentElement}function getParentNode(rt){return getNodeName(rt)==="html"?rt:rt.assignedSlot||rt.parentNode||(isShadowRoot(rt)?rt.host:null)||getDocumentElement(rt)}function getTrueOffsetParent(rt){return!isHTMLElement(rt)||getComputedStyle$1(rt).position==="fixed"?null:rt.offsetParent}function getContainingBlock(rt){var it=/firefox/i.test(getUAString()),at=/Trident/i.test(getUAString());if(at&&isHTMLElement(rt)){var lt=getComputedStyle$1(rt);if(lt.position==="fixed")return null}var st=getParentNode(rt);for(isShadowRoot(st)&&(st=st.host);isHTMLElement(st)&&["html","body"].indexOf(getNodeName(st))<0;){var ct=getComputedStyle$1(st);if(ct.transform!=="none"||ct.perspective!=="none"||ct.contain==="paint"||["transform","perspective"].indexOf(ct.willChange)!==-1||it&&ct.willChange==="filter"||it&&ct.filter&&ct.filter!=="none")return st;st=st.parentNode}return null}function getOffsetParent(rt){for(var it=getWindow(rt),at=getTrueOffsetParent(rt);at&&isTableElement(at)&&getComputedStyle$1(at).position==="static";)at=getTrueOffsetParent(at);return at&&(getNodeName(at)==="html"||getNodeName(at)==="body"&&getComputedStyle$1(at).position==="static")?it:at||getContainingBlock(rt)||it}function getMainAxisFromPlacement(rt){return["top","bottom"].indexOf(rt)>=0?"x":"y"}function within(rt,it,at){return max$2(rt,min$2(it,at))}function withinMaxClamp(rt,it,at){var lt=within(rt,it,at);return lt>at?at:lt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(rt){return Object.assign({},getFreshSideObject(),rt)}function expandToHashMap(rt,it){return it.reduce(function(at,lt){return at[lt]=rt,at},{})}var toPaddingObject=function rt(it,at){return it=typeof it=="function"?it(Object.assign({},at.rects,{placement:at.placement})):it,mergePaddingObject(typeof it!="number"?it:expandToHashMap(it,basePlacements))};function arrow(rt){var it,at=rt.state,lt=rt.name,st=rt.options,ct=at.elements.arrow,ut=at.modifiersData.popperOffsets,ft=getBasePlacement(at.placement),dt=getMainAxisFromPlacement(ft),pt=[left,right].indexOf(ft)>=0,ht=pt?"height":"width";if(!(!ct||!ut)){var gt=toPaddingObject(st.padding,at),mt=getLayoutRect(ct),xt=dt==="y"?top:left,vt=dt==="y"?bottom:right,$t=at.rects.reference[ht]+at.rects.reference[dt]-ut[dt]-at.rects.popper[ht],_t=ut[dt]-at.rects.reference[dt],yt=getOffsetParent(ct),Et=yt?dt==="y"?yt.clientHeight||0:yt.clientWidth||0:0,wt=$t/2-_t/2,bt=gt[xt],St=Et-mt[ht]-gt[vt],Tt=Et/2-mt[ht]/2+wt,Rt=within(bt,Tt,St),kt=dt;at.modifiersData[lt]=(it={},it[kt]=Rt,it.centerOffset=Rt-Tt,it)}}function effect$1(rt){var it=rt.state,at=rt.options,lt=at.element,st=lt===void 0?"[data-popper-arrow]":lt;st!=null&&(typeof st=="string"&&(st=it.elements.popper.querySelector(st),!st)||contains(it.elements.popper,st)&&(it.elements.arrow=st))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(rt){return rt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(rt,it){var at=rt.x,lt=rt.y,st=it.devicePixelRatio||1;return{x:round(at*st)/st||0,y:round(lt*st)/st||0}}function mapToStyles(rt){var it,at=rt.popper,lt=rt.popperRect,st=rt.placement,ct=rt.variation,ut=rt.offsets,ft=rt.position,dt=rt.gpuAcceleration,pt=rt.adaptive,ht=rt.roundOffsets,gt=rt.isFixed,mt=ut.x,xt=mt===void 0?0:mt,vt=ut.y,$t=vt===void 0?0:vt,_t=typeof ht=="function"?ht({x:xt,y:$t}):{x:xt,y:$t};xt=_t.x,$t=_t.y;var yt=ut.hasOwnProperty("x"),Et=ut.hasOwnProperty("y"),wt=left,bt=top,St=window;if(pt){var Tt=getOffsetParent(at),Rt="clientHeight",kt="clientWidth";if(Tt===getWindow(at)&&(Tt=getDocumentElement(at),getComputedStyle$1(Tt).position!=="static"&&ft==="absolute"&&(Rt="scrollHeight",kt="scrollWidth")),Tt=Tt,st===top||(st===left||st===right)&&ct===end){bt=bottom;var At=gt&&Tt===St&&St.visualViewport?St.visualViewport.height:Tt[Rt];$t-=At-lt.height,$t*=dt?1:-1}if(st===left||(st===top||st===bottom)&&ct===end){wt=right;var Ct=gt&&Tt===St&&St.visualViewport?St.visualViewport.width:Tt[kt];xt-=Ct-lt.width,xt*=dt?1:-1}}var Mt=Object.assign({position:ft},pt&&unsetSides),Ot=ht===!0?roundOffsetsByDPR({x:xt,y:$t},getWindow(at)):{x:xt,y:$t};if(xt=Ot.x,$t=Ot.y,dt){var Nt;return Object.assign({},Mt,(Nt={},Nt[bt]=Et?"0":"",Nt[wt]=yt?"0":"",Nt.transform=(St.devicePixelRatio||1)<=1?"translate("+xt+"px, "+$t+"px)":"translate3d("+xt+"px, "+$t+"px, 0)",Nt))}return Object.assign({},Mt,(it={},it[bt]=Et?$t+"px":"",it[wt]=yt?xt+"px":"",it.transform="",it))}function computeStyles(rt){var it=rt.state,at=rt.options,lt=at.gpuAcceleration,st=lt===void 0?!0:lt,ct=at.adaptive,ut=ct===void 0?!0:ct,ft=at.roundOffsets,dt=ft===void 0?!0:ft,pt={placement:getBasePlacement(it.placement),variation:getVariation(it.placement),popper:it.elements.popper,popperRect:it.rects.popper,gpuAcceleration:st,isFixed:it.options.strategy==="fixed"};it.modifiersData.popperOffsets!=null&&(it.styles.popper=Object.assign({},it.styles.popper,mapToStyles(Object.assign({},pt,{offsets:it.modifiersData.popperOffsets,position:it.options.strategy,adaptive:ut,roundOffsets:dt})))),it.modifiersData.arrow!=null&&(it.styles.arrow=Object.assign({},it.styles.arrow,mapToStyles(Object.assign({},pt,{offsets:it.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dt})))),it.attributes.popper=Object.assign({},it.attributes.popper,{"data-popper-placement":it.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(rt){var it=rt.state,at=rt.instance,lt=rt.options,st=lt.scroll,ct=st===void 0?!0:st,ut=lt.resize,ft=ut===void 0?!0:ut,dt=getWindow(it.elements.popper),pt=[].concat(it.scrollParents.reference,it.scrollParents.popper);return ct&&pt.forEach(function(ht){ht.addEventListener("scroll",at.update,passive)}),ft&&dt.addEventListener("resize",at.update,passive),function(){ct&&pt.forEach(function(ht){ht.removeEventListener("scroll",at.update,passive)}),ft&&dt.removeEventListener("resize",at.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function rt(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(rt){return rt.replace(/left|right|bottom|top/g,function(it){return hash$1[it]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(rt){return rt.replace(/start|end/g,function(it){return hash[it]})}function getWindowScroll(rt){var it=getWindow(rt),at=it.pageXOffset,lt=it.pageYOffset;return{scrollLeft:at,scrollTop:lt}}function getWindowScrollBarX(rt){return getBoundingClientRect(getDocumentElement(rt)).left+getWindowScroll(rt).scrollLeft}function getViewportRect(rt,it){var at=getWindow(rt),lt=getDocumentElement(rt),st=at.visualViewport,ct=lt.clientWidth,ut=lt.clientHeight,ft=0,dt=0;if(st){ct=st.width,ut=st.height;var pt=isLayoutViewport();(pt||!pt&&it==="fixed")&&(ft=st.offsetLeft,dt=st.offsetTop)}return{width:ct,height:ut,x:ft+getWindowScrollBarX(rt),y:dt}}function getDocumentRect(rt){var it,at=getDocumentElement(rt),lt=getWindowScroll(rt),st=(it=rt.ownerDocument)==null?void 0:it.body,ct=max$2(at.scrollWidth,at.clientWidth,st?st.scrollWidth:0,st?st.clientWidth:0),ut=max$2(at.scrollHeight,at.clientHeight,st?st.scrollHeight:0,st?st.clientHeight:0),ft=-lt.scrollLeft+getWindowScrollBarX(rt),dt=-lt.scrollTop;return getComputedStyle$1(st||at).direction==="rtl"&&(ft+=max$2(at.clientWidth,st?st.clientWidth:0)-ct),{width:ct,height:ut,x:ft,y:dt}}function isScrollParent(rt){var it=getComputedStyle$1(rt),at=it.overflow,lt=it.overflowX,st=it.overflowY;return/auto|scroll|overlay|hidden/.test(at+st+lt)}function getScrollParent(rt){return["html","body","#document"].indexOf(getNodeName(rt))>=0?rt.ownerDocument.body:isHTMLElement(rt)&&isScrollParent(rt)?rt:getScrollParent(getParentNode(rt))}function listScrollParents(rt,it){var at;it===void 0&&(it=[]);var lt=getScrollParent(rt),st=lt===((at=rt.ownerDocument)==null?void 0:at.body),ct=getWindow(lt),ut=st?[ct].concat(ct.visualViewport||[],isScrollParent(lt)?lt:[]):lt,ft=it.concat(ut);return st?ft:ft.concat(listScrollParents(getParentNode(ut)))}function rectToClientRect(rt){return Object.assign({},rt,{left:rt.x,top:rt.y,right:rt.x+rt.width,bottom:rt.y+rt.height})}function getInnerBoundingClientRect(rt,it){var at=getBoundingClientRect(rt,!1,it==="fixed");return at.top=at.top+rt.clientTop,at.left=at.left+rt.clientLeft,at.bottom=at.top+rt.clientHeight,at.right=at.left+rt.clientWidth,at.width=rt.clientWidth,at.height=rt.clientHeight,at.x=at.left,at.y=at.top,at}function getClientRectFromMixedType(rt,it,at){return it===viewport?rectToClientRect(getViewportRect(rt,at)):isElement(it)?getInnerBoundingClientRect(it,at):rectToClientRect(getDocumentRect(getDocumentElement(rt)))}function getClippingParents(rt){var it=listScrollParents(getParentNode(rt)),at=["absolute","fixed"].indexOf(getComputedStyle$1(rt).position)>=0,lt=at&&isHTMLElement(rt)?getOffsetParent(rt):rt;return isElement(lt)?it.filter(function(st){return isElement(st)&&contains(st,lt)&&getNodeName(st)!=="body"}):[]}function getClippingRect(rt,it,at,lt){var st=it==="clippingParents"?getClippingParents(rt):[].concat(it),ct=[].concat(st,[at]),ut=ct[0],ft=ct.reduce(function(dt,pt){var ht=getClientRectFromMixedType(rt,pt,lt);return dt.top=max$2(ht.top,dt.top),dt.right=min$2(ht.right,dt.right),dt.bottom=min$2(ht.bottom,dt.bottom),dt.left=max$2(ht.left,dt.left),dt},getClientRectFromMixedType(rt,ut,lt));return ft.width=ft.right-ft.left,ft.height=ft.bottom-ft.top,ft.x=ft.left,ft.y=ft.top,ft}function computeOffsets(rt){var it=rt.reference,at=rt.element,lt=rt.placement,st=lt?getBasePlacement(lt):null,ct=lt?getVariation(lt):null,ut=it.x+it.width/2-at.width/2,ft=it.y+it.height/2-at.height/2,dt;switch(st){case top:dt={x:ut,y:it.y-at.height};break;case bottom:dt={x:ut,y:it.y+it.height};break;case right:dt={x:it.x+it.width,y:ft};break;case left:dt={x:it.x-at.width,y:ft};break;default:dt={x:it.x,y:it.y}}var pt=st?getMainAxisFromPlacement(st):null;if(pt!=null){var ht=pt==="y"?"height":"width";switch(ct){case start:dt[pt]=dt[pt]-(it[ht]/2-at[ht]/2);break;case end:dt[pt]=dt[pt]+(it[ht]/2-at[ht]/2);break}}return dt}function detectOverflow(rt,it){it===void 0&&(it={});var at=it,lt=at.placement,st=lt===void 0?rt.placement:lt,ct=at.strategy,ut=ct===void 0?rt.strategy:ct,ft=at.boundary,dt=ft===void 0?clippingParents:ft,pt=at.rootBoundary,ht=pt===void 0?viewport:pt,gt=at.elementContext,mt=gt===void 0?popper:gt,xt=at.altBoundary,vt=xt===void 0?!1:xt,$t=at.padding,_t=$t===void 0?0:$t,yt=mergePaddingObject(typeof _t!="number"?_t:expandToHashMap(_t,basePlacements)),Et=mt===popper?reference:popper,wt=rt.rects.popper,bt=rt.elements[vt?Et:mt],St=getClippingRect(isElement(bt)?bt:bt.contextElement||getDocumentElement(rt.elements.popper),dt,ht,ut),Tt=getBoundingClientRect(rt.elements.reference),Rt=computeOffsets({reference:Tt,element:wt,strategy:"absolute",placement:st}),kt=rectToClientRect(Object.assign({},wt,Rt)),At=mt===popper?kt:Tt,Ct={top:St.top-At.top+yt.top,bottom:At.bottom-St.bottom+yt.bottom,left:St.left-At.left+yt.left,right:At.right-St.right+yt.right},Mt=rt.modifiersData.offset;if(mt===popper&&Mt){var Ot=Mt[st];Object.keys(Ct).forEach(function(Nt){var It=[right,bottom].indexOf(Nt)>=0?1:-1,Dt=[top,bottom].indexOf(Nt)>=0?"y":"x";Ct[Nt]+=Ot[Dt]*It})}return Ct}function computeAutoPlacement(rt,it){it===void 0&&(it={});var at=it,lt=at.placement,st=at.boundary,ct=at.rootBoundary,ut=at.padding,ft=at.flipVariations,dt=at.allowedAutoPlacements,pt=dt===void 0?placements:dt,ht=getVariation(lt),gt=ht?ft?variationPlacements:variationPlacements.filter(function(vt){return getVariation(vt)===ht}):basePlacements,mt=gt.filter(function(vt){return pt.indexOf(vt)>=0});mt.length===0&&(mt=gt);var xt=mt.reduce(function(vt,$t){return vt[$t]=detectOverflow(rt,{placement:$t,boundary:st,rootBoundary:ct,padding:ut})[getBasePlacement($t)],vt},{});return Object.keys(xt).sort(function(vt,$t){return xt[vt]-xt[$t]})}function getExpandedFallbackPlacements(rt){if(getBasePlacement(rt)===auto)return[];var it=getOppositePlacement(rt);return[getOppositeVariationPlacement(rt),it,getOppositeVariationPlacement(it)]}function flip(rt){var it=rt.state,at=rt.options,lt=rt.name;if(!it.modifiersData[lt]._skip){for(var st=at.mainAxis,ct=st===void 0?!0:st,ut=at.altAxis,ft=ut===void 0?!0:ut,dt=at.fallbackPlacements,pt=at.padding,ht=at.boundary,gt=at.rootBoundary,mt=at.altBoundary,xt=at.flipVariations,vt=xt===void 0?!0:xt,$t=at.allowedAutoPlacements,_t=it.options.placement,yt=getBasePlacement(_t),Et=yt===_t,wt=dt||(Et||!vt?[getOppositePlacement(_t)]:getExpandedFallbackPlacements(_t)),bt=[_t].concat(wt).reduce(function(Vt,Wt){return Vt.concat(getBasePlacement(Wt)===auto?computeAutoPlacement(it,{placement:Wt,boundary:ht,rootBoundary:gt,padding:pt,flipVariations:vt,allowedAutoPlacements:$t}):Wt)},[]),St=it.rects.reference,Tt=it.rects.popper,Rt=new Map,kt=!0,At=bt[0],Ct=0;Ct<bt.length;Ct++){var Mt=bt[Ct],Ot=getBasePlacement(Mt),Nt=getVariation(Mt)===start,It=[top,bottom].indexOf(Ot)>=0,Dt=It?"width":"height",zt=detectOverflow(it,{placement:Mt,boundary:ht,rootBoundary:gt,altBoundary:mt,padding:pt}),Yt=It?Nt?right:left:Nt?bottom:top;St[Dt]>Tt[Dt]&&(Yt=getOppositePlacement(Yt));var Pt=getOppositePlacement(Yt),Lt=[];if(ct&&Lt.push(zt[Ot]<=0),ft&&Lt.push(zt[Yt]<=0,zt[Pt]<=0),Lt.every(function(Vt){return Vt})){At=Mt,kt=!1;break}Rt.set(Mt,Lt)}if(kt)for(var Ft=vt?3:1,qt=function(Wt){var ln=bt.find(function(pn){var Sn=Rt.get(pn);if(Sn)return Sn.slice(0,Wt).every(function(Kt){return Kt})});if(ln)return At=ln,"break"},Gt=Ft;Gt>0;Gt--){var Ut=qt(Gt);if(Ut==="break")break}it.placement!==At&&(it.modifiersData[lt]._skip=!0,it.placement=At,it.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(rt,it,at){return at===void 0&&(at={x:0,y:0}),{top:rt.top-it.height-at.y,right:rt.right-it.width+at.x,bottom:rt.bottom-it.height+at.y,left:rt.left-it.width-at.x}}function isAnySideFullyClipped(rt){return[top,right,bottom,left].some(function(it){return rt[it]>=0})}function hide(rt){var it=rt.state,at=rt.name,lt=it.rects.reference,st=it.rects.popper,ct=it.modifiersData.preventOverflow,ut=detectOverflow(it,{elementContext:"reference"}),ft=detectOverflow(it,{altBoundary:!0}),dt=getSideOffsets(ut,lt),pt=getSideOffsets(ft,st,ct),ht=isAnySideFullyClipped(dt),gt=isAnySideFullyClipped(pt);it.modifiersData[at]={referenceClippingOffsets:dt,popperEscapeOffsets:pt,isReferenceHidden:ht,hasPopperEscaped:gt},it.attributes.popper=Object.assign({},it.attributes.popper,{"data-popper-reference-hidden":ht,"data-popper-escaped":gt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(rt,it,at){var lt=getBasePlacement(rt),st=[left,top].indexOf(lt)>=0?-1:1,ct=typeof at=="function"?at(Object.assign({},it,{placement:rt})):at,ut=ct[0],ft=ct[1];return ut=ut||0,ft=(ft||0)*st,[left,right].indexOf(lt)>=0?{x:ft,y:ut}:{x:ut,y:ft}}function offset(rt){var it=rt.state,at=rt.options,lt=rt.name,st=at.offset,ct=st===void 0?[0,0]:st,ut=placements.reduce(function(ht,gt){return ht[gt]=distanceAndSkiddingToXY(gt,it.rects,ct),ht},{}),ft=ut[it.placement],dt=ft.x,pt=ft.y;it.modifiersData.popperOffsets!=null&&(it.modifiersData.popperOffsets.x+=dt,it.modifiersData.popperOffsets.y+=pt),it.modifiersData[lt]=ut}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(rt){var it=rt.state,at=rt.name;it.modifiersData[at]=computeOffsets({reference:it.rects.reference,element:it.rects.popper,strategy:"absolute",placement:it.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(rt){return rt==="x"?"y":"x"}function preventOverflow(rt){var it=rt.state,at=rt.options,lt=rt.name,st=at.mainAxis,ct=st===void 0?!0:st,ut=at.altAxis,ft=ut===void 0?!1:ut,dt=at.boundary,pt=at.rootBoundary,ht=at.altBoundary,gt=at.padding,mt=at.tether,xt=mt===void 0?!0:mt,vt=at.tetherOffset,$t=vt===void 0?0:vt,_t=detectOverflow(it,{boundary:dt,rootBoundary:pt,padding:gt,altBoundary:ht}),yt=getBasePlacement(it.placement),Et=getVariation(it.placement),wt=!Et,bt=getMainAxisFromPlacement(yt),St=getAltAxis(bt),Tt=it.modifiersData.popperOffsets,Rt=it.rects.reference,kt=it.rects.popper,At=typeof $t=="function"?$t(Object.assign({},it.rects,{placement:it.placement})):$t,Ct=typeof At=="number"?{mainAxis:At,altAxis:At}:Object.assign({mainAxis:0,altAxis:0},At),Mt=it.modifiersData.offset?it.modifiersData.offset[it.placement]:null,Ot={x:0,y:0};if(Tt){if(ct){var Nt,It=bt==="y"?top:left,Dt=bt==="y"?bottom:right,zt=bt==="y"?"height":"width",Yt=Tt[bt],Pt=Yt+_t[It],Lt=Yt-_t[Dt],Ft=xt?-kt[zt]/2:0,qt=Et===start?Rt[zt]:kt[zt],Gt=Et===start?-kt[zt]:-Rt[zt],Ut=it.elements.arrow,Vt=xt&&Ut?getLayoutRect(Ut):{width:0,height:0},Wt=it.modifiersData["arrow#persistent"]?it.modifiersData["arrow#persistent"].padding:getFreshSideObject(),ln=Wt[It],pn=Wt[Dt],Sn=within(0,Rt[zt],Vt[zt]),Kt=wt?Rt[zt]/2-Ft-Sn-ln-Ct.mainAxis:qt-Sn-ln-Ct.mainAxis,cn=wt?-Rt[zt]/2+Ft+Sn+pn+Ct.mainAxis:Gt+Sn+pn+Ct.mainAxis,hn=it.elements.arrow&&getOffsetParent(it.elements.arrow),Ht=hn?bt==="y"?hn.clientTop||0:hn.clientLeft||0:0,bn=(Nt=Mt==null?void 0:Mt[bt])!=null?Nt:0,Qt=Yt+Kt-bn-Ht,Xt=Yt+cn-bn,gn=within(xt?min$2(Pt,Qt):Pt,Yt,xt?max$2(Lt,Xt):Lt);Tt[bt]=gn,Ot[bt]=gn-Yt}if(ft){var mn,_n=bt==="x"?top:left,jt=bt==="x"?bottom:right,xn=Tt[St],vn=St==="y"?"height":"width",wn=xn+_t[_n],En=xn-_t[jt],Zt=[top,left].indexOf(yt)!==-1,sn=(mn=Mt==null?void 0:Mt[St])!=null?mn:0,Jt=Zt?wn:xn-Rt[vn]-kt[vn]-sn+Ct.altAxis,dn=Zt?xn+Rt[vn]+kt[vn]-sn-Ct.altAxis:En,yn=xt&&Zt?withinMaxClamp(Jt,xn,dn):within(xt?Jt:wn,xn,xt?dn:En);Tt[St]=yn,Ot[St]=yn-xn}it.modifiersData[lt]=Ot}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(rt){return{scrollLeft:rt.scrollLeft,scrollTop:rt.scrollTop}}function getNodeScroll(rt){return rt===getWindow(rt)||!isHTMLElement(rt)?getWindowScroll(rt):getHTMLElementScroll(rt)}function isElementScaled(rt){var it=rt.getBoundingClientRect(),at=round(it.width)/rt.offsetWidth||1,lt=round(it.height)/rt.offsetHeight||1;return at!==1||lt!==1}function getCompositeRect(rt,it,at){at===void 0&&(at=!1);var lt=isHTMLElement(it),st=isHTMLElement(it)&&isElementScaled(it),ct=getDocumentElement(it),ut=getBoundingClientRect(rt,st,at),ft={scrollLeft:0,scrollTop:0},dt={x:0,y:0};return(lt||!lt&&!at)&&((getNodeName(it)!=="body"||isScrollParent(ct))&&(ft=getNodeScroll(it)),isHTMLElement(it)?(dt=getBoundingClientRect(it,!0),dt.x+=it.clientLeft,dt.y+=it.clientTop):ct&&(dt.x=getWindowScrollBarX(ct))),{x:ut.left+ft.scrollLeft-dt.x,y:ut.top+ft.scrollTop-dt.y,width:ut.width,height:ut.height}}function order(rt){var it=new Map,at=new Set,lt=[];rt.forEach(function(ct){it.set(ct.name,ct)});function st(ct){at.add(ct.name);var ut=[].concat(ct.requires||[],ct.requiresIfExists||[]);ut.forEach(function(ft){if(!at.has(ft)){var dt=it.get(ft);dt&&st(dt)}}),lt.push(ct)}return rt.forEach(function(ct){at.has(ct.name)||st(ct)}),lt}function orderModifiers(rt){var it=order(rt);return modifierPhases.reduce(function(at,lt){return at.concat(it.filter(function(st){return st.phase===lt}))},[])}function debounce(rt){var it;return function(){return it||(it=new Promise(function(at){Promise.resolve().then(function(){it=void 0,at(rt())})})),it}}function mergeByName(rt){var it=rt.reduce(function(at,lt){var st=at[lt.name];return at[lt.name]=st?Object.assign({},st,lt,{options:Object.assign({},st.options,lt.options),data:Object.assign({},st.data,lt.data)}):lt,at},{});return Object.keys(it).map(function(at){return it[at]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var rt=arguments.length,it=new Array(rt),at=0;at<rt;at++)it[at]=arguments[at];return!it.some(function(lt){return!(lt&&typeof lt.getBoundingClientRect=="function")})}function popperGenerator(rt){rt===void 0&&(rt={});var it=rt,at=it.defaultModifiers,lt=at===void 0?[]:at,st=it.defaultOptions,ct=st===void 0?DEFAULT_OPTIONS:st;return function(ft,dt,pt){pt===void 0&&(pt=ct);var ht={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ct),modifiersData:{},elements:{reference:ft,popper:dt},attributes:{},styles:{}},gt=[],mt=!1,xt={state:ht,setOptions:function(yt){var Et=typeof yt=="function"?yt(ht.options):yt;$t(),ht.options=Object.assign({},ct,ht.options,Et),ht.scrollParents={reference:isElement(ft)?listScrollParents(ft):ft.contextElement?listScrollParents(ft.contextElement):[],popper:listScrollParents(dt)};var wt=orderModifiers(mergeByName([].concat(lt,ht.options.modifiers)));return ht.orderedModifiers=wt.filter(function(bt){return bt.enabled}),vt(),xt.update()},forceUpdate:function(){if(!mt){var yt=ht.elements,Et=yt.reference,wt=yt.popper;if(areValidElements(Et,wt)){ht.rects={reference:getCompositeRect(Et,getOffsetParent(wt),ht.options.strategy==="fixed"),popper:getLayoutRect(wt)},ht.reset=!1,ht.placement=ht.options.placement,ht.orderedModifiers.forEach(function(Ct){return ht.modifiersData[Ct.name]=Object.assign({},Ct.data)});for(var bt=0;bt<ht.orderedModifiers.length;bt++){if(ht.reset===!0){ht.reset=!1,bt=-1;continue}var St=ht.orderedModifiers[bt],Tt=St.fn,Rt=St.options,kt=Rt===void 0?{}:Rt,At=St.name;typeof Tt=="function"&&(ht=Tt({state:ht,options:kt,name:At,instance:xt})||ht)}}}},update:debounce(function(){return new Promise(function(_t){xt.forceUpdate(),_t(ht)})}),destroy:function(){$t(),mt=!0}};if(!areValidElements(ft,dt))return xt;xt.setOptions(pt).then(function(_t){!mt&&pt.onFirstUpdate&&pt.onFirstUpdate(_t)});function vt(){ht.orderedModifiers.forEach(function(_t){var yt=_t.name,Et=_t.options,wt=Et===void 0?{}:Et,bt=_t.effect;if(typeof bt=="function"){var St=bt({state:ht,name:yt,instance:xt,options:wt}),Tt=function(){};gt.push(St||Tt)}})}function $t(){gt.forEach(function(_t){return _t()}),gt=[]}return xt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(rt,it){if(rt===it)return!0;if(rt&&it&&typeof rt=="object"&&typeof it=="object"){if(rt.constructor!==it.constructor)return!1;var at,lt,st;if(Array.isArray(rt)){if(at=rt.length,at!=it.length)return!1;for(lt=at;lt--!==0;)if(!equal(rt[lt],it[lt]))return!1;return!0}var ct;if(hasMap&&rt instanceof Map&&it instanceof Map){if(rt.size!==it.size)return!1;for(ct=rt.entries();!(lt=ct.next()).done;)if(!it.has(lt.value[0]))return!1;for(ct=rt.entries();!(lt=ct.next()).done;)if(!equal(lt.value[1],it.get(lt.value[0])))return!1;return!0}if(hasSet&&rt instanceof Set&&it instanceof Set){if(rt.size!==it.size)return!1;for(ct=rt.entries();!(lt=ct.next()).done;)if(!it.has(lt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(rt)&&ArrayBuffer.isView(it)){if(at=rt.length,at!=it.length)return!1;for(lt=at;lt--!==0;)if(rt[lt]!==it[lt])return!1;return!0}if(rt.constructor===RegExp)return rt.source===it.source&&rt.flags===it.flags;if(rt.valueOf!==Object.prototype.valueOf)return rt.valueOf()===it.valueOf();if(rt.toString!==Object.prototype.toString)return rt.toString()===it.toString();if(st=Object.keys(rt),at=st.length,at!==Object.keys(it).length)return!1;for(lt=at;lt--!==0;)if(!Object.prototype.hasOwnProperty.call(it,st[lt]))return!1;if(hasElementType&&rt instanceof Element)return!1;for(lt=at;lt--!==0;)if(!((st[lt]==="_owner"||st[lt]==="__v"||st[lt]==="__o")&&rt.$$typeof)&&!equal(rt[st[lt]],it[st[lt]]))return!1;return!0}return rt!==rt&&it!==it}var reactFastCompare=function rt(it,at){try{return equal(it,at)}catch(lt){if((lt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw lt}},EMPTY_MODIFIERS=[],usePopper=function rt(it,at,lt){lt===void 0&&(lt={});var st=reactExports.useRef(null),ct={onFirstUpdate:lt.onFirstUpdate,placement:lt.placement||"bottom",strategy:lt.strategy||"absolute",modifiers:lt.modifiers||EMPTY_MODIFIERS},ut=reactExports.useState({styles:{popper:{position:ct.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),ft=ut[0],dt=ut[1],pt=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(xt){var vt=xt.state,$t=Object.keys(vt.elements);reactDomExports.flushSync(function(){dt({styles:fromEntries($t.map(function(_t){return[_t,vt.styles[_t]||{}]})),attributes:fromEntries($t.map(function(_t){return[_t,vt.attributes[_t]]}))})})},requires:["computeStyles"]}},[]),ht=reactExports.useMemo(function(){var mt={onFirstUpdate:ct.onFirstUpdate,placement:ct.placement,strategy:ct.strategy,modifiers:[].concat(ct.modifiers,[pt,{name:"applyStyles",enabled:!1}])};return reactFastCompare(st.current,mt)?st.current||mt:(st.current=mt,mt)},[ct.onFirstUpdate,ct.placement,ct.strategy,ct.modifiers,pt]),gt=reactExports.useRef();return useIsomorphicLayoutEffect(function(){gt.current&&gt.current.setOptions(ht)},[ht]),useIsomorphicLayoutEffect(function(){if(!(it==null||at==null)){var mt=lt.createPopper||createPopper,xt=mt(it,at,ht);return gt.current=xt,function(){xt.destroy(),gt.current=null}}},[it,at,lt.createPopper]),{state:gt.current?gt.current.state:null,styles:ft.styles,attributes:ft.attributes,update:gt.current?gt.current.update:null,forceUpdate:gt.current?gt.current.forceUpdate:null}};reactExports.createContext(null);const React=reactExports;function CheckIcon$1({title:rt,titleId:it,...at},lt){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":it},at),rt?React.createElement("title",{id:it},rt):null,React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))}const ForwardRef=React.forwardRef(CheckIcon$1);var CheckIcon_1=ForwardRef,CheckIcon=CheckIcon_1;reactExports.createContext(null);const colors$3={primary:"text-primary-600",neutral:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",danger:"text-danger-600",alternative:"text-alternative-600"},sizes={4:"h-4 w-4",5:"h-5 w-5",6:"h-6 w-6"};reactExports.forwardRef(function rt(it,at){const{onClick:lt,size:st,icon:ct=jsx(PencilSquareIcon,{}),color:ut=Color$1.neutral,className:ft,style:dt,noBlock:pt,tooltip:ht,tooltipDelay:gt,tooltipPlacement:mt,...xt}=it;return jsx(WithTooltip,{tooltip:ht,tooltipDelay:gt,tooltipPlacement:mt,children:jsx("button",{type:"button",ref:at,onClick:lt,style:dt,className:clsx(ut!=="none"&&colors$3[ut],ft,{block:!pt}),...xt,children:jsx("div",{className:sizes[st],children:ct})})})});function useOnClickOutside(rt,it){reactExports.useEffect(()=>{const at=lt=>{!rt.current||rt.current.contains(lt.target)||it(lt)};return document.addEventListener("mousedown",at),document.addEventListener("touchstart",at),()=>{document.removeEventListener("mousedown",at),document.removeEventListener("touchstart",at)}},[rt,it])}function Spinner(rt){return jsxs("svg",{className:clsx("animate-spin",rt.className),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const states={AFG:"Afghanistan",ALB:"Albania",DZA:"Algeria",ASM:"American Samoa",AND:"Andorra",AGO:"Angola",AIA:"Anguilla",ATA:"Antarctica",ATG:"Antigua and Barbuda",ARG:"Argentina",ARM:"Armenia",ABW:"Aruba",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BHS:"Bahamas (the)",BHR:"Bahrain",BGD:"Bangladesh",BRB:"Barbados",BLR:"Belarus",BEL:"Belgium",BLZ:"Belize",BEN:"Benin",BMU:"Bermuda",BTN:"Bhutan",BOL:"Bolivia (Plurinational State of)",BES:"Bonaire, Sint Eustatius and Saba",BIH:"Bosnia and Herzegovina",BWA:"Botswana",BVT:"Bouvet Island",BRA:"Brazil",IOT:"British Indian Ocean Territory (the)",BRN:"Brunei Darussalam",BGR:"Bulgaria",BFA:"Burkina Faso",BDI:"Burundi",CPV:"Cabo Verde",KHM:"Cambodia",CMR:"Cameroon",CAN:"Canada",CYM:"Cayman Islands (the)",CAF:"Central African Republic (the)",TCD:"Chad",CHL:"Chile",CHN:"China",CXR:"Christmas Island",CCK:"Cocos (Keeling) Islands (the)",COL:"Colombia",COM:"Comoros (the)",COD:"Congo (the Democratic Republic of the)",COG:"Congo (the)",COK:"Cook Islands (the)",CRI:"Costa Rica",HRV:"Croatia",CUB:"Cuba",CUW:"Curaao",CYP:"Cyprus",CZE:"Czechia",CIV:"Cte d'Ivoire",DNK:"Denmark",DJI:"Djibouti",DMA:"Dominica",DOM:"Dominican Republic (the)",ECU:"Ecuador",EGY:"Egypt",SLV:"El Salvador",GNQ:"Equatorial Guinea",ERI:"Eritrea",EST:"Estonia",SWZ:"Eswatini",ETH:"Ethiopia",FLK:"Falkland Islands (the) [Malvinas]",FRO:"Faroe Islands (the)",FJI:"Fiji",FIN:"Finland",FRA:"France",GUF:"French Guiana",PYF:"French Polynesia",ATF:"French Southern Territories (the)",GAB:"Gabon",GMB:"Gambia (the)",GEO:"Georgia",DEU:"Germany",GHA:"Ghana",GIB:"Gibraltar",GRC:"Greece",GRL:"Greenland",GRD:"Grenada",GLP:"Guadeloupe",GUM:"Guam",GTM:"Guatemala",GGY:"Guernsey",GIN:"Guinea",GNB:"Guinea-Bissau",GUY:"Guyana",HTI:"Haiti",HMD:"Heard Island and McDonald Islands",VAT:"Holy See (the)",HND:"Honduras",HKG:"Hong Kong",HUN:"Hungary",ISL:"Iceland",IND:"India",IDN:"Indonesia",IRN:"Iran (Islamic Republic of)",IRQ:"Iraq",IRL:"Ireland",IMN:"Isle of Man",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JPN:"Japan",JEY:"Jersey",JOR:"Jordan",KAZ:"Kazakhstan",KEN:"Kenya",KIR:"Kiribati",PRK:"Korea (the Democratic People's Republic of)",KOR:"Korea (the Republic of)",KWT:"Kuwait",KGZ:"Kyrgyzstan",LAO:"Lao People's Democratic Republic (the)",LVA:"Latvia",LBN:"Lebanon",LSO:"Lesotho",LBR:"Liberia",LBY:"Libya",LIE:"Liechtenstein",LTU:"Lithuania",LUX:"Luxembourg",MAC:"Macao",MDG:"Madagascar",MWI:"Malawi",MYS:"Malaysia",MDV:"Maldives",MLI:"Mali",MLT:"Malta",MHL:"Marshall Islands (the)",MTQ:"Martinique",MRT:"Mauritania",MUS:"Mauritius",MYT:"Mayotte",MEX:"Mexico",FSM:"Micronesia (Federated States of)",MDA:"Moldova (the Republic of)",MCO:"Monaco",MNG:"Mongolia",MNE:"Montenegro",MSR:"Montserrat",MAR:"Morocco",MOZ:"Mozambique",MMR:"Myanmar",NAM:"Namibia",NRU:"Nauru",NPL:"Nepal",NLD:"Netherlands (the)",NCL:"New Caledonia",NZL:"New Zealand",NIC:"Nicaragua",NER:"Niger (the)",NGA:"Nigeria",NIU:"Niue",NFK:"Norfolk Island",MKD:"North Macedonia",MNP:"Northern Mariana Islands (the)",NOR:"Norway",OMN:"Oman",PAK:"Pakistan",PLW:"Palau",PSE:"Palestine, State of",PAN:"Panama",PNG:"Papua New Guinea",PRY:"Paraguay",PER:"Peru",PHL:"Philippines (the)",PCN:"Pitcairn",POL:"Poland",PRT:"Portugal",PRI:"Puerto Rico",QAT:"Qatar",ROU:"Romania",RUS:"Russian Federation (the)",RWA:"Rwanda",REU:"Runion",BLM:"Saint Barthlemy",SHN:"Saint Helena, Ascension and Tristan da Cunha",KNA:"Saint Kitts and Nevis",LCA:"Saint Lucia",MAF:"Saint Martin (French part)",SPM:"Saint Pierre and Miquelon",VCT:"Saint Vincent and the Grenadines",WSM:"Samoa",SMR:"San Marino",STP:"Sao Tome and Principe",SAU:"Saudi Arabia",SEN:"Senegal",SRB:"Serbia",SYC:"Seychelles",SLE:"Sierra Leone",SGP:"Singapore",SXM:"Sint Maarten (Dutch part)",SVK:"Slovakia",SVN:"Slovenia",SLB:"Solomon Islands",SOM:"Somalia",ZAF:"South Africa",SGS:"South Georgia and the South Sandwich Islands",SSD:"South Sudan",ESP:"Spain",LKA:"Sri Lanka",SDN:"Sudan (the)",SUR:"Suriname",SJM:"Svalbard and Jan Mayen",SWE:"Sweden",CHE:"Switzerland",SYR:"Syrian Arab Republic (the)",TWN:"Taiwan (Province of China)",TJK:"Tajikistan",TZA:"Tanzania, the United Republic of",THA:"Thailand",TLS:"Timor-Leste",TGO:"Togo",TKL:"Tokelau",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TKM:"Turkmenistan",TCA:"Turks and Caicos Islands (the)",TUV:"Tuvalu",UGA:"Uganda",UKR:"Ukraine",ARE:"United Arab Emirates (the)",GBR:"United Kingdom of Great Britain and Northern Ireland (the)",UMI:"United States Minor Outlying Islands (the)",USA:"United States of America (the)",URY:"Uruguay",UZB:"Uzbekistan",VUT:"Vanuatu",VEN:"Venezuela (Bolivarian Republic of)",VNM:"Viet Nam",VGB:"Virgin Islands (British)",VIR:"Virgin Islands (U.S.)",WLF:"Wallis and Futuna",ESH:"Western Sahara*",YEM:"Yemen",ZMB:"Zambia",ZWE:"Zimbabwe",ALA:"land Islands",GBD:"British Overseas Territories Citizen",GBN:"British National (Overseas)",GBO:"British Overseas Citizen",GBS:"British Subject",GBP:"British Protected Person",RKS:"Republic of Kosovo",D:"Germany",EUE:"European Union (EU)",UNO:"United Nations Organization or one of its officials",UNA:"United Nations specialized agency or one of its officials",UNK:"Resident of Kosovo to whom a travel document has been issued by the United Nations Interim Administration Mission in Kosovo (UNMIK)",XBA:"African Development Bank (ADB)",XIM:"African Export-Import Bank (AFREXIM bank)",XCC:"Caribbean Community or one of its emissaries (CARICOM)",XCE:"Council of Europe",XCO:"Common Market for Eastern and Southern Africa (COMESA)",XEC:"Economic Community of West African States (ECOWAS)",XPO:"International Criminal Police Organization (INTERPOL)",XES:"Organization of Eastern Caribbean States (OECS)",XOM:"Sovereign Military Order of Malta or one of its emissaries",XDC:"Southern African Development Community",XXA:"Stateless person, as defined in Article 1 of the 1954 Convention Relating to the Status of Stateless Persons",XXB:"Refugee, as defined in Article 1 of the 1951 Convention Relating to the Status of Refugees as amended by the 1967 Protocol",XXC:"Refugee, other than as defined under the code XXB above",XXX:"Person of unspecified nationality, for whom issuing State does not consider it necessary to specify any of the codes XXA, XXB or XXC above, whatever that persons status may be. This category may include a person who is neither stateless nor a refugee but who is of unknown nationality and legally residing in the State of issue.",ANT:"Netherlands Antilles",NTZ:"Neutral Zone"};Object.freeze(states);function cleanText(rt){return rt.replace(/<+$/g,"").replace(/</g," ")}function parseAlpha(rt){if(!rt.match(/^[A-Z<]+$/))throw new Error(`invalid text: ${rt}. Must be only alphabetical with <`);return cleanText(rt)}function parseDocumentCodeId(rt){const it=rt.charAt(0);if(it!=="A"&&it!=="C"&&it!=="I")throw new Error(`invalid document code: ${rt}. First character must be A, C or I`);const at=rt.charAt(1);if(at==="V")throw new Error(`invalid document code: ${rt}. Second character may not be V`);return at==="<"?{value:it,start:0,end:1}:rt}function parseText(rt,it=/^[0-9A-Z<]+$/){if(!rt.match(it))throw new Error(`invalid text: ${rt}. Must match the following regular expression: ${it.toString()}`);return cleanText(rt)}function parseOptional(rt){const it=parseText(rt);return{value:it,start:0,end:0+it.length}}const numberToLetterMismatches={8:"B",6:"G",0:"O",1:"I",5:"S",2:"Z"},letterToNumberMismatches={B:"8",G:"6",O:"0",I:"1",S:"5",Z:"2"};function letterToNumber(rt){return letterToNumberMismatches[rt]?letterToNumberMismatches[rt]:rt}function numberToLetter(rt){return numberToLetterMismatches[rt]?numberToLetterMismatches[rt]:rt}function autoCorrection(rt,it){let at="";const lt=[];return rt.split("").forEach((ct,ut)=>{if(it.type===fieldTypes.ALPHABETIC){const ft=numberToLetter(ct);ft!==ct&&lt.push({line:it.line,column:it.start+ut,original:ct,corrected:ft}),at+=ft}else if(it.type===fieldTypes.NUMERIC){const ft=letterToNumber(ct);ft!==ct&&lt.push({line:it.line,column:it.start+ut,original:ct,corrected:ft}),at+=ft}else at+=ct}),{correctedLine:at,autocorrect:lt}}const fieldTypes={NUMERIC:"NUMERIC",ALPHABETIC:"ALPHABETIC",ALPHANUMERIC:"ALPHANUMERIC"};function createFieldParser(rt){checkType(rt,"label","string"),rt.field!==null&&checkType(rt,"field","string"),checkType(rt,"line","number"),checkType(rt,"start","number"),checkType(rt,"end","number"),checkType(rt,"parser","function");const it=[{line:rt.line,start:rt.start,end:rt.end}];if(Array.isArray(rt.related))for(const st of rt.related)checkType(st,"line","number"),checkType(st,"start","number"),checkType(st,"end","number"),it.push(st);return{parser:(st,ct=[])=>{const ut=getText(st,rt),dt=(rt.related||[]).map(gt=>getText(st,gt)),pt={label:rt.label,field:rt.field,value:null,valid:!1,ranges:it.map(gt=>({line:gt.line,start:gt.start,end:gt.end,raw:getText(st,gt)})),line:0,start:0,end:0,autocorrect:ct},ht=pt.ranges[0];pt.line=ht.line,pt.start=ht.start,pt.end=ht.end;try{const gt=rt.parser(ut,...dt);pt.value=typeof gt=="object"?gt.value:gt,pt.valid=!0,typeof gt=="object"&&(pt.start=ht.start+gt.start,pt.end=ht.start+gt.end)}catch(gt){pt.error=gt.message}return pt},autocorrector:st=>{let ct=st,ut=getText(st,rt),ft=[];if((rt.type||fieldTypes.ALPHANUMERIC)!==fieldTypes.ALPHANUMERIC){const pt=autoCorrection(ut,rt);ut=pt.correctedLine,ft=pt.autocorrect}return ct=changeText(st,rt,ut),{correctedLines:ct,autocorrect:ft}}}}function getText(rt,it){return rt[it.line].substring(it.start,it.end)}function changeText(rt,it,at){const lt=rt[it.line],st=lt.substring(0,it.start)+at+lt.substring(it.end);return rt[it.line]=st,rt}function checkType(rt,it,at){if(typeof rt[it]!==at)throw new TypeError(`${it} must be a ${at}`)}function check(rt,it){let at=0;const lt=[7,3,1];for(let st=0;st<rt.length;st++){let ct=rt.charCodeAt(st);ct===60&&(ct=0),ct>=65&&(ct-=55),ct>=48&&(ct-=48),ct*=lt[st%3],at+=ct}if(at%=10,at!==Number(it))throw new Error(`invalid check digit: ${it}. Must be ${at}`)}function parseCompositeCheckDigit(rt,...it){const at=it.join("");return check(at,rt),rt}function parseDate(rt){if(!rt.match(/^[0-9<]{4,6}$/))throw new Error(`invalid date: ${rt}`);const it=rt.substring(2,4);if(it!=="<<"&&(parseInt(it,10)<1||parseInt(it,10)>12))throw new Error(`invalid date month: ${it}`);if(rt.length===6){const at=rt.substring(4,6);if(at!=="<<"&&(parseInt(at,10)<1||parseInt(at,10)>31))throw new Error(`invalid date day: ${at}`)}return rt}function parseCheckDigit(rt,it){return check(it,rt),rt}function parseDocumentNumber$1(rt,it,at){let lt,st;if(it==="<"&&at){const ct=at.indexOf("<"),ut=at.substring(0,ct-1);st=rt+ut,lt=st.length+1}else st=cleanText(rt),lt=st.length;return{value:st,start:0,end:lt}}function parseDocumentNumberCheckDigit(rt,it,at){if(rt==="<"&&at){const lt=at.indexOf("<"),st=at.substring(0,lt-1);return it=`${it}<${st}`,rt=at.charAt(lt-1),check(it,rt),{value:rt,start:lt,end:lt+1}}else return check(it,rt),rt}function parseFirstName(rt){const it=rt.replace(/.*?<{2}/,""),at=parseText(it,/^[A-Z<]+<*$/),lt=rt.length-it.length;return{value:at,start:lt,end:lt+at.length}}function parseLastName(rt){const it=parseText(rt.replace(/<{2}.*/,""),/^[A-Z<]*<*$/);return{value:it,start:0,end:it.length}}function parseSex(rt){switch(rt){case"M":return"male";case"F":return"female";case"<":return"nonspecified";default:throw new Error(`invalid sex: ${rt}. Must be M, F or <.`)}}function parseState(rt){if(rt=cleanText(rt),!states[rt])throw new Error(`invalid state code: ${rt}`);return{value:rt,start:0,end:rt.length}}const documentNumberTemplate={label:"Document number",field:"documentNumber",parser:parseDocumentNumber$1,type:fieldTypes.ALPHANUMERIC},documentNumberCheckDigitTemplate={label:"Document number check digit",field:"documentNumberCheckDigit",parser:parseDocumentNumberCheckDigit,type:fieldTypes.NUMERIC},documentCodeTemplate={label:"Document code",field:"documentCode",type:fieldTypes.ALPHABETIC},nationalityTemplate={label:"Nationality",field:"nationality",parser:parseState,type:fieldTypes.ALPHABETIC},sexTemplate={label:"Sex",field:"sex",parser:parseSex,type:fieldTypes.ALPHABETIC},expirationDateTemplate={label:"Expiration date",field:"expirationDate",parser:parseDate,type:fieldTypes.NUMERIC},expirationDateCheckDigitTemplate={label:"Expiration date check digit",field:"expirationDateCheckDigit",parser:parseCheckDigit,type:fieldTypes.NUMERIC},compositeCheckDigitTemplate={label:"Composite check digit",field:"compositeCheckDigit",parser:parseCompositeCheckDigit,type:fieldTypes.NUMERIC},birthDateTemplate={label:"Birth date",field:"birthDate",parser:parseDate,type:fieldTypes.NUMERIC},birthDateCheckDigitTemplate={label:"Birth date check digit",field:"birthDateCheckDigit",parser:parseCheckDigit,type:fieldTypes.NUMERIC},issueDateTemplate={label:"Issue date",field:"issueDate",parser:parseDate,type:fieldTypes.NUMERIC},firstNameTemplate={label:"First name",field:"firstName",parser:parseFirstName,type:fieldTypes.ALPHABETIC},lastNameTemplate={label:"Last name",field:"lastName",parser:parseLastName,type:fieldTypes.ALPHABETIC},issuingStateTemplate={label:"Issuing state",field:"issuingState",parser:parseState,type:fieldTypes.ALPHABETIC};[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:30,parser:parseAlpha},{label:"Administrative code",field:"administrativeCode",line:0,start:30,end:36,parser:parseOptional},{...issueDateTemplate,line:1,start:0,end:4},{label:"Administrative code 2",field:"administrativeCode2",line:1,start:4,end:7,parser:parseOptional},{...documentNumberTemplate,line:1,start:7,end:12},{...documentNumberCheckDigitTemplate,line:1,start:12,end:13,related:[{line:1,start:0,end:12}]},{...firstNameTemplate,line:1,start:13,end:27,parser:parseAlpha},{...birthDateTemplate,line:1,start:27,end:33},{...birthDateCheckDigitTemplate,line:1,start:33,end:34,related:[{line:1,start:27,end:33}]},{...sexTemplate,line:1,start:34,end:35},{...compositeCheckDigitTemplate,line:1,start:35,end:36,related:[{line:0,start:0,end:36},{line:1,start:0,end:35}]}].map(createFieldParser);function parseNumber(rt){if(!rt.match(/^[0-9]+$/))throw new Error(`invalid number: ${rt}`);return rt}function checkSeparator(rt){if(!rt.match(/^<*$/))throw new Error(`invalid separator: ${rt}. Must be composed only of "<"`);return rt}function parseDocumentCode(rt){if(rt!=="FA")throw new Error(`invalid document code: ${rt}. Must be FA`);return rt}function parseLanguageCode(rt){switch(rt){case"D":case"F":case"I":case"R":return rt;default:throw new Error(`invalid languageCode code: ${rt}. Must be D, F, I or R`)}}function parseDocumentNumber(rt){const it=rt.substring(0,3),at=rt.substring(3,6),lt=rt.charAt(6),st=rt.substring(7);if(!it.match(/^[A-Z0-9]{3}$/))throw new Error(`invalid document number: ${rt}. Must start with three alphanumeric digits`);if(!at.match(/^[0-9]{3}$/))throw new Error(`invalid document number: ${rt}. Must have numeric digits in positions 4, 5 and 6`);if(st!=="<<")throw new Error(`invalid document number: ${rt}. Must end with <<`);return parseLanguageCode(lt),{value:rt.substring(0,7),start:0,end:7}}function parseIssuingState(rt){if(rt!=="CHE"&&rt!=="LIE")throw new Error(`invalid state code: ${rt}. Must be CHE or LIE`);return rt}[{...documentNumberTemplate,line:0,start:0,end:9,parser:parseDocumentNumber},{label:"Language code",field:"languageCode",line:0,start:6,end:7,parser:parseLanguageCode,type:fieldTypes.ALPHABETIC},{...documentCodeTemplate,line:1,start:0,end:2,parser:parseDocumentCode},{...issuingStateTemplate,line:1,start:2,end:5,parser:parseIssuingState},{label:"PIN code",field:"pinCode",line:1,start:5,end:14,parser:parseNumber,type:fieldTypes.NUMERIC},{label:"Version number",field:"versionNumber",line:1,start:14,end:17,parser:parseNumber,type:fieldTypes.NUMERIC},{label:"Separator 1",field:null,line:1,start:17,end:19,parser:checkSeparator},{...birthDateTemplate,line:1,start:19,end:25},{label:"Separator 2",field:null,line:1,start:25,end:30,parser:checkSeparator},{...lastNameTemplate,line:2,start:0,end:30},{...firstNameTemplate,line:2,start:0,end:30}].map(createFieldParser);function parseDocumentNumberOptional(rt,it){if(it==="<"){const at=rt.indexOf("<"),lt=parseText(rt.substring(at+1));return{value:lt,start:at+1,end:at+1+lt.length}}else{const at=parseText(rt);return{value:at,start:0,end:at.length}}}[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...documentNumberTemplate,line:0,start:5,end:14,related:[{line:0,start:14,end:15},{line:0,start:15,end:30}]},{...documentNumberCheckDigitTemplate,line:0,start:14,end:15,related:[{line:0,start:5,end:14},{line:0,start:15,end:30}]},{label:"Optional field 1",field:"optional1",line:0,start:15,end:30,related:[{line:0,start:5,end:14},{line:0,start:14,end:15}],parser:parseDocumentNumberOptional},{...birthDateTemplate,start:0,end:6,line:1},{...birthDateCheckDigitTemplate,line:1,start:6,end:7,related:[{line:1,start:0,end:6}]},{...sexTemplate,line:1,start:7,end:8},{...expirationDateTemplate,line:1,start:8,end:14},{...expirationDateCheckDigitTemplate,line:1,start:14,end:15,related:[{line:1,start:8,end:14}]},{...nationalityTemplate,line:1,start:15,end:18},{label:"Optional field 2",field:"optional2",line:1,start:18,end:29,parser:parseOptional},{...compositeCheckDigitTemplate,line:1,start:29,end:30,related:[{line:0,start:5,end:30},{line:1,start:0,end:7},{line:1,start:8,end:15},{line:1,start:18,end:29}]},{...lastNameTemplate,line:2,start:0,end:30},{...firstNameTemplate,line:2,start:0,end:30}].map(createFieldParser);[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:36},{...firstNameTemplate,line:0,start:5,end:36},{...documentNumberTemplate,line:1,start:0,end:9,related:[{line:1,start:9,end:10},{line:1,start:28,end:35}]},{...documentNumberCheckDigitTemplate,line:1,start:9,end:10,related:[{line:1,start:0,end:9},{line:1,start:28,end:35}]},{...nationalityTemplate,line:1,start:10,end:13},{...birthDateTemplate,line:1,start:13,end:19},{...birthDateCheckDigitTemplate,line:1,start:19,end:20,related:[{line:1,start:13,end:19}]},{...sexTemplate,line:1,start:20,end:21},{...expirationDateTemplate,line:1,start:21,end:27},{...expirationDateCheckDigitTemplate,line:1,start:27,end:28,related:[{line:1,start:21,end:27}]},{label:"Optional field",field:"optional",line:1,start:28,end:35,parser:parseOptional},{...compositeCheckDigitTemplate,line:1,start:35,end:36,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:35}]}].map(createFieldParser);function parseDocumentCodePassport(rt){const it=rt.charAt(0);if(it!=="P")throw new Error(`invalid document code: ${rt}. First character must be P`);const at=rt.charAt(1);if(!at.match(/[A-Z<]/))throw new Error(`invalid document code: ${rt}. Second character must be a letter or <`);return at==="<"?{value:it,start:0,end:1}:rt}function parsePersonalNumber(rt){const it=parseText(rt,/^[A-Z0-9<]+<*$/);return{value:it,start:0,end:it.length}}function parsePersonalNumberCheckDigit(rt,it){if(cleanText(it)===""){if(rt!=="<"&&rt!=="0")throw new Error(`invalid check digit ${rt}: must be 0 or <`);return rt}return check(it,rt),rt}[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodePassport},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:44},{...firstNameTemplate,line:0,start:5,end:44},{...documentNumberTemplate,line:1,start:0,end:9},{...documentNumberCheckDigitTemplate,line:1,start:9,end:10,related:[{line:1,start:0,end:9}]},{...nationalityTemplate,line:1,start:10,end:13},{...birthDateTemplate,line:1,start:13,end:19},{...birthDateCheckDigitTemplate,line:1,start:19,end:20,related:[{line:1,start:13,end:19}]},{...sexTemplate,line:1,start:20,end:21},{...expirationDateTemplate,line:1,start:21,end:27},{...expirationDateCheckDigitTemplate,line:1,start:27,end:28,related:[{line:1,start:21,end:27}]},{label:"Personal number",field:"personalNumber",line:1,start:28,end:42,parser:parsePersonalNumber},{label:"Personal number check digit",field:"personalNumberCheckDigit",line:1,start:42,end:43,related:[{line:1,start:28,end:42}],parser:parsePersonalNumberCheckDigit},{...compositeCheckDigitTemplate,line:1,start:43,end:44,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:43}]}].map(createFieldParser);function $parcel$export(rt,it,at,lt){Object.defineProperty(rt,it,{get:at,set:lt,enumerable:!0,configurable:!0})}var $44d7e150ebc754d2$exports={};$parcel$export($44d7e150ebc754d2$exports,"ErrorBoundary",()=>$44d7e150ebc754d2$export$e926676385687eaf);var $ebb31c7feaa4405e$exports={};$parcel$export($ebb31c7feaa4405e$exports,"ErrorBoundaryContext",()=>$ebb31c7feaa4405e$export$b16d9fb1a22de840);const $ebb31c7feaa4405e$export$b16d9fb1a22de840=reactExports.createContext(null),$44d7e150ebc754d2$var$initialState={didCatch:!1,error:null};class $44d7e150ebc754d2$export$e926676385687eaf extends reactExports.Component{constructor(){super(...arguments);Zn(this,"state",$44d7e150ebc754d2$var$initialState);Zn(this,"resetErrorBoundary",(...at)=>{var st,ct;const{error:lt}=this.state;lt!==null&&((ct=(st=this.props).onReset)==null||ct.call(st,{args:at,reason:"imperative-api"}),this.setState($44d7e150ebc754d2$var$initialState))})}static getDerivedStateFromError(at){return{didCatch:!0,error:at}}componentDidCatch(at,lt){var st,ct;(ct=(st=this.props).onError)==null||ct.call(st,at,lt)}componentDidUpdate(at,lt){var ut,ft;const{didCatch:st}=this.state,{resetKeys:ct}=this.props;st&&lt.error!==null&&$44d7e150ebc754d2$var$hasArrayChanged(at.resetKeys,ct)&&((ft=(ut=this.props).onReset)==null||ft.call(ut,{next:ct,prev:at.resetKeys,reason:"keys"}),this.setState($44d7e150ebc754d2$var$initialState))}render(){const{children:at,fallbackRender:lt,FallbackComponent:st,fallback:ct}=this.props,{didCatch:ut,error:ft}=this.state;let dt=at;if(ut){const pt={error:ft,resetErrorBoundary:this.resetErrorBoundary};if(reactExports.isValidElement(ct))dt=ct;else if(typeof lt=="function")dt=lt(pt);else if(st)dt=reactExports.createElement(st,pt);else throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return reactExports.createElement($ebb31c7feaa4405e$export$b16d9fb1a22de840.Provider,{value:{didCatch:ut,error:ft,resetErrorBoundary:this.resetErrorBoundary}},dt)}}function $44d7e150ebc754d2$var$hasArrayChanged(rt=[],it=[]){return rt.length!==it.length||rt.some((at,lt)=>!Object.is(at,it[lt]))}var $7c3c25b3f398a9d6$exports={};$parcel$export($7c3c25b3f398a9d6$exports,"useErrorBoundary",()=>$7c3c25b3f398a9d6$export$c052f6604b7d51fe);function $75c9d331f9c1ed1a$export$f20aa86254872370(rt){if(rt==null||typeof rt.didCatch!="boolean"||typeof rt.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found");return!0}function $7c3c25b3f398a9d6$export$c052f6604b7d51fe(){const rt=reactExports.useContext($ebb31c7feaa4405e$export$b16d9fb1a22de840);$75c9d331f9c1ed1a$export$f20aa86254872370(rt);const[it,at]=reactExports.useState({error:null,hasError:!1}),lt=reactExports.useMemo(()=>({resetBoundary:()=>{rt==null||rt.resetErrorBoundary(),at({error:null,hasError:!1})},showBoundary:st=>at({error:st,hasError:!0})}),[rt==null?void 0:rt.resetErrorBoundary]);if(it.hasError)throw it.error;return lt}var $62ff477d53f02a5b$exports={};$parcel$export($62ff477d53f02a5b$exports,"withErrorBoundary",()=>$62ff477d53f02a5b$export$f0c7a449e0cfaec7);function $62ff477d53f02a5b$export$f0c7a449e0cfaec7(rt,it){const at=st=>reactExports.createElement($44d7e150ebc754d2$export$e926676385687eaf,it,reactExports.createElement(rt,st)),lt=rt.displayName||rt.name||"Unknown";return at.displayName=`withErrorBoundary(${lt})`,at}const AlertType={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"};reactExports.createContext(AlertType.INFO);reactExports.createContext(null);const labelColor="text-neutral-700",labelDisabledColor="text-neutral-500",inputColor="placeholder-neutral-400 focus-within:ring-primary-500 focus-within:border-primary-500 border-neutral-300 disabled:bg-neutral-50 disabled:text-neutral-500",inputError="border-danger-300 text-danger-900 placeholder-danger-300 focus-within:border-danger-500 focus-within:ring-danger-500",inputValid="border-success-400 text-success-900 placeholder-success-600 focus-within:border-success-600 focus-within:ring-success-600";function Label(rt){return jsxs("label",{htmlFor:rt.id,className:clsx("block text-sm font-semibold",rt.disabled?labelDisabledColor:labelColor,rt.hidden&&"sr-only"),children:[rt.text,rt.required&&jsx("span",{className:"text-warning-600",children:" *"})]})}const helpColorMap={error:"text-danger-600",valid:"text-success-700",help:"text-neutral-500"};function Help(rt){const{error:it,valid:at,help:lt,noMargin:st}=rt;if(!it&&typeof at!="string"&&!lt)return null;let ct=it?{type:"error",value:it}:typeof at=="string"?{type:"valid",value:at}:{type:"help",value:lt};return jsx("p",{className:clsx("whitespace-pre-line text-sm",helpColorMap[ct.type],!st&&"mt-2"),children:ct.value})}function InputCorner(rt){return jsx("div",{className:"text-sm",children:rt.children})}function InputErrorIcon(){return jsx(ExclamationCircleIcon,{className:"ml-2 h-5 w-5 text-danger-500"})}function InputValidIcon(){return jsx(CheckIcon$2,{className:"ml-2 h-5 w-5 text-success-600"})}const Checkbox=reactExports.forwardRef(function rt(it,at){const{name:lt,value:st,id:ct=`${lt}-${String(st)}`,label:ut,help:ft,className:dt,error:pt,indeterminate:ht,...gt}=it,mt=reactExports.useRef(null);return reactExports.useImperativeHandle(at,()=>mt.current),reactExports.useLayoutEffect(()=>{mt.current&&ht!==void 0&&(mt.current.indeterminate=ht)},[ht]),jsxs("div",{className:clsx("flex items-start",dt),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{...gt,id:ct,name:lt,value:st,type:"checkbox",ref:mt,className:clsx("form-checkbox h-4 w-4 rounded text-primary-600 disabled:text-neutral-300",pt?"border-danger-300 focus:ring-danger-500":"border-neutral-300 focus:ring-primary-500")})}),jsxs("div",{className:"ml-3 text-sm",children:[ut&&jsx("label",{htmlFor:ct,className:clsx("font-semibold",it.disabled?labelDisabledColor:labelColor),children:ut}),jsx(Help,{error:pt,help:ft,noMargin:!0})]})]})});function defaultRenderSelectedOptions(rt){return rt.length===0?null:`${rt.length} item${rt.length>1?"s":""} selected`}function defaultGetValue(rt){return typeof rt=="object"?rt.value:rt}function defaultCanCreate(){return!0}function defaultRenderCreate(rt){return`Create "${rt}"`}function defaultGetBadgeColor(){return Color$1.neutral}function defaultIsOptionRemovable(){return!0}function preventDefault(rt){rt.preventDefault()}function defaultRenderOption(rt){return typeof rt=="object"?rt.label:rt}const defaultNoResultsHint=jsx("div",{children:"No results."}),sameWidth={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:rt})=>{rt.styles.popper.width=`${rt.rects.reference.width}px`},effect:({state:rt})=>{rt.elements.popper.style.width=`${rt.elements.reference.getBoundingClientRect().width}px`}};function useModifiedPopper(rt){const[it,at]=reactExports.useState(null),[lt,st]=reactExports.useState(null),ct=[];rt.sameWidth&&ct.push(sameWidth),rt.offset&&ct.push({name:"offset",options:{offset:[0,rt.offset]}});const{styles:ut,attributes:ft}=usePopper(it,lt,{placement:rt.placement,strategy:"fixed",modifiers:ct});return{setReferenceElement:at,setPopperElement:st,popperProps:{style:ut.popper,...ft.popper}}}function useOnOff(rt=!1){const[it,at]=reactExports.useState(rt),lt=reactExports.useCallback(()=>at(!0),[]),st=reactExports.useCallback(()=>at(!1),[]),ct=reactExports.useCallback(()=>at(!it),[it]);return[it,lt,st,ct]}function useSearchSelectInternals(rt){const{showSelected:it,selected:at,filteredSelected:lt,searchValue:st,onSearchChange:ct,options:ut,onSelect:ft,getValue:dt,renderOption:pt,closeListOnSelect:ht,clearSearchOnSelect:gt,onCreate:mt,canCreate:xt,formattedSelected:vt,onBackspace:$t,renderCreate:_t,isOptionRemovable:yt,pinSelectedOptions:Et}=rt,[wt,bt,St]=useOnOff(!1),[Tt,Rt]=reactExports.useState(0),[kt,At]=reactExports.useState([]),Ct=reactExports.useRef(null);useOnClickOutside(Ct,St);const Mt=mt&&st&&xt(st)?st:void 0,Ot=reactExports.useMemo(()=>buildInternalOptions(ut,dt,pt,_t,at,it,yt,Mt,lt,vt,Et,kt),[ut,dt,pt,_t,Mt,at,yt,it,lt,vt,Et,kt]);reactExports.useEffect(()=>{if(vt){for(let Gt=0;Gt<ut.length;Gt++)if(vt.value===dt(ut[Gt])){Rt(Gt);return}}Rt(0)},[ut,vt,dt]);const{setReferenceElement:Nt,setPopperElement:It,popperProps:Dt}=useModifiedPopper({placement:"bottom",offset:6,sameWidth:!0});function zt(){At(at.slice()),bt()}function Yt(Gt){wt||zt(),ct(Gt.target.value)}function Pt(Gt){Gt.type==="option"?Gt.selected?Gt.removable&&ft(Gt.originalValue,!0):ft(Gt.originalValue,!1):mt==null||mt(Gt.originalValue,ft),ht&&St(),gt&&ct("")}function Lt(Gt){switch(Gt.key){case"ArrowUp":if(!wt)zt();else{const Ut=Tt-1;Rt(Ut>=0?Ut:Ot.length-1)}Gt.preventDefault();break;case"ArrowDown":wt?Rt((Tt+1)%Ot.length):zt(),Gt.preventDefault();break;case"Escape":ct(""),wt&&St();break;case"Enter":wt&&Ot[Tt]&&Pt(Ot[Tt]),Gt.preventDefault();break;case" ":st===""&&(wt?St():zt(),Gt.preventDefault());break;case"Backspace":st===""&&($t==null||$t());break}}function Ft(Gt){wt?(Gt.preventDefault(),St()):zt()}function qt(Gt){Gt.preventDefault(),ft(void 0)}return{mainRef:Ct,closeList:St,openList:zt,isListOpen:wt,formattedOptions:Ot,focused:Tt,setFocused:Rt,onSelect:Pt,setReferenceElement:Nt,setPopperElement:It,popperProps:Dt,handleChange:Yt,handleKeyDown:Lt,handleChevronDownClick:Ft,handleXClick:qt,showSelected:it}}function buildInternalOptions(rt,it,at,lt,st,ct,ut,ft,dt,pt,ht=!1,gt){const mt=[],xt=(gt==null?void 0:gt.filter(vt=>(dt==null?void 0:dt.some($t=>it($t)===it(vt)))||rt.some($t=>it($t)===it(vt))))||[];if(ct){const vt=(dt==null?void 0:dt.filter(_t=>!(rt!=null&&rt.some(yt=>it(yt)===it(_t)))))||[];let $t=[...vt,...rt];if(ht){const{pinned:_t,notPinned:yt}=rt.reduce((Et,wt)=>{const bt=xt.some(St=>it(St)===it(wt));return Et[bt?"pinned":"notPinned"].push(wt),Et},{notPinned:[],pinned:[]});$t=[...vt,..._t,...yt]}mt.push(...$t.map(_t=>{const yt=it(_t);return{type:"option",value:it(_t),label:at(_t),originalValue:_t,selected:st.some(Et=>it(Et)===yt),removable:(ut==null?void 0:ut(_t))||!1}}))}else{const vt=rt.filter($t=>{const _t=it($t);return _t===(pt==null?void 0:pt.value)||!st.some(yt=>it(yt)===_t)});mt.push(...vt.map($t=>({type:"option",value:it($t),label:at($t),originalValue:$t,selected:!1,removable:(ut==null?void 0:ut($t))||!1})))}return ft&&mt.push({type:"create",value:"___internal_create___",label:lt(ft),originalValue:ft,selected:!1,removable:!1}),mt}const Input=reactExports.forwardRef(function rt(it,at){const{name:lt,id:st=lt,className:ct,style:ut,error:ft,valid:dt,leadingAddon:pt,leadingInlineAddon:ht,trailingAddon:gt,trailingInlineAddon:mt,loading:xt,label:vt,corner:$t,hiddenLabel:_t=!1,help:yt,placeholder:Et,inlinePlaceholder:wt,wrapperRef:bt,type:St="text",inputClassName:Tt,...Rt}=it;return jsxs("div",{className:ct,children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:st,text:vt,hidden:_t,required:it.required,disabled:it.disabled}),jsx(InputCorner,{children:$t})]}),jsxs("div",{ref:bt,className:clsx("flex rounded-md shadow-sm",{"mt-1":!_t||$t}),children:[pt&&jsx(LeadingAddon,{value:pt}),jsxs("label",{htmlFor:st,className:clsx("border py-2 px-3 focus-within:ring-1","relative flex flex-1 flex-row items-center text-base shadow-sm sm:text-sm",{[inputColor]:!ft,[inputError]:ft,[inputValid]:dt,"rounded-r-md":pt&&!gt,"rounded-l-md":gt&&!pt,"rounded-md":!pt&&!gt,"bg-neutral-50 text-neutral-500":it.disabled,"bg-white":!it.disabled}),style:ut,children:[ht&&jsx(LeadingInlineAddon,{value:ht}),jsxs("div",{className:"relative flex flex-1 flex-row",children:[wt&&jsx("div",{className:"pointer-events-none absolute inset-0 w-full overflow-hidden truncate",children:wt}),jsx("input",{ref:at,id:st,name:lt,placeholder:Et&&!wt?Et:void 0,className:clsx({"flex-1 border-none p-0 focus:outline-none focus:ring-0 sm:text-sm":!0,"bg-neutral-50 text-neutral-500":it.disabled},ft?"placeholder-danger-300":dt?"placeholder-success-600":"placeholder-neutral-400",Tt),type:St,...Rt})]}),jsxs("div",{className:"inline-flex cursor-default flex-row items-center space-x-1",children:[xt&&jsx(Spinner,{className:"h-5 w-5 text-neutral-400"}),mt&&jsx(TrailingInlineAddon,{value:mt})]}),ft&&jsx(InputErrorIcon,{}),dt&&jsx(InputValidIcon,{})]}),gt&&jsx(TrailingAddon,{value:gt})]}),jsx(Help,{error:ft,valid:dt,help:yt})]})});function LeadingInlineAddon(rt){return jsx("div",{className:"flex items-center pr-2 text-neutral-500 sm:text-sm",children:rt.value})}function TrailingInlineAddon(rt){return jsx("div",{className:clsx("flex items-center pl-2 text-neutral-500 sm:text-sm"),children:rt.value})}function LeadingAddon(rt){return jsx("div",{className:clsx("inline-flex items-center rounded-l-md border border-r-0 border-neutral-300 bg-neutral-50 text-neutral-500 sm:text-sm",typeof rt.value=="string"&&"px-3"),children:rt.value})}function TrailingAddon(rt){return jsx("div",{className:clsx("inline-flex items-center rounded-r-md border border-l-0 border-neutral-300 bg-neutral-50 text-neutral-500 sm:text-sm",typeof rt.value=="string"&&"px-3"),children:rt.value})}function FormattedOption(rt){const{index:it,option:at,focused:lt,setFocused:st,onSelect:ct,showSelected:ut,highlightClassName:ft}=rt,dt=lt===it,pt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{var ht;dt&&((ht=pt.current)==null||ht.scrollIntoView({block:"nearest"}))},[dt]),jsx("div",{ref:pt,className:clsx(dt?ft:"text-neutral-900","py-2 px-4"),onMouseMove:()=>st(it),onClick:()=>ct(at),children:ut?jsxs("div",{className:"flex items-center",children:[at.type==="create"?jsx(PlusCircleIcon,{className:"-ml-0.5 mr-3 h-5 w-5 text-primary-600"}):jsx(Checkbox,{readOnly:!0,checked:at.selected,disabled:!at.removable,name:String(at.value)}),jsx("div",{className:clsx({"text-neutral-500":!at.removable&&at.selected}),children:at.label})]}):at.selected?null:at.label})}function InternalSearchSelect(rt){const{mainRef:it,inputRef:at,closeList:lt,openList:st,isListOpen:ct,formattedOptions:ut,focused:ft,setFocused:dt,onSelect:pt,setReferenceElement:ht,setPopperElement:gt,popperProps:mt,handleChange:xt,handleKeyDown:vt,handleChevronDownClick:$t,handleXClick:_t,clearable:yt=!1,disabled:Et=!1,required:wt=!1,loading:bt=!1,autoFocus:St=!1,noResultsHint:Tt=defaultNoResultsHint,error:Rt,help:kt,label:At,hiddenLabel:Ct,corner:Mt,placeholder:Ot,searchValue:Nt,formattedSelected:It,hasClearableValue:Dt,name:zt,onBlur:Yt,highlightClassName:Pt="",showSelected:Lt=!1,size:Ft,inputClassName:qt}=rt,Gt=Pt||(Lt?"bg-neutral-200":"text-white bg-primary-600");return jsxs("div",{ref:it,children:[jsx(Input,{inputClassName:qt,autoFocus:St,ref:at,required:wt,wrapperRef:ht,type:"text",name:zt||At,label:At,hiddenLabel:Ct,corner:Mt,value:Nt,disabled:Et,size:Ft,error:Rt,help:kt,autoComplete:"off",onBlur:Ut=>{Yt==null||Yt(Ut),lt()},onChange:xt,onKeyDown:vt,onClick:st,placeholder:Ot,inlinePlaceholder:It&&!Nt?It.label:void 0,trailingInlineAddon:jsx(TrailingTools,{loading:bt,clearable:yt,hasClearableValue:Dt,disabled:Et,handleXClick:_t,handleChevronDownClick:$t})}),ct&&jsx(OptionsList,{setPopperElement:gt,popperProps:mt,formattedOptions:ut,noResultsHint:Tt,focused:ft,setFocused:dt,onSelect:pt,highlightClassName:Gt,showSelected:Lt})]})}function InternalMultiSearchSelect(rt){const{mainRef:it,inputRef:at,closeList:lt,openList:st,isListOpen:ct,formattedOptions:ut,focused:ft,setFocused:dt,onSelect:pt,setReferenceElement:ht,setPopperElement:gt,popperProps:mt,handleChange:xt,handleKeyDown:vt,handleChevronDownClick:$t,handleXClick:_t,clearable:yt=!1,disabled:Et=!1,required:wt=!1,loading:bt=!1,autoFocus:St=!1,noResultsHint:Tt,error:Rt,help:kt,label:At,hiddenLabel:Ct,corner:Mt,placeholder:Ot,searchValue:Nt,selectedBadges:It,hasClearableValue:Dt,name:zt,id:Yt=zt,onBlur:Pt,highlightClassName:Lt,showSelected:Ft=!1}=rt,qt=Lt||(Ft?"bg-neutral-200":"text-white bg-primary-600");return jsxs("div",{ref:it,className:"flex flex-col",children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:Yt,text:At,hidden:Ct,required:wt,disabled:Et}),jsx(InputCorner,{children:Mt})]}),jsxs("label",{ref:ht,htmlFor:Yt,className:clsx("border py-2 px-3 focus-within:ring-1","relative flex flex-1 flex-row text-base shadow-sm sm:text-sm","rounded-md",{"mt-1":!Ct||Mt,[inputColor]:!Rt,[inputError]:Rt,"bg-neutral-50 text-neutral-500":Et,"bg-white":!Et}),children:[jsxs("div",{className:"flex flex-1 flex-row flex-wrap gap-1.5",children:[It,jsx("input",{id:Yt,ref:at,type:"text",name:zt||At,value:Nt,size:Math.max(5,(Ot==null?void 0:Ot.length)||0,Nt.length),disabled:Et,autoFocus:St,autoComplete:"off",onBlur:Gt=>{Pt==null||Pt(Gt),lt()},onChange:xt,onKeyDown:vt,onClick:st,placeholder:Ot,className:clsx({"flex-1 border-none p-0 focus:outline-none focus:ring-0 sm:text-sm":!0,"bg-neutral-50 text-neutral-500":Et},Rt?"placeholder-danger-300":"placeholder-neutral-400")})]}),jsx(TrailingTools,{loading:bt,clearable:yt,hasClearableValue:Dt,hasError:!!Rt,disabled:Et,handleXClick:_t,handleChevronDownClick:$t})]}),jsx(Help,{error:Rt,help:kt}),ct&&jsx(OptionsList,{setPopperElement:gt,popperProps:mt,formattedOptions:ut,noResultsHint:Tt,focused:ft,setFocused:dt,onSelect:pt,highlightClassName:qt,showSelected:Ft})]})}function OptionsList(rt){const{setPopperElement:it,popperProps:at,formattedOptions:lt,noResultsHint:st=defaultNoResultsHint,focused:ct,setFocused:ut,onSelect:ft,highlightClassName:dt="text-white bg-primary-600",showSelected:pt}=rt,ht=pt?lt:lt.filter(gt=>!gt.selected);return jsx("div",{ref:it,...at,className:"z-20 max-h-60 w-full cursor-default overflow-auto rounded-md bg-white py-1 text-base shadow-lg sm:text-sm",onMouseDown:preventDefault,children:ht.length===0?jsx("div",{className:"p-2",children:st}):ht.map((gt,mt)=>jsx(FormattedOption,{index:mt,option:gt,focused:ct,setFocused:ut,onSelect:ft,highlightClassName:dt,showSelected:pt},gt.value))})}function TrailingTools(rt){const{loading:it,clearable:at,hasClearableValue:lt,hasError:st,disabled:ct,handleXClick:ut,handleChevronDownClick:ft}=rt;return jsxs("div",{className:"inline-flex cursor-default flex-row items-center text-neutral-400",children:[it&&jsx(Spinner,{className:"mr-1 h-5 w-5 text-neutral-400"}),at&&lt&&!ct&&jsx(XMarkIcon,{className:"h-4 w-4 hover:text-neutral-500",onClick:ut}),jsx("span",{className:"mx-1 font-mono font-light",children:" | "}),jsx(ChevronDownIcon,{className:clsx({"h-5 w-5":!0,"hover:text-neutral-500":!ct}),onMouseDown:preventDefault,onClick:ct?void 0:ft}),st&&jsx(InputErrorIcon,{})]})}forwardRefWithGeneric(CheckboxMultiSearchSelectForwardRef);function CheckboxMultiSearchSelectForwardRef(rt,it){const{onSearchChange:at,options:lt,onSelect:st,isOptionRemovable:ct=defaultIsOptionRemovable,selected:ut,selectedFiltered:ft,getValue:dt=defaultGetValue,renderOption:pt=defaultRenderOption,renderSelectedOptions:ht=defaultRenderSelectedOptions,getBadgeColor:gt=defaultGetBadgeColor,closeListOnSelect:mt=!1,clearSearchOnSelect:xt=!1,onCreate:vt,canCreate:$t=defaultCanCreate,renderCreate:_t=defaultRenderCreate,clearable:yt=!0,disabled:Et=!1,pinSelectedOptions:wt=!1,...bt}=rt,St=reactExports.useMemo(()=>ut.filter(At=>!ct(At)),[ut,ct]),Tt=reactExports.useMemo(()=>{const At=ht(ut);return At?[jsx(Badge,{variant:"COLORED_BACKGROUND",label:At,color:gt(ut),rounded:!0},"selected-items")]:[]},[ut,ht,gt]),Rt=reactExports.useCallback((At,Ct)=>{st(At===void 0?St:Ct?ut.filter(Mt=>dt(Mt)!==dt(At)):[...ut,At])},[ut,st,St,dt]),kt=useSearchSelectInternals({showSelected:!0,selected:ut,filteredSelected:ft,searchValue:rt.searchValue,onSearchChange:at,options:lt,onSelect:Rt,getValue:dt,renderOption:pt,closeListOnSelect:mt,clearSearchOnSelect:xt,onCreate:vt,canCreate:$t,renderCreate:_t,pinSelectedOptions:wt,isOptionRemovable:ct});return jsx(InternalMultiSearchSelect,{...kt,...bt,inputRef:it,clearable:yt,disabled:Et,hasClearableValue:ut.length!==St.length,selectedBadges:Tt})}var colors$2={},log$1={},picocolors_browserExports={},picocolors_browser={get exports(){return picocolors_browserExports},set exports(rt){picocolors_browserExports=rt}},x$3=String,create=function(){return{isColorSupported:!1,reset:x$3,bold:x$3,dim:x$3,italic:x$3,underline:x$3,inverse:x$3,hidden:x$3,strikethrough:x$3,black:x$3,red:x$3,green:x$3,yellow:x$3,blue:x$3,magenta:x$3,cyan:x$3,white:x$3,gray:x$3,bgBlack:x$3,bgRed:x$3,bgGreen:x$3,bgYellow:x$3,bgBlue:x$3,bgMagenta:x$3,bgCyan:x$3,bgWhite:x$3}};picocolors_browser.exports=create();picocolors_browserExports.createColors=create;(function(rt){Object.defineProperty(rt,"__esModule",{value:!0});function it(dt,pt){for(var ht in pt)Object.defineProperty(dt,ht,{enumerable:!0,get:pt[ht]})}it(rt,{dim:()=>ut,default:()=>ft});const at=lt(picocolors_browserExports);function lt(dt){return dt&&dt.__esModule?dt:{default:dt}}let st=new Set;function ct(dt,pt,ht){typeof process<"u"&&{}.JEST_WORKER_ID||ht&&st.has(ht)||(ht&&st.add(ht),console.warn(""),pt.forEach(gt=>console.warn(dt,"-",gt)))}function ut(dt){return at.default.dim(dt)}const ft={info(dt,pt){ct(at.default.bold(at.default.cyan("info")),...Array.isArray(dt)?[dt]:[pt,dt])},warn(dt,pt){ct(at.default.bold(at.default.yellow("warn")),...Array.isArray(dt)?[dt]:[pt,dt])},risk(dt,pt){ct(at.default.bold(at.default.magenta("risk")),...Array.isArray(dt)?[dt]:[pt,dt])}}})(log$1);(function(rt){Object.defineProperty(rt,"__esModule",{value:!0}),Object.defineProperty(rt,"default",{enumerable:!0,get:()=>st});const it=at(log$1);function at(ct){return ct&&ct.__esModule?ct:{default:ct}}function lt({version:ct,from:ut,to:ft}){it.default.warn(`${ut}-color-renamed`,[`As of Tailwind CSS ${ct}, \`${ut}\` has been renamed to \`${ft}\`.`,"Update your configuration file to silence this warning."])}const st={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337"},get lightBlue(){return lt({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return lt({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return lt({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return lt({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return lt({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(colors$2);let colors$1=colors$2;(colors$1.__esModule?colors$1:{default:colors$1}).default;const scriptRel="modulepreload",assetsURL=function(rt){return"/"+rt},seen={},__vitePreload=function rt(it,at,lt){if(!at||at.length===0)return it();const st=document.getElementsByTagName("link");return Promise.all(at.map(ct=>{if(ct=assetsURL(ct),ct in seen)return;seen[ct]=!0;const ut=ct.endsWith(".css"),ft=ut?'[rel="stylesheet"]':"";if(!!lt)for(let ht=st.length-1;ht>=0;ht--){const gt=st[ht];if(gt.href===ct&&(!ut||gt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ct}"]${ft}`))return;const pt=document.createElement("link");if(pt.rel=ut?"stylesheet":scriptRel,ut||(pt.as="script",pt.crossOrigin=""),pt.href=ct,document.head.appendChild(pt),ut)return new Promise((ht,gt)=>{pt.addEventListener("load",ht),pt.addEventListener("error",()=>gt(new Error(`Unable to preload CSS for ${ct}`)))})})).then(()=>it())};var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(rt){propTypesExports=rt}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function rt(lt,st,ct,ut,ft,dt){if(dt!==ReactPropTypesSecret){var pt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw pt.name="Invariant Violation",pt}}rt.isRequired=rt;function it(){return rt}var at={array:rt,bigint:rt,bool:rt,func:rt,number:rt,object:rt,string:rt,symbol:rt,any:rt,arrayOf:it,element:rt,elementType:rt,instanceOf:it,node:rt,objectOf:it,oneOf:it,oneOfType:it,shape:it,exact:it,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return at.PropTypes=at,at};propTypes.exports=factoryWithThrowingShims();typeof window<"u"&&__vitePreload(()=>Promise.resolve({}),["assets/react-datepicker-fe9d2487.css"]);reactExports.forwardRef(function rt({inputRef:it,inputProps:at,name:lt,error:st,selected:ct,isClearable:ut,onSelectChange:ft,...dt},pt){const ht=reactExports.useRef(null);return reactExports.useImperativeHandle(pt,()=>ht.current),reactExports.useImperativeHandle(it,()=>ht.current),jsxs("div",{className:"relative",children:[jsx("input",{...dt,...at,autoComplete:"off",ref:ht,name:lt,className:clsx("form-input block w-full rounded-md border-neutral-300 shadow-sm sm:text-sm",{[inputColor]:!st,[inputError]:st},at==null?void 0:at.className)}),ct&&ut?jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:jsx(XMarkIcon,{className:"h-3.5 w-3.5 cursor-pointer",onClick:gt=>{gt.stopPropagation(),gt.preventDefault(),ft==null||ft(null)}})}):null]})});let defaultOptions={};const _options=new WeakMap,referenceTables={metric:[{from:0,to:1e3,unit:"B",long:"bytes"},{from:1e3,to:1e6,unit:"kB",long:"kilobytes"},{from:1e6,to:1e9,unit:"MB",long:"megabytes"},{from:1e9,to:1e12,unit:"GB",long:"gigabytes"},{from:1e12,to:1e15,unit:"TB",long:"terabytes"},{from:1e15,to:1e18,unit:"PB",long:"petabytes"},{from:1e18,to:1e21,unit:"EB",long:"exabytes"},{from:1e21,to:1e24,unit:"ZB",long:"zettabytes"},{from:1e24,to:1e27,unit:"YB",long:"yottabytes"}],metric_octet:[{from:0,to:1e3,unit:"o",long:"octets"},{from:1e3,to:1e6,unit:"ko",long:"kilooctets"},{from:1e6,to:1e9,unit:"Mo",long:"megaoctets"},{from:1e9,to:1e12,unit:"Go",long:"gigaoctets"},{from:1e12,to:1e15,unit:"To",long:"teraoctets"},{from:1e15,to:1e18,unit:"Po",long:"petaoctets"},{from:1e18,to:1e21,unit:"Eo",long:"exaoctets"},{from:1e21,to:1e24,unit:"Zo",long:"zettaoctets"},{from:1e24,to:1e27,unit:"Yo",long:"yottaoctets"}],iec:[{from:0,to:Math.pow(1024,1),unit:"B",long:"bytes"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"KiB",long:"kibibytes"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"MiB",long:"mebibytes"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"GiB",long:"gibibytes"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"TiB",long:"tebibytes"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"PiB",long:"pebibytes"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"EiB",long:"exbibytes"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"ZiB",long:"zebibytes"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"YiB",long:"yobibytes"}],iec_octet:[{from:0,to:Math.pow(1024,1),unit:"o",long:"octets"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"Kio",long:"kibioctets"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"Mio",long:"mebioctets"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"Gio",long:"gibioctets"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"Tio",long:"tebioctets"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"Pio",long:"pebioctets"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"Eio",long:"exbioctets"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"Zio",long:"zebioctets"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"Yio",long:"yobioctets"}]};class ByteSize{constructor(it,at){at=Object.assign({units:"metric",precision:1,locale:void 0},defaultOptions,at),_options.set(this,at),Object.assign(referenceTables,at.customUnits);const lt=it<0?"-":"";it=Math.abs(it);const st=referenceTables[at.units];if(st){const ct=st.find(ut=>it>=ut.from&&it<ut.to);if(ct){const ut=new Intl.NumberFormat(at.locale,{style:"decimal",minimumFractionDigits:at.precision,maximumFractionDigits:at.precision}),ft=ct.from===0?lt+it:lt+ut.format(it/ct.from);this.value=ft,this.unit=ct.unit,this.long=ct.long}else this.value=lt+it,this.unit="",this.long=""}else throw new Error(`Invalid units specified: ${at.units}`)}toString(){const it=_options.get(this);return it.toStringFn?it.toStringFn.bind(this)():`${this.value} ${this.unit}`}}function byteSize(rt,it){return new ByteSize(rt,it)}byteSize.defaultOptions=function(rt){defaultOptions=rt};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let rt=0;rt<arguments.length;rt++)this.define(arguments[rt]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(rt,it){for(let at in rt){let lt=rt[at].map(function(st){return st.toLowerCase()});at=at.toLowerCase();for(let st=0;st<lt.length;st++){const ct=lt[st];if(ct[0]!=="*"){if(!it&&ct in this._types)throw new Error('Attempt to change mapping for "'+ct+'" extension from "'+this._types[ct]+'" to "'+at+'". Pass `force=true` to allow this, otherwise remove "'+ct+'" from the list of extensions for "'+at+'".');this._types[ct]=at}}if(it||!this._extensions[at]){const st=lt[0];this._extensions[at]=st[0]!=="*"?st:st.substr(1)}}};Mime$1.prototype.getType=function(rt){rt=String(rt);let it=rt.replace(/^.*[/\\]/,"").toLowerCase(),at=it.replace(/^.*\./,"").toLowerCase(),lt=it.length<rt.length;return(at.length<it.length-1||!lt)&&this._types[at]||null};Mime$1.prototype.getExtension=function(rt){return rt=/^\s*([^;\s]*)/.test(rt)&&RegExp.$1,rt&&this._extensions[rt.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},other={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let Mime=Mime_1;var mime=new Mime(standard,other);function __awaiter(rt,it,at,lt){function st(ct){return ct instanceof at?ct:new at(function(ut){ut(ct)})}return new(at||(at=Promise))(function(ct,ut){function ft(ht){try{pt(lt.next(ht))}catch(gt){ut(gt)}}function dt(ht){try{pt(lt.throw(ht))}catch(gt){ut(gt)}}function pt(ht){ht.done?ct(ht.value):st(ht.value).then(ft,dt)}pt((lt=lt.apply(rt,it||[])).next())})}function __generator(rt,it){var at={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},lt,st,ct,ut;return ut={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function ft(pt){return function(ht){return dt([pt,ht])}}function dt(pt){if(lt)throw new TypeError("Generator is already executing.");for(;ut&&(ut=0,pt[0]&&(at=0)),at;)try{if(lt=1,st&&(ct=pt[0]&2?st.return:pt[0]?st.throw||((ct=st.return)&&ct.call(st),0):st.next)&&!(ct=ct.call(st,pt[1])).done)return ct;switch(st=0,ct&&(pt=[pt[0]&2,ct.value]),pt[0]){case 0:case 1:ct=pt;break;case 4:return at.label++,{value:pt[1],done:!1};case 5:at.label++,st=pt[1],pt=[0];continue;case 7:pt=at.ops.pop(),at.trys.pop();continue;default:if(ct=at.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(pt[0]===6||pt[0]===2)){at=0;continue}if(pt[0]===3&&(!ct||pt[1]>ct[0]&&pt[1]<ct[3])){at.label=pt[1];break}if(pt[0]===6&&at.label<ct[1]){at.label=ct[1],ct=pt;break}if(ct&&at.label<ct[2]){at.label=ct[2],at.ops.push(pt);break}ct[2]&&at.ops.pop(),at.trys.pop();continue}pt=it.call(rt,at)}catch(ht){pt=[6,ht],st=0}finally{lt=ct=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}function __read(rt,it){var at=typeof Symbol=="function"&&rt[Symbol.iterator];if(!at)return rt;var lt=at.call(rt),st,ct=[],ut;try{for(;(it===void 0||it-- >0)&&!(st=lt.next()).done;)ct.push(st.value)}catch(ft){ut={error:ft}}finally{try{st&&!st.done&&(at=lt.return)&&at.call(lt)}finally{if(ut)throw ut.error}}return ct}function __spreadArray(rt,it,at){if(at||arguments.length===2)for(var lt=0,st=it.length,ct;lt<st;lt++)(ct||!(lt in it))&&(ct||(ct=Array.prototype.slice.call(it,0,lt)),ct[lt]=it[lt]);return rt.concat(ct||Array.prototype.slice.call(it))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(rt,it){var at=withMimeType(rt);if(typeof at.path!="string"){var lt=rt.webkitRelativePath;Object.defineProperty(at,"path",{value:typeof it=="string"?it:typeof lt=="string"&&lt.length>0?lt:rt.name,writable:!1,configurable:!1,enumerable:!0})}return at}function withMimeType(rt){var it=rt.name,at=it&&it.lastIndexOf(".")!==-1;if(at&&!rt.type){var lt=it.split(".").pop().toLowerCase(),st=COMMON_MIME_TYPES.get(lt);st&&Object.defineProperty(rt,"type",{value:st,writable:!1,configurable:!1,enumerable:!0})}return rt}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(rt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(it){return isObject(rt)&&isDataTransfer(rt.dataTransfer)?[2,getDataTransferFiles(rt.dataTransfer,rt.type)]:isChangeEvt(rt)?[2,getInputFiles(rt)]:Array.isArray(rt)&&rt.every(function(at){return"getFile"in at&&typeof at.getFile=="function"})?[2,getFsHandleFiles(rt)]:[2,[]]})})}function isDataTransfer(rt){return isObject(rt)}function isChangeEvt(rt){return isObject(rt)&&isObject(rt.target)}function isObject(rt){return typeof rt=="object"&&rt!==null}function getInputFiles(rt){return fromList(rt.target.files).map(function(it){return toFileWithPath(it)})}function getFsHandleFiles(rt){return __awaiter(this,void 0,void 0,function(){var it;return __generator(this,function(at){switch(at.label){case 0:return[4,Promise.all(rt.map(function(lt){return lt.getFile()}))];case 1:return it=at.sent(),[2,it.map(function(lt){return toFileWithPath(lt)})]}})})}function getDataTransferFiles(rt,it){return __awaiter(this,void 0,void 0,function(){var at,lt;return __generator(this,function(st){switch(st.label){case 0:return rt.items?(at=fromList(rt.items).filter(function(ct){return ct.kind==="file"}),it!=="drop"?[2,at]:[4,Promise.all(at.map(toFilePromises))]):[3,2];case 1:return lt=st.sent(),[2,noIgnoredFiles(flatten(lt))];case 2:return[2,noIgnoredFiles(fromList(rt.files).map(function(ct){return toFileWithPath(ct)}))]}})})}function noIgnoredFiles(rt){return rt.filter(function(it){return FILES_TO_IGNORE.indexOf(it.name)===-1})}function fromList(rt){if(rt===null)return[];for(var it=[],at=0;at<rt.length;at++){var lt=rt[at];it.push(lt)}return it}function toFilePromises(rt){if(typeof rt.webkitGetAsEntry!="function")return fromDataTransferItem(rt);var it=rt.webkitGetAsEntry();return it&&it.isDirectory?fromDirEntry(it):fromDataTransferItem(rt)}function flatten(rt){return rt.reduce(function(it,at){return __spreadArray(__spreadArray([],__read(it),!1),__read(Array.isArray(at)?flatten(at):[at]),!1)},[])}function fromDataTransferItem(rt){var it=rt.getAsFile();if(!it)return Promise.reject("".concat(rt," is not a File"));var at=toFileWithPath(it);return Promise.resolve(at)}function fromEntry(rt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(it){return[2,rt.isDirectory?fromDirEntry(rt):fromFileEntry(rt)]})})}function fromDirEntry(rt){var it=rt.createReader();return new Promise(function(at,lt){var st=[];function ct(){var ut=this;it.readEntries(function(ft){return __awaiter(ut,void 0,void 0,function(){var dt,pt,ht;return __generator(this,function(gt){switch(gt.label){case 0:if(ft.length)return[3,5];gt.label=1;case 1:return gt.trys.push([1,3,,4]),[4,Promise.all(st)];case 2:return dt=gt.sent(),at(dt),[3,4];case 3:return pt=gt.sent(),lt(pt),[3,4];case 4:return[3,6];case 5:ht=Promise.all(ft.map(fromEntry)),st.push(ht),ct(),gt.label=6;case 6:return[2]}})})},function(ft){lt(ft)})}ct()})}function fromFileEntry(rt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(it){return[2,new Promise(function(at,lt){rt.file(function(st){var ct=toFileWithPath(st,rt.fullPath);at(ct)},function(st){lt(st)})})]})})}var _default=function(rt,it){if(rt&&it){var at=Array.isArray(it)?it:it.split(","),lt=rt.name||"",st=(rt.type||"").toLowerCase(),ct=st.replace(/\/.*$/,"");return at.some(function(ut){var ft=ut.trim().toLowerCase();return ft.charAt(0)==="."?lt.toLowerCase().endsWith(ft):ft.endsWith("/*")?ct===ft.replace(/\/.*$/,""):st===ft})}return!0};function _toConsumableArray$1(rt){return _arrayWithoutHoles$1(rt)||_iterableToArray$1(rt)||_unsupportedIterableToArray$1(rt)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(rt){if(typeof Symbol<"u"&&rt[Symbol.iterator]!=null||rt["@@iterator"]!=null)return Array.from(rt)}function _arrayWithoutHoles$1(rt){if(Array.isArray(rt))return _arrayLikeToArray$1(rt)}function ownKeys$1(rt,it){var at=Object.keys(rt);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(rt);it&&(lt=lt.filter(function(st){return Object.getOwnPropertyDescriptor(rt,st).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread$1(rt){for(var it=1;it<arguments.length;it++){var at=arguments[it]!=null?arguments[it]:{};it%2?ownKeys$1(Object(at),!0).forEach(function(lt){_defineProperty$1(rt,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(at)):ownKeys$1(Object(at)).forEach(function(lt){Object.defineProperty(rt,lt,Object.getOwnPropertyDescriptor(at,lt))})}return rt}function _defineProperty$1(rt,it,at){return it in rt?Object.defineProperty(rt,it,{value:at,enumerable:!0,configurable:!0,writable:!0}):rt[it]=at,rt}function _slicedToArray$1(rt,it){return _arrayWithHoles$1(rt)||_iterableToArrayLimit$1(rt,it)||_unsupportedIterableToArray$1(rt,it)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(rt,it){if(rt){if(typeof rt=="string")return _arrayLikeToArray$1(rt,it);var at=Object.prototype.toString.call(rt).slice(8,-1);if(at==="Object"&&rt.constructor&&(at=rt.constructor.name),at==="Map"||at==="Set")return Array.from(rt);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray$1(rt,it)}}function _arrayLikeToArray$1(rt,it){(it==null||it>rt.length)&&(it=rt.length);for(var at=0,lt=new Array(it);at<it;at++)lt[at]=rt[at];return lt}function _iterableToArrayLimit$1(rt,it){var at=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(at!=null){var lt=[],st=!0,ct=!1,ut,ft;try{for(at=at.call(rt);!(st=(ut=at.next()).done)&&(lt.push(ut.value),!(it&&lt.length===it));st=!0);}catch(dt){ct=!0,ft=dt}finally{try{!st&&at.return!=null&&at.return()}finally{if(ct)throw ft}}return lt}}function _arrayWithHoles$1(rt){if(Array.isArray(rt))return rt}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function rt(it){it=Array.isArray(it)&&it.length===1?it[0]:it;var at=Array.isArray(it)?"one of ".concat(it.join(", ")):it;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(at)}},getTooLargeRejectionErr=function rt(it){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(it," ").concat(it===1?"byte":"bytes")}},getTooSmallRejectionErr=function rt(it){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(it," ").concat(it===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(rt,it){var at=rt.type==="application/x-moz-file"||_default(rt,it);return[at,at?null:getInvalidTypeRejectionErr(it)]}function fileMatchSize(rt,it,at){if(isDefined(rt.size))if(isDefined(it)&&isDefined(at)){if(rt.size>at)return[!1,getTooLargeRejectionErr(at)];if(rt.size<it)return[!1,getTooSmallRejectionErr(it)]}else{if(isDefined(it)&&rt.size<it)return[!1,getTooSmallRejectionErr(it)];if(isDefined(at)&&rt.size>at)return[!1,getTooLargeRejectionErr(at)]}return[!0,null]}function isDefined(rt){return rt!=null}function allFilesAccepted(rt){var it=rt.files,at=rt.accept,lt=rt.minSize,st=rt.maxSize,ct=rt.multiple,ut=rt.maxFiles,ft=rt.validator;return!ct&&it.length>1||ct&&ut>=1&&it.length>ut?!1:it.every(function(dt){var pt=fileAccepted(dt,at),ht=_slicedToArray$1(pt,1),gt=ht[0],mt=fileMatchSize(dt,lt,st),xt=_slicedToArray$1(mt,1),vt=xt[0],$t=ft?ft(dt):null;return gt&&vt&&!$t})}function isPropagationStopped(rt){return typeof rt.isPropagationStopped=="function"?rt.isPropagationStopped():typeof rt.cancelBubble<"u"?rt.cancelBubble:!1}function isEvtWithFiles(rt){return rt.dataTransfer?Array.prototype.some.call(rt.dataTransfer.types,function(it){return it==="Files"||it==="application/x-moz-file"}):!!rt.target&&!!rt.target.files}function onDocumentDragOver(rt){rt.preventDefault()}function isIe(rt){return rt.indexOf("MSIE")!==-1||rt.indexOf("Trident/")!==-1}function isEdge(rt){return rt.indexOf("Edge/")!==-1}function isIeOrEdge(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(rt)||isEdge(rt)}function composeEventHandlers(){for(var rt=arguments.length,it=new Array(rt),at=0;at<rt;at++)it[at]=arguments[at];return function(lt){for(var st=arguments.length,ct=new Array(st>1?st-1:0),ut=1;ut<st;ut++)ct[ut-1]=arguments[ut];return it.some(function(ft){return!isPropagationStopped(lt)&&ft&&ft.apply(void 0,[lt].concat(ct)),isPropagationStopped(lt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(rt){if(isDefined(rt)){var it=Object.entries(rt).filter(function(at){var lt=_slicedToArray$1(at,2),st=lt[0],ct=lt[1],ut=!0;return isMIMEType(st)||(console.warn('Skipped "'.concat(st,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ut=!1),(!Array.isArray(ct)||!ct.every(isExt))&&(console.warn('Skipped "'.concat(st,'" because an invalid file extension was provided.')),ut=!1),ut}).reduce(function(at,lt){var st=_slicedToArray$1(lt,2),ct=st[0],ut=st[1];return _objectSpread$1(_objectSpread$1({},at),{},_defineProperty$1({},ct,ut))},{});return[{description:"Files",accept:it}]}return rt}function acceptPropAsAcceptAttr(rt){if(isDefined(rt))return Object.entries(rt).reduce(function(it,at){var lt=_slicedToArray$1(at,2),st=lt[0],ct=lt[1];return[].concat(_toConsumableArray$1(it),[st],_toConsumableArray$1(ct))},[]).filter(function(it){return isMIMEType(it)||isExt(it)}).join(",")}function isAbort(rt){return rt instanceof DOMException&&(rt.name==="AbortError"||rt.code===rt.ABORT_ERR)}function isSecurityError(rt){return rt instanceof DOMException&&(rt.name==="SecurityError"||rt.code===rt.SECURITY_ERR)}function isMIMEType(rt){return rt==="audio/*"||rt==="video/*"||rt==="image/*"||rt==="text/*"||/\w+\/[-+.\w]+/g.test(rt)}function isExt(rt){return/^.*\.[\w]+$/.test(rt)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(rt){return _arrayWithoutHoles(rt)||_iterableToArray(rt)||_unsupportedIterableToArray(rt)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(rt){if(typeof Symbol<"u"&&rt[Symbol.iterator]!=null||rt["@@iterator"]!=null)return Array.from(rt)}function _arrayWithoutHoles(rt){if(Array.isArray(rt))return _arrayLikeToArray(rt)}function _slicedToArray(rt,it){return _arrayWithHoles(rt)||_iterableToArrayLimit(rt,it)||_unsupportedIterableToArray(rt,it)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(rt,it){if(rt){if(typeof rt=="string")return _arrayLikeToArray(rt,it);var at=Object.prototype.toString.call(rt).slice(8,-1);if(at==="Object"&&rt.constructor&&(at=rt.constructor.name),at==="Map"||at==="Set")return Array.from(rt);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray(rt,it)}}function _arrayLikeToArray(rt,it){(it==null||it>rt.length)&&(it=rt.length);for(var at=0,lt=new Array(it);at<it;at++)lt[at]=rt[at];return lt}function _iterableToArrayLimit(rt,it){var at=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(at!=null){var lt=[],st=!0,ct=!1,ut,ft;try{for(at=at.call(rt);!(st=(ut=at.next()).done)&&(lt.push(ut.value),!(it&&lt.length===it));st=!0);}catch(dt){ct=!0,ft=dt}finally{try{!st&&at.return!=null&&at.return()}finally{if(ct)throw ft}}return lt}}function _arrayWithHoles(rt){if(Array.isArray(rt))return rt}function ownKeys(rt,it){var at=Object.keys(rt);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(rt);it&&(lt=lt.filter(function(st){return Object.getOwnPropertyDescriptor(rt,st).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread(rt){for(var it=1;it<arguments.length;it++){var at=arguments[it]!=null?arguments[it]:{};it%2?ownKeys(Object(at),!0).forEach(function(lt){_defineProperty(rt,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(at)):ownKeys(Object(at)).forEach(function(lt){Object.defineProperty(rt,lt,Object.getOwnPropertyDescriptor(at,lt))})}return rt}function _defineProperty(rt,it,at){return it in rt?Object.defineProperty(rt,it,{value:at,enumerable:!0,configurable:!0,writable:!0}):rt[it]=at,rt}function _objectWithoutProperties(rt,it){if(rt==null)return{};var at=_objectWithoutPropertiesLoose(rt,it),lt,st;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(rt);for(st=0;st<ct.length;st++)lt=ct[st],!(it.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(rt,lt)&&(at[lt]=rt[lt])}return at}function _objectWithoutPropertiesLoose(rt,it){if(rt==null)return{};var at={},lt=Object.keys(rt),st,ct;for(ct=0;ct<lt.length;ct++)st=lt[ct],!(it.indexOf(st)>=0)&&(at[st]=rt[st]);return at}var Dropzone=reactExports.forwardRef(function(rt,it){var at=rt.children,lt=_objectWithoutProperties(rt,_excluded),st=useDropzone(lt),ct=st.open,ut=_objectWithoutProperties(st,_excluded2);return reactExports.useImperativeHandle(it,function(){return{open:ct}},[ct]),React$8.createElement(reactExports.Fragment,null,at(_objectSpread(_objectSpread({},ut),{},{open:ct})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:propTypesExports.func,accept:propTypesExports.objectOf(propTypesExports.arrayOf(propTypesExports.string)),multiple:propTypesExports.bool,preventDropOnDocument:propTypesExports.bool,noClick:propTypesExports.bool,noKeyboard:propTypesExports.bool,noDrag:propTypesExports.bool,noDragEventsBubbling:propTypesExports.bool,minSize:propTypesExports.number,maxSize:propTypesExports.number,maxFiles:propTypesExports.number,disabled:propTypesExports.bool,getFilesFromEvent:propTypesExports.func,onFileDialogCancel:propTypesExports.func,onFileDialogOpen:propTypesExports.func,useFsAccessApi:propTypesExports.bool,autoFocus:propTypesExports.bool,onDragEnter:propTypesExports.func,onDragLeave:propTypesExports.func,onDragOver:propTypesExports.func,onDrop:propTypesExports.func,onDropAccepted:propTypesExports.func,onDropRejected:propTypesExports.func,onError:propTypesExports.func,validator:propTypesExports.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=_objectSpread(_objectSpread({},defaultProps),rt),at=it.accept,lt=it.disabled,st=it.getFilesFromEvent,ct=it.maxSize,ut=it.minSize,ft=it.multiple,dt=it.maxFiles,pt=it.onDragEnter,ht=it.onDragLeave,gt=it.onDragOver,mt=it.onDrop,xt=it.onDropAccepted,vt=it.onDropRejected,$t=it.onFileDialogCancel,_t=it.onFileDialogOpen,yt=it.useFsAccessApi,Et=it.autoFocus,wt=it.preventDropOnDocument,bt=it.noClick,St=it.noKeyboard,Tt=it.noDrag,Rt=it.noDragEventsBubbling,kt=it.onError,At=it.validator,Ct=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(at)},[at]),Mt=reactExports.useMemo(function(){return pickerOptionsFromAccept(at)},[at]),Ot=reactExports.useMemo(function(){return typeof _t=="function"?_t:noop},[_t]),Nt=reactExports.useMemo(function(){return typeof $t=="function"?$t:noop},[$t]),It=reactExports.useRef(null),Dt=reactExports.useRef(null),zt=reactExports.useReducer(reducer,initialState$1),Yt=_slicedToArray(zt,2),Pt=Yt[0],Lt=Yt[1],Ft=Pt.isFocused,qt=Pt.isFileDialogActive,Gt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&yt&&canUseFileSystemAccessAPI()),Ut=function(){!Gt.current&&qt&&setTimeout(function(){if(Dt.current){var sn=Dt.current.files;sn.length||(Lt({type:"closeDialog"}),Nt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Ut,!1),function(){window.removeEventListener("focus",Ut,!1)}},[Dt,qt,Nt,Gt]);var Vt=reactExports.useRef([]),Wt=function(sn){It.current&&It.current.contains(sn.target)||(sn.preventDefault(),Vt.current=[])};reactExports.useEffect(function(){return wt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Wt,!1)),function(){wt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Wt))}},[It,wt]),reactExports.useEffect(function(){return!lt&&Et&&It.current&&It.current.focus(),function(){}},[It,Et,lt]);var ln=reactExports.useCallback(function(Zt){kt?kt(Zt):console.error(Zt)},[kt]),pn=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),xn(Zt),Vt.current=[].concat(_toConsumableArray(Vt.current),[Zt.target]),isEvtWithFiles(Zt)&&Promise.resolve(st(Zt)).then(function(sn){if(!(isPropagationStopped(Zt)&&!Rt)){var Jt=sn.length,dn=Jt>0&&allFilesAccepted({files:sn,accept:Ct,minSize:ut,maxSize:ct,multiple:ft,maxFiles:dt,validator:At}),yn=Jt>0&&!dn;Lt({isDragAccept:dn,isDragReject:yn,isDragActive:!0,type:"setDraggedFiles"}),pt&&pt(Zt)}}).catch(function(sn){return ln(sn)})},[st,pt,ln,Rt,Ct,ut,ct,ft,dt,At]),Sn=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),xn(Zt);var sn=isEvtWithFiles(Zt);if(sn&&Zt.dataTransfer)try{Zt.dataTransfer.dropEffect="copy"}catch{}return sn&&gt&&gt(Zt),!1},[gt,Rt]),Kt=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),xn(Zt);var sn=Vt.current.filter(function(dn){return It.current&&It.current.contains(dn)}),Jt=sn.indexOf(Zt.target);Jt!==-1&&sn.splice(Jt,1),Vt.current=sn,!(sn.length>0)&&(Lt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Zt)&&ht&&ht(Zt))},[It,ht,Rt]),cn=reactExports.useCallback(function(Zt,sn){var Jt=[],dn=[];Zt.forEach(function(yn){var $n=fileAccepted(yn,Ct),Cn=_slicedToArray($n,2),Rn=Cn[0],Tn=Cn[1],Mn=fileMatchSize(yn,ut,ct),kn=_slicedToArray(Mn,2),An=kn[0],Nn=kn[1],On=At?At(yn):null;if(Rn&&An&&!On)Jt.push(yn);else{var In=[Tn,Nn];On&&(In=In.concat(On)),dn.push({file:yn,errors:In.filter(function(Ln){return Ln})})}}),(!ft&&Jt.length>1||ft&&dt>=1&&Jt.length>dt)&&(Jt.forEach(function(yn){dn.push({file:yn,errors:[TOO_MANY_FILES_REJECTION]})}),Jt.splice(0)),Lt({acceptedFiles:Jt,fileRejections:dn,type:"setFiles"}),mt&&mt(Jt,dn,sn),dn.length>0&&vt&&vt(dn,sn),Jt.length>0&&xt&&xt(Jt,sn)},[Lt,ft,Ct,ut,ct,dt,mt,xt,vt,At]),hn=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),xn(Zt),Vt.current=[],isEvtWithFiles(Zt)&&Promise.resolve(st(Zt)).then(function(sn){isPropagationStopped(Zt)&&!Rt||cn(sn,Zt)}).catch(function(sn){return ln(sn)}),Lt({type:"reset"})},[st,cn,ln,Rt]),Ht=reactExports.useCallback(function(){if(Gt.current){Lt({type:"openDialog"}),Ot();var Zt={multiple:ft,types:Mt};window.showOpenFilePicker(Zt).then(function(sn){return st(sn)}).then(function(sn){cn(sn,null),Lt({type:"closeDialog"})}).catch(function(sn){isAbort(sn)?(Nt(sn),Lt({type:"closeDialog"})):isSecurityError(sn)?(Gt.current=!1,Dt.current?(Dt.current.value=null,Dt.current.click()):ln(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ln(sn)});return}Dt.current&&(Lt({type:"openDialog"}),Ot(),Dt.current.value=null,Dt.current.click())},[Lt,Ot,Nt,yt,cn,ln,Mt,ft]),bn=reactExports.useCallback(function(Zt){!It.current||!It.current.isEqualNode(Zt.target)||(Zt.key===" "||Zt.key==="Enter"||Zt.keyCode===32||Zt.keyCode===13)&&(Zt.preventDefault(),Ht())},[It,Ht]),Qt=reactExports.useCallback(function(){Lt({type:"focus"})},[]),Xt=reactExports.useCallback(function(){Lt({type:"blur"})},[]),gn=reactExports.useCallback(function(){bt||(isIeOrEdge()?setTimeout(Ht,0):Ht())},[bt,Ht]),mn=function(sn){return lt?null:sn},_n=function(sn){return St?null:mn(sn)},jt=function(sn){return Tt?null:mn(sn)},xn=function(sn){Rt&&sn.stopPropagation()},vn=reactExports.useMemo(function(){return function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Zt.refKey,Jt=sn===void 0?"ref":sn,dn=Zt.role,yn=Zt.onKeyDown,$n=Zt.onFocus,Cn=Zt.onBlur,Rn=Zt.onClick,Tn=Zt.onDragEnter,Mn=Zt.onDragOver,kn=Zt.onDragLeave,An=Zt.onDrop,Nn=_objectWithoutProperties(Zt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:_n(composeEventHandlers(yn,bn)),onFocus:_n(composeEventHandlers($n,Qt)),onBlur:_n(composeEventHandlers(Cn,Xt)),onClick:mn(composeEventHandlers(Rn,gn)),onDragEnter:jt(composeEventHandlers(Tn,pn)),onDragOver:jt(composeEventHandlers(Mn,Sn)),onDragLeave:jt(composeEventHandlers(kn,Kt)),onDrop:jt(composeEventHandlers(An,hn)),role:typeof dn=="string"&&dn!==""?dn:"presentation"},Jt,It),!lt&&!St?{tabIndex:0}:{}),Nn)}},[It,bn,Qt,Xt,gn,pn,Sn,Kt,hn,St,Tt,lt]),wn=reactExports.useCallback(function(Zt){Zt.stopPropagation()},[]),En=reactExports.useMemo(function(){return function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Zt.refKey,Jt=sn===void 0?"ref":sn,dn=Zt.onChange,yn=Zt.onClick,$n=_objectWithoutProperties(Zt,_excluded4),Cn=_defineProperty({accept:Ct,multiple:ft,type:"file",style:{display:"none"},onChange:mn(composeEventHandlers(dn,hn)),onClick:mn(composeEventHandlers(yn,wn)),tabIndex:-1},Jt,Dt);return _objectSpread(_objectSpread({},Cn),$n)}},[Dt,at,ft,hn,lt]);return _objectSpread(_objectSpread({},Pt),{},{isFocused:Ft&&!lt,getRootProps:vn,getInputProps:En,rootRef:It,inputRef:Dt,open:mn(Ht)})}function reducer(rt,it){switch(it.type){case"focus":return _objectSpread(_objectSpread({},rt),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},rt),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},rt),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},rt),{},{isDragActive:it.isDragActive,isDragAccept:it.isDragAccept,isDragReject:it.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},rt),{},{acceptedFiles:it.acceptedFiles,fileRejections:it.fileRejections});case"reset":return _objectSpread({},initialState$1);default:return rt}}function noop(){}const listFormatter=new Intl.ListFormat("en",{style:"short",type:"disjunction"});reactExports.forwardRef(function rt(it,at){const{message:lt,header:st,accept:ct,...ut}=it,{finalAccept:ft,list:dt}=getAcceptedFiles(ct||{}),{getRootProps:pt,getInputProps:ht,isDragActive:gt}=useDropzone({...ut,accept:ft}),{ref:mt,style:xt,...vt}=ht();return reactExports.useImperativeHandle(at,()=>mt.current),jsxs("div",{...pt(),className:clsx("rounded-md border-2 border-dashed focus-within:border-transparent focus-within:ring focus-within:ring-primary-500 focus:border-transparent focus:outline-none focus:ring focus:ring-primary-500",{"border-primary-500":gt,"border-neutral-300":!gt}),children:[jsx("input",{...vt,className:"sr-only",ref:mt}),jsx("div",{className:"mt-2 sm:col-span-2 sm:mt-0",children:jsx("div",{className:clsx("flex justify-center px-6 pt-5 pb-6",it.disabled?"cursor-default":"cursor-pointer"),children:jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-center",children:[st!==void 0?st:jsx(ArrowUpOnSquareIcon,{className:"mx-auto h-12 w-12 text-neutral-300"}),jsx("div",{className:"mt-1 flex w-full flex-1 justify-center text-sm text-neutral-600",children:lt??jsxs("p",{children:[jsx("span",{className:"font-semibold text-primary-600 hover:text-primary-500",children:"Upload a file"})," or drag and drop"]})}),jsx("div",{className:"mt-1 text-xs",children:jsxs("div",{className:"text-neutral-500",children:[ct?dt:null,ct&&it.maxSize?" ":null,it.maxSize?`(up to ${String(byteSize(it.maxSize))})`:null]})})]})})})]})});function getAcceptedFiles(rt){const it=typeof rt=="string"?convertAccept(rt.split(",")):Array.isArray(rt)?convertAccept(rt):rt,at=[];for(const lt of Object.keys(it))it[lt].length===0?at.push(lt):at.push(...it[lt]);return{finalAccept:it,list:listFormatter.format(at)}}function convertAccept(rt){rt=rt.map(at=>at.trim());const it={};for(const at of rt){if(!at.startsWith("."))throw new Error(`Invalid extension passed to the \`accept\` prop (${at}). It must start with a dot.`);if(at.includes("/"))throw new Error("It is no longer supported to pass an array of mime types to the `accept` prop of the `Dropzone` component. Please use the object form or an array of extensions instead.");{const lt=at.toLowerCase();let st=mime.getType(lt);st===null&&(shouldWarn(lt)&&console.warn(`An unknown extension (${lt}) was passed to the accept prop of the Dropzone component. The type "application/octet-stream" will be used as a fallback. You can add it the mime database using "mime.define({'mime/type': ['${at}']})".`),st="application/octet-stream"),it[st]?it[st].push(lt):it[st]=[lt]}}return it}const warned=new Set;function shouldWarn(rt){return warned.has(rt)?!1:(warned.add(rt),!0)}forwardRefWithGeneric(MultiSearchSelectForwardRef);function MultiSearchSelectForwardRef(rt,it){const{onSearchChange:at,options:lt,onSelect:st,getBadgeColor:ct=defaultGetBadgeColor,isOptionRemovable:ut=defaultIsOptionRemovable,selected:ft,getValue:dt=defaultGetValue,renderOption:pt=defaultRenderOption,renderSelectedOption:ht,closeListOnSelect:gt=!1,clearSearchOnSelect:mt=!0,onCreate:xt,canCreate:vt=defaultCanCreate,renderCreate:$t=defaultRenderCreate,clearable:_t=!0,disabled:yt=!1,...Et}=rt,wt=ht||pt,bt=reactExports.useMemo(()=>ft.filter(At=>!ut(At)),[ft,ut]),St=reactExports.useMemo(()=>ft.map(At=>{const Ct=dt(At),Mt=wt(At);function Ot(Nt){Nt.preventDefault(),st(ft.filter(It=>dt(It)!==Ct))}return jsx(Badge,{variant:BadgeVariant.COLORED_BACKGROUND,label:Mt,color:ct(At),rounded:!0,onDismiss:yt||!ut(At)?void 0:Ot},Ct)}),[ft,dt,wt,st,ct,yt,ut]),Tt=reactExports.useCallback(At=>{st(At===void 0?bt:[...ft,At])},[ft,st,bt]),Rt=reactExports.useCallback(()=>{ft.length>0&&ut(ft[ft.length-1])&&st(ft.slice(0,-1))},[ut,st,ft]),kt=useSearchSelectInternals({showSelected:!1,searchValue:rt.searchValue,onSearchChange:at,options:lt,onSelect:Tt,getValue:dt,renderOption:pt,closeListOnSelect:gt,clearSearchOnSelect:mt,onCreate:xt,canCreate:vt,renderCreate:$t,isOptionRemovable:ut,onBackspace:Rt,selected:ft,pinSelectedOptions:!1});return jsx(InternalMultiSearchSelect,{...kt,...Et,inputRef:it,clearable:_t,disabled:yt,hasClearableValue:ft.length!==bt.length,selectedBadges:St})}reactExports.forwardRef(function rt(it,at){const{name:lt,value:st,id:ct=`${lt}-${st}`,label:ut,help:ft,className:dt,...pt}=it;return jsxs("div",{className:clsx("flex items-start",dt),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{...pt,ref:at,id:ct,name:lt,value:st,type:"radio",className:"form-radio h-4 w-4 border-neutral-300 text-primary-600 focus:ring-primary-500 disabled:text-neutral-300"})}),jsxs("div",{className:"ml-3 text-sm",children:[jsx("label",{htmlFor:ct,className:clsx("block font-semibold",it.disabled?labelDisabledColor:labelColor),children:ut}),jsx(Help,{help:ft,noMargin:!0})]})]})});var c$1=reactExports;c$1.createContext(null);var Lexical_prod={};let aa={},ba$1={},ia={},ja={},ka={},la={},na={},qa={},ra={},sa={},ta={},ua={},wa={},xa={},ya={},za={},Aa={},Ba={},Ca={},Da={},Ga={},Ha={},Ia={},Ja={},Ka={},La={},Ma={},Na={},Oa={},Pa={},Qa={},Ra={},Sa={},Ta={},Ua={};function q$4(rt){throw Error(`Minified Lexical error #${rt}; visit https://lexical.dev/docs/error?code=${rt} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Va=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wa=Va&&"documentMode"in document?document.documentMode:null,u$2=Va&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Xa=Va&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ya=Va&&"InputEvent"in window&&!Wa?"getTargetRanges"in new window.InputEvent("input"):!1,Za=Va&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),$a=Va&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ab=Va&&/^(?=.*Chrome).*/i.test(navigator.userAgent),bb=Va&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ab,cb=Za||$a||bb?"":"",db=Xa?"":cb,eb=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,fb=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,gb={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},kb={directionless:1,unmergeable:2},lb={center:2,end:6,justify:4,left:1,right:3,start:5},mb={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},nb={normal:0,segmented:2,token:1},ob={0:"normal",2:"segmented",1:"token"},pb=!1,qb=0;function rb(rt){qb=rt.timeStamp}function sb(rt,it,at){return it.__lexicalLineBreak===rt||rt[`__lexicalKey_${at._key}`]!==void 0}function tb(rt){return rt.getEditorState().read(()=>{let it=v$1();return it!==null?it.clone():null})}function ub(rt,it,at){pb=!0;let lt=100<performance.now()-qb;try{w$3(rt,()=>{let st=v$1()||tb(rt);var ct=new Map,ut=rt.getRootElement(),ft=rt._editorState,dt=rt._blockCursorElement;let pt=!1,ht="";for(var gt=0;gt<it.length;gt++){var mt=it[gt],xt=mt.type,vt=mt.target,$t=vb(vt,ft);if(!($t===null&&vt!==ut||z$4($t))){if(xt==="characterData"){if(mt=lt&&B$4($t))e:{mt=st,xt=vt;var _t=$t;if(C$2(mt)){var yt=mt.anchor.getNode();if(yt.is(_t)&&mt.format!==yt.getFormat()){mt=!1;break e}}mt=xt.nodeType===3&&_t.isAttached()}mt&&(_t=E$4(rt._window),xt=mt=null,_t!==null&&_t.anchorNode===vt&&(mt=_t.anchorOffset,xt=_t.focusOffset),vt=vt.nodeValue,vt!==null&&wb($t,vt,mt,xt,!1))}else if(xt==="childList"){for(pt=!0,xt=mt.addedNodes,_t=0;_t<xt.length;_t++){yt=xt[_t];var Et=xb(yt),wt=yt.parentNode;wt==null||yt===dt||Et!==null||yt.nodeName==="BR"&&sb(yt,wt,rt)||(Xa&&(Et=yt.innerText||yt.nodeValue)&&(ht+=Et),wt.removeChild(yt))}if(mt=mt.removedNodes,xt=mt.length,0<xt){for(_t=0,yt=0;yt<xt;yt++)wt=mt[yt],(wt.nodeName==="BR"&&sb(wt,vt,rt)||dt===wt)&&(vt.appendChild(wt),_t++);xt!==_t&&(vt===ut&&($t=ft._nodeMap.get("root")),ct.set(vt,$t))}}}}if(0<ct.size)for(let[bt,St]of ct)if(F$4(St))for(ct=St.getChildrenKeys(),ut=bt.firstChild,ft=0;ft<ct.length;ft++)dt=rt.getElementByKey(ct[ft]),dt!==null&&(ut==null?(bt.appendChild(dt),ut=dt):ut!==dt&&bt.replaceChild(dt,ut),ut=ut.nextSibling);else B$4(St)&&St.markDirty();if(ct=at.takeRecords(),0<ct.length){for(ut=0;ut<ct.length;ut++)for(dt=ct[ut],ft=dt.addedNodes,dt=dt.target,gt=0;gt<ft.length;gt++)$t=ft[gt],vt=$t.parentNode,vt==null||$t.nodeName!=="BR"||sb($t,dt,rt)||vt.removeChild($t);at.takeRecords()}st!==null&&(pt&&(st.dirty=!0,yb(st)),Xa&&zb(rt)&&st.insertRawText(ht))})}finally{pb=!1}}function Ab(rt){let it=rt._observer;if(it!==null){let at=it.takeRecords();ub(rt,at,it)}}function Bb(rt){qb===0&&Cb(rt).addEventListener("textInput",rb,!0),rt._observer=new MutationObserver((it,at)=>{ub(rt,it,at)})}let Db=1,Eb=typeof queueMicrotask=="function"?queueMicrotask:rt=>{Promise.resolve().then(rt)};function Fb(rt){let it=document.activeElement;if(it===null)return!1;let at=it.nodeName;return z$4(vb(rt))&&(at==="INPUT"||at==="TEXTAREA"||it.contentEditable==="true"&&it.__lexicalEditor==null)}function Gb(rt,it,at){let lt=rt.getRootElement();try{return lt!==null&&lt.contains(it)&&lt.contains(at)&&it!==null&&!Fb(it)&&Hb(it)===rt}catch{return!1}}function Hb(rt){for(;rt!=null;){let it=rt.__lexicalEditor;if(it!=null)return it;rt=Ib(rt)}return null}function Pb(rt){return rt.isToken()||rt.isSegmented()}function Qb(rt){for(;rt!=null;){if(rt.nodeType===3)return rt;rt=rt.firstChild}return null}function Rb(rt,it,at){return it=gb[it],rt&it&&(at===null||!(at&it))?rt^it:at===null||at&it?rt|it:rt}function Sb(rt){return B$4(rt)||Tb(rt)||z$4(rt)}function Ub(rt,it){if(it!=null)rt.__key=it;else{G$2(),99<Vb&&q$4(14),it=H$1();var at=I$1(),lt=""+Db++;at._nodeMap.set(lt,rt),F$4(rt)?it._dirtyElements.set(lt,!0):it._dirtyLeaves.add(lt),it._cloneNotNeeded.add(lt),it._dirtyType=1,rt.__key=lt}}function Wb(rt){var it=rt.getParent();if(it!==null){let st=rt.getWritable();it=it.getWritable();var at=rt.getPreviousSibling();if(rt=rt.getNextSibling(),at===null)if(rt!==null){var lt=rt.getWritable();it.__first=rt.__key,lt.__prev=null}else it.__first=null;else{if(lt=at.getWritable(),rt!==null){let ct=rt.getWritable();ct.__prev=lt.__key,lt.__next=ct.__key}else lt.__next=null;st.__prev=null}rt===null?at!==null?(rt=at.getWritable(),it.__last=at.__key,rt.__next=null):it.__last=null:(rt=rt.getWritable(),at!==null?(at=at.getWritable(),at.__next=rt.__key,rt.__prev=at.__key):rt.__prev=null,st.__next=null),it.__size--,st.__parent=null}}function Xb(rt){99<Vb&&q$4(14);var it=rt.getLatest(),at=it.__parent,lt=I$1();let st=H$1(),ct=lt._nodeMap;if(lt=st._dirtyElements,at!==null)e:for(;at!==null;){if(lt.has(at))break e;let ut=ct.get(at);if(ut===void 0)break;lt.set(at,!1),at=ut.__parent}it=it.__key,st._dirtyType=1,F$4(rt)?lt.set(it,!0):st._dirtyLeaves.add(it)}function J$1(rt){G$2();var it=H$1();let at=it._compositionKey;rt!==at&&(it._compositionKey=rt,at!==null&&(it=K$1(at),it!==null&&it.getWritable()),rt!==null&&(rt=K$1(rt),rt!==null&&rt.getWritable()))}function Yb(){return Zb()?null:H$1()._compositionKey}function K$1(rt,it){return rt=(it||I$1())._nodeMap.get(rt),rt===void 0?null:rt}function xb(rt,it){let at=H$1();return rt=rt[`__lexicalKey_${at._key}`],rt!==void 0?K$1(rt,it):null}function vb(rt,it){for(;rt!=null;){let at=xb(rt,it);if(at!==null)return at;rt=Ib(rt)}return null}function $b(rt){let it=Object.assign({},rt._decorators);return rt._pendingDecorators=it}function ac(rt){return rt.read(()=>bc().getTextContent())}function cc(rt,it){w$3(rt,()=>{var at=I$1();if(!at.isEmpty())if(it==="root")bc().markDirty();else{at=at._nodeMap;for(let[,lt]of at)lt.markDirty()}},rt._pendingEditorState===null?{tag:"history-merge"}:void 0)}function bc(){return I$1()._nodeMap.get("root")}function yb(rt){G$2();let it=I$1();rt!==null&&(rt.dirty=!0,rt._cachedNodes=null),it._selection=rt}function dc(rt){var it=H$1(),at;e:{for(at=rt;at!=null;){let lt=at[`__lexicalKey_${it._key}`];if(lt!==void 0){at=lt;break e}at=Ib(at)}at=null}return at===null?(it=it.getRootElement(),rt===it?K$1("root"):null):K$1(at)}function ec(rt){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(rt)}function fc(rt){let it=[];for(;rt!==null;)it.push(rt),rt=rt._parentEditor;return it}function gc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function hc(rt,it,at){if(it=E$4(it._window),it!==null){var lt=it.anchorNode,{anchorOffset:st,focusOffset:ct}=it;if(lt!==null&&(it=lt.nodeType===3?lt.nodeValue:null,lt=vb(lt),it!==null&&B$4(lt))){if(lt.canContainTabs()){var ut=it.includes("	");if(at&&0<at.length&&ut){ut=at.length;let ft=st+ut-1,dt=it.slice(0,ft);it=it.slice(ft,it.length),it=`${dt}${at}${it}`,st+=ut,ct+=ut}}it===cb&&at&&(ut=at.length,it=at,ct=st=ut),it!==null&&wb(lt,it,st,ct,rt)}}}function wb(rt,it,at,lt,st){let ct=rt;if(ct.isAttached()&&(st||!ct.isDirty())){var ut=ct.isComposing();if(rt=it,(ut||st)&&it[it.length-1]===cb&&(rt=it.slice(0,-1)),it=ct.getTextContent(),st||rt!==it)if(rt==="")if(J$1(null),Za||$a||bb)ct.remove();else{let pt=H$1();setTimeout(()=>{pt.update(()=>{ct.isAttached()&&ct.remove()})},20)}else{st=ct.getParent(),it=ic();var ft=Yb(),dt=ct.getKey();ct.isToken()||ft!==null&&dt===ft&&!ut||st!==null&&C$2(it)&&!st.canInsertTextBefore()&&it.anchor.offset===0?ct.markDirty():(ut=v$1(),C$2(ut)&&at!==null&&lt!==null&&(ut.setTextNodeRange(ct,at,ct,lt),ct.isSegmented()&&(at=ct.getTextContent(),at=L$1(at),ct.replace(at),ct=at)),ct.setTextContent(rt))}}}function jc(rt,it){if(it.isSegmented())return!0;if(!rt.isCollapsed())return!1;rt=rt.anchor.offset;let at=it.getParentOrThrow(),lt=it.isToken();return rt===0?((rt=!it.canInsertTextBefore()||!at.canInsertTextBefore()||lt)||(it=it.getPreviousSibling(),rt=(B$4(it)||F$4(it)&&it.isInline())&&!it.canInsertTextAfter()),rt):rt===it.getTextContentSize()?!it.canInsertTextAfter()||!at.canInsertTextAfter()||lt:!1}function kc(rt,it){var at=rt[it];return typeof at=="string"?(at=at.split(" "),rt[it]=at):at}function lc(rt,it,at,lt,st){at.size!==0&&(at=lt.__key,it=it.get(lt.__type),it===void 0&&q$4(33),lt=it.klass,it=rt.get(lt),it===void 0&&(it=new Map,rt.set(lt,it)),rt=it.get(at),lt=rt==="destroyed"&&st==="created",(rt===void 0||lt)&&it.set(at,lt?"updated":st))}function mc(rt,it,at){let lt=rt.getParent(),st=at;return lt!==null&&(it&&at===0?(st=rt.getIndexWithinParent(),rt=lt):it||at!==rt.getChildrenSize()||(st=rt.getIndexWithinParent()+1,rt=lt)),rt.getChildAtIndex(it?st-1:st)}function nc(rt,it){var at=rt.offset;return rt.type==="element"?(rt=rt.getNode(),mc(rt,it,at)):(rt=rt.getNode(),it&&at===0||!it&&at===rt.getTextContentSize()?(at=it?rt.getPreviousSibling():rt.getNextSibling(),at===null?mc(rt.getParentOrThrow(),it,rt.getIndexWithinParent()+(it?0:1)):at):null)}function zb(rt){return rt=(rt=Cb(rt).event)&&rt.inputType,rt==="insertFromPaste"||rt==="insertFromPasteAsQuotation"}function oc(rt){return!M(rt)&&!rt.isLastChild()&&!rt.isInline()}function pc(rt,it){return rt=rt._keyToDOMMap.get(it),rt===void 0&&q$4(75),rt}function Ib(rt){return rt=rt.assignedSlot||rt.parentElement,rt!==null&&rt.nodeType===11?rt.host:rt}function qc(rt,it=0){if(it!==0&&q$4(1),it=v$1(),!C$2(it)||!F$4(rt))return it;let{anchor:at,focus:lt}=it,st=at.getNode(),ct=lt.getNode();return rc(st,rt)&&at.set(rt.__key,0,"element"),rc(ct,rt)&&lt.set(rt.__key,0,"element"),it}function rc(rt,it){for(rt=rt.getParent();rt!==null;){if(rt.is(it))return!0;rt=rt.getParent()}return!1}function Cb(rt){return rt=rt._window,rt===null&&q$4(78),rt}function sc(rt){for(rt=rt.getParentOrThrow();rt!==null&&!N$1(rt);)rt=rt.getParentOrThrow();return rt}function N$1(rt){return M(rt)||F$4(rt)&&rt.isShadowRoot()}function tc(rt){return rt=rt.constructor.clone(rt),Ub(rt,null),rt}function uc(rt){var it=H$1();let at=rt.constructor.getType();return it=it._nodes.get(at),it===void 0&&q$4(97),it=it.replace,it!==null?(it=it(rt),it instanceof rt.constructor||q$4(98),it):rt}function vc(rt,it){rt=rt.getParent(),!M(rt)||F$4(it)||z$4(it)||q$4(99)}function wc(rt){return(z$4(rt)||F$4(rt)&&!rt.canBeEmpty())&&!rt.isInline()}function xc(rt,it,at){at.style.removeProperty("caret-color"),it._blockCursorElement=null,it=rt.parentElement,it!==null&&it.removeChild(rt)}function E$4(rt){return Va?(rt||window).getSelection():null}function yc(rt,it){let at=rt.getChildAtIndex(it);at==null&&(at=rt),N$1(rt)&&q$4(102);let lt=ut=>{const ft=ut.getParentOrThrow(),dt=N$1(ft),pt=ut!==at||dt?tc(ut):ut;if(dt)return ut.insertAfter(pt),[ut,pt,pt];const[ht,gt,mt]=lt(ft);return ut=ut.getNextSiblings(),mt.append(pt,...ut),[ht,gt,pt]},[st,ct]=lt(at);return[st,ct]}function zc(rt,it){for(;rt!==bc()&&rt!=null;){if(it(rt))return rt;rt=rt.getParent()}return null}function Ac(rt){let it=[],at=[rt];for(;0<at.length;){let lt=at.pop();lt===void 0&&q$4(112),F$4(lt)&&at.unshift(...lt.getChildren()),lt!==rt&&it.push(lt)}return it}function Bc(rt,it,at,lt,st){for(rt=rt.getFirstChild();rt!==null;){let ct=rt.__key;rt!==void 0&&rt.__parent===it&&(F$4(rt)&&Bc(rt,ct,at,lt,st),at.has(ct)||st.delete(ct),lt.delete(ct)),rt=rt.isAttached()?rt.getNextSibling():null}}function Cc(rt,it,at,lt){rt=rt._nodeMap,it=it._nodeMap;for(let st of at){let ct=it.get(st);ct===void 0||ct.isAttached()||(rt.has(st)||at.delete(st),it.delete(st))}for(let[st]of lt)at=it.get(st),at===void 0||at.isAttached()||(F$4(at)&&Bc(at,st,rt,it,lt),rt.has(st)||lt.delete(st),it.delete(st))}function Dc(rt,it){let at=rt.__mode,lt=rt.__format;rt=rt.__style;let st=it.__mode,ct=it.__format;return it=it.__style,(at===null||at===st)&&(lt===null||lt===ct)&&(rt===null||rt===it)}function Ec(rt,it){let at=rt.mergeWithSibling(it),lt=H$1()._normalizedNodes;return lt.add(rt.__key),lt.add(it.__key),at}function Fc(rt){if(rt.__text===""&&rt.isSimpleText()&&!rt.isUnmergeable())rt.remove();else{for(var it;(it=rt.getPreviousSibling())!==null&&B$4(it)&&it.isSimpleText()&&!it.isUnmergeable();)if(it.__text==="")it.remove();else{Dc(it,rt)&&(rt=Ec(it,rt));break}for(var at;(at=rt.getNextSibling())!==null&&B$4(at)&&at.isSimpleText()&&!at.isUnmergeable();)if(at.__text==="")at.remove();else{Dc(rt,at)&&Ec(rt,at);break}}}function Gc(rt){return Hc(rt.anchor),Hc(rt.focus),rt}function Hc(rt){for(;rt.type==="element";){var it=rt.getNode(),at=rt.offset;if(at===it.getChildrenSize()?(it=it.getChildAtIndex(at-1),at=!0):(it=it.getChildAtIndex(at),at=!1),B$4(it)){rt.set(it.__key,at?it.getTextContentSize():0,"text");break}else if(!F$4(it))break;rt.set(it.__key,at?it.getChildrenSize():0,"element")}}let Q$1="",R="",Qc="",Rc,S,Sc,Tc=!1,Uc=!1,Vc,Wc=null,Xc,Yc,Zc,$c,ad,bd;function cd(rt,it){let at=Zc.get(rt);if(it!==null){let lt=dd(rt);lt.parentNode===it&&it.removeChild(lt)}$c.has(rt)||S._keyToDOMMap.delete(rt),F$4(at)&&(rt=ed(at,Zc),fd(rt,0,rt.length-1,null)),at!==void 0&&lc(bd,Sc,Vc,at,"destroyed")}function fd(rt,it,at,lt){for(;it<=at;++it){let st=rt[it];st!==void 0&&cd(st,lt)}}function gd(rt,it){rt.setProperty("text-align",it)}function hd(rt,it){var at=Rc.theme.indent;if(typeof at=="string"){let lt=rt.classList.contains(at);0<it&&!lt?rt.classList.add(at):1>it&&lt&&rt.classList.remove(at)}at=getComputedStyle(rt).getPropertyValue("--lexical-indent-base-value")||"40px",rt.style.setProperty("padding-inline-start",it===0?"":`calc(${it} * ${at})`)}function id(rt,it){rt=rt.style,it===0?gd(rt,""):it===1?gd(rt,"left"):it===2?gd(rt,"center"):it===3?gd(rt,"right"):it===4?gd(rt,"justify"):it===5?gd(rt,"start"):it===6&&gd(rt,"end")}function jd(rt,it,at){let lt=$c.get(rt);lt===void 0&&q$4(60);let st=lt.createDOM(Rc,S);var ct=S._keyToDOMMap;if(st["__lexicalKey_"+S._key]=rt,ct.set(rt,st),B$4(lt)?st.setAttribute("data-lexical-text","true"):z$4(lt)&&st.setAttribute("data-lexical-decorator","true"),F$4(lt)){if(rt=lt.__indent,ct=lt.__size,rt!==0&&hd(st,rt),ct!==0){--ct,rt=ed(lt,$c);var ut=R;R="",kd(rt,lt,0,ct,st,null),ld(lt,st),R=ut}rt=lt.__format,rt!==0&&id(st,rt),lt.isInline()||md(null,lt,st),oc(lt)&&(Q$1+=`

`,Qc+=`

`)}else ct=lt.getTextContent(),z$4(lt)?(ut=lt.decorate(S,Rc),ut!==null&&nd(rt,ut),st.contentEditable="false"):B$4(lt)&&(lt.isDirectionless()||(R+=ct)),Q$1+=ct,Qc+=ct;return it!==null&&(at!=null?it.insertBefore(st,at):(at=it.__lexicalLineBreak,at!=null?it.insertBefore(st,at):it.appendChild(st))),lc(bd,Sc,Vc,lt,"created"),st}function kd(rt,it,at,lt,st,ct){let ut=Q$1;for(Q$1="";at<=lt;++at)jd(rt[at],st,ct);oc(it)&&(Q$1+=`

`),st.__lexicalTextContent=Q$1,Q$1=ut+Q$1}function od(rt,it){return rt=it.get(rt),Tb(rt)||z$4(rt)&&rt.isInline()}function md(rt,it,at){rt=rt!==null&&(rt.__size===0||od(rt.__last,Zc)),it=it.__size===0||od(it.__last,$c),rt?it||(it=at.__lexicalLineBreak,it!=null&&at.removeChild(it),at.__lexicalLineBreak=null):it&&(it=document.createElement("br"),at.__lexicalLineBreak=it,at.appendChild(it))}function ld(rt,it){var at=it.__lexicalDir;if(it.__lexicalDirTextContent!==R||at!==Wc){let ct=R==="";if(ct)var lt=Wc;else lt=R,lt=eb.test(lt)?"rtl":fb.test(lt)?"ltr":null;if(lt!==at){let ut=it.classList,ft=Rc.theme;var st=at!==null?ft[at]:void 0;let dt=lt!==null?ft[lt]:void 0;st!==void 0&&(typeof st=="string"&&(st=st.split(" "),st=ft[at]=st),ut.remove(...st)),lt===null||ct&&lt==="ltr"?it.removeAttribute("dir"):(dt!==void 0&&(typeof dt=="string"&&(at=dt.split(" "),dt=ft[lt]=at),dt!==void 0&&ut.add(...dt)),it.dir=lt),Uc||(rt.getWritable().__dir=lt)}Wc=lt,it.__lexicalDirTextContent=R,it.__lexicalDir=lt}}function ed(rt,it){let at=[];for(rt=rt.__first;rt!==null;){let lt=it.get(rt);lt===void 0&&q$4(101),at.push(rt),rt=lt.__next}return at}function pd(rt,it){var at=Zc.get(rt),lt=$c.get(rt);at!==void 0&&lt!==void 0||q$4(61);var st=Tc||Yc.has(rt)||Xc.has(rt);let ct=pc(S,rt);if(at===lt&&!st)return F$4(at)?(lt=ct.__lexicalTextContent,lt!==void 0&&(Q$1+=lt,Qc+=lt),lt=ct.__lexicalDirTextContent,lt!==void 0&&(R+=lt)):(lt=at.getTextContent(),B$4(at)&&!at.isDirectionless()&&(R+=lt),Qc+=lt,Q$1+=lt),ct;if(at!==lt&&st&&lc(bd,Sc,Vc,lt,"updated"),lt.updateDOM(at,ct,Rc))return lt=jd(rt,null,null),it===null&&q$4(62),it.replaceChild(lt,ct),cd(rt,null),lt;if(F$4(at)&&F$4(lt)){if(rt=lt.__indent,rt!==at.__indent&&hd(ct,rt),rt=lt.__format,rt!==at.__format&&id(ct,rt),st){rt=lt,st=R,R="",it=Q$1;var ut=at.__size,ft=rt.__size;if(Q$1="",ut===1&&ft===1){var dt=at.__first,pt=rt.__first;if(dt===pt)pd(dt,ct);else{var ht=dd(dt);pt=jd(pt,null,null),ct.replaceChild(pt,ht),cd(dt,null)}}else{pt=ed(at,Zc);var gt=ed(rt,$c);if(ut===0)ft!==0&&kd(gt,rt,0,ft-1,ct,null);else if(ft===0)ut!==0&&(dt=ct.__lexicalLineBreak==null,fd(pt,0,ut-1,dt?null:ct),dt&&(ct.textContent=""));else{var mt=pt;pt=gt,gt=ut-1,ut=ft-1;let vt=ct.firstChild,$t=0;for(ft=0;$t<=gt&&ft<=ut;){var xt=mt[$t];let _t=pt[ft];if(xt===_t)vt=qd(pd(_t,ct)),$t++,ft++;else{dt===void 0&&(dt=new Set(mt)),ht===void 0&&(ht=new Set(pt));let yt=ht.has(xt),Et=dt.has(_t);yt?(Et?(xt=pc(S,_t),xt===vt?vt=qd(pd(_t,ct)):(vt!=null?ct.insertBefore(xt,vt):ct.appendChild(xt),pd(_t,ct)),$t++):jd(_t,ct,vt),ft++):(vt=qd(dd(xt)),cd(xt,ct),$t++)}}dt=$t>gt,ht=ft>ut,dt&&!ht?(dt=pt[ut+1],dt=dt===void 0?null:S.getElementByKey(dt),kd(pt,rt,ft,ut,ct,dt)):ht&&!dt&&fd(mt,$t,gt,ct)}}oc(rt)&&(Q$1+=`

`),ct.__lexicalTextContent=Q$1,Q$1=it+Q$1,ld(rt,ct),R=st,M(lt)||lt.isInline()||md(at,lt,ct)}oc(lt)&&(Q$1+=`

`,Qc+=`

`)}else at=lt.getTextContent(),z$4(lt)?(st=lt.decorate(S,Rc),st!==null&&nd(rt,st)):B$4(lt)&&!lt.isDirectionless()&&(R+=at),Q$1+=at,Qc+=at;return!Uc&&M(lt)&&lt.__cachedText!==Qc&&(lt=lt.getWritable(),lt.__cachedText=Qc),ct}function nd(rt,it){let at=S._pendingDecorators,lt=S._decorators;if(at===null){if(lt[rt]===it)return;at=$b(S)}at[rt]=it}function qd(rt){return rt=rt.nextSibling,rt!==null&&rt===S._blockCursorElement&&(rt=rt.nextSibling),rt}function dd(rt){return rt=ad.get(rt),rt===void 0&&q$4(75),rt}let rd=Object.freeze({}),yd=[["keydown",sd],["pointerdown",td],["compositionstart",ud],["compositionend",vd],["input",wd],["click",xd],["cut",rd],["copy",rd],["dragstart",rd],["dragover",rd],["dragend",rd],["paste",rd],["focus",rd],["blur",rd],["drop",rd]];Ya&&yd.push(["beforeinput",(rt,it)=>zd(rt,it)]);let Ad=0,Bd=0,Cd=0,Dd=null,Ed=0,Fd=!1,Gd=!1,Hd=!1,Id=!1,Jd=[0,"",0,"root",0];function Kd(rt,it,at,lt,st){let ct=rt.anchor,ut=rt.focus,ft=ct.getNode();var dt=H$1();let pt=E$4(dt._window),ht=pt!==null?pt.anchorNode:null,gt=ct.key;dt=dt.getElementByKey(gt);let mt=at.length;return gt!==ut.key||!B$4(ft)||(!st&&(!Ya||Cd<lt+50)||ft.isDirty()&&2>mt||ec(at))&&ct.offset!==ut.offset&&!ft.isComposing()||Pb(ft)||ft.isDirty()&&1<mt||(st||!Ya)&&dt!==null&&!ft.isComposing()&&ht!==Qb(dt)||pt!==null&&it!==null&&(!it.collapsed||it.startContainer!==pt.anchorNode||it.startOffset!==pt.anchorOffset)||ft.getFormat()!==rt.format||ft.getStyle()!==rt.style||jc(rt,ft)}function Ld(rt,it){return rt!==null&&rt.nodeValue!==null&&rt.nodeType===3&&it!==0&&it!==rt.nodeValue.length}function Md(rt,it,at){let{anchorNode:lt,anchorOffset:st,focusNode:ct,focusOffset:ut}=rt;Fd&&(Fd=!1,Ld(lt,st)&&Ld(ct,ut))||w$3(it,()=>{if(!at)yb(null);else if(Gb(it,lt,ct)){var ft=v$1();if(C$2(ft)){var dt=ft.anchor,pt=dt.getNode();if(ft.isCollapsed()){rt.type==="Range"&&rt.anchorNode===rt.focusNode&&(ft.dirty=!0);var ht=Cb(it).event;ht=ht?ht.timeStamp:performance.now();let[gt,mt,xt,vt,$t]=Jd;ht<$t+200&&dt.offset===xt&&dt.key===vt?(ft.format=gt,ft.style=mt):dt.type==="text"?(ft.format=pt.getFormat(),ft.style=pt.getStyle()):dt.type==="element"&&(ft.format=0,ft.style="")}else{dt=255,pt=!1,ht=ft.getNodes();let gt=ht.length;for(let mt=0;mt<gt;mt++){let xt=ht[mt];if(B$4(xt)&&(pt=!0,dt&=xt.getFormat(),dt===0))break}ft.format=pt?dt:0}}T(it,aa,void 0)}})}function xd(rt,it){w$3(it,()=>{let at=v$1(),lt=E$4(it._window),st=ic();if(C$2(at)){let ct=at.anchor,ut=ct.getNode();lt&&ct.type==="element"&&ct.offset===0&&at.isCollapsed()&&!M(ut)&&bc().getChildrenSize()===1&&ut.getTopLevelElementOrThrow().isEmpty()&&st!==null&&at.is(st)&&(lt.removeAllRanges(),at.dirty=!0)}T(it,ba$1,rt)})}function td(rt,it){let at=rt.target;rt=rt.pointerType,at instanceof Node&&rt!=="touch"&&w$3(it,()=>{z$4(vb(at))||(Gd=!0)})}function Nd(rt){return rt.getTargetRanges?(rt=rt.getTargetRanges(),rt.length===0?null:rt[0]):null}function Od(rt,it){return rt!==it||F$4(rt)||F$4(it)||!rt.isToken()||!it.isToken()}function zd(rt,it){let at=rt.inputType,lt=Nd(rt);at==="deleteCompositionText"||Xa&&zb(it)||at!=="insertCompositionText"&&w$3(it,()=>{let st=v$1();if(at==="deleteContentBackward"){if(st===null){var ct=ic();if(!C$2(ct))return;yb(ct.clone())}if(C$2(st)){Bd===229&&rt.timeStamp<Ad+30&&it.isComposing()&&st.anchor.key===st.focus.key?(J$1(null),Ad=0,setTimeout(()=>{w$3(it,()=>{J$1(null)})},30),C$2(st)&&(ct=st.anchor.getNode(),ct.markDirty(),st.format=ct.getFormat(),st.style=ct.getStyle())):(rt.preventDefault(),T(it,ia,!0));return}}if(C$2(st)){ct=rt.data,Dd!==null&&hc(!1,it,Dd),st.dirty&&Dd===null||!st.isCollapsed()||M(st.anchor.getNode())||lt===null||st.applyDOMRange(lt),Dd=null;var ut=st.focus,ft=st.anchor.getNode();if(ut=ut.getNode(),at==="insertText"||at==="insertTranspose")ct===`
`?(rt.preventDefault(),T(it,ja,!1)):ct===`

`?(rt.preventDefault(),T(it,ka,void 0)):ct==null&&rt.dataTransfer?(ct=rt.dataTransfer.getData("text/plain"),rt.preventDefault(),st.insertRawText(ct)):ct!=null&&Kd(st,lt,ct,rt.timeStamp,!0)?(rt.preventDefault(),T(it,la,ct)):Dd=ct,Cd=rt.timeStamp;else switch(rt.preventDefault(),at){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":T(it,la,rt);break;case"insertFromComposition":J$1(null),T(it,la,rt);break;case"insertLineBreak":J$1(null),T(it,ja,!1);break;case"insertParagraph":J$1(null),Hd?(Hd=!1,T(it,ja,!1)):T(it,ka,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":T(it,na,rt);break;case"deleteByComposition":Od(ft,ut)&&T(it,qa,void 0);break;case"deleteByDrag":case"deleteByCut":T(it,qa,void 0);break;case"deleteContent":T(it,ia,!1);break;case"deleteWordBackward":T(it,ra,!0);break;case"deleteWordForward":T(it,ra,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":T(it,sa,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":T(it,sa,!1);break;case"formatStrikeThrough":T(it,ta,"strikethrough");break;case"formatBold":T(it,ta,"bold");break;case"formatItalic":T(it,ta,"italic");break;case"formatUnderline":T(it,ta,"underline");break;case"historyUndo":T(it,ua,void 0);break;case"historyRedo":T(it,wa,void 0)}}})}function wd(rt,it){rt.stopPropagation(),w$3(it,()=>{var at=v$1(),lt=rt.data,st=Nd(rt);if(lt!=null&&C$2(at)&&Kd(at,st,lt,rt.timeStamp,!1)){Id&&(Pd(it,lt),Id=!1);var ct=at.anchor,ut=ct.getNode();if(st=E$4(it._window),st===null)return;let ft=ct.offset;(ct=Ya&&!at.isCollapsed()&&B$4(ut)&&st.anchorNode!==null)&&(ut=ut.getTextContent().slice(0,ft)+lt+ut.getTextContent().slice(ft+at.focus.offset),st=st.anchorNode,ct=ut===(st.nodeType===3?st.nodeValue:null)),ct||T(it,la,lt),lt=lt.length,Xa&&1<lt&&rt.inputType==="insertCompositionText"&&!it.isComposing()&&(at.anchor.offset-=lt),Za||$a||bb||!it.isComposing()||(Ad=0,J$1(null))}else hc(!1,it,lt!==null?lt:void 0),Id&&(Pd(it,lt||void 0),Id=!1);G$2(),at=H$1(),Ab(at)}),Dd=null}function ud(rt,it){w$3(it,()=>{let at=v$1();if(C$2(at)&&!it.isComposing()){let lt=at.anchor,st=at.anchor.getNode();J$1(lt.key),(rt.timeStamp<Ad+30||lt.type==="element"||!at.isCollapsed()||st.getFormat()!==at.format||st.getStyle()!==at.style)&&T(it,la,db)}})}function Pd(rt,it){var at=rt._compositionKey;if(J$1(null),at!==null&&it!=null){if(it===""){it=K$1(at),rt=Qb(rt.getElementByKey(at)),rt!==null&&rt.nodeValue!==null&&B$4(it)&&wb(it,rt.nodeValue,null,null,!0);return}if(it[it.length-1]===`
`&&(at=v$1(),C$2(at))){it=at.focus,at.anchor.set(it.key,it.offset,it.type),T(rt,Ga,null);return}}hc(!0,rt,it)}function vd(rt,it){Xa?Id=!0:w$3(it,()=>{Pd(it,rt.data)})}function sd(rt,it){if(Ad=rt.timeStamp,Bd=rt.keyCode,!it.isComposing()){var{keyCode:at,shiftKey:lt,ctrlKey:st,metaKey:ct,altKey:ut}=rt;if(!T(it,xa,rt)){if(at!==39||st||ct||ut)if(at!==39||ut||lt||!st&&!ct)if(at!==37||st||ct||ut)if(at!==37||ut||lt||!st&&!ct)if(at!==38||st||ct)if(at!==40||st||ct)if(at===13&&lt)Hd=!0,T(it,Ga,rt);else if(at===32)T(it,Ha,rt);else if(u$2&&st&&at===79)rt.preventDefault(),Hd=!0,T(it,ja,!0);else if(at!==13||lt){var ft=u$2?ut||ct?!1:at===8||at===72&&st:st||ut||ct?!1:at===8;ft?at===8?T(it,Ia,rt):(rt.preventDefault(),T(it,ia,!0)):at===27?T(it,Ja,rt):(ft=u$2?lt||ut||ct?!1:at===46||at===68&&st:st||ut||ct?!1:at===46,ft?at===46?T(it,Ka,rt):(rt.preventDefault(),T(it,ia,!1)):at===8&&(u$2?ut:st)?(rt.preventDefault(),T(it,ra,!0)):at===46&&(u$2?ut:st)?(rt.preventDefault(),T(it,ra,!1)):u$2&&ct&&at===8?(rt.preventDefault(),T(it,sa,!0)):u$2&&ct&&at===46?(rt.preventDefault(),T(it,sa,!1)):at===66&&!ut&&(u$2?ct:st)?(rt.preventDefault(),T(it,ta,"bold")):at===85&&!ut&&(u$2?ct:st)?(rt.preventDefault(),T(it,ta,"underline")):at===73&&!ut&&(u$2?ct:st)?(rt.preventDefault(),T(it,ta,"italic")):at!==9||ut||st||ct?at===90&&!lt&&(u$2?ct:st)?(rt.preventDefault(),T(it,ua,void 0)):(ft=u$2?at===90&&ct&&lt:at===89&&st||at===90&&st&&lt,ft?(rt.preventDefault(),T(it,wa,void 0)):Qd(it._editorState._selection)&&(ft=lt?!1:at===67?u$2?ct:st:!1,ft?(rt.preventDefault(),T(it,Qa,rt)):(ft=lt?!1:at===88?u$2?ct:st:!1,ft&&(rt.preventDefault(),T(it,Ra,rt))))):T(it,La,rt))}else Hd=!1,T(it,Ga,rt);else T(it,Da,rt);else T(it,Ca,rt);else T(it,Ba,rt);else T(it,Aa,rt);else T(it,za,rt);else T(it,ya,rt);(st||lt||ut||ct)&&T(it,Ua,rt)}}}function Rd(rt){let it=rt.__lexicalEventHandles;return it===void 0&&(it=[],rt.__lexicalEventHandles=it),it}let Sd=new Map;function Td(rt){rt=rt.target;let it=E$4(rt==null?null:rt.nodeType===9?rt.defaultView:rt.ownerDocument.defaultView);if(it!==null){var at=Hb(it.anchorNode);if(at!==null){Gd&&(Gd=!1,w$3(at,()=>{var ut=ic(),ft=it.anchorNode;ft!==null&&(ft=ft.nodeType,ft===1||ft===3)&&(ut=Ud(ut,it,at),yb(ut))})),rt=fc(at),rt=rt[rt.length-1];var lt=rt._key,st=Sd.get(lt),ct=st||rt;ct!==at&&Md(it,ct,!1),Md(it,at,!0),at!==rt?Sd.set(lt,at):st&&Sd.delete(lt)}}}function Vd(rt,it){Ed===0&&rt.ownerDocument.addEventListener("selectionchange",Td),Ed++,rt.__lexicalEditor=it;let at=Rd(rt);for(let lt=0;lt<yd.length;lt++){let[st,ct]=yd[lt],ut=typeof ct=="function"?ft=>{ft._lexicalHandled!==!0&&(ft._lexicalHandled=!0,it.isEditable()&&ct(ft,it))}:ft=>{if(ft._lexicalHandled!==!0&&(ft._lexicalHandled=!0,it.isEditable()))switch(st){case"cut":return T(it,Ra,ft);case"copy":return T(it,Qa,ft);case"paste":return T(it,na,ft);case"dragstart":return T(it,Na,ft);case"dragover":return T(it,Oa,ft);case"dragend":return T(it,Pa,ft);case"focus":return T(it,Sa,ft);case"blur":return T(it,Ta,ft);case"drop":return T(it,Ma,ft)}};rt.addEventListener(st,ut),at.push(()=>{rt.removeEventListener(st,ut)})}}function Wd(rt,it,at){G$2();var lt=rt.__key;let st=rt.getParent();if(st!==null){var ct=qc(rt),ut=!1;if(C$2(ct)&&it){let ft=ct.anchor,dt=ct.focus;ft.key===lt&&(Xd(ft,rt,st,rt.getPreviousSibling(),rt.getNextSibling()),ut=!0),dt.key===lt&&(Xd(dt,rt,st,rt.getPreviousSibling(),rt.getNextSibling()),ut=!0)}C$2(ct)&&it&&!ut?(lt=rt.getIndexWithinParent(),Wb(rt),Yd(ct,st,lt,-1)):Wb(rt),at||N$1(st)||st.canBeEmpty()||!st.isEmpty()||Wd(st,it),it&&M(st)&&st.isEmpty()&&st.selectEnd()}}class Zd{static getType(){q$4(64)}static clone(){q$4(65)}constructor(it){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Ub(this,it)}getType(){return this.__type}isAttached(){for(var it=this.__key;it!==null;){if(it==="root")return!0;if(it=K$1(it),it===null)break;it=it.__parent}return!1}isSelected(it){if(it=it||v$1(),it==null)return!1;let at=it.getNodes().some(lt=>lt.__key===this.__key);return B$4(this)?at:C$2(it)&&it.anchor.type==="element"&&it.focus.type==="element"&&it.anchor.key===it.focus.key&&it.anchor.offset===it.focus.offset?!1:at}getKey(){return this.__key}getIndexWithinParent(){var it=this.getParent();if(it===null)return-1;it=it.getFirstChild();let at=0;for(;it!==null;){if(this.is(it))return at;at++,it=it.getNextSibling()}return-1}getParent(){let it=this.getLatest().__parent;return it===null?null:K$1(it)}getParentOrThrow(){let it=this.getParent();return it===null&&q$4(66),it}getTopLevelElement(){let it=this;for(;it!==null;){let at=it.getParent();if(N$1(at))return it;it=at}return null}getTopLevelElementOrThrow(){let it=this.getTopLevelElement();return it===null&&q$4(67),it}getParents(){let it=[],at=this.getParent();for(;at!==null;)it.push(at),at=at.getParent();return it}getParentKeys(){let it=[],at=this.getParent();for(;at!==null;)it.push(at.__key),at=at.getParent();return it}getPreviousSibling(){let it=this.getLatest().__prev;return it===null?null:K$1(it)}getPreviousSiblings(){let it=[];var at=this.getParent();if(at===null)return it;for(at=at.getFirstChild();at!==null&&!at.is(this);)it.push(at),at=at.getNextSibling();return it}getNextSibling(){let it=this.getLatest().__next;return it===null?null:K$1(it)}getNextSiblings(){let it=[],at=this.getNextSibling();for(;at!==null;)it.push(at),at=at.getNextSibling();return it}getCommonAncestor(it){let at=this.getParents();var lt=it.getParents();F$4(this)&&at.unshift(this),F$4(it)&&lt.unshift(it),it=at.length;var st=lt.length;if(it===0||st===0||at[it-1]!==lt[st-1])return null;for(lt=new Set(lt),st=0;st<it;st++){let ct=at[st];if(lt.has(ct))return ct}return null}is(it){return it==null?!1:this.__key===it.__key}isBefore(it){if(this===it)return!1;if(it.isParentOf(this))return!0;if(this.isParentOf(it))return!1;var at=this.getCommonAncestor(it);let lt=this;for(;;){var st=lt.getParentOrThrow();if(st===at){st=lt.getIndexWithinParent();break}lt=st}for(lt=it;;){if(it=lt.getParentOrThrow(),it===at){at=lt.getIndexWithinParent();break}lt=it}return st<at}isParentOf(it){let at=this.__key;if(at===it.__key)return!1;for(;it!==null;){if(it.__key===at)return!0;it=it.getParent()}return!1}getNodesBetween(it){let at=this.isBefore(it),lt=[],st=new Set;for(var ct=this;;){var ut=ct.__key;if(st.has(ut)||(st.add(ut),lt.push(ct)),ct===it)break;if(ut=F$4(ct)?at?ct.getFirstChild():ct.getLastChild():null,ut!==null)ct=ut;else if(ut=at?ct.getNextSibling():ct.getPreviousSibling(),ut!==null)ct=ut;else{if(ct=ct.getParentOrThrow(),st.has(ct.__key)||lt.push(ct),ct===it)break;ut=ct;do ut===null&&q$4(68),ct=at?ut.getNextSibling():ut.getPreviousSibling(),ut=ut.getParent(),ut!==null&&(ct!==null||st.has(ut.__key)||lt.push(ut));while(ct===null)}}return at||lt.reverse(),lt}isDirty(){let it=H$1()._dirtyLeaves;return it!==null&&it.has(this.__key)}getLatest(){let it=K$1(this.__key);return it===null&&q$4(113),it}getWritable(){G$2();var it=I$1(),at=H$1();it=it._nodeMap;let lt=this.__key,st=this.getLatest(),ct=st.__parent;at=at._cloneNotNeeded;var ut=v$1();return ut!==null&&(ut._cachedNodes=null),at.has(lt)?(Xb(st),st):(ut=st.constructor.clone(st),ut.__parent=ct,ut.__next=st.__next,ut.__prev=st.__prev,F$4(st)&&F$4(ut)?(ut.__first=st.__first,ut.__last=st.__last,ut.__size=st.__size,ut.__indent=st.__indent,ut.__format=st.__format,ut.__dir=st.__dir):B$4(st)&&B$4(ut)&&(ut.__format=st.__format,ut.__style=st.__style,ut.__mode=st.__mode,ut.__detail=st.__detail),at.add(lt),ut.__key=lt,Xb(ut),it.set(lt,ut),ut)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){q$4(70)}updateDOM(){q$4(71)}exportDOM(it){return{element:this.createDOM(it._config,it)}}exportJSON(){q$4(72)}static importJSON(){q$4(18)}static transform(){return null}remove(it){Wd(this,!0,it)}replace(it,at){G$2();var lt=v$1();lt!==null&&(lt=lt.clone()),vc(this,it);let st=this.getLatest(),ct=this.__key,ut=it.__key,ft=it.getWritable();it=this.getParentOrThrow().getWritable();let dt=it.__size;Wb(ft);let pt=st.getPreviousSibling(),ht=st.getNextSibling(),gt=st.__prev,mt=st.__next,xt=st.__parent;return Wd(st,!1,!0),pt===null?it.__first=ut:pt.getWritable().__next=ut,ft.__prev=gt,ht===null?it.__last=ut:ht.getWritable().__prev=ut,ft.__next=mt,ft.__parent=xt,it.__size=dt,at&&this.getChildren().forEach(vt=>{ft.append(vt)}),C$2(lt)&&(yb(lt),at=lt.anchor,lt=lt.focus,at.key===ct&&$d(at,ft),lt.key===ct&&$d(lt,ft)),Yb()===ct&&J$1(ut),ft}insertAfter(it,at=!0){G$2(),vc(this,it);var lt=this.getWritable();let st=it.getWritable();var ct=st.getParent();let ut=v$1();var ft=!1,dt=!1;if(ct!==null){var pt=it.getIndexWithinParent();Wb(st),C$2(ut)&&(dt=ct.__key,ft=ut.anchor,ct=ut.focus,ft=ft.type==="element"&&ft.key===dt&&ft.offset===pt+1,dt=ct.type==="element"&&ct.key===dt&&ct.offset===pt+1)}ct=this.getNextSibling(),pt=this.getParentOrThrow().getWritable();let ht=st.__key,gt=lt.__next;return ct===null?pt.__last=ht:ct.getWritable().__prev=ht,pt.__size++,lt.__next=ht,st.__next=gt,st.__prev=lt.__key,st.__parent=lt.__parent,at&&C$2(ut)&&(at=this.getIndexWithinParent(),Yd(ut,pt,at+1),lt=pt.__key,ft&&ut.anchor.set(lt,at+2,"element"),dt&&ut.focus.set(lt,at+2,"element")),it}insertBefore(it,at=!0){G$2(),vc(this,it);var lt=this.getWritable();let st=it.getWritable(),ct=st.__key;Wb(st);let ut=this.getPreviousSibling(),ft=this.getParentOrThrow().getWritable(),dt=lt.__prev,pt=this.getIndexWithinParent();return ut===null?ft.__first=ct:ut.getWritable().__next=ct,ft.__size++,lt.__prev=ct,st.__prev=dt,st.__next=lt.__key,st.__parent=lt.__parent,lt=v$1(),at&&C$2(lt)&&(at=this.getParentOrThrow(),Yd(lt,at,pt)),it}isParentRequired(){return!1}createParentElementNode(){return ae()}selectPrevious(it,at){G$2();let lt=this.getPreviousSibling(),st=this.getParentOrThrow();return lt===null?st.select(0,0):F$4(lt)?lt.select():B$4(lt)?lt.select(it,at):(it=lt.getIndexWithinParent()+1,st.select(it,it))}selectNext(it,at){G$2();let lt=this.getNextSibling(),st=this.getParentOrThrow();return lt===null?st.select():F$4(lt)?lt.select(0,0):B$4(lt)?lt.select(it,at):(it=lt.getIndexWithinParent(),st.select(it,it))}markDirty(){this.getWritable()}}class be{constructor(it,at,lt){this._selection=null,this.key=it,this.offset=at,this.type=lt}is(it){return this.key===it.key&&this.offset===it.offset&&this.type===it.type}isBefore(it){let at=this.getNode(),lt=it.getNode(),st=this.offset;if(it=it.offset,F$4(at)){var ct=at.getDescendantByIndex(st);at=ct??at}return F$4(lt)&&(ct=lt.getDescendantByIndex(it),lt=ct??lt),at===lt?st<it:at.isBefore(lt)}getNode(){let it=K$1(this.key);return it===null&&q$4(20),it}set(it,at,lt){let st=this._selection,ct=this.key;this.key=it,this.offset=at,this.type=lt,Zb()||(Yb()===ct&&J$1(it),st!==null&&(st._cachedNodes=null,st.dirty=!0))}}function ce(rt,it){let at=it.__key,lt=rt.offset,st="element";if(B$4(it))st="text",it=it.getTextContentSize(),lt>it&&(lt=it);else if(!F$4(it)){var ct=it.getNextSibling();B$4(ct)?(at=ct.__key,lt=0,st="text"):(ct=it.getParent())&&(at=ct.__key,lt=it.getIndexWithinParent()+1)}rt.set(at,lt,st)}function $d(rt,it){if(F$4(it)){let at=it.getLastDescendant();F$4(at)||B$4(at)?ce(rt,at):ce(rt,it)}else ce(rt,it)}function de(rt,it,at,lt){let st=rt.getNode(),ct=st.getChildAtIndex(rt.offset),ut=L$1(),ft=M(st)?ae().append(ut):ut;ut.setFormat(at),ut.setStyle(lt),ct===null?st.append(ft):ct.insertBefore(ft),rt.is(it)&&it.set(ut.__key,0,"text"),rt.set(ut.__key,0,"text")}function ee(rt,it,at,lt){rt.key=it,rt.offset=at,rt.type=lt}class fe{constructor(it){this.dirty=!1,this._nodes=it,this._cachedNodes=null}is(it){if(!Qd(it))return!1;let at=this._nodes,lt=it._nodes;return at.size===lt.size&&Array.from(at).every(st=>lt.has(st))}add(it){this.dirty=!0,this._nodes.add(it),this._cachedNodes=null}delete(it){this.dirty=!0,this._nodes.delete(it),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(it){return this._nodes.has(it)}clone(){return new fe(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(it,at){let lt=this.getNodes(),st=lt.length;var ct=lt[st-1];if(B$4(ct))ct=ct.select();else{let ut=ct.getIndexWithinParent()+1;ct=ct.getParentOrThrow().select(ut,ut)}for(ct.insertNodes(it,at),it=0;it<st;it++)lt[it].remove();return!0}getNodes(){var it=this._cachedNodes;if(it!==null)return it;var at=this._nodes;it=[];for(let lt of at)at=K$1(lt),at!==null&&it.push(at);return Zb()||(this._cachedNodes=it),it}getTextContent(){let it=this.getNodes(),at="";for(let lt=0;lt<it.length;lt++)at+=it[lt].getTextContent();return at}}function C$2(rt){return rt instanceof ge}class he{constructor(it,at,lt){this.gridKey=it,this.anchor=at,this.focus=lt,this.dirty=!1,this._cachedNodes=null,at._selection=this,lt._selection=this}is(it){return ie(it)?this.gridKey===it.gridKey&&this.anchor.is(it.anchor)&&this.focus.is(it.focus):!1}set(it,at,lt){this.dirty=!0,this.gridKey=it,this.anchor.key=at,this.focus.key=lt,this._cachedNodes=null}clone(){return new he(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return je(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(it,at){let lt=this.focus.getNode();return Gc(lt.select(0,lt.getChildrenSize())).insertNodes(it,at)}getShape(){var it=K$1(this.anchor.key);it===null&&q$4(21);var at=it.getIndexWithinParent();it=it.getParentOrThrow().getIndexWithinParent();var lt=K$1(this.focus.key);lt===null&&q$4(22);var st=lt.getIndexWithinParent();let ct=lt.getParentOrThrow().getIndexWithinParent();return lt=Math.min(at,st),at=Math.max(at,st),st=Math.min(it,ct),it=Math.max(it,ct),{fromX:Math.min(lt,at),fromY:Math.min(st,it),toX:Math.max(lt,at),toY:Math.max(st,it)}}getNodes(){function it(_t){let{cell:yt,startColumn:Et,startRow:wt}=_t;dt=Math.min(dt,Et),pt=Math.min(pt,wt),ht=Math.max(ht,Et+yt.__colSpan-1),gt=Math.max(gt,wt+yt.__rowSpan-1)}var at=this._cachedNodes;if(at!==null)return at;var lt=this.anchor.getNode();at=this.focus.getNode(),lt=zc(lt,ke);var st=zc(at,ke);ke(lt)||q$4(103),ke(st)||q$4(104),at=lt.getParent(),le(at)||q$4(105),at=at.getParent(),me(at)||q$4(106);let[ct,ut,ft]=ne(at,lt,st),dt=Math.min(ut.startColumn,ft.startColumn),pt=Math.min(ut.startRow,ft.startRow),ht=Math.max(ut.startColumn+ut.cell.__colSpan-1,ft.startColumn+ft.cell.__colSpan-1),gt=Math.max(ut.startRow+ut.cell.__rowSpan-1,ft.startRow+ft.cell.__rowSpan-1);lt=dt,st=pt;for(var mt=dt,xt=pt;dt<lt||pt<st||ht>mt||gt>xt;){if(dt<lt){var vt=xt-st;--lt;for(var $t=0;$t<=vt;$t++)it(ct[st+$t][lt])}if(pt<st)for(vt=mt-lt,--st,$t=0;$t<=vt;$t++)it(ct[st][lt+$t]);if(ht>mt)for(vt=xt-st,mt+=1,$t=0;$t<=vt;$t++)it(ct[st+$t][mt]);if(gt>xt)for(vt=mt-lt,xt+=1,$t=0;$t<=vt;$t++)it(ct[xt][lt+$t])}for(at=[at],lt=null,st=pt;st<=gt;st++)for(mt=dt;mt<=ht;mt++)({cell:xt}=ct[st][mt]),vt=xt.getParent(),le(vt)||q$4(107),vt!==lt&&at.push(vt),at.push(xt,...Ac(xt)),lt=vt;return Zb()||(this._cachedNodes=at),at}getTextContent(){let it=this.getNodes(),at="";for(let lt=0;lt<it.length;lt++)at+=it[lt].getTextContent();return at}}function ie(rt){return rt instanceof he}class ge{constructor(it,at,lt,st){this.anchor=it,this.focus=at,this.dirty=!1,this.format=lt,this.style=st,this._cachedNodes=null,it._selection=this,at._selection=this}is(it){return C$2(it)?this.anchor.is(it.anchor)&&this.focus.is(it.focus)&&this.format===it.format&&this.style===it.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var it=this._cachedNodes;if(it!==null)return it;it=this.anchor;var at=this.focus,lt=it.isBefore(at),st=lt?it:at;lt=lt?at:it,it=st.getNode(),at=lt.getNode();let ct=st.offset;return st=lt.offset,F$4(it)&&(lt=it.getDescendantByIndex(ct),it=lt??it),F$4(at)&&(lt=at.getDescendantByIndex(st),lt!==null&&lt!==it&&at.getChildAtIndex(st)===lt&&(lt=lt.getPreviousSibling()),at=lt??at),it=it.is(at)?F$4(it)&&0<it.getChildrenSize()?[]:[it]:it.getNodesBetween(at),Zb()||(this._cachedNodes=it),it}setTextNodeRange(it,at,lt,st){ee(this.anchor,it.__key,at,"text"),ee(this.focus,lt.__key,st,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let it=this.getNodes();if(it.length===0)return"";let at=it[0],lt=it[it.length-1],st=this.anchor,ct=this.focus,ut=st.isBefore(ct),[ft,dt]=je(this),pt="",ht=!0;for(let gt=0;gt<it.length;gt++){let mt=it[gt];if(F$4(mt)&&!mt.isInline())ht||(pt+=`
`),ht=!mt.isEmpty();else if(ht=!1,B$4(mt)){let xt=mt.getTextContent();mt===at?mt===lt?(st.type!=="element"||ct.type!=="element"||ct.offset===st.offset)&&(xt=ft<dt?xt.slice(ft,dt):xt.slice(dt,ft)):xt=ut?xt.slice(ft):xt.slice(dt):mt===lt&&(xt=ut?xt.slice(0,dt):xt.slice(0,ft)),pt+=xt}else!z$4(mt)&&!Tb(mt)||mt===lt&&this.isCollapsed()||(pt+=mt.getTextContent())}return pt}applyDOMRange(it){let at=H$1(),lt=at.getEditorState()._selection;if(it=oe(it.startContainer,it.startOffset,it.endContainer,it.endOffset,at,lt),it!==null){var[st,ct]=it;ee(this.anchor,st.key,st.offset,st.type),ee(this.focus,ct.key,ct.offset,ct.type),this._cachedNodes=null}}clone(){let it=this.anchor,at=this.focus;return new ge(new be(it.key,it.offset,it.type),new be(at.key,at.offset,at.type),this.format,this.style)}toggleFormat(it){this.format=Rb(this.format,it,null),this.dirty=!0}setStyle(it){this.style=it,this.dirty=!0}hasFormat(it){return(this.format&gb[it])!==0}insertRawText(it){let at=it.split(/\r?\n/);if(at.length===1)this.insertText(it);else{it=[];let lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];ct!==""&&it.push(L$1(ct)),st!==lt-1&&it.push(pe())}this.insertNodes(it)}}insertText(it){var at=this.anchor,lt=this.focus,st=this.isCollapsed()||at.isBefore(lt),ct=this.format,ut=this.style;st&&at.type==="element"?de(at,lt,ct,ut):st||lt.type!=="element"||de(lt,at,ct,ut);var ft=this.getNodes(),dt=ft.length,pt=st?lt:at;lt=(st?at:lt).offset;var ht=pt.offset;at=ft[0],B$4(at)||q$4(26),st=at.getTextContent().length;var gt=at.getParentOrThrow(),mt=ft[dt-1];if(this.isCollapsed()&&lt===st&&(at.isSegmented()||at.isToken()||!at.canInsertTextAfter()||!gt.canInsertTextAfter()&&at.getNextSibling()===null)){var xt=at.getNextSibling();if((!B$4(xt)||Pb(xt))&&(xt=L$1(),xt.setFormat(ct),gt.canInsertTextAfter()?at.insertAfter(xt):gt.insertAfter(xt)),xt.select(0,0),at=xt,it!==""){this.insertText(it);return}}else if(this.isCollapsed()&&lt===0&&(at.isSegmented()||at.isToken()||!at.canInsertTextBefore()||!gt.canInsertTextBefore()&&at.getPreviousSibling()===null)){if(xt=at.getPreviousSibling(),(!B$4(xt)||Pb(xt))&&(xt=L$1(),xt.setFormat(ct),gt.canInsertTextBefore()?at.insertBefore(xt):gt.insertBefore(xt)),xt.select(),at=xt,it!==""){this.insertText(it);return}}else if(at.isSegmented()&&lt!==st)gt=L$1(at.getTextContent()),gt.setFormat(ct),at.replace(gt),at=gt;else if(!(this.isCollapsed()||it===""||(xt=mt.getParent(),gt.canInsertTextBefore()&&gt.canInsertTextAfter()&&(!F$4(xt)||xt.canInsertTextBefore()&&xt.canInsertTextAfter())))){this.insertText(""),qe(this.anchor,this.focus,null),this.insertText(it);return}if(dt===1)if(at.isToken())it=L$1(it),it.select(),at.replace(it);else{if(ft=at.getFormat(),dt=at.getStyle(),lt===ht&&(ft!==ct||dt!==ut))if(at.getTextContent()==="")at.setFormat(ct),at.setStyle(ut);else{ft=L$1(it),ft.setFormat(ct),ft.setStyle(ut),ft.select(),lt===0?at.insertBefore(ft,!1):([dt]=at.splitText(lt),dt.insertAfter(ft,!1)),ft.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=it.length);return}at=at.spliceText(lt,ht-lt,it,!0),at.getTextContent()===""?at.remove():this.anchor.type==="text"&&(at.isComposing()?this.anchor.offset-=it.length:(this.format=ft,this.style=dt))}else{if(ct=new Set([...at.getParentKeys(),...mt.getParentKeys()]),xt=F$4(at)?at:at.getParentOrThrow(),ut=F$4(mt)?mt:mt.getParentOrThrow(),gt=mt,!xt.is(ut)&&ut.isInline())do gt=ut,ut=ut.getParentOrThrow();while(ut.isInline());pt.type==="text"&&(ht!==0||mt.getTextContent()==="")||pt.type==="element"&&mt.getIndexWithinParent()<ht?B$4(mt)&&!mt.isToken()&&ht!==mt.getTextContentSize()?(mt.isSegmented()&&(pt=L$1(mt.getTextContent()),mt.replace(pt),mt=pt),mt=mt.spliceText(0,ht,""),ct.add(mt.__key)):(pt=mt.getParentOrThrow(),pt.canBeEmpty()||pt.getChildrenSize()!==1?mt.remove():pt.remove()):ct.add(mt.__key),pt=ut.getChildren(),ht=new Set(ft),mt=xt.is(ut),xt=xt.isInline()&&at.getNextSibling()===null?xt:at;for(let vt=pt.length-1;0<=vt;vt--){let $t=pt[vt];if($t.is(at)||F$4($t)&&$t.isParentOf(at))break;$t.isAttached()&&(!ht.has($t)||$t.is(gt)?mt||xt.insertAfter($t,!1):$t.remove())}if(!mt)for(pt=ut,ht=null;pt!==null;)ut=pt.getChildren(),mt=ut.length,(mt===0||ut[mt-1].is(ht))&&(ct.delete(pt.__key),ht=pt),pt=pt.getParent();for(at.isToken()?lt===st?at.select():(it=L$1(it),it.select(),at.replace(it)):(at=at.spliceText(lt,st-lt,it,!0),at.getTextContent()===""?at.remove():at.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=it.length)),it=1;it<dt;it++)at=ft[it],ct.has(at.__key)||at.remove()}}removeText(){this.insertText("")}formatText(it){if(this.isCollapsed())this.toggleFormat(it),J$1(null);else{var at=this.getNodes(),lt=[];for(var st of at)B$4(st)&&lt.push(st);var ct=lt.length;if(ct===0)this.toggleFormat(it),J$1(null);else{st=this.anchor;var ut=this.focus,ft=this.isBackward();at=ft?ut:st,st=ft?st:ut;var dt=0,pt=lt[0];if(ut=at.type==="element"?0:at.offset,at.type==="text"&&ut===pt.getTextContentSize()&&(dt=1,pt=lt[1],ut=0),pt!=null){ft=pt.getFormatFlags(it,null);var ht=ct-1,gt=lt[ht];if(ct=st.type==="text"?st.offset:gt.getTextContentSize(),pt.is(gt))ut!==ct&&(ut===0&&ct===pt.getTextContentSize()?pt.setFormat(ft):(it=pt.splitText(ut,ct),it=ut===0?it[0]:it[1],it.setFormat(ft),at.type==="text"&&at.set(it.__key,0,"text"),st.type==="text"&&st.set(it.__key,ct-ut,"text")),this.format=ft);else{ut!==0&&([,pt]=pt.splitText(ut),ut=0),pt.setFormat(ft);var mt=gt.getFormatFlags(it,ft);for(0<ct&&(ct!==gt.getTextContentSize()&&([gt]=gt.splitText(ct)),gt.setFormat(mt)),dt+=1;dt<ht;dt++){let xt=lt[dt];if(!xt.isToken()){let vt=xt.getFormatFlags(it,mt);xt.setFormat(vt)}}at.type==="text"&&at.set(pt.__key,ut,"text"),st.type==="text"&&st.set(gt.__key,ct,"text"),this.format=ft|mt}}}}}insertNodes(it,at){if(!this.isCollapsed()){var lt=this.isBackward()?this.anchor:this.focus,st=lt.getNode().getNextSibling();if(st=st?st.getKey():null,lt=(lt=lt.getNode().getPreviousSibling())?lt.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===st&&this.focus.offset===0){var ct=L$1();this.focus.getNode().insertBefore(ct)}else this.focus.key===lt&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(ct=L$1(),this.focus.getNode().insertAfter(ct));ct&&(this.focus.set(ct.__key,0,"text"),this.anchor.set(ct.__key,0,"text"))}}ct=this.anchor,lt=ct.offset;var ut=ct.getNode();st=ut,ct.type==="element"&&(ct=ct.getNode(),st=ct.getChildAtIndex(lt-1),st=st===null?ct:st),ct=[];var ft=ut.getNextSiblings(),dt=N$1(ut)?null:ut.getTopLevelElementOrThrow();if(B$4(ut))if(st=ut.getTextContent().length,lt===0&&st!==0)st=ut.getPreviousSibling(),st=st!==null?st:ut.getParentOrThrow(),ct.push(ut);else if(lt===st)st=ut;else{if(ut.isToken())return!1;[st,ut]=ut.splitText(lt),ct.push(ut)}ut=st,ct.push(...ft),ft=it[0];var pt=!1,ht=null;for(let vt=0;vt<it.length;vt++){var gt=it[vt];if(N$1(st)||z$4(st)||!F$4(gt)||gt.isInline())pt&&!F$4(gt)&&!z$4(gt)&&N$1(st.getParent())&&q$4(28);else{if(gt.is(ft)){if(F$4(st)&&st.isEmpty()&&st.canReplaceWith(gt)){st.replace(gt),st=gt,pt=!0;continue}if(pt=gt.getFirstDescendant(),Sb(pt)){for(var mt=pt.getParentOrThrow();mt.isInline();)mt=mt.getParentOrThrow();if(ht=mt.getChildren(),pt=ht.length,F$4(st)){var xt=st.getFirstChild();for(let $t=0;$t<pt;$t++){let _t=ht[$t];xt===null?st.append(_t):xt.insertAfter(_t),xt=_t}}else{for(xt=pt-1;0<=xt;xt--)st.insertAfter(ht[xt]);st=st.getParentOrThrow()}if(ht=ht[pt-1],mt.remove(),pt=!0,mt.is(gt))continue}}B$4(st)&&(dt===null&&q$4(27),st=dt)}pt=!1,F$4(st)&&!st.isInline()?(ht=gt,z$4(gt)&&!gt.isInline()?st=st.insertAfter(gt,!1):F$4(gt)?(gt.canBeEmpty()||!gt.isEmpty())&&(M(st)?(mt=st.getChildAtIndex(lt),mt!==null?mt.insertBefore(gt):st.append(gt),st=gt):gt.isInline()?(st.append(gt),st=gt):st=st.insertAfter(gt,!1)):(mt=st.getFirstChild(),mt!==null?mt.insertBefore(gt):st.append(gt),st=gt)):!F$4(gt)||F$4(gt)&&gt.isInline()||z$4(st)&&!st.isInline()?(ht=gt,C$2(this)&&z$4(gt)&&(F$4(st)||B$4(st))&&!gt.isInline()?(B$4(st)?(mt=st.getParentOrThrow(),[st]=st.splitText(lt),st=st.getIndexWithinParent()+1):(mt=st,st=lt),[,st]=yc(mt,st),st=st.insertBefore(gt)):st=st.insertAfter(gt,!1)):(gt=st.getParentOrThrow(),Tb(st)&&st.remove(),st=gt,vt--)}if(at&&(B$4(ut)?ut.select():(it=st.getPreviousSibling(),B$4(it)?it.select():(it=st.getIndexWithinParent(),st.getParentOrThrow().select(it,it)))),F$4(st)){if(it=B$4(ht)?ht:F$4(ht)&&ht.isInline()?ht.getLastDescendant():st.getLastDescendant(),at||(it===null?st.select():B$4(it)?it.getTextContent()===""?it.selectPrevious():it.select():it.selectNext()),ct.length!==0)for(at=st,it=ct.length-1;0<=it;it--)lt=ct[it],dt=lt.getParentOrThrow(),!F$4(st)||re$1(lt)||z$4(lt)&&(!lt.isInline()||lt.isIsolated())?F$4(st)||re$1(lt)?F$4(lt)&&!lt.canInsertAfter(st)?(ut=dt.constructor.clone(dt),F$4(ut)||q$4(29),ut.append(lt),st.insertAfter(ut)):st.insertAfter(lt):(st.insertBefore(lt),st=lt):(at===st?st.append(lt):st.insertBefore(lt),st=lt),dt.isEmpty()&&!dt.canBeEmpty()&&dt.remove()}else at||(B$4(st)?st.select():(at=st.getParentOrThrow(),it=st.getIndexWithinParent()+1,at.select(it,it)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var it=this.anchor,at=it.offset,lt=[];if(it.type==="text"){var st=it.getNode(),ct=st.getNextSiblings().reverse(),ut=st.getParentOrThrow(),ft=ut.isInline(),dt=ft?ut.getTextContentSize():st.getTextContentSize();at===0?ct.push(st):(ft&&(lt=ut.getNextSiblings()),at===dt||ft&&at===st.getTextContentSize()||([,st]=st.splitText(at),ct.push(st)))}else{if(ut=it.getNode(),N$1(ut)){ct=ae(),lt=ut.getChildAtIndex(at),ct.select(),lt!==null?lt.insertBefore(ct,!1):ut.append(ct);return}ct=ut.getChildren().slice(at).reverse()}if(st=ct.length,at===0&&0<st&&ut.isInline()){if(lt=ut.getParentOrThrow(),ct=lt.insertNewAfter(this,!1),F$4(ct))for(lt=lt.getChildren(),ut=0;ut<lt.length;ut++)ct.append(lt[ut])}else if(ft=ut.insertNewAfter(this,!1),ft===null)this.insertLineBreak();else if(F$4(ft))if(dt=ut.getFirstChild(),at===0&&(ut.is(it.getNode())||dt&&dt.is(it.getNode()))&&0<st)ut.insertBefore(ft);else{if(ut=null,at=lt.length,it=ft.getParentOrThrow(),0<at)for(dt=0;dt<at;dt++)it.append(lt[dt]);if(st!==0)for(lt=0;lt<st;lt++)at=ct[lt],ut===null?ft.append(at):ut.insertBefore(at),ut=at;ft.canBeEmpty()||ft.getChildrenSize()!==0?ft.selectStart():(ft.selectPrevious(),ft.remove())}}insertLineBreak(it){let at=pe();var lt=this.anchor;lt.type==="element"&&(lt=lt.getNode(),M(lt)&&this.insertParagraph()),it?this.insertNodes([at],!0):this.insertNodes([at])&&at.selectNext(0,0)}getCharacterOffsets(){return je(this)}extract(){var it=this.getNodes(),at=it.length,lt=at-1,st=this.anchor;let ct=this.focus;var ut=it[0];let ft=it[lt],[dt,pt]=je(this);return at===0?[]:at===1?B$4(ut)&&!this.isCollapsed()?(it=dt>pt?pt:dt,lt=ut.splitText(it,dt>pt?dt:pt),it=it===0?lt[0]:lt[1],it!=null?[it]:[]):[ut]:(at=st.isBefore(ct),B$4(ut)&&(st=at?dt:pt,st===ut.getTextContentSize()?it.shift():st!==0&&([,ut]=ut.splitText(st),it[0]=ut)),B$4(ft)&&(ut=ft.getTextContent().length,at=at?pt:dt,at===0?it.pop():at!==ut&&([ft]=ft.splitText(at),it[lt]=ft)),it)}modify(it,at,lt){var st=this.focus,ct=this.anchor,ut=it==="move",ft=nc(st,at);if(z$4(ft)&&!ft.isIsolated())ut&&ft.isKeyboardSelectable()?(at=se(),at.add(ft.__key),yb(at)):(it=at?ft.getPreviousSibling():ft.getNextSibling(),B$4(it)?(ft=it.__key,at=at?it.getTextContent().length:0,st.set(ft,at,"text"),ut&&ct.set(ft,at,"text")):(lt=ft.getParentOrThrow(),F$4(it)?(lt=it.__key,ft=at?it.getChildrenSize():0):(ft=ft.getIndexWithinParent(),lt=lt.__key,at||ft++),st.set(lt,ft,"element"),ut&&ct.set(lt,ft,"element")));else if(ct=H$1(),st=E$4(ct._window)){var dt=ct._blockCursorElement,pt=ct._rootElement;if(pt===null||dt===null||!F$4(ft)||ft.isInline()||ft.canBeEmpty()||xc(dt,ct,pt),st.modify(it,at?"backward":"forward",lt),0<st.rangeCount&&(ft=st.getRangeAt(0),ct=this.anchor.getNode(),ct=M(ct)?ct:sc(ct),this.applyDOMRange(ft),this.dirty=!0,!ut)){for(ut=this.getNodes(),it=[],lt=!1,dt=0;dt<ut.length;dt++)pt=ut[dt],rc(pt,ct)?it.push(pt):lt=!0;lt&&0<it.length&&(at?(at=it[0],F$4(at)?at.selectStart():at.getParentOrThrow().selectStart()):(at=it[it.length-1],F$4(at)?at.selectEnd():at.getParentOrThrow().selectEnd())),(st.anchorNode!==ft.startContainer||st.anchorOffset!==ft.startOffset)&&(at=this.focus,ut=this.anchor,st=ut.key,ft=ut.offset,ct=ut.type,ee(ut,at.key,at.offset,at.type),ee(at,st,ft,ct),this._cachedNodes=null)}}}deleteCharacter(it){if(this.isCollapsed()){var at=this.anchor,lt=this.focus,st=at.getNode();if(!it&&(at.type==="element"&&F$4(st)&&at.offset===st.getChildrenSize()||at.type==="text"&&at.offset===st.getTextContentSize())){var ct=st.getParent();if(ct=st.getNextSibling()||(ct===null?null:ct.getNextSibling()),F$4(ct)&&!ct.canExtractContents())return}if(ct=nc(lt,it),z$4(ct)&&!ct.isIsolated()){ct.isKeyboardSelectable()&&F$4(st)&&st.getChildrenSize()===0?(st.remove(),it=se(),it.add(ct.__key),yb(it)):ct.remove();return}if(this.modify("extend",it,"character"),this.isCollapsed()){if(it&&at.offset===0&&(at.type==="element"?at.getNode():at.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(ct=lt.type==="text"?lt.getNode():null,st=at.type==="text"?at.getNode():null,ct!==null&&ct.isSegmented()){if(at=lt.offset,lt=ct.getTextContentSize(),ct.is(st)||it&&at!==lt||!it&&at!==0){te(ct,it,at);return}}else if(st!==null&&st.isSegmented()&&(at=at.offset,lt=st.getTextContentSize(),st.is(ct)||it&&at!==0||!it&&at!==lt)){te(st,it,at);return}if(st=this.anchor,ct=this.focus,at=st.getNode(),lt=ct.getNode(),at===lt&&st.type==="text"&&ct.type==="text"){var ut=st.offset,ft=ct.offset;let dt=ut<ft;lt=dt?ut:ft,ft=dt?ft:ut,ut=ft-1,lt!==ut&&(at=at.getTextContent().slice(lt,ft),ec(at)||(it?ct.offset=ut:st.offset=ut))}}}st=this.isCollapsed(),this.removeText(),it&&!st&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(it=this.anchor.getNode(),it.isEmpty()&&M(it.getParent())&&it.getIndexWithinParent()===0&&it.collapseAtStart(this))}deleteLine(it){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",it,"lineboundary"),(it?this.focus:this.anchor).offset===0&&this.modify("extend",it,"character")),this.removeText()}deleteWord(it){this.isCollapsed()&&this.modify("extend",it,"word"),this.removeText()}}function Qd(rt){return rt instanceof fe}function ue(rt){let it=rt.offset;return rt.type==="text"?it:(rt=rt.getNode(),it===rt.getChildrenSize()?rt.getTextContent().length:0)}function je(rt){let it=rt.anchor;return rt=rt.focus,it.type==="element"&&rt.type==="element"&&it.key===rt.key&&it.offset===rt.offset?[0,0]:[ue(it),ue(rt)]}function te(rt,it,at){let lt=rt.getTextContent().split(/(?=\s)/g),st=lt.length,ct=0,ut=0;for(let ft=0;ft<st;ft++){let dt=lt[ft],pt=ft===st-1;if(ut=ct,ct+=dt.length,it&&ct===at||ct>at||pt){lt.splice(ft,1),pt&&(ut=void 0);break}}it=lt.join("").trim(),it===""?rt.remove():(rt.setTextContent(it),rt.select(ut,ut))}function Ee(rt,it,at,lt){var st=it;if(rt.nodeType===1){let ft=!1;var ct=rt.childNodes,ut=ct.length;st===ut&&(ft=!0,st=ut-1);let dt=ct[st];if(ut=!1,dt===lt._blockCursorElement?(dt=ct[st+1],ut=!0):lt._blockCursorElement!==null&&st--,lt=dc(dt),B$4(lt))st=ft?lt.getTextContentSize():0;else{if(ct=dc(rt),ct===null)return null;if(F$4(ct)?(rt=ct.getChildAtIndex(st),(it=F$4(rt))&&(it=rt.getParent(),it=at===null||it===null||!it.canBeEmpty()||it!==at.getNode()),it&&(at=ft?rt.getLastDescendant():rt.getFirstDescendant(),at===null?(ct=rt,st=0):(rt=at,ct=F$4(rt)?rt:rt.getParentOrThrow())),B$4(rt)?(lt=rt,ct=null,st=ft?rt.getTextContentSize():0):rt!==ct&&ft&&!ut&&st++):(st=ct.getIndexWithinParent(),st=it===0&&z$4(ct)&&dc(rt)===ct?st:st+1,ct=ct.getParentOrThrow()),F$4(ct))return new be(ct.__key,st,"element")}}else lt=dc(rt);return B$4(lt)?new be(lt.__key,st,"text"):null}function Fe(rt,it,at){var lt=rt.offset,st=rt.getNode();lt===0?(lt=st.getPreviousSibling(),st=st.getParent(),it?(at||!it)&&lt===null&&F$4(st)&&st.isInline()&&(it=st.getPreviousSibling(),B$4(it)&&(rt.key=it.__key,rt.offset=it.getTextContent().length)):F$4(lt)&&!at&&lt.isInline()?(rt.key=lt.__key,rt.offset=lt.getChildrenSize(),rt.type="element"):B$4(lt)&&(rt.key=lt.__key,rt.offset=lt.getTextContent().length)):lt===st.getTextContent().length&&(lt=st.getNextSibling(),st=st.getParent(),it&&F$4(lt)&&lt.isInline()?(rt.key=lt.__key,rt.offset=0,rt.type="element"):(at||it)&&lt===null&&F$4(st)&&st.isInline()&&!st.canInsertTextAfter()&&(it=st.getNextSibling(),B$4(it)&&(rt.key=it.__key,rt.offset=0)))}function qe(rt,it,at){if(rt.type==="text"&&it.type==="text"){var lt=rt.isBefore(it);let st=rt.is(it);Fe(rt,lt,st),Fe(it,!lt,st),st&&(it.key=rt.key,it.offset=rt.offset,it.type=rt.type),lt=H$1(),lt.isComposing()&&lt._compositionKey!==rt.key&&C$2(at)&&(lt=at.anchor,at=at.focus,ee(rt,lt.key,lt.offset,lt.type),ee(it,at.key,at.offset,at.type))}}function oe(rt,it,at,lt,st,ct){return rt===null||at===null||!Gb(st,rt,at)||(it=Ee(rt,it,C$2(ct)?ct.anchor:null,st),it===null)||(lt=Ee(at,lt,C$2(ct)?ct.focus:null,st),lt===null||it.type==="element"&&lt.type==="element"&&(rt=dc(rt),at=dc(at),z$4(rt)&&z$4(at)))?null:(qe(it,lt,ct),[it,lt])}function re$1(rt){return F$4(rt)&&!rt.isInline()}function Ge(rt,it,at,lt,st,ct){let ut=I$1();return rt=new ge(new be(rt,it,st),new be(at,lt,ct),0,""),rt.dirty=!0,ut._selection=rt}function se(){return new fe(new Set)}function He(rt){let it=rt.getEditorState()._selection,at=E$4(rt._window);return Qd(it)||ie(it)?it.clone():Ud(it,at,rt)}function Ud(rt,it,at){var lt=at._window;if(lt===null)return null;var st=lt.event,ct=st?st.type:void 0;lt=ct==="selectionchange",st=!pb&&(lt||ct==="beforeinput"||ct==="compositionstart"||ct==="compositionend"||ct==="click"&&st&&st.detail===3||ct==="drop"||ct===void 0);let ut;if(!C$2(rt)||st){if(it===null)return null;if(st=it.anchorNode,ct=it.focusNode,ut=it.anchorOffset,it=it.focusOffset,lt&&C$2(rt)&&!Gb(at,st,ct))return rt.clone()}else return rt.clone();if(at=oe(st,ut,ct,it,at,rt),at===null)return null;let[ft,dt]=at;return new ge(ft,dt,C$2(rt)?rt.format:0,C$2(rt)?rt.style:"")}function v$1(){return I$1()._selection}function ic(){return H$1()._editorState._selection}function Yd(rt,it,at,lt=1){var st=rt.anchor,ct=rt.focus,ut=st.getNode(),ft=ct.getNode();if(it.is(ut)||it.is(ft))if(ut=it.__key,rt.isCollapsed())it=st.offset,at<=it&&(at=Math.max(0,it+lt),st.set(ut,at,"element"),ct.set(ut,at,"element"),Ie(rt));else{var dt=rt.isBackward();ft=dt?ct:st;var pt=ft.getNode();st=dt?st:ct,ct=st.getNode(),it.is(pt)&&(pt=ft.offset,at<=pt&&ft.set(ut,Math.max(0,pt+lt),"element")),it.is(ct)&&(it=st.offset,at<=it&&st.set(ut,Math.max(0,it+lt),"element")),Ie(rt)}}function Ie(rt){var it=rt.anchor,at=it.offset;let lt=rt.focus;var st=lt.offset,ct=it.getNode(),ut=lt.getNode();if(rt.isCollapsed())F$4(ct)&&(ut=ct.getChildrenSize(),ut=(st=at>=ut)?ct.getChildAtIndex(ut-1):ct.getChildAtIndex(at),B$4(ut)&&(at=0,st&&(at=ut.getTextContentSize()),it.set(ut.__key,at,"text"),lt.set(ut.__key,at,"text")));else{if(F$4(ct)){let ft=ct.getChildrenSize();at=(rt=at>=ft)?ct.getChildAtIndex(ft-1):ct.getChildAtIndex(at),B$4(at)&&(ct=0,rt&&(ct=at.getTextContentSize()),it.set(at.__key,ct,"text"))}F$4(ut)&&(at=ut.getChildrenSize(),st=(it=st>=at)?ut.getChildAtIndex(at-1):ut.getChildAtIndex(st),B$4(st)&&(ut=0,it&&(ut=st.getTextContentSize()),lt.set(st.__key,ut,"text")))}}function Je(rt,it){if(it=it.getEditorState()._selection,rt=rt._selection,C$2(rt)){var at=rt.anchor;let lt=rt.focus,st;at.type==="text"&&(st=at.getNode(),st.selectionTransform(it,rt)),lt.type==="text"&&(at=lt.getNode(),st!==at&&at.selectionTransform(it,rt))}}function Xd(rt,it,at,lt,st){let ct=null,ut=0,ft=null;lt!==null?(ct=lt.__key,B$4(lt)?(ut=lt.getTextContentSize(),ft="text"):F$4(lt)&&(ut=lt.getChildrenSize(),ft="element")):st!==null&&(ct=st.__key,B$4(st)?ft="text":F$4(st)&&(ft="element")),ct!==null&&ft!==null?rt.set(ct,ut,ft):(ut=it.getIndexWithinParent(),ut===-1&&(ut=at.getChildrenSize()),rt.set(at.__key,ut,"element"))}function Ke(rt,it,at,lt,st){rt.type==="text"?(rt.key=at,it||(rt.offset+=st)):rt.offset>lt.getIndexWithinParent()&&--rt.offset}function ne(rt,it,at){let lt=[],st=null,ct=null;rt=rt.getChildren();for(let ht=0;ht<rt.length;ht++){var ut=rt[ht];le(ut)||q$4(108);var ft=ut.getChildren();ut=0;for(let gt of ft){for(ke(gt)||q$4(109);lt[ht]!==void 0&&lt[ht][ut]!==void 0;)ut++;ft=ht;var dt=ut,pt=gt;let mt={cell:pt,startColumn:dt,startRow:ft},xt=pt.__rowSpan,vt=pt.__colSpan;for(let $t=0;$t<xt;$t++){lt[ft+$t]===void 0&&(lt[ft+$t]=[]);for(let _t=0;_t<vt;_t++)lt[ft+$t][dt+_t]=mt}it.is(pt)&&(st=mt),at.is(pt)&&(ct=mt),ut+=gt.__colSpan}}return st===null&&q$4(110),ct===null&&q$4(111),[lt,st,ct]}let V$1=null,W=null,Z=!1,Le=!1,Vb=0,Me={characterData:!0,childList:!0,subtree:!0};function Zb(){return Z||V$1!==null&&V$1._readOnly}function G$2(){Z&&q$4(13)}function I$1(){return V$1===null&&q$4(15),V$1}function H$1(){return W===null&&q$4(16),W}function Ne(rt,it,at){var lt=it.__type;let st=rt._nodes.get(lt);for(st===void 0&&q$4(30),rt=at.get(lt),rt===void 0&&(rt=Array.from(st.transforms),at.set(lt,rt)),at=rt.length,lt=0;lt<at&&(rt[lt](it),it.isAttached());lt++);}function Oe(rt,it){it=it._dirtyLeaves,rt=rt._nodeMap;for(let at of it)it=rt.get(at),B$4(it)&&it.isAttached()&&it.isSimpleText()&&!it.isUnmergeable()&&Fc(it)}function Pe(rt,it){let at=it._dirtyLeaves,lt=it._dirtyElements;rt=rt._nodeMap;let st=Yb(),ct=new Map;var ut=at;let ft=ut.size;for(var dt=lt,pt=dt.size;0<ft||0<pt;){if(0<ft){it._dirtyLeaves=new Set;for(let ht of ut)ut=rt.get(ht),B$4(ut)&&ut.isAttached()&&ut.isSimpleText()&&!ut.isUnmergeable()&&Fc(ut),ut!==void 0&&ut!==void 0&&ut.__key!==st&&ut.isAttached()&&Ne(it,ut,ct),at.add(ht);if(ut=it._dirtyLeaves,ft=ut.size,0<ft){Vb++;continue}}it._dirtyLeaves=new Set,it._dirtyElements=new Map;for(let ht of dt)dt=ht[0],pt=ht[1],(dt==="root"||pt)&&(ut=rt.get(dt),ut!==void 0&&ut!==void 0&&ut.__key!==st&&ut.isAttached()&&Ne(it,ut,ct),lt.set(dt,pt));ut=it._dirtyLeaves,ft=ut.size,dt=it._dirtyElements,pt=dt.size,Vb++}it._dirtyLeaves=at,it._dirtyElements=lt}function Qe(rt,it){var at=it.get(rt.type);if(at===void 0&&q$4(17),at=at.klass,rt.type!==at.getType()&&q$4(18),at=at.importJSON(rt),rt=rt.children,F$4(at)&&Array.isArray(rt))for(let lt=0;lt<rt.length;lt++){let st=Qe(rt[lt],it);at.append(st)}return at}function Re(rt,it){let at=V$1,lt=Z,st=W;V$1=rt,Z=!0,W=null;try{return it()}finally{V$1=at,Z=lt,W=st}}function Se(rt){let it=rt._pendingEditorState,at=rt._rootElement,lt=rt._headless||at===null;if(it!==null){var st=rt._editorState,ct=st._selection,ut=it._selection,ft=rt._dirtyType!==0,dt=V$1,pt=Z,ht=W,gt=rt._updating,mt=rt._observer,xt=null;if(rt._pendingEditorState=null,rt._editorState=it,!lt&&ft&&mt!==null){W=rt,V$1=it,Z=!1,rt._updating=!0;try{let gn=rt._dirtyType,mn=rt._dirtyElements,_n=rt._dirtyLeaves;mt.disconnect();var vt=gn,$t=mn,_t=_n;R=Qc=Q$1="",Tc=vt===2,Wc=null,S=rt,Rc=rt._config,Sc=rt._nodes,Vc=S._listeners.mutation,Xc=$t,Yc=_t,Zc=st._nodeMap,$c=it._nodeMap,Uc=it._readOnly,ad=new Map(rt._keyToDOMMap);let jt=new Map;bd=jt,pd("root",null),bd=ad=Rc=$c=Zc=Yc=Xc=Sc=S=void 0,xt=jt}catch(gn){if(gn instanceof Error&&rt._onError(gn),Le)throw gn;Te(rt,null,at,it),Bb(rt),rt._dirtyType=2,Le=!0,Se(rt),Le=!1;return}finally{mt.observe(at,Me),rt._updating=gt,V$1=dt,Z=pt,W=ht}}it._readOnly||(it._readOnly=!0);var yt=rt._dirtyLeaves,Et=rt._dirtyElements,wt=rt._normalizedNodes,bt=rt._updateTags,St=rt._deferred;ft&&(rt._dirtyType=0,rt._cloneNotNeeded.clear(),rt._dirtyLeaves=new Set,rt._dirtyElements=new Map,rt._normalizedNodes=new Set,rt._updateTags=new Set);var Tt=rt._decorators,Rt=rt._pendingDecorators||Tt,kt=it._nodeMap,At;for(At in Rt)kt.has(At)||(Rt===Tt&&(Rt=$b(rt)),delete Rt[At]);var Ct=lt?null:E$4(rt._window);if(rt._editable&&Ct!==null&&(ft||ut===null||ut.dirty)){W=rt,V$1=it;try{if(mt!==null&&mt.disconnect(),ft||ut===null||ut.dirty){let gn=rt._blockCursorElement;gn!==null&&xc(gn,rt,at);e:{let mn=Ct.anchorNode,_n=Ct.focusNode,jt=Ct.anchorOffset,xn=Ct.focusOffset,vn=document.activeElement;if(!(bt.has("collaboration")&&vn!==at||vn!==null&&Fb(vn)))if(C$2(ut)){var Mt=ut.anchor,Ot=ut.focus,Nt=Mt.key,It=Ot.key,Dt=pc(rt,Nt),zt=pc(rt,It),Yt=Mt.offset,Pt=Ot.offset,Lt=ut.format,Ft=ut.style,qt=ut.isCollapsed(),Gt=Dt,Ut=zt,Vt=!1;if(Mt.type==="text"){Gt=Qb(Dt);let wn=Mt.getNode();Vt=wn.getFormat()!==Lt||wn.getStyle()!==Ft}else C$2(ct)&&ct.anchor.type==="text"&&(Vt=!0);if(Ot.type==="text"&&(Ut=Qb(zt)),Gt!==null&&Ut!==null){if(qt&&(ct===null||Vt||C$2(ct)&&(ct.format!==Lt||ct.style!==Ft))){var Wt=performance.now();Jd=[Lt,Ft,Yt,Nt,Wt]}if(jt===Yt&&xn===Pt&&mn===Gt&&_n===Ut&&(Ct.type!=="Range"||!qt)&&(vn!==null&&at.contains(vn)||at.focus({preventScroll:!0}),Mt.type!=="element"))break e;try{Ct.setBaseAndExtent(Gt,Yt,Ut,Pt)}catch{}if(!bt.has("skip-scroll-into-view")&&ut.isCollapsed()&&at!==null&&at===document.activeElement){let wn=ut instanceof ge&&ut.anchor.type==="element"?Gt.childNodes[Yt]||null:0<Ct.rangeCount?Ct.getRangeAt(0):null;if(wn!==null){let En=wn.getBoundingClientRect(),Zt=at.ownerDocument,sn=Zt.defaultView;if(sn!==null)for(var{top:ln,bottom:pn}=En,Sn,Kt,cn=at;cn!==null;){let Jt=cn===Zt.body;if(Jt)Sn=0,Kt=Cb(rt).innerHeight;else{let yn=cn.getBoundingClientRect();Sn=yn.top,Kt=yn.bottom}let dn=0;if(ln<Sn?dn=-(Sn-ln):pn>Kt&&(dn=pn-Kt),dn!==0)if(Jt)sn.scrollBy(0,dn);else{let yn=cn.scrollTop;cn.scrollTop+=dn;let $n=cn.scrollTop-yn;ln-=$n,pn-=$n}if(Jt)break;cn=Ib(cn)}}}Fd=!0}}else ct!==null&&Gb(rt,mn,_n)&&Ct.removeAllRanges()}}e:{let gn=rt._blockCursorElement;if(C$2(ut)&&ut.isCollapsed()&&ut.anchor.type==="element"&&at.contains(document.activeElement)){let mn=ut.anchor,_n=mn.getNode(),jt=mn.offset,xn=_n.getChildrenSize(),vn=!1,wn=null;if(jt===xn){let En=_n.getChildAtIndex(jt-1);wc(En)&&(vn=!0)}else{let En=_n.getChildAtIndex(jt);if(wc(En)){let Zt=En.getPreviousSibling();(Zt===null||wc(Zt))&&(vn=!0,wn=rt.getElementByKey(En.__key))}}if(vn){let En=rt.getElementByKey(_n.__key);if(gn===null){let Zt=rt._config.theme,sn=document.createElement("div");sn.contentEditable="false",sn.setAttribute("data-lexical-cursor","true");let Jt=Zt.blockCursor;if(Jt!==void 0){if(typeof Jt=="string"){let dn=Jt.split(" ");Jt=Zt.blockCursor=dn}Jt!==void 0&&sn.classList.add(...Jt)}rt._blockCursorElement=gn=sn}at.style.caretColor="transparent",wn===null?En.appendChild(gn):En.insertBefore(gn,wn);break e}}gn!==null&&xc(gn,rt,at)}mt!==null&&mt.observe(at,Me)}finally{W=ht,V$1=dt}}if(xt!==null){var hn=xt;let gn=Array.from(rt._listeners.mutation),mn=gn.length;for(let _n=0;_n<mn;_n++){let[jt,xn]=gn[_n],vn=hn.get(xn);vn!==void 0&&jt(vn,{dirtyLeaves:yt,updateTags:bt})}}C$2(ut)||ut===null||ct!==null&&ct.is(ut)||rt.dispatchCommand(aa,void 0);var Ht=rt._pendingDecorators;Ht!==null&&(rt._decorators=Ht,rt._pendingDecorators=null,Ue("decorator",rt,!0,Ht));var bn=ac(st),Qt=ac(it);if(bn!==Qt&&Ue("textcontent",rt,!0,Qt),Ue("update",rt,!0,{dirtyElements:Et,dirtyLeaves:yt,editorState:it,normalizedNodes:wt,prevEditorState:st,tags:bt}),rt._deferred=[],St.length!==0){let gn=rt._updating;rt._updating=!0;try{for(let mn=0;mn<St.length;mn++)St[mn]()}finally{rt._updating=gn}}var Xt=rt._updates;if(Xt.length!==0){let gn=Xt.shift();if(gn){let[mn,_n]=gn;Ve(rt,mn,_n)}}}}function Ue(rt,it,at,...lt){let st=it._updating;it._updating=at;try{let ct=Array.from(it._listeners[rt]);for(rt=0;rt<ct.length;rt++)ct[rt].apply(null,lt)}finally{it._updating=st}}function T(rt,it,at){if(rt._updating===!1||W!==rt){let ct=!1;return rt.update(()=>{ct=T(rt,it,at)}),ct}let lt=fc(rt);for(let ct=4;0<=ct;ct--)for(let ut=0;ut<lt.length;ut++){var st=lt[ut]._commands.get(it);if(st!==void 0&&(st=st[ct],st!==void 0)){st=Array.from(st);let ft=st.length;for(let dt=0;dt<ft;dt++)if(st[dt](at,rt)===!0)return!0}}return!1}function We(rt,it){let at=rt._updates;for(it=it||!1;at.length!==0;){var lt=at.shift();if(lt){let[st,ct]=lt,ut;ct!==void 0&&(lt=ct.onUpdate,ut=ct.tag,ct.skipTransforms&&(it=!0),lt&&rt._deferred.push(lt),ut&&rt._updateTags.add(ut)),st()}}return it}function Ve(rt,it,at){let lt=rt._updateTags;var st,ct=st=!1;if(at!==void 0){var ut=at.onUpdate;st=at.tag,st!=null&&lt.add(st),st=at.skipTransforms||!1,ct=at.discrete||!1}ut&&rt._deferred.push(ut),at=rt._editorState,ut=rt._pendingEditorState;let ft=!1;(ut===null||ut._readOnly)&&(ut=rt._pendingEditorState=new Xe(new Map((ut||at)._nodeMap)),ft=!0),ut._flushSync=ct,ct=V$1;let dt=Z,pt=W,ht=rt._updating;V$1=ut,Z=!1,rt._updating=!0,W=rt;try{ft&&(rt._headless?at._selection!=null&&(ut._selection=at._selection.clone()):ut._selection=He(rt));let gt=rt._compositionKey;it(),st=We(rt,st),Je(ut,rt),rt._dirtyType!==0&&(st?Oe(ut,rt):Pe(ut,rt),We(rt),Cc(at,ut,rt._dirtyLeaves,rt._dirtyElements)),gt!==rt._compositionKey&&(ut._flushSync=!0);let mt=ut._selection;if(C$2(mt)){let xt=ut._nodeMap,vt=mt.focus.key;xt.get(mt.anchor.key)!==void 0&&xt.get(vt)!==void 0||q$4(19)}else Qd(mt)&&mt._nodes.size===0&&(ut._selection=null)}catch(gt){gt instanceof Error&&rt._onError(gt),rt._pendingEditorState=at,rt._dirtyType=2,rt._cloneNotNeeded.clear(),rt._dirtyLeaves=new Set,rt._dirtyElements.clear(),Se(rt);return}finally{V$1=ct,Z=dt,W=pt,rt._updating=ht,Vb=0}rt._dirtyType!==0||Ye(ut,rt)?ut._flushSync?(ut._flushSync=!1,Se(rt)):ft&&Eb(()=>{Se(rt)}):(ut._flushSync=!1,ft&&(lt.clear(),rt._deferred=[],rt._pendingEditorState=null))}function w$3(rt,it,at){rt._updating?rt._updates.push([it,at]):Ve(rt,it,at)}class Ze extends Zd{constructor(it){super(it)}decorate(){q$4(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function z$4(rt){return rt instanceof Ze}class $e extends Zd{constructor(it){super(it),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let it=this.getFormat();return mb[it]||""}getIndent(){return this.getLatest().__indent}getChildren(){let it=[],at=this.getFirstChild();for(;at!==null;)it.push(at),at=at.getNextSibling();return it}getChildrenKeys(){let it=[],at=this.getFirstChild();for(;at!==null;)it.push(at.__key),at=at.getNextSibling();return it}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let it=H$1()._dirtyElements;return it!==null&&it.has(this.__key)}isLastChild(){let it=this.getLatest(),at=this.getParentOrThrow().getLastChild();return at!==null&&at.is(it)}getAllTextNodes(){let it=[],at=this.getFirstChild();for(;at!==null;){if(B$4(at)&&it.push(at),F$4(at)){let lt=at.getAllTextNodes();it.push(...lt)}at=at.getNextSibling()}return it}getFirstDescendant(){let it=this.getFirstChild();for(;it!==null;){if(F$4(it)){let at=it.getFirstChild();if(at!==null){it=at;continue}}break}return it}getLastDescendant(){let it=this.getLastChild();for(;it!==null;){if(F$4(it)){let at=it.getLastChild();if(at!==null){it=at;continue}}break}return it}getDescendantByIndex(it){let at=this.getChildren(),lt=at.length;return it>=lt?(it=at[lt-1],F$4(it)&&it.getLastDescendant()||it||null):(it=at[it],F$4(it)&&it.getFirstDescendant()||it||null)}getFirstChild(){let it=this.getLatest().__first;return it===null?null:K$1(it)}getFirstChildOrThrow(){let it=this.getFirstChild();return it===null&&q$4(45),it}getLastChild(){let it=this.getLatest().__last;return it===null?null:K$1(it)}getLastChildOrThrow(){let it=this.getLastChild();return it===null&&q$4(96),it}getChildAtIndex(it){var at=this.getChildrenSize();let lt;if(it<at/2){for(lt=this.getFirstChild(),at=0;lt!==null&&at<=it;){if(at===it)return lt;lt=lt.getNextSibling(),at++}return null}for(lt=this.getLastChild(),--at;lt!==null&&at>=it;){if(at===it)return lt;lt=lt.getPreviousSibling(),at--}return null}getTextContent(){let it="",at=this.getChildren(),lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];it+=ct.getTextContent(),F$4(ct)&&st!==lt-1&&!ct.isInline()&&(it+=`

`)}return it}getTextContentSize(){let it=0,at=this.getChildren(),lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];it+=ct.getTextContentSize(),F$4(ct)&&st!==lt-1&&!ct.isInline()&&(it+=2)}return it}getDirection(){return this.getLatest().__dir}hasFormat(it){return it!==""?(it=lb[it],(this.getFormat()&it)!==0):!1}select(it,at){G$2();let lt=v$1(),st=it,ct=at;var ut=this.getChildrenSize();if(!this.canBeEmpty()){if(it===0&&at===0){if(it=this.getFirstChild(),B$4(it)||F$4(it))return it.select(0,0)}else if(!(it!==void 0&&it!==ut||at!==void 0&&at!==ut)&&(it=this.getLastChild(),B$4(it)||F$4(it)))return it.select()}if(st===void 0&&(st=ut),ct===void 0&&(ct=ut),ut=this.__key,C$2(lt))lt.anchor.set(ut,st,"element"),lt.focus.set(ut,ct,"element"),lt.dirty=!0;else return Ge(ut,st,ut,ct,"element","element");return lt}selectStart(){let it=this.getFirstDescendant();return F$4(it)||B$4(it)?it.select(0,0):it!==null?it.selectPrevious():this.select(0,0)}selectEnd(){let it=this.getLastDescendant();return F$4(it)||B$4(it)?it.select():it!==null?it.selectNext():this.select()}clear(){let it=this.getWritable();return this.getChildren().forEach(at=>at.remove()),it}append(...it){return this.splice(this.getChildrenSize(),0,it)}setDirection(it){let at=this.getWritable();return at.__dir=it,at}setFormat(it){return this.getWritable().__format=it!==""?lb[it]:0,this}setIndent(it){return this.getWritable().__indent=it,this}splice(it,at,lt){let st=lt.length,ct=this.getChildrenSize(),ut=this.getWritable(),ft=ut.__key;var dt=[],pt=[];let ht=this.getChildAtIndex(it+at),gt=null,mt=ct-at+st;if(it!==0)if(it===ct)gt=this.getLastChild();else{var xt=this.getChildAtIndex(it);xt!==null&&(gt=xt.getPreviousSibling())}if(0<at){var vt=gt===null?this.getFirstChild():gt.getNextSibling();for(xt=0;xt<at;xt++){vt===null&&q$4(100);var $t=vt.getNextSibling(),_t=vt.__key;vt=vt.getWritable(),Wb(vt),pt.push(_t),vt=$t}}for(xt=gt,$t=0;$t<st;$t++){_t=lt[$t],xt!==null&&_t.is(xt)&&(gt=xt=xt.getPreviousSibling()),vt=_t.getWritable(),vt.__parent===ft&&mt--,Wb(vt);let yt=_t.__key;xt===null?(ut.__first=yt,vt.__prev=null):(xt=xt.getWritable(),xt.__next=yt,vt.__prev=xt.__key),_t.__key===ft&&q$4(76),vt.__parent=ft,dt.push(yt),xt=_t}if(it+at===ct?xt!==null&&(xt.getWritable().__next=null,ut.__last=xt.__key):ht!==null&&(it=ht.getWritable(),xt!==null?(at=xt.getWritable(),it.__prev=xt.__key,at.__next=ht.__key):it.__prev=null),ut.__size=mt,pt.length&&(it=v$1(),C$2(it))){pt=new Set(pt),dt=new Set(dt);let{anchor:yt,focus:Et}=it;af(yt,pt,dt)&&Xd(yt,yt.getNode(),this,gt,ht),af(Et,pt,dt)&&Xd(Et,Et.getNode(),this,gt,ht),mt!==0||this.canBeEmpty()||N$1(this)||this.remove()}return ut}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function F$4(rt){return rt instanceof $e}function af(rt,it,at){for(rt=rt.getNode();rt;){let lt=rt.__key;if(it.has(lt)&&!at.has(lt))return!0;rt=rt.getParent()}return!1}class bf extends $e{static getType(){return"root"}static clone(){return new bf}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){q$4(51)}getTextContent(){let it=this.__cachedText;return!Zb()&&H$1()._dirtyType!==0||it===null?super.getTextContent():it}remove(){q$4(52)}replace(){q$4(53)}insertBefore(){q$4(54)}insertAfter(){q$4(55)}updateDOM(){return!1}append(...it){for(let at=0;at<it.length;at++){let lt=it[at];F$4(lt)||z$4(lt)||q$4(56)}return super.append(...it)}static importJSON(it){let at=bc();return at.setFormat(it.format),at.setIndent(it.indent),at.setDirection(it.direction),at}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function M(rt){return rt instanceof bf}function Ye(rt,it){if(it=it.getEditorState()._selection,rt=rt._selection,rt!==null){if(rt.dirty||!rt.is(it))return!0}else if(it!==null)return!0;return!1}function cf(){return new Xe(new Map([["root",new bf]]))}function df(rt){let it=rt.exportJSON();it.type!==rt.constructor.getType()&&q$4(58);let at=it.children;if(F$4(rt)){Array.isArray(at)||q$4(59),rt=rt.getChildren();for(let lt=0;lt<rt.length;lt++){let st=df(rt[lt]);at.push(st)}}return it}class Xe{constructor(it,at){this._nodeMap=it,this._selection=at||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(it){return Re(this,it)}clone(it){return it=new Xe(this._nodeMap,it===void 0?this._selection:it),it._readOnly=!0,it}toJSON(){return Re(this,()=>({root:df(bc())}))}}class ef extends Zd{static getType(){return"linebreak"}static clone(it){return new ef(it.__key)}constructor(it){super(it)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:it=>{let at=it.parentElement;return at!=null&&at.firstChild===it&&at.lastChild===it?null:{conversion:ff,priority:0}}}}static importJSON(){return pe()}exportJSON(){return{type:"linebreak",version:1}}}function ff(){return{node:pe()}}function pe(){return uc(new ef)}function Tb(rt){return rt instanceof ef}function gf(rt,it){return it&16?"code":it&128?"mark":it&32?"sub":it&64?"sup":null}function hf(rt,it){return it&1?"strong":it&2?"em":"span"}function jf(rt,it,at,lt,st){rt=lt.classList,lt=kc(st,"base"),lt!==void 0&&rt.add(...lt),lt=kc(st,"underlineStrikethrough");let ct=!1,ut=it&8&&it&4;var ft=at&8&&at&4;lt!==void 0&&(ft?(ct=!0,ut||rt.add(...lt)):ut&&rt.remove(...lt));for(let dt in gb)ft=gb[dt],lt=kc(st,dt),lt!==void 0&&(at&ft?!ct||dt!=="underline"&&dt!=="strikethrough"?(!(it&ft)||ut&&dt==="underline"||dt==="strikethrough")&&rt.add(...lt):it&ft&&rt.remove(...lt):it&ft&&rt.remove(...lt))}function kf(rt,it,at){let lt=it.firstChild;if(at=at.isComposing(),rt+=at?cb:"",lt==null)it.textContent=rt;else if(it=lt.nodeValue,it!==rt)if(at||Xa){at=it.length;let st=rt.length,ct=0,ut=0;for(;ct<at&&ct<st&&it[ct]===rt[ct];)ct++;for(;ut+ct<at&&ut+ct<st&&it[at-ut-1]===rt[st-ut-1];)ut++;rt=[ct,at-ct-ut,rt.slice(ct,st-ut)];let[ft,dt,pt]=rt;dt!==0&&lt.deleteData(ft,dt),lt.insertData(ft,pt)}else lt.nodeValue=rt}function lf(rt,it){return it=document.createElement(it),it.appendChild(rt),it}class mf extends Zd{static getType(){return"text"}static clone(it){return new mf(it.__text,it.__key)}constructor(it,at){super(at),this.__text=it,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let it=this.getLatest();return ob[it.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Yb()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(it){return it=gb[it],(this.getFormat()&it)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(it,at){let lt=this.getLatest().__format;return Rb(lt,it,at)}createDOM(it){var at=this.__format,lt=gf(this,at);let st=hf(this,at),ct=document.createElement(lt===null?st:lt),ut=ct;return lt!==null&&(ut=document.createElement(st),ct.appendChild(ut)),lt=ut,kf(this.__text,lt,this),it=it.theme.text,it!==void 0&&jf(st,0,at,lt,it),at=this.__style,at!==""&&(ct.style.cssText=at),ct}updateDOM(it,at,lt){let st=this.__text;var ct=it.__format,ut=this.__format,ft=gf(this,ct);let dt=gf(this,ut);var pt=hf(this,ct);let ht=hf(this,ut);return(ft===null?pt:ft)!==(dt===null?ht:dt)?!0:ft===dt&&pt!==ht?(ct=at.firstChild,ct==null&&q$4(48),it=ft=document.createElement(ht),kf(st,it,this),lt=lt.theme.text,lt!==void 0&&jf(ht,0,ut,it,lt),at.replaceChild(ft,ct),!1):(pt=at,dt!==null&&ft!==null&&(pt=at.firstChild,pt==null&&q$4(49)),kf(st,pt,this),lt=lt.theme.text,lt!==void 0&&ct!==ut&&jf(ht,ct,ut,pt,lt),ut=this.__style,it.__style!==ut&&(at.style.cssText=ut),!1)}static importDOM(){return{"#text":()=>({conversion:nf,priority:0}),b:()=>({conversion:of,priority:0}),br:()=>({conversion:pf,priority:0}),code:()=>({conversion:vf,priority:0}),em:()=>({conversion:vf,priority:0}),i:()=>({conversion:vf,priority:0}),s:()=>({conversion:vf,priority:0}),span:()=>({conversion:wf,priority:0}),strong:()=>({conversion:vf,priority:0}),sub:()=>({conversion:vf,priority:0}),sup:()=>({conversion:vf,priority:0}),u:()=>({conversion:vf,priority:0})}}static importJSON(it){let at=L$1(it.text);return at.setFormat(it.format),at.setDetail(it.detail),at.setMode(it.mode),at.setStyle(it.style),at}exportDOM(it){return{element:it}=super.exportDOM(it),it!==null&&(this.hasFormat("bold")&&(it=lf(it,"b")),this.hasFormat("italic")&&(it=lf(it,"i")),this.hasFormat("strikethrough")&&(it=lf(it,"s")),this.hasFormat("underline")&&(it=lf(it,"u"))),{element:it}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(it){let at=this.getWritable();return at.__format=typeof it=="string"?gb[it]:it,at}setDetail(it){let at=this.getWritable();return at.__detail=typeof it=="string"?kb[it]:it,at}setStyle(it){let at=this.getWritable();return at.__style=it,at}toggleFormat(it){return it=gb[it],this.setFormat(this.getFormat()^it)}toggleDirectionless(){let it=this.getWritable();return it.__detail^=1,it}toggleUnmergeable(){let it=this.getWritable();return it.__detail^=2,it}setMode(it){if(it=nb[it],this.__mode===it)return this;let at=this.getWritable();return at.__mode=it,at}setTextContent(it){if(this.__text===it)return this;let at=this.getWritable();return at.__text=it,at}select(it,at){G$2();let lt=v$1();var st=this.getTextContent();let ct=this.__key;if(typeof st=="string"?(st=st.length,it===void 0&&(it=st),at===void 0&&(at=st)):at=it=0,C$2(lt))st=Yb(),st!==lt.anchor.key&&st!==lt.focus.key||J$1(ct),lt.setTextNodeRange(this,it,this,at);else return Ge(ct,it,ct,at,"text","text");return lt}spliceText(it,at,lt,st){let ct=this.getWritable(),ut=ct.__text,ft=lt.length,dt=it;0>dt&&(dt=ft+dt,0>dt&&(dt=0));let pt=v$1();return st&&C$2(pt)&&(it+=ft,pt.setTextNodeRange(ct,it,ct,it)),at=ut.slice(0,dt)+lt+ut.slice(dt+at),ct.__text=at,ct}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...it){G$2();var at=this.getLatest(),lt=at.getTextContent(),st=at.__key,ct=Yb(),ut=new Set(it);it=[];for(var ft=lt.length,dt="",pt=0;pt<ft;pt++)dt!==""&&ut.has(pt)&&(it.push(dt),dt=""),dt+=lt[pt];if(dt!==""&&it.push(dt),ut=it.length,ut===0)return[];if(it[0]===lt)return[at];var ht=it[0];lt=at.getParentOrThrow(),pt=at.getFormat();let gt=at.getStyle(),mt=at.__detail;ft=!1,at.isSegmented()?(dt=L$1(ht),dt.__format=pt,dt.__style=gt,dt.__detail=mt,ft=!0):(dt=at.getWritable(),dt.__text=ht),at=v$1(),dt=[dt],ht=ht.length;for(let $t=1;$t<ut;$t++){var xt=it[$t],vt=xt.length;xt=L$1(xt).getWritable(),xt.__format=pt,xt.__style=gt,xt.__detail=mt;let _t=xt.__key;if(vt=ht+vt,C$2(at)){let yt=at.anchor,Et=at.focus;yt.key===st&&yt.type==="text"&&yt.offset>ht&&yt.offset<=vt&&(yt.key=_t,yt.offset-=ht,at.dirty=!0),Et.key===st&&Et.type==="text"&&Et.offset>ht&&Et.offset<=vt&&(Et.key=_t,Et.offset-=ht,at.dirty=!0)}ct===st&&J$1(_t),ht=vt,dt.push(xt)}return st=this.getPreviousSibling(),ct=this.getNextSibling(),st!==null&&Xb(st),ct!==null&&Xb(ct),st=lt.getWritable(),ct=this.getIndexWithinParent(),ft?(st.splice(ct,0,dt),this.remove()):st.splice(ct,1,dt),C$2(at)&&Yd(at,lt,ct,ut-1),dt}mergeWithSibling(it){var at=it===this.getPreviousSibling();at||it===this.getNextSibling()||q$4(50);var lt=this.__key;let st=it.__key,ct=this.__text,ut=ct.length;Yb()===st&&J$1(lt);let ft=v$1();if(C$2(ft)){let dt=ft.anchor,pt=ft.focus;dt!==null&&dt.key===st&&(Ke(dt,at,lt,it,ut),ft.dirty=!0),pt!==null&&pt.key===st&&(Ke(pt,at,lt,it,ut),ft.dirty=!0)}return lt=it.__text,this.setTextContent(at?lt+ct:ct+lt),at=this.getWritable(),it.remove(),at}isTextEntity(){return!1}}function wf(rt){let it=rt.style.fontWeight==="700",at=rt.style.textDecoration==="line-through",lt=rt.style.fontStyle==="italic",st=rt.style.textDecoration==="underline",ct=rt.style.verticalAlign;return{forChild:ut=>(B$4(ut)&&(it&&ut.toggleFormat("bold"),at&&ut.toggleFormat("strikethrough"),lt&&ut.toggleFormat("italic"),st&&ut.toggleFormat("underline"),ct==="sub"&&ut.toggleFormat("subscript"),ct==="super"&&ut.toggleFormat("superscript")),ut),node:null}}function pf(){return{node:pe()}}function of(rt){let it=rt.style.fontWeight==="normal";return{forChild:at=>(B$4(at)&&!it&&at.toggleFormat("bold"),at),node:null}}function nf(rt,it,at){return rt=rt.textContent||"",!at&&/\n/.test(rt)&&(rt=rt.replace(/\r?\n/gm," "),rt.trim().length===0)?{node:null}:{node:L$1(rt)}}let xf={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function vf(rt){let it=xf[rt.nodeName.toLowerCase()];return it===void 0?{node:null}:{forChild:at=>(B$4(at)&&!at.hasFormat(it)&&at.toggleFormat(it),at),node:null}}function L$1(rt=""){return uc(new mf(rt))}function B$4(rt){return rt instanceof mf}class yf extends $e{static getType(){return"paragraph"}static clone(it){return new yf(it.__key)}createDOM(it){let at=document.createElement("p");return it=kc(it.theme,"paragraph"),it!==void 0&&at.classList.add(...it),at}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:zf,priority:0})}}exportDOM(it){if({element:it}=super.exportDOM(it),it&&this.isEmpty()&&it.append(document.createElement("br")),it){var at=this.getFormatType();it.style.textAlign=at,(at=this.getDirection())&&(it.dir=at),at=this.getIndent(),0<at&&(it.style.textIndent=`${20*at}px`)}return{element:it}}static importJSON(it){let at=ae();return at.setFormat(it.format),at.setIndent(it.indent),at.setDirection(it.direction),at}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(it,at){it=ae();let lt=this.getDirection();return it.setDirection(lt),this.insertAfter(it,at),it}collapseAtStart(){let it=this.getChildren();if(it.length===0||B$4(it[0])&&it[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function zf(rt){let it=ae();return rt.style&&(it.setFormat(rt.style.textAlign),rt=parseInt(rt.style.textIndent,10)/20,0<rt&&it.setIndent(rt)),{node:it}}function ae(){return uc(new yf)}function Te(rt,it,at,lt){let st=rt._keyToDOMMap;st.clear(),rt._editorState=cf(),rt._pendingEditorState=lt,rt._compositionKey=null,rt._dirtyType=0,rt._cloneNotNeeded.clear(),rt._dirtyLeaves=new Set,rt._dirtyElements.clear(),rt._normalizedNodes=new Set,rt._updateTags=new Set,rt._updates=[],rt._blockCursorElement=null,lt=rt._observer,lt!==null&&(lt.disconnect(),rt._observer=null),it!==null&&(it.textContent=""),at!==null&&(at.textContent="",st.set("root",at))}function Af(rt){let it=new Map,at=new Set;return rt.forEach(lt=>{if(lt=lt.klass.importDOM!=null?lt.klass.importDOM.bind(lt.klass):null,lt!=null&&!at.has(lt)){at.add(lt);var st=lt();st!==null&&Object.keys(st).forEach(ct=>{let ut=it.get(ct);ut===void 0&&(ut=[],it.set(ct,ut)),ut.push(st[ct])})}}),it}class Bf{constructor(it,at,lt,st,ct,ut){this._parentEditor=at,this._rootElement=null,this._editorState=it,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=st,this._nodes=lt,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=gc(),this._onError=ct,this._htmlConversions=ut,this._editable=!0,this._headless=at!==null&&at._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(it){let at=this._listeners.update;return at.add(it),()=>{at.delete(it)}}registerEditableListener(it){let at=this._listeners.editable;return at.add(it),()=>{at.delete(it)}}registerDecoratorListener(it){let at=this._listeners.decorator;return at.add(it),()=>{at.delete(it)}}registerTextContentListener(it){let at=this._listeners.textcontent;return at.add(it),()=>{at.delete(it)}}registerRootListener(it){let at=this._listeners.root;return it(this._rootElement,null),at.add(it),()=>{it(null,this._rootElement),at.delete(it)}}registerCommand(it,at,lt){lt===void 0&&q$4(35);let st=this._commands;st.has(it)||st.set(it,[new Set,new Set,new Set,new Set,new Set]);let ct=st.get(it);ct===void 0&&q$4(36);let ut=ct[lt];return ut.add(at),()=>{ut.delete(at),ct.every(ft=>ft.size===0)&&st.delete(it)}}registerMutationListener(it,at){this._nodes.get(it.getType())===void 0&&q$4(37);let lt=this._listeners.mutation;return lt.set(at,it),()=>{lt.delete(at)}}registerNodeTransformToKlass(it,at){return it=it.getType(),it=this._nodes.get(it),it===void 0&&q$4(37),it.transforms.add(at),it}registerNodeTransform(it,at){var lt=this.registerNodeTransformToKlass(it,at);let st=[lt];return lt=lt.replaceWithKlass,lt!=null&&(lt=this.registerNodeTransformToKlass(lt,at),st.push(lt)),cc(this,it.getType()),()=>{st.forEach(ct=>ct.transforms.delete(at))}}hasNodes(it){for(let at=0;at<it.length;at++){let lt=it[at].getType();if(!this._nodes.has(lt))return!1}return!0}dispatchCommand(it,at){return T(this,it,at)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(it){let at=this._rootElement;if(it!==at){let ct=kc(this._config.theme,"root");var lt=this._pendingEditorState||this._editorState;if(this._rootElement=it,Te(this,at,it,lt),at!==null){if(!this._config.disableEvents){if(Ed!==0&&(Ed--,Ed===0&&at.ownerDocument.removeEventListener("selectionchange",Td)),lt=at.__lexicalEditor,lt!=null){if(lt._parentEditor!==null){var st=fc(lt);st=st[st.length-1]._key,Sd.get(st)===lt&&Sd.delete(st)}else Sd.delete(lt._key);at.__lexicalEditor=null}for(lt=Rd(at),st=0;st<lt.length;st++)lt[st]();at.__lexicalEventHandles=[]}ct!=null&&at.classList.remove(...ct)}it!==null?(lt=(lt=it.ownerDocument)&&lt.defaultView||null,st=it.style,st.userSelect="text",st.whiteSpace="pre-wrap",st.wordBreak="break-word",it.setAttribute("data-lexical-editor","true"),this._window=lt,this._dirtyType=2,Bb(this),this._updateTags.add("history-merge"),Se(this),this._config.disableEvents||Vd(it,this),ct!=null&&it.classList.add(...ct)):this._window=null,Ue("root",this,!1,it,at)}}getElementByKey(it){return this._keyToDOMMap.get(it)||null}getEditorState(){return this._editorState}setEditorState(it,at){it.isEmpty()&&q$4(38),Ab(this);let lt=this._pendingEditorState,st=this._updateTags;at=at!==void 0?at.tag:null,lt===null||lt.isEmpty()||(at!=null&&st.add(at),Se(this)),this._pendingEditorState=it,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,at!=null&&st.add(at),Se(this)}parseEditorState(it,at){it=typeof it=="string"?JSON.parse(it):it;let lt=cf(),st=V$1,ct=Z,ut=W,ft=this._dirtyElements,dt=this._dirtyLeaves,pt=this._cloneNotNeeded,ht=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,V$1=lt,Z=!1,W=this;try{Qe(it.root,this._nodes),at&&at(),lt._readOnly=!0}catch(gt){gt instanceof Error&&this._onError(gt)}finally{this._dirtyElements=ft,this._dirtyLeaves=dt,this._cloneNotNeeded=pt,this._dirtyType=ht,V$1=st,Z=ct,W=ut}return lt}update(it,at){w$3(this,it,at)}focus(it,at={}){let lt=this._rootElement;lt!==null&&(lt.setAttribute("autocapitalize","off"),w$3(this,()=>{let st=v$1(),ct=bc();st!==null?st.dirty=!0:ct.getChildrenSize()!==0&&(at.defaultSelection==="rootStart"?ct.selectStart():ct.selectEnd())},{onUpdate:()=>{lt.removeAttribute("autocapitalize"),it&&it()},tag:"focus"}),this._pendingEditorState===null&&lt.removeAttribute("autocapitalize"))}blur(){var it=this._rootElement;it!==null&&it.blur(),it=E$4(this._window),it!==null&&it.removeAllRanges()}isEditable(){return this._editable}setEditable(it){this._editable!==it&&(this._editable=it,Ue("editable",this,!0,it))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Cf extends $e{constructor(it,at){super(at),this.__colSpan=it,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}setColSpan(it){return this.getWritable().__colSpan=it,this}setRowSpan(it){return this.getWritable().__rowSpan=it,this}}function ke(rt){return rt instanceof Cf}class Df extends $e{}function me(rt){return rt instanceof Df}class Ef extends $e{}function le(rt){return rt instanceof Ef}Lexical_prod.$addUpdateTag=function(rt){G$2(),H$1()._updateTags.add(rt)};Lexical_prod.$applyNodeReplacement=uc;Lexical_prod.$copyNode=tc;Lexical_prod.$createLineBreakNode=pe;Lexical_prod.$createNodeSelection=se;Lexical_prod.$createParagraphNode=ae;Lexical_prod.$createRangeSelection=function(){let rt=new be("root",0,"element"),it=new be("root",0,"element");return new ge(rt,it,0,"")};Lexical_prod.$createTextNode=L$1;Lexical_prod.$getAdjacentNode=nc;Lexical_prod.$getNearestNodeFromDOMNode=vb;Lexical_prod.$getNearestRootOrShadowRoot=sc;Lexical_prod.$getNodeByKey=K$1;Lexical_prod.$getPreviousSelection=ic;Lexical_prod.$getRoot=bc;Lexical_prod.$getSelection=v$1;Lexical_prod.$getTextContent=function(){let rt=v$1();return rt===null?"":rt.getTextContent()};Lexical_prod.$hasAncestor=rc;Lexical_prod.$insertNodes=function(rt,it){let at=v$1();return at===null&&(at=bc().selectEnd()),at.insertNodes(rt,it)};Lexical_prod.$isDecoratorNode=z$4;Lexical_prod.$isElementNode=F$4;Lexical_prod.$isInlineElementOrDecoratorNode=function(rt){return F$4(rt)&&rt.isInline()||z$4(rt)&&rt.isInline()};Lexical_prod.$isLeafNode=Sb;Lexical_prod.$isLineBreakNode=Tb;Lexical_prod.$isNodeSelection=Qd;Lexical_prod.$isParagraphNode=function(rt){return rt instanceof yf};Lexical_prod.$isRangeSelection=C$2;Lexical_prod.$isRootNode=M;Lexical_prod.$isRootOrShadowRoot=N$1;Lexical_prod.$isTextNode=B$4;Lexical_prod.$nodesOfType=function(rt){var it=I$1();let at=it._readOnly,lt=rt.getType();it=it._nodeMap;let st=[];for(let[,ct]of it)ct instanceof rt&&ct.__type===lt&&(at||ct.isAttached())&&st.push(ct);return st};Lexical_prod.$normalizeSelection__EXPERIMENTAL=Gc;Lexical_prod.$parseSerializedNode=function(rt){return Qe(rt,H$1()._nodes)};Lexical_prod.$setCompositionKey=J$1;Lexical_prod.$setSelection=yb;Lexical_prod.$splitNode=yc;Lexical_prod.BLUR_COMMAND=Ta;Lexical_prod.CAN_REDO_COMMAND={};Lexical_prod.CAN_UNDO_COMMAND={};Lexical_prod.CLEAR_EDITOR_COMMAND={};Lexical_prod.CLEAR_HISTORY_COMMAND={};Lexical_prod.CLICK_COMMAND=ba$1;Lexical_prod.COMMAND_PRIORITY_CRITICAL=4;Lexical_prod.COMMAND_PRIORITY_EDITOR=0;Lexical_prod.COMMAND_PRIORITY_HIGH=3;Lexical_prod.COMMAND_PRIORITY_LOW=1;Lexical_prod.COMMAND_PRIORITY_NORMAL=2;Lexical_prod.CONTROLLED_TEXT_INSERTION_COMMAND=la;Lexical_prod.COPY_COMMAND=Qa;Lexical_prod.CUT_COMMAND=Ra;Lexical_prod.DELETE_CHARACTER_COMMAND=ia;Lexical_prod.DELETE_LINE_COMMAND=sa;Lexical_prod.DELETE_WORD_COMMAND=ra;Lexical_prod.DEPRECATED_$computeGridMap=ne;Lexical_prod.DEPRECATED_$createGridSelection=function(){let rt=new be("root",0,"element"),it=new be("root",0,"element");return new he("root",rt,it)};Lexical_prod.DEPRECATED_$getNodeTriplet=function(rt){if(!(rt instanceof Cf)){if(rt instanceof Zd){if(rt=zc(rt,ke),!ke(rt))throw Error("Expected to find a parent GridCellNode")}else if(rt=zc(rt.getNode(),ke),!ke(rt))throw Error("Expected to find a parent GridCellNode")}let it=rt.getParent();if(!le(it))throw Error("Expected GridCellNode to have a parent GridRowNode");let at=it.getParent();if(!me(at))throw Error("Expected GridRowNode to have a parent GridNode");return[rt,it,at]};Lexical_prod.DEPRECATED_$isGridCellNode=ke;Lexical_prod.DEPRECATED_$isGridNode=me;Lexical_prod.DEPRECATED_$isGridRowNode=le;Lexical_prod.DEPRECATED_$isGridSelection=ie;Lexical_prod.DEPRECATED_GridCellNode=Cf;Lexical_prod.DEPRECATED_GridNode=Df;Lexical_prod.DEPRECATED_GridRowNode=Ef;Lexical_prod.DRAGEND_COMMAND=Pa;Lexical_prod.DRAGOVER_COMMAND=Oa;Lexical_prod.DRAGSTART_COMMAND=Na;Lexical_prod.DROP_COMMAND=Ma;Lexical_prod.DecoratorNode=Ze;Lexical_prod.ElementNode=$e;Lexical_prod.FOCUS_COMMAND=Sa;Lexical_prod.FORMAT_ELEMENT_COMMAND={};Lexical_prod.FORMAT_TEXT_COMMAND=ta;Lexical_prod.INDENT_CONTENT_COMMAND={};Lexical_prod.INSERT_LINE_BREAK_COMMAND=ja;Lexical_prod.INSERT_PARAGRAPH_COMMAND=ka;Lexical_prod.KEY_ARROW_DOWN_COMMAND=Da;Lexical_prod.KEY_ARROW_LEFT_COMMAND=Aa;Lexical_prod.KEY_ARROW_RIGHT_COMMAND=ya;Lexical_prod.KEY_ARROW_UP_COMMAND=Ca;Lexical_prod.KEY_BACKSPACE_COMMAND=Ia;Lexical_prod.KEY_DELETE_COMMAND=Ka;Lexical_prod.KEY_DOWN_COMMAND=xa;Lexical_prod.KEY_ENTER_COMMAND=Ga;Lexical_prod.KEY_ESCAPE_COMMAND=Ja;Lexical_prod.KEY_MODIFIER_COMMAND=Ua;Lexical_prod.KEY_SPACE_COMMAND=Ha;Lexical_prod.KEY_TAB_COMMAND=La;Lexical_prod.LineBreakNode=ef;Lexical_prod.MOVE_TO_END=za;Lexical_prod.MOVE_TO_START=Ba;Lexical_prod.OUTDENT_CONTENT_COMMAND={};Lexical_prod.PASTE_COMMAND=na;Lexical_prod.ParagraphNode=yf;Lexical_prod.REDO_COMMAND=wa;Lexical_prod.REMOVE_TEXT_COMMAND=qa;Lexical_prod.RootNode=bf;Lexical_prod.SELECTION_CHANGE_COMMAND=aa;Lexical_prod.TextNode=mf;Lexical_prod.UNDO_COMMAND=ua;Lexical_prod.createCommand=function(){return{}};Lexical_prod.createEditor=function(rt){var it=rt||{},at=W,lt=it.theme||{};let st=rt===void 0?at:it.parentEditor||null,ct=it.disableEvents||!1,ut=cf(),ft=it.namespace||(st!==null?st._config.namespace:gc()),dt=it.editorState,pt=[bf,mf,ef,yf,...it.nodes||[]],ht=it.onError;if(it=it.editable!==void 0?it.editable:!0,rt===void 0&&at!==null)rt=at._nodes;else for(rt=new Map,at=0;at<pt.length;at++){let mt=pt[at],xt=null;var gt=null;typeof mt!="function"&&(gt=mt,mt=gt.replace,xt=gt.with,gt=gt.withKlass?gt.withKlass:null);let vt=mt.getType(),$t=mt.transform(),_t=new Set;$t!==null&&_t.add($t),rt.set(vt,{klass:mt,replace:xt,replaceWithKlass:gt,transforms:_t})}return lt=new Bf(ut,st,rt,{disableEvents:ct,namespace:ft,theme:lt},ht||console.error,Af(rt),it),dt!==void 0&&(lt._pendingEditorState=dt,lt._dirtyType=2),lt};Lexical_prod.getNearestEditorFromDOMNode=Hb;Lexical_prod.isSelectionWithinEditor=Gb;const Lexical=Lexical_prod;var Lexical_1=Lexical,g$3=reactExports;let m$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";m$2?g$3.useLayoutEffect:g$3.useEffect;var g$2=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g$2.useLayoutEffect:g$2.useEffect;var h$1=reactExports;function m$1(rt,it){return m$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,lt){return at.__proto__=lt,at},m$1(rt,it)}function n$2(rt,it){rt.prototype=Object.create(it.prototype),rt.prototype.constructor=rt,m$1(rt,it)}function r(rt,it){return rt===void 0&&(rt=[]),it===void 0&&(it=[]),rt.length!==it.length||rt.some(function(at,lt){return!Object.is(at,it[lt])})}var t$1={error:null};(function(rt){function it(){for(var lt,st=arguments.length,ct=Array(st),ut=0;ut<st;ut++)ct[ut]=arguments[ut];return lt=rt.call.apply(rt,[this].concat(ct))||this,lt.state=t$1,lt.resetErrorBoundary=function(){for(var ft,dt=arguments.length,pt=Array(dt),ht=0;ht<dt;ht++)pt[ht]=arguments[ht];lt.props.onReset==null||(ft=lt.props).onReset.apply(ft,pt),lt.reset()},lt}n$2(it,rt),it.getDerivedStateFromError=function(lt){return{error:lt}};var at=it.prototype;return at.reset=function(){this.setState(t$1)},at.componentDidCatch=function(lt,st){var ct,ut;(ct=(ut=this.props).onError)==null||ct.call(ut,lt,st)},at.componentDidUpdate=function(lt,st){var ct=this.props.resetKeys;if(this.state.error!==null&&st.error!==null&&r(lt.resetKeys,ct)){var ut,ft;(ut=(ft=this.props).onResetKeysChange)==null||ut.call(ft,lt.resetKeys,ct),this.reset()}},at.render=function(){var lt=this.state.error,st=this.props,ct=st.fallbackRender,ut=st.FallbackComponent;if(st=st.fallback,lt!==null){if(lt={error:lt,resetErrorBoundary:this.resetErrorBoundary},h$1.isValidElement(st))return st;if(typeof ct=="function")return ct(lt);if(ut)return h$1.createElement(ut,lt);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},it})(h$1.Component);var LexicalHistory_prod={},LexicalUtils_prod={},LexicalSelection_prod={},k$3=Lexical_1;let u$1=new Map;function v(rt){for(;rt!=null;){if(rt.nodeType===Node.TEXT_NODE)return rt;rt=rt.firstChild}return null}function w$2(rt){let it=rt.parentNode;if(it==null)throw Error("Should never happen");return[it,Array.from(it.childNodes).indexOf(rt)]}function y$3(rt){let it={};rt=rt.split(";");for(let at of rt)if(at!==""){let[lt,st]=at.split(/:([^]+)/);it[lt.trim()]=st.trim()}return it}function z$3(rt){let it=u$1.get(rt);return it===void 0&&(it=y$3(rt),u$1.set(rt,it)),it}function A$2(rt){let it="";for(let at in rt)at&&(it+=`${at}: ${rt[at]};`);return it}function B$3(rt,it){var at=z$3("getStyle"in rt?rt.getStyle():rt.style);it=Object.entries(it).reduce((lt,[st,ct])=>(ct===null?delete lt[st]:lt[st]=ct,lt),{...at}),at=A$2(it),rt.setStyle(at),u$1.set(at,it)}function C$1(rt){for(;rt!==null&&!k$3.$isRootOrShadowRoot(rt);){let it=rt.getLatest(),at=rt.getParent();it.getChildrenSize()===0&&rt.remove(!0),rt=at}}function D$3(rt,it,at,lt,st=null){if(it.length!==0){var ct=it[0],ut=new Map,ft=[];ct=k$3.$isElementNode(ct)?ct:ct.getParentOrThrow(),ct.isInline()&&(ct=ct.getParentOrThrow());for(var dt=!1;ct!==null;){var pt=ct.getPreviousSibling();if(pt!==null){ct=pt,dt=!0;break}if(ct=ct.getParentOrThrow(),k$3.$isRootOrShadowRoot(ct))break}pt=new Set;for(var ht=0;ht<at;ht++){var gt=it[ht];k$3.$isElementNode(gt)&&gt.getChildrenSize()===0&&pt.add(gt.getKey())}var mt=new Set;for(ht=0;ht<at;ht++){gt=it[ht];var xt=gt.getParent();if(xt!==null&&xt.isInline()&&(xt=xt.getParent()),xt!==null&&k$3.$isLeafNode(gt)&&!mt.has(gt.getKey())){if(gt=xt.getKey(),ut.get(gt)===void 0){let vt=lt();vt.setFormat(xt.getFormatType()),vt.setIndent(xt.getIndent()),ft.push(vt),ut.set(gt,vt),xt.getChildren().forEach($t=>{vt.append($t),mt.add($t.getKey()),k$3.$isElementNode($t)&&$t.getChildrenKeys().forEach(_t=>mt.add(_t))}),C$1(xt)}}else pt.has(gt.getKey())&&(xt=lt(),xt.setFormat(gt.getFormatType()),xt.setIndent(gt.getIndent()),ft.push(xt),gt.remove(!0))}if(st!==null)for(it=0;it<ft.length;it++)st.append(ft[it]);if(it=null,k$3.$isRootOrShadowRoot(ct))if(dt)if(st!==null)ct.insertAfter(st);else for(st=ft.length-1;0<=st;st--)ct.insertAfter(ft[st]);else if(dt=ct.getFirstChild(),k$3.$isElementNode(dt)&&(ct=dt),dt===null)if(st)ct.append(st);else for(st=0;st<ft.length;st++)dt=ft[st],ct.append(dt),it=dt;else if(st!==null)dt.insertBefore(st);else for(ct=0;ct<ft.length;ct++)st=ft[ct],dt.insertBefore(st),it=st;else if(st)ct.insertAfter(st);else for(st=ft.length-1;0<=st;st--)dt=ft[st],ct.insertAfter(dt),it=dt;ft=k$3.$getPreviousSelection(),k$3.$isRangeSelection(ft)&&ft.anchor.getNode().isAttached()&&ft.focus.getNode().isAttached()?k$3.$setSelection(ft.clone()):it!==null?it.selectEnd():rt.dirty=!0}}function E$3(rt,it,at,lt){rt.modify(it?"extend":"move",at,lt)}function F$3(rt){return rt=rt.anchor.getNode(),(k$3.$isRootNode(rt)?rt:rt.getParentOrThrow()).getDirection()==="rtl"}LexicalSelection_prod.$addNodeStyle=function(rt){rt=rt.getStyle();let it=y$3(rt);u$1.set(rt,it)};LexicalSelection_prod.$cloneWithProperties=function(rt){rt=rt.getLatest();let it=rt.constructor.clone(rt);return it.__parent=rt.__parent,it.__next=rt.__next,it.__prev=rt.__prev,k$3.$isElementNode(rt)&&k$3.$isElementNode(it)?(it.__first=rt.__first,it.__last=rt.__last,it.__size=rt.__size,it.__format=rt.__format,it.__indent=rt.__indent,it.__dir=rt.__dir,it):(k$3.$isTextNode(rt)&&k$3.$isTextNode(it)&&(it.__format=rt.__format,it.__style=rt.__style,it.__mode=rt.__mode,it.__detail=rt.__detail),it)};LexicalSelection_prod.$getSelectionStyleValueForProperty=function(rt,it,at=""){let lt=null,st=rt.getNodes();var ct=rt.anchor,ut=rt.focus,ft=rt.isBackward();let dt=ft?ut.offset:ct.offset;if(ct=ft?ut.getNode():ct.getNode(),rt.style!==""&&(rt=z$3(rt.style),rt!==null&&it in rt))return rt[it];for(rt=0;rt<st.length;rt++){var pt=st[rt];if((rt===0||dt!==0||!pt.is(ct))&&k$3.$isTextNode(pt)){if(ut=it,ft=at,pt=pt.getStyle(),pt=z$3(pt),ut=pt!==null&&pt[ut]||ft,lt===null)lt=ut;else if(lt!==ut){lt="";break}}}return lt===null?at:lt};LexicalSelection_prod.$isAtNodeEnd=function(rt){return rt.type==="text"?rt.offset===rt.getNode().getTextContentSize():rt.offset===rt.getNode().getChildrenSize()};LexicalSelection_prod.$isParentElementRTL=F$3;LexicalSelection_prod.$moveCaretSelection=E$3;LexicalSelection_prod.$moveCharacter=function(rt,it,at){let lt=F$3(rt);E$3(rt,it,at?!lt:lt,"character")};LexicalSelection_prod.$patchStyleText=function(rt,it){var at=rt.getNodes();let lt=at.length-1,st=at[0],ct=at[lt];if(rt.isCollapsed())B$3(rt,it);else{var ut=rt.anchor,ft=rt.focus,dt=st.getTextContent().length,pt=ft.offset,ht=ut.offset,gt=ut.isBefore(ft),mt=gt?ht:pt;rt=gt?pt:ht;var xt=gt?ut.type:ft.type,vt=gt?ft.type:ut.type;if(ut=gt?ft.key:ut.key,k$3.$isTextNode(st)&&mt===dt&&(ft=st.getNextSibling(),k$3.$isTextNode(ft)&&(mt=ht=0,st=ft)),at.length===1)k$3.$isTextNode(st)&&(mt=xt==="element"?0:ht>pt?pt:ht,rt=vt==="element"?dt:ht>pt?ht:pt,mt!==rt&&(mt===0&&rt===dt?(B$3(st,it),st.select(mt,rt)):(at=st.splitText(mt,rt),at=mt===0?at[0]:at[1],B$3(at,it),at.select(0,rt-mt))));else for(k$3.$isTextNode(st)&&mt<st.getTextContentSize()&&(mt!==0&&(st=st.splitText(mt)[1]),B$3(st,it)),k$3.$isTextNode(ct)&&(mt=ct.getTextContent().length,ct.__key!==ut&&rt!==0&&(rt=mt),rt!==mt&&([ct]=ct.splitText(rt)),rt!==0&&B$3(ct,it)),rt=1;rt<lt;rt++)mt=at[rt],dt=mt.getKey(),k$3.$isTextNode(mt)&&dt!==st.getKey()&&dt!==ct.getKey()&&!mt.isToken()&&B$3(mt,it)}};LexicalSelection_prod.$selectAll=function(rt){let it=rt.anchor;rt=rt.focus;var at=it.getNode().getTopLevelElementOrThrow().getParentOrThrow();let lt=at.getFirstDescendant();at=at.getLastDescendant();let st="element",ct="element",ut=0;k$3.$isTextNode(lt)?st="text":k$3.$isElementNode(lt)||lt===null||(lt=lt.getParentOrThrow()),k$3.$isTextNode(at)?(ct="text",ut=at.getTextContentSize()):k$3.$isElementNode(at)||at===null||(at=at.getParentOrThrow()),lt&&at&&(it.set(lt.getKey(),0,st),rt.set(at.getKey(),ut,ct))};LexicalSelection_prod.$setBlocksType=function(rt,it){if(rt.anchor.key==="root"){it=it();var at=k$3.$getRoot();(rt=at.getFirstChild())?rt.replace(it,!0):at.append(it)}else for(at=rt.getNodes(),rt=rt.anchor.getNode().getParentOrThrow(),at.indexOf(rt)===-1&&at.push(rt),rt.isInline()&&(rt=rt.getParentOrThrow(),at.indexOf(rt)===-1&&at.push(rt)),rt=0;rt<at.length;rt++){let ct=at[rt];var lt=ct;if(!k$3.$isElementNode(lt)||k$3.$isRootOrShadowRoot(lt))lt=!1;else{var st=lt.getFirstChild();st=st===null||k$3.$isTextNode(st)||st.isInline(),lt=!lt.isInline()&&lt.canBeEmpty()!==!1&&st}lt&&(lt=it(),lt.setFormat(ct.getFormatType()),lt.setIndent(ct.getIndent()),ct.replace(lt,!0))}};LexicalSelection_prod.$shouldOverrideDefaultCharacterSelection=function(rt,it){return rt=k$3.$getAdjacentNode(rt.focus,it),k$3.$isDecoratorNode(rt)&&!rt.isIsolated()||k$3.$isElementNode(rt)&&!rt.isInline()&&!rt.canBeEmpty()};LexicalSelection_prod.$sliceSelectedTextNodeContent=function(rt,it){if(it.isSelected()&&!it.isSegmented()&&!it.isToken()&&(k$3.$isRangeSelection(rt)||k$3.DEPRECATED_$isGridSelection(rt))){var at=rt.anchor.getNode(),lt=rt.focus.getNode(),st=it.is(at),ct=it.is(lt);if(st||ct){st=rt.isBackward();let[ut,ft]=rt.getCharacterOffsets();rt=at.is(lt),ct=it.is(st?lt:at),lt=it.is(st?at:lt),at=0;let dt;rt?(at=ut>ft?ft:ut,dt=ut>ft?ut:ft):ct?(at=st?ft:ut,dt=void 0):lt&&(st=st?ut:ft,at=0,dt=st),it.__text=it.__text.slice(at,dt)}}return it};LexicalSelection_prod.$wrapNodes=function(rt,it,at=null){var lt=rt.getNodes();let st=lt.length;var ct=rt.anchor;if(st===0||st===1&&ct.type==="element"&&ct.getNode().getChildrenSize()===0){rt=ct.type==="text"?ct.getNode().getParentOrThrow():ct.getNode(),lt=rt.getChildren();let ft=it();ft.setFormat(rt.getFormatType()),ft.setIndent(rt.getIndent()),lt.forEach(dt=>ft.append(dt)),at&&(ft=at.append(ft)),rt.replace(ft)}else{ct=null;var ut=[];for(let ft=0;ft<st;ft++){let dt=lt[ft];k$3.$isRootOrShadowRoot(dt)?(D$3(rt,ut,ut.length,it,at),ut=[],ct=dt):ct===null||ct!==null&&k$3.$hasAncestor(dt,ct)?ut.push(dt):(D$3(rt,ut,ut.length,it,at),ut=[dt])}D$3(rt,ut,ut.length,it,at)}};LexicalSelection_prod.createDOMRange=function(rt,it,at,lt,st){let ct=it.getKey(),ut=lt.getKey(),ft=document.createRange(),dt=rt.getElementByKey(ct);if(rt=rt.getElementByKey(ut),k$3.$isTextNode(it)&&(dt=v(dt)),k$3.$isTextNode(lt)&&(rt=v(rt)),it===void 0||lt===void 0||dt===null||rt===null)return null;dt.nodeName==="BR"&&([dt,at]=w$2(dt)),rt.nodeName==="BR"&&([rt,st]=w$2(rt)),it=dt.firstChild,dt===rt&&it!=null&&it.nodeName==="BR"&&at===0&&st===0&&(st=1);try{ft.setStart(dt,at),ft.setEnd(rt,st)}catch{return null}return!ft.collapsed||at===st&&ct===ut||(ft.setStart(rt,st),ft.setEnd(dt,at)),ft};LexicalSelection_prod.createRectsFromDOMRange=function(rt,it){var at=rt.getRootElement();if(at===null)return[];rt=at.getBoundingClientRect(),at=getComputedStyle(at),at=parseFloat(at.paddingLeft)+parseFloat(at.paddingRight),it=Array.from(it.getClientRects());let lt=it.length,st;for(let ct=0;ct<lt;ct++){let ut=it[ct],ft=ut.width+at===rt.width;st&&st.top===ut.top&&st.left===ut.left&&st.width===ut.width&&st.height===ut.height||ft?(it.splice(ct--,1),lt--):st=ut}return it};LexicalSelection_prod.getStyleObjectFromCSS=z$3;LexicalSelection_prod.trimTextContentFromAnchor=function(rt,it,at){let lt=it.getNode();if(k$3.$isElementNode(lt)){var st=lt.getDescendantByIndex(it.offset);st!==null&&(lt=st)}for(;0<at&&lt!==null;){var ct=lt.getPreviousSibling(),ut=0;if(ct===null){st=lt.getParentOrThrow();for(var ft=st.getPreviousSibling();ft===null;){if(st=st.getParent(),st===null){ct=null;break}ft=st.getPreviousSibling()}st!==null&&(ut=st.isInline()?0:2,ct=k$3.$isElementNode(ft)?ft.getLastDescendant():ft)}if(ft=lt.getTextContent(),ft===""&&k$3.$isElementNode(lt)&&!lt.isInline()&&(ft=`

`),st=lt.getTextContentSize(),!k$3.$isTextNode(lt)||at>=st)ft=lt.getParent(),lt.remove(),ft==null||ft.getChildrenSize()!==0||k$3.$isRootNode(ft)||ft.remove(),at-=st+ut,lt=ct;else{let dt=lt.getKey();ut=rt.getEditorState().read(()=>{const ht=k$3.$getNodeByKey(dt);return k$3.$isTextNode(ht)&&ht.isSimpleText()?ht.getTextContent():null}),ct=st-at;let pt=ft.slice(0,ct);ut!==null&&ut!==ft?(at=k$3.$getPreviousSelection(),st=lt,lt.isSimpleText()?lt.setTextContent(ut):(st=k$3.$createTextNode(ut),lt.replace(st)),k$3.$isRangeSelection(at)&&at.isCollapsed()&&(at=at.anchor.offset,st.select(at,at))):lt.isSimpleText()?(ut=it.key===dt,ft=it.offset,ft<at&&(ft=st),at=ut?ft-at:0,st=ut?ft:ct,ut&&at===0?([at]=lt.splitText(at,st),at.remove()):([,at]=lt.splitText(at,st),at.remove())):(at=k$3.$createTextNode(pt),lt.replace(at)),at=0}}};const LexicalSelection=LexicalSelection_prod;var LexicalSelection_1=LexicalSelection,g$1=LexicalSelection_1,n$1=Lexical_1;function p$2(rt,it){for(let at of it)if(rt.type.startsWith(at))return!0;return!1}function q$3(rt,it){for(;rt!==n$1.$getRoot()&&rt!=null;){if(it(rt))return rt;rt=rt.getParent()}return null}function t(rt){return rt.nodeType===1}LexicalUtils_prod.$splitNode=n$1.$splitNode;LexicalUtils_prod.$dfs=function(rt,it){let at=[];rt=(rt||n$1.$getRoot()).getLatest(),it=it||(n$1.$isElementNode(rt)?rt.getLastDescendant():rt);for(var lt=rt,st=0;(lt=lt.getParent())!==null;)st++;for(lt=st;rt!==null&&!rt.is(it);)if(at.push({depth:lt,node:rt}),n$1.$isElementNode(rt)&&0<rt.getChildrenSize())rt=rt.getFirstChild(),lt++;else for(st=null;st===null&&rt!==null;)st=rt.getNextSibling(),st===null?(rt=rt.getParent(),lt--):rt=st;return rt!==null&&rt.is(it)&&at.push({depth:lt,node:rt}),at};LexicalUtils_prod.$findMatchingParent=q$3;LexicalUtils_prod.$getNearestBlockElementAncestorOrThrow=function(rt){if(rt=q$3(rt,it=>n$1.$isElementNode(it)&&!it.isInline()),!n$1.$isElementNode(rt))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return rt};LexicalUtils_prod.$getNearestNodeOfType=function(rt,it){for(;rt!=null;){if(rt instanceof it)return rt;rt=rt.getParent()}return null};LexicalUtils_prod.$insertNodeToNearestRoot=function(rt){var it=n$1.$getSelection();if(n$1.$isRangeSelection(it)){var{focus:at}=it;if(it=at.getNode(),at=at.offset,n$1.$isRootOrShadowRoot(it))at=it.getChildAtIndex(at),at==null?it.append(rt):at.insertBefore(rt),rt.selectNext();else{let lt,st;n$1.$isTextNode(it)?(lt=it.getParentOrThrow(),st=it.getIndexWithinParent(),0<at&&(st+=1,it.splitText(at))):(lt=it,st=at),[,it]=n$1.$splitNode(lt,st),it.insertBefore(rt),it.selectStart()}}else n$1.$isNodeSelection(it)||n$1.DEPRECATED_$isGridSelection(it)?(it=it.getNodes(),it[it.length-1].getTopLevelElementOrThrow().insertAfter(rt)):n$1.$getRoot().append(rt),it=n$1.$createParagraphNode(),rt.insertAfter(it),it.select();return rt.getLatest()};LexicalUtils_prod.$restoreEditorState=function(rt,it){let at=new Map,lt=rt._pendingEditorState;for(let[st,ct]of it._nodeMap){let ut=g$1.$cloneWithProperties(ct);n$1.$isTextNode(ut)&&(ut.__text=ct.__text),at.set(st,ut)}lt&&(lt._nodeMap=at),rt._dirtyType=2,rt=it._selection,n$1.$setSelection(rt===null?null:rt.clone())};LexicalUtils_prod.$wrapNodeInElement=function(rt,it){return it=it(),rt.replace(it),it.append(rt),it};LexicalUtils_prod.addClassNamesToElement=function(rt,...it){it.forEach(at=>{typeof at=="string"&&(at=at.split(" ").filter(lt=>lt!==""),rt.classList.add(...at))})};LexicalUtils_prod.isHTMLAnchorElement=function(rt){return t(rt)&&rt.tagName==="A"};LexicalUtils_prod.isHTMLElement=t;LexicalUtils_prod.isMimeType=p$2;LexicalUtils_prod.mediaFileReader=function(rt,it){let at=rt[Symbol.iterator]();return new Promise((lt,st)=>{let ct=[],ut=()=>{const{done:ft,value:dt}=at.next();if(ft)return lt(ct);const pt=new FileReader;pt.addEventListener("error",st),pt.addEventListener("load",()=>{const ht=pt.result;typeof ht=="string"&&ct.push({file:dt,result:ht}),ut()}),p$2(dt,it)?pt.readAsDataURL(dt):ut()};ut()})};LexicalUtils_prod.mergeRegister=function(...rt){return()=>{rt.forEach(it=>it())}};LexicalUtils_prod.registerNestedElementResolver=function(rt,it,at,lt){return rt.registerNodeTransform(it,st=>{e:{for(var ct=st.getChildren(),ut=0;ut<ct.length;ut++)if(ct[ut]instanceof it){ct=null;break e}for(ct=st;ct!==null;)if(ut=ct,ct=ct.getParent(),ct instanceof it){ct={child:ut,parent:ct};break e}ct=null}if(ct!==null){const{child:ft,parent:dt}=ct;if(ft.is(st)){if(lt(dt,st),st=ft.getNextSiblings(),ct=st.length,dt.insertAfter(ft),ct!==0){ut=at(dt),ft.insertAfter(ut);for(let pt=0;pt<ct;pt++)ut.append(st[pt])}dt.canBeEmpty()||dt.getChildrenSize()!==0||dt.remove()}}})};LexicalUtils_prod.removeClassNamesFromElement=function(rt,...it){it.forEach(at=>{typeof at=="string"&&rt.classList.remove(...at.split(" "))})};const LexicalUtils=LexicalUtils_prod;var LexicalUtils_1=LexicalUtils,c=LexicalUtils_1,x$2=Lexical_1;function y$2(rt,it,at,lt,st){if(rt===null||at.size===0&&lt.size===0&&!st)return 0;var ct=it._selection,ut=rt._selection;if(st)return 1;if(!(x$2.$isRangeSelection(ct)&&x$2.$isRangeSelection(ut)&&ut.isCollapsed()&&ct.isCollapsed()))return 0;st=it._nodeMap;let ft=[];for(let dt of at)at=st.get(dt),at!==void 0&&ft.push(at);for(let[dt,pt]of lt)pt&&(lt=st.get(dt),lt===void 0||x$2.$isRootNode(lt)||ft.push(lt));return ft.length===0?0:1<ft.length?(lt=it._nodeMap,it=lt.get(ct.anchor.key),ut=lt.get(ut.anchor.key),it&&ut&&!rt._nodeMap.has(it.__key)&&x$2.$isTextNode(it)&&it.__text.length===1&&ct.anchor.offset===1?2:0):(it=ft[0],rt=rt._nodeMap.get(it.__key),!x$2.$isTextNode(rt)||!x$2.$isTextNode(it)||rt.__mode!==it.__mode||(rt=rt.__text,it=it.__text,rt===it)||(ct=ct.anchor,ut=ut.anchor,ct.key!==ut.key||ct.type!=="text")?0:(ct=ct.offset,ut=ut.offset,rt=it.length-rt.length,rt===1&&ut===ct-1?2:rt===-1&&ut===ct+1?3:rt===-1&&ut===ct?4:0))}function z$2(rt,it){let at=Date.now(),lt=0;return(st,ct,ut,ft,dt,pt)=>{let ht=Date.now();if(pt.has("historic"))return lt=0,at=ht,2;let gt=y$2(st,ct,ft,dt,rt.isComposing()),mt=(()=>{var xt=ut===null||ut.editor===rt,vt=pt.has("history-push");if(!vt&&xt&&pt.has("history-merge"))return 0;if(st===null)return 1;var $t=ct._selection;if(!(0<ft.size||0<dt.size))return $t!==null?0:2;if(vt===!1&&gt!==0&&gt===lt&&ht<at+it&&xt)return 0;if(ft.size===1){{vt=Array.from(ft)[0],xt=st._nodeMap.get(vt),vt=ct._nodeMap.get(vt),$t=st._selection;let _t=ct._selection,yt=!1;x$2.$isRangeSelection($t)&&x$2.$isRangeSelection(_t)&&(yt=$t.anchor.type==="element"&&$t.focus.type==="element"&&_t.anchor.type==="text"&&_t.focus.type==="text"),xt=!yt&&x$2.$isTextNode(xt)&&x$2.$isTextNode(vt)?xt.__type===vt.__type&&xt.__text===vt.__text&&xt.__mode===vt.__mode&&xt.__detail===vt.__detail&&xt.__style===vt.__style&&xt.__format===vt.__format&&xt.__parent===vt.__parent:!1}if(xt)return 0}return 1})();return at=ht,lt=gt,mt}}LexicalHistory_prod.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};LexicalHistory_prod.registerHistory=function(rt,it,at){let lt=z$2(rt,at);at=({editorState:ut,prevEditorState:ft,dirtyLeaves:dt,dirtyElements:pt,tags:ht})=>{const gt=it.current,mt=it.redoStack,xt=it.undoStack,vt=gt===null?null:gt.editorState;if(gt===null||ut!==vt){if(dt=lt(ft,ut,gt,dt,pt,ht),dt===1)mt.length!==0&&(it.redoStack=[],rt.dispatchCommand(x$2.CAN_REDO_COMMAND,!1)),gt!==null&&(xt.push({...gt,undoSelection:ft.read(x$2.$getSelection)}),rt.dispatchCommand(x$2.CAN_UNDO_COMMAND,!0));else if(dt===2)return;it.current={editor:rt,editorState:ut}}};let st=c.mergeRegister(rt.registerCommand(x$2.UNDO_COMMAND,()=>{let ut=it.redoStack,ft=it.undoStack;if(ft.length!==0){let dt=it.current,pt=ft.pop();dt!==null&&(ut.push(dt),rt.dispatchCommand(x$2.CAN_REDO_COMMAND,!0)),ft.length===0&&rt.dispatchCommand(x$2.CAN_UNDO_COMMAND,!1),it.current=pt||null,pt&&pt.editor.setEditorState(pt.editorState.clone(pt.undoSelection),{tag:"historic"})}return!0},x$2.COMMAND_PRIORITY_EDITOR),rt.registerCommand(x$2.REDO_COMMAND,()=>{let ut=it.redoStack;var ft=it.undoStack;if(ut.length!==0){let dt=it.current;dt!==null&&(ft.push(dt),rt.dispatchCommand(x$2.CAN_UNDO_COMMAND,!0)),ft=ut.pop(),ut.length===0&&rt.dispatchCommand(x$2.CAN_REDO_COMMAND,!1),it.current=ft||null,ft&&ft.editor.setEditorState(ft.editorState,{tag:"historic"})}return!0},x$2.COMMAND_PRIORITY_EDITOR),rt.registerCommand(x$2.CLEAR_EDITOR_COMMAND,()=>(it.undoStack=[],it.redoStack=[],it.current=null,!1),x$2.COMMAND_PRIORITY_EDITOR),rt.registerCommand(x$2.CLEAR_HISTORY_COMMAND,()=>(it.undoStack=[],it.redoStack=[],it.current=null,rt.dispatchCommand(x$2.CAN_REDO_COMMAND,!1),rt.dispatchCommand(x$2.CAN_UNDO_COMMAND,!1),!0),x$2.COMMAND_PRIORITY_EDITOR),rt.registerUpdateListener(at)),ct=rt.registerUpdateListener(at);return()=>{st(),ct()}};const LexicalHistory=LexicalHistory_prod;var LexicalHistory_1=LexicalHistory,history=LexicalHistory_1;history.createEmptyHistoryState;var h=Lexical_1,k$2=LexicalUtils_1;function m(rt){throw Error(`Minified Lexical error #${rt}; visit https://lexical.dev/docs/error?code=${rt} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function n(rt){let it=1;for(rt=rt.getParent();rt!=null;){if(p$1(rt)){if(rt=rt.getParent(),q$2(rt)){it++,rt=rt.getParent();continue}m(40)}break}return it}function u(rt){return p$1(rt)&&q$2(rt.getFirstChild())}function w$1(rt){return y$1().append(rt)}function B$2(rt,it){rt.splice(rt.getChildrenSize(),0,it)}function F$2(rt,it){var at=rt.getLastChild();let lt=it.getFirstChild();at&&lt&&u(at)&&u(lt)&&(F$2(at.getFirstChild(),lt.getFirstChild()),lt.remove()),at=it.getChildren(),0<at.length&&(rt.append(...at),E$2(rt)),it.remove()}function E$2(rt,it){if(rt=it||rt.getChildren(),rt!==void 0)for(it=0;it<rt.length;it++){let ct=rt[it];if(p$1(ct)){let ut=ct.getValue();var at=ct,lt=at.getParent(),st=1;for(lt!=null&&(q$2(lt)?st=lt.getStart():m(44)),at=at.getPreviousSiblings(),lt=0;lt<at.length;lt++){let ft=at[lt];p$1(ft)&&!q$2(ft.getFirstChild())&&st++}ut!==st&&ct.setValue(st)}}}function G$1(rt){if(!u(rt)){var it=rt.getParent(),at=it?it.getParent():void 0,lt=at?at.getParent():void 0;if(q$2(lt)&&p$1(at)&&q$2(it)){var st=it?it.getFirstChild():void 0,ct=it?it.getLastChild():void 0;if(rt.is(st))at.insertBefore(rt),it.isEmpty()&&at.remove();else if(rt.is(ct))at.insertAfter(rt),it.isEmpty()&&at.remove();else{var ut=it.getListType();st=y$1();let ft=D$2(ut);st.append(ft),rt.getPreviousSiblings().forEach(dt=>ft.append(dt)),ct=y$1(),ut=D$2(ut),ct.append(ut),B$2(ut,rt.getNextSiblings()),at.insertBefore(st),at.insertAfter(ct),at.replace(rt)}E$2(it),E$2(lt)}}}class H extends h.ElementNode{static getType(){return"listitem"}static clone(it){return new H(it.__value,it.__checked,it.__key)}constructor(it,at,lt){super(lt),this.__value=it===void 0?1:it,this.__checked=at}createDOM(it){let at=document.createElement("li"),lt=this.getParent();return q$2(lt)&&lt.getListType()==="check"&&I(at,this,null),at.value=this.__value,J(at,it.theme,this),at}updateDOM(it,at,lt){let st=this.getParent();return q$2(st)&&st.getListType()==="check"&&I(at,this,it),at.value=this.__value,J(at,lt.theme,this),!1}static transform(){return it=>{let at=it.getParent();q$2(at)&&(E$2(at),at.getListType()!=="check"&&it.getChecked()!=null&&it.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:K,priority:0})}}static importJSON(it){let at=new H(it.value,it.checked);return at.setFormat(it.format),at.getWritable().__indent=it.indent,at.setDirection(it.direction),at}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...it){for(let at=0;at<it.length;at++){let lt=it[at];if(h.$isElementNode(lt)&&this.canMergeWith(lt)){let st=lt.getChildren();this.append(...st),lt.remove()}else super.append(lt)}return this}replace(it,at){if(p$1(it))return super.replace(it);this.setIndent(0);let lt=this.getParentOrThrow();if(!q$2(lt))return it;if(lt.__first===this.getKey())lt.insertBefore(it);else if(lt.__last===this.getKey())lt.insertAfter(it);else{let st=D$2(lt.getListType()),ct=this.getNextSibling();for(;ct;){let ut=ct;ct=ct.getNextSibling(),st.append(ut)}lt.insertAfter(it),it.insertAfter(st)}return at&&this.getChildren().forEach(st=>{it.append(st)}),this.remove(),lt.getChildrenSize()===0&&lt.remove(),it}insertAfter(it,at=!0){var lt=this.getParentOrThrow();q$2(lt)||m(39);var st=this.getNextSiblings();if(p$1(it))return at=super.insertAfter(it,at),it=it.getParentOrThrow(),q$2(it)&&E$2(it),at;if(q$2(it)&&it.getListType()===lt.getListType()){for(lt=it,it=it.getChildren(),st=it.length-1;0<=st;st--)lt=it[st],this.insertAfter(lt,at);return lt}if(lt.insertAfter(it,at),st.length!==0){let ct=D$2(lt.getListType());st.forEach(ut=>ct.append(ut)),it.insertAfter(ct,at)}return it}remove(it){let at=this.getPreviousSibling(),lt=this.getNextSibling();super.remove(it),at&&lt&&u(at)&&u(lt)?(F$2(at.getFirstChild(),lt.getFirstChild()),lt.remove()):lt&&(it=lt.getParent(),q$2(it)&&E$2(it))}insertNewAfter(it,at=!0){return it=y$1(this.__checked==null?void 0:!1),this.insertAfter(it,at),it}collapseAtStart(it){let at=h.$createParagraphNode();this.getChildren().forEach(ut=>at.append(ut));var lt=this.getParentOrThrow(),st=lt.getParentOrThrow();let ct=p$1(st);return lt.getChildrenSize()===1?ct?(lt.remove(),st.select()):(lt.insertBefore(at),lt.remove(),lt=it.anchor,it=it.focus,st=at.getKey(),lt.type==="element"&&lt.getNode().is(this)&&lt.set(st,lt.offset,"element"),it.type==="element"&&it.getNode().is(this)&&it.set(st,it.offset,"element")):(lt.insertBefore(at),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(it){this.getWritable().__value=it}getChecked(){return this.getLatest().__checked}setChecked(it){this.getWritable().__checked=it}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var it=this.getParent();if(it===null)return this.getLatest().__indent;it=it.getParentOrThrow();let at=0;for(;p$1(it);)it=it.getParentOrThrow().getParentOrThrow(),at++;return at}setIndent(it){if(!(typeof it=="number"&&-1<it))throw Error("Invalid indent value.");let at=this.getIndent();for(;at!==it;)if(at<it){e:{var lt=new Set;if(u(this)||lt.has(this.getKey()))break e;let ft=this.getParent();var st=this.getNextSibling(),ct=this.getPreviousSibling();if(u(st)&&u(ct)){if(ct=ct.getFirstChild(),q$2(ct)){ct.append(this);var ut=st.getFirstChild();q$2(ut)&&(ut=ut.getChildren(),B$2(ct,ut),st.remove(),lt.add(st.getKey())),E$2(ct)}}else u(st)?(st=st.getFirstChild(),q$2(st)&&(lt=st.getFirstChild(),lt!==null&&lt.insertBefore(this),E$2(st))):u(ct)?(st=ct.getFirstChild(),q$2(st)&&(st.append(this),E$2(st))):q$2(ft)&&(lt=y$1(),ut=D$2(ft.getListType()),lt.append(ut),ut.append(this),ct?ct.insertAfter(lt):st?st.insertBefore(lt):ft.append(lt),E$2(ut));q$2(ft)&&E$2(ft)}at++}else G$1(this),at--;return this}insertBefore(it){if(p$1(it)){let at=this.getParentOrThrow();if(q$2(at)){let lt=this.getNextSiblings();E$2(at,lt)}}return super.insertBefore(it)}canInsertAfter(it){return p$1(it)}canReplaceWith(it){return p$1(it)}canMergeWith(it){return h.$isParagraphNode(it)||p$1(it)}extractWithChild(it,at){if(!h.$isRangeSelection(at))return!1;it=at.anchor.getNode();let lt=at.focus.getNode();return this.isParentOf(it)&&this.isParentOf(lt)&&this.getTextContent().length===at.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D$2("bullet")}}function J(rt,it,at){let lt=[],st=[];var ct=(it=it.list)?it.listitem:void 0;if(it&&it.nested)var ut=it.nested.listitem;if(ct!==void 0&&(ct=ct.split(" "),lt.push(...ct)),it){ct=at.getParent(),ct=q$2(ct)&&ct.getListType()==="check";let ft=at.getChecked();ct&&!ft||st.push(it.listitemUnchecked),ct&&ft||st.push(it.listitemChecked),ct&&lt.push(ft?it.listitemChecked:it.listitemUnchecked)}ut!==void 0&&(ut=ut.split(" "),at.getChildren().some(ft=>q$2(ft))?lt.push(...ut):st.push(...ut)),0<st.length&&k$2.removeClassNamesFromElement(rt,...st),0<lt.length&&k$2.addClassNamesToElement(rt,...lt)}function I(rt,it,at){q$2(it.getFirstChild())?(rt.removeAttribute("role"),rt.removeAttribute("tabIndex"),rt.removeAttribute("aria-checked")):(rt.setAttribute("role","checkbox"),rt.setAttribute("tabIndex","-1"),at&&it.__checked===at.__checked||rt.setAttribute("aria-checked",it.getChecked()?"true":"false"))}function K(rt){return rt=k$2.isHTMLElement(rt)&&rt.getAttribute("aria-checked")==="true",{node:y$1(rt)}}function y$1(rt){return h.$applyNodeReplacement(new H(void 0,rt))}function p$1(rt){return rt instanceof H}class L extends h.ElementNode{static getType(){return"list"}static clone(it){return new L(it.__listType||N[it.__tag],it.__start,it.__key)}constructor(it,at,lt){super(lt),this.__listType=it=N[it]||it,this.__tag=it==="number"?"ol":"ul",this.__start=at}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(it){let at=document.createElement(this.__tag);return this.__start!==1&&at.setAttribute("start",String(this.__start)),at.__lexicalListType=this.__listType,O(at,it.theme,this),at}updateDOM(it,at,lt){return it.__tag!==this.__tag?!0:(O(at,lt.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:P,priority:0}),ul:()=>({conversion:P,priority:0})}}static importJSON(it){let at=D$2(it.listType,it.start);return at.setFormat(it.format),at.setIndent(it.indent),at.setDirection(it.direction),at}exportDOM(it){return{element:it}=super.exportDOM(it),it&&(this.__start!==1&&it.setAttribute("start",String(this.__start)),this.__listType==="check"&&it.setAttribute("__lexicalListType","check")),{element:it}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...it){for(let lt=0;lt<it.length;lt++){var at=it[lt];if(p$1(at))super.append(at);else{let st=y$1();q$2(at)||h.$isElementNode(at)&&(at=h.$createTextNode(at.getTextContent())),st.append(at),super.append(st)}}return E$2(this),this}extractWithChild(it){return p$1(it)}}function O(rt,it,at){let lt=[],st=[];var ct=it.list;if(ct!==void 0){let ft=ct[`${at.__tag}Depth`]||[];it=n(at)-1;let dt=it%ft.length;var ut=ft[dt];let pt=ct[at.__tag],ht;if(ct=ct.nested,ct!==void 0&&ct.list&&(ht=ct.list),pt!==void 0&&lt.push(pt),ut!==void 0)for(ut=ut.split(" "),lt.push(...ut),ut=0;ut<ft.length;ut++)ut!==dt&&st.push(at.__tag+ut);ht!==void 0&&(at=ht.split(" "),1<it?lt.push(...at):st.push(...at))}0<st.length&&k$2.removeClassNamesFromElement(rt,...st),0<lt.length&&k$2.addClassNamesToElement(rt,...lt)}function Q(rt){let it=[];for(let lt=0;lt<rt.length;lt++){var at=rt[lt];p$1(at)?(it.push(at),at=at.getChildren(),1<at.length&&at.forEach(st=>{q$2(st)&&it.push(w$1(st))})):it.push(w$1(at))}return it}function P(rt){let it=rt.nodeName.toLowerCase(),at=null;return it==="ol"?at=D$2("number",rt.start):it==="ul"&&(at=k$2.isHTMLElement(rt)&&rt.getAttribute("__lexicallisttype")==="check"?D$2("check"):D$2("bullet")),{after:Q,node:at}}let N={ol:"number",ul:"bullet"};function D$2(rt,it=1){return h.$applyNodeReplacement(new L(rt,it))}function q$2(rt){return rt instanceof L}h.createCommand("INSERT_UNORDERED_LIST_COMMAND");h.createCommand("INSERT_ORDERED_LIST_COMMAND");h.createCommand("INSERT_CHECK_LIST_COMMAND");h.createCommand("REMOVE_LIST_COMMAND");var g=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;var k$1=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k$1.useLayoutEffect:k$1.useEffect;var k=LexicalUtils_1,l$1=Lexical_1;let p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q$1=p&&"documentMode"in document?document.documentMode:null;p&&"InputEvent"in window&&!q$1&&"getTargetRanges"in new window.InputEvent("input");l$1.createCommand("DRAG_DROP_PASTE_FILE");let z$1=class gr extends l$1.ElementNode{static getType(){return"quote"}static clone(it){return new gr(it.__key)}constructor(it){super(it)}createDOM(it){let at=document.createElement("blockquote");return k.addClassNamesToElement(at,it.theme.quote),at}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:A$1,priority:0})}}static importJSON(it){let at=B$1();return at.setFormat(it.format),at.setIndent(it.indent),at.setDirection(it.direction),at}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(it,at){it=l$1.$createParagraphNode();let lt=this.getDirection();return it.setDirection(lt),this.insertAfter(it,at),it}collapseAtStart(){let it=l$1.$createParagraphNode();return this.getChildren().forEach(at=>it.append(at)),this.replace(it),!0}};function B$1(){return l$1.$applyNodeReplacement(new z$1)}let D$1=class mr extends l$1.ElementNode{static getType(){return"heading"}static clone(it){return new mr(it.__tag,it.__key)}constructor(it,at){super(at),this.__tag=it}getTag(){return this.__tag}createDOM(it){let at=this.__tag,lt=document.createElement(at);return it=it.theme.heading,it!==void 0&&k.addClassNamesToElement(lt,it[at]),lt}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:E$1,priority:0}),h2:()=>({conversion:E$1,priority:0}),h3:()=>({conversion:E$1,priority:0}),h4:()=>({conversion:E$1,priority:0}),h5:()=>({conversion:E$1,priority:0}),h6:()=>({conversion:E$1,priority:0}),p:it=>(it=it.firstChild,it!==null&&F$1(it)?{conversion:()=>({node:null}),priority:3}:null),span:it=>F$1(it)?{conversion:()=>({node:G("h1")}),priority:3}:null}}static importJSON(it){let at=G(it.tag);return at.setFormat(it.format),at.setIndent(it.indent),at.setDirection(it.direction),at}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(it,at=!0){it=it?it.anchor.offset:0,it=0<it&&it<this.getTextContentSize()?G(this.getTag()):l$1.$createParagraphNode();let lt=this.getDirection();return it.setDirection(lt),this.insertAfter(it,at),it}collapseAtStart(){let it=this.isEmpty()?l$1.$createParagraphNode():G(this.getTag());return this.getChildren().forEach(at=>it.append(at)),this.replace(it),!0}extractWithChild(){return!0}};function F$1(rt){return rt.nodeName.toLowerCase()==="span"?rt.style.fontSize==="26pt":!1}function E$1(rt){rt=rt.nodeName.toLowerCase();let it=null;return(rt==="h1"||rt==="h2"||rt==="h3"||rt==="h4"||rt==="h5"||rt==="h6")&&(it=G(rt)),{node:it}}function A$1(){return{node:B$1()}}function G(rt){return l$1.$applyNodeReplacement(new D$1(rt))}var l=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?l.useLayoutEffect:l.useEffect;var d=Lexical_1,q=LexicalUtils_1;let w={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},x$1=class xr extends d.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(it){let at=new xr(it.__headerState,it.__colSpan,it.__width,it.__key);return at.__rowSpan=it.__rowSpan,at}static importDOM(){return{td:()=>({conversion:z,priority:0}),th:()=>({conversion:z,priority:0})}}static importJSON(it){return A(it.headerState,it.colSpan,it.width||void 0)}constructor(it=w.NO_STATUS,at=1,lt,st){super(at,st),this.__headerState=it,this.__width=lt}createDOM(it){let at=document.createElement(this.getTag());return this.__width&&(at.style.width=`${this.__width}px`),this.__colSpan!==1&&(at.colSpan=this.__colSpan),this.__rowSpan!==1&&(at.rowSpan=this.__rowSpan),q.addClassNamesToElement(at,it.theme.tableCell,this.hasHeader()&&it.theme.tableCellHeader),at}exportDOM(it){if({element:it}=super.exportDOM(it),it){let at=this.getParentOrThrow().getChildrenSize();it.style.border="1px solid black",this.__colSpan!==1&&(it.colSpan=this.__colSpan),this.__rowSpan!==1&&(it.rowSpan=this.__rowSpan),it.style.width=`${this.getWidth()||Math.max(90,700/at)}px`,it.style.verticalAlign="top",it.style.textAlign="start",this.hasHeader()&&(it.style.backgroundColor="#f2f3f5")}return{element:it}}exportJSON(){return{...super.exportJSON(),colSpan:super.__colSpan,headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(it){return this.getWritable().__headerState=it,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(it){return this.getWritable().__width=it,this.__width}getWidth(){return this.getLatest().__width}toggleHeaderStyle(it){let at=this.getWritable();return at.__headerState=(at.__headerState&it)===it?at.__headerState-it:at.__headerState+it,at}hasHeaderState(it){return(this.getHeaderStyles()&it)===it}hasHeader(){return this.getLatest().__headerState!==w.NO_STATUS}updateDOM(it){return it.__headerState!==this.__headerState||it.__width!==this.__width||it.__colSpan!==this.__colSpan||it.__rowSpan!==this.__rowSpan}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function z(rt){var it=rt.nodeName.toLowerCase();return it=A(it==="th"?w.ROW:w.NO_STATUS),it.__colSpan=rt.colSpan,it.__rowSpan=rt.rowSpan,{forChild:(at,lt)=>B(lt)&&!d.$isElementNode(at)?(lt=d.$createParagraphNode(),d.$isLineBreakNode(at)&&at.getTextContent()===`
`?null:(lt.append(at),lt)):at,node:it}}function A(rt,it=1,at){return d.$applyNodeReplacement(new x$1(rt,it,at))}function B(rt){return rt instanceof x$1}class C extends d.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(it){return new C(it.__height,it.__key)}static importDOM(){return{tr:()=>({conversion:D,priority:0})}}static importJSON(it){return E(it.height)}constructor(it,at){super(at),this.__height=it}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(it){let at=document.createElement("tr");return this.__height&&(at.style.height=`${this.__height}px`),q.addClassNamesToElement(at,it.theme.tableRow),at}isShadowRoot(){return!0}setHeight(it){return this.getWritable().__height=it,this.__height}getHeight(){return this.getLatest().__height}updateDOM(it){return it.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function D(){return{node:E()}}function E(rt){return d.$applyNodeReplacement(new C(rt))}function F(rt){return rt instanceof C}class U extends d.DEPRECATED_GridNode{static getType(){return"table"}static clone(it){return new U(it.__key)}static importDOM(){return{table:()=>({conversion:ba,priority:1})}}static importJSON(){return V()}constructor(it){super(it)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(it){let at=document.createElement("table");return q.addClassNamesToElement(at,it.theme.table),at}updateDOM(){return!1}exportDOM(it){return{...super.exportDOM(it),after:at=>{if(at){let lt=at.cloneNode(),st=document.createElement("colgroup"),ct=document.createElement("tbody");if(ct.append(...at.children),at=this.getFirstChildOrThrow(),!F(at))throw Error("Expected to find row node.");at=at.getChildrenSize();for(let ut=0;ut<at;ut++){let ft=document.createElement("col");st.append(ft)}return lt.replaceChildren(st,ct),lt}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(it,at){let{rows:lt,cells:st}=at;for(at=0;at<lt;at++){var ct=st[at];if(ct==null)throw Error(`Row not found at y:${at}`);if(ct=ct.findIndex(({elem:ut})=>d.$getNearestNodeFromDOMNode(ut)===it),ct!==-1)return{x:ct,y:at}}throw Error("Cell not found in table.")}getCellFromCords(it,at,lt){return{cells:lt}=lt,at=lt[at],at==null?null:(it=at[it],it??null)}getCellFromCordsOrThrow(it,at,lt){if(it=this.getCellFromCords(it,at,lt),!it)throw Error("Cell not found at cords.");return it}getCellNodeFromCords(it,at,lt){return it=this.getCellFromCords(it,at,lt),it==null?null:(it=d.$getNearestNodeFromDOMNode(it.elem),B(it)?it:null)}getCellNodeFromCordsOrThrow(it,at,lt){if(it=this.getCellNodeFromCords(it,at,lt),!it)throw Error("Node at cords not TableCellNode.");return it}canSelectBefore(){return!0}canIndent(){return!1}}function ba(){return{node:V()}}function V(){return d.$applyNodeReplacement(new U)}d.createCommand("INSERT_TABLE_COMMAND");reactExports.createContext(null);Lexical_1.createCommand("INSERT_IMAGE_COMMAND");function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(rt){const it=rt+"CollectionProvider",[at,lt]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(it),[st,ct]=at(it,{collectionRef:{current:null},itemMap:new Map}),ut=xt=>{const{scope:vt,children:$t}=xt,_t=React$8.useRef(null),yt=React$8.useRef(new Map).current;return React$8.createElement(st,{scope:vt,itemMap:yt,collectionRef:_t},$t)},ft=rt+"CollectionSlot",dt=React$8.forwardRef((xt,vt)=>{const{scope:$t,children:_t}=xt,yt=ct(ft,$t),Et=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(vt,yt.collectionRef);return React$8.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:Et},_t)}),pt=rt+"CollectionItemSlot",ht="data-radix-collection-item",gt=React$8.forwardRef((xt,vt)=>{const{scope:$t,children:_t,...yt}=xt,Et=React$8.useRef(null),wt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(vt,Et),bt=ct(pt,$t);return React$8.useEffect(()=>(bt.itemMap.set(Et,{ref:Et,...yt}),()=>void bt.itemMap.delete(Et))),React$8.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[ht]:"",ref:wt},_t)});function mt(xt){const vt=ct(rt+"CollectionConsumer",xt);return React$8.useCallback(()=>{const _t=vt.collectionRef.current;if(!_t)return[];const yt=Array.from(_t.querySelectorAll(`[${ht}]`));return Array.from(vt.itemMap.values()).sort((bt,St)=>yt.indexOf(bt.ref.current)-yt.indexOf(St.ref.current))},[vt.collectionRef,vt.itemMap])}return[{Provider:ut,Slot:dt,ItemSlot:gt},mt,lt]}const $f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(rt){const it=reactExports.useContext($f631663db3294ace$var$DirectionContext);return rt||it||"ltr"}const $d7bdfb9eb0fdf311$var$ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",$d7bdfb9eb0fdf311$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d7bdfb9eb0fdf311$var$GROUP_NAME="RovingFocusGroup",[$d7bdfb9eb0fdf311$var$Collection,$d7bdfb9eb0fdf311$var$useCollection,$d7bdfb9eb0fdf311$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($d7bdfb9eb0fdf311$var$GROUP_NAME),[$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext,$d7bdfb9eb0fdf311$export$c7109489551a4f4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d7bdfb9eb0fdf311$var$GROUP_NAME,[$d7bdfb9eb0fdf311$var$createCollectionScope]),[$d7bdfb9eb0fdf311$var$RovingFocusProvider,$d7bdfb9eb0fdf311$var$useRovingFocusContext]=$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext($d7bdfb9eb0fdf311$var$GROUP_NAME),$d7bdfb9eb0fdf311$export$8699f7c8af148338=reactExports.forwardRef((rt,it)=>reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Provider,{scope:rt.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Slot,{scope:rt.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusGroupImpl,_extends({},rt,{ref:it}))))),$d7bdfb9eb0fdf311$var$RovingFocusGroupImpl=reactExports.forwardRef((rt,it)=>{const{__scopeRovingFocusGroup:at,orientation:lt,loop:st=!1,dir:ct,currentTabStopId:ut,defaultCurrentTabStopId:ft,onCurrentTabStopIdChange:dt,onEntryFocus:pt,...ht}=rt,gt=reactExports.useRef(null),mt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(it,gt),xt=$f631663db3294ace$export$b39126d51d94e6f3(ct),[vt=null,$t]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:ut,defaultProp:ft,onChange:dt}),[_t,yt]=reactExports.useState(!1),Et=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(pt),wt=$d7bdfb9eb0fdf311$var$useCollection(at),bt=reactExports.useRef(!1),[St,Tt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Rt=gt.current;if(Rt)return Rt.addEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,Et),()=>Rt.removeEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,Et)},[Et]),reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusProvider,{scope:at,orientation:lt,dir:xt,loop:st,currentTabStopId:vt,onItemFocus:reactExports.useCallback(Rt=>$t(Rt),[$t]),onItemShiftTab:reactExports.useCallback(()=>yt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Tt(Rt=>Rt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Tt(Rt=>Rt-1),[])},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({tabIndex:_t||St===0?-1:0,"data-orientation":lt},ht,{ref:mt,style:{outline:"none",...rt.style},onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onMouseDown,()=>{bt.current=!0}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onFocus,Rt=>{const kt=!bt.current;if(Rt.target===Rt.currentTarget&&kt&&!_t){const At=new CustomEvent($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,$d7bdfb9eb0fdf311$var$EVENT_OPTIONS);if(Rt.currentTarget.dispatchEvent(At),!At.defaultPrevented){const Ct=wt().filter(Dt=>Dt.focusable),Mt=Ct.find(Dt=>Dt.active),Ot=Ct.find(Dt=>Dt.id===vt),It=[Mt,Ot,...Ct].filter(Boolean).map(Dt=>Dt.ref.current);$d7bdfb9eb0fdf311$var$focusFirst(It)}}bt.current=!1}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onBlur,()=>yt(!1))})))}),$d7bdfb9eb0fdf311$var$ITEM_NAME="RovingFocusGroupItem",$d7bdfb9eb0fdf311$export$ab9df7c53fe8454=reactExports.forwardRef((rt,it)=>{const{__scopeRovingFocusGroup:at,focusable:lt=!0,active:st=!1,tabStopId:ct,...ut}=rt,ft=$1746a345f3d73bb7$export$f680877a34711e37(),dt=ct||ft,pt=$d7bdfb9eb0fdf311$var$useRovingFocusContext($d7bdfb9eb0fdf311$var$ITEM_NAME,at),ht=pt.currentTabStopId===dt,gt=$d7bdfb9eb0fdf311$var$useCollection(at),{onFocusableItemAdd:mt,onFocusableItemRemove:xt}=pt;return reactExports.useEffect(()=>{if(lt)return mt(),()=>xt()},[lt,mt,xt]),reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.ItemSlot,{scope:at,id:dt,focusable:lt,active:st},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({tabIndex:ht?0:-1,"data-orientation":pt.orientation},ut,{ref:it,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onMouseDown,vt=>{lt?pt.onItemFocus(dt):vt.preventDefault()}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onFocus,()=>pt.onItemFocus(dt)),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onKeyDown,vt=>{if(vt.key==="Tab"&&vt.shiftKey){pt.onItemShiftTab();return}if(vt.target!==vt.currentTarget)return;const $t=$d7bdfb9eb0fdf311$var$getFocusIntent(vt,pt.orientation,pt.dir);if($t!==void 0){vt.preventDefault();let yt=gt().filter(Et=>Et.focusable).map(Et=>Et.ref.current);if($t==="last")yt.reverse();else if($t==="prev"||$t==="next"){$t==="prev"&&yt.reverse();const Et=yt.indexOf(vt.currentTarget);yt=pt.loop?$d7bdfb9eb0fdf311$var$wrapArray(yt,Et+1):yt.slice(Et+1)}setTimeout(()=>$d7bdfb9eb0fdf311$var$focusFirst(yt))}})})))}),$d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $d7bdfb9eb0fdf311$var$getDirectionAwareKey(rt,it){return it!=="rtl"?rt:rt==="ArrowLeft"?"ArrowRight":rt==="ArrowRight"?"ArrowLeft":rt}function $d7bdfb9eb0fdf311$var$getFocusIntent(rt,it,at){const lt=$d7bdfb9eb0fdf311$var$getDirectionAwareKey(rt.key,at);if(!(it==="vertical"&&["ArrowLeft","ArrowRight"].includes(lt))&&!(it==="horizontal"&&["ArrowUp","ArrowDown"].includes(lt)))return $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT[lt]}function $d7bdfb9eb0fdf311$var$focusFirst(rt){const it=document.activeElement;for(const at of rt)if(at===it||(at.focus(),document.activeElement!==it))return}function $d7bdfb9eb0fdf311$var$wrapArray(rt,it){return rt.map((at,lt)=>rt[(it+lt)%rt.length])}const $d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9=$d7bdfb9eb0fdf311$export$8699f7c8af148338,$d7bdfb9eb0fdf311$export$6d08773d2e66f8f2=$d7bdfb9eb0fdf311$export$ab9df7c53fe8454,$6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME="ToggleGroup",[$6c1fd9e6a8969628$var$createToggleGroupContext,$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4]);$d7bdfb9eb0fdf311$export$c7109489551a4f4();$6c1fd9e6a8969628$var$createToggleGroupContext($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME);$6c1fd9e6a8969628$var$createToggleGroupContext($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME);const $3dc4ded751c8bdfb$var$TOOLBAR_NAME="Toolbar",[$3dc4ded751c8bdfb$var$createToolbarContext,$3dc4ded751c8bdfb$export$233e637670877d91]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($3dc4ded751c8bdfb$var$TOOLBAR_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4,$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4]),$3dc4ded751c8bdfb$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4();$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4();$3dc4ded751c8bdfb$var$createToolbarContext($3dc4ded751c8bdfb$var$TOOLBAR_NAME);const $3dc4ded751c8bdfb$export$e5c1a33878e86e9e=reactExports.forwardRef((rt,it)=>{const{__scopeToolbar:at,...lt}=rt,st=$3dc4ded751c8bdfb$var$useRovingFocusGroupScope(at);return reactExports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends({asChild:!0},st,{focusable:!rt.disabled}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button"},lt,{ref:it})))}),$3dc4ded751c8bdfb$export$353f5b6fc5456de1=$3dc4ded751c8bdfb$export$e5c1a33878e86e9e;reactExports.createContext(null);reactExports.forwardRef((rt,it)=>{const{children:at,onClick:lt,tooltip:st,variant:ct}=rt;return jsx("div",{className:clsx("ml-0.5 inline-flex h-[25px] flex-shrink-0 flex-grow-0 basis-auto items-center justify-center rounded bg-white px-[5px] text-[13px] leading-none text-neutral-900 outline-none first:ml-0 hover:bg-primary-100 hover:text-neutral-500 focus:relative focus:shadow-[0_0_0_2px] focus:shadow-primary-300 data-[state=on]:bg-primary-500 data-[state=on]:text-primary-900",{"bg-white":ct==="white","bg-primary-200":ct==="secondary"}),children:jsx(WithTooltip,{tooltip:st,children:jsx($3dc4ded751c8bdfb$export$353f5b6fc5456de1,{ref:it,onClick:lt,value:"right","aria-label":"Right aligned",children:at})})})});reactExports.createContext(null);var supportCustomEvent=window.CustomEvent;(!supportCustomEvent||typeof supportCustomEvent=="object")&&(supportCustomEvent=function(it,at){at=at||{};var lt=document.createEvent("CustomEvent");return lt.initCustomEvent(it,!!at.bubbles,!!at.cancelable,at.detail||null),lt},supportCustomEvent.prototype=window.Event.prototype);function safeDispatchEvent(rt,it){var at="on"+it.type.toLowerCase();return typeof rt[at]=="function"&&rt[at](it),rt.dispatchEvent(it)}function createsStackingContext(rt){for(;rt&&rt!==document.body;){var it=window.getComputedStyle(rt),at=function(lt,st){return!(it[lt]===void 0||it[lt]===st)};if(it.opacity<1||at("zIndex","auto")||at("transform","none")||at("mixBlendMode","normal")||at("filter","none")||at("perspective","none")||it.isolation==="isolate"||it.position==="fixed"||it.webkitOverflowScrolling==="touch")return!0;rt=rt.parentElement}return!1}function findNearestDialog(rt){for(;rt;){if(rt.localName==="dialog")return rt;rt.parentElement?rt=rt.parentElement:rt.parentNode?rt=rt.parentNode.host:rt=null}return null}function safeBlur(rt){for(;rt&&rt.shadowRoot&&rt.shadowRoot.activeElement;)rt=rt.shadowRoot.activeElement;rt&&rt.blur&&rt!==document.body&&rt.blur()}function inNodeList(rt,it){for(var at=0;at<rt.length;++at)if(rt[at]===it)return!0;return!1}function isFormMethodDialog(rt){return!rt||!rt.hasAttribute("method")?!1:rt.getAttribute("method").toLowerCase()==="dialog"}function findFocusableElementWithin(rt){var it=["button","input","keygen","select","textarea"],at=it.map(function(ut){return ut+":not([disabled])"});at.push('[tabindex]:not([disabled]):not([tabindex=""])');var lt=rt.querySelector(at.join(", "));if(!lt&&"attachShadow"in Element.prototype)for(var st=rt.querySelectorAll("*"),ct=0;ct<st.length&&!(st[ct].tagName&&st[ct].shadowRoot&&(lt=findFocusableElementWithin(st[ct].shadowRoot),lt));ct++);return lt}function isConnected(rt){return rt.isConnected||document.body.contains(rt)}function findFormSubmitter(rt){if(rt.submitter)return rt.submitter;var it=rt.target;if(!(it instanceof HTMLFormElement))return null;var at=dialogPolyfill.formSubmitter;if(!at){var lt=rt.target,st="getRootNode"in lt&&lt.getRootNode()||document;at=st.activeElement}return!at||at.form!==it?null:at}function maybeHandleSubmit(rt){if(!rt.defaultPrevented){var it=rt.target,at=dialogPolyfill.imagemapUseValue,lt=findFormSubmitter(rt);at===null&&lt&&(at=lt.value);var st=findNearestDialog(it);if(st){var ct=lt&&lt.getAttribute("formmethod")||it.getAttribute("method");ct==="dialog"&&(rt.preventDefault(),at!=null?st.close(at):st.close())}}}function dialogPolyfillInfo(rt){if(this.dialog_=rt,this.replacedStyleTop_=!1,this.openAsModal_=!1,rt.hasAttribute("role")||rt.setAttribute("role","dialog"),rt.show=this.show.bind(this),rt.showModal=this.showModal.bind(this),rt.close=this.close.bind(this),rt.addEventListener("submit",maybeHandleSubmit,!1),"returnValue"in rt||(rt.returnValue=""),"MutationObserver"in window){var it=new MutationObserver(this.maybeHideModal.bind(this));it.observe(rt,{attributes:!0,attributeFilter:["open"]})}else{var at=!1,lt=function(){at?this.downgradeModal():this.maybeHideModal(),at=!1}.bind(this),st,ct=function(ut){if(ut.target===rt){var ft="DOMNodeRemoved";at|=ut.type.substr(0,ft.length)===ft,window.clearTimeout(st),st=window.setTimeout(lt,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(ut){rt.addEventListener(ut,ct)})}Object.defineProperty(rt,"open",{set:this.setOpen.bind(this),get:rt.hasAttribute.bind(rt,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}dialogPolyfillInfo.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&isConnected(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),dialogPolyfill.dm.removeDialog(this))},setOpen:function(rt){rt?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(rt){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var it=document.createElement("div");this.dialog_.insertBefore(it,this.dialog_.firstChild),it.tabIndex=-1,it.focus(),this.dialog_.removeChild(it)}var at=document.createEvent("MouseEvents");at.initMouseEvent(rt.type,rt.bubbles,rt.cancelable,window,rt.detail,rt.screenX,rt.screenY,rt.clientX,rt.clientY,rt.ctrlKey,rt.altKey,rt.shiftKey,rt.metaKey,rt.button,rt.relatedTarget),this.dialog_.dispatchEvent(at),rt.stopPropagation()},focus_:function(){var rt=this.dialog_.querySelector("[autofocus]:not([disabled])");!rt&&this.dialog_.tabIndex>=0&&(rt=this.dialog_),rt||(rt=findFocusableElementWithin(this.dialog_)),safeBlur(document.activeElement),rt&&rt.focus()},updateZIndex:function(rt,it){if(rt<it)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=rt,this.backdrop_.style.zIndex=it},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!isConnected(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!dialogPolyfill.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");createsStackingContext(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,dialogPolyfill.needsCentering(this.dialog_)?(dialogPolyfill.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(rt){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),rt!==void 0&&(this.dialog_.returnValue=rt);var it=new supportCustomEvent("close",{bubbles:!1,cancelable:!1});safeDispatchEvent(this.dialog_,it)}};var dialogPolyfill={};dialogPolyfill.reposition=function(rt){var it=document.body.scrollTop||document.documentElement.scrollTop,at=it+(window.innerHeight-rt.offsetHeight)/2;rt.style.top=Math.max(it,at)+"px"};dialogPolyfill.isInlinePositionSetByStylesheet=function(rt){for(var it=0;it<document.styleSheets.length;++it){var at=document.styleSheets[it],lt=null;try{lt=at.cssRules}catch{}if(lt)for(var st=0;st<lt.length;++st){var ct=lt[st],ut=null;try{ut=document.querySelectorAll(ct.selectorText)}catch{}if(!(!ut||!inNodeList(ut,rt))){var ft=ct.style.getPropertyValue("top"),dt=ct.style.getPropertyValue("bottom");if(ft&&ft!=="auto"||dt&&dt!=="auto")return!0}}}return!1};dialogPolyfill.needsCentering=function(rt){var it=window.getComputedStyle(rt);return it.position!=="absolute"||rt.style.top!=="auto"&&rt.style.top!==""||rt.style.bottom!=="auto"&&rt.style.bottom!==""?!1:!dialogPolyfill.isInlinePositionSetByStylesheet(rt)};dialogPolyfill.forceRegisterDialog=function(rt){if((window.HTMLDialogElement||rt.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",rt),rt.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new dialogPolyfillInfo(rt)};dialogPolyfill.registerDialog=function(rt){rt.showModal||dialogPolyfill.forceRegisterDialog(rt)};dialogPolyfill.DialogManager=function(){this.pendingDialogStack=[];var rt=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(it){this.forwardTab_=void 0,it.stopPropagation(),rt([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(it){var at=[];it.forEach(function(lt){for(var st=0,ct;ct=lt.removedNodes[st];++st){if(ct instanceof Element)ct.localName==="dialog"&&at.push(ct);else continue;at=at.concat(ct.querySelectorAll("dialog"))}}),at.length&&rt(at)}))};dialogPolyfill.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})};dialogPolyfill.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()};dialogPolyfill.DialogManager.prototype.updateStacking=function(){for(var rt=this.zIndexHigh_,it=0,at;at=this.pendingDialogStack[it];++it)at.updateZIndex(--rt,--rt),it===0&&(this.overlay.style.zIndex=--rt);var lt=this.pendingDialogStack[0];if(lt){var st=lt.dialog.parentNode||document.body;st.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)};dialogPolyfill.DialogManager.prototype.containedByTopDialog_=function(rt){for(;rt=findNearestDialog(rt);){for(var it=0,at;at=this.pendingDialogStack[it];++it)if(at.dialog===rt)return it===0;rt=rt.parentElement}return!1};dialogPolyfill.DialogManager.prototype.handleFocus_=function(rt){var it=rt.composedPath?rt.composedPath()[0]:rt.target;if(!this.containedByTopDialog_(it)&&document.activeElement!==document.documentElement&&(rt.preventDefault(),rt.stopPropagation(),safeBlur(it),this.forwardTab_!==void 0)){var at=this.pendingDialogStack[0],lt=at.dialog,st=lt.compareDocumentPosition(it);return st&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?at.focus_():it!==document.documentElement&&document.documentElement.focus()),!1}};dialogPolyfill.DialogManager.prototype.handleKey_=function(rt){if(this.forwardTab_=void 0,rt.keyCode===27){rt.preventDefault(),rt.stopPropagation();var it=new supportCustomEvent("cancel",{bubbles:!1,cancelable:!0}),at=this.pendingDialogStack[0];at&&safeDispatchEvent(at.dialog,it)&&at.dialog.close()}else rt.keyCode===9&&(this.forwardTab_=!rt.shiftKey)};dialogPolyfill.DialogManager.prototype.checkDOM_=function(rt){var it=this.pendingDialogStack.slice();it.forEach(function(at){rt.indexOf(at.dialog)!==-1?at.downgradeModal():at.maybeHideModal()})};dialogPolyfill.DialogManager.prototype.pushDialog=function(rt){var it=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=it?!1:(this.pendingDialogStack.unshift(rt)===1&&this.blockDocument(),this.updateStacking(),!0)};dialogPolyfill.DialogManager.prototype.removeDialog=function(rt){var it=this.pendingDialogStack.indexOf(rt);it!==-1&&(this.pendingDialogStack.splice(it,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())};dialogPolyfill.dm=new dialogPolyfill.DialogManager;dialogPolyfill.formSubmitter=null;dialogPolyfill.imagemapUseValue=null;if(window.HTMLDialogElement===void 0){var testForm=document.createElement("form");if(testForm.setAttribute("method","dialog"),testForm.method!=="dialog"){var methodDescriptor=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(methodDescriptor){var realGet=methodDescriptor.get;methodDescriptor.get=function(){return isFormMethodDialog(this)?"dialog":realGet.call(this)};var realSet=methodDescriptor.set;methodDescriptor.set=function(rt){return typeof rt=="string"&&rt.toLowerCase()==="dialog"?this.setAttribute("method",rt):realSet.call(this,rt)},Object.defineProperty(HTMLFormElement.prototype,"method",methodDescriptor)}}document.addEventListener("click",function(rt){if(dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,!rt.defaultPrevented){var it=rt.target;if("composedPath"in rt){var at=rt.composedPath();it=at.shift()||it}if(!(!it||!isFormMethodDialog(it.form))){var lt=it.type==="submit"&&["button","input"].indexOf(it.localName)>-1;if(!lt){if(!(it.localName==="input"&&it.type==="image"))return;dialogPolyfill.imagemapUseValue=rt.offsetX+","+rt.offsetY}var st=findNearestDialog(it);st&&(dialogPolyfill.formSubmitter=it)}}},!1),document.addEventListener("submit",function(rt){var it=rt.target,at=findNearestDialog(it);if(!at){var lt=findFormSubmitter(rt),st=lt&&lt.getAttribute("formmethod")||it.getAttribute("method");st==="dialog"&&rt.preventDefault()}});var nativeFormSubmit=HTMLFormElement.prototype.submit,replacementFormSubmit=function(){if(!isFormMethodDialog(this))return nativeFormSubmit.call(this);var rt=findNearestDialog(this);rt&&rt.close()};HTMLFormElement.prototype.submit=replacementFormSubmit}const initialKbsState={inputShortcuts:[],cleanedShortcuts:[],combinedShortcuts:{},disableCount:0};reactExports.createContext(initialKbsState);reactExports.createContext(null);typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox");forwardRefWithGeneric(SearchSelectForwardRef);function SearchSelectForwardRef(rt,it){const{onSearchChange:at,options:lt,onSelect:st,selected:ct,getValue:ut=defaultGetValue,renderOption:ft=defaultRenderOption,renderSelectedOption:dt,closeListOnSelect:pt=!0,clearSearchOnSelect:ht=!0,onCreate:gt,canCreate:mt=defaultCanCreate,renderCreate:xt=defaultRenderCreate,...vt}=rt,$t=dt||ft,_t=reactExports.useMemo(()=>{if(ct)return{value:ut(ct),label:$t(ct)}},[ct,ut,$t]),yt=useSearchSelectInternals({showSelected:!1,searchValue:rt.searchValue,onSearchChange:at,options:lt,onSelect:st,getValue:ut,renderOption:ft,closeListOnSelect:pt,clearSearchOnSelect:ht,onCreate:gt,canCreate:mt,renderCreate:xt,formattedSelected:_t,selected:ct?[ct]:[],pinSelectedOptions:!1});return jsx(InternalSearchSelect,{...yt,...vt,inputRef:it,formattedSelected:_t,hasClearableValue:_t!==void 0})}const listBoxAndButtonSizes={xSmall:"py-1.5 text-sm sm:text-xs",small:"py-2 sm:text-sm",medium:"py-2 sm:text-sm",large:"py-2 text-base",xLarge:"py-3 text-base"},buttonSizes={xSmall:"pl-2 pr-8",small:"pl-2 pr-8",medium:"pl-3 pr-9",large:"pl-3 pr-9",xLarge:"pl-5 pr-11"};function Select(rt){const{options:it,selected:at,onSelect:lt,className:st,label:ct,hiddenLabel:ut=!1,error:ft,help:dt,placeholder:pt,required:ht=!1,clearable:gt=!1,disabled:mt=!1,corner:xt,getValue:vt=defaultGetValue,renderOption:$t=defaultRenderOption,renderSelectedOption:_t,highlightClassName:yt="text-white bg-primary-600",emptyHint:Et="No options available",size:wt="medium",fluidListBox:bt=!1,listBoxPlacement:St="start"}=rt,Tt=_t||$t,Rt=at?vt(at):void 0,{setReferenceElement:kt,setPopperElement:At,popperProps:Ct}=useModifiedPopper({placement:`bottom-${St}`,offset:5,sameWidth:!bt});if(at&&!it.some(Ot=>vt(Ot)===Rt))throw new Error("Select component contains a selected value that is not in options");function Mt(Ot){if(!lt)return;if(Ot===void 0)return lt(void 0);const Nt=it.find(It=>vt(It)===Ot);if(!Nt)throw new Error("unreachable");lt(Nt)}return jsx("div",{className:st,children:jsx(Bt,{as:"div",className:"space-y-1",value:Rt,disabled:mt,onChange:Mt,children:({open:Ot})=>jsxs(Fragment,{children:[(ct||xt)&&jsxs("div",{className:clsx("flex items-baseline justify-between gap-2",ut&&!xt&&"-mb-1"),children:[jsxs(Bt.Label,{className:clsx("block text-sm font-semibold",mt?labelDisabledColor:labelColor,ut&&"sr-only"),children:[ct,ht&&jsx("span",{className:"text-warning-600",children:" *"})]}),jsx(InputCorner,{children:xt})]}),jsxs("div",{className:"relative",children:[jsx("span",{ref:kt,className:"inline-block w-full rounded-md shadow-sm",children:jsxs(Bt.Button,{className:clsx("relative w-full cursor-default rounded-md border bg-white text-left shadow-sm focus:outline-none focus:ring-1",buttonSizes[wt],listBoxAndButtonSizes[wt],ft?inputError:inputColor),children:[jsx("span",{className:"block truncate",children:at?Tt(at):jsxs("span",{className:ft?"text-danger-300":"text-neutral-400",children:[pt,""]})}),!mt&&gt&&at&&jsx("div",{className:"absolute inset-y-0 right-6 mr-2 flex cursor-pointer items-center",onPointerUp:Nt=>{Nt.stopPropagation(),lt==null||lt(void 0)},children:jsx(XMarkIcon,{className:"h-4 w-4 text-neutral-400 hover:text-neutral-500"})}),jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-1",children:jsx("svg",{className:"h-5 w-5 text-neutral-400",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:jsx("path",{d:"M7 7l3-3 3 3m0 6l-3 3-3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),!mt&&Ot&&jsx("div",{ref:At,...Ct,className:"absolute z-20 rounded-md shadow-lg",children:jsxs(Bt.Options,{static:!0,className:"max-h-60 overflow-auto rounded-md bg-white py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[it.length===0&&jsx("div",{className:clsx("relative cursor-default select-none pl-8 pr-4",listBoxAndButtonSizes),children:jsx("span",{className:"block truncate font-normal text-neutral-500",children:Et})}),it.map(Nt=>{const It=vt(Nt);return jsx(Bt.Option,{value:It,children:({selected:Dt,active:zt})=>jsxs("div",{className:clsx(zt?yt:"text-neutral-900",listBoxAndButtonSizes[wt],"relative cursor-default select-none pl-8 pr-4"),children:[jsx("span",{className:clsx(Dt?"font-semibold":"font-normal","block truncate"),children:$t(Nt)}),Dt&&jsx("span",{className:clsx(zt?"text-white":"text-primary-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:jsx(CheckIcon,{className:"h-5 w-5"})})]})},It)})]})})]}),jsx(Help,{error:ft,help:dt})]})})})}reactExports.forwardRef(function rt(it,at){const{name:lt,id:st=lt,className:ct,error:ut,label:ft,hiddenLabel:dt=!1,corner:pt,help:ht,textAreaClassName:gt,rows:mt=5,...xt}=it;return jsxs("div",{className:ct,children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:st,text:ft,hidden:dt,required:it.required,disabled:it.disabled}),jsx(InputCorner,{children:pt})]}),jsx("div",{className:clsx("flex",{"mt-1":!dt||pt}),children:jsx("textarea",{ref:at,id:st,name:lt,className:clsx("form-textarea block w-full rounded-md border-neutral-300 shadow-sm sm:text-sm",{[inputColor]:!ut,[inputError]:ut},gt),rows:mt,...xt})}),jsx(Help,{error:ut,help:ht})]})});reactExports.forwardRef(function rt(it,at){const{name:lt,label:st,id:ct,description:ut,value:ft,checked:dt,...pt}=it;return jsx("label",{htmlFor:ct,children:jsxs("div",{className:clsx("flex p-4",{"z-10 border-primary-200 bg-primary-50":dt}),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{type:"radio",ref:at,name:lt,value:ft,id:ct,className:"h-4 w-4 cursor-pointer border-neutral-300 text-primary-600 focus:ring-primary-500",checked:dt,...pt})}),jsxs("label",{htmlFor:ct,className:"ml-3 flex cursor-pointer flex-col",children:[jsx("span",{className:clsx("block text-sm font-semibold",{"text-neutral-900":!dt&&!it.disabled,"text-primary-900":dt,"text-neutral-500":it.disabled}),children:st}),ut&&jsx("span",{className:clsx("block text-sm",{"text-neutral-500":!dt,"text-primary-700":dt}),children:ut})]})]})})});reactExports.createContext(null);reactExports.createContext({values:new Set,register:()=>{},unregister:()=>{}});reactExports.createContext(null);reactExports.createContext(null);const defaultTableContext={};reactExports.createContext(defaultTableContext);reactExports.createContext(null);reactExports.createContext(null);reactExports.createContext({isSelected:!1});const $69cb30bb0017df05$var$TABS_NAME="Tabs",[$69cb30bb0017df05$var$createTabsContext,$69cb30bb0017df05$export$355f5bd209d7b13a]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($69cb30bb0017df05$var$TABS_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4]),$69cb30bb0017df05$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4(),[$69cb30bb0017df05$var$TabsProvider,$69cb30bb0017df05$var$useTabsContext]=$69cb30bb0017df05$var$createTabsContext($69cb30bb0017df05$var$TABS_NAME),$69cb30bb0017df05$export$b2539bed5023c21c=reactExports.forwardRef((rt,it)=>{const{__scopeTabs:at,value:lt,onValueChange:st,defaultValue:ct,orientation:ut="horizontal",dir:ft,activationMode:dt="automatic",...pt}=rt,ht=$f631663db3294ace$export$b39126d51d94e6f3(ft),[gt,mt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lt,onChange:st,defaultProp:ct});return reactExports.createElement($69cb30bb0017df05$var$TabsProvider,{scope:at,baseId:$1746a345f3d73bb7$export$f680877a34711e37(),value:gt,onValueChange:mt,orientation:ut,dir:ht,activationMode:dt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({dir:ht,"data-orientation":ut},pt,{ref:it})))}),$69cb30bb0017df05$var$TAB_LIST_NAME="TabsList",$69cb30bb0017df05$export$9712d22edc0d78c1=reactExports.forwardRef((rt,it)=>{const{__scopeTabs:at,loop:lt=!0,...st}=rt,ct=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TAB_LIST_NAME,at),ut=$69cb30bb0017df05$var$useRovingFocusGroupScope(at);return reactExports.createElement($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9,_extends({asChild:!0},ut,{orientation:ct.orientation,dir:ct.dir,loop:lt}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({role:"tablist","aria-orientation":ct.orientation},st,{ref:it})))}),$69cb30bb0017df05$var$TRIGGER_NAME="TabsTrigger",$69cb30bb0017df05$export$8114b9fdfdf9f3ba=reactExports.forwardRef((rt,it)=>{const{__scopeTabs:at,value:lt,disabled:st=!1,...ct}=rt,ut=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TRIGGER_NAME,at),ft=$69cb30bb0017df05$var$useRovingFocusGroupScope(at),dt=$69cb30bb0017df05$var$makeTriggerId(ut.baseId,lt),pt=$69cb30bb0017df05$var$makeContentId(ut.baseId,lt),ht=lt===ut.value;return reactExports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends({asChild:!0},ft,{focusable:!st,active:ht}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button",role:"tab","aria-selected":ht,"aria-controls":pt,"data-state":ht?"active":"inactive","data-disabled":st?"":void 0,disabled:st,id:dt},ct,{ref:it,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onMouseDown,gt=>{!st&&gt.button===0&&gt.ctrlKey===!1?ut.onValueChange(lt):gt.preventDefault()}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onKeyDown,gt=>{[" ","Enter"].includes(gt.key)&&ut.onValueChange(lt)}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(rt.onFocus,()=>{const gt=ut.activationMode!=="manual";!ht&&!st&&gt&&ut.onValueChange(lt)})})))}),$69cb30bb0017df05$var$CONTENT_NAME="TabsContent",$69cb30bb0017df05$export$bd905d70e8fd2ebb=reactExports.forwardRef((rt,it)=>{const{__scopeTabs:at,value:lt,forceMount:st,children:ct,...ut}=rt,ft=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$CONTENT_NAME,at),dt=$69cb30bb0017df05$var$makeTriggerId(ft.baseId,lt),pt=$69cb30bb0017df05$var$makeContentId(ft.baseId,lt),ht=lt===ft.value,gt=reactExports.useRef(ht);return reactExports.useEffect(()=>{const mt=requestAnimationFrame(()=>gt.current=!1);return()=>cancelAnimationFrame(mt)},[]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:st||ht},({present:mt})=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-state":ht?"active":"inactive","data-orientation":ft.orientation,role:"tabpanel","aria-labelledby":dt,hidden:!mt,id:pt,tabIndex:0},ut,{ref:it,style:{...rt.style,animationDuration:gt.current?"0s":void 0}}),mt&&ct))});function $69cb30bb0017df05$var$makeTriggerId(rt,it){return`${rt}-trigger-${it}`}function $69cb30bb0017df05$var$makeContentId(rt,it){return`${rt}-content-${it}`}const $69cb30bb0017df05$export$be92b6f5f03c0fe9=$69cb30bb0017df05$export$b2539bed5023c21c,$69cb30bb0017df05$export$54c2e3dc7acea9f5=$69cb30bb0017df05$export$9712d22edc0d78c1,$69cb30bb0017df05$export$41fb9f06171c75f4=$69cb30bb0017df05$export$8114b9fdfdf9f3ba,$69cb30bb0017df05$export$7c6e2c02157bb7d2=$69cb30bb0017df05$export$bd905d70e8fd2ebb;function SwitchTabs(rt){const{tabs:it,align:at="left"}=rt;return jsxs($69cb30bb0017df05$export$be92b6f5f03c0fe9,{defaultValue:"0",children:[jsx("div",{className:clsx("flex",{"justify-start":at==="left","justify-end":at==="right","justify-center":at==="center"}),children:jsx($69cb30bb0017df05$export$54c2e3dc7acea9f5,{className:"flex flex-row items-center gap-2 rounded-lg bg-neutral-100 p-1",children:it.map(({title:lt,disabled:st,icon:ct},ut)=>jsx($69cb30bb0017df05$export$41fb9f06171c75f4,{value:String(ut),disabled:st,className:"group rounded-md py-1 px-2 text-sm font-semibold focus:ring-2 data-[state=active]:bg-white data-[disabled]:text-neutral-500 data-[state=active]:shadow",children:jsxs("div",{className:clsx("flex flex-row items-center gap-1",{"lg:pr-3":ct}),children:[ct&&jsx("span",{className:"h-5 w-5 group-data-[state=active]:text-primary-500",children:ct}),jsx("span",{children:lt})]})},ut))})}),it.map(({content:lt},st)=>jsx($69cb30bb0017df05$export$7c6e2c02157bb7d2,{value:String(st),className:"focus:outline-none",children:lt},st))]})}var IDX=256;for(;IDX--;)(IDX+256).toString(16).substring(1);function Cache(rt){this._maxSize=rt,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Cache.prototype.get=function(rt){return this._values[rt]};Cache.prototype.set=function(rt,it){return this._size>=this._maxSize&&this.clear(),rt in this._values||this._size++,this._values[rt]=it};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,MAX_CACHE_SIZE=512,pathCache=new Cache(MAX_CACHE_SIZE),setCache=new Cache(MAX_CACHE_SIZE),getCache$1=new Cache(MAX_CACHE_SIZE),propertyExpr={Cache,split,normalizePath,setter:function(rt){var it=normalizePath(rt);return setCache.get(rt)||setCache.set(rt,function(lt,st){for(var ct=0,ut=it.length,ft=lt;ct<ut-1;){var dt=it[ct];if(dt==="__proto__"||dt==="constructor"||dt==="prototype")return lt;ft=ft[it[ct++]]}ft[it[ct]]=st})},getter:function(rt,it){var at=normalizePath(rt);return getCache$1.get(rt)||getCache$1.set(rt,function(st){for(var ct=0,ut=at.length;ct<ut;)if(st!=null||!it)st=st[at[ct++]];else return;return st})},join:function(rt){return rt.reduce(function(it,at){return it+(isQuoted(at)||DIGIT_REGEX.test(at)?"["+at+"]":(it?".":"")+at)},"")},forEach:function(rt,it,at){forEach(Array.isArray(rt)?rt:split(rt),it,at)}};function normalizePath(rt){return pathCache.get(rt)||pathCache.set(rt,split(rt).map(function(it){return it.replace(CLEAN_QUOTES_REGEX,"$2")}))}function split(rt){return rt.match(SPLIT_REGEX)||[""]}function forEach(rt,it,at){var lt=rt.length,st,ct,ut,ft;for(ct=0;ct<lt;ct++)st=rt[ct],st&&(shouldBeQuoted(st)&&(st='"'+st+'"'),ft=isQuoted(st),ut=!ft&&/^\d+$/.test(st),it.call(at,st,ft,ut,ct,rt))}function isQuoted(rt){return typeof rt=="string"&&rt&&["'",'"'].indexOf(rt.charAt(0))!==-1}function hasLeadingNumber(rt){return rt.match(LEAD_DIGIT_REGEX)&&!rt.match(DIGIT_REGEX)}function hasSpecialChars(rt){return SPEC_CHAR_REGEX.test(rt)}function shouldBeQuoted(rt){return!isQuoted(rt)&&(hasLeadingNumber(rt)||hasSpecialChars(rt))}var toposortExports={},toposort$1={get exports(){return toposortExports},set exports(rt){toposortExports=rt}};toposort$1.exports=function(rt){return toposort(uniqueNodes(rt),rt)};toposortExports.array=toposort;function toposort(rt,it){var at=rt.length,lt=new Array(at),st={},ct=at,ut=makeOutgoingEdges(it),ft=makeNodesHash(rt);for(it.forEach(function(pt){if(!ft.has(pt[0])||!ft.has(pt[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});ct--;)st[ct]||dt(rt[ct],ct,new Set);return lt;function dt(pt,ht,gt){if(gt.has(pt)){var mt;try{mt=", node was:"+JSON.stringify(pt)}catch{mt=""}throw new Error("Cyclic dependency"+mt)}if(!ft.has(pt))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(pt));if(!st[ht]){st[ht]=!0;var xt=ut.get(pt)||new Set;if(xt=Array.from(xt),ht=xt.length){gt.add(pt);do{var vt=xt[--ht];dt(vt,ft.get(vt),gt)}while(ht);gt.delete(pt)}lt[--at]=pt}}}function uniqueNodes(rt){for(var it=new Set,at=0,lt=rt.length;at<lt;at++){var st=rt[at];it.add(st[0]),it.add(st[1])}return Array.from(it)}function makeOutgoingEdges(rt){for(var it=new Map,at=0,lt=rt.length;at<lt;at++){var st=rt[at];it.has(st[0])||it.set(st[0],new Set),it.has(st[1])||it.set(st[1],new Set),it.get(st[0]).add(st[1])}return it}function makeNodesHash(rt){for(var it=new Map,at=0,lt=rt.length;at<lt;at++)it.set(rt[at],at);return it}const toString$1=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printNumber(rt){return rt!=+rt?"NaN":rt===0&&1/rt<0?"-0":""+rt}function printSimpleValue(rt,it=!1){if(rt==null||rt===!0||rt===!1)return""+rt;const at=typeof rt;if(at==="number")return printNumber(rt);if(at==="string")return it?`"${rt}"`:rt;if(at==="function")return"[Function "+(rt.name||"anonymous")+"]";if(at==="symbol")return symbolToString.call(rt).replace(SYMBOL_REGEXP,"Symbol($1)");const lt=toString$1.call(rt).slice(8,-1);return lt==="Date"?isNaN(rt.getTime())?""+rt:rt.toISOString(rt):lt==="Error"||rt instanceof Error?"["+errorToString.call(rt)+"]":lt==="RegExp"?regExpToString.call(rt):null}function printValue(rt,it){let at=printSimpleValue(rt,it);return at!==null?at:JSON.stringify(rt,function(lt,st){let ct=printSimpleValue(this[lt],it);return ct!==null?ct:st},2)}function toArray(rt){return rt==null?[]:[].concat(rt)}let strReg=/\$\{\s*(\w+)\s*\}/g;class ValidationError extends Error{static formatError(it,at){const lt=at.label||at.path||"this";return lt!==at.path&&(at=Object.assign({},at,{path:lt})),typeof it=="string"?it.replace(strReg,(st,ct)=>printValue(at[ct])):typeof it=="function"?it(at):it}static isError(it){return it&&it.name==="ValidationError"}constructor(it,at,lt,st){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=at,this.path=lt,this.type=st,this.errors=[],this.inner=[],toArray(it).forEach(ct=>{ValidationError.isError(ct)?(this.errors.push(...ct.errors),this.inner=this.inner.concat(ct.inner.length?ct.inner:ct)):this.errors.push(ct)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}}let mixed={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:rt,type:it,value:at,originalValue:lt})=>{const st=lt!=null&&lt!==at?` (cast from the value \`${printValue(lt,!0)}\`).`:".";return it!=="mixed"?`${rt} must be a \`${it}\` type, but the final value was: \`${printValue(at,!0)}\``+st:`${rt} must match the configured type. The validated value was: \`${printValue(at,!0)}\``+st}},string$1={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},number$3={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date$2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},boolean={isValue:"${path} field must be ${value}"},object$1={noUnknown:"${path} field has unspecified keys: ${unknown}"},array$1={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed,string:string$1,number:number$3,date:date$2,object:object$1,array:array$1,boolean});const isSchema=rt=>rt&&rt.__isYupSchema__;class Condition{static fromOptions(it,at){if(!at.then&&!at.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:lt,then:st,otherwise:ct}=at,ut=typeof lt=="function"?lt:(...ft)=>ft.every(dt=>dt===lt);return new Condition(it,(ft,dt)=>{var pt;let ht=ut(...ft)?st:ct;return(pt=ht==null?void 0:ht(dt))!=null?pt:dt})}constructor(it,at){this.fn=void 0,this.refs=it,this.refs=it,this.fn=at}resolve(it,at){let lt=this.refs.map(ct=>ct.getValue(at==null?void 0:at.value,at==null?void 0:at.parent,at==null?void 0:at.context)),st=this.fn(lt,it,at);if(st===void 0||st===it)return it;if(!isSchema(st))throw new TypeError("conditions must return a schema object");return st.resolve(at)}}const prefixes$1={context:"$",value:"."};class Reference{constructor(it,at={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof it!="string")throw new TypeError("ref must be a string, got: "+it);if(this.key=it.trim(),it==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes$1.context,this.isValue=this.key[0]===prefixes$1.value,this.isSibling=!this.isContext&&!this.isValue;let lt=this.isContext?prefixes$1.context:this.isValue?prefixes$1.value:"";this.path=this.key.slice(lt.length),this.getter=this.path&&propertyExpr.getter(this.path,!0),this.map=at.map}getValue(it,at,lt){let st=this.isContext?lt:this.isValue?it:at;return this.getter&&(st=this.getter(st||{})),this.map&&(st=this.map(st)),st}cast(it,at){return this.getValue(it,at==null?void 0:at.parent,at==null?void 0:at.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(it){return it&&it.__isYupRef}}Reference.prototype.__isYupRef=!0;const isAbsent=rt=>rt==null;function createValidation(rt){function it({value:at,path:lt="",options:st,originalValue:ct,schema:ut},ft,dt){const{name:pt,test:ht,params:gt,message:mt,skipAbsent:xt}=rt;let{parent:vt,context:$t,abortEarly:_t=ut.spec.abortEarly}=st;function yt(Ct){return Reference.isRef(Ct)?Ct.getValue(at,vt,$t):Ct}function Et(Ct={}){const Mt=Object.assign({value:at,originalValue:ct,label:ut.spec.label,path:Ct.path||lt,spec:ut.spec},gt,Ct.params);for(const Nt of Object.keys(Mt))Mt[Nt]=yt(Mt[Nt]);const Ot=new ValidationError(ValidationError.formatError(Ct.message||mt,Mt),at,Mt.path,Ct.type||pt);return Ot.params=Mt,Ot}const wt=_t?ft:dt;let bt={path:lt,parent:vt,type:pt,from:st.from,createError:Et,resolve:yt,options:st,originalValue:ct,schema:ut};const St=Ct=>{ValidationError.isError(Ct)?wt(Ct):Ct?dt(null):wt(Et())},Tt=Ct=>{ValidationError.isError(Ct)?wt(Ct):ft(Ct)},Rt=xt&&isAbsent(at);if(!st.sync){try{Promise.resolve(Rt?!0:ht.call(bt,at,bt)).then(St,Tt)}catch(Ct){Tt(Ct)}return}let kt;try{var At;if(kt=Rt?!0:ht.call(bt,at,bt),typeof((At=kt)==null?void 0:At.then)=="function")throw new Error(`Validation test of type: "${bt.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(Ct){Tt(Ct);return}St(kt)}return it.OPTIONS=rt,it}function getIn(rt,it,at,lt=at){let st,ct,ut;return it?(propertyExpr.forEach(it,(ft,dt,pt)=>{let ht=dt?ft.slice(1,ft.length-1):ft;rt=rt.resolve({context:lt,parent:st,value:at});let gt=rt.type==="tuple",mt=pt?parseInt(ht,10):0;if(rt.innerType||gt){if(gt&&!pt)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${ut}" must contain an index to the tuple element, e.g. "${ut}[0]"`);if(at&&mt>=at.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${ft}, in the path: ${it}. because there is no value at that index. `);st=at,at=at&&at[mt],rt=gt?rt.spec.types[mt]:rt.innerType}if(!pt){if(!rt.fields||!rt.fields[ht])throw new Error(`The schema does not contain the path: ${it}. (failed at: ${ut} which is a type: "${rt.type}")`);st=at,at=at&&at[ht],rt=rt.fields[ht]}ct=ht,ut=dt?"["+ft+"]":"."+ft}),{schema:rt,parent:st,parentPath:ct}):{parent:st,parentPath:it,schema:rt}}class ReferenceSet extends Set{describe(){const it=[];for(const at of this.values())it.push(Reference.isRef(at)?at.describe():at);return it}resolveAll(it){let at=[];for(const lt of this.values())at.push(it(lt));return at}clone(){return new ReferenceSet(this.values())}merge(it,at){const lt=this.clone();return it.forEach(st=>lt.add(st)),at.forEach(st=>lt.delete(st)),lt}}function clone(rt,it=new Map){if(isSchema(rt)||!rt||typeof rt!="object")return rt;if(it.has(rt))return it.get(rt);let at;if(rt instanceof Date)at=new Date(rt.getTime()),it.set(rt,at);else if(rt instanceof RegExp)at=new RegExp(rt),it.set(rt,at);else if(Array.isArray(rt)){at=new Array(rt.length),it.set(rt,at);for(let lt=0;lt<rt.length;lt++)at[lt]=clone(rt[lt],it)}else if(rt instanceof Map){at=new Map,it.set(rt,at);for(const[lt,st]of rt.entries())at.set(lt,clone(st,it))}else if(rt instanceof Set){at=new Set,it.set(rt,at);for(const lt of rt)at.add(clone(lt,it))}else if(rt instanceof Object){at={},it.set(rt,at);for(const[lt,st]of Object.entries(rt))at[lt]=clone(st,it)}else throw Error(`Unable to clone ${rt}`);return at}class Schema{constructor(it){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mixed.notType)}),this.type=it.type,this._typeCheck=it.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},it==null?void 0:it.spec),this.withMutation(at=>{at.nonNullable()})}get _type(){return this.type}clone(it){if(this._mutate)return it&&Object.assign(this.spec,it),this;const at=Object.create(Object.getPrototypeOf(this));return at.type=this.type,at._typeCheck=this._typeCheck,at._whitelist=this._whitelist.clone(),at._blacklist=this._blacklist.clone(),at.internalTests=Object.assign({},this.internalTests),at.exclusiveTests=Object.assign({},this.exclusiveTests),at.deps=[...this.deps],at.conditions=[...this.conditions],at.tests=[...this.tests],at.transforms=[...this.transforms],at.spec=clone(Object.assign({},this.spec,it)),at}label(it){let at=this.clone();return at.spec.label=it,at}meta(...it){if(it.length===0)return this.spec.meta;let at=this.clone();return at.spec.meta=Object.assign(at.spec.meta||{},it[0]),at}withMutation(it){let at=this._mutate;this._mutate=!0;let lt=it(this);return this._mutate=at,lt}concat(it){if(!it||it===this)return this;if(it.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${it.type}`);let at=this,lt=it.clone();const st=Object.assign({},at.spec,lt.spec);return lt.spec=st,lt.internalTests=Object.assign({},at.internalTests,lt.internalTests),lt._whitelist=at._whitelist.merge(it._whitelist,it._blacklist),lt._blacklist=at._blacklist.merge(it._blacklist,it._whitelist),lt.tests=at.tests,lt.exclusiveTests=at.exclusiveTests,lt.withMutation(ct=>{it.tests.forEach(ut=>{ct.test(ut.OPTIONS)})}),lt.transforms=[...at.transforms,...lt.transforms],lt}isType(it){return it==null?!!(this.spec.nullable&&it===null||this.spec.optional&&it===void 0):this._typeCheck(it)}resolve(it){let at=this;if(at.conditions.length){let lt=at.conditions;at=at.clone(),at.conditions=[],at=lt.reduce((st,ct)=>ct.resolve(st,it),at),at=at.resolve(it)}return at}resolveOptions(it){var at,lt,st;return Object.assign({},it,{from:it.from||[],strict:(at=it.strict)!=null?at:this.spec.strict,abortEarly:(lt=it.abortEarly)!=null?lt:this.spec.abortEarly,recursive:(st=it.recursive)!=null?st:this.spec.recursive})}cast(it,at={}){let lt=this.resolve(Object.assign({value:it},at)),st=at.assert==="ignore-optionality",ct=lt._cast(it,at);if(at.assert!==!1&&!lt.isType(ct)){if(st&&isAbsent(ct))return ct;let ut=printValue(it),ft=printValue(ct);throw new TypeError(`The value of ${at.path||"field"} could not be cast to a value that satisfies the schema type: "${lt.type}". 

attempted value: ${ut} 
`+(ft!==ut?`result of cast: ${ft}`:""))}return ct}_cast(it,at){let lt=it===void 0?it:this.transforms.reduce((st,ct)=>ct.call(this,st,it,this),it);return lt===void 0&&(lt=this.getDefault()),lt}_validate(it,at={},lt,st){let{path:ct,originalValue:ut=it,strict:ft=this.spec.strict}=at,dt=it;ft||(dt=this._cast(dt,Object.assign({assert:!1},at)));let pt=[];for(let ht of Object.values(this.internalTests))ht&&pt.push(ht);this.runTests({path:ct,value:dt,originalValue:ut,options:at,tests:pt},lt,ht=>{if(ht.length)return st(ht,dt);this.runTests({path:ct,value:dt,originalValue:ut,options:at,tests:this.tests},lt,st)})}runTests(it,at,lt){let st=!1,{tests:ct,value:ut,originalValue:ft,path:dt,options:pt}=it,ht=$t=>{st||(st=!0,at($t,ut))},gt=$t=>{st||(st=!0,lt($t,ut))},mt=ct.length,xt=[];if(!mt)return gt([]);let vt={value:ut,originalValue:ft,path:dt,options:pt,schema:this};for(let $t=0;$t<ct.length;$t++){const _t=ct[$t];_t(vt,ht,function(Et){Et&&(xt=xt.concat(Et)),--mt<=0&&gt(xt)})}}asNestedTest({key:it,index:at,parent:lt,parentPath:st,originalParent:ct,options:ut}){const ft=it??at;if(ft==null)throw TypeError("Must include `key` or `index` for nested validations");const dt=typeof ft=="number";let pt=lt[ft];const ht=Object.assign({},ut,{strict:!0,parent:lt,value:pt,originalValue:ct[ft],key:void 0,[dt?"index":"key"]:ft,path:dt||ft.includes(".")?`${st||""}[${pt?ft:`"${ft}"`}]`:(st?`${st}.`:"")+it});return(gt,mt,xt)=>this.resolve(ht)._validate(pt,ht,mt,xt)}validate(it,at){let lt=this.resolve(Object.assign({},at,{value:it}));return new Promise((st,ct)=>lt._validate(it,at,(ut,ft)=>{ValidationError.isError(ut)&&(ut.value=ft),ct(ut)},(ut,ft)=>{ut.length?ct(new ValidationError(ut,ft)):st(ft)}))}validateSync(it,at){let lt=this.resolve(Object.assign({},at,{value:it})),st;return lt._validate(it,Object.assign({},at,{sync:!0}),(ct,ut)=>{throw ValidationError.isError(ct)&&(ct.value=ut),ct},(ct,ut)=>{if(ct.length)throw new ValidationError(ct,it);st=ut}),st}isValid(it,at){return this.validate(it,at).then(()=>!0,lt=>{if(ValidationError.isError(lt))return!1;throw lt})}isValidSync(it,at){try{return this.validateSync(it,at),!0}catch(lt){if(ValidationError.isError(lt))return!1;throw lt}}_getDefault(){let it=this.spec.default;return it==null?it:typeof it=="function"?it.call(this):clone(it)}getDefault(it){return this.resolve(it||{})._getDefault()}default(it){return arguments.length===0?this._getDefault():this.clone({default:it})}strict(it=!0){return this.clone({strict:it})}nullability(it,at){const lt=this.clone({nullable:it});return lt.internalTests.nullable=createValidation({message:at,name:"nullable",test(st){return st===null?this.schema.spec.nullable:!0}}),lt}optionality(it,at){const lt=this.clone({optional:it});return lt.internalTests.optionality=createValidation({message:at,name:"optionality",test(st){return st===void 0?this.schema.spec.optional:!0}}),lt}optional(){return this.optionality(!0)}defined(it=mixed.defined){return this.optionality(!1,it)}nullable(){return this.nullability(!0)}nonNullable(it=mixed.notNull){return this.nullability(!1,it)}required(it=mixed.required){return this.clone().withMutation(at=>at.nonNullable(it).defined(it))}notRequired(){return this.clone().withMutation(it=>it.nullable().optional())}transform(it){let at=this.clone();return at.transforms.push(it),at}test(...it){let at;if(it.length===1?typeof it[0]=="function"?at={test:it[0]}:at=it[0]:it.length===2?at={name:it[0],test:it[1]}:at={name:it[0],message:it[1],test:it[2]},at.message===void 0&&(at.message=mixed.default),typeof at.test!="function")throw new TypeError("`test` is a required parameters");let lt=this.clone(),st=createValidation(at),ct=at.exclusive||at.name&&lt.exclusiveTests[at.name]===!0;if(at.exclusive&&!at.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return at.name&&(lt.exclusiveTests[at.name]=!!at.exclusive),lt.tests=lt.tests.filter(ut=>!(ut.OPTIONS.name===at.name&&(ct||ut.OPTIONS.test===st.OPTIONS.test))),lt.tests.push(st),lt}when(it,at){!Array.isArray(it)&&typeof it!="string"&&(at=it,it=".");let lt=this.clone(),st=toArray(it).map(ct=>new Reference(ct));return st.forEach(ct=>{ct.isSibling&&lt.deps.push(ct.key)}),lt.conditions.push(typeof at=="function"?new Condition(st,at):Condition.fromOptions(st,at)),lt}typeError(it){let at=this.clone();return at.internalTests.typeError=createValidation({message:it,name:"typeError",test(lt){return!isAbsent(lt)&&!this.schema._typeCheck(lt)?this.createError({params:{type:this.schema.type}}):!0}}),at}oneOf(it,at=mixed.oneOf){let lt=this.clone();return it.forEach(st=>{lt._whitelist.add(st),lt._blacklist.delete(st)}),lt.internalTests.whiteList=createValidation({message:at,name:"oneOf",skipAbsent:!0,test(st){let ct=this.schema._whitelist,ut=ct.resolveAll(this.resolve);return ut.includes(st)?!0:this.createError({params:{values:Array.from(ct).join(", "),resolved:ut}})}}),lt}notOneOf(it,at=mixed.notOneOf){let lt=this.clone();return it.forEach(st=>{lt._blacklist.add(st),lt._whitelist.delete(st)}),lt.internalTests.blacklist=createValidation({message:at,name:"notOneOf",test(st){let ct=this.schema._blacklist,ut=ct.resolveAll(this.resolve);return ut.includes(st)?this.createError({params:{values:Array.from(ct).join(", "),resolved:ut}}):!0}}),lt}strip(it=!0){let at=this.clone();return at.spec.strip=it,at}describe(it){const at=(it?this.resolve(it):this).clone(),{label:lt,meta:st,optional:ct,nullable:ut}=at.spec;return{meta:st,label:lt,optional:ct,nullable:ut,default:at.getDefault(it),type:at.type,oneOf:at._whitelist.describe(),notOneOf:at._blacklist.describe(),tests:at.tests.map(dt=>({name:dt.OPTIONS.name,params:dt.OPTIONS.params})).filter((dt,pt,ht)=>ht.findIndex(gt=>gt.name===dt.name)===pt)}}}Schema.prototype.__isYupSchema__=!0;for(const rt of["validate","validateSync"])Schema.prototype[`${rt}At`]=function(it,at,lt={}){const{parent:st,parentPath:ct,schema:ut}=getIn(this,it,at,lt.context);return ut[rt](st&&st[ct],Object.assign({},lt,{parent:st,path:it}))};for(const rt of["equals","is"])Schema.prototype[rt]=Schema.prototype.oneOf;for(const rt of["not","nope"])Schema.prototype[rt]=Schema.prototype.notOneOf;var isoReg=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function parseIsoDate(rt){var it=[1,4,5,6,7,10,11],at=0,lt,st;if(st=isoReg.exec(rt)){for(var ct=0,ut;ut=it[ct];++ct)st[ut]=+st[ut]||0;st[2]=(+st[2]||1)-1,st[3]=+st[3]||1,st[7]=st[7]?String(st[7]).substr(0,3):0,(st[8]===void 0||st[8]==="")&&(st[9]===void 0||st[9]==="")?lt=+new Date(st[1],st[2],st[3],st[4],st[5],st[6],st[7]):(st[8]!=="Z"&&st[9]!==void 0&&(at=st[10]*60+st[11],st[9]==="+"&&(at=0-at)),lt=Date.UTC(st[1],st[2],st[3],st[4],st[5]+at,st[6],st[7]))}else lt=Date.parse?Date.parse(rt):NaN;return lt}let invalidDate=new Date(""),isDate=rt=>Object.prototype.toString.call(rt)==="[object Date]";class DateSchema extends Schema{constructor(){super({type:"date",check(it){return isDate(it)&&!isNaN(it.getTime())}}),this.withMutation(()=>{this.transform((it,at,lt)=>!lt.spec.coerce||lt.isType(it)?it:(it=parseIsoDate(it),isNaN(it)?DateSchema.INVALID_DATE:new Date(it)))})}prepareParam(it,at){let lt;if(Reference.isRef(it))lt=it;else{let st=this.cast(it);if(!this._typeCheck(st))throw new TypeError(`\`${at}\` must be a Date or a value that can be \`cast()\` to a Date`);lt=st}return lt}min(it,at=date$2.min){let lt=this.prepareParam(it,"min");return this.test({message:at,name:"min",exclusive:!0,params:{min:it},skipAbsent:!0,test(st){return st>=this.resolve(lt)}})}max(it,at=date$2.max){let lt=this.prepareParam(it,"max");return this.test({message:at,name:"max",exclusive:!0,params:{max:it},skipAbsent:!0,test(st){return st<=this.resolve(lt)}})}}DateSchema.INVALID_DATE=invalidDate;function LoadImage(){const rt=reactExports.useContext(DataContext);return jsx(Select,{size:"medium",onSelect:it=>{rt.actions.loadImage(it.value)},options:[{label:"good.jpg",value:"/test/good.jpg"},{label:"redDots.jpg",value:"/test/redDots.jpg"},{label:"overlap.jpg",value:"/test/overlap.jpg"},{label:"colorTags.jpg",value:"/test/colorTags.jpg"},{label:"screwTags.jpg",value:"/test/screwTags.jpg"},{label:"bwTags.jpg",value:"/test/bwTags.jpg"},{label:"bwTags2.jpg",value:"/test/bwTags2.jpg"}],placeholder:"Select an image..."})}function ascending$2(rt,it){return rt<it?-1:rt>it?1:rt>=it?0:NaN}function bisector$2(rt){return rt.length===1&&(rt=ascendingComparator(rt)),{left:function(it,at,lt,st){for(lt==null&&(lt=0),st==null&&(st=it.length);lt<st;){var ct=lt+st>>>1;rt(it[ct],at)<0?lt=ct+1:st=ct}return lt},right:function(it,at,lt,st){for(lt==null&&(lt=0),st==null&&(st=it.length);lt<st;){var ct=lt+st>>>1;rt(it[ct],at)>0?st=ct:lt=ct+1}return lt}}}function ascendingComparator(rt){return function(it,at){return ascending$2(rt(it),at)}}bisector$2(ascending$2);function xMedian(rt){if(!isAnyArray(rt))throw new TypeError("input must be an array");if(rt.length===0)throw new TypeError("input must not be empty");const it=rt.slice();let at=0,lt=it.length-1,st=0,ct=0,ut=0,ft=calcMiddle(at,lt);for(;;){if(lt<=at)return it[ft];if(lt===at+1)return it[at]>it[lt]&&swap(it,at,lt),it[ft];for(st=calcMiddle(at,lt),it[st]>it[lt]&&swap(it,st,lt),it[at]>it[lt]&&swap(it,at,lt),it[st]>it[at]&&swap(it,st,at),swap(it,st,at+1),ct=at+1,ut=lt;;){do ct++;while(it[at]>it[ct]);do ut--;while(it[ut]>it[at]);if(ut<ct)break;swap(it,ct,ut)}swap(it,at,ut),ut<=ft&&(at=ct),ut>=ft&&(lt=ut-1)}}function swap(rt,it,at){const lt=rt[at];rt[at]=rt[it],rt[it]=lt}function calcMiddle(rt,it){return Math.floor((rt+it)/2)}function xyCheck(rt,it={}){const{minLength:at}=it;if(typeof rt!="object"||!isAnyArray(rt.x)||!isAnyArray(rt.y))throw new Error("Data must be an object of x and y arrays");if(rt.x.length!==rt.y.length)throw new Error("The x and y arrays must have the same length");if(at&&rt.x.length<at)throw new Error(`data.x must have a length of at least ${at}`)}function xyToXYObject(rt){xyCheck(rt);const{x:it,y:at}=rt;let lt=[];for(let st=0;st<it.length;st++)lt.push({x:it[st],y:at[st]});return lt}function createStepArray(rt={}){let{from:it=0,step:at=1,length:lt=1e3}=rt;const st=new Float64Array(lt);let ct=0;for(;ct<lt;)st[ct]=it+at*ct,ct++;return st}function ascending$1(rt,it){return rt==null||it==null?NaN:rt<it?-1:rt>it?1:rt>=it?0:NaN}function descending$1(rt,it){return rt==null||it==null?NaN:it<rt?-1:it>rt?1:it>=rt?0:NaN}function bisector$1(rt){let it,at,lt;rt.length!==2?(it=ascending$1,at=(ft,dt)=>ascending$1(rt(ft),dt),lt=(ft,dt)=>rt(ft)-dt):(it=rt===ascending$1||rt===descending$1?rt:zero$2,at=rt,lt=rt);function st(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(it(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ct(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(it(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<=0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ut(ft,dt,pt=0,ht=ft.length){const gt=st(ft,dt,pt,ht-1);return gt>pt&&lt(ft[gt-1],dt)>-lt(ft[gt],dt)?gt-1:gt}return{left:st,center:ut,right:ct}}function zero$2(){return 0}function number$2(rt){return rt===null?NaN:+rt}const ascendingBisect=bisector$1(ascending$1),bisectRight=ascendingBisect.right;bisector$1(number$2).center;const bisect=bisectRight;class InternMap extends Map{constructor(it,at=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:at}}),it!=null)for(const[lt,st]of it)this.set(lt,st)}get(it){return super.get(intern_get(this,it))}has(it){return super.has(intern_get(this,it))}set(it,at){return super.set(intern_set(this,it),at)}delete(it){return super.delete(intern_delete(this,it))}}function intern_get({_intern:rt,_key:it},at){const lt=it(at);return rt.has(lt)?rt.get(lt):at}function intern_set({_intern:rt,_key:it},at){const lt=it(at);return rt.has(lt)?rt.get(lt):(rt.set(lt,at),at)}function intern_delete({_intern:rt,_key:it},at){const lt=it(at);return rt.has(lt)&&(at=rt.get(lt),rt.delete(lt)),at}function keyof(rt){return rt!==null&&typeof rt=="object"?rt.valueOf():rt}const e10$1=Math.sqrt(50),e5$1=Math.sqrt(10),e2$1=Math.sqrt(2);function tickSpec$1(rt,it,at){const lt=(it-rt)/Math.max(0,at),st=Math.floor(Math.log10(lt)),ct=lt/Math.pow(10,st),ut=ct>=e10$1?10:ct>=e5$1?5:ct>=e2$1?2:1;let ft,dt,pt;return st<0?(pt=Math.pow(10,-st)/ut,ft=Math.round(rt*pt),dt=Math.round(it*pt),ft/pt<rt&&++ft,dt/pt>it&&--dt,pt=-pt):(pt=Math.pow(10,st)*ut,ft=Math.round(rt/pt),dt=Math.round(it/pt),ft*pt<rt&&++ft,dt*pt>it&&--dt),dt<ft&&.5<=at&&at<2?tickSpec$1(rt,it,at*2):[ft,dt,pt]}function ticks(rt,it,at){if(it=+it,rt=+rt,at=+at,!(at>0))return[];if(rt===it)return[rt];const lt=it<rt,[st,ct,ut]=lt?tickSpec$1(it,rt,at):tickSpec$1(rt,it,at);if(!(ct>=st))return[];const ft=ct-st+1,dt=new Array(ft);if(lt)if(ut<0)for(let pt=0;pt<ft;++pt)dt[pt]=(ct-pt)/-ut;else for(let pt=0;pt<ft;++pt)dt[pt]=(ct-pt)*ut;else if(ut<0)for(let pt=0;pt<ft;++pt)dt[pt]=(st+pt)/-ut;else for(let pt=0;pt<ft;++pt)dt[pt]=(st+pt)*ut;return dt}function tickIncrement$1(rt,it,at){return it=+it,rt=+rt,at=+at,tickSpec$1(rt,it,at)[2]}function tickStep$1(rt,it,at){it=+it,rt=+rt,at=+at;const lt=it<rt,st=lt?tickIncrement$1(it,rt,at):tickIncrement$1(rt,it,at);return(lt?-1:1)*(st<0?1/-st:st)}function initRange(rt,it){switch(arguments.length){case 0:break;case 1:this.range(rt);break;default:this.range(it).domain(rt);break}return this}const implicit=Symbol("implicit");function ordinal(){var rt=new InternMap,it=[],at=[],lt=implicit;function st(ct){let ut=rt.get(ct);if(ut===void 0){if(lt!==implicit)return lt;rt.set(ct,ut=it.push(ct)-1)}return at[ut%at.length]}return st.domain=function(ct){if(!arguments.length)return it.slice();it=[],rt=new InternMap;for(const ut of ct)rt.has(ut)||rt.set(ut,it.push(ut)-1);return st},st.range=function(ct){return arguments.length?(at=Array.from(ct),st):at.slice()},st.unknown=function(ct){return arguments.length?(lt=ct,st):lt},st.copy=function(){return ordinal(it,at).unknown(lt)},initRange.apply(st,arguments),st}function define(rt,it,at){rt.prototype=it.prototype=at,at.constructor=rt}function extend(rt,it){var at=Object.create(rt.prototype);for(var lt in it)at[lt]=it[lt];return at}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(rt){return Object.assign(new this.constructor,this,rt)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(rt){var it,at;return rt=(rt+"").trim().toLowerCase(),(it=reHex.exec(rt))?(at=it[1].length,it=parseInt(it[1],16),at===6?rgbn(it):at===3?new Rgb(it>>8&15|it>>4&240,it>>4&15|it&240,(it&15)<<4|it&15,1):at===8?rgba(it>>24&255,it>>16&255,it>>8&255,(it&255)/255):at===4?rgba(it>>12&15|it>>8&240,it>>8&15|it>>4&240,it>>4&15|it&240,((it&15)<<4|it&15)/255):null):(it=reRgbInteger.exec(rt))?new Rgb(it[1],it[2],it[3],1):(it=reRgbPercent.exec(rt))?new Rgb(it[1]*255/100,it[2]*255/100,it[3]*255/100,1):(it=reRgbaInteger.exec(rt))?rgba(it[1],it[2],it[3],it[4]):(it=reRgbaPercent.exec(rt))?rgba(it[1]*255/100,it[2]*255/100,it[3]*255/100,it[4]):(it=reHslPercent.exec(rt))?hsla(it[1],it[2]/100,it[3]/100,1):(it=reHslaPercent.exec(rt))?hsla(it[1],it[2]/100,it[3]/100,it[4]):named.hasOwnProperty(rt)?rgbn(named[rt]):rt==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(rt){return new Rgb(rt>>16&255,rt>>8&255,rt&255,1)}function rgba(rt,it,at,lt){return lt<=0&&(rt=it=at=NaN),new Rgb(rt,it,at,lt)}function rgbConvert(rt){return rt instanceof Color||(rt=color(rt)),rt?(rt=rt.rgb(),new Rgb(rt.r,rt.g,rt.b,rt.opacity)):new Rgb}function rgb$1(rt,it,at,lt){return arguments.length===1?rgbConvert(rt):new Rgb(rt,it,at,lt??1)}function Rgb(rt,it,at,lt){this.r=+rt,this.g=+it,this.b=+at,this.opacity=+lt}define(Rgb,rgb$1,extend(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const rt=clampa(this.opacity);return`${rt===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${rt===1?")":`, ${rt})`}`}function clampa(rt){return isNaN(rt)?1:Math.max(0,Math.min(1,rt))}function clampi(rt){return Math.max(0,Math.min(255,Math.round(rt)||0))}function hex(rt){return rt=clampi(rt),(rt<16?"0":"")+rt.toString(16)}function hsla(rt,it,at,lt){return lt<=0?rt=it=at=NaN:at<=0||at>=1?rt=it=NaN:it<=0&&(rt=NaN),new Hsl(rt,it,at,lt)}function hslConvert(rt){if(rt instanceof Hsl)return new Hsl(rt.h,rt.s,rt.l,rt.opacity);if(rt instanceof Color||(rt=color(rt)),!rt)return new Hsl;if(rt instanceof Hsl)return rt;rt=rt.rgb();var it=rt.r/255,at=rt.g/255,lt=rt.b/255,st=Math.min(it,at,lt),ct=Math.max(it,at,lt),ut=NaN,ft=ct-st,dt=(ct+st)/2;return ft?(it===ct?ut=(at-lt)/ft+(at<lt)*6:at===ct?ut=(lt-it)/ft+2:ut=(it-at)/ft+4,ft/=dt<.5?ct+st:2-ct-st,ut*=60):ft=dt>0&&dt<1?0:ut,new Hsl(ut,ft,dt,rt.opacity)}function hsl(rt,it,at,lt){return arguments.length===1?hslConvert(rt):new Hsl(rt,it,at,lt??1)}function Hsl(rt,it,at,lt){this.h=+rt,this.s=+it,this.l=+at,this.opacity=+lt}define(Hsl,hsl,extend(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},rgb(){var rt=this.h%360+(this.h<0)*360,it=isNaN(rt)||isNaN(this.s)?0:this.s,at=this.l,lt=at+(at<.5?at:1-at)*it,st=2*at-lt;return new Rgb(hsl2rgb(rt>=240?rt-240:rt+120,st,lt),hsl2rgb(rt,st,lt),hsl2rgb(rt<120?rt+240:rt-120,st,lt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const rt=clampa(this.opacity);return`${rt===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${rt===1?")":`, ${rt})`}`}}));function clamph(rt){return rt=(rt||0)%360,rt<0?rt+360:rt}function clampt(rt){return Math.max(0,Math.min(1,rt||0))}function hsl2rgb(rt,it,at){return(rt<60?it+(at-it)*rt/60:rt<180?at:rt<240?it+(at-it)*(240-rt)/60:it)*255}const constant$1=rt=>()=>rt;function linear$1(rt,it){return function(at){return rt+at*it}}function exponential(rt,it,at){return rt=Math.pow(rt,at),it=Math.pow(it,at)-rt,at=1/at,function(lt){return Math.pow(rt+lt*it,at)}}function gamma(rt){return(rt=+rt)==1?nogamma:function(it,at){return at-it?exponential(it,at,rt):constant$1(isNaN(it)?at:it)}}function nogamma(rt,it){var at=it-rt;return at?linear$1(rt,at):constant$1(isNaN(rt)?it:rt)}const rgb=function rt(it){var at=gamma(it);function lt(st,ct){var ut=at((st=rgb$1(st)).r,(ct=rgb$1(ct)).r),ft=at(st.g,ct.g),dt=at(st.b,ct.b),pt=nogamma(st.opacity,ct.opacity);return function(ht){return st.r=ut(ht),st.g=ft(ht),st.b=dt(ht),st.opacity=pt(ht),st+""}}return lt.gamma=rt,lt}(1);function numberArray(rt,it){it||(it=[]);var at=rt?Math.min(it.length,rt.length):0,lt=it.slice(),st;return function(ct){for(st=0;st<at;++st)lt[st]=rt[st]*(1-ct)+it[st]*ct;return lt}}function isNumberArray(rt){return ArrayBuffer.isView(rt)&&!(rt instanceof DataView)}function genericArray(rt,it){var at=it?it.length:0,lt=rt?Math.min(at,rt.length):0,st=new Array(lt),ct=new Array(at),ut;for(ut=0;ut<lt;++ut)st[ut]=interpolate(rt[ut],it[ut]);for(;ut<at;++ut)ct[ut]=it[ut];return function(ft){for(ut=0;ut<lt;++ut)ct[ut]=st[ut](ft);return ct}}function date$1(rt,it){var at=new Date;return rt=+rt,it=+it,function(lt){return at.setTime(rt*(1-lt)+it*lt),at}}function interpolateNumber(rt,it){return rt=+rt,it=+it,function(at){return rt*(1-at)+it*at}}function object(rt,it){var at={},lt={},st;(rt===null||typeof rt!="object")&&(rt={}),(it===null||typeof it!="object")&&(it={});for(st in it)st in rt?at[st]=interpolate(rt[st],it[st]):lt[st]=it[st];return function(ct){for(st in at)lt[st]=at[st](ct);return lt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$1(rt){return function(){return rt}}function one(rt){return function(it){return rt(it)+""}}function string(rt,it){var at=reA.lastIndex=reB.lastIndex=0,lt,st,ct,ut=-1,ft=[],dt=[];for(rt=rt+"",it=it+"";(lt=reA.exec(rt))&&(st=reB.exec(it));)(ct=st.index)>at&&(ct=it.slice(at,ct),ft[ut]?ft[ut]+=ct:ft[++ut]=ct),(lt=lt[0])===(st=st[0])?ft[ut]?ft[ut]+=st:ft[++ut]=st:(ft[++ut]=null,dt.push({i:ut,x:interpolateNumber(lt,st)})),at=reB.lastIndex;return at<it.length&&(ct=it.slice(at),ft[ut]?ft[ut]+=ct:ft[++ut]=ct),ft.length<2?dt[0]?one(dt[0].x):zero$1(it):(it=dt.length,function(pt){for(var ht=0,gt;ht<it;++ht)ft[(gt=dt[ht]).i]=gt.x(pt);return ft.join("")})}function interpolate(rt,it){var at=typeof it,lt;return it==null||at==="boolean"?constant$1(it):(at==="number"?interpolateNumber:at==="string"?(lt=color(it))?(it=lt,rgb):string:it instanceof color?rgb:it instanceof Date?date$1:isNumberArray(it)?numberArray:Array.isArray(it)?genericArray:typeof it.valueOf!="function"&&typeof it.toString!="function"||isNaN(it)?object:interpolateNumber)(rt,it)}function interpolateRound(rt,it){return rt=+rt,it=+it,function(at){return Math.round(rt*(1-at)+it*at)}}function constants(rt){return function(){return rt}}function number$1(rt){return+rt}var unit=[0,1];function identity$1(rt){return rt}function normalize(rt,it){return(it-=rt=+rt)?function(at){return(at-rt)/it}:constants(isNaN(it)?NaN:.5)}function clamper(rt,it){var at;return rt>it&&(at=rt,rt=it,it=at),function(lt){return Math.max(rt,Math.min(it,lt))}}function bimap(rt,it,at){var lt=rt[0],st=rt[1],ct=it[0],ut=it[1];return st<lt?(lt=normalize(st,lt),ct=at(ut,ct)):(lt=normalize(lt,st),ct=at(ct,ut)),function(ft){return ct(lt(ft))}}function polymap(rt,it,at){var lt=Math.min(rt.length,it.length)-1,st=new Array(lt),ct=new Array(lt),ut=-1;for(rt[lt]<rt[0]&&(rt=rt.slice().reverse(),it=it.slice().reverse());++ut<lt;)st[ut]=normalize(rt[ut],rt[ut+1]),ct[ut]=at(it[ut],it[ut+1]);return function(ft){var dt=bisect(rt,ft,1,lt)-1;return ct[dt](st[dt](ft))}}function copy(rt,it){return it.domain(rt.domain()).range(rt.range()).interpolate(rt.interpolate()).clamp(rt.clamp()).unknown(rt.unknown())}function transformer(){var rt=unit,it=unit,at=interpolate,lt,st,ct,ut=identity$1,ft,dt,pt;function ht(){var mt=Math.min(rt.length,it.length);return ut!==identity$1&&(ut=clamper(rt[0],rt[mt-1])),ft=mt>2?polymap:bimap,dt=pt=null,gt}function gt(mt){return mt==null||isNaN(mt=+mt)?ct:(dt||(dt=ft(rt.map(lt),it,at)))(lt(ut(mt)))}return gt.invert=function(mt){return ut(st((pt||(pt=ft(it,rt.map(lt),interpolateNumber)))(mt)))},gt.domain=function(mt){return arguments.length?(rt=Array.from(mt,number$1),ht()):rt.slice()},gt.range=function(mt){return arguments.length?(it=Array.from(mt),ht()):it.slice()},gt.rangeRound=function(mt){return it=Array.from(mt),at=interpolateRound,ht()},gt.clamp=function(mt){return arguments.length?(ut=mt?!0:identity$1,ht()):ut!==identity$1},gt.interpolate=function(mt){return arguments.length?(at=mt,ht()):at},gt.unknown=function(mt){return arguments.length?(ct=mt,gt):ct},function(mt,xt){return lt=mt,st=xt,ht()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimal(rt){return Math.abs(rt=Math.round(rt))>=1e21?rt.toLocaleString("en").replace(/,/g,""):rt.toString(10)}function formatDecimalParts(rt,it){if((at=(rt=it?rt.toExponential(it-1):rt.toExponential()).indexOf("e"))<0)return null;var at,lt=rt.slice(0,at);return[lt.length>1?lt[0]+lt.slice(2):lt,+rt.slice(at+1)]}function exponent(rt){return rt=formatDecimalParts(Math.abs(rt)),rt?rt[1]:NaN}function formatGroup(rt,it){return function(at,lt){for(var st=at.length,ct=[],ut=0,ft=rt[0],dt=0;st>0&&ft>0&&(dt+ft+1>lt&&(ft=Math.max(1,lt-dt)),ct.push(at.substring(st-=ft,st+ft)),!((dt+=ft+1)>lt));)ft=rt[ut=(ut+1)%rt.length];return ct.reverse().join(it)}}function formatNumerals(rt){return function(it){return it.replace(/[0-9]/g,function(at){return rt[+at]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(rt){if(!(it=re.exec(rt)))throw new Error("invalid format: "+rt);var it;return new FormatSpecifier({fill:it[1],align:it[2],sign:it[3],symbol:it[4],zero:it[5],width:it[6],comma:it[7],precision:it[8]&&it[8].slice(1),trim:it[9],type:it[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(rt){this.fill=rt.fill===void 0?" ":rt.fill+"",this.align=rt.align===void 0?">":rt.align+"",this.sign=rt.sign===void 0?"-":rt.sign+"",this.symbol=rt.symbol===void 0?"":rt.symbol+"",this.zero=!!rt.zero,this.width=rt.width===void 0?void 0:+rt.width,this.comma=!!rt.comma,this.precision=rt.precision===void 0?void 0:+rt.precision,this.trim=!!rt.trim,this.type=rt.type===void 0?"":rt.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(rt){e:for(var it=rt.length,at=1,lt=-1,st;at<it;++at)switch(rt[at]){case".":lt=st=at;break;case"0":lt===0&&(lt=at),st=at;break;default:if(!+rt[at])break e;lt>0&&(lt=0);break}return lt>0?rt.slice(0,lt)+rt.slice(st+1):rt}var prefixExponent;function formatPrefixAuto(rt,it){var at=formatDecimalParts(rt,it);if(!at)return rt+"";var lt=at[0],st=at[1],ct=st-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(st/3)))*3)+1,ut=lt.length;return ct===ut?lt:ct>ut?lt+new Array(ct-ut+1).join("0"):ct>0?lt.slice(0,ct)+"."+lt.slice(ct):"0."+new Array(1-ct).join("0")+formatDecimalParts(rt,Math.max(0,it+ct-1))[0]}function formatRounded(rt,it){var at=formatDecimalParts(rt,it);if(!at)return rt+"";var lt=at[0],st=at[1];return st<0?"0."+new Array(-st).join("0")+lt:lt.length>st+1?lt.slice(0,st+1)+"."+lt.slice(st+1):lt+new Array(st-lt.length+2).join("0")}const formatTypes={"%":(rt,it)=>(rt*100).toFixed(it),b:rt=>Math.round(rt).toString(2),c:rt=>rt+"",d:formatDecimal,e:(rt,it)=>rt.toExponential(it),f:(rt,it)=>rt.toFixed(it),g:(rt,it)=>rt.toPrecision(it),o:rt=>Math.round(rt).toString(8),p:(rt,it)=>formatRounded(rt*100,it),r:formatRounded,s:formatPrefixAuto,X:rt=>Math.round(rt).toString(16).toUpperCase(),x:rt=>Math.round(rt).toString(16)};function identity(rt){return rt}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(rt){var it=rt.grouping===void 0||rt.thousands===void 0?identity:formatGroup(map.call(rt.grouping,Number),rt.thousands+""),at=rt.currency===void 0?"":rt.currency[0]+"",lt=rt.currency===void 0?"":rt.currency[1]+"",st=rt.decimal===void 0?".":rt.decimal+"",ct=rt.numerals===void 0?identity:formatNumerals(map.call(rt.numerals,String)),ut=rt.percent===void 0?"%":rt.percent+"",ft=rt.minus===void 0?"":rt.minus+"",dt=rt.nan===void 0?"NaN":rt.nan+"";function pt(gt){gt=formatSpecifier(gt);var mt=gt.fill,xt=gt.align,vt=gt.sign,$t=gt.symbol,_t=gt.zero,yt=gt.width,Et=gt.comma,wt=gt.precision,bt=gt.trim,St=gt.type;St==="n"?(Et=!0,St="g"):formatTypes[St]||(wt===void 0&&(wt=12),bt=!0,St="g"),(_t||mt==="0"&&xt==="=")&&(_t=!0,mt="0",xt="=");var Tt=$t==="$"?at:$t==="#"&&/[boxX]/.test(St)?"0"+St.toLowerCase():"",Rt=$t==="$"?lt:/[%p]/.test(St)?ut:"",kt=formatTypes[St],At=/[defgprs%]/.test(St);wt=wt===void 0?6:/[gprs]/.test(St)?Math.max(1,Math.min(21,wt)):Math.max(0,Math.min(20,wt));function Ct(Mt){var Ot=Tt,Nt=Rt,It,Dt,zt;if(St==="c")Nt=kt(Mt)+Nt,Mt="";else{Mt=+Mt;var Yt=Mt<0||1/Mt<0;if(Mt=isNaN(Mt)?dt:kt(Math.abs(Mt),wt),bt&&(Mt=formatTrim(Mt)),Yt&&+Mt==0&&vt!=="+"&&(Yt=!1),Ot=(Yt?vt==="("?vt:ft:vt==="-"||vt==="("?"":vt)+Ot,Nt=(St==="s"?prefixes[8+prefixExponent/3]:"")+Nt+(Yt&&vt==="("?")":""),At){for(It=-1,Dt=Mt.length;++It<Dt;)if(zt=Mt.charCodeAt(It),48>zt||zt>57){Nt=(zt===46?st+Mt.slice(It+1):Mt.slice(It))+Nt,Mt=Mt.slice(0,It);break}}}Et&&!_t&&(Mt=it(Mt,1/0));var Pt=Ot.length+Mt.length+Nt.length,Lt=Pt<yt?new Array(yt-Pt+1).join(mt):"";switch(Et&&_t&&(Mt=it(Lt+Mt,Lt.length?yt-Nt.length:1/0),Lt=""),xt){case"<":Mt=Ot+Mt+Nt+Lt;break;case"=":Mt=Ot+Lt+Mt+Nt;break;case"^":Mt=Lt.slice(0,Pt=Lt.length>>1)+Ot+Mt+Nt+Lt.slice(Pt);break;default:Mt=Lt+Ot+Mt+Nt;break}return ct(Mt)}return Ct.toString=function(){return gt+""},Ct}function ht(gt,mt){var xt=pt((gt=formatSpecifier(gt),gt.type="f",gt)),vt=Math.max(-8,Math.min(8,Math.floor(exponent(mt)/3)))*3,$t=Math.pow(10,-vt),_t=prefixes[8+vt/3];return function(yt){return xt($t*yt)+_t}}return{format:pt,formatPrefix:ht}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(rt){return locale$1=formatLocale$1(rt),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(rt){return Math.max(0,-exponent(Math.abs(rt)))}function precisionPrefix(rt,it){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(it)/3)))*3-exponent(Math.abs(rt)))}function precisionRound(rt,it){return rt=Math.abs(rt),it=Math.abs(it)-rt,Math.max(0,exponent(it)-exponent(rt))+1}function tickFormat(rt,it,at,lt){var st=tickStep$1(rt,it,at),ct;switch(lt=formatSpecifier(lt??",f"),lt.type){case"s":{var ut=Math.max(Math.abs(rt),Math.abs(it));return lt.precision==null&&!isNaN(ct=precisionPrefix(st,ut))&&(lt.precision=ct),formatPrefix(lt,ut)}case"":case"e":case"g":case"p":case"r":{lt.precision==null&&!isNaN(ct=precisionRound(st,Math.max(Math.abs(rt),Math.abs(it))))&&(lt.precision=ct-(lt.type==="e"));break}case"f":case"%":{lt.precision==null&&!isNaN(ct=precisionFixed(st))&&(lt.precision=ct-(lt.type==="%")*2);break}}return format(lt)}function linearish(rt){var it=rt.domain;return rt.ticks=function(at){var lt=it();return ticks(lt[0],lt[lt.length-1],at??10)},rt.tickFormat=function(at,lt){var st=it();return tickFormat(st[0],st[st.length-1],at??10,lt)},rt.nice=function(at){at==null&&(at=10);var lt=it(),st=0,ct=lt.length-1,ut=lt[st],ft=lt[ct],dt,pt,ht=10;for(ft<ut&&(pt=ut,ut=ft,ft=pt,pt=st,st=ct,ct=pt);ht-- >0;){if(pt=tickIncrement$1(ut,ft,at),pt===dt)return lt[st]=ut,lt[ct]=ft,it(lt);if(pt>0)ut=Math.floor(ut/pt)*pt,ft=Math.ceil(ft/pt)*pt;else if(pt<0)ut=Math.ceil(ut*pt)/pt,ft=Math.floor(ft*pt)/pt;else break;dt=pt}return rt},rt}function linear(){var rt=continuous();return rt.copy=function(){return copy(rt,linear())},initRange.apply(rt,arguments),linearish(rt)}function nice(rt,it){rt=rt.slice();var at=0,lt=rt.length-1,st=rt[at],ct=rt[lt],ut;return ct<st&&(ut=at,at=lt,lt=ut,ut=st,st=ct,ct=ut),rt[at]=it.floor(st),rt[lt]=it.ceil(ct),rt}function transformLog(rt){return Math.log(rt)}function transformExp(rt){return Math.exp(rt)}function transformLogn(rt){return-Math.log(-rt)}function transformExpn(rt){return-Math.exp(-rt)}function pow10(rt){return isFinite(rt)?+("1e"+rt):rt<0?0:rt}function powp(rt){return rt===10?pow10:rt===Math.E?Math.exp:it=>Math.pow(rt,it)}function logp(rt){return rt===Math.E?Math.log:rt===10&&Math.log10||rt===2&&Math.log2||(rt=Math.log(rt),it=>Math.log(it)/rt)}function reflect(rt){return(it,at)=>-rt(-it,at)}function loggish(rt){const it=rt(transformLog,transformExp),at=it.domain;let lt=10,st,ct;function ut(){return st=logp(lt),ct=powp(lt),at()[0]<0?(st=reflect(st),ct=reflect(ct),rt(transformLogn,transformExpn)):rt(transformLog,transformExp),it}return it.base=function(ft){return arguments.length?(lt=+ft,ut()):lt},it.domain=function(ft){return arguments.length?(at(ft),ut()):at()},it.ticks=ft=>{const dt=at();let pt=dt[0],ht=dt[dt.length-1];const gt=ht<pt;gt&&([pt,ht]=[ht,pt]);let mt=st(pt),xt=st(ht),vt,$t;const _t=ft==null?10:+ft;let yt=[];if(!(lt%1)&&xt-mt<_t){if(mt=Math.floor(mt),xt=Math.ceil(xt),pt>0){for(;mt<=xt;++mt)for(vt=1;vt<lt;++vt)if($t=mt<0?vt/ct(-mt):vt*ct(mt),!($t<pt)){if($t>ht)break;yt.push($t)}}else for(;mt<=xt;++mt)for(vt=lt-1;vt>=1;--vt)if($t=mt>0?vt/ct(-mt):vt*ct(mt),!($t<pt)){if($t>ht)break;yt.push($t)}yt.length*2<_t&&(yt=ticks(pt,ht,_t))}else yt=ticks(mt,xt,Math.min(xt-mt,_t)).map(ct);return gt?yt.reverse():yt},it.tickFormat=(ft,dt)=>{if(ft==null&&(ft=10),dt==null&&(dt=lt===10?"s":","),typeof dt!="function"&&(!(lt%1)&&(dt=formatSpecifier(dt)).precision==null&&(dt.trim=!0),dt=format(dt)),ft===1/0)return dt;const pt=Math.max(1,lt*ft/it.ticks().length);return ht=>{let gt=ht/ct(Math.round(st(ht)));return gt*lt<lt-.5&&(gt*=lt),gt<=pt?dt(ht):""}},it.nice=()=>at(nice(at(),{floor:ft=>ct(Math.floor(st(ft))),ceil:ft=>ct(Math.ceil(st(ft)))})),it}function log(){const rt=loggish(transformer()).domain([1,10]);return rt.copy=()=>copy(rt,log()).base(rt.base()),initRange.apply(rt,arguments),rt}const t0=new Date,t1=new Date;function timeInterval(rt,it,at,lt){function st(ct){return rt(ct=arguments.length===0?new Date:new Date(+ct)),ct}return st.floor=ct=>(rt(ct=new Date(+ct)),ct),st.ceil=ct=>(rt(ct=new Date(ct-1)),it(ct,1),rt(ct),ct),st.round=ct=>{const ut=st(ct),ft=st.ceil(ct);return ct-ut<ft-ct?ut:ft},st.offset=(ct,ut)=>(it(ct=new Date(+ct),ut==null?1:Math.floor(ut)),ct),st.range=(ct,ut,ft)=>{const dt=[];if(ct=st.ceil(ct),ft=ft==null?1:Math.floor(ft),!(ct<ut)||!(ft>0))return dt;let pt;do dt.push(pt=new Date(+ct)),it(ct,ft),rt(ct);while(pt<ct&&ct<ut);return dt},st.filter=ct=>timeInterval(ut=>{if(ut>=ut)for(;rt(ut),!ct(ut);)ut.setTime(ut-1)},(ut,ft)=>{if(ut>=ut)if(ft<0)for(;++ft<=0;)for(;it(ut,-1),!ct(ut););else for(;--ft>=0;)for(;it(ut,1),!ct(ut););}),at&&(st.count=(ct,ut)=>(t0.setTime(+ct),t1.setTime(+ut),rt(t0),rt(t1),Math.floor(at(t0,t1))),st.every=ct=>(ct=Math.floor(ct),!isFinite(ct)||!(ct>0)?null:ct>1?st.filter(lt?ut=>lt(ut)%ct===0:ut=>st.count(0,ut)%ct===0):st)),st}const millisecond=timeInterval(()=>{},(rt,it)=>{rt.setTime(+rt+it)},(rt,it)=>it-rt);millisecond.every=rt=>(rt=Math.floor(rt),!isFinite(rt)||!(rt>0)?null:rt>1?timeInterval(it=>{it.setTime(Math.floor(it/rt)*rt)},(it,at)=>{it.setTime(+it+at*rt)},(it,at)=>(at-it)/rt):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(rt=>{rt.setTime(rt-rt.getMilliseconds())},(rt,it)=>{rt.setTime(+rt+it*durationSecond)},(rt,it)=>(it-rt)/durationSecond,rt=>rt.getUTCSeconds());second.range;const timeMinute=timeInterval(rt=>{rt.setTime(rt-rt.getMilliseconds()-rt.getSeconds()*durationSecond)},(rt,it)=>{rt.setTime(+rt+it*durationMinute)},(rt,it)=>(it-rt)/durationMinute,rt=>rt.getMinutes());timeMinute.range;const utcMinute=timeInterval(rt=>{rt.setUTCSeconds(0,0)},(rt,it)=>{rt.setTime(+rt+it*durationMinute)},(rt,it)=>(it-rt)/durationMinute,rt=>rt.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(rt=>{rt.setTime(rt-rt.getMilliseconds()-rt.getSeconds()*durationSecond-rt.getMinutes()*durationMinute)},(rt,it)=>{rt.setTime(+rt+it*durationHour)},(rt,it)=>(it-rt)/durationHour,rt=>rt.getHours());timeHour.range;const utcHour=timeInterval(rt=>{rt.setUTCMinutes(0,0,0)},(rt,it)=>{rt.setTime(+rt+it*durationHour)},(rt,it)=>(it-rt)/durationHour,rt=>rt.getUTCHours());utcHour.range;const timeDay=timeInterval(rt=>rt.setHours(0,0,0,0),(rt,it)=>rt.setDate(rt.getDate()+it),(rt,it)=>(it-rt-(it.getTimezoneOffset()-rt.getTimezoneOffset())*durationMinute)/durationDay,rt=>rt.getDate()-1);timeDay.range;const utcDay=timeInterval(rt=>{rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCDate(rt.getUTCDate()+it)},(rt,it)=>(it-rt)/durationDay,rt=>rt.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(rt=>{rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCDate(rt.getUTCDate()+it)},(rt,it)=>(it-rt)/durationDay,rt=>Math.floor(rt/durationDay));unixDay.range;function timeWeekday(rt){return timeInterval(it=>{it.setDate(it.getDate()-(it.getDay()+7-rt)%7),it.setHours(0,0,0,0)},(it,at)=>{it.setDate(it.getDate()+at*7)},(it,at)=>(at-it-(at.getTimezoneOffset()-it.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(rt){return timeInterval(it=>{it.setUTCDate(it.getUTCDate()-(it.getUTCDay()+7-rt)%7),it.setUTCHours(0,0,0,0)},(it,at)=>{it.setUTCDate(it.getUTCDate()+at*7)},(it,at)=>(at-it)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(rt=>{rt.setDate(1),rt.setHours(0,0,0,0)},(rt,it)=>{rt.setMonth(rt.getMonth()+it)},(rt,it)=>it.getMonth()-rt.getMonth()+(it.getFullYear()-rt.getFullYear())*12,rt=>rt.getMonth());timeMonth.range;const utcMonth=timeInterval(rt=>{rt.setUTCDate(1),rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCMonth(rt.getUTCMonth()+it)},(rt,it)=>it.getUTCMonth()-rt.getUTCMonth()+(it.getUTCFullYear()-rt.getUTCFullYear())*12,rt=>rt.getUTCMonth());utcMonth.range;const timeYear=timeInterval(rt=>{rt.setMonth(0,1),rt.setHours(0,0,0,0)},(rt,it)=>{rt.setFullYear(rt.getFullYear()+it)},(rt,it)=>it.getFullYear()-rt.getFullYear(),rt=>rt.getFullYear());timeYear.every=rt=>!isFinite(rt=Math.floor(rt))||!(rt>0)?null:timeInterval(it=>{it.setFullYear(Math.floor(it.getFullYear()/rt)*rt),it.setMonth(0,1),it.setHours(0,0,0,0)},(it,at)=>{it.setFullYear(it.getFullYear()+at*rt)});timeYear.range;const utcYear=timeInterval(rt=>{rt.setUTCMonth(0,1),rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCFullYear(rt.getUTCFullYear()+it)},(rt,it)=>it.getUTCFullYear()-rt.getUTCFullYear(),rt=>rt.getUTCFullYear());utcYear.every=rt=>!isFinite(rt=Math.floor(rt))||!(rt>0)?null:timeInterval(it=>{it.setUTCFullYear(Math.floor(it.getUTCFullYear()/rt)*rt),it.setUTCMonth(0,1),it.setUTCHours(0,0,0,0)},(it,at)=>{it.setUTCFullYear(it.getUTCFullYear()+at*rt)});utcYear.range;function ascending(rt,it){return rt==null||it==null?NaN:rt<it?-1:rt>it?1:rt>=it?0:NaN}function descending(rt,it){return rt==null||it==null?NaN:it<rt?-1:it>rt?1:it>=rt?0:NaN}function bisector(rt){let it,at,lt;rt.length!==2?(it=ascending,at=(ft,dt)=>ascending(rt(ft),dt),lt=(ft,dt)=>rt(ft)-dt):(it=rt===ascending||rt===descending?rt:zero,at=rt,lt=rt);function st(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(it(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ct(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(it(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<=0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ut(ft,dt,pt=0,ht=ft.length){const gt=st(ft,dt,pt,ht-1);return gt>pt&&lt(ft[gt-1],dt)>-lt(ft[gt],dt)?gt-1:gt}return{left:st,center:ut,right:ct}}function zero(){return 0}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(rt,it,at){const lt=(it-rt)/Math.max(0,at),st=Math.floor(Math.log10(lt)),ct=lt/Math.pow(10,st),ut=ct>=e10?10:ct>=e5?5:ct>=e2?2:1;let ft,dt,pt;return st<0?(pt=Math.pow(10,-st)/ut,ft=Math.round(rt*pt),dt=Math.round(it*pt),ft/pt<rt&&++ft,dt/pt>it&&--dt,pt=-pt):(pt=Math.pow(10,st)*ut,ft=Math.round(rt/pt),dt=Math.round(it/pt),ft*pt<rt&&++ft,dt*pt>it&&--dt),dt<ft&&.5<=at&&at<2?tickSpec(rt,it,at*2):[ft,dt,pt]}function tickIncrement(rt,it,at){return it=+it,rt=+rt,at=+at,tickSpec(rt,it,at)[2]}function tickStep(rt,it,at){it=+it,rt=+rt,at=+at;const lt=it<rt,st=lt?tickIncrement(it,rt,at):tickIncrement(rt,it,at);return(lt?-1:1)*(st<0?1/-st:st)}function ticker(rt,it,at,lt,st,ct){const ut=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ct,1,durationMinute],[ct,5,5*durationMinute],[ct,15,15*durationMinute],[ct,30,30*durationMinute],[st,1,durationHour],[st,3,3*durationHour],[st,6,6*durationHour],[st,12,12*durationHour],[lt,1,durationDay],[lt,2,2*durationDay],[at,1,durationWeek],[it,1,durationMonth],[it,3,3*durationMonth],[rt,1,durationYear]];function ft(pt,ht,gt){const mt=ht<pt;mt&&([pt,ht]=[ht,pt]);const xt=gt&&typeof gt.range=="function"?gt:dt(pt,ht,gt),vt=xt?xt.range(pt,+ht+1):[];return mt?vt.reverse():vt}function dt(pt,ht,gt){const mt=Math.abs(ht-pt)/gt,xt=bisector(([,,_t])=>_t).right(ut,mt);if(xt===ut.length)return rt.every(tickStep(pt/durationYear,ht/durationYear,gt));if(xt===0)return millisecond.every(Math.max(tickStep(pt,ht,gt),1));const[vt,$t]=ut[mt/ut[xt-1][2]<ut[xt][2]/mt?xt-1:xt];return vt.every($t)}return[ft,dt]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(rt){if(0<=rt.y&&rt.y<100){var it=new Date(-1,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L);return it.setFullYear(rt.y),it}return new Date(rt.y,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L)}function utcDate(rt){if(0<=rt.y&&rt.y<100){var it=new Date(Date.UTC(-1,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L));return it.setUTCFullYear(rt.y),it}return new Date(Date.UTC(rt.y,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L))}function newDate(rt,it,at){return{y:rt,m:it,d:at,H:0,M:0,S:0,L:0}}function formatLocale(rt){var it=rt.dateTime,at=rt.date,lt=rt.time,st=rt.periods,ct=rt.days,ut=rt.shortDays,ft=rt.months,dt=rt.shortMonths,pt=formatRe(st),ht=formatLookup(st),gt=formatRe(ct),mt=formatLookup(ct),xt=formatRe(ut),vt=formatLookup(ut),$t=formatRe(ft),_t=formatLookup(ft),yt=formatRe(dt),Et=formatLookup(dt),wt={a:Yt,A:Pt,b:Lt,B:Ft,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:qt,q:Gt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},bt={a:Ut,A:Vt,b:Wt,B:ln,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:pn,q:Sn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},St={a:Ct,A:Mt,b:Ot,B:Nt,c:It,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:At,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Dt,X:zt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};wt.x=Tt(at,wt),wt.X=Tt(lt,wt),wt.c=Tt(it,wt),bt.x=Tt(at,bt),bt.X=Tt(lt,bt),bt.c=Tt(it,bt);function Tt(Kt,cn){return function(hn){var Ht=[],bn=-1,Qt=0,Xt=Kt.length,gn,mn,_n;for(hn instanceof Date||(hn=new Date(+hn));++bn<Xt;)Kt.charCodeAt(bn)===37&&(Ht.push(Kt.slice(Qt,bn)),(mn=pads[gn=Kt.charAt(++bn)])!=null?gn=Kt.charAt(++bn):mn=gn==="e"?" ":"0",(_n=cn[gn])&&(gn=_n(hn,mn)),Ht.push(gn),Qt=bn+1);return Ht.push(Kt.slice(Qt,bn)),Ht.join("")}}function Rt(Kt,cn){return function(hn){var Ht=newDate(1900,void 0,1),bn=kt(Ht,Kt,hn+="",0),Qt,Xt;if(bn!=hn.length)return null;if("Q"in Ht)return new Date(Ht.Q);if("s"in Ht)return new Date(Ht.s*1e3+("L"in Ht?Ht.L:0));if(cn&&!("Z"in Ht)&&(Ht.Z=0),"p"in Ht&&(Ht.H=Ht.H%12+Ht.p*12),Ht.m===void 0&&(Ht.m="q"in Ht?Ht.q:0),"V"in Ht){if(Ht.V<1||Ht.V>53)return null;"w"in Ht||(Ht.w=1),"Z"in Ht?(Qt=utcDate(newDate(Ht.y,0,1)),Xt=Qt.getUTCDay(),Qt=Xt>4||Xt===0?utcMonday.ceil(Qt):utcMonday(Qt),Qt=utcDay.offset(Qt,(Ht.V-1)*7),Ht.y=Qt.getUTCFullYear(),Ht.m=Qt.getUTCMonth(),Ht.d=Qt.getUTCDate()+(Ht.w+6)%7):(Qt=localDate(newDate(Ht.y,0,1)),Xt=Qt.getDay(),Qt=Xt>4||Xt===0?timeMonday.ceil(Qt):timeMonday(Qt),Qt=timeDay.offset(Qt,(Ht.V-1)*7),Ht.y=Qt.getFullYear(),Ht.m=Qt.getMonth(),Ht.d=Qt.getDate()+(Ht.w+6)%7)}else("W"in Ht||"U"in Ht)&&("w"in Ht||(Ht.w="u"in Ht?Ht.u%7:"W"in Ht?1:0),Xt="Z"in Ht?utcDate(newDate(Ht.y,0,1)).getUTCDay():localDate(newDate(Ht.y,0,1)).getDay(),Ht.m=0,Ht.d="W"in Ht?(Ht.w+6)%7+Ht.W*7-(Xt+5)%7:Ht.w+Ht.U*7-(Xt+6)%7);return"Z"in Ht?(Ht.H+=Ht.Z/100|0,Ht.M+=Ht.Z%100,utcDate(Ht)):localDate(Ht)}}function kt(Kt,cn,hn,Ht){for(var bn=0,Qt=cn.length,Xt=hn.length,gn,mn;bn<Qt;){if(Ht>=Xt)return-1;if(gn=cn.charCodeAt(bn++),gn===37){if(gn=cn.charAt(bn++),mn=St[gn in pads?cn.charAt(bn++):gn],!mn||(Ht=mn(Kt,hn,Ht))<0)return-1}else if(gn!=hn.charCodeAt(Ht++))return-1}return Ht}function At(Kt,cn,hn){var Ht=pt.exec(cn.slice(hn));return Ht?(Kt.p=ht.get(Ht[0].toLowerCase()),hn+Ht[0].length):-1}function Ct(Kt,cn,hn){var Ht=xt.exec(cn.slice(hn));return Ht?(Kt.w=vt.get(Ht[0].toLowerCase()),hn+Ht[0].length):-1}function Mt(Kt,cn,hn){var Ht=gt.exec(cn.slice(hn));return Ht?(Kt.w=mt.get(Ht[0].toLowerCase()),hn+Ht[0].length):-1}function Ot(Kt,cn,hn){var Ht=yt.exec(cn.slice(hn));return Ht?(Kt.m=Et.get(Ht[0].toLowerCase()),hn+Ht[0].length):-1}function Nt(Kt,cn,hn){var Ht=$t.exec(cn.slice(hn));return Ht?(Kt.m=_t.get(Ht[0].toLowerCase()),hn+Ht[0].length):-1}function It(Kt,cn,hn){return kt(Kt,it,cn,hn)}function Dt(Kt,cn,hn){return kt(Kt,at,cn,hn)}function zt(Kt,cn,hn){return kt(Kt,lt,cn,hn)}function Yt(Kt){return ut[Kt.getDay()]}function Pt(Kt){return ct[Kt.getDay()]}function Lt(Kt){return dt[Kt.getMonth()]}function Ft(Kt){return ft[Kt.getMonth()]}function qt(Kt){return st[+(Kt.getHours()>=12)]}function Gt(Kt){return 1+~~(Kt.getMonth()/3)}function Ut(Kt){return ut[Kt.getUTCDay()]}function Vt(Kt){return ct[Kt.getUTCDay()]}function Wt(Kt){return dt[Kt.getUTCMonth()]}function ln(Kt){return ft[Kt.getUTCMonth()]}function pn(Kt){return st[+(Kt.getUTCHours()>=12)]}function Sn(Kt){return 1+~~(Kt.getUTCMonth()/3)}return{format:function(Kt){var cn=Tt(Kt+="",wt);return cn.toString=function(){return Kt},cn},parse:function(Kt){var cn=Rt(Kt+="",!1);return cn.toString=function(){return Kt},cn},utcFormat:function(Kt){var cn=Tt(Kt+="",bt);return cn.toString=function(){return Kt},cn},utcParse:function(Kt){var cn=Rt(Kt+="",!0);return cn.toString=function(){return Kt},cn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(rt,it,at){var lt=rt<0?"-":"",st=(lt?-rt:rt)+"",ct=st.length;return lt+(ct<at?new Array(at-ct+1).join(it)+st:st)}function requote(rt){return rt.replace(requoteRe,"\\$&")}function formatRe(rt){return new RegExp("^(?:"+rt.map(requote).join("|")+")","i")}function formatLookup(rt){return new Map(rt.map((it,at)=>[it.toLowerCase(),at]))}function parseWeekdayNumberSunday(rt,it,at){var lt=numberRe.exec(it.slice(at,at+1));return lt?(rt.w=+lt[0],at+lt[0].length):-1}function parseWeekdayNumberMonday(rt,it,at){var lt=numberRe.exec(it.slice(at,at+1));return lt?(rt.u=+lt[0],at+lt[0].length):-1}function parseWeekNumberSunday(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.U=+lt[0],at+lt[0].length):-1}function parseWeekNumberISO(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.V=+lt[0],at+lt[0].length):-1}function parseWeekNumberMonday(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.W=+lt[0],at+lt[0].length):-1}function parseFullYear(rt,it,at){var lt=numberRe.exec(it.slice(at,at+4));return lt?(rt.y=+lt[0],at+lt[0].length):-1}function parseYear(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.y=+lt[0]+(+lt[0]>68?1900:2e3),at+lt[0].length):-1}function parseZone(rt,it,at){var lt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(it.slice(at,at+6));return lt?(rt.Z=lt[1]?0:-(lt[2]+(lt[3]||"00")),at+lt[0].length):-1}function parseQuarter(rt,it,at){var lt=numberRe.exec(it.slice(at,at+1));return lt?(rt.q=lt[0]*3-3,at+lt[0].length):-1}function parseMonthNumber(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.m=lt[0]-1,at+lt[0].length):-1}function parseDayOfMonth(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.d=+lt[0],at+lt[0].length):-1}function parseDayOfYear(rt,it,at){var lt=numberRe.exec(it.slice(at,at+3));return lt?(rt.m=0,rt.d=+lt[0],at+lt[0].length):-1}function parseHour24(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.H=+lt[0],at+lt[0].length):-1}function parseMinutes(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.M=+lt[0],at+lt[0].length):-1}function parseSeconds(rt,it,at){var lt=numberRe.exec(it.slice(at,at+2));return lt?(rt.S=+lt[0],at+lt[0].length):-1}function parseMilliseconds(rt,it,at){var lt=numberRe.exec(it.slice(at,at+3));return lt?(rt.L=+lt[0],at+lt[0].length):-1}function parseMicroseconds(rt,it,at){var lt=numberRe.exec(it.slice(at,at+6));return lt?(rt.L=Math.floor(lt[0]/1e3),at+lt[0].length):-1}function parseLiteralPercent(rt,it,at){var lt=percentRe.exec(it.slice(at,at+1));return lt?at+lt[0].length:-1}function parseUnixTimestamp(rt,it,at){var lt=numberRe.exec(it.slice(at));return lt?(rt.Q=+lt[0],at+lt[0].length):-1}function parseUnixTimestampSeconds(rt,it,at){var lt=numberRe.exec(it.slice(at));return lt?(rt.s=+lt[0],at+lt[0].length):-1}function formatDayOfMonth(rt,it){return pad(rt.getDate(),it,2)}function formatHour24(rt,it){return pad(rt.getHours(),it,2)}function formatHour12(rt,it){return pad(rt.getHours()%12||12,it,2)}function formatDayOfYear(rt,it){return pad(1+timeDay.count(timeYear(rt),rt),it,3)}function formatMilliseconds(rt,it){return pad(rt.getMilliseconds(),it,3)}function formatMicroseconds(rt,it){return formatMilliseconds(rt,it)+"000"}function formatMonthNumber(rt,it){return pad(rt.getMonth()+1,it,2)}function formatMinutes(rt,it){return pad(rt.getMinutes(),it,2)}function formatSeconds(rt,it){return pad(rt.getSeconds(),it,2)}function formatWeekdayNumberMonday(rt){var it=rt.getDay();return it===0?7:it}function formatWeekNumberSunday(rt,it){return pad(timeSunday.count(timeYear(rt)-1,rt),it,2)}function dISO(rt){var it=rt.getDay();return it>=4||it===0?timeThursday(rt):timeThursday.ceil(rt)}function formatWeekNumberISO(rt,it){return rt=dISO(rt),pad(timeThursday.count(timeYear(rt),rt)+(timeYear(rt).getDay()===4),it,2)}function formatWeekdayNumberSunday(rt){return rt.getDay()}function formatWeekNumberMonday(rt,it){return pad(timeMonday.count(timeYear(rt)-1,rt),it,2)}function formatYear(rt,it){return pad(rt.getFullYear()%100,it,2)}function formatYearISO(rt,it){return rt=dISO(rt),pad(rt.getFullYear()%100,it,2)}function formatFullYear(rt,it){return pad(rt.getFullYear()%1e4,it,4)}function formatFullYearISO(rt,it){var at=rt.getDay();return rt=at>=4||at===0?timeThursday(rt):timeThursday.ceil(rt),pad(rt.getFullYear()%1e4,it,4)}function formatZone(rt){var it=rt.getTimezoneOffset();return(it>0?"-":(it*=-1,"+"))+pad(it/60|0,"0",2)+pad(it%60,"0",2)}function formatUTCDayOfMonth(rt,it){return pad(rt.getUTCDate(),it,2)}function formatUTCHour24(rt,it){return pad(rt.getUTCHours(),it,2)}function formatUTCHour12(rt,it){return pad(rt.getUTCHours()%12||12,it,2)}function formatUTCDayOfYear(rt,it){return pad(1+utcDay.count(utcYear(rt),rt),it,3)}function formatUTCMilliseconds(rt,it){return pad(rt.getUTCMilliseconds(),it,3)}function formatUTCMicroseconds(rt,it){return formatUTCMilliseconds(rt,it)+"000"}function formatUTCMonthNumber(rt,it){return pad(rt.getUTCMonth()+1,it,2)}function formatUTCMinutes(rt,it){return pad(rt.getUTCMinutes(),it,2)}function formatUTCSeconds(rt,it){return pad(rt.getUTCSeconds(),it,2)}function formatUTCWeekdayNumberMonday(rt){var it=rt.getUTCDay();return it===0?7:it}function formatUTCWeekNumberSunday(rt,it){return pad(utcSunday.count(utcYear(rt)-1,rt),it,2)}function UTCdISO(rt){var it=rt.getUTCDay();return it>=4||it===0?utcThursday(rt):utcThursday.ceil(rt)}function formatUTCWeekNumberISO(rt,it){return rt=UTCdISO(rt),pad(utcThursday.count(utcYear(rt),rt)+(utcYear(rt).getUTCDay()===4),it,2)}function formatUTCWeekdayNumberSunday(rt){return rt.getUTCDay()}function formatUTCWeekNumberMonday(rt,it){return pad(utcMonday.count(utcYear(rt)-1,rt),it,2)}function formatUTCYear(rt,it){return pad(rt.getUTCFullYear()%100,it,2)}function formatUTCYearISO(rt,it){return rt=UTCdISO(rt),pad(rt.getUTCFullYear()%100,it,2)}function formatUTCFullYear(rt,it){return pad(rt.getUTCFullYear()%1e4,it,4)}function formatUTCFullYearISO(rt,it){var at=rt.getUTCDay();return rt=at>=4||at===0?utcThursday(rt):utcThursday.ceil(rt),pad(rt.getUTCFullYear()%1e4,it,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(rt){return+rt}function formatUnixTimestampSeconds(rt){return Math.floor(+rt/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(rt){return locale=formatLocale(rt),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(rt){return new Date(rt)}function number(rt){return rt instanceof Date?+rt:+new Date(+rt)}function calendar(rt,it,at,lt,st,ct,ut,ft,dt,pt){var ht=continuous(),gt=ht.invert,mt=ht.domain,xt=pt(".%L"),vt=pt(":%S"),$t=pt("%I:%M"),_t=pt("%I %p"),yt=pt("%a %d"),Et=pt("%b %d"),wt=pt("%B"),bt=pt("%Y");function St(Tt){return(dt(Tt)<Tt?xt:ft(Tt)<Tt?vt:ut(Tt)<Tt?$t:ct(Tt)<Tt?_t:lt(Tt)<Tt?st(Tt)<Tt?yt:Et:at(Tt)<Tt?wt:bt)(Tt)}return ht.invert=function(Tt){return new Date(gt(Tt))},ht.domain=function(Tt){return arguments.length?mt(Array.from(Tt,number)):mt().map(date)},ht.ticks=function(Tt){var Rt=mt();return rt(Rt[0],Rt[Rt.length-1],Tt??10)},ht.tickFormat=function(Tt,Rt){return Rt==null?St:pt(Rt)},ht.nice=function(Tt){var Rt=mt();return(!Tt||typeof Tt.range!="function")&&(Tt=it(Rt[0],Rt[Rt.length-1],Tt??10)),Tt?mt(nice(Rt,Tt)):ht},ht.copy=function(){return copy(ht,calendar(rt,it,at,lt,st,ct,ut,ft,dt,pt))},ht}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function colors(rt){for(var it=rt.length/6|0,at=new Array(it),lt=0;lt<it;)at[lt]="#"+rt.slice(lt*6,++lt*6);return at}const schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),initialSize={x:0,y:0,width:0,height:0};function useBBoxObserver(){const[rt,it]=reactExports.useState(initialSize),at=reactExports.useRef(initialSize),lt=reactExports.useRef();return{ref:reactExports.useCallback(ct=>{if(lt.current&&lt.current(),ct!==null){const ut=new ResizeObserver(([ft])=>{const dt=ft.target.getBBox(),pt=at.current;if(pt.x!==dt.x||pt.y!==dt.y||pt.width!==dt.width||pt.height!==dt.height){const ht={x:dt.x,y:dt.y,width:dt.width,height:dt.height};at.current=ht,it(ht)}});ut.observe(ct),lt.current=()=>{ut.unobserve(ct)}}},[]),...rt}}function calculatePosition(rt,it,at,lt){switch(it){case"start":return rt;case"end":return rt-at;case"middle":return rt-at/2;case"none":return lt;default:throw new Error(`Unkwnown alignment ${JSON.stringify(it)}`)}}function AlignGroup(rt){const{x:it=0,y:at=0,verticalAlign:lt="start",horizontalAlign:st="start",children:ct,style:ut={}}=rt,ft=useBBoxObserver(),dt=reactExports.useMemo(()=>calculatePosition(it-ft.x,st,ft.width||0,it),[it,ft.x,ft.width,st]),pt=reactExports.useMemo(()=>calculatePosition(at-ft.y,lt,ft.height||0,at),[at,ft.y,ft.height,lt]);return jsx("g",{style:ut,ref:ft.ref,transform:`translate(${dt}, ${pt})`,children:ct})}function textDimensions(rt,it){var at,lt;const st=document.createTextNode(rt),ct=document.createElementNS("http://www.w3.org/2000/svg","text");ct.setAttribute("class","test"),ct.appendChild(st),(at=it.current)===null||at===void 0||at.appendChild(ct);const ut=ct.getBBox();return(lt=it.current)===null||lt===void 0||lt.removeChild(ct),ut}const TEST_HEIGHT$1="+1234567890";function useTicks(rt,it,at,lt){const st=rt.range();if(!st)throw new Error("Range needs to be specified");if(!rt.domain())throw new Error("Domain needs to be specified");const{minSpace:ut=8,tickFormat:ft,setTicks:dt}=lt,pt=Math.abs(st[0]-st[1]);reactExports.useEffect(()=>{if(at.current){let ht,gt=[];if(it==="horizontal")for(;;){gt=rt.ticks(ht);const mt=gt.map(ft);ht=Math.min(gt.length,ht||1/0);const{width:xt}=textDimensions(mt.join(""),at);if(xt+(gt.length-1)*ut>pt&&ht>1)ht=ht-1;else break}else{const{height:mt}=textDimensions(TEST_HEIGHT$1,at);for(;gt=rt.ticks(ht),ht=Math.min(gt.length,ht||1/0),gt.length*(mt+ut)-ut>pt&&ht>1;)ht=ht-1}dt(gt.map(mt=>({label:ft(mt),position:rt(mt),value:mt})))}},[pt,it,ut,at,rt,dt,ft])}function useLinearPrimaryTicks(rt,it,at,lt={}){const[st,ct]=reactExports.useState([]),{tickFormat:ut=String}=lt;return useTicks(rt,it,at,{...lt,tickFormat:ut,setTicks:ct}),st}const TEST_HEIGHT="+1234567890";function isMainTick(rt){const it=rt/Math.pow(10,Math.round(Math.log10(rt)));return Math.floor(it<1?it*10:it)}function formatTicks(rt,it,at,lt,st){const ct=rt.filter(ht=>isMainTick(ht)===1).map(it),ut=Math.abs(ct[0]-ct[1]),ft=(lt+st)/ut,dt=ft>=1?Math.ceil(ft):1;let pt=0;return rt.map(ht=>{const gt=it(ht);let mt="";return isMainTick(ht)===1&&(mt=pt===0?at(ht):"",pt=(pt+1)%dt),{label:mt,position:gt,value:ht}})}function useLogTicks(rt,it,at,lt={}){const[st,ct]=reactExports.useState(40);if(!rt.range())throw new Error("Range needs to be specified");const ft=rt.domain();if(!ft)throw new Error("Domain needs to be specified");const{minSpace:dt=8}=lt,pt=lt==null?void 0:lt.tickFormat,ht=reactExports.useCallback(mt=>pt?pt(mt):String(mt),[pt]),gt=reactExports.useMemo(()=>rt.ticks(),[rt]);return reactExports.useEffect(()=>{if(at.current)if(it==="horizontal"){const mt=gt.filter(vt=>isMainTick(vt)===1).map(ht).reduce((vt,$t)=>vt.length<$t.length?$t:vt,""),{width:xt}=textDimensions(mt,at);ct(Math.ceil(xt))}else{const{height:mt}=textDimensions(TEST_HEIGHT,at);ct(Math.ceil(mt))}},[it,ft,ht,at,gt]),formatTicks(gt,rt,ht,st,dt)}function useTimeTicks(rt,it,at,lt){const{tickFormat:st=rt.tickFormat()}=lt,[ct,ut]=reactExports.useState([]);return useTicks(rt,it,at,{...lt,setTicks:ut,tickFormat:st}),ct}const context=reactExports.createContext(null);function useLegend(){const rt=reactExports.useContext(context);if(!rt)throw new Error("context was not initialized");return rt}const legendReducer=fn((rt,it)=>{switch(it.type){case"ADD_LEGEND_LABEL":{const{shape:at,...lt}=it.payload,st=rt.labels.findIndex(({id:ct})=>lt.id===ct);if(st<0)rt.labels.push({...lt,shape:at,isVisible:!0});else{const ct=rt.labels[st].isVisible;rt.labels[st]={...lt,isVisible:ct,shape:at}}return}case"REMOVE_LEGEND_LABEL":{const{id:at}=it.payload,lt=rt.labels.findIndex(st=>st.id===at);lt!==-1&&rt.labels.splice(lt,1);return}case"TOGGLE_VISIBILITY":{const{id:at}=it.payload,lt=rt.labels.findIndex(st=>st.id===at);lt!==-1&&(rt.labels[lt].isVisible=!rt.labels[lt].isVisible);return}default:throw new Error("unreachable")}}),initialLegendState={labels:[]},LegendProvider=rt=>{const[it,at]=reactExports.useReducer(legendReducer,initialLegendState),lt=reactExports.useMemo(()=>[it,at],[it,at]);return jsx(context.Provider,{value:lt,children:rt.children})};function extent$1(rt,it){let at,lt;if(it===void 0)for(const st of rt)st!=null&&(at===void 0?st>=st&&(at=lt=st):(at>st&&(at=st),lt<st&&(lt=st)));else{let st=-1;for(let ct of rt)(ct=it(ct,++st,rt))!=null&&(at===void 0?ct>=ct&&(at=lt=ct):(at>ct&&(at=ct),lt<ct&&(lt=ct)))}return[at,lt]}function max$1(rt,it){let at;if(it===void 0)for(const lt of rt)lt!=null&&(at<lt||at===void 0&&lt>=lt)&&(at=lt);else{let lt=-1;for(let st of rt)(st=it(st,++lt,rt))!=null&&(at<st||at===void 0&&st>=st)&&(at=st)}return at}function min$1(rt,it){let at;if(it===void 0)for(const lt of rt)lt!=null&&(at>lt||at===void 0&&lt>=lt)&&(at=lt);else{let lt=-1;for(let st of rt)(st=it(st,++lt,rt))!=null&&(at>st||at===void 0&&st>=st)&&(at=st)}return at}let currentValue=1;function getNextId(){return++currentValue}function useId(rt,it){return reactExports.useMemo(()=>rt||`${it}-${getNextId()}`,[rt,it])}const horizontal=["top","bottom"],vertical=["left","right"];function validatePosition(rt,it,at){if(horizontal.includes(rt)&&!horizontal.includes(it)||vertical.includes(rt)&&!vertical.includes(it))throw new Error(`The positions are ortogonal for ${at}`)}function validateAxis(rt,it,at,lt={}){const{onlyOrthogonal:st=!1}=lt,ct=rt[it],ut=rt[at];if(!ct||!ut)return[void 0,void 0];if(st&&(horizontal.includes(ct.position)&&horizontal.includes(ut.position)||vertical.includes(ut.position)&&vertical.includes(ct.position)))throw new Error(`The axis ${it} and ${at} are not orthogonal`);if(!st&&(horizontal.includes(ct.position)?!vertical.includes(ut.position):vertical.includes(ct.position)))throw vertical.includes(ct.position)||horizontal.includes(ut.position)?new Error(`The axis ${it} should be ${horizontal.join(" ")} and ${at} should be ${vertical.join(" ")}`):new Error(`The axis ${it} and ${at} are not orthogonal`);return[ct.scale,ut.scale]}function functionalStyle(rt,it,at,lt,st){let ct={...rt};for(const ut in it)typeof it[ut]=="function"?ct[ut]=it[ut](at,lt,st):ct[ut]=it[ut];return ct}function functionalShape(rt,it,at,lt){let st;return typeof rt=="function"?st=rt(it,at,lt):st=rt,st}function functionalLabel(rt,it,at,lt){let st;return typeof rt=="function"?st=rt(it,at,lt):st=rt,st}function validateSeriesPointError(rt){return typeof rt=="number"?[rt,rt]:Array.isArray(rt)&&rt.length>=2?rt:null}function closestPoint(rt,it,at){let lt={index:0,distance:Number.POSITIVE_INFINITY};for(let st=0;st<rt.length;st++){const ct=at(rt[st],it);ct<lt.distance&&(lt.index=st,lt.distance=ct)}return rt[lt.index]}function toNumber(rt){return typeof rt>"u"||typeof rt=="number"?rt:rt.getTime()}function middlePoint(rt,it){return{x:(rt.x+it.x)/2,y:(rt.y+it.y)/2}}function plotReducer(rt,it){switch(it.type){case"addSeries":{rt.series.push(it.payload);break}case"removeSeries":{const{id:at}=it.payload,lt=rt.series.filter(st=>st.id!==at);rt.series=lt;break}case"addAxis":{const{id:at,position:lt,...st}=it.payload,ct=rt.axes[at];ct?(validatePosition(ct.position,lt,at),rt.axes[at]={...ct,position:lt,...st}):rt.axes[at]={id:at,position:lt,...st};break}case"removeAxis":{const{id:at}=it.payload;delete rt.axes[at];break}case"addHeading":{rt.headingPosition=it.payload.position;break}case"removeHeading":{rt.headingPosition=null;break}case"addLegend":{rt.legendPosition=it.payload.position,rt.legendMargin=it.payload.margin;break}case"removeLegend":{rt.legendPosition=null,rt.legendMargin=0;break}default:throw new Error(`Unknown reducer type ${it.type}`)}}const plotContext=reactExports.createContext({width:0,height:0,plotWidth:0,plotHeight:0,colorScaler:ordinal(),axisContext:{}}),plotDispatchContext=reactExports.createContext(()=>{});function usePlotContext(){const rt=reactExports.useContext(plotContext);if(!rt)throw new Error("usePlotContext called outside of Plot context");return rt}function usePlotDispatchContext(){const rt=reactExports.useContext(plotDispatchContext);if(!rt)throw new Error("usePlotDispatchContext called outside of Plot context");return rt}function useAxisContext(rt,it,{plotWidth:at,plotHeight:lt}){return reactExports.useMemo(()=>{const ct={};for(const ut in rt.axes){const ft=rt.axes[ut],dt=it[ut],pt=["top","bottom"].includes(ft.position),ht=pt?"x":"y";let gt=!1,mt;(dt==null?void 0:dt.min)!=null?(mt=dt.min,gt=!0):ft.min!=null?(mt=ft.min,gt=!0):mt=min$1(rt.series.filter(bt=>ht!=="x"||!bt.id.startsWith("~")),bt=>bt[ht].axisId===ut?bt[ht].min:void 0);let xt=!1,vt;if((dt==null?void 0:dt.max)!=null?(vt=dt.max,xt=!0):ft.max!=null?(vt=ft.max,xt=!0):vt=max$1(rt.series.filter(bt=>ht!=="x"||!bt.id.startsWith("~")),bt=>bt[ht].axisId===ut?bt[ht].max:void 0),mt===void 0||vt===void 0)return{};if(mt>vt)throw new Error(`${ut}: min (${mt}) is bigger than max (${vt})`);const $t=pt?at:lt,_t=computeAxisPadding(ft,vt-mt,$t,gt,xt),yt=pt?[0,at]:[lt,0],Et=[mt-_t.min,vt+_t.max],wt=function(St){return St<Et[0]?Et[0]:St>Et[1]?Et[1]:St};switch(ft.scale){case"log":{ct[ut]={type:ft.scale,position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:log().domain(Et).range(ft.flip?yt.reverse():yt),domain:Et,clampInDomain:wt};break}case"time":{ct[ut]={type:ft.scale,position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:time().domain(Et).range(ft.flip?yt.reverse():yt),domain:Et,clampInDomain:wt};break}case"linear":{ct[ut]={type:"linear",position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:linear().domain(Et).range(ft.flip?yt.reverse():yt),domain:Et,clampInDomain:wt};break}default:throw new Error("unreachable")}}return ct},[rt.axes,rt.series,it,at,lt])}function computeAxisPadding(rt,it,at,lt,st){const{paddingStart:ct,paddingEnd:ut}=rt;if(lt&&st)return{min:0,max:0};if(st)return{min:convertAxisPadding(ct,0,it,at).start,max:0};if(lt)return{min:0,max:convertAxisPadding(0,ut,it,at).end};{const ft=convertAxisPadding(ct,ut,it,at);return{min:ft.start,max:ft.end}}}function convertAxisPadding(rt,it,at,lt){let st=0,ct=0,ut=at;typeof rt=="number"&&(ut+=rt,st=rt),typeof it=="number"&&(ut+=it,ct=it);let ft=0,dt=0;typeof rt=="string"&&(ft=toPx(rt,lt)/lt),typeof it=="string"&&(dt=toPx(it,lt)/lt);const pt=ft+dt;if(pt!==0){const ht=pt*ut/(1-pt);st=ft/pt*ht,ct=dt/pt*ht}return{start:st,end:ct}}function toPx(rt,it){return rt.endsWith("%")?Number(rt.slice(0,-1))/100*it:Number(rt)}function createNestableContext(rt){const it=reactExports.createContext(new Map);function at(st){const ct=reactExports.useContext(it);return ct.has(st)?ct.get(st):rt}function lt(st){const{id:ct,value:ut,children:ft}=st,dt=reactExports.useContext(it),pt=reactExports.useMemo(()=>{const ht=new Map(dt);return ht.set(ct,ut),ht},[dt,ct,ut]);return jsx(it.Provider,{value:pt,children:ft})}return{useNestedContext:at,NestedContextProvider:lt}}const initialPlotOverridesState={axes:{}},plotOverridesContext=createNestableContext(initialPlotOverridesState);function usePlotOverrides(rt){return plotOverridesContext.useNestedContext(rt==null?void 0:rt.controllerId)}createNestableContext(null);createNestableContext(null);const plotEventsPlotContext=createNestableContext(null);function usePlotEventsPlotContext(rt){return plotEventsPlotContext.useNestedContext(rt==null?void 0:rt.controllerId)}function squaredEuclidean(rt,it){let at=0;for(let lt=0;lt<rt.length;lt++)at+=(rt[lt]-it[lt])*(rt[lt]-it[lt]);return at}function euclidean(rt,it){return Math.sqrt(squaredEuclidean(rt,it))}function convertString(rt,it){return rt.endsWith("%")?Number(rt.slice(0,-1))*it/100:Number(rt)}function convertToPx(rt,it,at){return at===void 0?0:typeof rt=="number"?at(rt)-at(0):convertString(rt,it)}function useIsSeriesVisible(rt){const[it]=useLegend(),at=it.labels.find(lt=>lt.id===rt);return at?at.isVisible:!0}function useShift(rt){const{axisContext:it,plotWidth:at,plotHeight:lt}=usePlotContext(),{xAxis:st,yAxis:ct,xShift:ut,yShift:ft}=rt,[dt,pt]=validateAxis(it,st,ct,{onlyOrthogonal:!0});return{xShift:convertToPx(ut,at,dt),yShift:convertToPx(ft,lt,pt)}}const markersComps={circle:Circle,square:Square,diamond:Diamond,triangle:Triangle,cross:Cross,xmark:XMark,pentagon:Pentagon,star:Star,hexagon:Hexagon},halfPi=Math.PI/2,twoPi=Math.PI*2;function Circle({style:rt,size:it}){return jsx("circle",{r:it/2,style:rt})}function Square({style:rt,size:it}){const at=it/2;return jsx("rect",{x:-at,y:-at,width:it,height:it,style:rt})}function Diamond({size:rt,style:it}){const at=rt/2;return jsx("polygon",{points:`0,${-at} ${at},0 0,${at} ${-at},0`,style:it})}function Triangle({style:rt,size:it}){const at=Math.sqrt(3)*it/2,lt=it/2;return jsx("polygon",{transform:`translate(0, -${(it-at)/2})`,points:`${-lt},${lt} ${lt},${lt} 0,${lt-at}`,style:rt})}function Cross({size:rt,style:it}){const at=rt/2;return jsxs("g",{strokeWidth:1,style:it,children:[jsx("line",{x1:0,x2:0,y1:at,y2:-at}),jsx("line",{x1:-at,x2:at,y1:0,y2:0})]})}function XMark(rt){return jsx("g",{transform:"rotate(45)",children:jsx(Cross,{...rt})})}function Pentagon({style:rt,size:it}){return jsx("polygon",{points:Array.from(getPolyPoints(it,5)).join(" "),style:rt})}function Star({style:rt,size:it}){const at=Array.from(getPolyPoints(it,5,0)),lt=Array.from(getPolyPoints(it/2.5,5,2*Math.PI/10)),st=[];for(let ct=0;ct<at.length;ct++)st.push(at[ct],lt[ct]);return jsx("polygon",{points:st.join(" "),style:rt})}function Hexagon({style:rt,size:it}){return jsx("polygon",{points:Array.from(getPolyPoints(it,6)).join(" "),style:rt})}function*getPolyPoints(rt,it,at=0){const lt=rt/2;for(let st=0;st<it;st++){const ct=twoPi*st/it-halfPi+at,ut=lt*Math.cos(ct),ft=lt*Math.sin(ct);yield`${ut},${ft}`}}function Annotations(rt){return jsx(Fragment,{children:rt.children})}function getInnerOffset(rt,it,at,lt){return rt||it?0:getOffsetFromTickPosition(at,lt)}function getOffsetFromTickPosition(rt,it){switch(rt){case"outer":return 0;case"inner":return it;case"center":return it/2;default:throw new Error("unreachable")}}const bboxContext=reactExports.createContext(null);function HorizontalAxisGridLines(rt){const{plotHeight:it,style:at,primaryTicks:lt,position:st,primaryGrid:ct,secondaryGrid:ut,secondaryStyle:ft,scale:dt}=rt,pt=reactExports.useMemo(()=>{const ht=[];if(ct)for(const{position:gt}of lt)ht.push(jsx("line",{x1:gt,x2:gt,y1:st==="top"?it:-it,y2:"0",stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:at},gt));if(ut){const mt=(dt==null?void 0:dt.ticks(lt.length*5))||[];for(const xt of mt){const vt=dt==null?void 0:dt(xt);if(!vt||lt.map($t=>$t.position).includes(vt))return null;ht.push(jsx("line",{x1:vt,x2:vt,y1:st==="top"?it:-it,y2:"0",stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:ft},vt))}}return ht},[st,it,ct,lt,dt,ut,ft,at]);return jsx("g",{children:pt})}function HorizontalAxisLabel(rt){const{plotWidth:it,label:at,labelStyle:lt,verticalAlign:st}=rt;return jsx(AlignGroup,{x:it/2,y:0,horizontalAlign:"middle",verticalAlign:st,children:jsx("text",{textAnchor:"middle",style:lt,children:at})})}function HorizontalAxisLine(rt){const{plotWidth:it,style:at}=rt;return jsx("line",{x1:0,x2:it,stroke:"black",style:at})}function Ticks(rt){const{primaryTicks:it,getPositions:at,secondaryTickLength:lt,scale:st,secondaryTickStyle:ct,style:ut,...ft}=rt,dt=it.map(ht=>{const{line:gt,text:mt}=at(ht.position);return jsx(Tick,{line:gt,style:ut,text:mt,...ft,children:ht.label},ht.position)});let pt=[];if(lt!==0){const mt=(Math.abs((st==null?void 0:st.range()[1])-(st==null?void 0:st.range()[0]))||0)/it.length<50?5:10;pt=((st==null?void 0:st.ticks(it.length*mt))||[]).map(vt=>{if(it.map(yt=>yt.position).includes(st(vt)))return null;const{line:$t,text:_t}=at(st(vt),!0);return jsx(Tick,{line:$t,text:_t,secondary:!0,style:ct,...ft},String(vt))})||[]}return jsxs(Fragment,{children:[pt,dt]})}function Tick(rt){const{line:{x1:it=0,x2:at=0,y1:lt=0,y2:st=0},text:{x1:ct=0,y1:ut=0},children:ft,strokeColor:dt="black",strokeHeight:pt=1,anchor:ht="end",secondary:gt=!1,labelStyle:mt,style:xt,dominantBaseline:vt="middle"}=rt;return jsxs("g",{children:[jsx("line",{x1:it,x2:gt&&it!==at?at*pt:at,y1:lt,y2:gt&&lt!==st?st*pt:st,stroke:dt,strokeWidth:gt?1:1.5,style:xt}),!gt&&jsx("text",{x:ct,y:ut,textAnchor:ht,dominantBaseline:vt,style:mt,children:ft})]})}function HorizontalAxis(rt){const{primaryTickStyle:it,primaryTickLength:at,tickPosition:lt,hiddenTicks:st,lineStyle:ct,hiddenLine:ut,hidden:ft,plotWidth:dt,plotHeight:pt,displayPrimaryGridLines:ht,displaySecondaryGridLines:gt,primaryGridLineStyle:mt,secondaryGridLineStyle:xt,label:vt,labelStyle:$t,axisRef:_t,primaryTicks:yt,position:Et,tickLabelStyle:wt,innerOffset:bt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}=rt,kt=Et==="bottom",At=0,Ct=kt?`translate(0, ${pt})`:void 0,Mt=useBBoxObserver();function Ot(Lt,Ft=!1){const{y1:qt,y2:Gt,textPosition:Ut}=Nt(Ft);return{line:{x1:Lt,x2:Lt,y1:qt,y2:Gt},text:{x1:Lt,y1:kt?Ut:-Ut}}}function Nt(Lt=!1){const Ft=Lt?St:at,qt=kt?Ft:-Ft;switch(lt){case"center":return{y1:qt/2,y2:-qt/2,textPosition:At+Ft/2};case"inner":return{y1:0,y2:-qt,textPosition:At};case"outer":return{y1:0,y2:qt,textPosition:At+Ft};default:return{y1:0,y:0,textPosition:0}}}const It=ht||gt?jsx(HorizontalAxisGridLines,{position:Et,plotHeight:pt,primaryTicks:yt,style:mt,primaryGrid:ht,secondaryGrid:gt,secondaryStyle:xt,scale:Tt}):null,Dt=!ft&&!st?jsx(Ticks,{anchor:"middle",primaryTicks:yt,getPositions:Ot,labelStyle:wt,style:it,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt,dominantBaseline:kt?"text-before-edge":"text-after-edge"}):null,zt=!ft&&!ut?jsx(HorizontalAxisLine,{style:ct,plotWidth:dt}):null,Yt=!ft&&vt?jsx(HorizontalAxisLabel,{plotWidth:dt,label:vt,labelStyle:$t,verticalAlign:kt?"start":"end"}):null,Pt=reactExports.useContext(bboxContext);return jsxs("g",{transform:Ct,children:[It,jsxs("g",{ref:Pt,children:[jsx("g",{ref:Mt.ref,children:Dt}),jsx("g",{ref:_t,children:zt}),jsx("g",{transform:`translate(0, ${(Mt.height-bt)*(kt?1:-1)})`,children:Yt})]})]})}function VerticalAxisGridlines(rt){const{plotWidth:it,style:at,primaryTicks:lt,position:st,primaryGrid:ct,secondaryGrid:ut,scale:ft,secondaryStyle:dt}=rt,pt=reactExports.useMemo(()=>{const ht=[];if(ct)for(const{position:gt}of lt)ht.push(jsx("line",{x1:"0",x2:st==="left"?it:-it,y1:gt,y2:gt,stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:at},gt));if(ut){const mt=(ft==null?void 0:ft.ticks(lt.length*5))||[];for(const xt of mt){const vt=(ft==null?void 0:ft(xt))||0;if(lt.map($t=>$t.position).includes(vt))return null;ht.push(jsx("line",{x1:"0",x2:st==="left"?it:-it,y1:vt,y2:vt,stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:dt},vt))}}return ht},[st,it,ct,lt,ft,ut,dt,at]);return jsx("g",{children:pt})}function VerticalText(rt){const{transform:it="",label:at,...lt}=rt;return jsx("text",{...lt,transform:`${it}rotate(-90)`,textAnchor:"middle",children:at})}function VerticalAxisLabel(rt){const{plotHeight:it,label:at,labelStyle:lt,horizontalAlign:st}=rt;return jsx(AlignGroup,{x:0,y:it/2,horizontalAlign:st,verticalAlign:"middle",children:jsx(VerticalText,{label:at,style:lt})})}function VerticalAxisLine(rt){const{plotHeight:it,style:at}=rt;return jsx("line",{y1:0,y2:it,stroke:"black",style:at})}function VerticalAxis(rt){const{primaryTickStyle:it,primaryTickLength:at,tickPosition:lt,hiddenTicks:st,primaryGridLineStyle:ct,lineStyle:ut,hiddenLine:ft,hidden:dt,plotWidth:pt,plotHeight:ht,displayPrimaryGridLines:gt,displaySecondaryGridLines:mt,secondaryGridLineStyle:xt,label:vt,labelStyle:$t,axisRef:_t,primaryTicks:yt,position:Et,tickLabelStyle:wt,innerOffset:bt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}=rt,kt=Et==="right",At=3,Ct=kt?`translate(${pt}, 0)`:void 0,Mt=useBBoxObserver();function Ot(Lt,Ft=!1){const{x1:qt,x2:Gt,textPosition:Ut}=Nt(Ft);return{line:{y1:Lt,y2:Lt,x1:qt,x2:Gt},text:{y1:Lt,x1:kt?Ut:-Ut}}}function Nt(Lt=!1){const Ft=Lt?St:at,qt=kt?Ft:-Ft;switch(lt){case"center":return{x1:qt/2,x2:-qt/2,textPosition:At+Ft/2};case"inner":return{x1:0,x2:-qt,textPosition:At};case"outer":return{x1:0,x2:qt,textPosition:At+Ft};default:return{x1:0,x2:0,textPosition:3}}}const It=gt||mt?jsx(VerticalAxisGridlines,{position:Et,plotWidth:pt,primaryTicks:yt,style:ct,primaryGrid:gt,secondaryGrid:mt,secondaryStyle:xt,scale:Tt}):null,Dt=!dt&&!st?jsx(Ticks,{anchor:kt?"start":"end",primaryTicks:yt,getPositions:Ot,labelStyle:wt,style:it,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}):null,zt=!dt&&!ft?jsx(VerticalAxisLine,{style:ut,plotHeight:ht}):null,Yt=!dt&&vt?jsx(VerticalAxisLabel,{plotHeight:ht,label:vt,labelStyle:$t,horizontalAlign:kt?"start":"end"}):null,Pt=reactExports.useContext(bboxContext);return jsxs("g",{transform:Ct,children:[It,jsxs("g",{ref:Pt,children:[jsx("g",{ref:Mt.ref,children:Dt}),jsx("g",{ref:_t,children:zt}),jsx("g",{transform:`translate(${(Mt.width-bt)*(kt?1:-1)}, 0)`,children:Yt})]})]})}function LinearAxis(rt){const{position:it,tickLabelFormat:at,scale:lt,...st}=rt,ct=reactExports.useRef(null),ut=it==="left"||it==="right"?"vertical":"horizontal",ft=useLinearPrimaryTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:it,...st})}const LinearAxis$1=reactExports.memo(LinearAxis);function LogAxis(rt){const{position:it,tickLabelFormat:at,scale:lt,...st}=rt,ct=reactExports.useRef(null),ut=it==="left"||it==="right"?"vertical":"horizontal",ft=useLogTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:it,...st})}const LogAxis$1=reactExports.memo(LogAxis);function TimeAxis(rt){const{position:it,tickLabelFormat:at,scale:lt,...st}=rt,ct=reactExports.useRef(null),ut=it==="left"||it==="right"?"vertical":"horizontal",ft=useTimeTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:it,...st})}const TimeAxis$1=reactExports.memo(TimeAxis);function Axis({id:rt,position:it,min:at,max:lt,paddingStart:st=0,paddingEnd:ct=0,flip:ut=!1,scale:ft="linear",label:dt,displayPrimaryGridLines:pt=!1,primaryGridLineStyle:ht,displaySecondaryGridLines:gt,secondaryGridLineStyle:mt,labelStyle:xt,hidden:vt=!1,tickLabelStyle:$t,tickLabelFormat:_t=ft==="time"?void 0:String,hiddenLine:yt=!1,lineStyle:Et,hiddenTicks:wt=!1,tickPosition:bt="outer",primaryTickLength:St=5,primaryTickStyle:Tt,secondaryTickLength:Rt=3,secondaryTickStyle:kt}){const At=usePlotDispatchContext(),{axisContext:Ct,plotWidth:Mt,plotHeight:Ot}=usePlotContext(),Nt=["top","bottom"].includes(it)?"x":"y",It=rt||Nt,Dt=getInnerOffset(vt,wt,bt,St);reactExports.useEffect(()=>(At({type:"addAxis",payload:{id:It,position:it,min:at,max:lt,paddingStart:st,paddingEnd:ct,flip:ut,scale:ft,innerOffset:Dt,tickLabelFormat:_t}}),()=>At({type:"removeAxis",payload:{id:It}})),[At,ut,Dt,lt,at,ct,st,it,ft,It,_t]);const zt=Ct[It];if(!zt)return null;const Yt={hidden:vt,plotWidth:Mt,plotHeight:Ot,displayPrimaryGridLines:pt,label:dt,labelStyle:xt,tickLabelStyle:$t,position:it,hiddenLine:yt,primaryGridLineStyle:ht,displaySecondaryGridLines:gt,secondaryGridLineStyle:mt,lineStyle:Et,hiddenTicks:wt,tickPosition:bt,primaryTickLength:St,primaryTickStyle:Tt,innerOffset:Dt,secondaryTickLength:Rt,secondaryTickStyle:kt};return ft==="linear"?jsx(LinearAxis$1,{...Yt,tickLabelFormat:_t,scale:zt.scale}):ft==="time"?jsx(TimeAxis$1,{...Yt,tickLabelFormat:_t,scale:zt.scale}):jsx(LogAxis$1,{...Yt,tickLabelFormat:_t,scale:zt.scale})}function parallelPosition(rt){switch(rt){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left";default:throw new Error(`Unknown position ${rt}`)}}function ParallelAxis(rt){const{id:it,hidden:at=!1,primaryTickLength:lt=5,secondaryTickLength:st=3,tickPosition:ct="outer",hiddenLine:ut=!1,hiddenTicks:ft=!1,tickLabelFormat:dt,...pt}=rt,{axisContext:ht,plotWidth:gt,plotHeight:mt}=usePlotContext(),xt=getInnerOffset(at,ft,ct,lt),vt=ht[it];if(!vt)return null;const $t=parallelPosition(vt.position),{type:_t,scale:yt,tickLabelFormat:Et}=vt,wt=dt??Et,bt={plotWidth:gt,plotHeight:mt,position:$t,displayPrimaryGridLines:!1,hidden:at,primaryTickLength:lt,tickPosition:ct,hiddenLine:ut,hiddenTicks:ft,innerOffset:xt,secondaryTickLength:st,...pt};return _t==="linear"?jsx(LinearAxis$1,{...bt,tickLabelFormat:wt,scale:yt}):_t==="time"?jsx(TimeAxis$1,{...bt,tickLabelFormat:wt,scale:yt}):jsx(LogAxis$1,{...bt,tickLabelFormat:wt,scale:yt})}function Heading({title:rt,titleStyle:it,titleClass:at,subtitle:lt,subtitleStyle:st,subtitleClass:ct,position:ut="top"}){const{width:ft,height:dt}=usePlotContext(),pt=usePlotDispatchContext(),ht={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"16px",fontWeight:"bold"},gt={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"14px",color:"gray"},mt=useBBoxObserver();return reactExports.useEffect(()=>(pt({type:"addHeading",payload:{position:ut}}),()=>pt({type:"removeHeading"})),[pt,ut]),jsxs(AlignGroup,{x:ft/2,y:ut==="top"?0:dt,horizontalAlign:"middle",verticalAlign:ut==="top"?"start":"end",children:[jsx("text",{ref:mt.ref,style:{...ht,...it},className:at,children:rt}),lt&&jsx("text",{transform:`translate(0, ${mt.height})`,style:{...gt,...st},className:ct,children:lt})]})}Heading.defaultProps={position:"top"};const legendOffsetContext=reactExports.createContext(0);function exclusiveProps(rt,it,at,lt){if(rt[it]!==void 0){if(rt[at]!==void 0)throw new Error(`${it} and ${at} should't be both defined for the position ${lt}`);return{key:it,value:rt[it]}}return rt[at]!==void 0?{key:at,value:rt[at]}:{}}function translation(rt,it,at,lt,st){switch(rt){case"embedded":{const{key:ct="top",value:ut=10}=exclusiveProps(it,"top","bottom",rt),{key:ft="left",value:dt=10}=exclusiveProps(it,"left","right",rt),pt=ft==="right"?at-dt:dt,ht=ct==="bottom"?lt-ut:ut;return{x:pt,y:ht,horizontalAlign:ft==="left"?"start":"end",verticalAlign:ct==="top"?"start":"end"}}case"top":{const{value:ct=at/2}=exclusiveProps(it,"left","right",rt),ut=ct,ft=-(it.bottom||0)-st;return{x:ut,y:ft,horizontalAlign:"middle",verticalAlign:"end"}}case"right":{const{key:ct="top",value:ut=lt/2}=exclusiveProps(it,"top","bottom",rt),ft=ct==="bottom"?-ut:ut;return{x:at+(it.left||0)+st,y:ft,horizontalAlign:"start",verticalAlign:"middle"}}case"bottom":{const{value:ct=at/2}=exclusiveProps(it,"left","right",rt),ut=ct,ft=lt+(it.top||0)+st;return{x:ut,y:ft,horizontalAlign:"middle",verticalAlign:"start"}}case"left":{const{key:ct="top",value:ut=lt/2}=exclusiveProps(it,"top","bottom",rt),ft=ct==="bottom"?-ut:ut;return{x:-(it.right||0)-st,y:ft,horizontalAlign:"end",verticalAlign:"middle"}}default:throw new Error(`Position ${JSON.stringify(rt)} unknown`)}}function Legend(rt){const{position:it="embedded",margin:at=10,onClick:lt,lineStyle:st={},showHide:ct=!1,labelStyle:ut={},...ft}=rt,{plotWidth:dt,plotHeight:pt}=usePlotContext(),ht=usePlotDispatchContext(),[gt,mt]=useLegend(),xt=reactExports.useContext(legendOffsetContext),vt=reactExports.useMemo(()=>translation(it,ft,dt,pt,xt),[it,ft,dt,pt,xt]);reactExports.useEffect(()=>(ht({type:"addLegend",payload:{position:it,margin:at}}),()=>ht({type:"removeLegend"})),[ht,it,at]);function $t(_t,yt){lt==null||lt({event:_t,id:yt}),ct&&mt({type:"TOGGLE_VISIBILITY",payload:{id:yt}})}return jsx(AlignGroup,{...vt,children:gt.labels.map((_t,yt)=>{const Et=functionalStyle({fontSize:"16px"},ut,{id:_t.id}),wt=functionalStyle({},st,{id:_t.id}),bt=Number.parseInt(String(Et.fontSize),10),St=10,Tt=yt*bt+bt/2+3;if(_t.range)return jsxs("g",{onClick:kt=>$t(kt,_t.id),transform:`translate(${St}, 0)`,style:{opacity:_t.isVisible?"1":"0.6"},children:[getRangeShape({index:yt,rangeColor:_t.range.rangeColor,lineColor:_t.colorLine,style:wt,height:bt}),jsx("text",{style:Et,x:30,y:`${(yt+1)*bt}`,children:_t.label})]},yt);let Rt;return _t.shape&&(Rt=markersComps[_t.shape.figure]),jsxs("g",{onClick:kt=>$t(kt,_t.id),transform:`translate(${St}, 0)`,style:{opacity:_t.isVisible?"1":"0.6"},children:[getLineShape({index:yt,color:_t.colorLine,style:wt,height:bt}),jsx("g",{transform:`translate(${St-1}, ${Tt})`,children:_t.shape&&Rt&&!_t.shape.hidden&&jsx(Rt,{size:10,style:{fill:_t.shape.color}})}),jsx("text",{style:Et,x:30,y:`${(yt+1)*bt}`,children:_t.label})]},yt)})})}function getLineShape(rt){const{index:it,color:at,style:lt={},height:st=16}=rt,ct=0,{strokeWidth:ut="2px"}=lt,ft=it*st+st/2+3;return jsx("line",{x1:ct,x2:ct+20,y1:ft,y2:ft,stroke:at,style:{...lt,strokeWidth:ut}})}function getRangeShape(rt){const{index:it,rangeColor:at,lineColor:lt,style:st={},height:ct=16}=rt,{strokeWidth:ut="15px"}=st,ft=Number.parseInt(ut==null?void 0:ut.toString(),10)/5,dt=0,pt=it*ct+ct/2-ft;return jsxs("g",{transform:`translate(${dt}, ${pt})`,children:[jsx("rect",{width:"20",height:ft*3,fill:at}),jsx("line",{style:st,x1:0,y:0,x2:20,y2:0,stroke:lt,strokeWidth:ft}),jsx("line",{style:st,x1:0,y1:ft*3,x2:20,y2:ft*3,stroke:lt,strokeWidth:ft})]})}function ErrorBars(rt){const{xAxis:it="x",yAxis:at="y",data:lt,hidden:st,transform:ct,...ut}=rt,{axisContext:ft}=usePlotContext(),[dt,pt]=validateAxis(ft,it,at),ht=reactExports.useMemo(()=>st||dt===void 0||pt===void 0?null:lt.map((mt,xt)=>{const vt=validateSeriesPointError(mt.xError),$t=validateSeriesPointError(mt.yError);return jsx(PointBars,{origin:{x:dt(mt.x),y:pt(mt.y)},bottom:$t?pt(mt.y-($t[0]||0)):null,top:$t?pt(mt.y+($t[1]||0)):null,left:vt?dt(mt.x-(vt[0]||0)):null,right:vt?dt(mt.x+(vt[1]||0)):null,...ut},`ErrorBars-${xt}`)}),[lt,dt,pt,st,ut]);return jsx("g",{transform:ct,children:ht})}function PointBars(rt){const{origin:it,top:at,bottom:lt,left:st,right:ct,style:ut,capSize:ft=10,capStyle:dt}=rt,pt="black";return jsxs("g",{children:[at!=null&&jsxs("g",{children:[jsx("line",{x1:it.x,x2:it.x,y1:it.y,y2:at,stroke:pt,...ut}),jsx("line",{x1:it.x-ft/2,x2:it.x+ft/2,y1:at,y2:at,stroke:pt,...ut,...dt})]}),lt!=null&&jsxs("g",{children:[jsx("line",{x1:it.x,x2:it.x,y1:it.y,y2:lt,stroke:pt,...ut}),jsx("line",{x1:it.x-ft/2,x2:it.x+ft/2,y1:lt,y2:lt,stroke:pt,...ut,...dt})]}),st!=null&&jsxs("g",{children:[jsx("line",{x1:it.x,x2:st,y1:it.y,y2:it.y,stroke:pt,...ut}),jsx("line",{x1:st,x2:st,y1:it.y-ft/2,y2:it.y+ft/2,stroke:pt,...ut,...dt})]}),ct!=null&&jsxs("g",{children:[jsx("line",{x1:it.x,x2:ct,y1:it.y,y2:it.y,stroke:pt,...ut}),jsx("line",{x1:ct,x2:ct,y1:it.y-ft/2,y2:it.y+ft/2,stroke:pt,...ut,...dt})]})]})}function ScatterSeries(rt){const it=usePlotDispatchContext(),{colorScaler:at}=usePlotContext(),[,lt]=useLegend(),st=useId(rt.id,"series"),{xAxis:ct="x",yAxis:ut="y",data:ft,label:dt,hidden:pt,displayErrorBars:ht=!1,xShift:gt=0,yShift:mt=0,...xt}=rt,{markerShape:vt="circle",markerStyle:$t={},errorBarsStyle:_t,errorBarsCapStyle:yt,errorBarsCapSize:Et}=xt,wt=useIsSeriesVisible(st),{xShift:bt,yShift:St}=useShift({xAxis:ct,yAxis:ut,xShift:gt,yShift:mt}),Tt=`translate(${bt},${St})`;if(reactExports.useEffect(()=>{var At;if(!pt)return lt({type:"ADD_LEGEND_LABEL",payload:{id:st,label:dt,colorLine:"white",shape:{color:((At=$t==null?void 0:$t.fill)===null||At===void 0?void 0:At.toString())||at(st),figure:typeof vt=="string"?vt:"circle",hidden:!1}}}),()=>lt({type:"REMOVE_LEGEND_LABEL",payload:{id:st}})},[at,pt,st,dt,lt,vt,$t==null?void 0:$t.fill]),reactExports.useEffect(()=>{const[At,Ct]=extent$1(ft,Dt=>Dt.x),[Mt,Ot]=extent$1(ft,Dt=>Dt.y);return it({type:"addSeries",payload:{id:st,x:{min:At,max:Ct,axisId:ct,shift:gt},y:{min:Mt,max:Ot,axisId:ut,shift:mt},label:dt,data:ft}}),()=>it({type:"removeSeries",payload:{id:st}})},[it,st,ft,ct,ut,dt,gt,mt]),pt)return null;const Rt={data:ft,xAxis:ct,yAxis:ut};return wt?jsxs("g",{children:[jsx(ErrorBars,{...Rt,...{hidden:!ht,style:_t,capStyle:yt,capSize:Et,transform:Tt}}),jsx(ScatterSeriesRender,{...xt,...Rt,id:st,transform:Tt})]}):null}function ScatterSeriesRender({id:rt,data:it,xAxis:at,yAxis:lt,markerShape:st="circle",markerSize:ct=8,markerStyle:ut={},pointLabel:ft="",pointLabelStyle:dt={},displayMarkers:pt=!0,lineStyle:ht={},displayLines:gt=!1,transform:mt}){const{axisContext:xt,colorScaler:vt}=usePlotContext(),[$t,_t]=validateAxis(xt,at,lt),yt=reactExports.useMemo(()=>{if($t===void 0||_t===void 0)return null;const Et=vt(rt),wt={fill:Et,stroke:Et};return it.map((St,Tt)=>{const Rt=functionalStyle(wt,ut,St,Tt,it),kt=markersComps[functionalShape(st,St,Tt,it)],At=functionalLabel(ft,St,Tt,it),Ct=functionalStyle({},dt,St,Tt,it),Mt=[];if(gt){const Ot=functionalStyle({},ht,St,Tt,it),Nt=Tt>0?middlePoint(St,it[Tt-1]):void 0,It=it[Tt+1]?middlePoint(St,it[Tt+1]):void 0,Dt=Nt?jsx("line",{x1:0,y1:0,x2:$t(Nt.x)-$t(St.x),y2:_t(Nt.y)-_t(St.y),style:{stroke:Rt.fill,...Ot}},`markers-${Tt}-previous`):null,zt=It?jsx("line",{x1:0,y1:0,x2:$t(It.x)-$t(St.x),y2:_t(It.y)-_t(St.y),style:{stroke:Rt.fill,...Ot}},`markers-${Tt}-next`):null;Mt.push(Dt,zt)}return jsxs("g",{transform:`translate(${$t(St.x)}, ${_t(St.y)})`,children:[Mt,pt?jsx(kt,{size:ct,style:{stroke:Rt.fill,...Rt}}):null,At?jsx("text",{style:Ct,children:At}):null]},`markers-${Tt}`)})},[$t,_t,vt,rt,it,ut,st,ft,dt,ht,gt,pt,ct]);return yt?jsx("g",{transform:mt,className:"markers",children:yt}):null}function BarSeries(rt){var it;const[,at]=useLegend(),{colorScaler:lt}=usePlotContext(),st=useId(rt.id,"series"),{lineStyle:ct={},displayMarkers:ut=!1,hidden:ft,...dt}=rt,{xAxis:pt="x",yAxis:ht="y",xShift:gt="0",yShift:mt="0",pointLabel:xt,displayErrorBars:vt,label:$t,markerStyle:_t,markerShape:yt}=dt,{xShift:Et,yShift:wt}=useShift({xAxis:pt,yAxis:ht,xShift:gt,yShift:mt}),bt={id:st,data:rt.data,xAxis:pt,yAxis:ht,lineStyle:functionalStyle({},ct,{id:st}),transform:`translate(${Et},${wt})`},St=ct!=null&&ct.stroke?ct==null?void 0:ct.stroke.toString():lt(st),Tt=((it=_t==null?void 0:_t.fill)===null||it===void 0?void 0:it.toString())||lt(st),Rt=yt||"circle",kt=reactExports.useMemo(()=>({color:Tt,figure:Rt,hidden:!ut}),[Tt,ut,Rt]),At=useIsSeriesVisible(st);return reactExports.useEffect(()=>{if(!ft)return at({type:"ADD_LEGEND_LABEL",payload:{id:st,label:$t,colorLine:St,shape:kt}}),()=>at({type:"REMOVE_LEGEND_LABEL",payload:{id:st}})},[St,at,$t,kt,st,ft]),ft?null:jsxs("g",{children:[At&&jsx(BarSeriesRender,{...bt}),jsx(ScatterSeries,{...dt,hidden:!ut&&!xt&&!vt,displayMarkers:ut,id:st})]})}function BarSeriesRender({id:rt,data:it,xAxis:at,yAxis:lt,lineStyle:st,transform:ct}){const{axisContext:ut,colorScaler:ft}=usePlotContext(),[dt,pt]=validateAxis(ut,at,lt),ht=ft(rt);if(dt===void 0||pt===void 0)return null;const gt={stroke:ht,strokeWidth:2,...st};return jsx("g",{transform:ct,children:it.map(({x:mt,y:xt})=>jsx("line",{style:gt,x1:dt(mt),x2:dt(mt),y1:pt(xt),y2:pt(0)},`${mt}-${xt}`))})}function constant(rt){return function(){return rt}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(rt){this._+=rt[0];for(let it=1,at=rt.length;it<at;++it)this._+=arguments[it]+rt[it]}function appendRound(rt){let it=Math.floor(rt);if(!(it>=0))throw new Error(`invalid digits: ${rt}`);if(it>15)return append;const at=10**it;return function(lt){this._+=lt[0];for(let st=1,ct=lt.length;st<ct;++st)this._+=Math.round(arguments[st]*at)/at+lt[st]}}class Path{constructor(it){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=it==null?append:appendRound(it)}moveTo(it,at){this._append`M${this._x0=this._x1=+it},${this._y0=this._y1=+at}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(it,at){this._append`L${this._x1=+it},${this._y1=+at}`}quadraticCurveTo(it,at,lt,st){this._append`Q${+it},${+at},${this._x1=+lt},${this._y1=+st}`}bezierCurveTo(it,at,lt,st,ct,ut){this._append`C${+it},${+at},${+lt},${+st},${this._x1=+ct},${this._y1=+ut}`}arcTo(it,at,lt,st,ct){if(it=+it,at=+at,lt=+lt,st=+st,ct=+ct,ct<0)throw new Error(`negative radius: ${ct}`);let ut=this._x1,ft=this._y1,dt=lt-it,pt=st-at,ht=ut-it,gt=ft-at,mt=ht*ht+gt*gt;if(this._x1===null)this._append`M${this._x1=it},${this._y1=at}`;else if(mt>epsilon)if(!(Math.abs(gt*dt-pt*ht)>epsilon)||!ct)this._append`L${this._x1=it},${this._y1=at}`;else{let xt=lt-ut,vt=st-ft,$t=dt*dt+pt*pt,_t=xt*xt+vt*vt,yt=Math.sqrt($t),Et=Math.sqrt(mt),wt=ct*Math.tan((pi-Math.acos(($t+mt-_t)/(2*yt*Et)))/2),bt=wt/Et,St=wt/yt;Math.abs(bt-1)>epsilon&&this._append`L${it+bt*ht},${at+bt*gt}`,this._append`A${ct},${ct},0,0,${+(gt*xt>ht*vt)},${this._x1=it+St*dt},${this._y1=at+St*pt}`}}arc(it,at,lt,st,ct,ut){if(it=+it,at=+at,lt=+lt,ut=!!ut,lt<0)throw new Error(`negative radius: ${lt}`);let ft=lt*Math.cos(st),dt=lt*Math.sin(st),pt=it+ft,ht=at+dt,gt=1^ut,mt=ut?st-ct:ct-st;this._x1===null?this._append`M${pt},${ht}`:(Math.abs(this._x1-pt)>epsilon||Math.abs(this._y1-ht)>epsilon)&&this._append`L${pt},${ht}`,lt&&(mt<0&&(mt=mt%tau+tau),mt>tauEpsilon?this._append`A${lt},${lt},0,1,${gt},${it-ft},${at-dt}A${lt},${lt},0,1,${gt},${this._x1=pt},${this._y1=ht}`:mt>epsilon&&this._append`A${lt},${lt},0,${+(mt>=pi)},${gt},${this._x1=it+lt*Math.cos(ct)},${this._y1=at+lt*Math.sin(ct)}`)}rect(it,at,lt,st){this._append`M${this._x0=this._x1=+it},${this._y0=this._y1=+at}h${lt=+lt}v${+st}h${-lt}Z`}toString(){return this._}}function withPath(rt){let it=3;return rt.digits=function(at){if(!arguments.length)return it;if(at==null)it=null;else{const lt=Math.floor(at);if(!(lt>=0))throw new RangeError(`invalid digits: ${at}`);it=lt}return rt},()=>new Path(it)}function array(rt){return typeof rt=="object"&&"length"in rt?rt:Array.from(rt)}function Linear(rt){this._context=rt}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;default:this._context.lineTo(rt,it);break}}};function curveLinear(rt){return new Linear(rt)}function x(rt){return rt[0]}function y(rt){return rt[1]}function line(rt,it){var at=constant(!0),lt=null,st=curveLinear,ct=null,ut=withPath(ft);rt=typeof rt=="function"?rt:rt===void 0?x:constant(rt),it=typeof it=="function"?it:it===void 0?y:constant(it);function ft(dt){var pt,ht=(dt=array(dt)).length,gt,mt=!1,xt;for(lt==null&&(ct=st(xt=ut())),pt=0;pt<=ht;++pt)!(pt<ht&&at(gt=dt[pt],pt,dt))===mt&&((mt=!mt)?ct.lineStart():ct.lineEnd()),mt&&ct.point(+rt(gt,pt,dt),+it(gt,pt,dt));if(xt)return ct=null,xt+""||null}return ft.x=function(dt){return arguments.length?(rt=typeof dt=="function"?dt:constant(+dt),ft):rt},ft.y=function(dt){return arguments.length?(it=typeof dt=="function"?dt:constant(+dt),ft):it},ft.defined=function(dt){return arguments.length?(at=typeof dt=="function"?dt:constant(!!dt),ft):at},ft.curve=function(dt){return arguments.length?(st=dt,lt!=null&&(ct=st(lt)),ft):st},ft.context=function(dt){return arguments.length?(dt==null?lt=ct=null:ct=st(lt=dt),ft):lt},ft}function area(rt,it,at){var lt=null,st=constant(!0),ct=null,ut=curveLinear,ft=null,dt=withPath(pt);rt=typeof rt=="function"?rt:rt===void 0?x:constant(+rt),it=typeof it=="function"?it:constant(it===void 0?0:+it),at=typeof at=="function"?at:at===void 0?y:constant(+at);function pt(gt){var mt,xt,vt,$t=(gt=array(gt)).length,_t,yt=!1,Et,wt=new Array($t),bt=new Array($t);for(ct==null&&(ft=ut(Et=dt())),mt=0;mt<=$t;++mt){if(!(mt<$t&&st(_t=gt[mt],mt,gt))===yt)if(yt=!yt)xt=mt,ft.areaStart(),ft.lineStart();else{for(ft.lineEnd(),ft.lineStart(),vt=mt-1;vt>=xt;--vt)ft.point(wt[vt],bt[vt]);ft.lineEnd(),ft.areaEnd()}yt&&(wt[mt]=+rt(_t,mt,gt),bt[mt]=+it(_t,mt,gt),ft.point(lt?+lt(_t,mt,gt):wt[mt],at?+at(_t,mt,gt):bt[mt]))}if(Et)return ft=null,Et+""||null}function ht(){return line().defined(st).curve(ut).context(ct)}return pt.x=function(gt){return arguments.length?(rt=typeof gt=="function"?gt:constant(+gt),lt=null,pt):rt},pt.x0=function(gt){return arguments.length?(rt=typeof gt=="function"?gt:constant(+gt),pt):rt},pt.x1=function(gt){return arguments.length?(lt=gt==null?null:typeof gt=="function"?gt:constant(+gt),pt):lt},pt.y=function(gt){return arguments.length?(it=typeof gt=="function"?gt:constant(+gt),at=null,pt):it},pt.y0=function(gt){return arguments.length?(it=typeof gt=="function"?gt:constant(+gt),pt):it},pt.y1=function(gt){return arguments.length?(at=gt==null?null:typeof gt=="function"?gt:constant(+gt),pt):at},pt.lineX0=pt.lineY0=function(){return ht().x(rt).y(it)},pt.lineY1=function(){return ht().x(rt).y(at)},pt.lineX1=function(){return ht().x(lt).y(it)},pt.defined=function(gt){return arguments.length?(st=typeof gt=="function"?gt:constant(!!gt),pt):st},pt.curve=function(gt){return arguments.length?(ut=gt,ct!=null&&(ft=ut(ct)),pt):ut},pt.context=function(gt){return arguments.length?(gt==null?ct=ft=null:ft=ut(ct=gt),pt):ct},pt}function LineSeriesInner(rt){const[,it]=useLegend(),{colorScaler:at}=usePlotContext(),lt=useId(rt.id,"series"),{lineStyle:st={},displayMarkers:ct=!1,hidden:ut,...ft}=rt,{xAxis:dt="x",yAxis:pt="y",xShift:ht="0",yShift:gt="0",pointLabel:mt,displayErrorBars:xt,label:vt,markerStyle:$t,markerShape:_t}=ft,{xShift:yt,yShift:Et}=useShift({xAxis:dt,yAxis:pt,xShift:ht,yShift:gt}),wt=functionalStyle({},st,{id:lt}),bt=useIsSeriesVisible(lt);if(reactExports.useEffect(()=>{var Tt,Rt;if(!ut)return it({type:"ADD_LEGEND_LABEL",payload:{id:lt,label:vt,colorLine:((Tt=wt==null?void 0:wt.stroke)===null||Tt===void 0?void 0:Tt.toString())||at(lt),shape:{color:((Rt=$t==null?void 0:$t.fill)===null||Rt===void 0?void 0:Rt.toString())||at(lt),figure:_t||"circle",hidden:!ct}}}),()=>it({type:"REMOVE_LEGEND_LABEL",payload:{id:lt}})},[ut,at,ct,lt,it,wt==null?void 0:wt.stroke,vt,_t,$t==null?void 0:$t.fill]),ut)return null;const St={id:lt,data:rt.data,xAxis:dt,yAxis:pt,lineStyle:wt,transform:`translate(${yt},${Et})`};return jsxs("g",{children:[bt&&jsx(LineSeriesRender,{...St}),jsx(ScatterSeries,{...ft,hidden:!ct&&!mt&&!xt,displayMarkers:ct,id:lt})]})}const LineSeries=reactExports.memo(LineSeriesInner);function LineSeriesRender({id:rt,data:it,xAxis:at,yAxis:lt,lineStyle:st,transform:ct}){const{axisContext:ut,colorScaler:ft}=usePlotContext(),[dt,pt]=validateAxis(ut,at,lt),ht=ft(rt),gt=reactExports.useMemo(()=>dt===void 0||pt===void 0?null:line().x(vt=>dt(vt.x)).y(vt=>pt(vt.y))(it),[it,dt,pt]);if(!gt)return null;const mt={stroke:ht,strokeWidth:2,...st};return jsx("path",{transform:ct,style:mt,d:gt,fill:"none"})}function FunctionSeries(rt){const{getY:it,xAxis:at="x",id:lt,...st}=rt,ct=`~${useId(lt,"series")}`,{axisContext:ut,plotWidth:ft,plotHeight:dt}=usePlotContext(),pt=ut[at],ht=1,gt=reactExports.useMemo(()=>{const mt=[];if(pt){const vt=(pt?pt.position==="top"||pt.position==="bottom":!1)?ft:dt,$t=pt.scale;for(let _t=0;_t<=vt;_t+=ht){const yt=toNumber($t.invert(_t));mt.push({x:yt,y:it(yt)})}return mt}return[{x:0,y:0}]},[pt==null?void 0:pt.domain[0],pt==null?void 0:pt.domain[1]]);return jsx(LineSeries,{data:gt,id:ct,...st})}function RangeSeriesInner(rt){const it=useId(rt.id,"series"),[,at]=useLegend(),{colorScaler:lt}=usePlotContext(),{lineStyle:st={fill:lt(it),fillOpacity:.5},hidden:ct,xAxis:ut="x",yAxis:ft="y",data:dt,label:pt,xShift:ht="0",yShift:gt="0"}=rt,{xShift:mt,yShift:xt}=useShift({xAxis:ut,yAxis:ft,xShift:ht,yShift:gt}),vt=usePlotDispatchContext();reactExports.useEffect(()=>{const[yt,Et]=extent$1(dt,At=>At.x),[wt,bt]=extent$1(dt,At=>At.y1),[St,Tt]=extent$1(dt,At=>At.y2),Rt={min:yt,max:Et,shift:ht,axisId:ut},kt={min:Math.min(wt,St),max:Math.max(bt,Tt),shift:gt,axisId:ft};return vt({type:"addSeries",payload:{id:it,x:Rt,y:kt,label:pt}}),()=>vt({type:"removeSeries",payload:{id:it}})},[vt,it,dt,ut,ft,pt,ht,gt]);const $t=useIsSeriesVisible(it);if(reactExports.useEffect(()=>{if(!ct)return at({type:"ADD_LEGEND_LABEL",payload:{id:it,label:pt,colorLine:st.stroke,range:{rangeColor:st.fill||"none"}}}),()=>at({type:"REMOVE_LEGEND_LABEL",payload:{id:it}})},[pt,at,st.fill,st.stroke,it,ct]),ct)return null;const _t={id:it,data:dt,xAxis:ut,yAxis:ft,lineStyle:st,transform:`translate(${mt},${xt})`};return $t?jsx(RangeSeriesRender,{..._t}):null}const RangeSeries=reactExports.memo(RangeSeriesInner);function RangeSeriesRender({data:rt,xAxis:it,yAxis:at,lineStyle:lt,transform:st}){const{axisContext:ct}=usePlotContext(),[ut,ft]=validateAxis(ct,it,at),dt=reactExports.useMemo(()=>ut===void 0||ft===void 0?null:area().x(gt=>ut(gt.x)).y0(gt=>ft(gt.y1)).y1(gt=>ft(gt.y2))(rt),[rt,ut,ft]);if(!dt)return null;const pt={strokeWidth:2,...lt};return jsx("path",{transform:st,style:pt,d:dt,fill:"none"})}function Series(rt){return jsx(Fragment,{children:rt.children})}function splitChildren(rt){let it=null,at=null,lt=null,st=null,ct=[],ut=null,ft=null,dt=[],pt=[];for(let ht of reactExports.Children.toArray(rt)){if(typeof ht!="object"||!reactExports.isValidElement(ht))throw console.error("Invalid Plot child:",ht),new Error("invalid Plot child");if(ht.type===Series||ht.type===FunctionSeries||ht.type===LineSeries||ht.type===ScatterSeries||ht.type===RangeSeries||ht.type===BarSeries)dt.push(ht);else if(ht.type===Annotations)pt.push(ht);else if(ht.type===Axis)switch(ht.props.position){case"top":{if(it!==null)throw new Error("Plot can only have one top axis");it=ht;break}case"right":{if(at!==null)throw new Error("Plot can only have one right axis");at=ht;break}case"bottom":{if(lt!==null)throw new Error("Plot can only have one bottom axis");lt=ht;break}case"left":{if(st!==null)throw new Error("Plot can only have one left axis");st=ht;break}default:throw new Error("unreachable")}else if(ht.type===ParallelAxis){if(ct.length===2)throw new Error("Plot can have at most two parallel axes");ct.push(ht)}else if(ht.type===Heading){if(ut!==null)throw new Error("Plot can only have one Heading element");ut=ht}else if(ht.type===Legend){if(ft!==null)throw new Error("Plot can only have one Legend element");ft=ht}else throw console.error("Invalid Plot child:",ht),new Error("invalid plot child")}!lt&&!it&&(lt=jsx(Axis,{position:"bottom"})),!st&&!at&&(st=jsx(Axis,{position:"left"}));for(const ht of ct){const gt=ht.props.id;if((it==null?void 0:it.props.id)===gt){if(lt!==null)throw new Error("Plot can only have one bottom axis");lt=ht}if((at==null?void 0:at.props.id)===gt){if(st!==null)throw new Error("Plot can only have one left axis");st=ht}if((lt==null?void 0:lt.props.id)===gt){if(it!==null)throw new Error("Plot can only have one top axis");it=ht}if((st==null?void 0:st.props.id)===gt){if(at!==null)throw new Error("Plot can only have one right axis");at=ht}}return{topAxis:it,rightAxis:at,bottomAxis:lt,leftAxis:st,heading:ut,legend:ft,series:dt,annotations:pt}}function usePlotSizes({width:rt,height:it,margin:at,axes:lt,topAxisHeight:st,rightAxisWidth:ct,bottomAxisHeight:ut,leftAxisWidth:ft,headingPosition:dt,headingHeight:pt,legendPosition:ht,legendMargin:gt,legendWidth:mt,legendHeight:xt}){const{top:vt=0,right:$t=0,bottom:_t=0,left:yt=0}=at;return reactExports.useMemo(()=>{const Et=axesToOffsets(lt),wt=st-Et.top,bt=ct-Et.right,St=ut-Et.bottom,Tt=ft-Et.left;let Rt=rt-yt-Tt-$t-bt,kt=it-vt-pt-wt-_t-St,At=yt+Tt,Ct=vt+wt;dt==="top"&&(Ct+=pt);const Mt=xt+gt,Ot=mt+gt;let Nt=0;switch(ht){case"top":kt-=Mt,Ct+=Mt,Nt=wt+gt;break;case"right":Rt-=Ot,Nt=bt+gt;break;case"bottom":kt-=Mt,Nt=St+gt;break;case"left":Rt-=Ot,At+=Ot,Nt=Tt+gt;break}return{plotWidth:Rt,plotHeight:kt,leftOffset:At,topOffset:Ct,legendOffset:Nt}},[rt,it,vt,$t,_t,yt,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,lt])}function axesToOffsets(rt){const it={top:0,right:0,bottom:0,left:0};for(const at of Object.values(rt))it[at.position]=at.innerOffset;return it}const HORIZONTAL=new Set(["bottom","top"]);function infoFromEvent(rt,it,at,lt){const{clientX:st,clientY:ct,movementX:ut,movementY:ft}=rt,{left:dt,top:pt}=lt.getBoundingClientRect(),ht=st-dt,gt=ct-pt,mt={},xt={},vt={},$t={};for(const _t in it){const{scale:yt,clampInDomain:Et,position:wt,domain:bt}=it[_t];HORIZONTAL.has(wt)?(mt[_t]=toNumber(yt.invert(ht)),$t[_t]=toNumber(yt.invert(ut))-bt[0]):(mt[_t]=toNumber(yt.invert(gt)),$t[_t]=toNumber(yt.invert(ft))-bt[1]),xt[_t]=Et(mt[_t]),vt[_t]=bt}return{event:rt,coordinates:mt,clampedCoordinates:xt,movement:$t,getClosest(_t){return closestCalculation(_t,{x:ht,y:gt},at,it)},domains:vt}}function closestCalculation(rt,it,at,lt){let st={};switch(rt){case"x":{for(const{id:ct,x:ut,data:ft,label:dt}of at)if(ft){const pt=closestPoint(ft,it,(ht,gt)=>{const{scale:mt}=lt[ut.axisId],xt=gt[ut.axisId];return Math.abs(mt(ht.x)-xt)});st[ct]={point:pt,label:dt,axis:lt[ut.axisId]}}break}case"y":{for(const{id:ct,y:ut,data:ft,label:dt}of at)if(ft){const pt=closestPoint(ft,it,(ht,gt)=>{const{scale:mt}=lt[ut.axisId],xt=gt[ut.axisId];return Math.abs(mt(ht.y)-xt)});st[ct]={point:pt,label:dt,axis:lt[ut.axisId]}}break}case"euclidean":{for(const{id:ct,x:ut,y:ft,data:dt,label:pt}of at)if(dt){const ht=closestPoint(dt,it,(gt,mt)=>{const{scale:xt}=lt[ut.axisId],{scale:vt}=lt[ft.axisId],$t=mt[ut.axisId],_t=mt[ft.axisId];return euclidean([xt(gt.x),vt(gt.y)],[$t,_t])});st[ct]={point:ht,label:pt,axis:{x:lt[ut.axisId],y:lt[ft.axisId]}}}break}default:throw new Error(`Unknown distance name: ${rt}`)}return st}const nativeEventMap={pointerenter:"onPointerEnter",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerleave:"onPointerLeave",click:"onClick",dblclick:"onDoubleClick",wheel:"onWheel"},nativeEventNames=["pointerenter","pointerdown","pointermove","pointerup","pointerleave","click","dblclick","wheel"],globalNativeEventNames=["pointermove","pointerup"];function Tracking({plotId:rt,plotEvents:it,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct}){const ut=reactExports.useRef(null),ft=reactExports.useRef({plotId:rt,plotEvents:it,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct});return reactExports.useEffect(()=>{ft.current={plotId:rt,plotEvents:it,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct}},[lt,it,st,rt,ct,at]),reactExports.useEffect(()=>{const dt=ut.current;if(!dt)return;function pt(ht){if(ht.type==="pointerdown")for(const mt of globalNativeEventNames)window.addEventListener(mt,pt);else if(ht.type==="pointerup")for(const mt of globalNativeEventNames)window.removeEventListener(mt,pt);const gt=infoFromEvent(ht,ft.current.axisContext,ft.current.stateSeries,dt);it.handleEvent(rt,nativeEventMap[ht.type],gt)}for(const ht of nativeEventNames)dt.addEventListener(ht,pt);return()=>{for(const ht of nativeEventNames)dt.removeEventListener(ht,pt);for(const ht of globalNativeEventNames)window.removeEventListener(ht,pt)}},[rt,it]),jsx("rect",{ref:ut,width:ct,height:st,style:{fillOpacity:0}})}function AnnotationsTrackingLayer(rt){const{width:it,height:at,svgStyle:lt,svgId:st,svgClassName:ct,topOffset:ut,leftOffset:ft,legendOffset:dt,legend:pt,legendRef:ht,plotId:gt,annotations:mt,tracking:xt}=rt;return jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:it,height:at,style:lt,id:st?`${st}-annotations`:void 0,className:ct,children:[jsxs("g",{transform:`translate(${ft}, ${ut})`,children:[jsx("g",{style:{clipPath:`url(#seriesViewportClip-${gt})`},children:mt}),xt]}),jsx("g",{transform:`translate(${ft}, ${ut})`,children:jsx(legendOffsetContext.Provider,{value:dt,children:jsx("g",{ref:ht,children:pt})})})]})}function TransparentRect(rt){const{style:it}=rt;return jsx("rect",{...rt,style:{fillOpacity:it!=null&&it.fill?void 0:0,...it}})}function MainLayer(rt){const{width:it,height:at,svgStyle:lt,svgId:st,svgClassName:ct,plotViewportStyle:ut,seriesViewportStyle:ft,topOffset:dt,leftOffset:pt,plotWidth:ht,plotHeight:gt,plotId:mt,series:xt,topAxisRef:vt,topAxis:$t,rightAxisRef:_t,rightAxis:yt,bottomAxisRef:Et,bottomAxis:wt,leftAxisRef:bt,leftAxis:St,headingRef:Tt,heading:Rt}=rt;return jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:it,height:at,style:lt,id:st,className:ct,children:[jsx(TransparentRect,{width:it,height:at,style:ut}),jsxs("g",{transform:`translate(${pt}, ${dt})`,children:[jsx(TransparentRect,{width:ht,height:gt,style:ft}),jsx("clipPath",{id:`seriesViewportClip-${mt}`,children:jsx("rect",{width:ht,height:gt})}),jsx("g",{style:{clipPath:`url(#seriesViewportClip-${mt})`},children:xt}),jsx(bboxContext.Provider,{value:vt,children:jsx("g",{children:$t})}),jsx(bboxContext.Provider,{value:_t,children:jsx("g",{children:yt})}),jsx(bboxContext.Provider,{value:Et,children:jsx("g",{children:wt})}),jsx(bboxContext.Provider,{value:bt,children:jsx("g",{children:St})})]}),jsx("g",{ref:Tt,children:Rt})]})}const reducerCurr=fn(plotReducer),initialState={headingPosition:null,legendPosition:null,legendMargin:0,series:[],axes:{}},defaultSvgStyle={overflow:"visible",fontFamily:"Arial, Helvetica, sans-serif",userSelect:"none",WebkitUserSelect:"none"},defaultEventSvgStyle={touchAction:"none"};function Plot(rt){const{width:it,height:at,colorScheme:lt=schemeSet1,margin:st={},svgStyle:ct={},svgId:ut,svgClassName:ft,plotViewportStyle:dt={},seriesViewportStyle:pt={},controllerId:ht,children:gt}=rt,mt=useId(void 0,"plot"),[xt,vt]=reactExports.useReducer(reducerCurr,initialState,void 0),{series:$t,annotations:_t,topAxis:yt,rightAxis:Et,bottomAxis:wt,leftAxis:bt,heading:St,legend:Tt}=splitChildren(gt);if(it===void 0)throw new Error("width is mandatory");if(at===void 0)throw new Error("height is mandatory");const Rt=usePlotEventsPlotContext({controllerId:ht});reactExports.useEffect(()=>{if(Rt)return Rt.registerPlot(mt),()=>Rt.unregisterPlot(mt)},[Rt,mt]);const kt=usePlotOverrides({controllerId:ht}),At=useBBoxObserver(),Ct=useBBoxObserver(),Mt=useBBoxObserver(),Ot=useBBoxObserver(),Nt=useBBoxObserver(),It=useBBoxObserver(),{plotWidth:Dt,plotHeight:zt,topOffset:Yt,leftOffset:Pt,legendOffset:Lt}=usePlotSizes({width:it,height:at,margin:st,axes:xt.axes,topAxisHeight:Ct.height,rightAxisWidth:Mt.width,bottomAxisHeight:Ot.height,leftAxisWidth:Nt.width,headingPosition:xt.headingPosition,headingHeight:At.height,legendPosition:xt.legendPosition,legendMargin:xt.legendMargin,legendWidth:It.width,legendHeight:It.height}),Ft=useAxisContext(xt,kt.axes,{plotWidth:Dt,plotHeight:zt}),qt=reactExports.useMemo(()=>xt.series.map(({id:Wt})=>Wt),[xt.series]),Gt=reactExports.useMemo(()=>ordinal().range(lt).domain(qt),[lt,qt]),Ut=reactExports.useMemo(()=>({width:it,height:at,plotWidth:Dt,plotHeight:zt,axisContext:Ft,colorScaler:Gt}),[it,at,Dt,zt,Ft,Gt]),Vt={...defaultSvgStyle,...Rt?defaultEventSvgStyle:null,...ct,position:"absolute",top:"0",left:"0"};return jsx(plotContext.Provider,{value:Ut,children:jsx(plotDispatchContext.Provider,{value:vt,children:jsx(LegendProvider,{children:jsxs("div",{style:{position:"relative",width:it,height:at},children:[jsx(MainLayer,{width:it,height:at,svgStyle:Vt,svgId:ut,svgClassName:ft,plotViewportStyle:dt,seriesViewportStyle:pt,topOffset:Yt,leftOffset:Pt,plotWidth:Dt,plotHeight:zt,plotId:mt,series:$t,topAxisRef:Ct.ref,topAxis:yt,rightAxisRef:Mt.ref,rightAxis:Et,bottomAxisRef:Ot.ref,bottomAxis:wt,leftAxisRef:Nt.ref,leftAxis:bt,headingRef:At.ref,heading:St}),jsx(AnnotationsTrackingLayer,{width:it,height:at,svgStyle:Vt,svgId:ut,svgClassName:ft,topOffset:Yt,leftOffset:Pt,legendOffset:Lt,legend:Tt,legendRef:It.ref,plotId:mt,annotations:_t,tracking:Rt?jsx(Tracking,{plotId:mt,plotEvents:Rt,stateSeries:xt.series,axisContext:Ft,plotWidth:Dt,plotHeight:zt}):null})]})})})})}function RoiAnnotations(rt){const{width:it=0,height:at=0,rois:lt}=rt;if(!lt)return;const st=[];for(const ut of lt)st.push(jsx(RoiAnnotation,{roi:ut},ut.id));return jsx("div",{style:{position:"absolute",left:0,top:0,width:`${it}px`,height:`${at}px`},children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:`0 0 ${it} ${at}`,children:st})})}function RoiAnnotation(rt){const{roi:it}=rt,at=it.origin.column,lt=it.origin.row;return jsxs("g",{transform:`translate(${at} ${lt})`,children:[jsx(Box,{roi:it}),jsx(Feret,{roi:it}),jsx(Mbr,{roi:it}),jsx(ConvexHull,{roi:it})]})}function Box(rt){const{roi:it}=rt,at=it.surface;return jsxs(Fragment,{children:[jsx("rect",{x:"0",y:"0",width:it.width,height:it.height,style:{strokeWidth:"1",stroke:"black",fill:"red",opacity:.1}}),jsx("text",{x:it.width/2,y:it.height/2,alignmentBaseline:"middle",textAnchor:"middle",stroke:"none",fontSize:"24",fill:"black",children:at})]})}function Feret(rt){const{roi:it}=rt;return jsxs(Fragment,{children:[jsx("line",{x1:it.feret.maxDiameter.points[0].column,y1:it.feret.maxDiameter.points[0].row,x2:it.feret.maxDiameter.points[1].column,y2:it.feret.maxDiameter.points[1].row,style:{stroke:"black",strokeWidth:1}}),jsx("line",{x1:it.feret.minDiameter.points[0].column,y1:it.feret.minDiameter.points[0].row,x2:it.feret.minDiameter.points[1].column,y2:it.feret.minDiameter.points[1].row,style:{stroke:"black",strokeWidth:1}})]})}function Mbr(rt){const{roi:it}=rt,at=it.mbr.corners.map(lt=>`${lt.column},${lt.row}`).join(" ");return jsx("polygon",{points:at,style:{fill:"none",stroke:"blue",strokeWidth:1}})}function ConvexHull(rt){const{roi:it}=rt,at=it.convexHull.points.map(lt=>`${lt.column},${lt.row}`).join(" ");return jsx("polygon",{points:at,style:{fill:"none",stroke:"red",strokeWidth:2}})}function ImageViewer$1(rt){const{image:it,zoom:at=.1,rois:lt,roiOptions:st}=rt,ct=reactExports.useRef(null);return reactExports.useEffect(()=>{it&&writeCanvas(it,ct.current)},[ct,it]),jsxs("div",{style:{zoom:at,position:"relative"},children:[jsx("canvas",{ref:ct}),jsx(RoiAnnotations,{width:it==null?void 0:it.width,height:it==null?void 0:it.height,rois:lt,roiOptions:st})]})}function ImageViewerWrapper(){var it;const rt=reactExports.useContext(DataContext);return(it=rt.data)!=null&&it.image?jsxs(Fragment,{children:[jsx(ImageViewer$1,{image:rt.data.image}),jsx(ImageInfo,{image:rt.data.image}),jsx(ImageHistograms,{image:rt.data.image})]}):null}function ImageInfo(rt){const{image:it}=rt;return jsxs(Fragment,{children:[jsxs("div",{children:["Image: ",it.width," x ",it.height," (",it.size," pixels)"]}),jsxs("div",{children:["Channels: ",it.channels]}),jsxs("div",{children:["Alpha: ",it.alpha?"Yes":"No"]}),jsxs("div",{children:["Depth: ",it.depth," bits"]})]})}function ImageHistograms(rt){const{image:it}=rt,at=[];for(let lt=0;lt<it.channels;lt++){const st=it.histogram({channel:lt}),ct=xyToXYObject({x:createStepArray({length:st.length}),y:st});at.push(jsxs(Plot,{width:300,height:300,children:[jsx(Heading,{title:`Channel: ${lt}`}),jsx(BarSeries,{data:ct}),jsx(BarSeries,{data:[{x:1,y:0},{x:3,y:5},{x:5,y:2}]}),jsx(Axis,{id:"x",position:"bottom",label:"Pixel intensity",displayPrimaryGridLines:!0}),jsx(Axis,{id:"y",position:"left",label:"Number of pixels",displayPrimaryGridLines:!0})]},lt))}return jsx("div",{style:{display:"flex",justifyContent:"space-around"},children:jsx("div",{style:{display:"flex",gap:"1rem"},children:at})})}var reactWebcamExports={},reactWebcam={get exports(){return reactWebcamExports},set exports(rt){reactWebcamExports=rt}};(function(rt,it){(function(lt,st){rt.exports=st(reactExports)})(commonjsGlobal,function(at){return function(lt){var st={};function ct(ut){if(st[ut])return st[ut].exports;var ft=st[ut]={i:ut,l:!1,exports:{}};return lt[ut].call(ft.exports,ft,ft.exports,ct),ft.l=!0,ft.exports}return ct.m=lt,ct.c=st,ct.d=function(ut,ft,dt){ct.o(ut,ft)||Object.defineProperty(ut,ft,{enumerable:!0,get:dt})},ct.r=function(ut){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ut,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ut,"__esModule",{value:!0})},ct.t=function(ut,ft){if(ft&1&&(ut=ct(ut)),ft&8||ft&4&&typeof ut=="object"&&ut&&ut.__esModule)return ut;var dt=Object.create(null);if(ct.r(dt),Object.defineProperty(dt,"default",{enumerable:!0,value:ut}),ft&2&&typeof ut!="string")for(var pt in ut)ct.d(dt,pt,function(ht){return ut[ht]}.bind(null,pt));return dt},ct.n=function(ut){var ft=ut&&ut.__esModule?function(){return ut.default}:function(){return ut};return ct.d(ft,"a",ft),ft},ct.o=function(ut,ft){return Object.prototype.hasOwnProperty.call(ut,ft)},ct.p="",ct(ct.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(lt,st,ct){ct.r(st);var ut=ct("react"),ft=function(){var mt=function(xt,vt){return mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($t,_t){$t.__proto__=_t}||function($t,_t){for(var yt in _t)_t.hasOwnProperty(yt)&&($t[yt]=_t[yt])},mt(xt,vt)};return function(xt,vt){mt(xt,vt);function $t(){this.constructor=xt}xt.prototype=vt===null?Object.create(vt):($t.prototype=vt.prototype,new $t)}}(),dt=function(){return dt=Object.assign||function(mt){for(var xt,vt=1,$t=arguments.length;vt<$t;vt++){xt=arguments[vt];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(mt[_t]=xt[_t])}return mt},dt.apply(this,arguments)},pt=function(mt,xt){var vt={};for(var $t in mt)Object.prototype.hasOwnProperty.call(mt,$t)&&xt.indexOf($t)<0&&(vt[$t]=mt[$t]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _t=0,$t=Object.getOwnPropertySymbols(mt);_t<$t.length;_t++)xt.indexOf($t[_t])<0&&Object.prototype.propertyIsEnumerable.call(mt,$t[_t])&&(vt[$t[_t]]=mt[$t[_t]]);return vt};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(xt){var vt=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return vt?new Promise(function($t,_t){vt.call(navigator,xt,$t,_t)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function ht(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var gt=function(mt){ft(xt,mt);function xt(vt){var $t=mt.call(this,vt)||this;return $t.canvas=null,$t.ctx=null,$t.requestUserMediaId=0,$t.unmounted=!1,$t.state={hasUserMedia:!1},$t}return xt.prototype.componentDidMount=function(){var vt=this,$t=vt.state,_t=vt.props;if(this.unmounted=!1,!ht()){_t.onUserMediaError("getUserMedia not supported");return}$t.hasUserMedia||this.requestUserMedia(),_t.children&&typeof _t.children!="function"&&console.warn("children must be a function")},xt.prototype.componentDidUpdate=function(vt){var $t=this.props;if(!ht()){$t.onUserMediaError("getUserMedia not supported");return}var _t=JSON.stringify(vt.audioConstraints)!==JSON.stringify($t.audioConstraints),yt=JSON.stringify(vt.videoConstraints)!==JSON.stringify($t.videoConstraints),Et=vt.minScreenshotWidth!==$t.minScreenshotWidth,wt=vt.minScreenshotHeight!==$t.minScreenshotHeight;(yt||Et||wt)&&(this.canvas=null,this.ctx=null),(_t||yt)&&(this.stopAndCleanup(),this.requestUserMedia())},xt.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},xt.stopMediaStream=function(vt){vt&&(vt.getVideoTracks&&vt.getAudioTracks?(vt.getVideoTracks().map(function($t){vt.removeTrack($t),$t.stop()}),vt.getAudioTracks().map(function($t){vt.removeTrack($t),$t.stop()})):vt.stop())},xt.prototype.stopAndCleanup=function(){var vt=this.state;vt.hasUserMedia&&(xt.stopMediaStream(this.stream),vt.src&&window.URL.revokeObjectURL(vt.src))},xt.prototype.getScreenshot=function(vt){var $t=this,_t=$t.state,yt=$t.props;if(!_t.hasUserMedia)return null;var Et=this.getCanvas(vt);return Et&&Et.toDataURL(yt.screenshotFormat,yt.screenshotQuality)},xt.prototype.getCanvas=function(vt){var $t=this,_t=$t.state,yt=$t.props;if(!this.video||!_t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var Et=this.video.videoWidth,wt=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var bt=Et/wt;Et=yt.minScreenshotWidth||this.video.clientWidth,wt=Et/bt,yt.minScreenshotHeight&&wt<yt.minScreenshotHeight&&(wt=yt.minScreenshotHeight,Et=wt*bt)}this.canvas=document.createElement("canvas"),this.canvas.width=(vt==null?void 0:vt.width)||Et,this.canvas.height=(vt==null?void 0:vt.height)||wt,this.ctx=this.canvas.getContext("2d")}var St=this,Tt=St.ctx,Rt=St.canvas;return Tt&&Rt&&(yt.mirrored&&(Tt.translate(Rt.width,0),Tt.scale(-1,1)),Tt.imageSmoothingEnabled=yt.imageSmoothing,Tt.drawImage(this.video,0,0,(vt==null?void 0:vt.width)||Rt.width,(vt==null?void 0:vt.height)||Rt.height),yt.mirrored&&(Tt.scale(-1,1),Tt.translate(-Rt.width,0))),Rt},xt.prototype.requestUserMedia=function(){var vt=this,$t=this.props,_t=function(wt,bt){var St={video:typeof bt<"u"?bt:!0};$t.audio&&(St.audio=typeof wt<"u"?wt:!0),vt.requestUserMediaId++;var Tt=vt.requestUserMediaId;navigator.mediaDevices.getUserMedia(St).then(function(Rt){vt.unmounted||Tt!==vt.requestUserMediaId?xt.stopMediaStream(Rt):vt.handleUserMedia(null,Rt)}).catch(function(Rt){vt.handleUserMedia(Rt)})};if("mediaDevices"in navigator)_t($t.audioConstraints,$t.videoConstraints);else{var yt=function(wt){return{optional:[{sourceId:wt}]}},Et=function(wt){var bt=wt.deviceId;return typeof bt=="string"?bt:Array.isArray(bt)&&bt.length>0?bt[0]:typeof bt=="object"&&bt.ideal?bt.ideal:null};MediaStreamTrack.getSources(function(wt){var bt=null,St=null;wt.forEach(function(kt){kt.kind==="audio"?bt=kt.id:kt.kind==="video"&&(St=kt.id)});var Tt=Et($t.audioConstraints);Tt&&(bt=Tt);var Rt=Et($t.videoConstraints);Rt&&(St=Rt),_t(yt(bt),yt(St))})}},xt.prototype.handleUserMedia=function(vt,$t){var _t=this.props;if(vt||!$t){this.setState({hasUserMedia:!1}),_t.onUserMediaError(vt);return}this.stream=$t;try{this.video&&(this.video.srcObject=$t),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL($t)})}_t.onUserMedia($t)},xt.prototype.render=function(){var vt=this,$t=this,_t=$t.state,yt=$t.props,Et=yt.audio;yt.forceScreenshotSourceSize,yt.onUserMedia,yt.onUserMediaError,yt.screenshotFormat,yt.screenshotQuality,yt.minScreenshotWidth,yt.minScreenshotHeight,yt.audioConstraints,yt.videoConstraints,yt.imageSmoothing;var wt=yt.mirrored,bt=yt.style,St=bt===void 0?{}:bt,Tt=yt.children,Rt=pt(yt,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),kt=wt?dt(dt({},St),{transform:(St.transform||"")+" scaleX(-1)"}):St,At={getScreenshot:this.getScreenshot.bind(this)};return ut.createElement(ut.Fragment,null,ut.createElement("video",dt({autoPlay:!0,src:_t.src,muted:!Et,playsInline:!0,ref:function(Ct){vt.video=Ct},style:kt},Rt)),Tt&&Tt(At))},xt.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},xt}(ut.Component);st.default=gt},react:function(lt,st){lt.exports=at}}).default})})(reactWebcam);const Webcam=getDefaultExportFromCjs(reactWebcamExports),videoConstraints={width:3840,height:2160};function WebcamWrapper(rt){const it=reactExports.useRef(null),at=reactExports.useCallback(()=>{const lt=it.current.getScreenshot();console.log(lt)},[it]);return jsxs(Fragment,{children:[jsx(Webcam,{audio:!1,height:2160,ref:it,screenshotFormat:"image/jpeg",width:3840,videoConstraints}),jsx("button",{onClick:at,children:"Capture photo"})]})}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(rt,it)=>function(){return it||(0,rt[__getOwnPropNames(rt)[0]])((it={exports:{}}).exports,it),it.exports},__export=(rt,it)=>{for(var at in it)__defProp(rt,at,{get:it[at],enumerable:!0})},__copyProps=(rt,it,at,lt)=>{if(it&&typeof it=="object"||typeof it=="function")for(let st of __getOwnPropNames(it))!__hasOwnProp.call(rt,st)&&st!==at&&__defProp(rt,st,{get:()=>it[st],enumerable:!(lt=__getOwnPropDesc(it,st))||lt.enumerable});return rt},__toESM=(rt,it,at)=>(at=rt!=null?__create(__getProtoOf(rt)):{},__copyProps(it||!rt||!rt.__esModule?__defProp(at,"default",{value:rt,enumerable:!0}):at,rt)),require_is_object=__commonJS({"node_modules/is-object/index.js"(rt,it){it.exports=function(lt){return typeof lt=="object"&&lt!==null}}}),require_is_window=__commonJS({"node_modules/is-window/index.js"(rt,it){it.exports=function(at){if(at==null)return!1;var lt=Object(at);return lt===lt.window}}}),require_is_dom=__commonJS({"node_modules/is-dom/index.js"(rt,it){var at=require_is_object(),lt=require_is_window();function st(ct){return!at(ct)||!lt(window)||typeof window.Node!="function"?!1:typeof ct.nodeType=="number"&&typeof ct.nodeName=="string"}it.exports=st}}),themes_exports={};__export(themes_exports,{chromeDark:()=>theme,chromeLight:()=>theme2});var theme={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},theme2={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},ExpandedPathsContext=reactExports.createContext([{},()=>{}]),unselectable={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},createTheme=rt=>({DOMNodePreview:{htmlOpenTag:{base:{color:rt.HTML_TAG_COLOR},tagName:{color:rt.HTML_TAGNAME_COLOR,textTransform:rt.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:rt.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:rt.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:rt.HTML_TAG_COLOR},offsetLeft:{marginLeft:-rt.TREENODE_PADDING_LEFT},tagName:{color:rt.HTML_TAGNAME_COLOR,textTransform:rt.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:rt.HTML_COMMENT_COLOR},htmlDoctype:{color:rt.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:rt.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:rt.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:rt.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:rt.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:rt.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:rt.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:rt.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:rt.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:rt.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:rt.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:rt.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:rt.BASE_COLOR,backgroundColor:rt.BASE_BACKGROUND_COLOR,lineHeight:rt.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:rt.TREENODE_FONT_FAMILY,fontSize:rt.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:rt.ARROW_FONT_SIZE,marginRight:rt.ARROW_MARGIN_RIGHT,...unselectable},treeNodeArrow:{base:{color:rt.ARROW_COLOR,display:"inline-block",fontSize:rt.ARROW_FONT_SIZE,marginRight:rt.ARROW_MARGIN_RIGHT,...parseFloat(rt.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${rt.ARROW_ANIMATION_DURATION} ease 0s`}:{},...unselectable},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:rt.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:rt.BASE_COLOR,position:"relative",border:`1px solid ${rt.TABLE_BORDER_COLOR}`,fontFamily:rt.BASE_FONT_FAMILY,fontSize:rt.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:rt.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:rt.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:rt.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:rt.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${rt.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:rt.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:rt.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${rt.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:rt.TABLE_SORT_ICON_COLOR,fontSize:12,...unselectable}}),DEFAULT_THEME_NAME="chromeLight",ThemeContext=reactExports.createContext(createTheme(themes_exports[DEFAULT_THEME_NAME])),useStyles=rt=>reactExports.useContext(ThemeContext)[rt],themeAcceptor=rt=>({theme:at=DEFAULT_THEME_NAME,...lt})=>{const st=reactExports.useMemo(()=>{switch(Object.prototype.toString.call(at)){case"[object String]":return createTheme(themes_exports[at]);case"[object Object]":return createTheme(at);default:return createTheme(themes_exports[DEFAULT_THEME_NAME])}},[at]);return React$8.createElement(ThemeContext.Provider,{value:st},React$8.createElement(rt,{...lt}))},Arrow=({expanded:rt,styles:it})=>React$8.createElement("span",{style:{...it.base,...rt?it.expanded:it.collapsed}},""),TreeNode=reactExports.memo(rt=>{rt={expanded:!0,nodeRenderer:({name:ht})=>React$8.createElement("span",null,ht),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,...rt};const{expanded:it,onClick:at,children:lt,nodeRenderer:st,title:ct,shouldShowArrow:ut,shouldShowPlaceholder:ft}=rt,dt=useStyles("TreeNode"),pt=st;return React$8.createElement("li",{"aria-expanded":it,role:"treeitem",style:dt.treeNodeBase,title:ct},React$8.createElement("div",{style:dt.treeNodePreviewContainer,onClick:at},ut||reactExports.Children.count(lt)>0?React$8.createElement(Arrow,{expanded:it,styles:dt.treeNodeArrow}):ft&&React$8.createElement("span",{style:dt.treeNodePlaceholder},""),React$8.createElement(pt,{...rt})),React$8.createElement("ol",{role:"group",style:dt.treeNodeChildNodesContainer},it?lt:void 0))}),DEFAULT_ROOT_PATH="$",WILDCARD="*";function hasChildNodes(rt,it){return!it(rt).next().done}var wildcardPathsFromLevel=rt=>Array.from({length:rt},(it,at)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:at},()=>"*")).join(".")),getExpandedPaths=(rt,it,at,lt,st)=>{const ct=[].concat(wildcardPathsFromLevel(lt)).concat(at).filter(ft=>typeof ft=="string"),ut=[];return ct.forEach(ft=>{const dt=ft.split("."),pt=(ht,gt,mt)=>{if(mt===dt.length){ut.push(gt);return}const xt=dt[mt];if(mt===0)hasChildNodes(ht,it)&&(xt===DEFAULT_ROOT_PATH||xt===WILDCARD)&&pt(ht,DEFAULT_ROOT_PATH,mt+1);else if(xt===WILDCARD)for(const{name:vt,data:$t}of it(ht))hasChildNodes($t,it)&&pt($t,`${gt}.${vt}`,mt+1);else{const vt=ht[xt];hasChildNodes(vt,it)&&pt(vt,`${gt}.${xt}`,mt+1)}};pt(rt,"",0)}),ut.reduce((ft,dt)=>(ft[dt]=!0,ft),{...st})},ConnectedTreeNode=reactExports.memo(rt=>{const{data:it,dataIterator:at,path:lt,depth:st,nodeRenderer:ct}=rt,[ut,ft]=reactExports.useContext(ExpandedPathsContext),dt=hasChildNodes(it,at),pt=!!ut[lt],ht=reactExports.useCallback(()=>dt&&ft(gt=>({...gt,[lt]:!pt})),[dt,ft,lt,pt]);return React$8.createElement(TreeNode,{expanded:pt,onClick:ht,shouldShowArrow:dt,shouldShowPlaceholder:st>0,nodeRenderer:ct,...rt},pt?[...at(it)].map(({name:gt,data:mt,...xt})=>React$8.createElement(ConnectedTreeNode,{name:gt,data:mt,depth:st+1,path:`${lt}.${gt}`,key:gt,dataIterator:at,nodeRenderer:ct,...xt})):null)}),TreeView=reactExports.memo(({name:rt,data:it,dataIterator:at,nodeRenderer:lt,expandPaths:st,expandLevel:ct})=>{const ut=useStyles("TreeView"),ft=reactExports.useState({}),[,dt]=ft;return reactExports.useLayoutEffect(()=>dt(pt=>getExpandedPaths(it,at,st,ct,pt)),[it,at,st,ct]),React$8.createElement(ExpandedPathsContext.Provider,{value:ft},React$8.createElement("ol",{role:"tree",style:ut.treeViewOutline},React$8.createElement(ConnectedTreeNode,{name:rt,data:it,dataIterator:at,depth:0,path:DEFAULT_ROOT_PATH,nodeRenderer:lt})))}),ObjectName=({name:rt,dimmed:it=!1,styles:at={}})=>{const lt=useStyles("ObjectName"),st={...lt.base,...it?lt.dimmed:{},...at};return React$8.createElement("span",{style:st},rt)},ObjectValue=({object:rt,styles:it})=>{const at=useStyles("ObjectValue"),lt=st=>({...at[st],...it});switch(typeof rt){case"bigint":return React$8.createElement("span",{style:lt("objectValueNumber")},String(rt),"n");case"number":return React$8.createElement("span",{style:lt("objectValueNumber")},String(rt));case"string":return React$8.createElement("span",{style:lt("objectValueString")},'"',rt,'"');case"boolean":return React$8.createElement("span",{style:lt("objectValueBoolean")},String(rt));case"undefined":return React$8.createElement("span",{style:lt("objectValueUndefined")},"undefined");case"object":return rt===null?React$8.createElement("span",{style:lt("objectValueNull")},"null"):rt instanceof Date?React$8.createElement("span",null,rt.toString()):rt instanceof RegExp?React$8.createElement("span",{style:lt("objectValueRegExp")},rt.toString()):Array.isArray(rt)?React$8.createElement("span",null,`Array(${rt.length})`):rt.constructor?typeof rt.constructor.isBuffer=="function"&&rt.constructor.isBuffer(rt)?React$8.createElement("span",null,`Buffer[${rt.length}]`):React$8.createElement("span",null,rt.constructor.name):React$8.createElement("span",null,"Object");case"function":return React$8.createElement("span",null,React$8.createElement("span",{style:lt("objectValueFunctionPrefix")},""),React$8.createElement("span",{style:lt("objectValueFunctionName")},rt.name,"()"));case"symbol":return React$8.createElement("span",{style:lt("objectValueSymbol")},rt.toString());default:return React$8.createElement("span",null)}},hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;function getPropertyValue(rt,it){const at=Object.getOwnPropertyDescriptor(rt,it);if(at.get)try{return at.get()}catch{return at.get}return rt[it]}function intersperse(rt,it){return rt.length===0?[]:rt.slice(1).reduce((at,lt)=>at.concat([it,lt]),[rt[0]])}var ObjectPreview=({data:rt})=>{const it=useStyles("ObjectPreview"),at=rt;if(typeof at!="object"||at===null||at instanceof Date||at instanceof RegExp)return React$8.createElement(ObjectValue,{object:at});if(Array.isArray(at)){const lt=it.arrayMaxProperties,st=at.slice(0,lt).map((ut,ft)=>React$8.createElement(ObjectValue,{key:ft,object:ut}));at.length>lt&&st.push(React$8.createElement("span",{key:"ellipsis"},""));const ct=at.length;return React$8.createElement(React$8.Fragment,null,React$8.createElement("span",{style:it.objectDescription},ct===0?"":`(${ct})`),React$8.createElement("span",{style:it.preview},"[",intersperse(st,", "),"]"))}else{const lt=it.objectMaxProperties,st=[];for(const ut in at)if(hasOwnProperty.call(at,ut)){let ft;st.length===lt-1&&Object.keys(at).length>lt&&(ft=React$8.createElement("span",{key:"ellipsis"},""));const dt=getPropertyValue(at,ut);if(st.push(React$8.createElement("span",{key:ut},React$8.createElement(ObjectName,{name:ut||'""'}),":",React$8.createElement(ObjectValue,{object:dt}),ft)),ft)break}const ct=at.constructor?at.constructor.name:"Object";return React$8.createElement(React$8.Fragment,null,React$8.createElement("span",{style:it.objectDescription},ct==="Object"?"":`${ct} `),React$8.createElement("span",{style:it.preview},"{",intersperse(st,", "),"}"))}},ObjectRootLabel=({name:rt,data:it})=>typeof rt=="string"?React$8.createElement("span",null,React$8.createElement(ObjectName,{name:rt}),React$8.createElement("span",null,": "),React$8.createElement(ObjectPreview,{data:it})):React$8.createElement(ObjectPreview,{data:it}),ObjectLabel=({name:rt,data:it,isNonenumerable:at=!1})=>{const lt=it;return React$8.createElement("span",null,typeof rt=="string"?React$8.createElement(ObjectName,{name:rt,dimmed:at}):React$8.createElement(ObjectPreview,{data:rt}),React$8.createElement("span",null,": "),React$8.createElement(ObjectValue,{object:lt}))},createIterator=(rt,it)=>function*(lt){if(!(typeof lt=="object"&&lt!==null||typeof lt=="function"))return;const ct=Array.isArray(lt);if(!ct&&lt[Symbol.iterator]){let ut=0;for(const ft of lt){if(Array.isArray(ft)&&ft.length===2){const[dt,pt]=ft;yield{name:dt,data:pt}}else yield{name:ut.toString(),data:ft};ut++}}else{const ut=Object.getOwnPropertyNames(lt);it===!0&&!ct?ut.sort():typeof it=="function"&&ut.sort(it);for(const ft of ut)if(propertyIsEnumerable.call(lt,ft)){const dt=getPropertyValue(lt,ft);yield{name:ft||'""',data:dt}}else if(rt){let dt;try{dt=getPropertyValue(lt,ft)}catch{}dt!==void 0&&(yield{name:ft,data:dt,isNonenumerable:!0})}rt&&lt!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(lt),isNonenumerable:!0})}},defaultNodeRenderer=({depth:rt,name:it,data:at,isNonenumerable:lt})=>rt===0?React$8.createElement(ObjectRootLabel,{name:it,data:at}):React$8.createElement(ObjectLabel,{name:it,data:at,isNonenumerable:lt}),ObjectInspector=({showNonenumerable:rt=!1,sortObjectKeys:it,nodeRenderer:at,...lt})=>{const st=createIterator(rt,it),ct=at||defaultNodeRenderer;return React$8.createElement(TreeView,{nodeRenderer:ct,dataIterator:st,...lt})},themedObjectInspector=themeAcceptor(ObjectInspector);__toESM(require_is_dom());function ObjectInspectorWrapper(){const rt=reactExports.useContext(GlobalContext);return jsx(themedObjectInspector,{expandLevel:2,data:rt})}function ExploreGrey(rt){const{image:it}=rt;if(!it)return jsx("div",{children:"No selected image"});if(it.colorModel!=="RGB"&&it.colorModel!=="RGBA")return jsx("div",{children:"This is a grey image, no need to explore"});const at=it.resize({width:400}),lt=["luma709","luma601","max","min","average","minmax","red","green","blue","black","cyan","magenta","yellow","hue","saturation","lightness"],st=[];for(let ct of lt)st.push({algorithm:ct,image:at.grey({algorithm:ct})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:st.map(ct=>jsxs("div",{children:[jsx("div",{children:ct.algorithm}),jsx(ImageViewer$1,{image:ct.image,zoom:1})]},ct.algorithm))})}function ExploreGreyWrapper(){const rt=reactExports.useContext(DataContext);return jsx(ExploreGrey,{image:rt.data.image})}function ImageViewer(rt){const{mask:it,zoom:at=.1}=rt,lt=reactExports.useRef(null);return reactExports.useEffect(()=>{it&&writeCanvas(it.convertColor(ImageColorModel.GREY),lt.current)},[lt,it]),jsx("div",{style:{zoom:at},children:jsx("canvas",{ref:lt})})}function ExploreMask(rt){let{image:it}=rt;if(!it)return jsx("div",{children:"No selected image"});it.channels>1&&(it=it.grey());const at=it.resize({width:400}),lt=[];for(let st in ThresholdAlgorithm)lt.push({algorithm:st,mask:at.threshold({algorithm:st})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:lt.map(st=>jsxs("div",{children:[jsx("div",{children:st.algorithm}),jsx(ImageViewer,{mask:st.mask,zoom:.5})]},st.algorithm))})}function ExploreMaskWrapper(){const rt=reactExports.useContext(DataContext);return jsx(ExploreMask,{image:rt.data.image})}const cache={};function idToCode(rt){const it=getCache().codes;if(rt>=it.length)throw new Error("id out of range");return it[rt]}function codeToId(rt){return getCache().codesObject[rt]}function getCache(){if(!cache[2]){const it={},at=[];let lt=0;e:for(let st=0;st<2**9;st++){let ct=Number(st).toString(2).padStart(9,"0");if(ct.split("").filter(ft=>ft==="1").length<2||ct.split("").filter(ft=>ft==="0").length<2||it[ct])continue;const ut=getAlternativeCodex(ct);for(let ft of ut)if(ft!==ct&&it[ft]){it[ct]=it[ft];continue e}it[ct]=lt++,at.push(ct)}cache[2]={codes:at,codesObject:it}}return cache[2]}const alternatives=[[1,2,3,4,5,6,7,8,9],[7,4,1,8,5,2,9,6,3],[9,8,7,6,5,4,3,2,1],[3,6,9,2,5,8,1,4,7]];function getAlternativeCodex(rt){const it=[];for(let at of alternatives){let lt="";for(let st=0;st<rt.length;st++)lt+=rt[at[st]-1];it.push(lt)}return it}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function functionalUpdate(rt,it){return typeof rt=="function"?rt(it):rt}function makeStateUpdater(rt,it){return at=>{it.setState(lt=>({...lt,[rt]:functionalUpdate(at,lt[rt])}))}}function isFunction(rt){return rt instanceof Function}function flattenBy(rt,it){const at=[],lt=st=>{st.forEach(ct=>{at.push(ct);const ut=it(ct);ut!=null&&ut.length&&lt(ut)})};return lt(rt),at}function memo(rt,it,at){let lt=[],st;return()=>{let ct;at.key&&at.debug&&(ct=Date.now());const ut=rt();if(!(ut.length!==lt.length||ut.some((pt,ht)=>lt[ht]!==pt)))return st;lt=ut;let dt;if(at.key&&at.debug&&(dt=Date.now()),st=it(...ut),at==null||at.onChange==null||at.onChange(st),at.key&&at.debug&&at!=null&&at.debug()){const pt=Math.round((Date.now()-ct)*100)/100,ht=Math.round((Date.now()-dt)*100)/100,gt=ht/16,mt=(xt,vt)=>{for(xt=String(xt);xt.length<vt;)xt=" "+xt;return xt};console.info(`%c ${mt(ht,5)} /${mt(pt,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*gt,120))}deg 100% 31%);`,at==null?void 0:at.key)}return st}}function createColumn(rt,it,at,lt){var st,ct;const ft={...rt._getDefaultColumnDef(),...it},dt=ft.accessorKey;let pt=(st=(ct=ft.id)!=null?ct:dt?dt.replace(".","_"):void 0)!=null?st:typeof ft.header=="string"?ft.header:void 0,ht;if(ft.accessorFn?ht=ft.accessorFn:dt&&(dt.includes(".")?ht=mt=>{let xt=mt;for(const $t of dt.split(".")){var vt;xt=(vt=xt)==null?void 0:vt[$t]}return xt}:ht=mt=>mt[ft.accessorKey]),!pt)throw new Error;let gt={id:`${String(pt)}`,accessorFn:ht,parent:lt,depth:at,columnDef:ft,columns:[],getFlatColumns:memo(()=>[!0],()=>{var mt;return[gt,...(mt=gt.columns)==null?void 0:mt.flatMap(xt=>xt.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var mt;return(mt=rt.options.debugAll)!=null?mt:rt.options.debugColumns}}),getLeafColumns:memo(()=>[rt._getOrderColumnsFn()],mt=>{var xt;if((xt=gt.columns)!=null&&xt.length){let vt=gt.columns.flatMap($t=>$t.getLeafColumns());return mt(vt)}return[gt]},{key:"column.getLeafColumns",debug:()=>{var mt;return(mt=rt.options.debugAll)!=null?mt:rt.options.debugColumns}})};return gt=rt._features.reduce((mt,xt)=>Object.assign(mt,xt.createColumn==null?void 0:xt.createColumn(gt,rt)),gt),gt}function createHeader(rt,it,at){var lt;let ct={id:(lt=at.id)!=null?lt:it.id,column:it,index:at.index,isPlaceholder:!!at.isPlaceholder,placeholderId:at.placeholderId,depth:at.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const ut=[],ft=dt=>{dt.subHeaders&&dt.subHeaders.length&&dt.subHeaders.map(ft),ut.push(dt)};return ft(ct),ut},getContext:()=>({table:rt,header:ct,column:it})};return rt._features.forEach(ut=>{Object.assign(ct,ut.createHeader==null?void 0:ut.createHeader(ct,rt))}),ct}const Headers={createTable:rt=>({getHeaderGroups:memo(()=>[rt.getAllColumns(),rt.getVisibleLeafColumns(),rt.getState().columnPinning.left,rt.getState().columnPinning.right],(it,at,lt,st)=>{var ct,ut;const ft=(ct=lt==null?void 0:lt.map(gt=>at.find(mt=>mt.id===gt)).filter(Boolean))!=null?ct:[],dt=(ut=st==null?void 0:st.map(gt=>at.find(mt=>mt.id===gt)).filter(Boolean))!=null?ut:[],pt=at.filter(gt=>!(lt!=null&&lt.includes(gt.id))&&!(st!=null&&st.includes(gt.id)));return buildHeaderGroups(it,[...ft,...pt,...dt],rt)},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getCenterHeaderGroups:memo(()=>[rt.getAllColumns(),rt.getVisibleLeafColumns(),rt.getState().columnPinning.left,rt.getState().columnPinning.right],(it,at,lt,st)=>(at=at.filter(ct=>!(lt!=null&&lt.includes(ct.id))&&!(st!=null&&st.includes(ct.id))),buildHeaderGroups(it,at,rt,"center")),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getLeftHeaderGroups:memo(()=>[rt.getAllColumns(),rt.getVisibleLeafColumns(),rt.getState().columnPinning.left],(it,at,lt)=>{var st;const ct=(st=lt==null?void 0:lt.map(ut=>at.find(ft=>ft.id===ut)).filter(Boolean))!=null?st:[];return buildHeaderGroups(it,ct,rt,"left")},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getRightHeaderGroups:memo(()=>[rt.getAllColumns(),rt.getVisibleLeafColumns(),rt.getState().columnPinning.right],(it,at,lt)=>{var st;const ct=(st=lt==null?void 0:lt.map(ut=>at.find(ft=>ft.id===ut)).filter(Boolean))!=null?st:[];return buildHeaderGroups(it,ct,rt,"right")},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getFooterGroups:memo(()=>[rt.getHeaderGroups()],it=>[...it].reverse(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getLeftFooterGroups:memo(()=>[rt.getLeftHeaderGroups()],it=>[...it].reverse(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getCenterFooterGroups:memo(()=>[rt.getCenterHeaderGroups()],it=>[...it].reverse(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getRightFooterGroups:memo(()=>[rt.getRightHeaderGroups()],it=>[...it].reverse(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getFlatHeaders:memo(()=>[rt.getHeaderGroups()],it=>it.map(at=>at.headers).flat(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getLeftFlatHeaders:memo(()=>[rt.getLeftHeaderGroups()],it=>it.map(at=>at.headers).flat(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getCenterFlatHeaders:memo(()=>[rt.getCenterHeaderGroups()],it=>it.map(at=>at.headers).flat(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getRightFlatHeaders:memo(()=>[rt.getRightHeaderGroups()],it=>it.map(at=>at.headers).flat(),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getCenterLeafHeaders:memo(()=>[rt.getCenterFlatHeaders()],it=>it.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getLeftLeafHeaders:memo(()=>[rt.getLeftFlatHeaders()],it=>it.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getRightLeafHeaders:memo(()=>[rt.getRightFlatHeaders()],it=>it.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}}),getLeafHeaders:memo(()=>[rt.getLeftHeaderGroups(),rt.getCenterHeaderGroups(),rt.getRightHeaderGroups()],(it,at,lt)=>{var st,ct,ut,ft,dt,pt;return[...(st=(ct=it[0])==null?void 0:ct.headers)!=null?st:[],...(ut=(ft=at[0])==null?void 0:ft.headers)!=null?ut:[],...(dt=(pt=lt[0])==null?void 0:pt.headers)!=null?dt:[]].map(ht=>ht.getLeafHeaders()).flat()},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugHeaders}})})};function buildHeaderGroups(rt,it,at,lt){var st,ct;let ut=0;const ft=function(mt,xt){xt===void 0&&(xt=1),ut=Math.max(ut,xt),mt.filter(vt=>vt.getIsVisible()).forEach(vt=>{var $t;($t=vt.columns)!=null&&$t.length&&ft(vt.columns,xt+1)},0)};ft(rt);let dt=[];const pt=(mt,xt)=>{const vt={depth:xt,id:[lt,`${xt}`].filter(Boolean).join("_"),headers:[]},$t=[];mt.forEach(_t=>{const yt=[...$t].reverse()[0],Et=_t.column.depth===vt.depth;let wt,bt=!1;if(Et&&_t.column.parent?wt=_t.column.parent:(wt=_t.column,bt=!0),yt&&(yt==null?void 0:yt.column)===wt)yt.subHeaders.push(_t);else{const St=createHeader(at,wt,{id:[lt,xt,wt.id,_t==null?void 0:_t.id].filter(Boolean).join("_"),isPlaceholder:bt,placeholderId:bt?`${$t.filter(Tt=>Tt.column===wt).length}`:void 0,depth:xt,index:$t.length});St.subHeaders.push(_t),$t.push(St)}vt.headers.push(_t),_t.headerGroup=vt}),dt.push(vt),xt>0&&pt($t,xt-1)},ht=it.map((mt,xt)=>createHeader(at,mt,{depth:ut,index:xt}));pt(ht,ut-1),dt.reverse();const gt=mt=>mt.filter(vt=>vt.column.getIsVisible()).map(vt=>{let $t=0,_t=0,yt=[0];vt.subHeaders&&vt.subHeaders.length?(yt=[],gt(vt.subHeaders).forEach(wt=>{let{colSpan:bt,rowSpan:St}=wt;$t+=bt,yt.push(St)})):$t=1;const Et=Math.min(...yt);return _t=_t+Et,vt.colSpan=$t,vt.rowSpan=_t,{colSpan:$t,rowSpan:_t}});return gt((st=(ct=dt[0])==null?void 0:ct.headers)!=null?st:[]),dt}const defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},getDefaultColumnSizingInfoState=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:rt=>({columnSizing:{},columnSizingInfo:getDefaultColumnSizingInfoState(),...rt}),getDefaultOptions:rt=>({columnResizeMode:"onEnd",onColumnSizingChange:makeStateUpdater("columnSizing",rt),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",rt)}),createColumn:(rt,it)=>({getSize:()=>{var at,lt,st;const ct=it.getState().columnSizing[rt.id];return Math.min(Math.max((at=rt.columnDef.minSize)!=null?at:defaultColumnSizing.minSize,(lt=ct??rt.columnDef.size)!=null?lt:defaultColumnSizing.size),(st=rt.columnDef.maxSize)!=null?st:defaultColumnSizing.maxSize)},getStart:at=>{const lt=at?at==="left"?it.getLeftVisibleLeafColumns():it.getRightVisibleLeafColumns():it.getVisibleLeafColumns(),st=lt.findIndex(ct=>ct.id===rt.id);if(st>0){const ct=lt[st-1];return ct.getStart(at)+ct.getSize()}return 0},resetSize:()=>{it.setColumnSizing(at=>{let{[rt.id]:lt,...st}=at;return st})},getCanResize:()=>{var at,lt;return((at=rt.columnDef.enableResizing)!=null?at:!0)&&((lt=it.options.enableColumnResizing)!=null?lt:!0)},getIsResizing:()=>it.getState().columnSizingInfo.isResizingColumn===rt.id}),createHeader:(rt,it)=>({getSize:()=>{let at=0;const lt=st=>{if(st.subHeaders.length)st.subHeaders.forEach(lt);else{var ct;at+=(ct=st.column.getSize())!=null?ct:0}};return lt(rt),at},getStart:()=>{if(rt.index>0){const at=rt.headerGroup.headers[rt.index-1];return at.getStart()+at.getSize()}return 0},getResizeHandler:()=>{const at=it.getColumn(rt.column.id),lt=at==null?void 0:at.getCanResize();return st=>{if(!at||!lt||(st.persist==null||st.persist(),isTouchStartEvent(st)&&st.touches&&st.touches.length>1))return;const ct=rt.getSize(),ut=rt?rt.getLeafHeaders().map($t=>[$t.column.id,$t.column.getSize()]):[[at.id,at.getSize()]],ft=isTouchStartEvent(st)?Math.round(st.touches[0].clientX):st.clientX,dt={},pt=($t,_t)=>{typeof _t=="number"&&(it.setColumnSizingInfo(yt=>{var Et,wt;const bt=_t-((Et=yt==null?void 0:yt.startOffset)!=null?Et:0),St=Math.max(bt/((wt=yt==null?void 0:yt.startSize)!=null?wt:0),-.999999);return yt.columnSizingStart.forEach(Tt=>{let[Rt,kt]=Tt;dt[Rt]=Math.round(Math.max(kt+kt*St,0)*100)/100}),{...yt,deltaOffset:bt,deltaPercentage:St}}),(it.options.columnResizeMode==="onChange"||$t==="end")&&it.setColumnSizing(yt=>({...yt,...dt})))},ht=$t=>pt("move",$t),gt=$t=>{pt("end",$t),it.setColumnSizingInfo(_t=>({..._t,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},mt={moveHandler:$t=>ht($t.clientX),upHandler:$t=>{document.removeEventListener("mousemove",mt.moveHandler),document.removeEventListener("mouseup",mt.upHandler),gt($t.clientX)}},xt={moveHandler:$t=>($t.cancelable&&($t.preventDefault(),$t.stopPropagation()),ht($t.touches[0].clientX),!1),upHandler:$t=>{var _t;document.removeEventListener("touchmove",xt.moveHandler),document.removeEventListener("touchend",xt.upHandler),$t.cancelable&&($t.preventDefault(),$t.stopPropagation()),gt((_t=$t.touches[0])==null?void 0:_t.clientX)}},vt=passiveEventSupported()?{passive:!1}:!1;isTouchStartEvent(st)?(document.addEventListener("touchmove",xt.moveHandler,vt),document.addEventListener("touchend",xt.upHandler,vt)):(document.addEventListener("mousemove",mt.moveHandler,vt),document.addEventListener("mouseup",mt.upHandler,vt)),it.setColumnSizingInfo($t=>({...$t,startOffset:ft,startSize:ct,deltaOffset:0,deltaPercentage:0,columnSizingStart:ut,isResizingColumn:at.id}))}}}),createTable:rt=>({setColumnSizing:it=>rt.options.onColumnSizingChange==null?void 0:rt.options.onColumnSizingChange(it),setColumnSizingInfo:it=>rt.options.onColumnSizingInfoChange==null?void 0:rt.options.onColumnSizingInfoChange(it),resetColumnSizing:it=>{var at;rt.setColumnSizing(it?{}:(at=rt.initialState.columnSizing)!=null?at:{})},resetHeaderSizeInfo:it=>{var at;rt.setColumnSizingInfo(it?getDefaultColumnSizingInfoState():(at=rt.initialState.columnSizingInfo)!=null?at:getDefaultColumnSizingInfoState())},getTotalSize:()=>{var it,at;return(it=(at=rt.getHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?it:0},getLeftTotalSize:()=>{var it,at;return(it=(at=rt.getLeftHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?it:0},getCenterTotalSize:()=>{var it,at;return(it=(at=rt.getCenterHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?it:0},getRightTotalSize:()=>{var it,at;return(it=(at=rt.getRightHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?it:0}})};let passiveSupported=null;function passiveEventSupported(){if(typeof passiveSupported=="boolean")return passiveSupported;let rt=!1;try{const it={get passive(){return rt=!0,!1}},at=()=>{};window.addEventListener("test",at,it),window.removeEventListener("test",at)}catch{rt=!1}return passiveSupported=rt,passiveSupported}function isTouchStartEvent(rt){return rt.type==="touchstart"}const Expanding={getInitialState:rt=>({expanded:{},...rt}),getDefaultOptions:rt=>({onExpandedChange:makeStateUpdater("expanded",rt),paginateExpandedRows:!0}),createTable:rt=>{let it=!1,at=!1;return{_autoResetExpanded:()=>{var lt,st;if(!it){rt._queue(()=>{it=!0});return}if((lt=(st=rt.options.autoResetAll)!=null?st:rt.options.autoResetExpanded)!=null?lt:!rt.options.manualExpanding){if(at)return;at=!0,rt._queue(()=>{rt.resetExpanded(),at=!1})}},setExpanded:lt=>rt.options.onExpandedChange==null?void 0:rt.options.onExpandedChange(lt),toggleAllRowsExpanded:lt=>{lt??!rt.getIsAllRowsExpanded()?rt.setExpanded(!0):rt.setExpanded({})},resetExpanded:lt=>{var st,ct;rt.setExpanded(lt?{}:(st=(ct=rt.initialState)==null?void 0:ct.expanded)!=null?st:{})},getCanSomeRowsExpand:()=>rt.getRowModel().flatRows.some(lt=>lt.getCanExpand()),getToggleAllRowsExpandedHandler:()=>lt=>{lt.persist==null||lt.persist(),rt.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const lt=rt.getState().expanded;return lt===!0||Object.values(lt).some(Boolean)},getIsAllRowsExpanded:()=>{const lt=rt.getState().expanded;return typeof lt=="boolean"?lt===!0:!(!Object.keys(lt).length||rt.getRowModel().flatRows.some(st=>!st.getIsExpanded()))},getExpandedDepth:()=>{let lt=0;return(rt.getState().expanded===!0?Object.keys(rt.getRowModel().rowsById):Object.keys(rt.getState().expanded)).forEach(ct=>{const ut=ct.split(".");lt=Math.max(lt,ut.length)}),lt},getPreExpandedRowModel:()=>rt.getSortedRowModel(),getExpandedRowModel:()=>(!rt._getExpandedRowModel&&rt.options.getExpandedRowModel&&(rt._getExpandedRowModel=rt.options.getExpandedRowModel(rt)),rt.options.manualExpanding||!rt._getExpandedRowModel?rt.getPreExpandedRowModel():rt._getExpandedRowModel())}},createRow:(rt,it)=>({toggleExpanded:at=>{it.setExpanded(lt=>{var st;const ct=lt===!0?!0:!!(lt!=null&&lt[rt.id]);let ut={};if(lt===!0?Object.keys(it.getRowModel().rowsById).forEach(ft=>{ut[ft]=!0}):ut=lt,at=(st=at)!=null?st:!ct,!ct&&at)return{...ut,[rt.id]:!0};if(ct&&!at){const{[rt.id]:ft,...dt}=ut;return dt}return lt})},getIsExpanded:()=>{var at;const lt=it.getState().expanded;return!!((at=it.options.getIsRowExpanded==null?void 0:it.options.getIsRowExpanded(rt))!=null?at:lt===!0||lt!=null&&lt[rt.id])},getCanExpand:()=>{var at,lt,st;return(at=it.options.getRowCanExpand==null?void 0:it.options.getRowCanExpand(rt))!=null?at:((lt=it.options.enableExpanding)!=null?lt:!0)&&!!((st=rt.subRows)!=null&&st.length)},getToggleExpandedHandler:()=>{const at=rt.getCanExpand();return()=>{at&&rt.toggleExpanded()}}})},includesString=(rt,it,at)=>{var lt;const st=at.toLowerCase();return!!((lt=rt.getValue(it))!=null&&lt.toLowerCase().includes(st))};includesString.autoRemove=rt=>testFalsey(rt);const includesStringSensitive=(rt,it,at)=>{var lt;return!!((lt=rt.getValue(it))!=null&&lt.includes(at))};includesStringSensitive.autoRemove=rt=>testFalsey(rt);const equalsString=(rt,it,at)=>{var lt;return((lt=rt.getValue(it))==null?void 0:lt.toLowerCase())===at.toLowerCase()};equalsString.autoRemove=rt=>testFalsey(rt);const arrIncludes=(rt,it,at)=>{var lt;return(lt=rt.getValue(it))==null?void 0:lt.includes(at)};arrIncludes.autoRemove=rt=>testFalsey(rt)||!(rt!=null&&rt.length);const arrIncludesAll=(rt,it,at)=>!at.some(lt=>{var st;return!((st=rt.getValue(it))!=null&&st.includes(lt))});arrIncludesAll.autoRemove=rt=>testFalsey(rt)||!(rt!=null&&rt.length);const arrIncludesSome=(rt,it,at)=>at.some(lt=>{var st;return(st=rt.getValue(it))==null?void 0:st.includes(lt)});arrIncludesSome.autoRemove=rt=>testFalsey(rt)||!(rt!=null&&rt.length);const equals=(rt,it,at)=>rt.getValue(it)===at;equals.autoRemove=rt=>testFalsey(rt);const weakEquals=(rt,it,at)=>rt.getValue(it)==at;weakEquals.autoRemove=rt=>testFalsey(rt);const inNumberRange=(rt,it,at)=>{let[lt,st]=at;const ct=rt.getValue(it);return ct>=lt&&ct<=st};inNumberRange.resolveFilterValue=rt=>{let[it,at]=rt,lt=typeof it!="number"?parseFloat(it):it,st=typeof at!="number"?parseFloat(at):at,ct=it===null||Number.isNaN(lt)?-1/0:lt,ut=at===null||Number.isNaN(st)?1/0:st;if(ct>ut){const ft=ct;ct=ut,ut=ft}return[ct,ut]};inNumberRange.autoRemove=rt=>testFalsey(rt)||testFalsey(rt[0])&&testFalsey(rt[1]);const filterFns={includesString,includesStringSensitive,equalsString,arrIncludes,arrIncludesAll,arrIncludesSome,equals,weakEquals,inNumberRange};function testFalsey(rt){return rt==null||rt===""}const Filters={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:rt=>({columnFilters:[],globalFilter:void 0,...rt}),getDefaultOptions:rt=>({onColumnFiltersChange:makeStateUpdater("columnFilters",rt),onGlobalFilterChange:makeStateUpdater("globalFilter",rt),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:it=>{var at,lt;const st=(at=rt.getCoreRowModel().flatRows[0])==null||(lt=at._getAllCellsByColumnId()[it.id])==null?void 0:lt.getValue();return typeof st=="string"||typeof st=="number"}}),createColumn:(rt,it)=>({getAutoFilterFn:()=>{const at=it.getCoreRowModel().flatRows[0],lt=at==null?void 0:at.getValue(rt.id);return typeof lt=="string"?filterFns.includesString:typeof lt=="number"?filterFns.inNumberRange:typeof lt=="boolean"||lt!==null&&typeof lt=="object"?filterFns.equals:Array.isArray(lt)?filterFns.arrIncludes:filterFns.weakEquals},getFilterFn:()=>{var at,lt;return isFunction(rt.columnDef.filterFn)?rt.columnDef.filterFn:rt.columnDef.filterFn==="auto"?rt.getAutoFilterFn():(at=(lt=it.options.filterFns)==null?void 0:lt[rt.columnDef.filterFn])!=null?at:filterFns[rt.columnDef.filterFn]},getCanFilter:()=>{var at,lt,st;return((at=rt.columnDef.enableColumnFilter)!=null?at:!0)&&((lt=it.options.enableColumnFilters)!=null?lt:!0)&&((st=it.options.enableFilters)!=null?st:!0)&&!!rt.accessorFn},getCanGlobalFilter:()=>{var at,lt,st,ct;return((at=rt.columnDef.enableGlobalFilter)!=null?at:!0)&&((lt=it.options.enableGlobalFilter)!=null?lt:!0)&&((st=it.options.enableFilters)!=null?st:!0)&&((ct=it.options.getColumnCanGlobalFilter==null?void 0:it.options.getColumnCanGlobalFilter(rt))!=null?ct:!0)&&!!rt.accessorFn},getIsFiltered:()=>rt.getFilterIndex()>-1,getFilterValue:()=>{var at,lt;return(at=it.getState().columnFilters)==null||(lt=at.find(st=>st.id===rt.id))==null?void 0:lt.value},getFilterIndex:()=>{var at,lt;return(at=(lt=it.getState().columnFilters)==null?void 0:lt.findIndex(st=>st.id===rt.id))!=null?at:-1},setFilterValue:at=>{it.setColumnFilters(lt=>{const st=rt.getFilterFn(),ct=lt==null?void 0:lt.find(ht=>ht.id===rt.id),ut=functionalUpdate(at,ct?ct.value:void 0);if(shouldAutoRemoveFilter(st,ut,rt)){var ft;return(ft=lt==null?void 0:lt.filter(ht=>ht.id!==rt.id))!=null?ft:[]}const dt={id:rt.id,value:ut};if(ct){var pt;return(pt=lt==null?void 0:lt.map(ht=>ht.id===rt.id?dt:ht))!=null?pt:[]}return lt!=null&&lt.length?[...lt,dt]:[dt]})},_getFacetedRowModel:it.options.getFacetedRowModel&&it.options.getFacetedRowModel(it,rt.id),getFacetedRowModel:()=>rt._getFacetedRowModel?rt._getFacetedRowModel():it.getPreFilteredRowModel(),_getFacetedUniqueValues:it.options.getFacetedUniqueValues&&it.options.getFacetedUniqueValues(it,rt.id),getFacetedUniqueValues:()=>rt._getFacetedUniqueValues?rt._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:it.options.getFacetedMinMaxValues&&it.options.getFacetedMinMaxValues(it,rt.id),getFacetedMinMaxValues:()=>{if(rt._getFacetedMinMaxValues)return rt._getFacetedMinMaxValues()}}),createRow:(rt,it)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:rt=>({getGlobalAutoFilterFn:()=>filterFns.includesString,getGlobalFilterFn:()=>{var it,at;const{globalFilterFn:lt}=rt.options;return isFunction(lt)?lt:lt==="auto"?rt.getGlobalAutoFilterFn():(it=(at=rt.options.filterFns)==null?void 0:at[lt])!=null?it:filterFns[lt]},setColumnFilters:it=>{const at=rt.getAllLeafColumns(),lt=st=>{var ct;return(ct=functionalUpdate(it,st))==null?void 0:ct.filter(ut=>{const ft=at.find(dt=>dt.id===ut.id);if(ft){const dt=ft.getFilterFn();if(shouldAutoRemoveFilter(dt,ut.value,ft))return!1}return!0})};rt.options.onColumnFiltersChange==null||rt.options.onColumnFiltersChange(lt)},setGlobalFilter:it=>{rt.options.onGlobalFilterChange==null||rt.options.onGlobalFilterChange(it)},resetGlobalFilter:it=>{rt.setGlobalFilter(it?void 0:rt.initialState.globalFilter)},resetColumnFilters:it=>{var at,lt;rt.setColumnFilters(it?[]:(at=(lt=rt.initialState)==null?void 0:lt.columnFilters)!=null?at:[])},getPreFilteredRowModel:()=>rt.getCoreRowModel(),getFilteredRowModel:()=>(!rt._getFilteredRowModel&&rt.options.getFilteredRowModel&&(rt._getFilteredRowModel=rt.options.getFilteredRowModel(rt)),rt.options.manualFiltering||!rt._getFilteredRowModel?rt.getPreFilteredRowModel():rt._getFilteredRowModel()),_getGlobalFacetedRowModel:rt.options.getFacetedRowModel&&rt.options.getFacetedRowModel(rt,"__global__"),getGlobalFacetedRowModel:()=>rt.options.manualFiltering||!rt._getGlobalFacetedRowModel?rt.getPreFilteredRowModel():rt._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:rt.options.getFacetedUniqueValues&&rt.options.getFacetedUniqueValues(rt,"__global__"),getGlobalFacetedUniqueValues:()=>rt._getGlobalFacetedUniqueValues?rt._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:rt.options.getFacetedMinMaxValues&&rt.options.getFacetedMinMaxValues(rt,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(rt._getGlobalFacetedMinMaxValues)return rt._getGlobalFacetedMinMaxValues()}})};function shouldAutoRemoveFilter(rt,it,at){return(rt&&rt.autoRemove?rt.autoRemove(it,at):!1)||typeof it>"u"||typeof it=="string"&&!it}const sum=(rt,it,at)=>at.reduce((lt,st)=>{const ct=st.getValue(rt);return lt+(typeof ct=="number"?ct:0)},0),min=(rt,it,at)=>{let lt;return at.forEach(st=>{const ct=st.getValue(rt);ct!=null&&(lt>ct||lt===void 0&&ct>=ct)&&(lt=ct)}),lt},max=(rt,it,at)=>{let lt;return at.forEach(st=>{const ct=st.getValue(rt);ct!=null&&(lt<ct||lt===void 0&&ct>=ct)&&(lt=ct)}),lt},extent=(rt,it,at)=>{let lt,st;return at.forEach(ct=>{const ut=ct.getValue(rt);ut!=null&&(lt===void 0?ut>=ut&&(lt=st=ut):(lt>ut&&(lt=ut),st<ut&&(st=ut)))}),[lt,st]},mean=(rt,it)=>{let at=0,lt=0;if(it.forEach(st=>{let ct=st.getValue(rt);ct!=null&&(ct=+ct)>=ct&&(++at,lt+=ct)}),at)return lt/at},median=(rt,it)=>{if(!it.length)return;let at=0,lt=0;return it.forEach(st=>{let ct=st.getValue(rt);typeof ct=="number"&&(at=Math.min(at,ct),lt=Math.max(lt,ct))}),(at+lt)/2},unique=(rt,it)=>Array.from(new Set(it.map(at=>at.getValue(rt))).values()),uniqueCount=(rt,it)=>new Set(it.map(at=>at.getValue(rt))).size,count=(rt,it)=>it.length,aggregationFns={sum,min,max,extent,mean,median,unique,uniqueCount,count},Grouping={getDefaultColumnDef:()=>({aggregatedCell:rt=>{var it,at;return(it=(at=rt.getValue())==null||at.toString==null?void 0:at.toString())!=null?it:null},aggregationFn:"auto"}),getInitialState:rt=>({grouping:[],...rt}),getDefaultOptions:rt=>({onGroupingChange:makeStateUpdater("grouping",rt),groupedColumnMode:"reorder"}),createColumn:(rt,it)=>({toggleGrouping:()=>{it.setGrouping(at=>at!=null&&at.includes(rt.id)?at.filter(lt=>lt!==rt.id):[...at??[],rt.id])},getCanGroup:()=>{var at,lt,st,ct;return(at=(lt=(st=(ct=rt.columnDef.enableGrouping)!=null?ct:!0)!=null?st:it.options.enableGrouping)!=null?lt:!0)!=null?at:!!rt.accessorFn},getIsGrouped:()=>{var at;return(at=it.getState().grouping)==null?void 0:at.includes(rt.id)},getGroupedIndex:()=>{var at;return(at=it.getState().grouping)==null?void 0:at.indexOf(rt.id)},getToggleGroupingHandler:()=>{const at=rt.getCanGroup();return()=>{at&&rt.toggleGrouping()}},getAutoAggregationFn:()=>{const at=it.getCoreRowModel().flatRows[0],lt=at==null?void 0:at.getValue(rt.id);if(typeof lt=="number")return aggregationFns.sum;if(Object.prototype.toString.call(lt)==="[object Date]")return aggregationFns.extent},getAggregationFn:()=>{var at,lt;if(!rt)throw new Error;return isFunction(rt.columnDef.aggregationFn)?rt.columnDef.aggregationFn:rt.columnDef.aggregationFn==="auto"?rt.getAutoAggregationFn():(at=(lt=it.options.aggregationFns)==null?void 0:lt[rt.columnDef.aggregationFn])!=null?at:aggregationFns[rt.columnDef.aggregationFn]}}),createTable:rt=>({setGrouping:it=>rt.options.onGroupingChange==null?void 0:rt.options.onGroupingChange(it),resetGrouping:it=>{var at,lt;rt.setGrouping(it?[]:(at=(lt=rt.initialState)==null?void 0:lt.grouping)!=null?at:[])},getPreGroupedRowModel:()=>rt.getFilteredRowModel(),getGroupedRowModel:()=>(!rt._getGroupedRowModel&&rt.options.getGroupedRowModel&&(rt._getGroupedRowModel=rt.options.getGroupedRowModel(rt)),rt.options.manualGrouping||!rt._getGroupedRowModel?rt.getPreGroupedRowModel():rt._getGroupedRowModel())}),createRow:rt=>({getIsGrouped:()=>!!rt.groupingColumnId,_groupingValuesCache:{}}),createCell:(rt,it,at,lt)=>({getIsGrouped:()=>it.getIsGrouped()&&it.id===at.groupingColumnId,getIsPlaceholder:()=>!rt.getIsGrouped()&&it.getIsGrouped(),getIsAggregated:()=>{var st;return!rt.getIsGrouped()&&!rt.getIsPlaceholder()&&!!((st=at.subRows)!=null&&st.length)}})};function orderColumns(rt,it,at){if(!(it!=null&&it.length)||!at)return rt;const lt=rt.filter(ct=>!it.includes(ct.id));return at==="remove"?lt:[...it.map(ct=>rt.find(ut=>ut.id===ct)).filter(Boolean),...lt]}const Ordering={getInitialState:rt=>({columnOrder:[],...rt}),getDefaultOptions:rt=>({onColumnOrderChange:makeStateUpdater("columnOrder",rt)}),createTable:rt=>({setColumnOrder:it=>rt.options.onColumnOrderChange==null?void 0:rt.options.onColumnOrderChange(it),resetColumnOrder:it=>{var at;rt.setColumnOrder(it?[]:(at=rt.initialState.columnOrder)!=null?at:[])},_getOrderColumnsFn:memo(()=>[rt.getState().columnOrder,rt.getState().grouping,rt.options.groupedColumnMode],(it,at,lt)=>st=>{let ct=[];if(!(it!=null&&it.length))ct=st;else{const ut=[...it],ft=[...st];for(;ft.length&&ut.length;){const dt=ut.shift(),pt=ft.findIndex(ht=>ht.id===dt);pt>-1&&ct.push(ft.splice(pt,1)[0])}ct=[...ct,...ft]}return orderColumns(ct,at,lt)},{key:!1})})},defaultPageIndex=0,defaultPageSize=10,getDefaultPaginationState=()=>({pageIndex:defaultPageIndex,pageSize:defaultPageSize}),Pagination={getInitialState:rt=>({...rt,pagination:{...getDefaultPaginationState(),...rt==null?void 0:rt.pagination}}),getDefaultOptions:rt=>({onPaginationChange:makeStateUpdater("pagination",rt)}),createTable:rt=>{let it=!1,at=!1;return{_autoResetPageIndex:()=>{var lt,st;if(!it){rt._queue(()=>{it=!0});return}if((lt=(st=rt.options.autoResetAll)!=null?st:rt.options.autoResetPageIndex)!=null?lt:!rt.options.manualPagination){if(at)return;at=!0,rt._queue(()=>{rt.resetPageIndex(),at=!1})}},setPagination:lt=>{const st=ct=>functionalUpdate(lt,ct);return rt.options.onPaginationChange==null?void 0:rt.options.onPaginationChange(st)},resetPagination:lt=>{var st;rt.setPagination(lt?getDefaultPaginationState():(st=rt.initialState.pagination)!=null?st:getDefaultPaginationState())},setPageIndex:lt=>{rt.setPagination(st=>{let ct=functionalUpdate(lt,st.pageIndex);const ut=typeof rt.options.pageCount>"u"||rt.options.pageCount===-1?Number.MAX_SAFE_INTEGER:rt.options.pageCount-1;return ct=Math.max(0,Math.min(ct,ut)),{...st,pageIndex:ct}})},resetPageIndex:lt=>{var st,ct,ut;rt.setPageIndex(lt?defaultPageIndex:(st=(ct=rt.initialState)==null||(ut=ct.pagination)==null?void 0:ut.pageIndex)!=null?st:defaultPageIndex)},resetPageSize:lt=>{var st,ct,ut;rt.setPageSize(lt?defaultPageSize:(st=(ct=rt.initialState)==null||(ut=ct.pagination)==null?void 0:ut.pageSize)!=null?st:defaultPageSize)},setPageSize:lt=>{rt.setPagination(st=>{const ct=Math.max(1,functionalUpdate(lt,st.pageSize)),ut=st.pageSize*st.pageIndex,ft=Math.floor(ut/ct);return{...st,pageIndex:ft,pageSize:ct}})},setPageCount:lt=>rt.setPagination(st=>{var ct;let ut=functionalUpdate(lt,(ct=rt.options.pageCount)!=null?ct:-1);return typeof ut=="number"&&(ut=Math.max(-1,ut)),{...st,pageCount:ut}}),getPageOptions:memo(()=>[rt.getPageCount()],lt=>{let st=[];return lt&&lt>0&&(st=[...new Array(lt)].fill(null).map((ct,ut)=>ut)),st},{key:!1,debug:()=>{var lt;return(lt=rt.options.debugAll)!=null?lt:rt.options.debugTable}}),getCanPreviousPage:()=>rt.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:lt}=rt.getState().pagination,st=rt.getPageCount();return st===-1?!0:st===0?!1:lt<st-1},previousPage:()=>rt.setPageIndex(lt=>lt-1),nextPage:()=>rt.setPageIndex(lt=>lt+1),getPrePaginationRowModel:()=>rt.getExpandedRowModel(),getPaginationRowModel:()=>(!rt._getPaginationRowModel&&rt.options.getPaginationRowModel&&(rt._getPaginationRowModel=rt.options.getPaginationRowModel(rt)),rt.options.manualPagination||!rt._getPaginationRowModel?rt.getPrePaginationRowModel():rt._getPaginationRowModel()),getPageCount:()=>{var lt;return(lt=rt.options.pageCount)!=null?lt:Math.ceil(rt.getPrePaginationRowModel().rows.length/rt.getState().pagination.pageSize)}}}},getDefaultPinningState=()=>({left:[],right:[]}),Pinning={getInitialState:rt=>({columnPinning:getDefaultPinningState(),...rt}),getDefaultOptions:rt=>({onColumnPinningChange:makeStateUpdater("columnPinning",rt)}),createColumn:(rt,it)=>({pin:at=>{const lt=rt.getLeafColumns().map(st=>st.id).filter(Boolean);it.setColumnPinning(st=>{var ct,ut;if(at==="right"){var ft,dt;return{left:((ft=st==null?void 0:st.left)!=null?ft:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),right:[...((dt=st==null?void 0:st.right)!=null?dt:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),...lt]}}if(at==="left"){var pt,ht;return{left:[...((pt=st==null?void 0:st.left)!=null?pt:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),...lt],right:((ht=st==null?void 0:st.right)!=null?ht:[]).filter(gt=>!(lt!=null&&lt.includes(gt)))}}return{left:((ct=st==null?void 0:st.left)!=null?ct:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),right:((ut=st==null?void 0:st.right)!=null?ut:[]).filter(gt=>!(lt!=null&&lt.includes(gt)))}})},getCanPin:()=>rt.getLeafColumns().some(lt=>{var st,ct;return((st=lt.columnDef.enablePinning)!=null?st:!0)&&((ct=it.options.enablePinning)!=null?ct:!0)}),getIsPinned:()=>{const at=rt.getLeafColumns().map(ft=>ft.id),{left:lt,right:st}=it.getState().columnPinning,ct=at.some(ft=>lt==null?void 0:lt.includes(ft)),ut=at.some(ft=>st==null?void 0:st.includes(ft));return ct?"left":ut?"right":!1},getPinnedIndex:()=>{var at,lt,st;const ct=rt.getIsPinned();return ct?(at=(lt=it.getState().columnPinning)==null||(st=lt[ct])==null?void 0:st.indexOf(rt.id))!=null?at:-1:0}}),createRow:(rt,it)=>({getCenterVisibleCells:memo(()=>[rt._getAllVisibleCells(),it.getState().columnPinning.left,it.getState().columnPinning.right],(at,lt,st)=>{const ct=[...lt??[],...st??[]];return at.filter(ut=>!ct.includes(ut.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var at;return(at=it.options.debugAll)!=null?at:it.options.debugRows}}),getLeftVisibleCells:memo(()=>[rt._getAllVisibleCells(),it.getState().columnPinning.left,,],(at,lt)=>(lt??[]).map(ct=>at.find(ut=>ut.column.id===ct)).filter(Boolean).map(ct=>({...ct,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var at;return(at=it.options.debugAll)!=null?at:it.options.debugRows}}),getRightVisibleCells:memo(()=>[rt._getAllVisibleCells(),it.getState().columnPinning.right],(at,lt)=>(lt??[]).map(ct=>at.find(ut=>ut.column.id===ct)).filter(Boolean).map(ct=>({...ct,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var at;return(at=it.options.debugAll)!=null?at:it.options.debugRows}})}),createTable:rt=>({setColumnPinning:it=>rt.options.onColumnPinningChange==null?void 0:rt.options.onColumnPinningChange(it),resetColumnPinning:it=>{var at,lt;return rt.setColumnPinning(it?getDefaultPinningState():(at=(lt=rt.initialState)==null?void 0:lt.columnPinning)!=null?at:getDefaultPinningState())},getIsSomeColumnsPinned:it=>{var at;const lt=rt.getState().columnPinning;if(!it){var st,ct;return!!((st=lt.left)!=null&&st.length||(ct=lt.right)!=null&&ct.length)}return!!((at=lt[it])!=null&&at.length)},getLeftLeafColumns:memo(()=>[rt.getAllLeafColumns(),rt.getState().columnPinning.left],(it,at)=>(at??[]).map(lt=>it.find(st=>st.id===lt)).filter(Boolean),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugColumns}}),getRightLeafColumns:memo(()=>[rt.getAllLeafColumns(),rt.getState().columnPinning.right],(it,at)=>(at??[]).map(lt=>it.find(st=>st.id===lt)).filter(Boolean),{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugColumns}}),getCenterLeafColumns:memo(()=>[rt.getAllLeafColumns(),rt.getState().columnPinning.left,rt.getState().columnPinning.right],(it,at,lt)=>{const st=[...at??[],...lt??[]];return it.filter(ct=>!st.includes(ct.id))},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugColumns}})})},RowSelection={getInitialState:rt=>({rowSelection:{},...rt}),getDefaultOptions:rt=>({onRowSelectionChange:makeStateUpdater("rowSelection",rt),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:rt=>({setRowSelection:it=>rt.options.onRowSelectionChange==null?void 0:rt.options.onRowSelectionChange(it),resetRowSelection:it=>{var at;return rt.setRowSelection(it?{}:(at=rt.initialState.rowSelection)!=null?at:{})},toggleAllRowsSelected:it=>{rt.setRowSelection(at=>{it=typeof it<"u"?it:!rt.getIsAllRowsSelected();const lt={...at},st=rt.getPreGroupedRowModel().flatRows;return it?st.forEach(ct=>{ct.getCanSelect()&&(lt[ct.id]=!0)}):st.forEach(ct=>{delete lt[ct.id]}),lt})},toggleAllPageRowsSelected:it=>rt.setRowSelection(at=>{const lt=typeof it<"u"?it:!rt.getIsAllPageRowsSelected(),st={...at};return rt.getRowModel().rows.forEach(ct=>{mutateRowIsSelected(st,ct.id,lt,rt)}),st}),getPreSelectedRowModel:()=>rt.getCoreRowModel(),getSelectedRowModel:memo(()=>[rt.getState().rowSelection,rt.getCoreRowModel()],(it,at)=>Object.keys(it).length?selectRowsFn(rt,at):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugTable}}),getFilteredSelectedRowModel:memo(()=>[rt.getState().rowSelection,rt.getFilteredRowModel()],(it,at)=>Object.keys(it).length?selectRowsFn(rt,at):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugTable}}),getGroupedSelectedRowModel:memo(()=>[rt.getState().rowSelection,rt.getSortedRowModel()],(it,at)=>Object.keys(it).length?selectRowsFn(rt,at):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugTable}}),getIsAllRowsSelected:()=>{const it=rt.getFilteredRowModel().flatRows,{rowSelection:at}=rt.getState();let lt=!!(it.length&&Object.keys(at).length);return lt&&it.some(st=>st.getCanSelect()&&!at[st.id])&&(lt=!1),lt},getIsAllPageRowsSelected:()=>{const it=rt.getPaginationRowModel().flatRows.filter(st=>st.getCanSelect()),{rowSelection:at}=rt.getState();let lt=!!it.length;return lt&&it.some(st=>!at[st.id])&&(lt=!1),lt},getIsSomeRowsSelected:()=>{var it;const at=Object.keys((it=rt.getState().rowSelection)!=null?it:{}).length;return at>0&&at<rt.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const it=rt.getPaginationRowModel().flatRows;return rt.getIsAllPageRowsSelected()?!1:it.filter(at=>at.getCanSelect()).some(at=>at.getIsSelected()||at.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>it=>{rt.toggleAllRowsSelected(it.target.checked)},getToggleAllPageRowsSelectedHandler:()=>it=>{rt.toggleAllPageRowsSelected(it.target.checked)}}),createRow:(rt,it)=>({toggleSelected:at=>{const lt=rt.getIsSelected();it.setRowSelection(st=>{if(at=typeof at<"u"?at:!lt,lt===at)return st;const ct={...st};return mutateRowIsSelected(ct,rt.id,at,it),ct})},getIsSelected:()=>{const{rowSelection:at}=it.getState();return isRowSelected(rt,at)},getIsSomeSelected:()=>{const{rowSelection:at}=it.getState();return isSubRowSelected(rt,at)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:at}=it.getState();return isSubRowSelected(rt,at)==="all"},getCanSelect:()=>{var at;return typeof it.options.enableRowSelection=="function"?it.options.enableRowSelection(rt):(at=it.options.enableRowSelection)!=null?at:!0},getCanSelectSubRows:()=>{var at;return typeof it.options.enableSubRowSelection=="function"?it.options.enableSubRowSelection(rt):(at=it.options.enableSubRowSelection)!=null?at:!0},getCanMultiSelect:()=>{var at;return typeof it.options.enableMultiRowSelection=="function"?it.options.enableMultiRowSelection(rt):(at=it.options.enableMultiRowSelection)!=null?at:!0},getToggleSelectedHandler:()=>{const at=rt.getCanSelect();return lt=>{var st;at&&rt.toggleSelected((st=lt.target)==null?void 0:st.checked)}}})},mutateRowIsSelected=(rt,it,at,lt)=>{var st;const ct=lt.getRow(it);at?(ct.getCanMultiSelect()||Object.keys(rt).forEach(ut=>delete rt[ut]),ct.getCanSelect()&&(rt[it]=!0)):delete rt[it],(st=ct.subRows)!=null&&st.length&&ct.getCanSelectSubRows()&&ct.subRows.forEach(ut=>mutateRowIsSelected(rt,ut.id,at,lt))};function selectRowsFn(rt,it){const at=rt.getState().rowSelection,lt=[],st={},ct=function(ut,ft){return ut.map(dt=>{var pt;const ht=isRowSelected(dt,at);if(ht&&(lt.push(dt),st[dt.id]=dt),(pt=dt.subRows)!=null&&pt.length&&(dt={...dt,subRows:ct(dt.subRows)}),ht)return dt}).filter(Boolean)};return{rows:ct(it.rows),flatRows:lt,rowsById:st}}function isRowSelected(rt,it){var at;return(at=it[rt.id])!=null?at:!1}function isSubRowSelected(rt,it,at){if(rt.subRows&&rt.subRows.length){let lt=!0,st=!1;return rt.subRows.forEach(ct=>{st&&!lt||(isRowSelected(ct,it)?st=!0:lt=!1)}),lt?"all":st?"some":!1}return!1}const reSplitAlphaNumeric=/([0-9]+)/gm,alphanumeric=(rt,it,at)=>compareAlphanumeric(toString(rt.getValue(at)).toLowerCase(),toString(it.getValue(at)).toLowerCase()),alphanumericCaseSensitive=(rt,it,at)=>compareAlphanumeric(toString(rt.getValue(at)),toString(it.getValue(at))),text=(rt,it,at)=>compareBasic(toString(rt.getValue(at)).toLowerCase(),toString(it.getValue(at)).toLowerCase()),textCaseSensitive=(rt,it,at)=>compareBasic(toString(rt.getValue(at)),toString(it.getValue(at))),datetime=(rt,it,at)=>{const lt=rt.getValue(at),st=it.getValue(at);return lt>st?1:lt<st?-1:0},basic=(rt,it,at)=>compareBasic(rt.getValue(at),it.getValue(at));function compareBasic(rt,it){return rt===it?0:rt>it?1:-1}function toString(rt){return typeof rt=="number"?isNaN(rt)||rt===1/0||rt===-1/0?"":String(rt):typeof rt=="string"?rt:""}function compareAlphanumeric(rt,it){const at=rt.split(reSplitAlphaNumeric).filter(Boolean),lt=it.split(reSplitAlphaNumeric).filter(Boolean);for(;at.length&&lt.length;){const st=at.shift(),ct=lt.shift(),ut=parseInt(st,10),ft=parseInt(ct,10),dt=[ut,ft].sort();if(isNaN(dt[0])){if(st>ct)return 1;if(ct>st)return-1;continue}if(isNaN(dt[1]))return isNaN(ut)?-1:1;if(ut>ft)return 1;if(ft>ut)return-1}return at.length-lt.length}const sortingFns={alphanumeric,alphanumericCaseSensitive,text,textCaseSensitive,datetime,basic},Sorting={getInitialState:rt=>({sorting:[],...rt}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:rt=>({onSortingChange:makeStateUpdater("sorting",rt),isMultiSortEvent:it=>it.shiftKey}),createColumn:(rt,it)=>({getAutoSortingFn:()=>{const at=it.getFilteredRowModel().flatRows.slice(10);let lt=!1;for(const st of at){const ct=st==null?void 0:st.getValue(rt.id);if(Object.prototype.toString.call(ct)==="[object Date]")return sortingFns.datetime;if(typeof ct=="string"&&(lt=!0,ct.split(reSplitAlphaNumeric).length>1))return sortingFns.alphanumeric}return lt?sortingFns.text:sortingFns.basic},getAutoSortDir:()=>{const at=it.getFilteredRowModel().flatRows[0];return typeof(at==null?void 0:at.getValue(rt.id))=="string"?"asc":"desc"},getSortingFn:()=>{var at,lt;if(!rt)throw new Error;return isFunction(rt.columnDef.sortingFn)?rt.columnDef.sortingFn:rt.columnDef.sortingFn==="auto"?rt.getAutoSortingFn():(at=(lt=it.options.sortingFns)==null?void 0:lt[rt.columnDef.sortingFn])!=null?at:sortingFns[rt.columnDef.sortingFn]},toggleSorting:(at,lt)=>{const st=rt.getNextSortingOrder(),ct=typeof at<"u"&&at!==null;it.setSorting(ut=>{const ft=ut==null?void 0:ut.find(xt=>xt.id===rt.id),dt=ut==null?void 0:ut.findIndex(xt=>xt.id===rt.id);let pt=[],ht,gt=ct?at:st==="desc";if(ut!=null&&ut.length&&rt.getCanMultiSort()&&lt?ft?ht="toggle":ht="add":ut!=null&&ut.length&&dt!==ut.length-1?ht="replace":ft?ht="toggle":ht="replace",ht==="toggle"&&(ct||st||(ht="remove")),ht==="add"){var mt;pt=[...ut,{id:rt.id,desc:gt}],pt.splice(0,pt.length-((mt=it.options.maxMultiSortColCount)!=null?mt:Number.MAX_SAFE_INTEGER))}else ht==="toggle"?pt=ut.map(xt=>xt.id===rt.id?{...xt,desc:gt}:xt):ht==="remove"?pt=ut.filter(xt=>xt.id!==rt.id):pt=[{id:rt.id,desc:gt}];return pt})},getFirstSortDir:()=>{var at,lt;return((at=(lt=rt.columnDef.sortDescFirst)!=null?lt:it.options.sortDescFirst)!=null?at:rt.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:at=>{var lt,st;const ct=rt.getFirstSortDir(),ut=rt.getIsSorted();return ut?ut!==ct&&((lt=it.options.enableSortingRemoval)==null||lt)&&(!(at&&(st=it.options.enableMultiRemove)!=null)||st)?!1:ut==="desc"?"asc":"desc":ct},getCanSort:()=>{var at,lt;return((at=rt.columnDef.enableSorting)!=null?at:!0)&&((lt=it.options.enableSorting)!=null?lt:!0)&&!!rt.accessorFn},getCanMultiSort:()=>{var at,lt;return(at=(lt=rt.columnDef.enableMultiSort)!=null?lt:it.options.enableMultiSort)!=null?at:!!rt.accessorFn},getIsSorted:()=>{var at;const lt=(at=it.getState().sorting)==null?void 0:at.find(st=>st.id===rt.id);return lt?lt.desc?"desc":"asc":!1},getSortIndex:()=>{var at,lt;return(at=(lt=it.getState().sorting)==null?void 0:lt.findIndex(st=>st.id===rt.id))!=null?at:-1},clearSorting:()=>{it.setSorting(at=>at!=null&&at.length?at.filter(lt=>lt.id!==rt.id):[])},getToggleSortingHandler:()=>{const at=rt.getCanSort();return lt=>{at&&(lt.persist==null||lt.persist(),rt.toggleSorting==null||rt.toggleSorting(void 0,rt.getCanMultiSort()?it.options.isMultiSortEvent==null?void 0:it.options.isMultiSortEvent(lt):!1))}}}),createTable:rt=>({setSorting:it=>rt.options.onSortingChange==null?void 0:rt.options.onSortingChange(it),resetSorting:it=>{var at,lt;rt.setSorting(it?[]:(at=(lt=rt.initialState)==null?void 0:lt.sorting)!=null?at:[])},getPreSortedRowModel:()=>rt.getGroupedRowModel(),getSortedRowModel:()=>(!rt._getSortedRowModel&&rt.options.getSortedRowModel&&(rt._getSortedRowModel=rt.options.getSortedRowModel(rt)),rt.options.manualSorting||!rt._getSortedRowModel?rt.getPreSortedRowModel():rt._getSortedRowModel())})},Visibility={getInitialState:rt=>({columnVisibility:{},...rt}),getDefaultOptions:rt=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",rt)}),createColumn:(rt,it)=>({toggleVisibility:at=>{rt.getCanHide()&&it.setColumnVisibility(lt=>({...lt,[rt.id]:at??!rt.getIsVisible()}))},getIsVisible:()=>{var at,lt;return(at=(lt=it.getState().columnVisibility)==null?void 0:lt[rt.id])!=null?at:!0},getCanHide:()=>{var at,lt;return((at=rt.columnDef.enableHiding)!=null?at:!0)&&((lt=it.options.enableHiding)!=null?lt:!0)},getToggleVisibilityHandler:()=>at=>{rt.toggleVisibility==null||rt.toggleVisibility(at.target.checked)}}),createRow:(rt,it)=>({_getAllVisibleCells:memo(()=>[rt.getAllCells(),it.getState().columnVisibility],at=>at.filter(lt=>lt.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var at;return(at=it.options.debugAll)!=null?at:it.options.debugRows}}),getVisibleCells:memo(()=>[rt.getLeftVisibleCells(),rt.getCenterVisibleCells(),rt.getRightVisibleCells()],(at,lt,st)=>[...at,...lt,...st],{key:!1,debug:()=>{var at;return(at=it.options.debugAll)!=null?at:it.options.debugRows}})}),createTable:rt=>{const it=(at,lt)=>memo(()=>[lt(),lt().filter(st=>st.getIsVisible()).map(st=>st.id).join("_")],st=>st.filter(ct=>ct.getIsVisible==null?void 0:ct.getIsVisible()),{key:at,debug:()=>{var st;return(st=rt.options.debugAll)!=null?st:rt.options.debugColumns}});return{getVisibleFlatColumns:it("getVisibleFlatColumns",()=>rt.getAllFlatColumns()),getVisibleLeafColumns:it("getVisibleLeafColumns",()=>rt.getAllLeafColumns()),getLeftVisibleLeafColumns:it("getLeftVisibleLeafColumns",()=>rt.getLeftLeafColumns()),getRightVisibleLeafColumns:it("getRightVisibleLeafColumns",()=>rt.getRightLeafColumns()),getCenterVisibleLeafColumns:it("getCenterVisibleLeafColumns",()=>rt.getCenterLeafColumns()),setColumnVisibility:at=>rt.options.onColumnVisibilityChange==null?void 0:rt.options.onColumnVisibilityChange(at),resetColumnVisibility:at=>{var lt;rt.setColumnVisibility(at?{}:(lt=rt.initialState.columnVisibility)!=null?lt:{})},toggleAllColumnsVisible:at=>{var lt;at=(lt=at)!=null?lt:!rt.getIsAllColumnsVisible(),rt.setColumnVisibility(rt.getAllLeafColumns().reduce((st,ct)=>({...st,[ct.id]:at||!(ct.getCanHide!=null&&ct.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!rt.getAllLeafColumns().some(at=>!(at.getIsVisible!=null&&at.getIsVisible())),getIsSomeColumnsVisible:()=>rt.getAllLeafColumns().some(at=>at.getIsVisible==null?void 0:at.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>at=>{var lt;rt.toggleAllColumnsVisible((lt=at.target)==null?void 0:lt.checked)}}}},features=[Headers,Visibility,Ordering,Pinning,Filters,Sorting,Grouping,Expanding,Pagination,RowSelection,ColumnSizing];function createTable(rt){var it;(rt.debugAll||rt.debugTable)&&console.info("Creating Table Instance...");let at={_features:features};const lt=at._features.reduce((ht,gt)=>Object.assign(ht,gt.getDefaultOptions==null?void 0:gt.getDefaultOptions(at)),{}),st=ht=>at.options.mergeOptions?at.options.mergeOptions(lt,ht):{...lt,...ht};let ut={...{},...(it=rt.initialState)!=null?it:{}};at._features.forEach(ht=>{var gt;ut=(gt=ht.getInitialState==null?void 0:ht.getInitialState(ut))!=null?gt:ut});const ft=[];let dt=!1;const pt={_features:features,options:{...lt,...rt},initialState:ut,_queue:ht=>{ft.push(ht),dt||(dt=!0,Promise.resolve().then(()=>{for(;ft.length;)ft.shift()();dt=!1}).catch(gt=>setTimeout(()=>{throw gt})))},reset:()=>{at.setState(at.initialState)},setOptions:ht=>{const gt=functionalUpdate(ht,at.options);at.options=st(gt)},getState:()=>at.options.state,setState:ht=>{at.options.onStateChange==null||at.options.onStateChange(ht)},_getRowId:(ht,gt,mt)=>{var xt;return(xt=at.options.getRowId==null?void 0:at.options.getRowId(ht,gt,mt))!=null?xt:`${mt?[mt.id,gt].join("."):gt}`},getCoreRowModel:()=>(at._getCoreRowModel||(at._getCoreRowModel=at.options.getCoreRowModel(at)),at._getCoreRowModel()),getRowModel:()=>at.getPaginationRowModel(),getRow:ht=>{const gt=at.getRowModel().rowsById[ht];if(!gt)throw new Error;return gt},_getDefaultColumnDef:memo(()=>[at.options.defaultColumn],ht=>{var gt;return ht=(gt=ht)!=null?gt:{},{header:mt=>{const xt=mt.header.column.columnDef;return xt.accessorKey?xt.accessorKey:xt.accessorFn?xt.id:null},cell:mt=>{var xt,vt;return(xt=(vt=mt.renderValue())==null||vt.toString==null?void 0:vt.toString())!=null?xt:null},...at._features.reduce((mt,xt)=>Object.assign(mt,xt.getDefaultColumnDef==null?void 0:xt.getDefaultColumnDef()),{}),...ht}},{debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns},key:!1}),_getColumnDefs:()=>at.options.columns,getAllColumns:memo(()=>[at._getColumnDefs()],ht=>{const gt=function(mt,xt,vt){return vt===void 0&&(vt=0),mt.map($t=>{const _t=createColumn(at,$t,vt,xt),yt=$t;return _t.columns=yt.columns?gt(yt.columns,_t,vt+1):[],_t})};return gt(ht)},{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getAllFlatColumns:memo(()=>[at.getAllColumns()],ht=>ht.flatMap(gt=>gt.getFlatColumns()),{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),_getAllFlatColumnsById:memo(()=>[at.getAllFlatColumns()],ht=>ht.reduce((gt,mt)=>(gt[mt.id]=mt,gt),{}),{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getAllLeafColumns:memo(()=>[at.getAllColumns(),at._getOrderColumnsFn()],(ht,gt)=>{let mt=ht.flatMap(xt=>xt.getLeafColumns());return gt(mt)},{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getColumn:ht=>at._getAllFlatColumnsById()[ht]};return Object.assign(at,pt),at._features.forEach(ht=>Object.assign(at,ht.createTable==null?void 0:ht.createTable(at))),at}function createCell(rt,it,at,lt){const st=()=>{var ut;return(ut=ct.getValue())!=null?ut:rt.options.renderFallbackValue},ct={id:`${it.id}_${at.id}`,row:it,column:at,getValue:()=>it.getValue(lt),renderValue:st,getContext:memo(()=>[rt,at,it,ct],(ut,ft,dt,pt)=>({table:ut,column:ft,row:dt,cell:pt,getValue:pt.getValue,renderValue:pt.renderValue}),{key:!1,debug:()=>rt.options.debugAll})};return rt._features.forEach(ut=>{Object.assign(ct,ut.createCell==null?void 0:ut.createCell(ct,at,it,rt))},{}),ct}const createRow=(rt,it,at,lt,st,ct,ut)=>{let ft={id:it,index:lt,original:at,depth:st,parentId:ut,_valuesCache:{},_uniqueValuesCache:{},getValue:dt=>{if(ft._valuesCache.hasOwnProperty(dt))return ft._valuesCache[dt];const pt=rt.getColumn(dt);if(pt!=null&&pt.accessorFn)return ft._valuesCache[dt]=pt.accessorFn(ft.original,lt),ft._valuesCache[dt]},getUniqueValues:dt=>{if(ft._uniqueValuesCache.hasOwnProperty(dt))return ft._uniqueValuesCache[dt];const pt=rt.getColumn(dt);if(pt!=null&&pt.accessorFn)return pt.columnDef.getUniqueValues?(ft._uniqueValuesCache[dt]=pt.columnDef.getUniqueValues(ft.original,lt),ft._uniqueValuesCache[dt]):(ft._uniqueValuesCache[dt]=[ft.getValue(dt)],ft._uniqueValuesCache[dt])},renderValue:dt=>{var pt;return(pt=ft.getValue(dt))!=null?pt:rt.options.renderFallbackValue},subRows:ct??[],getLeafRows:()=>flattenBy(ft.subRows,dt=>dt.subRows),getParentRow:()=>ft.parentId?rt.getRow(ft.parentId):void 0,getParentRows:()=>{let dt=[],pt=ft;for(;;){const ht=pt.getParentRow();if(!ht)break;dt.push(ht),pt=ht}return dt.reverse()},getAllCells:memo(()=>[rt.getAllLeafColumns()],dt=>dt.map(pt=>createCell(rt,ft,pt,pt.id)),{key:!1,debug:()=>{var dt;return(dt=rt.options.debugAll)!=null?dt:rt.options.debugRows}}),_getAllCellsByColumnId:memo(()=>[ft.getAllCells()],dt=>dt.reduce((pt,ht)=>(pt[ht.column.id]=ht,pt),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var dt;return(dt=rt.options.debugAll)!=null?dt:rt.options.debugRows}})};for(let dt=0;dt<rt._features.length;dt++){const pt=rt._features[dt];Object.assign(ft,pt==null||pt.createRow==null?void 0:pt.createRow(ft,rt))}return ft};function createColumnHelper(){return{accessor:(rt,it)=>typeof rt=="function"?{...it,accessorFn:rt}:{...it,accessorKey:rt},display:rt=>rt,group:rt=>rt}}function getCoreRowModel(){return rt=>memo(()=>[rt.options.data],it=>{const at={rows:[],flatRows:[],rowsById:{}},lt=function(st,ct,ut){ct===void 0&&(ct=0);const ft=[];for(let pt=0;pt<st.length;pt++){const ht=createRow(rt,rt._getRowId(st[pt],pt,ut),st[pt],pt,ct,void 0,ut==null?void 0:ut.id);if(at.flatRows.push(ht),at.rowsById[ht.id]=ht,ft.push(ht),rt.options.getSubRows){var dt;ht.originalSubRows=rt.options.getSubRows(st[pt],pt),(dt=ht.originalSubRows)!=null&&dt.length&&(ht.subRows=lt(ht.originalSubRows,ct+1,ht))}}return ft};return at.rows=lt(it),at},{key:!1,debug:()=>{var it;return(it=rt.options.debugAll)!=null?it:rt.options.debugTable},onChange:()=>{rt._autoResetPageIndex()}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function flexRender(rt,it){return rt?isReactComponent(rt)?reactExports.createElement(rt,it):rt:null}function isReactComponent(rt){return isClassComponent(rt)||typeof rt=="function"||isExoticComponent(rt)}function isClassComponent(rt){return typeof rt=="function"&&(()=>{const it=Object.getPrototypeOf(rt);return it.prototype&&it.prototype.isReactComponent})()}function isExoticComponent(rt){return typeof rt=="object"&&typeof rt.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(rt.$$typeof.description)}function useReactTable(rt){const it={state:{},onStateChange:()=>{},renderFallbackValue:null,...rt},[at]=reactExports.useState(()=>({current:createTable(it)})),[lt,st]=reactExports.useState(()=>at.current.initialState);return at.current.setOptions(ct=>({...ct,...rt,state:{...lt,...rt.state},onStateChange:ut=>{st(ut),rt.onStateChange==null||rt.onStateChange(ut)}})),at.current}function ROIsTable(rt){const{data:it=[]}=rt,at=createColumnHelper();console.log(it.filter(ct=>ct.id===-128));const lt=[at.accessor("crop",{header:()=>"Crop",cell:ct=>jsx(ImageViewer$1,{image:ct.getValue(),zoom:.4})}),at.accessor("id",{header:()=>"ID",cell:ct=>ct.getValue()}),at.accessor("origin.column",{header:()=>"Column",cell:ct=>ct.getValue()}),at.accessor("origin.row",{header:()=>"Row",cell:ct=>ct.getValue()}),at.accessor("width",{header:()=>"Width",cell:ct=>ct.getValue()}),at.accessor("height",{header:()=>"Height"}),at.accessor("feret.aspectRatio",{header:()=>"Aspect Ratio (feret)",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("feret.minDiameter.length",{header:()=>"Feret minDiameter",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("feret.maxDiameter.length",{header:()=>"Feret maxDiameter",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("roundness",{header:()=>"Roundness",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("solidity",{header:()=>"Solidity",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("sphericity",{header:()=>"Sphericity",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("fillRatio",{header:()=>"Fill ratio",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("tag.column",{header:()=>"Tag column",cell:ct=>ct==null?void 0:ct.getValue()}),at.accessor("tag.row",{header:()=>"Tag row",cell:ct=>ct==null?void 0:ct.getValue()}),at.accessor("tag.raw",{header:()=>"Tag row",cell:ct=>ct==null?void 0:ct.getValue()})],st=useReactTable({data:it,columns:lt,getCoreRowModel:getCoreRowModel()});return jsxs("table",{children:[jsx("thead",{children:st.getHeaderGroups().map(ct=>jsx("tr",{children:ct.headers.map(ut=>jsx("th",{children:ut.isPlaceholder?null:flexRender(ut.column.columnDef.header,ut.getContext())},ut.id))},ct.id))}),jsx("tbody",{children:st.getRowModel().rows.map(ct=>jsx("tr",{children:ct.getVisibleCells().map(ut=>jsx("td",{children:flexRender(ut.column.columnDef.cell,ut.getContext())},ut.id))},ct.id))})]})}function ExploreROIs(rt){let{image:it}=rt;if(!it)return jsx("div",{children:"No selected image"});let at=it.clone();it.channels>1&&(it=it.grey({algorithm:"blue"}));const lt=threshold(it,{algorithm:ThresholdAlgorithm.MINIMUM}).invert().clearBorder({}).invert();let ct=fromMask(lt).getRois({kind:RoiKind.BLACK,minSurface:100});const ut=[];for(const ft of ct){const dt=ft.getMask(),pt=ft.toJSON();if(pt.fillRatio<.9){const gt=extractTag(pt,dt);pt.tag=gt}else pt.tag={row:Number.NaN,column:Number.NaN};let ht;pt.fillRatio>.98?ht=[0,255,0,255]:pt.roundness<.5?ht=[0,0,0,255]:ht=[255,0,0,255],at.paintMask(dt,{origin:ft.origin,color:ht,out:at}),pt.crop=at.crop(ft),ut.push(pt)}return jsxs("div",{children:[jsx(ROIsTable,{data:ut}),jsx(ImageViewer$1,{image:at,zoom:.5,rois:ct})]})}function extractTag(rt,it){const at=getMedians(it),lt=codeToId(at.join("")),st=lt%13,ct=lt/13<<0;return Number.isNaN(st)||Number.isNaN(ct)?{row:Number.NaN,column:Number.NaN,raw:at.join("")}:{row:st,column:ct,raw:at.join(""),code:lt}}function getMedians(rt){const it=rt.width/5,at=rt.height/5,lt=[];for(let st=1;st<4;st++)for(let ct=1;ct<4;ct++){const ut=[];for(let ft=(it*ct<<0)+1;ft<it*(ct+1)-1;ft++)for(let dt=(at*st<<0)+1;dt<at*(st+1)-1;dt++)ut.push(rt.getBit(ft,dt)?1:0);lt.push(xMedian(ut))}return lt}function ExploreROIsWrapper(){const rt=reactExports.useContext(DataContext);return jsx(ExploreROIs,{image:rt.data.image})}function Code(rt){const{id:it,x:at,y:lt}=rt,st=idToCode(it),ct=["red","white"],ut=[];for(let ft=0;ft<9;ft++){const dt=st[ft],pt=ct[dt];ut.push(jsx("rect",{x:ft%3+1,y:Math.floor(ft/3)+1,width:"1",height:"1",strokeWidth:"0",stroke:pt,fill:pt}))}return jsxs("g",{transform:`translate(${at} ${lt})`,children:[jsx("rect",{x:"0.5",y:"0.5",width:"4",height:"4",strokeWidth:"1",stroke:"red",fill:"white"}),ut]})}const width=13,height=9,delta=25;function Template(){const rt=[];for(let at=0;at<width;at++)for(let lt=0;lt<height;lt++){const st=lt*width+at;rt.push(jsx(Code,{id:st,x:at*delta,y:lt*delta}))}return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:`0 0 ${(width+1)*delta} ${(height+1)*delta}`,children:rt})}var delayExports={},delay$1={get exports(){return delayExports},set exports(rt){delayExports=rt}};const randomInteger=(rt,it)=>Math.floor(Math.random()*(it-rt+1)+rt),createAbortError=()=>{const rt=new Error("Delay aborted");return rt.name="AbortError",rt},createDelay=({clearTimeout:rt,setTimeout:it,willResolve:at})=>(lt,{value:st,signal:ct}={})=>{if(ct&&ct.aborted)return Promise.reject(createAbortError());let ut,ft,dt;const pt=rt||clearTimeout,ht=()=>{pt(ut),dt(createAbortError())},gt=()=>{ct&&ct.removeEventListener("abort",ht)},mt=new Promise((xt,vt)=>{ft=()=>{gt(),at?xt(st):vt(st)},dt=vt,ut=(it||setTimeout)(ft,lt)});return ct&&ct.addEventListener("abort",ht,{once:!0}),mt.clear=()=>{pt(ut),ut=null,ft()},mt},createWithTimers=rt=>{const it=createDelay({...rt,willResolve:!0});return it.reject=createDelay({...rt,willResolve:!1}),it.range=(at,lt,st)=>it(randomInteger(at,lt),st),it},delay=createWithTimers();delay.createWithTimers=createWithTimers;delay$1.exports=delay;delayExports.default=delay;const STATUS_CREATED=0,STATUS_COMMAND_SENT=1,STATUS_ANSWER_PARTIALLY_RECEIVED=2,STATUS_ANSWER_RECEIVED=3,STATUS_RESOLVED=4,STATUS_ERROR$1=5;class Action{constructor(it,at={}){this.currentTimeout=void 0,this.command=it,this.timeout=at.timeout===void 0?1e3:at.timeout,this.answer="",this.status=STATUS_CREATED,this.creationTimestamp=Date.now(),this.promise=new Promise((lt,st)=>{this.reject=st,this.resolve=lt}),this.finishedPromise=new Promise(lt=>{this.finished=lt})}isFinished(){return this.status===STATUS_RESOLVED||this.status===STATUS_ERROR$1}setTimeout(){this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=setTimeout(()=>{this.status===STATUS_RESOLVED||this.status===STATUS_ERROR$1||(this.status=STATUS_ERROR$1,this.reject(`Timeout, waiting over ${this.timeout}ms`),this.finished())},this.timeout)}start(){this.startTimestamp=Date.now(),this.status=STATUS_COMMAND_SENT,this.setTimeout()}appendAnswer(it){let at=new TextDecoder().decode(it);if(this.status=STATUS_ANSWER_PARTIALLY_RECEIVED,this.answer+=at.replace(/\r/g,""),!this.answer.endsWith(`

`)&&this.answer!==`
`)return;let lt=this.answer.split(/\n/);lt.length>0&&lt[lt.length-1]===""&&(lt=lt.filter(st=>st),this.status=STATUS_ANSWER_RECEIVED,this.resolve(lt.join(`
`)),this.finished(),this.status=STATUS_RESOLVED)}}const debug=()=>{},STATUS_OPENING=1,STATUS_OPENED=2,STATUS_CLOSED=3,STATUS_MISSING=9,STATUS_ERROR=10;class Device{constructor(it,at={}){this.status=STATUS_OPENING,this.id=void 0,this.serialPort=it,this.baudRate=at.baudRate||115200,this.queue=[],this.action=void 0,this.interCommandDelay=at.interCommandDelay,this.defaultCommandExpirationDelay=2e3,this.encoder=new TextEncoder,this.decoder=new TextDecoder}isReady(){return this.status===STATUS_OPENED}async ensureProcessQueue(){return this.currentProcessQueue||(this.currentProcessQueue=this.runProcessQueue()),this.currentProcessQueue}async runProcessQueue(){for(;this.queue.length>0;)this.action=this.queue.shift(),this.action&&(this.action.start(),await this.write(`${this.action.command}
`),await this.read(this.action),await this.action.finishedPromise,this.action=void 0,await delayExports(this.interCommandDelay));this.currentProcessQueue=void 0}async getStatus(){return{value:this.status}}async ensureOpen(){if(this.status!==STATUS_OPENED)return this.open()}async open(){await this.serialPort.open({baudRate:this.baudRate}).catch(it=>{this.error(it),this.close()}).then(()=>{this.ensureOpen()}),this.reader=this.serialPort.readable.getReader(),this.writer=this.serialPort.writable.getWriter(),this.id=await this.get("uq"),this.status=STATUS_OPENED}async get(it,at={}){const{commandExpirationDelay:lt=this.defaultCommandExpirationDelay}=at,st=new Action(it,{timeout:lt});return this.queue.push(st),this.ensureProcessQueue(),st.promise}error(it){debug(`Error ${this.port.path}`),this.status=STATUS_ERROR,this.emit("adapter",{event:"Error",value:it})}close(){this.status=STATUS_CLOSED}async write(it){const at=this.encoder.encode(`${it}
`);return this.writer.write(at)}async read(it){for(;!it.isFinished();)it.appendAnswer((await this.reader.read()).value),delayExports(10)}}class EventEmitter{constructor(){this.callbacks={}}on(it,at){this.callbacks[it]||(this.callbacks[it]=[]),this.callbacks[it].push(at)}emit(it,at){let lt=this.callbacks[it];lt&&lt.forEach(st=>st(at))}}function checkSerial(rt){rt||(console.error("Web serial doesn't seem to be enabled in your browser. Try enabling it by visiting:"),console.error("chrome://flags/#enable-experimental-web-platform-features"),console.error("opera://flags/#enable-experimental-web-platform-features"),console.error("edge://flags/#enable-experimental-web-platform-features"))}class DevicesManager extends EventEmitter{constructor(it,at={}){super(),checkSerial(it),this.serial=it,this.devices=[],this.portFilter=at.portFilter===void 0?[{usbProductId:67,usbVendorId:9025},{usbProductId:37384,usbVendorId:6991},{usbProductId:6e4,usbVendorId:4292}]:at.portFilter,this.baudRate=at.baudRate||115200,this.interCommandDelay=at.interCommandDelay===void 0?100:at.interCommandDelay,this.defaultCommandExpirationDelay=at.defaultCommandExpirationDelay===void 0?100:at.defaultCommandExpirationDelay}async requestDevices(){return await this.serial.requestPort({filters:this.portFilter}),this.updateDevices()}async updateDevices(){const it=await this.serial.getPorts(),at=this.devices.filter(lt=>!it.includes(lt.serialPort));for(let lt of at)lt.status!==STATUS_MISSING&&lt.status!==STATUS_CLOSED&&lt.close(),lt.status=STATUS_MISSING;for(let lt of it){let st=this.devices.filter(ct=>ct.serialPort===lt)[0];if(st)await st.ensureOpen();else{let ct=new Device(lt,{baudRate:this.baudRate,interCommandDelay:this.interCommandDelay,defaultCommandExpirationDelay:this.defaultCommandExpirationDelay});this.devices.push(ct),await ct.open()}}}async continuousUpdateDevices(it={}){const{scanInterval:at=1e3,callback:lt}=it;for(;;)await this.updateDevices(),lt&&lt(this.devices),await delayExports(at)}getDevicesList(it={}){let{ready:at=!1}=it;return this.devices.filter(lt=>!at||lt.isReady()).map(lt=>({status:lt.status,id:lt.id,queueLength:lt.queue.length}))}findDevice(it){if(it===void 0)return;let at=this.devices.filter(lt=>lt.id===it&&lt.status===STATUS_OPENED);if(at.length!==0){if(at.length>1)throw new Error(`Many devices have the same id: ${it}`);return at[0]}}async sendCommand(it,at){const lt=this.findDevice(it);if(!lt)throw Error(`Device ${it} not found`);if(lt&&lt.isReady())return lt.get(at);throw Error(`Device ${it} not ready: ${lt.port.path}`)}}const devicesManager=new DevicesManager(navigator.serial);window.setInterval(()=>console.log(devicesManager),1e4);const requestDevices=async()=>{const rt=await devicesManager.requestDevices();console.log(rt)};function DeviceWrapper(rt){const[it,at]=reactExports.useState("");return jsxs("div",{children:[jsx("input",{type:"text",value:it,placeholder:"Enter command",onChange:lt=>at(lt.target.value)}),jsx("button",{onClick:()=>requestDevices(),children:"Request Device"})]})}function MyTabs(){return jsx("div",{className:"min-h-screen bg-neutral-200",children:jsx(SwitchTabs,{tabs:[{title:"Image viewer",content:jsx(ImageViewerWrapper,{})},{title:"Explore grey",content:jsx(ExploreGreyWrapper,{})},{title:"Explore mask",content:jsx(ExploreMaskWrapper,{})},{title:"Explore ROIs",content:jsx(ExploreROIsWrapper,{})},{title:"Webcam",content:jsx(WebcamWrapper,{})},{title:"Device",content:jsx(DeviceWrapper,{})},{title:"Template",content:jsx(Template,{})},{title:"Object inspector",content:jsx(ObjectInspectorWrapper,{})}],align:"center"})})}function App(){const[rt,it]=reactExports.useState({data:defaultDataValue,view:{},settings:{}}),at=getDataActions(rt,it);return jsx(GlobalContext.Provider,{value:{globalState:rt,setGlobalState:it},children:jsx(DataContext.Provider,{value:{data:rt.data,actions:at},children:jsxs("div",{children:[jsx(LoadImage,{}),jsx(MyTabs,{})]})})})}const index="";client.createRoot(document.querySelector("#root")).render(jsx(React$8.StrictMode,{children:jsx(App,{})}));
