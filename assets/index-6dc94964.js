var yr=Object.defineProperty;var $r=(_e,rt,at)=>rt in _e?yr(_e,rt,{enumerable:!0,configurable:!0,writable:!0,value:at}):_e[rt]=at;var Zn=(_e,rt,at)=>($r(_e,typeof rt!="symbol"?rt+"":rt,at),at);function _mergeNamespaces(_e,rt){for(var at=0;at<rt.length;at++){const lt=rt[at];if(typeof lt!="string"&&!Array.isArray(lt)){for(const st in lt)if(st!=="default"&&!(st in _e)){const ct=Object.getOwnPropertyDescriptor(lt,st);ct&&Object.defineProperty(_e,st,ct.get?ct:{enumerable:!0,get:()=>lt[st]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const rt=document.createElement("link").relList;if(rt&&rt.supports&&rt.supports("modulepreload"))return;for(const st of document.querySelectorAll('link[rel="modulepreload"]'))lt(st);new MutationObserver(st=>{for(const ct of st)if(ct.type==="childList")for(const ut of ct.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&lt(ut)}).observe(document,{childList:!0,subtree:!0});function at(st){const ct={};return st.integrity&&(ct.integrity=st.integrity),st.referrerPolicy&&(ct.referrerPolicy=st.referrerPolicy),st.crossOrigin==="use-credentials"?ct.credentials="include":st.crossOrigin==="anonymous"?ct.credentials="omit":ct.credentials="same-origin",ct}function lt(st){if(st.ep)return;st.ep=!0;const ct=at(st);fetch(st.href,ct)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(_e){jsxRuntimeExports=_e}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(_e){reactExports=_e}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$a=Symbol.for("react.element"),n$a=Symbol.for("react.portal"),p$c=Symbol.for("react.fragment"),q$7=Symbol.for("react.strict_mode"),r$9=Symbol.for("react.profiler"),t$9=Symbol.for("react.provider"),u$a=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$a=Symbol.for("react.suspense"),x$9=Symbol.for("react.memo"),y$9=Symbol.for("react.lazy"),z$9=Symbol.iterator;function A$6(_e){return _e===null||typeof _e!="object"?null:(_e=z$9&&_e[z$9]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$6=Object.assign,D$9={};function E$8(_e,rt,at){this.props=_e,this.context=rt,this.refs=D$9,this.updater=at||B$8}E$8.prototype.isReactComponent={};E$8.prototype.setState=function(_e,rt){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,rt,"setState")};E$8.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$6(){}F$6.prototype=E$8.prototype;function G$5(_e,rt,at){this.props=_e,this.context=rt,this.refs=D$9,this.updater=at||B$8}var H$6=G$5.prototype=new F$6;H$6.constructor=G$5;C$6(H$6,E$8.prototype);H$6.isPureReactComponent=!0;var I$6=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$7={key:!0,ref:!0,__self:!0,__source:!0};function M$6(_e,rt,at){var lt,st={},ct=null,ut=null;if(rt!=null)for(lt in rt.ref!==void 0&&(ut=rt.ref),rt.key!==void 0&&(ct=""+rt.key),rt)J$2.call(rt,lt)&&!L$7.hasOwnProperty(lt)&&(st[lt]=rt[lt]);var ft=arguments.length-2;if(ft===1)st.children=at;else if(1<ft){for(var dt=Array(ft),pt=0;pt<ft;pt++)dt[pt]=arguments[pt+2];st.children=dt}if(_e&&_e.defaultProps)for(lt in ft=_e.defaultProps,ft)st[lt]===void 0&&(st[lt]=ft[lt]);return{$$typeof:l$a,type:_e,key:ct,ref:ut,props:st,_owner:K$3.current}}function N$8(_e,rt){return{$$typeof:l$a,type:_e.type,key:rt,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$5(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$a}function escape(_e){var rt={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(at){return rt[at]})}var P$4=/\/+/g;function Q$3(_e,rt){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):rt.toString(36)}function R$6(_e,rt,at,lt,st){var ct=typeof _e;(ct==="undefined"||ct==="boolean")&&(_e=null);var ut=!1;if(_e===null)ut=!0;else switch(ct){case"string":case"number":ut=!0;break;case"object":switch(_e.$$typeof){case l$a:case n$a:ut=!0}}if(ut)return ut=_e,st=st(ut),_e=lt===""?"."+Q$3(ut,0):lt,I$6(st)?(at="",_e!=null&&(at=_e.replace(P$4,"$&/")+"/"),R$6(st,rt,at,"",function(pt){return pt})):st!=null&&(O$5(st)&&(st=N$8(st,at+(!st.key||ut&&ut.key===st.key?"":(""+st.key).replace(P$4,"$&/")+"/")+_e)),rt.push(st)),1;if(ut=0,lt=lt===""?".":lt+":",I$6(_e))for(var ft=0;ft<_e.length;ft++){ct=_e[ft];var dt=lt+Q$3(ct,ft);ut+=R$6(ct,rt,at,dt,st)}else if(dt=A$6(_e),typeof dt=="function")for(_e=dt.call(_e),ft=0;!(ct=_e.next()).done;)ct=ct.value,dt=lt+Q$3(ct,ft++),ut+=R$6(ct,rt,at,dt,st);else if(ct==="object")throw rt=String(_e),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.");return ut}function S$7(_e,rt,at){if(_e==null)return _e;var lt=[],st=0;return R$6(_e,lt,"","",function(ct){return rt.call(at,ct,st++)}),lt}function T$7(_e){if(_e._status===-1){var rt=_e._result;rt=rt(),rt.then(function(at){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=at)},function(at){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=at)}),_e._status===-1&&(_e._status=0,_e._result=rt)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$1={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$3};react_production_min.Children={map:S$7,forEach:function(_e,rt,at){S$7(_e,function(){rt.apply(this,arguments)},at)},count:function(_e){var rt=0;return S$7(_e,function(){rt++}),rt},toArray:function(_e){return S$7(_e,function(rt){return rt})||[]},only:function(_e){if(!O$5(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$8;react_production_min.Fragment=p$c;react_production_min.Profiler=r$9;react_production_min.PureComponent=G$5;react_production_min.StrictMode=q$7;react_production_min.Suspense=w$a;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(_e,rt,at){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var lt=C$6({},_e.props),st=_e.key,ct=_e.ref,ut=_e._owner;if(rt!=null){if(rt.ref!==void 0&&(ct=rt.ref,ut=K$3.current),rt.key!==void 0&&(st=""+rt.key),_e.type&&_e.type.defaultProps)var ft=_e.type.defaultProps;for(dt in rt)J$2.call(rt,dt)&&!L$7.hasOwnProperty(dt)&&(lt[dt]=rt[dt]===void 0&&ft!==void 0?ft[dt]:rt[dt])}var dt=arguments.length-2;if(dt===1)lt.children=at;else if(1<dt){ft=Array(dt);for(var pt=0;pt<dt;pt++)ft[pt]=arguments[pt+2];lt.children=ft}return{$$typeof:l$a,type:_e.type,key:st,ref:ct,props:lt,_owner:ut}};react_production_min.createContext=function(_e){return _e={$$typeof:u$a,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$9,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$6;react_production_min.createFactory=function(_e){var rt=M$6.bind(null,_e);return rt.type=_e,rt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$6,render:_e}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(_e){return{$$typeof:y$9,_payload:{_status:-1,_result:_e},_init:T$7}};react_production_min.memo=function(_e,rt){return{$$typeof:x$9,type:_e,compare:rt===void 0?null:rt}};react_production_min.startTransition=function(_e){var rt=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=rt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,rt){return U$3.current.useCallback(_e,rt)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,rt){return U$3.current.useEffect(_e,rt)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,rt,at){return U$3.current.useImperativeHandle(_e,rt,at)};react_production_min.useInsertionEffect=function(_e,rt){return U$3.current.useInsertionEffect(_e,rt)};react_production_min.useLayoutEffect=function(_e,rt){return U$3.current.useLayoutEffect(_e,rt)};react_production_min.useMemo=function(_e,rt){return U$3.current.useMemo(_e,rt)};react_production_min.useReducer=function(_e,rt,at){return U$3.current.useReducer(_e,rt,at)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,rt,at){return U$3.current.useSyncExternalStore(_e,rt,at)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";(function(_e){_e.exports=react_production_min})(react);const React$8=getDefaultExportFromCjs(reactExports),e$6=_mergeNamespaces({__proto__:null,default:React$8},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k$7=Symbol.for("react.element"),l$9=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$9=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$b={key:!0,ref:!0,__self:!0,__source:!0};function q$6(_e,rt,at){var lt,st={},ct=null,ut=null;at!==void 0&&(ct=""+at),rt.key!==void 0&&(ct=""+rt.key),rt.ref!==void 0&&(ut=rt.ref);for(lt in rt)m$7.call(rt,lt)&&!p$b.hasOwnProperty(lt)&&(st[lt]=rt[lt]);if(_e&&_e.defaultProps)for(lt in rt=_e.defaultProps,rt)st[lt]===void 0&&(st[lt]=rt[lt]);return{$$typeof:k$7,type:_e,key:ct,ref:ut,props:st,_owner:n$9.current}}reactJsxRuntime_production_min.Fragment=l$9;reactJsxRuntime_production_min.jsx=q$6;reactJsxRuntime_production_min.jsxs=q$6;(function(_e){_e.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(_e){reactDomExports=_e}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(_e){schedulerExports=_e}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function rt(Lt,Bt){var Ut=Lt.length;Lt.push(Bt);e:for(;0<Ut;){var dn=Ut-1>>>1,Zt=Lt[dn];if(0<st(Zt,Bt))Lt[dn]=Bt,Lt[Ut]=Zt,Ut=dn;else break e}}function at(Lt){return Lt.length===0?null:Lt[0]}function lt(Lt){if(Lt.length===0)return null;var Bt=Lt[0],Ut=Lt.pop();if(Ut!==Bt){Lt[0]=Ut;e:for(var dn=0,Zt=Lt.length,cn=Zt>>>1;dn<cn;){var Gt=2*(dn+1)-1,Yt=Lt[Gt],pn=Gt+1,$n=Lt[pn];if(0>st(Yt,Ut))pn<Zt&&0>st($n,Yt)?(Lt[dn]=$n,Lt[pn]=Ut,dn=pn):(Lt[dn]=Yt,Lt[Gt]=Ut,dn=Gt);else if(pn<Zt&&0>st($n,Ut))Lt[dn]=$n,Lt[pn]=Ut,dn=pn;else break e}}return Bt}function st(Lt,Bt){var Ut=Lt.sortIndex-Bt.sortIndex;return Ut!==0?Ut:Lt.id-Bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ct=performance;_e.unstable_now=function(){return ct.now()}}else{var ut=Date,ft=ut.now();_e.unstable_now=function(){return ut.now()-ft}}var dt=[],pt=[],ht=1,gt=null,mt=3,xt=!1,vt=!1,yt=!1,_t=typeof setTimeout=="function"?setTimeout:null,$t=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function wt(Lt){for(var Bt=at(pt);Bt!==null;){if(Bt.callback===null)lt(pt);else if(Bt.startTime<=Lt)lt(pt),Bt.sortIndex=Bt.expirationTime,rt(dt,Bt);else break;Bt=at(pt)}}function bt(Lt){if(yt=!1,wt(Lt),!vt)if(at(dt)!==null)vt=!0,Wt(St);else{var Bt=at(pt);Bt!==null&&Xt(bt,Bt.startTime-Lt)}}function St(Lt,Bt){vt=!1,yt&&(yt=!1,$t(kt),kt=-1),xt=!0;var Ut=mt;try{for(wt(Bt),gt=at(dt);gt!==null&&(!(gt.expirationTime>Bt)||Lt&&!Mt());){var dn=gt.callback;if(typeof dn=="function"){gt.callback=null,mt=gt.priorityLevel;var Zt=dn(gt.expirationTime<=Bt);Bt=_e.unstable_now(),typeof Zt=="function"?gt.callback=Zt:gt===at(dt)&&lt(dt),wt(Bt)}else lt(dt);gt=at(dt)}if(gt!==null)var cn=!0;else{var Gt=at(pt);Gt!==null&&Xt(bt,Gt.startTime-Bt),cn=!1}return cn}finally{gt=null,mt=Ut,xt=!1}}var Tt=!1,Rt=null,kt=-1,At=5,Ct=-1;function Mt(){return!(_e.unstable_now()-Ct<At)}function Ot(){if(Rt!==null){var Lt=_e.unstable_now();Ct=Lt;var Bt=!0;try{Bt=Rt(!0,Lt)}finally{Bt?Pt():(Tt=!1,Rt=null)}}else Tt=!1}var Pt;if(typeof Et=="function")Pt=function(){Et(Ot)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Ft=It.port2;It.port1.onmessage=Ot,Pt=function(){Ft.postMessage(null)}}else Pt=function(){_t(Ot,0)};function Wt(Lt){Rt=Lt,Tt||(Tt=!0,Pt())}function Xt(Lt,Bt){kt=_t(function(){Lt(_e.unstable_now())},Bt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Lt){Lt.callback=null},_e.unstable_continueExecution=function(){vt||xt||(vt=!0,Wt(St))},_e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<Lt?Math.floor(1e3/Lt):5},_e.unstable_getCurrentPriorityLevel=function(){return mt},_e.unstable_getFirstCallbackNode=function(){return at(dt)},_e.unstable_next=function(Lt){switch(mt){case 1:case 2:case 3:var Bt=3;break;default:Bt=mt}var Ut=mt;mt=Bt;try{return Lt()}finally{mt=Ut}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Lt,Bt){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var Ut=mt;mt=Lt;try{return Bt()}finally{mt=Ut}},_e.unstable_scheduleCallback=function(Lt,Bt,Ut){var dn=_e.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?dn+Ut:dn):Ut=dn,Lt){case 1:var Zt=-1;break;case 2:Zt=250;break;case 5:Zt=1073741823;break;case 4:Zt=1e4;break;default:Zt=5e3}return Zt=Ut+Zt,Lt={id:ht++,callback:Bt,priorityLevel:Lt,startTime:Ut,expirationTime:Zt,sortIndex:-1},Ut>dn?(Lt.sortIndex=Ut,rt(pt,Lt),at(dt)===null&&Lt===at(pt)&&(yt?($t(kt),kt=-1):yt=!0,Xt(bt,Ut-dn))):(Lt.sortIndex=Zt,rt(dt,Lt),vt||xt||(vt=!0,Wt(St))),Lt},_e.unstable_shouldYield=Mt,_e.unstable_wrapCallback=function(Lt){var Bt=mt;return function(){var Ut=mt;mt=Bt;try{return Lt.apply(this,arguments)}finally{mt=Ut}}}})(scheduler_production_min);(function(_e){_e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca$2=schedulerExports;function p$a(_e){for(var rt="https://reactjs.org/docs/error-decoder.html?invariant="+_e,at=1;at<arguments.length;at++)rt+="&args[]="+encodeURIComponent(arguments[at]);return"Minified React error #"+_e+"; visit "+rt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(_e,rt){ha(_e,rt),ha(_e+"Capture",rt)}function ha(_e,rt){for(ea$1[_e]=rt,_e=0;_e<rt.length;_e++)da$1.add(rt[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma={};function oa(_e){return ja$1.call(ma,_e)?!0:ja$1.call(la$1,_e)?!1:ka$1.test(_e)?ma[_e]=!0:(la$1[_e]=!0,!1)}function pa(_e,rt,at,lt){if(at!==null&&at.type===0)return!1;switch(typeof rt){case"function":case"symbol":return!0;case"boolean":return lt?!1:at!==null?!at.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa$1(_e,rt,at,lt){if(rt===null||typeof rt>"u"||pa(_e,rt,at,lt))return!0;if(lt)return!1;if(at!==null)switch(at.type){case 3:return!rt;case 4:return rt===!1;case 5:return isNaN(rt);case 6:return isNaN(rt)||1>rt}return!1}function v$5(_e,rt,at,lt,st,ct,ut){this.acceptsBooleans=rt===2||rt===3||rt===4,this.attributeName=lt,this.attributeNamespace=st,this.mustUseProperty=at,this.propertyName=_e,this.type=rt,this.sanitizeURL=ct,this.removeEmptyString=ut}var z$8={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$8[_e]=new v$5(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var rt=_e[0];z$8[rt]=new v$5(rt,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$8[_e]=new v$5(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$8[_e]=new v$5(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$8[_e]=new v$5(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$8[_e]=new v$5(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$8[_e]=new v$5(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$8[_e]=new v$5(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$8[_e]=new v$5(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var rt=_e.replace(ra$1,sa$1);z$8[rt]=new v$5(rt,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var rt=_e.replace(ra$1,sa$1);z$8[rt]=new v$5(rt,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var rt=_e.replace(ra$1,sa$1);z$8[rt]=new v$5(rt,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$8[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$8.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$8[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta$1(_e,rt,at,lt){var st=z$8.hasOwnProperty(rt)?z$8[rt]:null;(st!==null?st.type!==0:lt||!(2<rt.length)||rt[0]!=="o"&&rt[0]!=="O"||rt[1]!=="n"&&rt[1]!=="N")&&(qa$1(rt,at,st,lt)&&(at=null),lt||st===null?oa(rt)&&(at===null?_e.removeAttribute(rt):_e.setAttribute(rt,""+at)):st.mustUseProperty?_e[st.propertyName]=at===null?st.type===3?!1:"":at:(rt=st.attributeName,lt=st.attributeNamespace,at===null?_e.removeAttribute(rt):(st=st.type,at=st===3||st===4&&at===!0?"":""+at,lt?_e.setAttributeNS(lt,rt,at):_e.setAttribute(rt,at))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(_e){return _e===null||typeof _e!="object"?null:(_e=Ja$1&&_e[Ja$1]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$5=Object.assign,La$1;function Ma$1(_e){if(La$1===void 0)try{throw Error()}catch(at){var rt=at.stack.trim().match(/\n( *(at )?)/);La$1=rt&&rt[1]||""}return`
`+La$1+_e}var Na$1=!1;function Oa$1(_e,rt){if(!_e||Na$1)return"";Na$1=!0;var at=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(rt)if(rt=function(){throw Error()},Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(pt){var lt=pt}Reflect.construct(_e,[],rt)}else{try{rt.call()}catch(pt){lt=pt}_e.call(rt.prototype)}else{try{throw Error()}catch(pt){lt=pt}_e()}}catch(pt){if(pt&&lt&&typeof pt.stack=="string"){for(var st=pt.stack.split(`
`),ct=lt.stack.split(`
`),ut=st.length-1,ft=ct.length-1;1<=ut&&0<=ft&&st[ut]!==ct[ft];)ft--;for(;1<=ut&&0<=ft;ut--,ft--)if(st[ut]!==ct[ft]){if(ut!==1||ft!==1)do if(ut--,ft--,0>ft||st[ut]!==ct[ft]){var dt=`
`+st[ut].replace(" at new "," at ");return _e.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",_e.displayName)),dt}while(1<=ut&&0<=ft);break}}}finally{Na$1=!1,Error.prepareStackTrace=at}return(_e=_e?_e.displayName||_e.name:"")?Ma$1(_e):""}function Pa$1(_e){switch(_e.tag){case 5:return Ma$1(_e.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return _e=Oa$1(_e.type,!1),_e;case 11:return _e=Oa$1(_e.type.render,!1),_e;case 1:return _e=Oa$1(_e.type,!0),_e;default:return""}}function Qa$1(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca$1:return(_e.displayName||"Context")+".Consumer";case Ba$1:return(_e._context.displayName||"Context")+".Provider";case Da$1:var rt=_e.render;return _e=_e.displayName,_e||(_e=rt.displayName||rt.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga$1:return rt=_e.displayName||null,rt!==null?rt:Qa$1(_e.type)||"Memo";case Ha$1:rt=_e._payload,_e=_e._init;try{return Qa$1(_e(rt))}catch{}}return null}function Ra$1(_e){var rt=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(rt.displayName||"Context")+".Consumer";case 10:return(rt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=rt.render,_e=_e.displayName||_e.name||"",rt.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return rt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(rt);case 8:return rt===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof rt=="function")return rt.displayName||rt.name||null;if(typeof rt=="string")return rt}return null}function Sa$1(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta$1(_e){var rt=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(rt==="checkbox"||rt==="radio")}function Ua$1(_e){var rt=Ta$1(_e)?"checked":"value",at=Object.getOwnPropertyDescriptor(_e.constructor.prototype,rt),lt=""+_e[rt];if(!_e.hasOwnProperty(rt)&&typeof at<"u"&&typeof at.get=="function"&&typeof at.set=="function"){var st=at.get,ct=at.set;return Object.defineProperty(_e,rt,{configurable:!0,get:function(){return st.call(this)},set:function(ut){lt=""+ut,ct.call(this,ut)}}),Object.defineProperty(_e,rt,{enumerable:at.enumerable}),{getValue:function(){return lt},setValue:function(ut){lt=""+ut},stopTracking:function(){_e._valueTracker=null,delete _e[rt]}}}}function Va$1(_e){_e._valueTracker||(_e._valueTracker=Ua$1(_e))}function Wa$1(_e){if(!_e)return!1;var rt=_e._valueTracker;if(!rt)return!0;var at=rt.getValue(),lt="";return _e&&(lt=Ta$1(_e)?_e.checked?"true":"false":_e.value),_e=lt,_e!==at?(rt.setValue(_e),!0):!1}function Xa$1(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya$1(_e,rt){var at=rt.checked;return A$5({},rt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:at??_e._wrapperState.initialChecked})}function Za$1(_e,rt){var at=rt.defaultValue==null?"":rt.defaultValue,lt=rt.checked!=null?rt.checked:rt.defaultChecked;at=Sa$1(rt.value!=null?rt.value:at),_e._wrapperState={initialChecked:lt,initialValue:at,controlled:rt.type==="checkbox"||rt.type==="radio"?rt.checked!=null:rt.value!=null}}function ab$1(_e,rt){rt=rt.checked,rt!=null&&ta$1(_e,"checked",rt,!1)}function bb$1(_e,rt){ab$1(_e,rt);var at=Sa$1(rt.value),lt=rt.type;if(at!=null)lt==="number"?(at===0&&_e.value===""||_e.value!=at)&&(_e.value=""+at):_e.value!==""+at&&(_e.value=""+at);else if(lt==="submit"||lt==="reset"){_e.removeAttribute("value");return}rt.hasOwnProperty("value")?cb$1(_e,rt.type,at):rt.hasOwnProperty("defaultValue")&&cb$1(_e,rt.type,Sa$1(rt.defaultValue)),rt.checked==null&&rt.defaultChecked!=null&&(_e.defaultChecked=!!rt.defaultChecked)}function db$1(_e,rt,at){if(rt.hasOwnProperty("value")||rt.hasOwnProperty("defaultValue")){var lt=rt.type;if(!(lt!=="submit"&&lt!=="reset"||rt.value!==void 0&&rt.value!==null))return;rt=""+_e._wrapperState.initialValue,at||rt===_e.value||(_e.value=rt),_e.defaultValue=rt}at=_e.name,at!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,at!==""&&(_e.name=at)}function cb$1(_e,rt,at){(rt!=="number"||Xa$1(_e.ownerDocument)!==_e)&&(at==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+at&&(_e.defaultValue=""+at))}var eb$1=Array.isArray;function fb$1(_e,rt,at,lt){if(_e=_e.options,rt){rt={};for(var st=0;st<at.length;st++)rt["$"+at[st]]=!0;for(at=0;at<_e.length;at++)st=rt.hasOwnProperty("$"+_e[at].value),_e[at].selected!==st&&(_e[at].selected=st),st&&lt&&(_e[at].defaultSelected=!0)}else{for(at=""+Sa$1(at),rt=null,st=0;st<_e.length;st++){if(_e[st].value===at){_e[st].selected=!0,lt&&(_e[st].defaultSelected=!0);return}rt!==null||_e[st].disabled||(rt=_e[st])}rt!==null&&(rt.selected=!0)}}function gb$1(_e,rt){if(rt.dangerouslySetInnerHTML!=null)throw Error(p$a(91));return A$5({},rt,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,rt){var at=rt.value;if(at==null){if(at=rt.children,rt=rt.defaultValue,at!=null){if(rt!=null)throw Error(p$a(92));if(eb$1(at)){if(1<at.length)throw Error(p$a(93));at=at[0]}rt=at}rt==null&&(rt=""),at=rt}_e._wrapperState={initialValue:Sa$1(at)}}function ib(_e,rt){var at=Sa$1(rt.value),lt=Sa$1(rt.defaultValue);at!=null&&(at=""+at,at!==_e.value&&(_e.value=at),rt.defaultValue==null&&_e.defaultValue!==at&&(_e.defaultValue=at)),lt!=null&&(_e.defaultValue=""+lt)}function jb(_e){var rt=_e.textContent;rt===_e._wrapperState.initialValue&&rt!==""&&rt!==null&&(_e.value=rt)}function kb$1(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(_e,rt){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb$1(rt):_e==="http://www.w3.org/2000/svg"&&rt==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb$1,nb$1=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(rt,at,lt,st){MSApp.execUnsafeLocalFunction(function(){return _e(rt,at,lt,st)})}:_e}(function(_e,rt){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=rt;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+rt.valueOf().toString()+"</svg>",rt=mb$1.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;rt.firstChild;)_e.appendChild(rt.firstChild)}});function ob$1(_e,rt){if(rt){var at=_e.firstChild;if(at&&at===_e.lastChild&&at.nodeType===3){at.nodeValue=rt;return}}_e.textContent=rt}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(_e){qb$1.forEach(function(rt){rt=rt+_e.charAt(0).toUpperCase()+_e.substring(1),pb$1[rt]=pb$1[_e]})});function rb$1(_e,rt,at){return rt==null||typeof rt=="boolean"||rt===""?"":at||typeof rt!="number"||rt===0||pb$1.hasOwnProperty(_e)&&pb$1[_e]?(""+rt).trim():rt+"px"}function sb$1(_e,rt){_e=_e.style;for(var at in rt)if(rt.hasOwnProperty(at)){var lt=at.indexOf("--")===0,st=rb$1(at,rt[at],lt);at==="float"&&(at="cssFloat"),lt?_e.setProperty(at,st):_e[at]=st}}var tb$1=A$5({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(_e,rt){if(rt){if(tb$1[_e]&&(rt.children!=null||rt.dangerouslySetInnerHTML!=null))throw Error(p$a(137,_e));if(rt.dangerouslySetInnerHTML!=null){if(rt.children!=null)throw Error(p$a(60));if(typeof rt.dangerouslySetInnerHTML!="object"||!("__html"in rt.dangerouslySetInnerHTML))throw Error(p$a(61))}if(rt.style!=null&&typeof rt.style!="object")throw Error(p$a(62))}}function vb$1(_e,rt){if(_e.indexOf("-")===-1)return typeof rt.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(_e){if(_e=Cb$1(_e)){if(typeof yb$1!="function")throw Error(p$a(280));var rt=_e.stateNode;rt&&(rt=Db$1(rt),yb$1(_e.stateNode,_e.type,rt))}}function Eb$1(_e){zb$1?Ab$1?Ab$1.push(_e):Ab$1=[_e]:zb$1=_e}function Fb$1(){if(zb$1){var _e=zb$1,rt=Ab$1;if(Ab$1=zb$1=null,Bb$1(_e),rt)for(_e=0;_e<rt.length;_e++)Bb$1(rt[_e])}}function Gb$1(_e,rt){return _e(rt)}function Hb$1(){}var Ib$1=!1;function Jb(_e,rt,at){if(Ib$1)return _e(rt,at);Ib$1=!0;try{return Gb$1(_e,rt,at)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb(_e,rt){var at=_e.stateNode;if(at===null)return null;var lt=Db$1(at);if(lt===null)return null;at=lt[rt];e:switch(rt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lt=!lt.disabled)||(_e=_e.type,lt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!lt;break e;default:_e=!1}if(_e)return null;if(at&&typeof at!="function")throw Error(p$a(231,rt,typeof at));return at}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,rt,at,lt,st,ct,ut,ft,dt){var pt=Array.prototype.slice.call(arguments,3);try{rt.apply(at,pt)}catch(ht){this.onError(ht)}}var Ob=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(_e){Ob=!0,Pb$1=_e}};function Tb$1(_e,rt,at,lt,st,ct,ut,ft,dt){Ob=!1,Pb$1=null,Nb.apply(Sb$1,arguments)}function Ub$1(_e,rt,at,lt,st,ct,ut,ft,dt){if(Tb$1.apply(this,arguments),Ob){if(Ob){var pt=Pb$1;Ob=!1,Pb$1=null}else throw Error(p$a(198));Qb$1||(Qb$1=!0,Rb$1=pt)}}function Vb$1(_e){var rt=_e,at=_e;if(_e.alternate)for(;rt.return;)rt=rt.return;else{_e=rt;do rt=_e,rt.flags&4098&&(at=rt.return),_e=rt.return;while(_e)}return rt.tag===3?at:null}function Wb$1(_e){if(_e.tag===13){var rt=_e.memoizedState;if(rt===null&&(_e=_e.alternate,_e!==null&&(rt=_e.memoizedState)),rt!==null)return rt.dehydrated}return null}function Xb$1(_e){if(Vb$1(_e)!==_e)throw Error(p$a(188))}function Yb$1(_e){var rt=_e.alternate;if(!rt){if(rt=Vb$1(_e),rt===null)throw Error(p$a(188));return rt!==_e?null:_e}for(var at=_e,lt=rt;;){var st=at.return;if(st===null)break;var ct=st.alternate;if(ct===null){if(lt=st.return,lt!==null){at=lt;continue}break}if(st.child===ct.child){for(ct=st.child;ct;){if(ct===at)return Xb$1(st),_e;if(ct===lt)return Xb$1(st),rt;ct=ct.sibling}throw Error(p$a(188))}if(at.return!==lt.return)at=st,lt=ct;else{for(var ut=!1,ft=st.child;ft;){if(ft===at){ut=!0,at=st,lt=ct;break}if(ft===lt){ut=!0,lt=st,at=ct;break}ft=ft.sibling}if(!ut){for(ft=ct.child;ft;){if(ft===at){ut=!0,at=ct,lt=st;break}if(ft===lt){ut=!0,lt=ct,at=st;break}ft=ft.sibling}if(!ut)throw Error(p$a(189))}}if(at.alternate!==lt)throw Error(p$a(190))}if(at.tag!==3)throw Error(p$a(188));return at.stateNode.current===at?_e:rt}function Zb$1(_e){return _e=Yb$1(_e),_e!==null?$b$1(_e):null}function $b$1(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var rt=$b$1(_e);if(rt!==null)return rt;_e=_e.sibling}return null}var ac$1=ca$2.unstable_scheduleCallback,bc$1=ca$2.unstable_cancelCallback,cc$1=ca$2.unstable_shouldYield,dc$1=ca$2.unstable_requestPaint,B$7=ca$2.unstable_now,ec$1=ca$2.unstable_getCurrentPriorityLevel,fc$1=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$1=ca$2.unstable_NormalPriority,ic$1=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(_e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(_e){return _e>>>=0,_e===0?32:31-(pc$1(_e)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc$1(_e,rt){var at=_e.pendingLanes;if(at===0)return 0;var lt=0,st=_e.suspendedLanes,ct=_e.pingedLanes,ut=at&268435455;if(ut!==0){var ft=ut&~st;ft!==0?lt=tc$1(ft):(ct&=ut,ct!==0&&(lt=tc$1(ct)))}else ut=at&~st,ut!==0?lt=tc$1(ut):ct!==0&&(lt=tc$1(ct));if(lt===0)return 0;if(rt!==0&&rt!==lt&&!(rt&st)&&(st=lt&-lt,ct=rt&-rt,st>=ct||st===16&&(ct&4194240)!==0))return rt;if(lt&4&&(lt|=at&16),rt=_e.entangledLanes,rt!==0)for(_e=_e.entanglements,rt&=lt;0<rt;)at=31-oc$1(rt),st=1<<at,lt|=_e[at],rt&=~st;return lt}function vc$1(_e,rt){switch(_e){case 1:case 2:case 4:return rt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(_e,rt){for(var at=_e.suspendedLanes,lt=_e.pingedLanes,st=_e.expirationTimes,ct=_e.pendingLanes;0<ct;){var ut=31-oc$1(ct),ft=1<<ut,dt=st[ut];dt===-1?(!(ft&at)||ft&lt)&&(st[ut]=vc$1(ft,rt)):dt<=rt&&(_e.expiredLanes|=ft),ct&=~ft}}function xc$1(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc$1(){var _e=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),_e}function zc$1(_e){for(var rt=[],at=0;31>at;at++)rt.push(_e);return rt}function Ac$1(_e,rt,at){_e.pendingLanes|=rt,rt!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,rt=31-oc$1(rt),_e[rt]=at}function Bc$1(_e,rt){var at=_e.pendingLanes&~rt;_e.pendingLanes=rt,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=rt,_e.mutableReadLanes&=rt,_e.entangledLanes&=rt,rt=_e.entanglements;var lt=_e.eventTimes;for(_e=_e.expirationTimes;0<at;){var st=31-oc$1(at),ct=1<<st;rt[st]=0,lt[st]=-1,_e[st]=-1,at&=~ct}}function Cc$1(_e,rt){var at=_e.entangledLanes|=rt;for(_e=_e.entanglements;at;){var lt=31-oc$1(at),st=1<<lt;st&rt|_e[lt]&rt&&(_e[lt]|=rt),at&=~st}}var C$5=0;function Dc$1(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(_e,rt){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(rt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(rt.pointerId)}}function Tc$1(_e,rt,at,lt,st,ct){return _e===null||_e.nativeEvent!==ct?(_e={blockedOn:rt,domEventName:at,eventSystemFlags:lt,nativeEvent:ct,targetContainers:[st]},rt!==null&&(rt=Cb$1(rt),rt!==null&&Fc$1(rt)),_e):(_e.eventSystemFlags|=lt,rt=_e.targetContainers,st!==null&&rt.indexOf(st)===-1&&rt.push(st),_e)}function Uc$1(_e,rt,at,lt,st){switch(rt){case"focusin":return Lc=Tc$1(Lc,_e,rt,at,lt,st),!0;case"dragenter":return Mc=Tc$1(Mc,_e,rt,at,lt,st),!0;case"mouseover":return Nc=Tc$1(Nc,_e,rt,at,lt,st),!0;case"pointerover":var ct=st.pointerId;return Oc.set(ct,Tc$1(Oc.get(ct)||null,_e,rt,at,lt,st)),!0;case"gotpointercapture":return ct=st.pointerId,Pc.set(ct,Tc$1(Pc.get(ct)||null,_e,rt,at,lt,st)),!0}return!1}function Vc$1(_e){var rt=Wc$1(_e.target);if(rt!==null){var at=Vb$1(rt);if(at!==null){if(rt=at.tag,rt===13){if(rt=Wb$1(at),rt!==null){_e.blockedOn=rt,Ic$1(_e.priority,function(){Gc$1(at)});return}}else if(rt===3&&at.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=at.tag===3?at.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc$1(_e){if(_e.blockedOn!==null)return!1;for(var rt=_e.targetContainers;0<rt.length;){var at=Yc$1(_e.domEventName,_e.eventSystemFlags,rt[0],_e.nativeEvent);if(at===null){at=_e.nativeEvent;var lt=new at.constructor(at.type,at);wb$1=lt,at.target.dispatchEvent(lt),wb$1=null}else return rt=Cb$1(at),rt!==null&&Fc$1(rt),_e.blockedOn=at,!1;rt.shift()}return!0}function Zc$1(_e,rt,at){Xc$1(_e)&&at.delete(rt)}function $c$1(){Jc=!1,Lc!==null&&Xc$1(Lc)&&(Lc=null),Mc!==null&&Xc$1(Mc)&&(Mc=null),Nc!==null&&Xc$1(Nc)&&(Nc=null),Oc.forEach(Zc$1),Pc.forEach(Zc$1)}function ad$1(_e,rt){_e.blockedOn===rt&&(_e.blockedOn=null,Jc||(Jc=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$1)))}function bd$1(_e){function rt(st){return ad$1(st,_e)}if(0<Kc.length){ad$1(Kc[0],_e);for(var at=1;at<Kc.length;at++){var lt=Kc[at];lt.blockedOn===_e&&(lt.blockedOn=null)}}for(Lc!==null&&ad$1(Lc,_e),Mc!==null&&ad$1(Mc,_e),Nc!==null&&ad$1(Nc,_e),Oc.forEach(rt),Pc.forEach(rt),at=0;at<Qc.length;at++)lt=Qc[at],lt.blockedOn===_e&&(lt.blockedOn=null);for(;0<Qc.length&&(at=Qc[0],at.blockedOn===null);)Vc$1(at),at.blockedOn===null&&Qc.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(_e,rt,at,lt){var st=C$5,ct=cd$1.transition;cd$1.transition=null;try{C$5=1,fd$1(_e,rt,at,lt)}finally{C$5=st,cd$1.transition=ct}}function gd$1(_e,rt,at,lt){var st=C$5,ct=cd$1.transition;cd$1.transition=null;try{C$5=4,fd$1(_e,rt,at,lt)}finally{C$5=st,cd$1.transition=ct}}function fd$1(_e,rt,at,lt){if(dd$1){var st=Yc$1(_e,rt,at,lt);if(st===null)hd$1(_e,rt,lt,id$1,at),Sc$1(_e,lt);else if(Uc$1(st,_e,rt,at,lt))lt.stopPropagation();else if(Sc$1(_e,lt),rt&4&&-1<Rc$1.indexOf(_e)){for(;st!==null;){var ct=Cb$1(st);if(ct!==null&&Ec$1(ct),ct=Yc$1(_e,rt,at,lt),ct===null&&hd$1(_e,rt,lt,id$1,at),ct===st)break;st=ct}st!==null&&lt.stopPropagation()}else hd$1(_e,rt,lt,null,at)}}var id$1=null;function Yc$1(_e,rt,at,lt){if(id$1=null,_e=xb$1(lt),_e=Wc$1(_e),_e!==null)if(rt=Vb$1(_e),rt===null)_e=null;else if(at=rt.tag,at===13){if(_e=Wb$1(rt),_e!==null)return _e;_e=null}else if(at===3){if(rt.stateNode.current.memoizedState.isDehydrated)return rt.tag===3?rt.stateNode.containerInfo:null;_e=null}else rt!==_e&&(_e=null);return id$1=_e,null}function jd$1(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var _e,rt=ld$1,at=rt.length,lt,st="value"in kd$1?kd$1.value:kd$1.textContent,ct=st.length;for(_e=0;_e<at&&rt[_e]===st[_e];_e++);var ut=at-_e;for(lt=1;lt<=ut&&rt[at-lt]===st[ct-lt];lt++);return md$1=st.slice(_e,1<lt?1-lt:void 0)}function od$1(_e){var rt=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&rt===13&&(_e=13)):_e=rt,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(_e){function rt(at,lt,st,ct,ut){this._reactName=at,this._targetInst=st,this.type=lt,this.nativeEvent=ct,this.target=ut,this.currentTarget=null;for(var ft in _e)_e.hasOwnProperty(ft)&&(at=_e[ft],this[ft]=at?at(ct):ct[ft]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$5(rt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var at=this.nativeEvent;at&&(at.preventDefault?at.preventDefault():typeof at.returnValue!="unknown"&&(at.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var at=this.nativeEvent;at&&(at.stopPropagation?at.stopPropagation():typeof at.cancelBubble!="unknown"&&(at.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),rt}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$5({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$5({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd$1&&(yd$1&&_e.type==="mousemove"?(wd$1=_e.screenX-yd$1.screenX,xd$1=_e.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=_e),wd$1)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$5({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$5({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$5({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$5({},sd$1,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$5({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(_e){var rt=this.nativeEvent;return rt.getModifierState?rt.getModifierState(_e):(_e=Od$1[_e])?!!rt[_e]:!1}function zd$1(){return Pd$1}var Qd$1=A$5({},ud$1,{key:function(_e){if(_e.key){var rt=Md$1[_e.key]||_e.key;if(rt!=="Unidentified")return rt}return _e.type==="keypress"?(_e=od$1(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd$1[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(_e){return _e.type==="keypress"?od$1(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od$1(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$5({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$5({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$5({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$5({},Ad$1,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(_e,rt){switch(_e){case"keyup":return $d$1.indexOf(rt.keyCode)!==-1;case"keydown":return rt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je$2(_e,rt){switch(_e){case"compositionend":return he$1(rt);case"keypress":return rt.which!==32?null:(fe$1=!0,ee$1);case"textInput":return _e=rt.data,_e===ee$1&&fe$1?null:_e;default:return null}}function ke$1(_e,rt){if(ie$1)return _e==="compositionend"||!ae$1&&ge$1(_e,rt)?(_e=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(rt.ctrlKey||rt.altKey||rt.metaKey)||rt.ctrlKey&&rt.altKey){if(rt.char&&1<rt.char.length)return rt.char;if(rt.which)return String.fromCharCode(rt.which)}return null;case"compositionend":return de$1&&rt.locale!=="ko"?null:rt.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var rt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return rt==="input"?!!le$1[_e.type]:rt==="textarea"}function ne$1(_e,rt,at,lt){Eb$1(lt),rt=oe$1(rt,"onChange"),0<rt.length&&(at=new td$1("onChange","change",null,at,lt),_e.push({event:at,listeners:rt}))}var pe$1=null,qe$2=null;function re$2(_e){se$1(_e,0)}function te$1(_e){var rt=ue$1(_e);if(Wa$1(rt))return _e}function ve(_e,rt){if(_e==="change")return rt}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$2=pe$1=null)}function Be$1(_e){if(_e.propertyName==="value"&&te$1(qe$2)){var rt=[];ne$1(rt,qe$2,_e,xb$1(_e)),Jb(re$2,rt)}}function Ce(_e,rt,at){_e==="focusin"?(Ae(),pe$1=rt,qe$2=at,pe$1.attachEvent("onpropertychange",Be$1)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$2)}function Ee$1(_e,rt){if(_e==="click")return te$1(rt)}function Fe$1(_e,rt){if(_e==="input"||_e==="change")return te$1(rt)}function Ge$2(_e,rt){return _e===rt&&(_e!==0||1/_e===1/rt)||_e!==_e&&rt!==rt}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$1(_e,rt){if(He$2(_e,rt))return!0;if(typeof _e!="object"||_e===null||typeof rt!="object"||rt===null)return!1;var at=Object.keys(_e),lt=Object.keys(rt);if(at.length!==lt.length)return!1;for(lt=0;lt<at.length;lt++){var st=at[lt];if(!ja$1.call(rt,st)||!He$2(_e[st],rt[st]))return!1}return!0}function Je$2(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke$2(_e,rt){var at=Je$2(_e);_e=0;for(var lt;at;){if(at.nodeType===3){if(lt=_e+at.textContent.length,_e<=rt&&lt>=rt)return{node:at,offset:rt-_e};_e=lt}e:{for(;at;){if(at.nextSibling){at=at.nextSibling;break e}at=at.parentNode}at=void 0}at=Je$2(at)}}function Le$1(_e,rt){return _e&&rt?_e===rt?!0:_e&&_e.nodeType===3?!1:rt&&rt.nodeType===3?Le$1(_e,rt.parentNode):"contains"in _e?_e.contains(rt):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(rt)&16):!1:!1}function Me$1(){for(var _e=window,rt=Xa$1();rt instanceof _e.HTMLIFrameElement;){try{var at=typeof rt.contentWindow.location.href=="string"}catch{at=!1}if(at)_e=rt.contentWindow;else break;rt=Xa$1(_e.document)}return rt}function Ne$2(_e){var rt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return rt&&(rt==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||rt==="textarea"||_e.contentEditable==="true")}function Oe$1(_e){var rt=Me$1(),at=_e.focusedElem,lt=_e.selectionRange;if(rt!==at&&at&&at.ownerDocument&&Le$1(at.ownerDocument.documentElement,at)){if(lt!==null&&Ne$2(at)){if(rt=lt.start,_e=lt.end,_e===void 0&&(_e=rt),"selectionStart"in at)at.selectionStart=rt,at.selectionEnd=Math.min(_e,at.value.length);else if(_e=(rt=at.ownerDocument||document)&&rt.defaultView||window,_e.getSelection){_e=_e.getSelection();var st=at.textContent.length,ct=Math.min(lt.start,st);lt=lt.end===void 0?ct:Math.min(lt.end,st),!_e.extend&&ct>lt&&(st=lt,lt=ct,ct=st),st=Ke$2(at,ct);var ut=Ke$2(at,lt);st&&ut&&(_e.rangeCount!==1||_e.anchorNode!==st.node||_e.anchorOffset!==st.offset||_e.focusNode!==ut.node||_e.focusOffset!==ut.offset)&&(rt=rt.createRange(),rt.setStart(st.node,st.offset),_e.removeAllRanges(),ct>lt?(_e.addRange(rt),_e.extend(ut.node,ut.offset)):(rt.setEnd(ut.node,ut.offset),_e.addRange(rt)))}}for(rt=[],_e=at;_e=_e.parentNode;)_e.nodeType===1&&rt.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof at.focus=="function"&&at.focus(),at=0;at<rt.length;at++)_e=rt[at],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$2(_e,rt,at){var lt=at.window===at?at.document:at.nodeType===9?at:at.ownerDocument;Te$1||Qe$2==null||Qe$2!==Xa$1(lt)||(lt=Qe$2,"selectionStart"in lt&&Ne$2(lt)?lt={start:lt.selectionStart,end:lt.selectionEnd}:(lt=(lt.ownerDocument&&lt.ownerDocument.defaultView||window).getSelection(),lt={anchorNode:lt.anchorNode,anchorOffset:lt.anchorOffset,focusNode:lt.focusNode,focusOffset:lt.focusOffset}),Se$1&&Ie$1(Se$1,lt)||(Se$1=lt,lt=oe$1(Re$1,"onSelect"),0<lt.length&&(rt=new td$1("onSelect","select",null,rt,at),_e.push({event:rt,listeners:lt}),rt.target=Qe$2)))}function Ve$2(_e,rt){var at={};return at[_e.toLowerCase()]=rt.toLowerCase(),at["Webkit"+_e]="webkit"+rt,at["Moz"+_e]="moz"+rt,at}var We$2={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$2.animationend.animation,delete We$2.animationiteration.animation,delete We$2.animationstart.animation),"TransitionEvent"in window||delete We$2.transitionend.transition);function Ze$2(_e){if(Xe$2[_e])return Xe$2[_e];if(!We$2[_e])return _e;var rt=We$2[_e],at;for(at in rt)if(rt.hasOwnProperty(at)&&at in Ye$2)return Xe$2[_e]=rt[at];return _e}var $e$2=Ze$2("animationend"),af$1=Ze$2("animationiteration"),bf$1=Ze$2("animationstart"),cf$1=Ze$2("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(_e,rt){df$1.set(_e,rt),fa$1(rt,[_e])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$2,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(_e,rt,at){var lt=_e.type||"unknown-event";_e.currentTarget=at,Ub$1(lt,rt,void 0,_e),_e.currentTarget=null}function se$1(_e,rt){rt=(rt&4)!==0;for(var at=0;at<_e.length;at++){var lt=_e[at],st=lt.event;lt=lt.listeners;e:{var ct=void 0;if(rt)for(var ut=lt.length-1;0<=ut;ut--){var ft=lt[ut],dt=ft.instance,pt=ft.currentTarget;if(ft=ft.listener,dt!==ct&&st.isPropagationStopped())break e;nf$1(st,ft,pt),ct=dt}else for(ut=0;ut<lt.length;ut++){if(ft=lt[ut],dt=ft.instance,pt=ft.currentTarget,ft=ft.listener,dt!==ct&&st.isPropagationStopped())break e;nf$1(st,ft,pt),ct=dt}}}if(Qb$1)throw _e=Rb$1,Qb$1=!1,Rb$1=null,_e}function D$8(_e,rt){var at=rt[of$1];at===void 0&&(at=rt[of$1]=new Set);var lt=_e+"__bubble";at.has(lt)||(pf$1(rt,_e,2,!1),at.add(lt))}function qf(_e,rt,at){var lt=0;rt&&(lt|=4),pf$1(at,_e,lt,rt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da$1.forEach(function(at){at!=="selectionchange"&&(mf$1.has(at)||qf(at,!1,_e),qf(at,!0,_e))});var rt=_e.nodeType===9?_e:_e.ownerDocument;rt===null||rt[rf]||(rt[rf]=!0,qf("selectionchange",!1,rt))}}function pf$1(_e,rt,at,lt){switch(jd$1(rt)){case 1:var st=ed$1;break;case 4:st=gd$1;break;default:st=fd$1}at=st.bind(null,rt,at,_e),st=void 0,!Lb||rt!=="touchstart"&&rt!=="touchmove"&&rt!=="wheel"||(st=!0),lt?st!==void 0?_e.addEventListener(rt,at,{capture:!0,passive:st}):_e.addEventListener(rt,at,!0):st!==void 0?_e.addEventListener(rt,at,{passive:st}):_e.addEventListener(rt,at,!1)}function hd$1(_e,rt,at,lt,st){var ct=lt;if(!(rt&1)&&!(rt&2)&&lt!==null)e:for(;;){if(lt===null)return;var ut=lt.tag;if(ut===3||ut===4){var ft=lt.stateNode.containerInfo;if(ft===st||ft.nodeType===8&&ft.parentNode===st)break;if(ut===4)for(ut=lt.return;ut!==null;){var dt=ut.tag;if((dt===3||dt===4)&&(dt=ut.stateNode.containerInfo,dt===st||dt.nodeType===8&&dt.parentNode===st))return;ut=ut.return}for(;ft!==null;){if(ut=Wc$1(ft),ut===null)return;if(dt=ut.tag,dt===5||dt===6){lt=ct=ut;continue e}ft=ft.parentNode}}lt=lt.return}Jb(function(){var pt=ct,ht=xb$1(at),gt=[];e:{var mt=df$1.get(_e);if(mt!==void 0){var xt=td$1,vt=_e;switch(_e){case"keypress":if(od$1(at)===0)break e;case"keydown":case"keyup":xt=Rd$1;break;case"focusin":vt="focus",xt=Fd$1;break;case"focusout":vt="blur",xt=Fd$1;break;case"beforeblur":case"afterblur":xt=Fd$1;break;case"click":if(at.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Vd$1;break;case $e$2:case af$1:case bf$1:xt=Hd$1;break;case cf$1:xt=Xd$1;break;case"scroll":xt=vd$1;break;case"wheel":xt=Zd$1;break;case"copy":case"cut":case"paste":xt=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Td$1}var yt=(rt&4)!==0,_t=!yt&&_e==="scroll",$t=yt?mt!==null?mt+"Capture":null:mt;yt=[];for(var Et=pt,wt;Et!==null;){wt=Et;var bt=wt.stateNode;if(wt.tag===5&&bt!==null&&(wt=bt,$t!==null&&(bt=Kb(Et,$t),bt!=null&&yt.push(tf(Et,bt,wt)))),_t)break;Et=Et.return}0<yt.length&&(mt=new xt(mt,vt,null,at,ht),gt.push({event:mt,listeners:yt}))}}if(!(rt&7)){e:{if(mt=_e==="mouseover"||_e==="pointerover",xt=_e==="mouseout"||_e==="pointerout",mt&&at!==wb$1&&(vt=at.relatedTarget||at.fromElement)&&(Wc$1(vt)||vt[uf]))break e;if((xt||mt)&&(mt=ht.window===ht?ht:(mt=ht.ownerDocument)?mt.defaultView||mt.parentWindow:window,xt?(vt=at.relatedTarget||at.toElement,xt=pt,vt=vt?Wc$1(vt):null,vt!==null&&(_t=Vb$1(vt),vt!==_t||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(xt=null,vt=pt),xt!==vt)){if(yt=Bd$1,bt="onMouseLeave",$t="onMouseEnter",Et="mouse",(_e==="pointerout"||_e==="pointerover")&&(yt=Td$1,bt="onPointerLeave",$t="onPointerEnter",Et="pointer"),_t=xt==null?mt:ue$1(xt),wt=vt==null?mt:ue$1(vt),mt=new yt(bt,Et+"leave",xt,at,ht),mt.target=_t,mt.relatedTarget=wt,bt=null,Wc$1(ht)===pt&&(yt=new yt($t,Et+"enter",vt,at,ht),yt.target=wt,yt.relatedTarget=_t,bt=yt),_t=bt,xt&&vt)t:{for(yt=xt,$t=vt,Et=0,wt=yt;wt;wt=vf$1(wt))Et++;for(wt=0,bt=$t;bt;bt=vf$1(bt))wt++;for(;0<Et-wt;)yt=vf$1(yt),Et--;for(;0<wt-Et;)$t=vf$1($t),wt--;for(;Et--;){if(yt===$t||$t!==null&&yt===$t.alternate)break t;yt=vf$1(yt),$t=vf$1($t)}yt=null}else yt=null;xt!==null&&wf$1(gt,mt,xt,yt,!1),vt!==null&&_t!==null&&wf$1(gt,_t,vt,yt,!0)}}e:{if(mt=pt?ue$1(pt):window,xt=mt.nodeName&&mt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&mt.type==="file")var St=ve;else if(me$1(mt))if(we)St=Fe$1;else{St=De;var Tt=Ce}else(xt=mt.nodeName)&&xt.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(St=Ee$1);if(St&&(St=St(_e,pt))){ne$1(gt,St,at,ht);break e}Tt&&Tt(_e,mt,pt),_e==="focusout"&&(Tt=mt._wrapperState)&&Tt.controlled&&mt.type==="number"&&cb$1(mt,"number",mt.value)}switch(Tt=pt?ue$1(pt):window,_e){case"focusin":(me$1(Tt)||Tt.contentEditable==="true")&&(Qe$2=Tt,Re$1=pt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$2=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(gt,at,ht);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$2(gt,at,ht)}var Rt;if(ae$1)e:{switch(_e){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie$1?ge$1(_e,at)&&(kt="onCompositionEnd"):_e==="keydown"&&at.keyCode===229&&(kt="onCompositionStart");kt&&(de$1&&at.locale!=="ko"&&(ie$1||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie$1&&(Rt=nd$1()):(kd$1=ht,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),Tt=oe$1(pt,kt),0<Tt.length&&(kt=new Ld$1(kt,_e,null,at,ht),gt.push({event:kt,listeners:Tt}),Rt?kt.data=Rt:(Rt=he$1(at),Rt!==null&&(kt.data=Rt)))),(Rt=ce$1?je$2(_e,at):ke$1(_e,at))&&(pt=oe$1(pt,"onBeforeInput"),0<pt.length&&(ht=new Ld$1("onBeforeInput","beforeinput",null,at,ht),gt.push({event:ht,listeners:pt}),ht.data=Rt))}se$1(gt,rt)})}function tf(_e,rt,at){return{instance:_e,listener:rt,currentTarget:at}}function oe$1(_e,rt){for(var at=rt+"Capture",lt=[];_e!==null;){var st=_e,ct=st.stateNode;st.tag===5&&ct!==null&&(st=ct,ct=Kb(_e,at),ct!=null&&lt.unshift(tf(_e,ct,st)),ct=Kb(_e,rt),ct!=null&&lt.push(tf(_e,ct,st))),_e=_e.return}return lt}function vf$1(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf$1(_e,rt,at,lt,st){for(var ct=rt._reactName,ut=[];at!==null&&at!==lt;){var ft=at,dt=ft.alternate,pt=ft.stateNode;if(dt!==null&&dt===lt)break;ft.tag===5&&pt!==null&&(ft=pt,st?(dt=Kb(at,ct),dt!=null&&ut.unshift(tf(at,dt,ft))):st||(dt=Kb(at,ct),dt!=null&&ut.push(tf(at,dt,ft)))),at=at.return}ut.length!==0&&_e.push({event:rt,listeners:ut})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(_e){return(typeof _e=="string"?_e:""+_e).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(_e,rt,at){if(rt=zf$1(rt),zf$1(_e)!==rt&&at)throw Error(p$a(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(_e,rt){return _e==="textarea"||_e==="noscript"||typeof rt.children=="string"||typeof rt.children=="number"||typeof rt.dangerouslySetInnerHTML=="object"&&rt.dangerouslySetInnerHTML!==null&&rt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,rt){var at=rt,lt=0;do{var st=at.nextSibling;if(_e.removeChild(at),st&&st.nodeType===8)if(at=st.data,at==="/$"){if(lt===0){_e.removeChild(st),bd$1(rt);return}lt--}else at!=="$"&&at!=="$?"&&at!=="$!"||lt++;at=st}while(at);bd$1(rt)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var rt=_e.nodeType;if(rt===1||rt===3)break;if(rt===8){if(rt=_e.data,rt==="$"||rt==="$!"||rt==="$?")break;if(rt==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var rt=0;_e;){if(_e.nodeType===8){var at=_e.data;if(at==="$"||at==="$!"||at==="$?"){if(rt===0)return _e;rt--}else at==="/$"&&rt++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(_e){var rt=_e[Of];if(rt)return rt;for(var at=_e.parentNode;at;){if(rt=at[uf]||at[Of]){if(at=rt.alternate,rt.child!==null||at!==null&&at.child!==null)for(_e=Mf(_e);_e!==null;){if(at=_e[Of])return at;_e=Mf(_e)}return rt}_e=at,at=_e.parentNode}return null}function Cb$1(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$a(33))}function Db$1(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$7(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$4(_e,rt){Tf++,Sf[Tf]=_e.current,_e.current=rt}var Vf={},H$5=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,rt){var at=_e.type.contextTypes;if(!at)return Vf;var lt=_e.stateNode;if(lt&&lt.__reactInternalMemoizedUnmaskedChildContext===rt)return lt.__reactInternalMemoizedMaskedChildContext;var st={},ct;for(ct in at)st[ct]=rt[ct];return lt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=st),st}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$7(Wf),E$7(H$5)}function ag(_e,rt,at){if(H$5.current!==Vf)throw Error(p$a(168));G$4(H$5,rt),G$4(Wf,at)}function bg(_e,rt,at){var lt=_e.stateNode;if(rt=rt.childContextTypes,typeof lt.getChildContext!="function")return at;lt=lt.getChildContext();for(var st in lt)if(!(st in rt))throw Error(p$a(108,Ra$1(_e)||"Unknown",st));return A$5({},at,lt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$5.current,G$4(H$5,_e),G$4(Wf,Wf.current),!0}function dg(_e,rt,at){var lt=_e.stateNode;if(!lt)throw Error(p$a(169));at?(_e=bg(_e,rt,Xf),lt.__reactInternalMemoizedMergedChildContext=_e,E$7(Wf),E$7(H$5),G$4(H$5,_e)):E$7(Wf),G$4(Wf,at)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,rt=C$5;try{var at=eg;for(C$5=1;_e<at.length;_e++){var lt=at[_e];do lt=lt(!0);while(lt!==null)}eg=null,fg=!1}catch(st){throw eg!==null&&(eg=eg.slice(_e+1)),ac$1(fc$1,jg),st}finally{C$5=rt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,rt){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=rt}function ug(_e,rt,at){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var lt=rg;_e=sg;var st=32-oc$1(lt)-1;lt&=~(1<<st),at+=1;var ct=32-oc$1(rt)+st;if(30<ct){var ut=st-st%5;ct=(lt&(1<<ut)-1).toString(32),lt>>=ut,st-=ut,rg=1<<32-oc$1(rt)+st|at<<st|lt,sg=ct+_e}else rg=1<<ct|at<<st|lt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$5=!1,zg=null;function Ag(_e,rt){var at=Bg(5,null,null,0);at.elementType="DELETED",at.stateNode=rt,at.return=_e,rt=_e.deletions,rt===null?(_e.deletions=[at],_e.flags|=16):rt.push(at)}function Cg(_e,rt){switch(_e.tag){case 5:var at=_e.type;return rt=rt.nodeType!==1||at.toLowerCase()!==rt.nodeName.toLowerCase()?null:rt,rt!==null?(_e.stateNode=rt,xg=_e,yg=Lf(rt.firstChild),!0):!1;case 6:return rt=_e.pendingProps===""||rt.nodeType!==3?null:rt,rt!==null?(_e.stateNode=rt,xg=_e,yg=null,!0):!1;case 13:return rt=rt.nodeType!==8?null:rt,rt!==null?(at=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:rt,treeContext:at,retryLane:1073741824},at=Bg(18,null,null,0),at.stateNode=rt,at.return=_e,_e.child=at,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$5){var rt=yg;if(rt){var at=rt;if(!Cg(_e,rt)){if(Dg(_e))throw Error(p$a(418));rt=Lf(at.nextSibling);var lt=xg;rt&&Cg(_e,rt)?Ag(lt,at):(_e.flags=_e.flags&-4097|2,I$5=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$a(418));_e.flags=_e.flags&-4097|2,I$5=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$5)return Fg(_e),I$5=!0,!1;var rt;if((rt=_e.tag!==3)&&!(rt=_e.tag!==5)&&(rt=_e.type,rt=rt!=="head"&&rt!=="body"&&!Ef$1(_e.type,_e.memoizedProps)),rt&&(rt=yg)){if(Dg(_e))throw Hg(),Error(p$a(418));for(;rt;)Ag(_e,rt),rt=Lf(rt.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$a(317));e:{for(_e=_e.nextSibling,rt=0;_e;){if(_e.nodeType===8){var at=_e.data;if(at==="/$"){if(rt===0){yg=Lf(_e.nextSibling);break e}rt--}else at!=="$"&&at!=="$!"&&at!=="$?"||rt++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$5=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(_e,rt){if(_e&&_e.defaultProps){rt=A$5({},rt),_e=_e.defaultProps;for(var at in _e)rt[at]===void 0&&(rt[at]=_e[at]);return rt}return rt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var rt=Mg.current;E$7(Mg),_e._currentValue=rt}function Sg(_e,rt,at){for(;_e!==null;){var lt=_e.alternate;if((_e.childLanes&rt)!==rt?(_e.childLanes|=rt,lt!==null&&(lt.childLanes|=rt)):lt!==null&&(lt.childLanes&rt)!==rt&&(lt.childLanes|=rt),_e===at)break;_e=_e.return}}function Tg(_e,rt){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&rt&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var rt=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:rt,next:null},Og===null){if(Ng===null)throw Error(p$a(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return rt}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,rt,at,lt){var st=rt.interleaved;return st===null?(at.next=at,Xg(rt)):(at.next=st.next,st.next=at),rt.interleaved=at,Zg(_e,lt)}function Zg(_e,rt){_e.lanes|=rt;var at=_e.alternate;for(at!==null&&(at.lanes|=rt),at=_e,_e=_e.return;_e!==null;)_e.childLanes|=rt,at=_e.alternate,at!==null&&(at.childLanes|=rt),at=_e,_e=_e.return;return at.tag===3?at.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,rt){_e=_e.updateQueue,rt.updateQueue===_e&&(rt.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,rt){return{eventTime:_e,lane:rt,tag:0,payload:null,callback:null,next:null}}function dh(_e,rt,at){var lt=_e.updateQueue;if(lt===null)return null;if(lt=lt.shared,K$2&2){var st=lt.pending;return st===null?rt.next=rt:(rt.next=st.next,st.next=rt),lt.pending=rt,Zg(_e,at)}return st=lt.interleaved,st===null?(rt.next=rt,Xg(lt)):(rt.next=st.next,st.next=rt),lt.interleaved=rt,Zg(_e,at)}function eh(_e,rt,at){if(rt=rt.updateQueue,rt!==null&&(rt=rt.shared,(at&4194240)!==0)){var lt=rt.lanes;lt&=_e.pendingLanes,at|=lt,rt.lanes=at,Cc$1(_e,at)}}function fh(_e,rt){var at=_e.updateQueue,lt=_e.alternate;if(lt!==null&&(lt=lt.updateQueue,at===lt)){var st=null,ct=null;if(at=at.firstBaseUpdate,at!==null){do{var ut={eventTime:at.eventTime,lane:at.lane,tag:at.tag,payload:at.payload,callback:at.callback,next:null};ct===null?st=ct=ut:ct=ct.next=ut,at=at.next}while(at!==null);ct===null?st=ct=rt:ct=ct.next=rt}else st=ct=rt;at={baseState:lt.baseState,firstBaseUpdate:st,lastBaseUpdate:ct,shared:lt.shared,effects:lt.effects},_e.updateQueue=at;return}_e=at.lastBaseUpdate,_e===null?at.firstBaseUpdate=rt:_e.next=rt,at.lastBaseUpdate=rt}function gh(_e,rt,at,lt){var st=_e.updateQueue;$g=!1;var ct=st.firstBaseUpdate,ut=st.lastBaseUpdate,ft=st.shared.pending;if(ft!==null){st.shared.pending=null;var dt=ft,pt=dt.next;dt.next=null,ut===null?ct=pt:ut.next=pt,ut=dt;var ht=_e.alternate;ht!==null&&(ht=ht.updateQueue,ft=ht.lastBaseUpdate,ft!==ut&&(ft===null?ht.firstBaseUpdate=pt:ft.next=pt,ht.lastBaseUpdate=dt))}if(ct!==null){var gt=st.baseState;ut=0,ht=pt=dt=null,ft=ct;do{var mt=ft.lane,xt=ft.eventTime;if((lt&mt)===mt){ht!==null&&(ht=ht.next={eventTime:xt,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var vt=_e,yt=ft;switch(mt=rt,xt=at,yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){gt=vt.call(xt,gt,mt);break e}gt=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,mt=typeof vt=="function"?vt.call(xt,gt,mt):vt,mt==null)break e;gt=A$5({},gt,mt);break e;case 2:$g=!0}}ft.callback!==null&&ft.lane!==0&&(_e.flags|=64,mt=st.effects,mt===null?st.effects=[ft]:mt.push(ft))}else xt={eventTime:xt,lane:mt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},ht===null?(pt=ht=xt,dt=gt):ht=ht.next=xt,ut|=mt;if(ft=ft.next,ft===null){if(ft=st.shared.pending,ft===null)break;mt=ft,ft=mt.next,mt.next=null,st.lastBaseUpdate=mt,st.shared.pending=null}}while(1);if(ht===null&&(dt=gt),st.baseState=dt,st.firstBaseUpdate=pt,st.lastBaseUpdate=ht,rt=st.shared.interleaved,rt!==null){st=rt;do ut|=st.lane,st=st.next;while(st!==rt)}else ct===null&&(st.shared.lanes=0);hh|=ut,_e.lanes=ut,_e.memoizedState=gt}}function ih(_e,rt,at){if(_e=rt.effects,rt.effects=null,_e!==null)for(rt=0;rt<_e.length;rt++){var lt=_e[rt],st=lt.callback;if(st!==null){if(lt.callback=null,lt=at,typeof st!="function")throw Error(p$a(191,st));st.call(lt)}}}var jh=new aa.Component().refs;function kh(_e,rt,at,lt){rt=_e.memoizedState,at=at(lt,rt),at=at==null?rt:A$5({},rt,at),_e.memoizedState=at,_e.lanes===0&&(_e.updateQueue.baseState=at)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb$1(_e)===_e:!1},enqueueSetState:function(_e,rt,at){_e=_e._reactInternals;var lt=L$6(),st=lh(_e),ct=ch(lt,st);ct.payload=rt,at!=null&&(ct.callback=at),rt=dh(_e,ct,st),rt!==null&&(mh(rt,_e,st,lt),eh(rt,_e,st))},enqueueReplaceState:function(_e,rt,at){_e=_e._reactInternals;var lt=L$6(),st=lh(_e),ct=ch(lt,st);ct.tag=1,ct.payload=rt,at!=null&&(ct.callback=at),rt=dh(_e,ct,st),rt!==null&&(mh(rt,_e,st,lt),eh(rt,_e,st))},enqueueForceUpdate:function(_e,rt){_e=_e._reactInternals;var at=L$6(),lt=lh(_e),st=ch(at,lt);st.tag=2,rt!=null&&(st.callback=rt),rt=dh(_e,st,lt),rt!==null&&(mh(rt,_e,lt,at),eh(rt,_e,lt))}};function oh(_e,rt,at,lt,st,ct,ut){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(lt,ct,ut):rt.prototype&&rt.prototype.isPureReactComponent?!Ie$1(at,lt)||!Ie$1(st,ct):!0}function ph(_e,rt,at){var lt=!1,st=Vf,ct=rt.contextType;return typeof ct=="object"&&ct!==null?ct=Vg(ct):(st=Zf(rt)?Xf:H$5.current,lt=rt.contextTypes,ct=(lt=lt!=null)?Yf(_e,st):Vf),rt=new rt(at,ct),_e.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,rt.updater=nh,_e.stateNode=rt,rt._reactInternals=_e,lt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=st,_e.__reactInternalMemoizedMaskedChildContext=ct),rt}function qh(_e,rt,at,lt){_e=rt.state,typeof rt.componentWillReceiveProps=="function"&&rt.componentWillReceiveProps(at,lt),typeof rt.UNSAFE_componentWillReceiveProps=="function"&&rt.UNSAFE_componentWillReceiveProps(at,lt),rt.state!==_e&&nh.enqueueReplaceState(rt,rt.state,null)}function rh(_e,rt,at,lt){var st=_e.stateNode;st.props=at,st.state=_e.memoizedState,st.refs=jh,ah(_e);var ct=rt.contextType;typeof ct=="object"&&ct!==null?st.context=Vg(ct):(ct=Zf(rt)?Xf:H$5.current,st.context=Yf(_e,ct)),st.state=_e.memoizedState,ct=rt.getDerivedStateFromProps,typeof ct=="function"&&(kh(_e,rt,ct,at),st.state=_e.memoizedState),typeof rt.getDerivedStateFromProps=="function"||typeof st.getSnapshotBeforeUpdate=="function"||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(rt=st.state,typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount(),rt!==st.state&&nh.enqueueReplaceState(st,st.state,null),gh(_e,at,st,lt),st.state=_e.memoizedState),typeof st.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,rt,at){if(_e=at.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(at._owner){if(at=at._owner,at){if(at.tag!==1)throw Error(p$a(309));var lt=at.stateNode}if(!lt)throw Error(p$a(147,_e));var st=lt,ct=""+_e;return rt!==null&&rt.ref!==null&&typeof rt.ref=="function"&&rt.ref._stringRef===ct?rt.ref:(rt=function(ut){var ft=st.refs;ft===jh&&(ft=st.refs={}),ut===null?delete ft[ct]:ft[ct]=ut},rt._stringRef=ct,rt)}if(typeof _e!="string")throw Error(p$a(284));if(!at._owner)throw Error(p$a(290,_e))}return _e}function th(_e,rt){throw _e=Object.prototype.toString.call(rt),Error(p$a(31,_e==="[object Object]"?"object with keys {"+Object.keys(rt).join(", ")+"}":_e))}function uh(_e){var rt=_e._init;return rt(_e._payload)}function vh(_e){function rt($t,Et){if(_e){var wt=$t.deletions;wt===null?($t.deletions=[Et],$t.flags|=16):wt.push(Et)}}function at($t,Et){if(!_e)return null;for(;Et!==null;)rt($t,Et),Et=Et.sibling;return null}function lt($t,Et){for($t=new Map;Et!==null;)Et.key!==null?$t.set(Et.key,Et):$t.set(Et.index,Et),Et=Et.sibling;return $t}function st($t,Et){return $t=wh($t,Et),$t.index=0,$t.sibling=null,$t}function ct($t,Et,wt){return $t.index=wt,_e?(wt=$t.alternate,wt!==null?(wt=wt.index,wt<Et?($t.flags|=2,Et):wt):($t.flags|=2,Et)):($t.flags|=1048576,Et)}function ut($t){return _e&&$t.alternate===null&&($t.flags|=2),$t}function ft($t,Et,wt,bt){return Et===null||Et.tag!==6?(Et=xh(wt,$t.mode,bt),Et.return=$t,Et):(Et=st(Et,wt),Et.return=$t,Et)}function dt($t,Et,wt,bt){var St=wt.type;return St===ya$1?ht($t,Et,wt.props.children,bt,wt.key):Et!==null&&(Et.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha$1&&uh(St)===Et.type)?(bt=st(Et,wt.props),bt.ref=sh($t,Et,wt),bt.return=$t,bt):(bt=yh(wt.type,wt.key,wt.props,null,$t.mode,bt),bt.ref=sh($t,Et,wt),bt.return=$t,bt)}function pt($t,Et,wt,bt){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==wt.containerInfo||Et.stateNode.implementation!==wt.implementation?(Et=zh(wt,$t.mode,bt),Et.return=$t,Et):(Et=st(Et,wt.children||[]),Et.return=$t,Et)}function ht($t,Et,wt,bt,St){return Et===null||Et.tag!==7?(Et=Ah(wt,$t.mode,bt,St),Et.return=$t,Et):(Et=st(Et,wt),Et.return=$t,Et)}function gt($t,Et,wt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Et=xh(""+Et,$t.mode,wt),Et.return=$t,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return wt=yh(Et.type,Et.key,Et.props,null,$t.mode,wt),wt.ref=sh($t,null,Et),wt.return=$t,wt;case wa$1:return Et=zh(Et,$t.mode,wt),Et.return=$t,Et;case Ha$1:var bt=Et._init;return gt($t,bt(Et._payload),wt)}if(eb$1(Et)||Ka$1(Et))return Et=Ah(Et,$t.mode,wt,null),Et.return=$t,Et;th($t,Et)}return null}function mt($t,Et,wt,bt){var St=Et!==null?Et.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number")return St!==null?null:ft($t,Et,""+wt,bt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return wt.key===St?dt($t,Et,wt,bt):null;case wa$1:return wt.key===St?pt($t,Et,wt,bt):null;case Ha$1:return St=wt._init,mt($t,Et,St(wt._payload),bt)}if(eb$1(wt)||Ka$1(wt))return St!==null?null:ht($t,Et,wt,bt,null);th($t,wt)}return null}function xt($t,Et,wt,bt,St){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return $t=$t.get(wt)||null,ft(Et,$t,""+bt,St);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return $t=$t.get(bt.key===null?wt:bt.key)||null,dt(Et,$t,bt,St);case wa$1:return $t=$t.get(bt.key===null?wt:bt.key)||null,pt(Et,$t,bt,St);case Ha$1:var Tt=bt._init;return xt($t,Et,wt,Tt(bt._payload),St)}if(eb$1(bt)||Ka$1(bt))return $t=$t.get(wt)||null,ht(Et,$t,bt,St,null);th(Et,bt)}return null}function vt($t,Et,wt,bt){for(var St=null,Tt=null,Rt=Et,kt=Et=0,At=null;Rt!==null&&kt<wt.length;kt++){Rt.index>kt?(At=Rt,Rt=null):At=Rt.sibling;var Ct=mt($t,Rt,wt[kt],bt);if(Ct===null){Rt===null&&(Rt=At);break}_e&&Rt&&Ct.alternate===null&&rt($t,Rt),Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct,Rt=At}if(kt===wt.length)return at($t,Rt),I$5&&tg($t,kt),St;if(Rt===null){for(;kt<wt.length;kt++)Rt=gt($t,wt[kt],bt),Rt!==null&&(Et=ct(Rt,Et,kt),Tt===null?St=Rt:Tt.sibling=Rt,Tt=Rt);return I$5&&tg($t,kt),St}for(Rt=lt($t,Rt);kt<wt.length;kt++)At=xt(Rt,$t,kt,wt[kt],bt),At!==null&&(_e&&At.alternate!==null&&Rt.delete(At.key===null?kt:At.key),Et=ct(At,Et,kt),Tt===null?St=At:Tt.sibling=At,Tt=At);return _e&&Rt.forEach(function(Mt){return rt($t,Mt)}),I$5&&tg($t,kt),St}function yt($t,Et,wt,bt){var St=Ka$1(wt);if(typeof St!="function")throw Error(p$a(150));if(wt=St.call(wt),wt==null)throw Error(p$a(151));for(var Tt=St=null,Rt=Et,kt=Et=0,At=null,Ct=wt.next();Rt!==null&&!Ct.done;kt++,Ct=wt.next()){Rt.index>kt?(At=Rt,Rt=null):At=Rt.sibling;var Mt=mt($t,Rt,Ct.value,bt);if(Mt===null){Rt===null&&(Rt=At);break}_e&&Rt&&Mt.alternate===null&&rt($t,Rt),Et=ct(Mt,Et,kt),Tt===null?St=Mt:Tt.sibling=Mt,Tt=Mt,Rt=At}if(Ct.done)return at($t,Rt),I$5&&tg($t,kt),St;if(Rt===null){for(;!Ct.done;kt++,Ct=wt.next())Ct=gt($t,Ct.value,bt),Ct!==null&&(Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct);return I$5&&tg($t,kt),St}for(Rt=lt($t,Rt);!Ct.done;kt++,Ct=wt.next())Ct=xt(Rt,$t,kt,Ct.value,bt),Ct!==null&&(_e&&Ct.alternate!==null&&Rt.delete(Ct.key===null?kt:Ct.key),Et=ct(Ct,Et,kt),Tt===null?St=Ct:Tt.sibling=Ct,Tt=Ct);return _e&&Rt.forEach(function(Ot){return rt($t,Ot)}),I$5&&tg($t,kt),St}function _t($t,Et,wt,bt){if(typeof wt=="object"&&wt!==null&&wt.type===ya$1&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:e:{for(var St=wt.key,Tt=Et;Tt!==null;){if(Tt.key===St){if(St=wt.type,St===ya$1){if(Tt.tag===7){at($t,Tt.sibling),Et=st(Tt,wt.props.children),Et.return=$t,$t=Et;break e}}else if(Tt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha$1&&uh(St)===Tt.type){at($t,Tt.sibling),Et=st(Tt,wt.props),Et.ref=sh($t,Tt,wt),Et.return=$t,$t=Et;break e}at($t,Tt);break}else rt($t,Tt);Tt=Tt.sibling}wt.type===ya$1?(Et=Ah(wt.props.children,$t.mode,bt,wt.key),Et.return=$t,$t=Et):(bt=yh(wt.type,wt.key,wt.props,null,$t.mode,bt),bt.ref=sh($t,Et,wt),bt.return=$t,$t=bt)}return ut($t);case wa$1:e:{for(Tt=wt.key;Et!==null;){if(Et.key===Tt)if(Et.tag===4&&Et.stateNode.containerInfo===wt.containerInfo&&Et.stateNode.implementation===wt.implementation){at($t,Et.sibling),Et=st(Et,wt.children||[]),Et.return=$t,$t=Et;break e}else{at($t,Et);break}else rt($t,Et);Et=Et.sibling}Et=zh(wt,$t.mode,bt),Et.return=$t,$t=Et}return ut($t);case Ha$1:return Tt=wt._init,_t($t,Et,Tt(wt._payload),bt)}if(eb$1(wt))return vt($t,Et,wt,bt);if(Ka$1(wt))return yt($t,Et,wt,bt);th($t,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"?(wt=""+wt,Et!==null&&Et.tag===6?(at($t,Et.sibling),Et=st(Et,wt),Et.return=$t,$t=Et):(at($t,Et),Et=xh(wt,$t.mode,bt),Et.return=$t,$t=Et),ut($t)):at($t,Et)}return _t}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$a(174));return _e}function Ih(_e,rt){switch(G$4(Gh,rt),G$4(Fh,_e),G$4(Eh,Dh),_e=rt.nodeType,_e){case 9:case 11:rt=(rt=rt.documentElement)?rt.namespaceURI:lb$1(null,"");break;default:_e=_e===8?rt.parentNode:rt,rt=_e.namespaceURI||null,_e=_e.tagName,rt=lb$1(rt,_e)}E$7(Eh),G$4(Eh,rt)}function Jh(){E$7(Eh),E$7(Fh),E$7(Gh)}function Kh(_e){Hh(Gh.current);var rt=Hh(Eh.current),at=lb$1(rt,_e.type);rt!==at&&(G$4(Fh,_e),G$4(Eh,at))}function Lh(_e){Fh.current===_e&&(E$7(Eh),E$7(Fh))}var M$5=Uf(0);function Mh(_e){for(var rt=_e;rt!==null;){if(rt.tag===13){var at=rt.memoizedState;if(at!==null&&(at=at.dehydrated,at===null||at.data==="$?"||at.data==="$!"))return rt}else if(rt.tag===19&&rt.memoizedProps.revealOrder!==void 0){if(rt.flags&128)return rt}else if(rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===_e)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===_e)return null;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$7=null,O$4=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$a(321))}function Wh(_e,rt){if(rt===null)return!1;for(var at=0;at<rt.length&&at<_e.length;at++)if(!He$2(_e[at],rt[at]))return!1;return!0}function Xh(_e,rt,at,lt,st,ct){if(Rh=ct,N$7=rt,rt.memoizedState=null,rt.updateQueue=null,rt.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=at(lt,st),Th){ct=0;do{if(Th=!1,Uh=0,25<=ct)throw Error(p$a(301));ct+=1,P$3=O$4=null,rt.updateQueue=null,Ph.current=$h,_e=at(lt,st)}while(Th)}if(Ph.current=ai,rt=O$4!==null&&O$4.next!==null,Rh=0,P$3=O$4=N$7=null,Sh=!1,rt)throw Error(p$a(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$7.memoizedState=P$3=_e:P$3=P$3.next=_e,P$3}function di(){if(O$4===null){var _e=N$7.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$4.next;var rt=P$3===null?N$7.memoizedState:P$3.next;if(rt!==null)P$3=rt,O$4=_e;else{if(_e===null)throw Error(p$a(310));O$4=_e,_e={memoizedState:O$4.memoizedState,baseState:O$4.baseState,baseQueue:O$4.baseQueue,queue:O$4.queue,next:null},P$3===null?N$7.memoizedState=P$3=_e:P$3=P$3.next=_e}return P$3}function ei(_e,rt){return typeof rt=="function"?rt(_e):rt}function fi(_e){var rt=di(),at=rt.queue;if(at===null)throw Error(p$a(311));at.lastRenderedReducer=_e;var lt=O$4,st=lt.baseQueue,ct=at.pending;if(ct!==null){if(st!==null){var ut=st.next;st.next=ct.next,ct.next=ut}lt.baseQueue=st=ct,at.pending=null}if(st!==null){ct=st.next,lt=lt.baseState;var ft=ut=null,dt=null,pt=ct;do{var ht=pt.lane;if((Rh&ht)===ht)dt!==null&&(dt=dt.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),lt=pt.hasEagerState?pt.eagerState:_e(lt,pt.action);else{var gt={lane:ht,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};dt===null?(ft=dt=gt,ut=lt):dt=dt.next=gt,N$7.lanes|=ht,hh|=ht}pt=pt.next}while(pt!==null&&pt!==ct);dt===null?ut=lt:dt.next=ft,He$2(lt,rt.memoizedState)||(Ug=!0),rt.memoizedState=lt,rt.baseState=ut,rt.baseQueue=dt,at.lastRenderedState=lt}if(_e=at.interleaved,_e!==null){st=_e;do ct=st.lane,N$7.lanes|=ct,hh|=ct,st=st.next;while(st!==_e)}else st===null&&(at.lanes=0);return[rt.memoizedState,at.dispatch]}function gi(_e){var rt=di(),at=rt.queue;if(at===null)throw Error(p$a(311));at.lastRenderedReducer=_e;var lt=at.dispatch,st=at.pending,ct=rt.memoizedState;if(st!==null){at.pending=null;var ut=st=st.next;do ct=_e(ct,ut.action),ut=ut.next;while(ut!==st);He$2(ct,rt.memoizedState)||(Ug=!0),rt.memoizedState=ct,rt.baseQueue===null&&(rt.baseState=ct),at.lastRenderedState=ct}return[ct,lt]}function hi(){}function ii(_e,rt){var at=N$7,lt=di(),st=rt(),ct=!He$2(lt.memoizedState,st);if(ct&&(lt.memoizedState=st,Ug=!0),lt=lt.queue,ji(ki.bind(null,at,lt,_e),[_e]),lt.getSnapshot!==rt||ct||P$3!==null&&P$3.memoizedState.tag&1){if(at.flags|=2048,li$1(9,mi.bind(null,at,lt,st,rt),void 0,null),R$5===null)throw Error(p$a(349));Rh&30||ni(at,rt,st)}return st}function ni(_e,rt,at){_e.flags|=16384,_e={getSnapshot:rt,value:at},rt=N$7.updateQueue,rt===null?(rt={lastEffect:null,stores:null},N$7.updateQueue=rt,rt.stores=[_e]):(at=rt.stores,at===null?rt.stores=[_e]:at.push(_e))}function mi(_e,rt,at,lt){rt.value=at,rt.getSnapshot=lt,oi(rt)&&pi$1(_e)}function ki(_e,rt,at){return at(function(){oi(rt)&&pi$1(_e)})}function oi(_e){var rt=_e.getSnapshot;_e=_e.value;try{var at=rt();return!He$2(_e,at)}catch{return!0}}function pi$1(_e){var rt=Zg(_e,1);rt!==null&&mh(rt,_e,1,-1)}function qi(_e){var rt=ci();return typeof _e=="function"&&(_e=_e()),rt.memoizedState=rt.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},rt.queue=_e,_e=_e.dispatch=ri.bind(null,N$7,_e),[rt.memoizedState,_e]}function li$1(_e,rt,at,lt){return _e={tag:_e,create:rt,destroy:at,deps:lt,next:null},rt=N$7.updateQueue,rt===null?(rt={lastEffect:null,stores:null},N$7.updateQueue=rt,rt.lastEffect=_e.next=_e):(at=rt.lastEffect,at===null?rt.lastEffect=_e.next=_e:(lt=at.next,at.next=_e,_e.next=lt,rt.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,rt,at,lt){var st=ci();N$7.flags|=_e,st.memoizedState=li$1(1|rt,at,void 0,lt===void 0?null:lt)}function ui(_e,rt,at,lt){var st=di();lt=lt===void 0?null:lt;var ct=void 0;if(O$4!==null){var ut=O$4.memoizedState;if(ct=ut.destroy,lt!==null&&Wh(lt,ut.deps)){st.memoizedState=li$1(rt,at,ct,lt);return}}N$7.flags|=_e,st.memoizedState=li$1(1|rt,at,ct,lt)}function vi(_e,rt){return ti(8390656,8,_e,rt)}function ji(_e,rt){return ui(2048,8,_e,rt)}function wi(_e,rt){return ui(4,2,_e,rt)}function xi(_e,rt){return ui(4,4,_e,rt)}function yi(_e,rt){if(typeof rt=="function")return _e=_e(),rt(_e),function(){rt(null)};if(rt!=null)return _e=_e(),rt.current=_e,function(){rt.current=null}}function zi(_e,rt,at){return at=at!=null?at.concat([_e]):null,ui(4,4,yi.bind(null,rt,_e),at)}function Ai(){}function Bi(_e,rt){var at=di();rt=rt===void 0?null:rt;var lt=at.memoizedState;return lt!==null&&rt!==null&&Wh(rt,lt[1])?lt[0]:(at.memoizedState=[_e,rt],_e)}function Ci(_e,rt){var at=di();rt=rt===void 0?null:rt;var lt=at.memoizedState;return lt!==null&&rt!==null&&Wh(rt,lt[1])?lt[0]:(_e=_e(),at.memoizedState=[_e,rt],_e)}function Di(_e,rt,at){return Rh&21?(He$2(at,rt)||(at=yc$1(),N$7.lanes|=at,hh|=at,_e.baseState=!0),rt):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=at)}function Ei(_e,rt){var at=C$5;C$5=at!==0&&4>at?at:4,_e(!0);var lt=Qh.transition;Qh.transition={};try{_e(!1),rt()}finally{C$5=at,Qh.transition=lt}}function Fi(){return di().memoizedState}function Gi(_e,rt,at){var lt=lh(_e);if(at={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(rt,at);else if(at=Yg(_e,rt,at,lt),at!==null){var st=L$6();mh(at,_e,lt,st),Ji(at,rt,lt)}}function ri(_e,rt,at){var lt=lh(_e),st={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(rt,st);else{var ct=_e.alternate;if(_e.lanes===0&&(ct===null||ct.lanes===0)&&(ct=rt.lastRenderedReducer,ct!==null))try{var ut=rt.lastRenderedState,ft=ct(ut,at);if(st.hasEagerState=!0,st.eagerState=ft,He$2(ft,ut)){var dt=rt.interleaved;dt===null?(st.next=st,Xg(rt)):(st.next=dt.next,dt.next=st),rt.interleaved=st;return}}catch{}finally{}at=Yg(_e,rt,st,lt),at!==null&&(st=L$6(),mh(at,_e,lt,st),Ji(at,rt,lt))}}function Hi(_e){var rt=_e.alternate;return _e===N$7||rt!==null&&rt===N$7}function Ii(_e,rt){Th=Sh=!0;var at=_e.pending;at===null?rt.next=rt:(rt.next=at.next,at.next=rt),_e.pending=rt}function Ji(_e,rt,at){if(at&4194240){var lt=rt.lanes;lt&=_e.pendingLanes,at|=lt,rt.lanes=at,Cc$1(_e,at)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,rt){return ci().memoizedState=[_e,rt===void 0?null:rt],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,rt,at){return at=at!=null?at.concat([_e]):null,ti(4194308,4,yi.bind(null,rt,_e),at)},useLayoutEffect:function(_e,rt){return ti(4194308,4,_e,rt)},useInsertionEffect:function(_e,rt){return ti(4,2,_e,rt)},useMemo:function(_e,rt){var at=ci();return rt=rt===void 0?null:rt,_e=_e(),at.memoizedState=[_e,rt],_e},useReducer:function(_e,rt,at){var lt=ci();return rt=at!==void 0?at(rt):rt,lt.memoizedState=lt.baseState=rt,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:rt},lt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$7,_e),[lt.memoizedState,_e]},useRef:function(_e){var rt=ci();return _e={current:_e},rt.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),rt=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[rt,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,rt,at){var lt=N$7,st=ci();if(I$5){if(at===void 0)throw Error(p$a(407));at=at()}else{if(at=rt(),R$5===null)throw Error(p$a(349));Rh&30||ni(lt,rt,at)}st.memoizedState=at;var ct={value:at,getSnapshot:rt};return st.queue=ct,vi(ki.bind(null,lt,ct,_e),[_e]),lt.flags|=2048,li$1(9,mi.bind(null,lt,ct,at,rt),void 0,null),at},useId:function(){var _e=ci(),rt=R$5.identifierPrefix;if(I$5){var at=sg,lt=rg;at=(lt&~(1<<32-oc$1(lt)-1)).toString(32)+at,rt=":"+rt+"R"+at,at=Uh++,0<at&&(rt+="H"+at.toString(32)),rt+=":"}else at=Vh++,rt=":"+rt+"r"+at.toString(32)+":";return _e.memoizedState=rt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var rt=di();return Di(rt,O$4.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],rt=di().memoizedState;return[_e,rt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var rt=di();return O$4===null?rt.memoizedState=_e:Di(rt,O$4.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],rt=di().memoizedState;return[_e,rt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,rt){try{var at="",lt=rt;do at+=Pa$1(lt),lt=lt.return;while(lt);var st=at}catch(ct){st=`
Error generating stack: `+ct.message+`
`+ct.stack}return{value:_e,source:rt,stack:st,digest:null}}function Li(_e,rt,at){return{value:_e,source:null,stack:at??null,digest:rt??null}}function Mi(_e,rt){try{console.error(rt.value)}catch(at){setTimeout(function(){throw at})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,rt,at){at=ch(-1,at),at.tag=3,at.payload={element:null};var lt=rt.value;return at.callback=function(){Pi||(Pi=!0,Qi=lt),Mi(_e,rt)},at}function Ri(_e,rt,at){at=ch(-1,at),at.tag=3;var lt=_e.type.getDerivedStateFromError;if(typeof lt=="function"){var st=rt.value;at.payload=function(){return lt(st)},at.callback=function(){Mi(_e,rt)}}var ct=_e.stateNode;return ct!==null&&typeof ct.componentDidCatch=="function"&&(at.callback=function(){Mi(_e,rt),typeof lt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ut=rt.stack;this.componentDidCatch(rt.value,{componentStack:ut!==null?ut:""})}),at}function Ti(_e,rt,at){var lt=_e.pingCache;if(lt===null){lt=_e.pingCache=new Ni;var st=new Set;lt.set(rt,st)}else st=lt.get(rt),st===void 0&&(st=new Set,lt.set(rt,st));st.has(at)||(st.add(at),_e=Ui.bind(null,_e,rt,at),rt.then(_e,_e))}function Vi(_e){do{var rt;if((rt=_e.tag===13)&&(rt=_e.memoizedState,rt=rt!==null?rt.dehydrated!==null:!0),rt)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,rt,at,lt,st){return _e.mode&1?(_e.flags|=65536,_e.lanes=st,_e):(_e===rt?_e.flags|=65536:(_e.flags|=128,at.flags|=131072,at.flags&=-52805,at.tag===1&&(at.alternate===null?at.tag=17:(rt=ch(-1,1),rt.tag=2,dh(at,rt,1))),at.lanes|=1),_e)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(_e,rt,at,lt){rt.child=_e===null?Ch(rt,null,at,lt):Bh(rt,_e.child,at,lt)}function Zi(_e,rt,at,lt,st){at=at.render;var ct=rt.ref;return Tg(rt,st),lt=Xh(_e,rt,at,lt,ct,st),at=bi(),_e!==null&&!Ug?(rt.updateQueue=_e.updateQueue,rt.flags&=-2053,_e.lanes&=~st,$i(_e,rt,st)):(I$5&&at&&vg(rt),rt.flags|=1,Yi(_e,rt,lt,st),rt.child)}function aj(_e,rt,at,lt,st){if(_e===null){var ct=at.type;return typeof ct=="function"&&!bj(ct)&&ct.defaultProps===void 0&&at.compare===null&&at.defaultProps===void 0?(rt.tag=15,rt.type=ct,cj(_e,rt,ct,lt,st)):(_e=yh(at.type,null,lt,rt,rt.mode,st),_e.ref=rt.ref,_e.return=rt,rt.child=_e)}if(ct=_e.child,!(_e.lanes&st)){var ut=ct.memoizedProps;if(at=at.compare,at=at!==null?at:Ie$1,at(ut,lt)&&_e.ref===rt.ref)return $i(_e,rt,st)}return rt.flags|=1,_e=wh(ct,lt),_e.ref=rt.ref,_e.return=rt,rt.child=_e}function cj(_e,rt,at,lt,st){if(_e!==null){var ct=_e.memoizedProps;if(Ie$1(ct,lt)&&_e.ref===rt.ref)if(Ug=!1,rt.pendingProps=lt=ct,(_e.lanes&st)!==0)_e.flags&131072&&(Ug=!0);else return rt.lanes=_e.lanes,$i(_e,rt,st)}return dj(_e,rt,at,lt,st)}function ej(_e,rt,at){var lt=rt.pendingProps,st=lt.children,ct=_e!==null?_e.memoizedState:null;if(lt.mode==="hidden")if(!(rt.mode&1))rt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$4(fj,gj),gj|=at;else{if(!(at&1073741824))return _e=ct!==null?ct.baseLanes|at:at,rt.lanes=rt.childLanes=1073741824,rt.memoizedState={baseLanes:_e,cachePool:null,transitions:null},rt.updateQueue=null,G$4(fj,gj),gj|=_e,null;rt.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt=ct!==null?ct.baseLanes:at,G$4(fj,gj),gj|=lt}else ct!==null?(lt=ct.baseLanes|at,rt.memoizedState=null):lt=at,G$4(fj,gj),gj|=lt;return Yi(_e,rt,st,at),rt.child}function hj(_e,rt){var at=rt.ref;(_e===null&&at!==null||_e!==null&&_e.ref!==at)&&(rt.flags|=512,rt.flags|=2097152)}function dj(_e,rt,at,lt,st){var ct=Zf(at)?Xf:H$5.current;return ct=Yf(rt,ct),Tg(rt,st),at=Xh(_e,rt,at,lt,ct,st),lt=bi(),_e!==null&&!Ug?(rt.updateQueue=_e.updateQueue,rt.flags&=-2053,_e.lanes&=~st,$i(_e,rt,st)):(I$5&&lt&&vg(rt),rt.flags|=1,Yi(_e,rt,at,st),rt.child)}function ij(_e,rt,at,lt,st){if(Zf(at)){var ct=!0;cg(rt)}else ct=!1;if(Tg(rt,st),rt.stateNode===null)jj(_e,rt),ph(rt,at,lt),rh(rt,at,lt,st),lt=!0;else if(_e===null){var ut=rt.stateNode,ft=rt.memoizedProps;ut.props=ft;var dt=ut.context,pt=at.contextType;typeof pt=="object"&&pt!==null?pt=Vg(pt):(pt=Zf(at)?Xf:H$5.current,pt=Yf(rt,pt));var ht=at.getDerivedStateFromProps,gt=typeof ht=="function"||typeof ut.getSnapshotBeforeUpdate=="function";gt||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(ft!==lt||dt!==pt)&&qh(rt,ut,lt,pt),$g=!1;var mt=rt.memoizedState;ut.state=mt,gh(rt,lt,ut,st),dt=rt.memoizedState,ft!==lt||mt!==dt||Wf.current||$g?(typeof ht=="function"&&(kh(rt,at,ht,lt),dt=rt.memoizedState),(ft=$g||oh(rt,at,ft,lt,mt,dt,pt))?(gt||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount()),typeof ut.componentDidMount=="function"&&(rt.flags|=4194308)):(typeof ut.componentDidMount=="function"&&(rt.flags|=4194308),rt.memoizedProps=lt,rt.memoizedState=dt),ut.props=lt,ut.state=dt,ut.context=pt,lt=ft):(typeof ut.componentDidMount=="function"&&(rt.flags|=4194308),lt=!1)}else{ut=rt.stateNode,bh(_e,rt),ft=rt.memoizedProps,pt=rt.type===rt.elementType?ft:Lg(rt.type,ft),ut.props=pt,gt=rt.pendingProps,mt=ut.context,dt=at.contextType,typeof dt=="object"&&dt!==null?dt=Vg(dt):(dt=Zf(at)?Xf:H$5.current,dt=Yf(rt,dt));var xt=at.getDerivedStateFromProps;(ht=typeof xt=="function"||typeof ut.getSnapshotBeforeUpdate=="function")||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(ft!==gt||mt!==dt)&&qh(rt,ut,lt,dt),$g=!1,mt=rt.memoizedState,ut.state=mt,gh(rt,lt,ut,st);var vt=rt.memoizedState;ft!==gt||mt!==vt||Wf.current||$g?(typeof xt=="function"&&(kh(rt,at,xt,lt),vt=rt.memoizedState),(pt=$g||oh(rt,at,pt,lt,mt,vt,dt)||!1)?(ht||typeof ut.UNSAFE_componentWillUpdate!="function"&&typeof ut.componentWillUpdate!="function"||(typeof ut.componentWillUpdate=="function"&&ut.componentWillUpdate(lt,vt,dt),typeof ut.UNSAFE_componentWillUpdate=="function"&&ut.UNSAFE_componentWillUpdate(lt,vt,dt)),typeof ut.componentDidUpdate=="function"&&(rt.flags|=4),typeof ut.getSnapshotBeforeUpdate=="function"&&(rt.flags|=1024)):(typeof ut.componentDidUpdate!="function"||ft===_e.memoizedProps&&mt===_e.memoizedState||(rt.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||ft===_e.memoizedProps&&mt===_e.memoizedState||(rt.flags|=1024),rt.memoizedProps=lt,rt.memoizedState=vt),ut.props=lt,ut.state=vt,ut.context=dt,lt=pt):(typeof ut.componentDidUpdate!="function"||ft===_e.memoizedProps&&mt===_e.memoizedState||(rt.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||ft===_e.memoizedProps&&mt===_e.memoizedState||(rt.flags|=1024),lt=!1)}return kj(_e,rt,at,lt,ct,st)}function kj(_e,rt,at,lt,st,ct){hj(_e,rt);var ut=(rt.flags&128)!==0;if(!lt&&!ut)return st&&dg(rt,at,!1),$i(_e,rt,ct);lt=rt.stateNode,Xi.current=rt;var ft=ut&&typeof at.getDerivedStateFromError!="function"?null:lt.render();return rt.flags|=1,_e!==null&&ut?(rt.child=Bh(rt,_e.child,null,ct),rt.child=Bh(rt,null,ft,ct)):Yi(_e,rt,ft,ct),rt.memoizedState=lt.state,st&&dg(rt,at,!0),rt.child}function lj(_e){var rt=_e.stateNode;rt.pendingContext?ag(_e,rt.pendingContext,rt.pendingContext!==rt.context):rt.context&&ag(_e,rt.context,!1),Ih(_e,rt.containerInfo)}function mj(_e,rt,at,lt,st){return Ig(),Jg(st),rt.flags|=256,Yi(_e,rt,at,lt),rt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,rt,at){var lt=rt.pendingProps,st=M$5.current,ct=!1,ut=(rt.flags&128)!==0,ft;if((ft=ut)||(ft=_e!==null&&_e.memoizedState===null?!1:(st&2)!==0),ft?(ct=!0,rt.flags&=-129):(_e===null||_e.memoizedState!==null)&&(st|=1),G$4(M$5,st&1),_e===null)return Eg(rt),_e=rt.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(rt.mode&1?_e.data==="$!"?rt.lanes=8:rt.lanes=1073741824:rt.lanes=1,null):(ut=lt.children,_e=lt.fallback,ct?(lt=rt.mode,ct=rt.child,ut={mode:"hidden",children:ut},!(lt&1)&&ct!==null?(ct.childLanes=0,ct.pendingProps=ut):ct=qj(ut,lt,0,null),_e=Ah(_e,lt,at,null),ct.return=rt,_e.return=rt,ct.sibling=_e,rt.child=ct,rt.child.memoizedState=oj(at),rt.memoizedState=nj,_e):rj(rt,ut));if(st=_e.memoizedState,st!==null&&(ft=st.dehydrated,ft!==null))return sj(_e,rt,ut,lt,ft,st,at);if(ct){ct=lt.fallback,ut=rt.mode,st=_e.child,ft=st.sibling;var dt={mode:"hidden",children:lt.children};return!(ut&1)&&rt.child!==st?(lt=rt.child,lt.childLanes=0,lt.pendingProps=dt,rt.deletions=null):(lt=wh(st,dt),lt.subtreeFlags=st.subtreeFlags&14680064),ft!==null?ct=wh(ft,ct):(ct=Ah(ct,ut,at,null),ct.flags|=2),ct.return=rt,lt.return=rt,lt.sibling=ct,rt.child=lt,lt=ct,ct=rt.child,ut=_e.child.memoizedState,ut=ut===null?oj(at):{baseLanes:ut.baseLanes|at,cachePool:null,transitions:ut.transitions},ct.memoizedState=ut,ct.childLanes=_e.childLanes&~at,rt.memoizedState=nj,lt}return ct=_e.child,_e=ct.sibling,lt=wh(ct,{mode:"visible",children:lt.children}),!(rt.mode&1)&&(lt.lanes=at),lt.return=rt,lt.sibling=null,_e!==null&&(at=rt.deletions,at===null?(rt.deletions=[_e],rt.flags|=16):at.push(_e)),rt.child=lt,rt.memoizedState=null,lt}function rj(_e,rt){return rt=qj({mode:"visible",children:rt},_e.mode,0,null),rt.return=_e,_e.child=rt}function tj(_e,rt,at,lt){return lt!==null&&Jg(lt),Bh(rt,_e.child,null,at),_e=rj(rt,rt.pendingProps.children),_e.flags|=2,rt.memoizedState=null,_e}function sj(_e,rt,at,lt,st,ct,ut){if(at)return rt.flags&256?(rt.flags&=-257,lt=Li(Error(p$a(422))),tj(_e,rt,ut,lt)):rt.memoizedState!==null?(rt.child=_e.child,rt.flags|=128,null):(ct=lt.fallback,st=rt.mode,lt=qj({mode:"visible",children:lt.children},st,0,null),ct=Ah(ct,st,ut,null),ct.flags|=2,lt.return=rt,ct.return=rt,lt.sibling=ct,rt.child=lt,rt.mode&1&&Bh(rt,_e.child,null,ut),rt.child.memoizedState=oj(ut),rt.memoizedState=nj,ct);if(!(rt.mode&1))return tj(_e,rt,ut,null);if(st.data==="$!"){if(lt=st.nextSibling&&st.nextSibling.dataset,lt)var ft=lt.dgst;return lt=ft,ct=Error(p$a(419)),lt=Li(ct,lt,void 0),tj(_e,rt,ut,lt)}if(ft=(ut&_e.childLanes)!==0,Ug||ft){if(lt=R$5,lt!==null){switch(ut&-ut){case 4:st=2;break;case 16:st=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:st=32;break;case 536870912:st=268435456;break;default:st=0}st=st&(lt.suspendedLanes|ut)?0:st,st!==0&&st!==ct.retryLane&&(ct.retryLane=st,Zg(_e,st),mh(lt,_e,st,-1))}return uj(),lt=Li(Error(p$a(421))),tj(_e,rt,ut,lt)}return st.data==="$?"?(rt.flags|=128,rt.child=_e.child,rt=vj.bind(null,_e),st._reactRetry=rt,null):(_e=ct.treeContext,yg=Lf(st.nextSibling),xg=rt,I$5=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=rt),rt=rj(rt,lt.children),rt.flags|=4096,rt)}function wj(_e,rt,at){_e.lanes|=rt;var lt=_e.alternate;lt!==null&&(lt.lanes|=rt),Sg(_e.return,rt,at)}function xj(_e,rt,at,lt,st){var ct=_e.memoizedState;ct===null?_e.memoizedState={isBackwards:rt,rendering:null,renderingStartTime:0,last:lt,tail:at,tailMode:st}:(ct.isBackwards=rt,ct.rendering=null,ct.renderingStartTime=0,ct.last=lt,ct.tail=at,ct.tailMode=st)}function yj(_e,rt,at){var lt=rt.pendingProps,st=lt.revealOrder,ct=lt.tail;if(Yi(_e,rt,lt.children,at),lt=M$5.current,lt&2)lt=lt&1|2,rt.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=rt.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,at,rt);else if(_e.tag===19)wj(_e,at,rt);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===rt)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===rt)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}lt&=1}if(G$4(M$5,lt),!(rt.mode&1))rt.memoizedState=null;else switch(st){case"forwards":for(at=rt.child,st=null;at!==null;)_e=at.alternate,_e!==null&&Mh(_e)===null&&(st=at),at=at.sibling;at=st,at===null?(st=rt.child,rt.child=null):(st=at.sibling,at.sibling=null),xj(rt,!1,st,at,ct);break;case"backwards":for(at=null,st=rt.child,rt.child=null;st!==null;){if(_e=st.alternate,_e!==null&&Mh(_e)===null){rt.child=st;break}_e=st.sibling,st.sibling=at,at=st,st=_e}xj(rt,!0,at,null,ct);break;case"together":xj(rt,!1,null,null,void 0);break;default:rt.memoizedState=null}return rt.child}function jj(_e,rt){!(rt.mode&1)&&_e!==null&&(_e.alternate=null,rt.alternate=null,rt.flags|=2)}function $i(_e,rt,at){if(_e!==null&&(rt.dependencies=_e.dependencies),hh|=rt.lanes,!(at&rt.childLanes))return null;if(_e!==null&&rt.child!==_e.child)throw Error(p$a(153));if(rt.child!==null){for(_e=rt.child,at=wh(_e,_e.pendingProps),rt.child=at,at.return=rt;_e.sibling!==null;)_e=_e.sibling,at=at.sibling=wh(_e,_e.pendingProps),at.return=rt;at.sibling=null}return rt.child}function zj(_e,rt,at){switch(rt.tag){case 3:lj(rt),Ig();break;case 5:Kh(rt);break;case 1:Zf(rt.type)&&cg(rt);break;case 4:Ih(rt,rt.stateNode.containerInfo);break;case 10:var lt=rt.type._context,st=rt.memoizedProps.value;G$4(Mg,lt._currentValue),lt._currentValue=st;break;case 13:if(lt=rt.memoizedState,lt!==null)return lt.dehydrated!==null?(G$4(M$5,M$5.current&1),rt.flags|=128,null):at&rt.child.childLanes?pj(_e,rt,at):(G$4(M$5,M$5.current&1),_e=$i(_e,rt,at),_e!==null?_e.sibling:null);G$4(M$5,M$5.current&1);break;case 19:if(lt=(at&rt.childLanes)!==0,_e.flags&128){if(lt)return yj(_e,rt,at);rt.flags|=128}if(st=rt.memoizedState,st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),G$4(M$5,M$5.current),lt)break;return null;case 22:case 23:return rt.lanes=0,ej(_e,rt,at)}return $i(_e,rt,at)}var Aj,Bj,Cj,Dj;Aj=function(_e,rt){for(var at=rt.child;at!==null;){if(at.tag===5||at.tag===6)_e.appendChild(at.stateNode);else if(at.tag!==4&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===rt)break;for(;at.sibling===null;){if(at.return===null||at.return===rt)return;at=at.return}at.sibling.return=at.return,at=at.sibling}};Bj=function(){};Cj=function(_e,rt,at,lt){var st=_e.memoizedProps;if(st!==lt){_e=rt.stateNode,Hh(Eh.current);var ct=null;switch(at){case"input":st=Ya$1(_e,st),lt=Ya$1(_e,lt),ct=[];break;case"select":st=A$5({},st,{value:void 0}),lt=A$5({},lt,{value:void 0}),ct=[];break;case"textarea":st=gb$1(_e,st),lt=gb$1(_e,lt),ct=[];break;default:typeof st.onClick!="function"&&typeof lt.onClick=="function"&&(_e.onclick=Bf$1)}ub$1(at,lt);var ut;at=null;for(pt in st)if(!lt.hasOwnProperty(pt)&&st.hasOwnProperty(pt)&&st[pt]!=null)if(pt==="style"){var ft=st[pt];for(ut in ft)ft.hasOwnProperty(ut)&&(at||(at={}),at[ut]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea$1.hasOwnProperty(pt)?ct||(ct=[]):(ct=ct||[]).push(pt,null));for(pt in lt){var dt=lt[pt];if(ft=st!=null?st[pt]:void 0,lt.hasOwnProperty(pt)&&dt!==ft&&(dt!=null||ft!=null))if(pt==="style")if(ft){for(ut in ft)!ft.hasOwnProperty(ut)||dt&&dt.hasOwnProperty(ut)||(at||(at={}),at[ut]="");for(ut in dt)dt.hasOwnProperty(ut)&&ft[ut]!==dt[ut]&&(at||(at={}),at[ut]=dt[ut])}else at||(ct||(ct=[]),ct.push(pt,at)),at=dt;else pt==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,ft=ft?ft.__html:void 0,dt!=null&&ft!==dt&&(ct=ct||[]).push(pt,dt)):pt==="children"?typeof dt!="string"&&typeof dt!="number"||(ct=ct||[]).push(pt,""+dt):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(pt)?(dt!=null&&pt==="onScroll"&&D$8("scroll",_e),ct||ft===dt||(ct=[])):(ct=ct||[]).push(pt,dt))}at&&(ct=ct||[]).push("style",at);var pt=ct;(rt.updateQueue=pt)&&(rt.flags|=4)}};Dj=function(_e,rt,at,lt){at!==lt&&(rt.flags|=4)};function Ej(_e,rt){if(!I$5)switch(_e.tailMode){case"hidden":rt=_e.tail;for(var at=null;rt!==null;)rt.alternate!==null&&(at=rt),rt=rt.sibling;at===null?_e.tail=null:at.sibling=null;break;case"collapsed":at=_e.tail;for(var lt=null;at!==null;)at.alternate!==null&&(lt=at),at=at.sibling;lt===null?rt||_e.tail===null?_e.tail=null:_e.tail.sibling=null:lt.sibling=null}}function S$6(_e){var rt=_e.alternate!==null&&_e.alternate.child===_e.child,at=0,lt=0;if(rt)for(var st=_e.child;st!==null;)at|=st.lanes|st.childLanes,lt|=st.subtreeFlags&14680064,lt|=st.flags&14680064,st.return=_e,st=st.sibling;else for(st=_e.child;st!==null;)at|=st.lanes|st.childLanes,lt|=st.subtreeFlags,lt|=st.flags,st.return=_e,st=st.sibling;return _e.subtreeFlags|=lt,_e.childLanes=at,rt}function Fj(_e,rt,at){var lt=rt.pendingProps;switch(wg(rt),rt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$6(rt),null;case 1:return Zf(rt.type)&&$f(),S$6(rt),null;case 3:return lt=rt.stateNode,Jh(),E$7(Wf),E$7(H$5),Oh(),lt.pendingContext&&(lt.context=lt.pendingContext,lt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(rt)?rt.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(rt.flags&256)||(rt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,rt),S$6(rt),null;case 5:Lh(rt);var st=Hh(Gh.current);if(at=rt.type,_e!==null&&rt.stateNode!=null)Cj(_e,rt,at,lt,st),_e.ref!==rt.ref&&(rt.flags|=512,rt.flags|=2097152);else{if(!lt){if(rt.stateNode===null)throw Error(p$a(166));return S$6(rt),null}if(_e=Hh(Eh.current),Gg(rt)){lt=rt.stateNode,at=rt.type;var ct=rt.memoizedProps;switch(lt[Of]=rt,lt[Pf]=ct,_e=(rt.mode&1)!==0,at){case"dialog":D$8("cancel",lt),D$8("close",lt);break;case"iframe":case"object":case"embed":D$8("load",lt);break;case"video":case"audio":for(st=0;st<lf$1.length;st++)D$8(lf$1[st],lt);break;case"source":D$8("error",lt);break;case"img":case"image":case"link":D$8("error",lt),D$8("load",lt);break;case"details":D$8("toggle",lt);break;case"input":Za$1(lt,ct),D$8("invalid",lt);break;case"select":lt._wrapperState={wasMultiple:!!ct.multiple},D$8("invalid",lt);break;case"textarea":hb(lt,ct),D$8("invalid",lt)}ub$1(at,ct),st=null;for(var ut in ct)if(ct.hasOwnProperty(ut)){var ft=ct[ut];ut==="children"?typeof ft=="string"?lt.textContent!==ft&&(ct.suppressHydrationWarning!==!0&&Af$1(lt.textContent,ft,_e),st=["children",ft]):typeof ft=="number"&&lt.textContent!==""+ft&&(ct.suppressHydrationWarning!==!0&&Af$1(lt.textContent,ft,_e),st=["children",""+ft]):ea$1.hasOwnProperty(ut)&&ft!=null&&ut==="onScroll"&&D$8("scroll",lt)}switch(at){case"input":Va$1(lt),db$1(lt,ct,!0);break;case"textarea":Va$1(lt),jb(lt);break;case"select":case"option":break;default:typeof ct.onClick=="function"&&(lt.onclick=Bf$1)}lt=st,rt.updateQueue=lt,lt!==null&&(rt.flags|=4)}else{ut=st.nodeType===9?st:st.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb$1(at)),_e==="http://www.w3.org/1999/xhtml"?at==="script"?(_e=ut.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof lt.is=="string"?_e=ut.createElement(at,{is:lt.is}):(_e=ut.createElement(at),at==="select"&&(ut=_e,lt.multiple?ut.multiple=!0:lt.size&&(ut.size=lt.size))):_e=ut.createElementNS(_e,at),_e[Of]=rt,_e[Pf]=lt,Aj(_e,rt,!1,!1),rt.stateNode=_e;e:{switch(ut=vb$1(at,lt),at){case"dialog":D$8("cancel",_e),D$8("close",_e),st=lt;break;case"iframe":case"object":case"embed":D$8("load",_e),st=lt;break;case"video":case"audio":for(st=0;st<lf$1.length;st++)D$8(lf$1[st],_e);st=lt;break;case"source":D$8("error",_e),st=lt;break;case"img":case"image":case"link":D$8("error",_e),D$8("load",_e),st=lt;break;case"details":D$8("toggle",_e),st=lt;break;case"input":Za$1(_e,lt),st=Ya$1(_e,lt),D$8("invalid",_e);break;case"option":st=lt;break;case"select":_e._wrapperState={wasMultiple:!!lt.multiple},st=A$5({},lt,{value:void 0}),D$8("invalid",_e);break;case"textarea":hb(_e,lt),st=gb$1(_e,lt),D$8("invalid",_e);break;default:st=lt}ub$1(at,st),ft=st;for(ct in ft)if(ft.hasOwnProperty(ct)){var dt=ft[ct];ct==="style"?sb$1(_e,dt):ct==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,dt!=null&&nb$1(_e,dt)):ct==="children"?typeof dt=="string"?(at!=="textarea"||dt!=="")&&ob$1(_e,dt):typeof dt=="number"&&ob$1(_e,""+dt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea$1.hasOwnProperty(ct)?dt!=null&&ct==="onScroll"&&D$8("scroll",_e):dt!=null&&ta$1(_e,ct,dt,ut))}switch(at){case"input":Va$1(_e),db$1(_e,lt,!1);break;case"textarea":Va$1(_e),jb(_e);break;case"option":lt.value!=null&&_e.setAttribute("value",""+Sa$1(lt.value));break;case"select":_e.multiple=!!lt.multiple,ct=lt.value,ct!=null?fb$1(_e,!!lt.multiple,ct,!1):lt.defaultValue!=null&&fb$1(_e,!!lt.multiple,lt.defaultValue,!0);break;default:typeof st.onClick=="function"&&(_e.onclick=Bf$1)}switch(at){case"button":case"input":case"select":case"textarea":lt=!!lt.autoFocus;break e;case"img":lt=!0;break e;default:lt=!1}}lt&&(rt.flags|=4)}rt.ref!==null&&(rt.flags|=512,rt.flags|=2097152)}return S$6(rt),null;case 6:if(_e&&rt.stateNode!=null)Dj(_e,rt,_e.memoizedProps,lt);else{if(typeof lt!="string"&&rt.stateNode===null)throw Error(p$a(166));if(at=Hh(Gh.current),Hh(Eh.current),Gg(rt)){if(lt=rt.stateNode,at=rt.memoizedProps,lt[Of]=rt,(ct=lt.nodeValue!==at)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af$1(lt.nodeValue,at,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af$1(lt.nodeValue,at,(_e.mode&1)!==0)}ct&&(rt.flags|=4)}else lt=(at.nodeType===9?at:at.ownerDocument).createTextNode(lt),lt[Of]=rt,rt.stateNode=lt}return S$6(rt),null;case 13:if(E$7(M$5),lt=rt.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$5&&yg!==null&&rt.mode&1&&!(rt.flags&128))Hg(),Ig(),rt.flags|=98560,ct=!1;else if(ct=Gg(rt),lt!==null&&lt.dehydrated!==null){if(_e===null){if(!ct)throw Error(p$a(318));if(ct=rt.memoizedState,ct=ct!==null?ct.dehydrated:null,!ct)throw Error(p$a(317));ct[Of]=rt}else Ig(),!(rt.flags&128)&&(rt.memoizedState=null),rt.flags|=4;S$6(rt),ct=!1}else zg!==null&&(Gj(zg),zg=null),ct=!0;if(!ct)return rt.flags&65536?rt:null}return rt.flags&128?(rt.lanes=at,rt):(lt=lt!==null,lt!==(_e!==null&&_e.memoizedState!==null)&&lt&&(rt.child.flags|=8192,rt.mode&1&&(_e===null||M$5.current&1?T$6===0&&(T$6=3):uj())),rt.updateQueue!==null&&(rt.flags|=4),S$6(rt),null);case 4:return Jh(),Bj(_e,rt),_e===null&&sf(rt.stateNode.containerInfo),S$6(rt),null;case 10:return Rg(rt.type._context),S$6(rt),null;case 17:return Zf(rt.type)&&$f(),S$6(rt),null;case 19:if(E$7(M$5),ct=rt.memoizedState,ct===null)return S$6(rt),null;if(lt=(rt.flags&128)!==0,ut=ct.rendering,ut===null)if(lt)Ej(ct,!1);else{if(T$6!==0||_e!==null&&_e.flags&128)for(_e=rt.child;_e!==null;){if(ut=Mh(_e),ut!==null){for(rt.flags|=128,Ej(ct,!1),lt=ut.updateQueue,lt!==null&&(rt.updateQueue=lt,rt.flags|=4),rt.subtreeFlags=0,lt=at,at=rt.child;at!==null;)ct=at,_e=lt,ct.flags&=14680066,ut=ct.alternate,ut===null?(ct.childLanes=0,ct.lanes=_e,ct.child=null,ct.subtreeFlags=0,ct.memoizedProps=null,ct.memoizedState=null,ct.updateQueue=null,ct.dependencies=null,ct.stateNode=null):(ct.childLanes=ut.childLanes,ct.lanes=ut.lanes,ct.child=ut.child,ct.subtreeFlags=0,ct.deletions=null,ct.memoizedProps=ut.memoizedProps,ct.memoizedState=ut.memoizedState,ct.updateQueue=ut.updateQueue,ct.type=ut.type,_e=ut.dependencies,ct.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),at=at.sibling;return G$4(M$5,M$5.current&1|2),rt.child}_e=_e.sibling}ct.tail!==null&&B$7()>Hj&&(rt.flags|=128,lt=!0,Ej(ct,!1),rt.lanes=4194304)}else{if(!lt)if(_e=Mh(ut),_e!==null){if(rt.flags|=128,lt=!0,at=_e.updateQueue,at!==null&&(rt.updateQueue=at,rt.flags|=4),Ej(ct,!0),ct.tail===null&&ct.tailMode==="hidden"&&!ut.alternate&&!I$5)return S$6(rt),null}else 2*B$7()-ct.renderingStartTime>Hj&&at!==1073741824&&(rt.flags|=128,lt=!0,Ej(ct,!1),rt.lanes=4194304);ct.isBackwards?(ut.sibling=rt.child,rt.child=ut):(at=ct.last,at!==null?at.sibling=ut:rt.child=ut,ct.last=ut)}return ct.tail!==null?(rt=ct.tail,ct.rendering=rt,ct.tail=rt.sibling,ct.renderingStartTime=B$7(),rt.sibling=null,at=M$5.current,G$4(M$5,lt?at&1|2:at&1),rt):(S$6(rt),null);case 22:case 23:return Ij(),lt=rt.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==lt&&(rt.flags|=8192),lt&&rt.mode&1?gj&1073741824&&(S$6(rt),rt.subtreeFlags&6&&(rt.flags|=8192)):S$6(rt),null;case 24:return null;case 25:return null}throw Error(p$a(156,rt.tag))}function Jj(_e,rt){switch(wg(rt),rt.tag){case 1:return Zf(rt.type)&&$f(),_e=rt.flags,_e&65536?(rt.flags=_e&-65537|128,rt):null;case 3:return Jh(),E$7(Wf),E$7(H$5),Oh(),_e=rt.flags,_e&65536&&!(_e&128)?(rt.flags=_e&-65537|128,rt):null;case 5:return Lh(rt),null;case 13:if(E$7(M$5),_e=rt.memoizedState,_e!==null&&_e.dehydrated!==null){if(rt.alternate===null)throw Error(p$a(340));Ig()}return _e=rt.flags,_e&65536?(rt.flags=_e&-65537|128,rt):null;case 19:return E$7(M$5),null;case 4:return Jh(),null;case 10:return Rg(rt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(_e,rt){var at=_e.ref;if(at!==null)if(typeof at=="function")try{at(null)}catch(lt){W$2(_e,rt,lt)}else at.current=null}function Nj(_e,rt,at){try{at()}catch(lt){W$2(_e,rt,lt)}}var Oj=!1;function Pj(_e,rt){if(Cf$1=dd$1,_e=Me$1(),Ne$2(_e)){if("selectionStart"in _e)var at={start:_e.selectionStart,end:_e.selectionEnd};else e:{at=(at=_e.ownerDocument)&&at.defaultView||window;var lt=at.getSelection&&at.getSelection();if(lt&&lt.rangeCount!==0){at=lt.anchorNode;var st=lt.anchorOffset,ct=lt.focusNode;lt=lt.focusOffset;try{at.nodeType,ct.nodeType}catch{at=null;break e}var ut=0,ft=-1,dt=-1,pt=0,ht=0,gt=_e,mt=null;t:for(;;){for(var xt;gt!==at||st!==0&&gt.nodeType!==3||(ft=ut+st),gt!==ct||lt!==0&&gt.nodeType!==3||(dt=ut+lt),gt.nodeType===3&&(ut+=gt.nodeValue.length),(xt=gt.firstChild)!==null;)mt=gt,gt=xt;for(;;){if(gt===_e)break t;if(mt===at&&++pt===st&&(ft=ut),mt===ct&&++ht===lt&&(dt=ut),(xt=gt.nextSibling)!==null)break;gt=mt,mt=gt.parentNode}gt=xt}at=ft===-1||dt===-1?null:{start:ft,end:dt}}else at=null}at=at||{start:0,end:0}}else at=null;for(Df$1={focusedElem:_e,selectionRange:at},dd$1=!1,V=rt;V!==null;)if(rt=V,_e=rt.child,(rt.subtreeFlags&1028)!==0&&_e!==null)_e.return=rt,V=_e;else for(;V!==null;){rt=V;try{var vt=rt.alternate;if(rt.flags&1024)switch(rt.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var yt=vt.memoizedProps,_t=vt.memoizedState,$t=rt.stateNode,Et=$t.getSnapshotBeforeUpdate(rt.elementType===rt.type?yt:Lg(rt.type,yt),_t);$t.__reactInternalSnapshotBeforeUpdate=Et}break;case 3:var wt=rt.stateNode.containerInfo;wt.nodeType===1?wt.textContent="":wt.nodeType===9&&wt.documentElement&&wt.removeChild(wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$a(163))}}catch(bt){W$2(rt,rt.return,bt)}if(_e=rt.sibling,_e!==null){_e.return=rt.return,V=_e;break}V=rt.return}return vt=Oj,Oj=!1,vt}function Qj(_e,rt,at){var lt=rt.updateQueue;if(lt=lt!==null?lt.lastEffect:null,lt!==null){var st=lt=lt.next;do{if((st.tag&_e)===_e){var ct=st.destroy;st.destroy=void 0,ct!==void 0&&Nj(rt,at,ct)}st=st.next}while(st!==lt)}}function Rj(_e,rt){if(rt=rt.updateQueue,rt=rt!==null?rt.lastEffect:null,rt!==null){var at=rt=rt.next;do{if((at.tag&_e)===_e){var lt=at.create;at.destroy=lt()}at=at.next}while(at!==rt)}}function Sj(_e){var rt=_e.ref;if(rt!==null){var at=_e.stateNode;switch(_e.tag){case 5:_e=at;break;default:_e=at}typeof rt=="function"?rt(_e):rt.current=_e}}function Tj(_e){var rt=_e.alternate;rt!==null&&(_e.alternate=null,Tj(rt)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(rt=_e.stateNode,rt!==null&&(delete rt[Of],delete rt[Pf],delete rt[of$1],delete rt[Qf],delete rt[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,rt,at){var lt=_e.tag;if(lt===5||lt===6)_e=_e.stateNode,rt?at.nodeType===8?at.parentNode.insertBefore(_e,rt):at.insertBefore(_e,rt):(at.nodeType===8?(rt=at.parentNode,rt.insertBefore(_e,at)):(rt=at,rt.appendChild(_e)),at=at._reactRootContainer,at!=null||rt.onclick!==null||(rt.onclick=Bf$1));else if(lt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,rt,at),_e=_e.sibling;_e!==null;)Wj(_e,rt,at),_e=_e.sibling}function Xj(_e,rt,at){var lt=_e.tag;if(lt===5||lt===6)_e=_e.stateNode,rt?at.insertBefore(_e,rt):at.appendChild(_e);else if(lt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,rt,at),_e=_e.sibling;_e!==null;)Xj(_e,rt,at),_e=_e.sibling}var X$3=null,Yj=!1;function Zj(_e,rt,at){for(at=at.child;at!==null;)ak(_e,rt,at),at=at.sibling}function ak(_e,rt,at){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,at)}catch{}switch(at.tag){case 5:U$2||Mj(at,rt);case 6:var lt=X$3,st=Yj;X$3=null,Zj(_e,rt,at),X$3=lt,Yj=st,X$3!==null&&(Yj?(_e=X$3,at=at.stateNode,_e.nodeType===8?_e.parentNode.removeChild(at):_e.removeChild(at)):X$3.removeChild(at.stateNode));break;case 18:X$3!==null&&(Yj?(_e=X$3,at=at.stateNode,_e.nodeType===8?Kf(_e.parentNode,at):_e.nodeType===1&&Kf(_e,at),bd$1(_e)):Kf(X$3,at.stateNode));break;case 4:lt=X$3,st=Yj,X$3=at.stateNode.containerInfo,Yj=!0,Zj(_e,rt,at),X$3=lt,Yj=st;break;case 0:case 11:case 14:case 15:if(!U$2&&(lt=at.updateQueue,lt!==null&&(lt=lt.lastEffect,lt!==null))){st=lt=lt.next;do{var ct=st,ut=ct.destroy;ct=ct.tag,ut!==void 0&&(ct&2||ct&4)&&Nj(at,rt,ut),st=st.next}while(st!==lt)}Zj(_e,rt,at);break;case 1:if(!U$2&&(Mj(at,rt),lt=at.stateNode,typeof lt.componentWillUnmount=="function"))try{lt.props=at.memoizedProps,lt.state=at.memoizedState,lt.componentWillUnmount()}catch(ft){W$2(at,rt,ft)}Zj(_e,rt,at);break;case 21:Zj(_e,rt,at);break;case 22:at.mode&1?(U$2=(lt=U$2)||at.memoizedState!==null,Zj(_e,rt,at),U$2=lt):Zj(_e,rt,at);break;default:Zj(_e,rt,at)}}function bk(_e){var rt=_e.updateQueue;if(rt!==null){_e.updateQueue=null;var at=_e.stateNode;at===null&&(at=_e.stateNode=new Lj),rt.forEach(function(lt){var st=ck.bind(null,_e,lt);at.has(lt)||(at.add(lt),lt.then(st,st))})}}function dk(_e,rt){var at=rt.deletions;if(at!==null)for(var lt=0;lt<at.length;lt++){var st=at[lt];try{var ct=_e,ut=rt,ft=ut;e:for(;ft!==null;){switch(ft.tag){case 5:X$3=ft.stateNode,Yj=!1;break e;case 3:X$3=ft.stateNode.containerInfo,Yj=!0;break e;case 4:X$3=ft.stateNode.containerInfo,Yj=!0;break e}ft=ft.return}if(X$3===null)throw Error(p$a(160));ak(ct,ut,st),X$3=null,Yj=!1;var dt=st.alternate;dt!==null&&(dt.return=null),st.return=null}catch(pt){W$2(st,rt,pt)}}if(rt.subtreeFlags&12854)for(rt=rt.child;rt!==null;)ek(rt,_e),rt=rt.sibling}function ek(_e,rt){var at=_e.alternate,lt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(rt,_e),fk(_e),lt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(yt){W$2(_e,_e.return,yt)}try{Qj(5,_e,_e.return)}catch(yt){W$2(_e,_e.return,yt)}}break;case 1:dk(rt,_e),fk(_e),lt&512&&at!==null&&Mj(at,at.return);break;case 5:if(dk(rt,_e),fk(_e),lt&512&&at!==null&&Mj(at,at.return),_e.flags&32){var st=_e.stateNode;try{ob$1(st,"")}catch(yt){W$2(_e,_e.return,yt)}}if(lt&4&&(st=_e.stateNode,st!=null)){var ct=_e.memoizedProps,ut=at!==null?at.memoizedProps:ct,ft=_e.type,dt=_e.updateQueue;if(_e.updateQueue=null,dt!==null)try{ft==="input"&&ct.type==="radio"&&ct.name!=null&&ab$1(st,ct),vb$1(ft,ut);var pt=vb$1(ft,ct);for(ut=0;ut<dt.length;ut+=2){var ht=dt[ut],gt=dt[ut+1];ht==="style"?sb$1(st,gt):ht==="dangerouslySetInnerHTML"?nb$1(st,gt):ht==="children"?ob$1(st,gt):ta$1(st,ht,gt,pt)}switch(ft){case"input":bb$1(st,ct);break;case"textarea":ib(st,ct);break;case"select":var mt=st._wrapperState.wasMultiple;st._wrapperState.wasMultiple=!!ct.multiple;var xt=ct.value;xt!=null?fb$1(st,!!ct.multiple,xt,!1):mt!==!!ct.multiple&&(ct.defaultValue!=null?fb$1(st,!!ct.multiple,ct.defaultValue,!0):fb$1(st,!!ct.multiple,ct.multiple?[]:"",!1))}st[Pf]=ct}catch(yt){W$2(_e,_e.return,yt)}}break;case 6:if(dk(rt,_e),fk(_e),lt&4){if(_e.stateNode===null)throw Error(p$a(162));st=_e.stateNode,ct=_e.memoizedProps;try{st.nodeValue=ct}catch(yt){W$2(_e,_e.return,yt)}}break;case 3:if(dk(rt,_e),fk(_e),lt&4&&at!==null&&at.memoizedState.isDehydrated)try{bd$1(rt.containerInfo)}catch(yt){W$2(_e,_e.return,yt)}break;case 4:dk(rt,_e),fk(_e);break;case 13:dk(rt,_e),fk(_e),st=_e.child,st.flags&8192&&(ct=st.memoizedState!==null,st.stateNode.isHidden=ct,!ct||st.alternate!==null&&st.alternate.memoizedState!==null||(gk=B$7())),lt&4&&bk(_e);break;case 22:if(ht=at!==null&&at.memoizedState!==null,_e.mode&1?(U$2=(pt=U$2)||ht,dk(rt,_e),U$2=pt):dk(rt,_e),fk(_e),lt&8192){if(pt=_e.memoizedState!==null,(_e.stateNode.isHidden=pt)&&!ht&&_e.mode&1)for(V=_e,ht=_e.child;ht!==null;){for(gt=V=ht;V!==null;){switch(mt=V,xt=mt.child,mt.tag){case 0:case 11:case 14:case 15:Qj(4,mt,mt.return);break;case 1:Mj(mt,mt.return);var vt=mt.stateNode;if(typeof vt.componentWillUnmount=="function"){lt=mt,at=mt.return;try{rt=lt,vt.props=rt.memoizedProps,vt.state=rt.memoizedState,vt.componentWillUnmount()}catch(yt){W$2(lt,at,yt)}}break;case 5:Mj(mt,mt.return);break;case 22:if(mt.memoizedState!==null){hk(gt);continue}}xt!==null?(xt.return=mt,V=xt):hk(gt)}ht=ht.sibling}e:for(ht=null,gt=_e;;){if(gt.tag===5){if(ht===null){ht=gt;try{st=gt.stateNode,pt?(ct=st.style,typeof ct.setProperty=="function"?ct.setProperty("display","none","important"):ct.display="none"):(ft=gt.stateNode,dt=gt.memoizedProps.style,ut=dt!=null&&dt.hasOwnProperty("display")?dt.display:null,ft.style.display=rb$1("display",ut))}catch(yt){W$2(_e,_e.return,yt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=pt?"":gt.memoizedProps}catch(yt){W$2(_e,_e.return,yt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===_e)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===_e)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===_e)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(rt,_e),fk(_e),lt&4&&bk(_e);break;case 21:break;default:dk(rt,_e),fk(_e)}}function fk(_e){var rt=_e.flags;if(rt&2){try{e:{for(var at=_e.return;at!==null;){if(Uj(at)){var lt=at;break e}at=at.return}throw Error(p$a(160))}switch(lt.tag){case 5:var st=lt.stateNode;lt.flags&32&&(ob$1(st,""),lt.flags&=-33);var ct=Vj(_e);Xj(_e,ct,st);break;case 3:case 4:var ut=lt.stateNode.containerInfo,ft=Vj(_e);Wj(_e,ft,ut);break;default:throw Error(p$a(161))}}catch(dt){W$2(_e,_e.return,dt)}_e.flags&=-3}rt&4096&&(_e.flags&=-4097)}function ik(_e,rt,at){V=_e,jk(_e)}function jk(_e,rt,at){for(var lt=(_e.mode&1)!==0;V!==null;){var st=V,ct=st.child;if(st.tag===22&&lt){var ut=st.memoizedState!==null||Kj;if(!ut){var ft=st.alternate,dt=ft!==null&&ft.memoizedState!==null||U$2;ft=Kj;var pt=U$2;if(Kj=ut,(U$2=dt)&&!pt)for(V=st;V!==null;)ut=V,dt=ut.child,ut.tag===22&&ut.memoizedState!==null?kk(st):dt!==null?(dt.return=ut,V=dt):kk(st);for(;ct!==null;)V=ct,jk(ct),ct=ct.sibling;V=st,Kj=ft,U$2=pt}lk(_e)}else st.subtreeFlags&8772&&ct!==null?(ct.return=st,V=ct):lk(_e)}}function lk(_e){for(;V!==null;){var rt=V;if(rt.flags&8772){var at=rt.alternate;try{if(rt.flags&8772)switch(rt.tag){case 0:case 11:case 15:U$2||Rj(5,rt);break;case 1:var lt=rt.stateNode;if(rt.flags&4&&!U$2)if(at===null)lt.componentDidMount();else{var st=rt.elementType===rt.type?at.memoizedProps:Lg(rt.type,at.memoizedProps);lt.componentDidUpdate(st,at.memoizedState,lt.__reactInternalSnapshotBeforeUpdate)}var ct=rt.updateQueue;ct!==null&&ih(rt,ct,lt);break;case 3:var ut=rt.updateQueue;if(ut!==null){if(at=null,rt.child!==null)switch(rt.child.tag){case 5:at=rt.child.stateNode;break;case 1:at=rt.child.stateNode}ih(rt,ut,at)}break;case 5:var ft=rt.stateNode;if(at===null&&rt.flags&4){at=ft;var dt=rt.memoizedProps;switch(rt.type){case"button":case"input":case"select":case"textarea":dt.autoFocus&&at.focus();break;case"img":dt.src&&(at.src=dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(rt.memoizedState===null){var pt=rt.alternate;if(pt!==null){var ht=pt.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&bd$1(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$a(163))}U$2||rt.flags&512&&Sj(rt)}catch(mt){W$2(rt,rt.return,mt)}}if(rt===_e){V=null;break}if(at=rt.sibling,at!==null){at.return=rt.return,V=at;break}V=rt.return}}function hk(_e){for(;V!==null;){var rt=V;if(rt===_e){V=null;break}var at=rt.sibling;if(at!==null){at.return=rt.return,V=at;break}V=rt.return}}function kk(_e){for(;V!==null;){var rt=V;try{switch(rt.tag){case 0:case 11:case 15:var at=rt.return;try{Rj(4,rt)}catch(dt){W$2(rt,at,dt)}break;case 1:var lt=rt.stateNode;if(typeof lt.componentDidMount=="function"){var st=rt.return;try{lt.componentDidMount()}catch(dt){W$2(rt,st,dt)}}var ct=rt.return;try{Sj(rt)}catch(dt){W$2(rt,ct,dt)}break;case 5:var ut=rt.return;try{Sj(rt)}catch(dt){W$2(rt,ut,dt)}}}catch(dt){W$2(rt,rt.return,dt)}if(rt===_e){V=null;break}var ft=rt.sibling;if(ft!==null){ft.return=rt.return,V=ft;break}V=rt.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$2=0,R$5=null,Y$1=null,Z$2=0,gj=0,fj=Uf(0),T$6=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$6(){return K$2&6?B$7():Bk!==-1?Bk:Bk=B$7()}function lh(_e){return _e.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(_e=C$5,_e!==0||(_e=window.event,_e=_e===void 0?16:jd$1(_e.type)),_e):1}function mh(_e,rt,at,lt){if(50<zk)throw zk=0,Ak=null,Error(p$a(185));Ac$1(_e,at,lt),(!(K$2&2)||_e!==R$5)&&(_e===R$5&&(!(K$2&2)&&(rk|=at),T$6===4&&Dk(_e,Z$2)),Ek(_e,lt),at===1&&K$2===0&&!(rt.mode&1)&&(Hj=B$7()+500,fg&&jg()))}function Ek(_e,rt){var at=_e.callbackNode;wc$1(_e,rt);var lt=uc$1(_e,_e===R$5?Z$2:0);if(lt===0)at!==null&&bc$1(at),_e.callbackNode=null,_e.callbackPriority=0;else if(rt=lt&-lt,_e.callbackPriority!==rt){if(at!=null&&bc$1(at),rt===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K$2&6)&&jg()}),at=null;else{switch(Dc$1(lt)){case 1:at=fc$1;break;case 4:at=gc$1;break;case 16:at=hc$1;break;case 536870912:at=jc$1;break;default:at=hc$1}at=Gk(at,Hk.bind(null,_e))}_e.callbackPriority=rt,_e.callbackNode=at}}function Hk(_e,rt){if(Bk=-1,Ck=0,K$2&6)throw Error(p$a(327));var at=_e.callbackNode;if(Ik()&&_e.callbackNode!==at)return null;var lt=uc$1(_e,_e===R$5?Z$2:0);if(lt===0)return null;if(lt&30||lt&_e.expiredLanes||rt)rt=Jk(_e,lt);else{rt=lt;var st=K$2;K$2|=2;var ct=Kk();(R$5!==_e||Z$2!==rt)&&(vk=null,Hj=B$7()+500,Lk(_e,rt));do try{Mk();break}catch(ft){Nk(_e,ft)}while(1);Qg(),nk.current=ct,K$2=st,Y$1!==null?rt=0:(R$5=null,Z$2=0,rt=T$6)}if(rt!==0){if(rt===2&&(st=xc$1(_e),st!==0&&(lt=st,rt=Ok(_e,st))),rt===1)throw at=qk,Lk(_e,0),Dk(_e,lt),Ek(_e,B$7()),at;if(rt===6)Dk(_e,lt);else{if(st=_e.current.alternate,!(lt&30)&&!Pk(st)&&(rt=Jk(_e,lt),rt===2&&(ct=xc$1(_e),ct!==0&&(lt=ct,rt=Ok(_e,ct))),rt===1))throw at=qk,Lk(_e,0),Dk(_e,lt),Ek(_e,B$7()),at;switch(_e.finishedWork=st,_e.finishedLanes=lt,rt){case 0:case 1:throw Error(p$a(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,lt),(lt&130023424)===lt&&(rt=gk+500-B$7(),10<rt)){if(uc$1(_e,0)!==0)break;if(st=_e.suspendedLanes,(st&lt)!==lt){L$6(),_e.pingedLanes|=_e.suspendedLanes&st;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),rt);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,lt),(lt&4194240)===lt)break;for(rt=_e.eventTimes,st=-1;0<lt;){var ut=31-oc$1(lt);ct=1<<ut,ut=rt[ut],ut>st&&(st=ut),lt&=~ct}if(lt=st,lt=B$7()-lt,lt=(120>lt?120:480>lt?480:1080>lt?1080:1920>lt?1920:3e3>lt?3e3:4320>lt?4320:1960*mk(lt/1960))-lt,10<lt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),lt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$a(329))}}}return Ek(_e,B$7()),_e.callbackNode===at?Hk.bind(null,_e):null}function Ok(_e,rt){var at=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,rt).flags|=256),_e=Jk(_e,rt),_e!==2&&(rt=uk,uk=at,rt!==null&&Gj(rt)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var rt=_e;;){if(rt.flags&16384){var at=rt.updateQueue;if(at!==null&&(at=at.stores,at!==null))for(var lt=0;lt<at.length;lt++){var st=at[lt],ct=st.getSnapshot;st=st.value;try{if(!He$2(ct(),st))return!1}catch{return!1}}}if(at=rt.child,rt.subtreeFlags&16384&&at!==null)at.return=rt,rt=at;else{if(rt===_e)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===_e)return!0;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}}return!0}function Dk(_e,rt){for(rt&=~sk,rt&=~rk,_e.suspendedLanes|=rt,_e.pingedLanes&=~rt,_e=_e.expirationTimes;0<rt;){var at=31-oc$1(rt),lt=1<<at;_e[at]=-1,rt&=~lt}}function Fk(_e){if(K$2&6)throw Error(p$a(327));Ik();var rt=uc$1(_e,0);if(!(rt&1))return Ek(_e,B$7()),null;var at=Jk(_e,rt);if(_e.tag!==0&&at===2){var lt=xc$1(_e);lt!==0&&(rt=lt,at=Ok(_e,lt))}if(at===1)throw at=qk,Lk(_e,0),Dk(_e,rt),Ek(_e,B$7()),at;if(at===6)throw Error(p$a(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=rt,Qk(_e,uk,vk),Ek(_e,B$7()),null}function Rk(_e,rt){var at=K$2;K$2|=1;try{return _e(rt)}finally{K$2=at,K$2===0&&(Hj=B$7()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var rt=K$2;K$2|=1;var at=pk.transition,lt=C$5;try{if(pk.transition=null,C$5=1,_e)return _e()}finally{C$5=lt,pk.transition=at,K$2=rt,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$7(fj)}function Lk(_e,rt){_e.finishedWork=null,_e.finishedLanes=0;var at=_e.timeoutHandle;if(at!==-1&&(_e.timeoutHandle=-1,Gf(at)),Y$1!==null)for(at=Y$1.return;at!==null;){var lt=at;switch(wg(lt),lt.tag){case 1:lt=lt.type.childContextTypes,lt!=null&&$f();break;case 3:Jh(),E$7(Wf),E$7(H$5),Oh();break;case 5:Lh(lt);break;case 4:Jh();break;case 13:E$7(M$5);break;case 19:E$7(M$5);break;case 10:Rg(lt.type._context);break;case 22:case 23:Ij()}at=at.return}if(R$5=_e,Y$1=_e=wh(_e.current,null),Z$2=gj=rt,T$6=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(rt=0;rt<Wg.length;rt++)if(at=Wg[rt],lt=at.interleaved,lt!==null){at.interleaved=null;var st=lt.next,ct=at.pending;if(ct!==null){var ut=ct.next;ct.next=st,lt.next=ut}at.pending=lt}Wg=null}return _e}function Nk(_e,rt){do{var at=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var lt=N$7.memoizedState;lt!==null;){var st=lt.queue;st!==null&&(st.pending=null),lt=lt.next}Sh=!1}if(Rh=0,P$3=O$4=N$7=null,Th=!1,Uh=0,ok.current=null,at===null||at.return===null){T$6=1,qk=rt,Y$1=null;break}e:{var ct=_e,ut=at.return,ft=at,dt=rt;if(rt=Z$2,ft.flags|=32768,dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var pt=dt,ht=ft,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var mt=ht.alternate;mt?(ht.updateQueue=mt.updateQueue,ht.memoizedState=mt.memoizedState,ht.lanes=mt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var xt=Vi(ut);if(xt!==null){xt.flags&=-257,Wi(xt,ut,ft,ct,rt),xt.mode&1&&Ti(ct,pt,rt),rt=xt,dt=pt;var vt=rt.updateQueue;if(vt===null){var yt=new Set;yt.add(dt),rt.updateQueue=yt}else vt.add(dt);break e}else{if(!(rt&1)){Ti(ct,pt,rt),uj();break e}dt=Error(p$a(426))}}else if(I$5&&ft.mode&1){var _t=Vi(ut);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),Wi(_t,ut,ft,ct,rt),Jg(Ki(dt,ft));break e}}ct=dt=Ki(dt,ft),T$6!==4&&(T$6=2),tk===null?tk=[ct]:tk.push(ct),ct=ut;do{switch(ct.tag){case 3:ct.flags|=65536,rt&=-rt,ct.lanes|=rt;var $t=Oi(ct,dt,rt);fh(ct,$t);break e;case 1:ft=dt;var Et=ct.type,wt=ct.stateNode;if(!(ct.flags&128)&&(typeof Et.getDerivedStateFromError=="function"||wt!==null&&typeof wt.componentDidCatch=="function"&&(Si===null||!Si.has(wt)))){ct.flags|=65536,rt&=-rt,ct.lanes|=rt;var bt=Ri(ct,ft,rt);fh(ct,bt);break e}}ct=ct.return}while(ct!==null)}Tk(at)}catch(St){rt=St,Y$1===at&&at!==null&&(Y$1=at=at.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$6===0||T$6===3||T$6===2)&&(T$6=4),R$5===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$5,Z$2)}function Jk(_e,rt){var at=K$2;K$2|=2;var lt=Kk();(R$5!==_e||Z$2!==rt)&&(vk=null,Lk(_e,rt));do try{Uk();break}catch(st){Nk(_e,st)}while(1);if(Qg(),K$2=at,nk.current=lt,Y$1!==null)throw Error(p$a(261));return R$5=null,Z$2=0,T$6}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk(_e){var rt=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,rt===null?Tk(_e):Y$1=rt,ok.current=null}function Tk(_e){var rt=_e;do{var at=rt.alternate;if(_e=rt.return,rt.flags&32768){if(at=Jj(at,rt),at!==null){at.flags&=32767,Y$1=at;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$6=6,Y$1=null;return}}else if(at=Fj(at,rt,gj),at!==null){Y$1=at;return}if(rt=rt.sibling,rt!==null){Y$1=rt;return}Y$1=rt=_e}while(rt!==null);T$6===0&&(T$6=5)}function Qk(_e,rt,at){var lt=C$5,st=pk.transition;try{pk.transition=null,C$5=1,Xk(_e,rt,at,lt)}finally{pk.transition=st,C$5=lt}return null}function Xk(_e,rt,at,lt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$a(327));at=_e.finishedWork;var st=_e.finishedLanes;if(at===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,at===_e.current)throw Error(p$a(177));_e.callbackNode=null,_e.callbackPriority=0;var ct=at.lanes|at.childLanes;if(Bc$1(_e,ct),_e===R$5&&(Y$1=R$5=null,Z$2=0),!(at.subtreeFlags&2064)&&!(at.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),ct=(at.flags&15990)!==0,at.subtreeFlags&15990||ct){ct=pk.transition,pk.transition=null;var ut=C$5;C$5=1;var ft=K$2;K$2|=4,ok.current=null,Pj(_e,at),ek(at,_e),Oe$1(Df$1),dd$1=!!Cf$1,Df$1=Cf$1=null,_e.current=at,ik(at),dc$1(),K$2=ft,C$5=ut,pk.transition=ct}else _e.current=at;if(wk&&(wk=!1,xk=_e,yk=st),ct=_e.pendingLanes,ct===0&&(Si=null),mc$1(at.stateNode),Ek(_e,B$7()),rt!==null)for(lt=_e.onRecoverableError,at=0;at<rt.length;at++)st=rt[at],lt(st.value,{componentStack:st.stack,digest:st.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),ct=_e.pendingLanes,ct&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc$1(yk),rt=pk.transition,at=C$5;try{if(pk.transition=null,C$5=16>_e?16:_e,xk===null)var lt=!1;else{if(_e=xk,xk=null,yk=0,K$2&6)throw Error(p$a(331));var st=K$2;for(K$2|=4,V=_e.current;V!==null;){var ct=V,ut=ct.child;if(V.flags&16){var ft=ct.deletions;if(ft!==null){for(var dt=0;dt<ft.length;dt++){var pt=ft[dt];for(V=pt;V!==null;){var ht=V;switch(ht.tag){case 0:case 11:case 15:Qj(8,ht,ct)}var gt=ht.child;if(gt!==null)gt.return=ht,V=gt;else for(;V!==null;){ht=V;var mt=ht.sibling,xt=ht.return;if(Tj(ht),ht===pt){V=null;break}if(mt!==null){mt.return=xt,V=mt;break}V=xt}}}var vt=ct.alternate;if(vt!==null){var yt=vt.child;if(yt!==null){vt.child=null;do{var _t=yt.sibling;yt.sibling=null,yt=_t}while(yt!==null)}}V=ct}}if(ct.subtreeFlags&2064&&ut!==null)ut.return=ct,V=ut;else e:for(;V!==null;){if(ct=V,ct.flags&2048)switch(ct.tag){case 0:case 11:case 15:Qj(9,ct,ct.return)}var $t=ct.sibling;if($t!==null){$t.return=ct.return,V=$t;break e}V=ct.return}}var Et=_e.current;for(V=Et;V!==null;){ut=V;var wt=ut.child;if(ut.subtreeFlags&2064&&wt!==null)wt.return=ut,V=wt;else e:for(ut=Et;V!==null;){if(ft=V,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Rj(9,ft)}}catch(St){W$2(ft,ft.return,St)}if(ft===ut){V=null;break e}var bt=ft.sibling;if(bt!==null){bt.return=ft.return,V=bt;break e}V=ft.return}}if(K$2=st,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,_e)}catch{}lt=!0}return lt}finally{C$5=at,pk.transition=rt}}return!1}function Yk(_e,rt,at){rt=Ki(at,rt),rt=Oi(_e,rt,1),_e=dh(_e,rt,1),rt=L$6(),_e!==null&&(Ac$1(_e,1,rt),Ek(_e,rt))}function W$2(_e,rt,at){if(_e.tag===3)Yk(_e,_e,at);else for(;rt!==null;){if(rt.tag===3){Yk(rt,_e,at);break}else if(rt.tag===1){var lt=rt.stateNode;if(typeof rt.type.getDerivedStateFromError=="function"||typeof lt.componentDidCatch=="function"&&(Si===null||!Si.has(lt))){_e=Ki(at,_e),_e=Ri(rt,_e,1),rt=dh(rt,_e,1),_e=L$6(),rt!==null&&(Ac$1(rt,1,_e),Ek(rt,_e));break}}rt=rt.return}}function Ui(_e,rt,at){var lt=_e.pingCache;lt!==null&&lt.delete(rt),rt=L$6(),_e.pingedLanes|=_e.suspendedLanes&at,R$5===_e&&(Z$2&at)===at&&(T$6===4||T$6===3&&(Z$2&130023424)===Z$2&&500>B$7()-gk?Lk(_e,0):sk|=at),Ek(_e,rt)}function Zk(_e,rt){rt===0&&(_e.mode&1?(rt=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):rt=1);var at=L$6();_e=Zg(_e,rt),_e!==null&&(Ac$1(_e,rt,at),Ek(_e,at))}function vj(_e){var rt=_e.memoizedState,at=0;rt!==null&&(at=rt.retryLane),Zk(_e,at)}function ck(_e,rt){var at=0;switch(_e.tag){case 13:var lt=_e.stateNode,st=_e.memoizedState;st!==null&&(at=st.retryLane);break;case 19:lt=_e.stateNode;break;default:throw Error(p$a(314))}lt!==null&&lt.delete(rt),Zk(_e,at)}var Wk;Wk=function(_e,rt,at){if(_e!==null)if(_e.memoizedProps!==rt.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&at)&&!(rt.flags&128))return Ug=!1,zj(_e,rt,at);Ug=!!(_e.flags&131072)}else Ug=!1,I$5&&rt.flags&1048576&&ug(rt,ng,rt.index);switch(rt.lanes=0,rt.tag){case 2:var lt=rt.type;jj(_e,rt),_e=rt.pendingProps;var st=Yf(rt,H$5.current);Tg(rt,at),st=Xh(null,rt,lt,_e,st,at);var ct=bi();return rt.flags|=1,typeof st=="object"&&st!==null&&typeof st.render=="function"&&st.$$typeof===void 0?(rt.tag=1,rt.memoizedState=null,rt.updateQueue=null,Zf(lt)?(ct=!0,cg(rt)):ct=!1,rt.memoizedState=st.state!==null&&st.state!==void 0?st.state:null,ah(rt),st.updater=nh,rt.stateNode=st,st._reactInternals=rt,rh(rt,lt,_e,at),rt=kj(null,rt,lt,!0,ct,at)):(rt.tag=0,I$5&&ct&&vg(rt),Yi(null,rt,st,at),rt=rt.child),rt;case 16:lt=rt.elementType;e:{switch(jj(_e,rt),_e=rt.pendingProps,st=lt._init,lt=st(lt._payload),rt.type=lt,st=rt.tag=$k(lt),_e=Lg(lt,_e),st){case 0:rt=dj(null,rt,lt,_e,at);break e;case 1:rt=ij(null,rt,lt,_e,at);break e;case 11:rt=Zi(null,rt,lt,_e,at);break e;case 14:rt=aj(null,rt,lt,Lg(lt.type,_e),at);break e}throw Error(p$a(306,lt,""))}return rt;case 0:return lt=rt.type,st=rt.pendingProps,st=rt.elementType===lt?st:Lg(lt,st),dj(_e,rt,lt,st,at);case 1:return lt=rt.type,st=rt.pendingProps,st=rt.elementType===lt?st:Lg(lt,st),ij(_e,rt,lt,st,at);case 3:e:{if(lj(rt),_e===null)throw Error(p$a(387));lt=rt.pendingProps,ct=rt.memoizedState,st=ct.element,bh(_e,rt),gh(rt,lt,null,at);var ut=rt.memoizedState;if(lt=ut.element,ct.isDehydrated)if(ct={element:lt,isDehydrated:!1,cache:ut.cache,pendingSuspenseBoundaries:ut.pendingSuspenseBoundaries,transitions:ut.transitions},rt.updateQueue.baseState=ct,rt.memoizedState=ct,rt.flags&256){st=Ki(Error(p$a(423)),rt),rt=mj(_e,rt,lt,at,st);break e}else if(lt!==st){st=Ki(Error(p$a(424)),rt),rt=mj(_e,rt,lt,at,st);break e}else for(yg=Lf(rt.stateNode.containerInfo.firstChild),xg=rt,I$5=!0,zg=null,at=Ch(rt,null,lt,at),rt.child=at;at;)at.flags=at.flags&-3|4096,at=at.sibling;else{if(Ig(),lt===st){rt=$i(_e,rt,at);break e}Yi(_e,rt,lt,at)}rt=rt.child}return rt;case 5:return Kh(rt),_e===null&&Eg(rt),lt=rt.type,st=rt.pendingProps,ct=_e!==null?_e.memoizedProps:null,ut=st.children,Ef$1(lt,st)?ut=null:ct!==null&&Ef$1(lt,ct)&&(rt.flags|=32),hj(_e,rt),Yi(_e,rt,ut,at),rt.child;case 6:return _e===null&&Eg(rt),null;case 13:return pj(_e,rt,at);case 4:return Ih(rt,rt.stateNode.containerInfo),lt=rt.pendingProps,_e===null?rt.child=Bh(rt,null,lt,at):Yi(_e,rt,lt,at),rt.child;case 11:return lt=rt.type,st=rt.pendingProps,st=rt.elementType===lt?st:Lg(lt,st),Zi(_e,rt,lt,st,at);case 7:return Yi(_e,rt,rt.pendingProps,at),rt.child;case 8:return Yi(_e,rt,rt.pendingProps.children,at),rt.child;case 12:return Yi(_e,rt,rt.pendingProps.children,at),rt.child;case 10:e:{if(lt=rt.type._context,st=rt.pendingProps,ct=rt.memoizedProps,ut=st.value,G$4(Mg,lt._currentValue),lt._currentValue=ut,ct!==null)if(He$2(ct.value,ut)){if(ct.children===st.children&&!Wf.current){rt=$i(_e,rt,at);break e}}else for(ct=rt.child,ct!==null&&(ct.return=rt);ct!==null;){var ft=ct.dependencies;if(ft!==null){ut=ct.child;for(var dt=ft.firstContext;dt!==null;){if(dt.context===lt){if(ct.tag===1){dt=ch(-1,at&-at),dt.tag=2;var pt=ct.updateQueue;if(pt!==null){pt=pt.shared;var ht=pt.pending;ht===null?dt.next=dt:(dt.next=ht.next,ht.next=dt),pt.pending=dt}}ct.lanes|=at,dt=ct.alternate,dt!==null&&(dt.lanes|=at),Sg(ct.return,at,rt),ft.lanes|=at;break}dt=dt.next}}else if(ct.tag===10)ut=ct.type===rt.type?null:ct.child;else if(ct.tag===18){if(ut=ct.return,ut===null)throw Error(p$a(341));ut.lanes|=at,ft=ut.alternate,ft!==null&&(ft.lanes|=at),Sg(ut,at,rt),ut=ct.sibling}else ut=ct.child;if(ut!==null)ut.return=ct;else for(ut=ct;ut!==null;){if(ut===rt){ut=null;break}if(ct=ut.sibling,ct!==null){ct.return=ut.return,ut=ct;break}ut=ut.return}ct=ut}Yi(_e,rt,st.children,at),rt=rt.child}return rt;case 9:return st=rt.type,lt=rt.pendingProps.children,Tg(rt,at),st=Vg(st),lt=lt(st),rt.flags|=1,Yi(_e,rt,lt,at),rt.child;case 14:return lt=rt.type,st=Lg(lt,rt.pendingProps),st=Lg(lt.type,st),aj(_e,rt,lt,st,at);case 15:return cj(_e,rt,rt.type,rt.pendingProps,at);case 17:return lt=rt.type,st=rt.pendingProps,st=rt.elementType===lt?st:Lg(lt,st),jj(_e,rt),rt.tag=1,Zf(lt)?(_e=!0,cg(rt)):_e=!1,Tg(rt,at),ph(rt,lt,st),rh(rt,lt,st,at),kj(null,rt,lt,!0,_e,at);case 19:return yj(_e,rt,at);case 22:return ej(_e,rt,at)}throw Error(p$a(156,rt.tag))};function Gk(_e,rt){return ac$1(_e,rt)}function al(_e,rt,at,lt){this.tag=_e,this.key=at,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=rt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,rt,at,lt){return new al(_e,rt,at,lt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da$1)return 11;if(_e===Ga$1)return 14}return 2}function wh(_e,rt){var at=_e.alternate;return at===null?(at=Bg(_e.tag,rt,_e.key,_e.mode),at.elementType=_e.elementType,at.type=_e.type,at.stateNode=_e.stateNode,at.alternate=_e,_e.alternate=at):(at.pendingProps=rt,at.type=_e.type,at.flags=0,at.subtreeFlags=0,at.deletions=null),at.flags=_e.flags&14680064,at.childLanes=_e.childLanes,at.lanes=_e.lanes,at.child=_e.child,at.memoizedProps=_e.memoizedProps,at.memoizedState=_e.memoizedState,at.updateQueue=_e.updateQueue,rt=_e.dependencies,at.dependencies=rt===null?null:{lanes:rt.lanes,firstContext:rt.firstContext},at.sibling=_e.sibling,at.index=_e.index,at.ref=_e.ref,at}function yh(_e,rt,at,lt,st,ct){var ut=2;if(lt=_e,typeof _e=="function")bj(_e)&&(ut=1);else if(typeof _e=="string")ut=5;else e:switch(_e){case ya$1:return Ah(at.children,st,ct,rt);case za$1:ut=8,st|=8;break;case Aa$1:return _e=Bg(12,at,rt,st|2),_e.elementType=Aa$1,_e.lanes=ct,_e;case Ea:return _e=Bg(13,at,rt,st),_e.elementType=Ea,_e.lanes=ct,_e;case Fa:return _e=Bg(19,at,rt,st),_e.elementType=Fa,_e.lanes=ct,_e;case Ia$1:return qj(at,st,ct,rt);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba$1:ut=10;break e;case Ca$1:ut=9;break e;case Da$1:ut=11;break e;case Ga$1:ut=14;break e;case Ha$1:ut=16,lt=null;break e}throw Error(p$a(130,_e==null?_e:typeof _e,""))}return rt=Bg(ut,at,rt,st),rt.elementType=_e,rt.type=lt,rt.lanes=ct,rt}function Ah(_e,rt,at,lt){return _e=Bg(7,_e,lt,rt),_e.lanes=at,_e}function qj(_e,rt,at,lt){return _e=Bg(22,_e,lt,rt),_e.elementType=Ia$1,_e.lanes=at,_e.stateNode={isHidden:!1},_e}function xh(_e,rt,at){return _e=Bg(6,_e,null,rt),_e.lanes=at,_e}function zh(_e,rt,at){return rt=Bg(4,_e.children!==null?_e.children:[],_e.key,rt),rt.lanes=at,rt.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},rt}function bl(_e,rt,at,lt,st){this.tag=rt,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=lt,this.onRecoverableError=st,this.mutableSourceEagerHydrationData=null}function cl(_e,rt,at,lt,st,ct,ut,ft,dt){return _e=new bl(_e,rt,at,ft,dt),rt===1?(rt=1,ct===!0&&(rt|=8)):rt=0,ct=Bg(3,null,null,rt),_e.current=ct,ct.stateNode=_e,ct.memoizedState={element:lt,isDehydrated:at,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ct),_e}function dl(_e,rt,at){var lt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:lt==null?null:""+lt,children:_e,containerInfo:rt,implementation:at}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb$1(_e)!==_e||_e.tag!==1)throw Error(p$a(170));var rt=_e;do{switch(rt.tag){case 3:rt=rt.stateNode.context;break e;case 1:if(Zf(rt.type)){rt=rt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}rt=rt.return}while(rt!==null);throw Error(p$a(171))}if(_e.tag===1){var at=_e.type;if(Zf(at))return bg(_e,at,rt)}return rt}function fl(_e,rt,at,lt,st,ct,ut,ft,dt){return _e=cl(at,lt,!0,_e,st,ct,ut,ft,dt),_e.context=el(null),at=_e.current,lt=L$6(),st=lh(at),ct=ch(lt,st),ct.callback=rt??null,dh(at,ct,st),_e.current.lanes=st,Ac$1(_e,st,lt),Ek(_e,lt),_e}function gl(_e,rt,at,lt){var st=rt.current,ct=L$6(),ut=lh(st);return at=el(at),rt.context===null?rt.context=at:rt.pendingContext=at,rt=ch(ct,ut),rt.payload={element:_e},lt=lt===void 0?null:lt,lt!==null&&(rt.callback=lt),_e=dh(st,rt,ut),_e!==null&&(mh(_e,st,ut,ct),eh(_e,st,ut)),ut}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,rt){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var at=_e.retryLane;_e.retryLane=at!==0&&at<rt?at:rt}}function jl(_e,rt){il(_e,rt),(_e=_e.alternate)&&il(_e,rt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var rt=this._internalRoot;if(rt===null)throw Error(p$a(409));gl(_e,rt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var rt=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),rt[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var rt=Hc$1();_e={blockedOn:null,target:_e,priority:rt};for(var at=0;at<Qc.length&&rt!==0&&rt<Qc[at].priority;at++);Qc.splice(at,0,_e),at===0&&Vc$1(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,rt,at,lt,st){if(st){if(typeof lt=="function"){var ct=lt;lt=function(){var pt=hl(ut);ct.call(pt)}}var ut=fl(rt,lt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ut,_e[uf]=ut.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ut}for(;st=_e.lastChild;)_e.removeChild(st);if(typeof lt=="function"){var ft=lt;lt=function(){var pt=hl(dt);ft.call(pt)}}var dt=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=dt,_e[uf]=dt.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(rt,dt,at,lt)}),dt}function sl(_e,rt,at,lt,st){var ct=at._reactRootContainer;if(ct){var ut=ct;if(typeof st=="function"){var ft=st;st=function(){var dt=hl(ut);ft.call(dt)}}gl(rt,ut,_e,st)}else ut=rl(at,rt,_e,st,lt);return hl(ut)}Ec$1=function(_e){switch(_e.tag){case 3:var rt=_e.stateNode;if(rt.current.memoizedState.isDehydrated){var at=tc$1(rt.pendingLanes);at!==0&&(Cc$1(rt,at|1),Ek(rt,B$7()),!(K$2&6)&&(Hj=B$7()+500,jg()))}break;case 13:Sk(function(){var lt=Zg(_e,1);if(lt!==null){var st=L$6();mh(lt,_e,1,st)}}),jl(_e,1)}};Fc$1=function(_e){if(_e.tag===13){var rt=Zg(_e,134217728);if(rt!==null){var at=L$6();mh(rt,_e,134217728,at)}jl(_e,134217728)}};Gc$1=function(_e){if(_e.tag===13){var rt=lh(_e),at=Zg(_e,rt);if(at!==null){var lt=L$6();mh(at,_e,rt,lt)}jl(_e,rt)}};Hc$1=function(){return C$5};Ic$1=function(_e,rt){var at=C$5;try{return C$5=_e,rt()}finally{C$5=at}};yb$1=function(_e,rt,at){switch(rt){case"input":if(bb$1(_e,at),rt=at.name,at.type==="radio"&&rt!=null){for(at=_e;at.parentNode;)at=at.parentNode;for(at=at.querySelectorAll("input[name="+JSON.stringify(""+rt)+'][type="radio"]'),rt=0;rt<at.length;rt++){var lt=at[rt];if(lt!==_e&&lt.form===_e.form){var st=Db$1(lt);if(!st)throw Error(p$a(90));Wa$1(lt),bb$1(lt,st)}}}break;case"textarea":ib(_e,at);break;case"select":rt=at.value,rt!=null&&fb$1(_e,!!at.multiple,rt,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db$1,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb$1(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,rt){var at=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(rt))throw Error(p$a(200));return dl(_e,rt,null,at)};reactDom_production_min.createRoot=function(_e,rt){if(!ol(_e))throw Error(p$a(299));var at=!1,lt="",st=ll;return rt!=null&&(rt.unstable_strictMode===!0&&(at=!0),rt.identifierPrefix!==void 0&&(lt=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(st=rt.onRecoverableError)),rt=cl(_e,1,!1,null,null,at,!1,lt,st),_e[uf]=rt.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(rt)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var rt=_e._reactInternals;if(rt===void 0)throw typeof _e.render=="function"?Error(p$a(188)):(_e=Object.keys(_e).join(","),Error(p$a(268,_e)));return _e=Zb$1(rt),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,rt,at){if(!pl(rt))throw Error(p$a(200));return sl(null,_e,rt,!0,at)};reactDom_production_min.hydrateRoot=function(_e,rt,at){if(!ol(_e))throw Error(p$a(405));var lt=at!=null&&at.hydratedSources||null,st=!1,ct="",ut=ll;if(at!=null&&(at.unstable_strictMode===!0&&(st=!0),at.identifierPrefix!==void 0&&(ct=at.identifierPrefix),at.onRecoverableError!==void 0&&(ut=at.onRecoverableError)),rt=fl(rt,null,_e,1,at??null,st,!1,ct,ut),_e[uf]=rt.current,sf(_e),lt)for(_e=0;_e<lt.length;_e++)at=lt[_e],st=at._getVersion,st=st(at._source),rt.mutableSourceEagerHydrationData==null?rt.mutableSourceEagerHydrationData=[at,st]:rt.mutableSourceEagerHydrationData.push(at,st);return new nl(rt)};reactDom_production_min.render=function(_e,rt,at){if(!pl(rt))throw Error(p$a(200));return sl(null,_e,rt,!1,at)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$a(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,rt,at,lt){if(!pl(at))throw Error(p$a(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$a(38));return sl(_e,rt,at,!1,lt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_e){function rt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rt)}catch(at){console.error(at)}}rt(),_e.exports=reactDom_production_min})(reactDom);var m$6=reactDomExports;client.createRoot=m$6.createRoot,client.hydrateRoot=m$6.hydrateRoot;const App$1="";function mean$2(_e){let rt=new Array(_e.channels).fill(0);for(let lt=0;lt<_e.height;lt++)for(let st=0;st<_e.width;st++)for(let ct=0;ct<_e.channels;ct++)rt[ct]+=_e.getValue(st,lt,ct);return rt.map(lt=>lt/_e.size)}function validateChannels(_e,rt){for(const at of _e)validateChannel(at,rt)}function validateChannel(_e,rt){if(!Number.isInteger(_e)||_e>rt.channels||_e<0)throw new RangeError(`invalid channel: ${_e}. It must be a positive integer smaller than ${rt.channels+1}`)}function validateValues(_e,rt){for(const at of _e)validateValue(at,rt)}function validateValue(_e,rt){if(_e>rt.maxValue||_e<0)throw new RangeError(`invalid value: ${_e}. It must be a positive value smaller than ${rt.maxValue+1}`)}function validateForComparison(_e,rt,at){if(rt.width!==at.width||rt.height!==at.height)throw new Error(`${_e}: both images must have the same size`);if(rt.alpha!==at.alpha||rt.depth!==at.depth)throw new Error(`${_e}: both images must have the same alpha and depth`);if(rt.channels!==at.channels)throw new Error(`${_e}: both images must have the same number of channels`)}function validateColor(_e,rt){validateChannel(_e.length,rt),validateValues(_e,rt)}function histogram(_e,rt={}){let{channel:at}=rt;if(typeof at!="number"){if(_e.channels!==1)throw new Error("channel option is mandatory for multi-channel images");at=0}validateChannel(at,_e);const lt=new Uint32Array(_e.maxValue+1);for(let st=0;st<_e.size;st++)lt[_e.getValueByIndex(st,at)]++;return lt}var medianQuickselect_minExports={},medianQuickselect_min={get exports(){return medianQuickselect_minExports},set exports(_e){medianQuickselect_minExports=_e}};(function(_e){(function(){function rt(st){for(var ct=0,ut=st.length-1,ft=void 0,dt=void 0,pt=void 0,ht=lt(ct,ut);;){if(ut<=ct)return st[ht];if(ut==ct+1)return st[ct]>st[ut]&&at(st,ct,ut),st[ht];for(ft=lt(ct,ut),st[ft]>st[ut]&&at(st,ft,ut),st[ct]>st[ut]&&at(st,ct,ut),st[ft]>st[ct]&&at(st,ft,ct),at(st,ft,ct+1),dt=ct+1,pt=ut;;){do dt++;while(st[ct]>st[dt]);do pt--;while(st[pt]>st[ct]);if(pt<dt)break;at(st,dt,pt)}at(st,ct,pt),pt<=ht&&(ct=dt),pt>=ht&&(ut=pt-1)}}var at=function(ct,ut,ft){var dt;return dt=[ct[ft],ct[ut]],ct[ut]=dt[0],ct[ft]=dt[1],dt},lt=function(ct,ut){return~~((ct+ut)/2)};_e.exports?_e.exports=rt:window.median=rt})()})(medianQuickselect_min);const quickMedian=medianQuickselect_minExports;function median$1(_e){let rt=new Array(_e.channels).fill(0);for(let at=0;at<_e.channels;at++){const lt=_e.getChannel(at);rt[at]=quickMedian(lt)}return rt}var ssim_webExports={},ssim_web={get exports(){return ssim_webExports},set exports(_e){ssim_webExports=_e}};(function(_e,rt){(function(at,lt){_e.exports=lt()})(self,function(){return(()=>{var at={132:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.bezkrovnySsim=void 0;var ft=ut(490),dt=ut(971);function pt(ht,gt,mt){var xt=ht.data,vt=gt.data,yt=mt.bitDepth,_t=mt.k1,$t=mt.k2,Et=Math.pow(2,yt)-1,wt=Math.pow(_t*Et,2),bt=Math.pow($t*Et,2),St=ft.average(xt),Tt=ft.average(vt),Rt=ft.variance(xt,St),kt=ft.variance(vt,Tt);return(2*St*Tt+wt)*(2*ft.covariance(xt,vt,St,Tt)+bt)/((Math.pow(St,2)+Math.pow(Tt,2)+wt)*(Rt+kt+bt))}ct.bezkrovnySsim=function(ht,gt,mt){for(var xt=mt.windowSize,vt=Math.ceil(ht.width/xt),yt=Math.ceil(ht.height/xt),_t=new Array(vt*yt),$t=0,Et=0;Et<ht.height;Et+=xt)for(var wt=0;wt<ht.width;wt+=xt){var bt=Math.min(xt,ht.width-wt),St=Math.min(xt,ht.height-Et),Tt=dt.sub(ht,wt,St,Et,bt),Rt=dt.sub(gt,wt,St,Et,bt);_t[$t++]=pt(Tt,Rt,mt)}return{data:_t,width:vt,height:yt}}},63:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.defaults=void 0,ct.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.downsample=void 0;var ft=ut(490),dt=ut(971);function pt(ht,gt,mt){var xt=dt.imfilter(ht,gt,"symmetric","same");return dt.skip2d(xt,[0,mt,xt.height],[0,mt,xt.width])}ct.downsample=function(ht,gt){return gt.downsample==="original"?function(mt,xt,vt){vt===void 0&&(vt=256);var yt=Math.min(mt.width,xt.height)/vt,_t=Math.round(yt);if(_t>1){var $t=dt.ones(_t);mt=pt(mt,$t=ft.divide2d($t,ft.sum2d($t)),_t),xt=pt(xt,$t,_t)}return[mt,xt]}(ht[0],ht[1],gt.maxSize):ht}},607:function(st,ct,ut){var ft=this&&this.__assign||function(){return(ft=Object.assign||function(wt){for(var bt,St=1,Tt=arguments.length;St<Tt;St++)for(var Rt in bt=arguments[St])Object.prototype.hasOwnProperty.call(bt,Rt)&&(wt[Rt]=bt[Rt]);return wt}).apply(this,arguments)};Object.defineProperty(ct,"__esModule",{value:!0}),ct.ssim=ct.getOptions=void 0;var dt=ut(971),pt=ut(490),ht=ut(773),gt=ut(595),mt=ut(132),xt=ut(441),vt=ut(63),yt=ut(535),_t={fast:ht.ssim,original:gt.originalSsim,bezkrovny:mt.bezkrovnySsim,weber:yt.weberSsim};function $t(wt){var bt=ft(ft({},vt.defaults),wt);return function(St){if(Object.keys(St).forEach(function(Tt){if(!(Tt in vt.defaults))throw new Error('"'+Tt+'" is not a valid option')}),"k1"in St&&(typeof St.k1!="number"||St.k1<0))throw new Error("Invalid k1 value. Default is "+vt.defaults.k1);if("k2"in St&&(typeof St.k2!="number"||St.k2<0))throw new Error("Invalid k2 value. Default is "+vt.defaults.k2);if(!(St.ssim in _t))throw new Error("Invalid ssim option (use: "+Object.keys(_t).join(", ")+")")}(bt),bt}function Et(wt,bt,St){var Tt,Rt,kt,At,Ct=new Date().getTime(),Mt=function(Ot){var Pt=Ot[0],It=Ot[1],Ft=Ot[2];return _t[Ft.ssim](Pt,It,Ft)}(function(Ot){var Pt=Ot[0],It=Ot[1],Ft=Ot[2],Wt=xt.downsample([Pt,It],Ft);return[Wt[0],Wt[1],Ft]}((Tt=function(Ot){var Pt=Ot[0],It=Ot[1],Ft=Ot[2];if(Pt.width!==It.width||Pt.height!==It.height)throw new Error("Image dimensions do not match");return[Pt,It,Ft]}([wt,bt,$t(St)]),Rt=Tt[0],kt=Tt[1],(At=Tt[2]).rgb2grayVersion==="original"?[dt.rgb2gray(Rt),dt.rgb2gray(kt),At]:[dt.rgb2grayInteger(Rt),dt.rgb2grayInteger(kt),At])));return{mssim:Mt.mssim!==void 0?Mt.mssim:pt.mean2d(Mt),ssim_map:Mt,performance:new Date().getTime()-Ct}}ct.getOptions=$t,ct.ssim=Et,ct.default=Et},490:(st,ct)=>{function ut(gt){return ft(gt)/gt.length}function ft(gt){for(var mt=0,xt=0;xt<gt.length;xt++)mt+=gt[xt];return mt}function dt(gt){for(var mt=gt.data,xt=0,vt=0;vt<mt.length;vt++)xt+=mt[vt];return xt}function pt(gt,mt){for(var xt=gt.data,vt=gt.width,yt=gt.height,_t=new Array(xt.length),$t=0;$t<xt.length;$t++)_t[$t]=xt[$t]+mt;return{data:_t,width:vt,height:yt}}function ht(gt,mt){return typeof mt=="number"?function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=new Array(yt.length),wt=0;wt<yt.length;wt++)Et[wt]=yt[wt]*vt;return{data:Et,width:_t,height:$t}}(gt,mt):function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=vt.data,wt=new Array(yt.length),bt=0;bt<yt.length;bt++)wt[bt]=yt[bt]*Et[bt];return{data:wt,width:_t,height:$t}}(gt,mt)}Object.defineProperty(ct,"__esModule",{value:!0}),ct.covariance=ct.variance=ct.mean2d=ct.square2d=ct.multiply2d=ct.divide2d=ct.subtract2d=ct.add2d=ct.sum2d=ct.floor=ct.sum=ct.average=void 0,ct.average=ut,ct.sum=ft,ct.floor=function(gt){for(var mt=new Array(gt.length),xt=0;xt<gt.length;xt++)mt[xt]=Math.floor(gt[xt]);return mt},ct.sum2d=dt,ct.add2d=function(gt,mt){return typeof mt=="number"?pt(gt,mt):function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=vt.data,wt=new Array(yt.length),bt=0;bt<$t;bt++)for(var St=bt*_t,Tt=0;Tt<_t;Tt++)wt[St+Tt]=yt[St+Tt]+Et[St+Tt];return{data:wt,width:_t,height:$t}}(gt,mt)},ct.subtract2d=function(gt,mt){return typeof mt=="number"?pt(gt,-mt):function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=vt.data,wt=new Array(yt.length),bt=0;bt<$t;bt++)for(var St=bt*_t,Tt=0;Tt<_t;Tt++)wt[St+Tt]=yt[St+Tt]-Et[St+Tt];return{data:wt,width:_t,height:$t}}(gt,mt)},ct.divide2d=function(gt,mt){return typeof mt=="number"?function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=new Array(yt.length),wt=0;wt<yt.length;wt++)Et[wt]=yt[wt]/vt;return{data:Et,width:_t,height:$t}}(gt,mt):function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=vt.data,wt=new Array(yt.length),bt=0;bt<yt.length;bt++)wt[bt]=yt[bt]/Et[bt];return{data:wt,width:_t,height:$t}}(gt,mt)},ct.multiply2d=ht,ct.square2d=function(gt){return ht(gt,gt)},ct.mean2d=function(gt){return dt(gt)/gt.data.length},ct.variance=function(gt,mt){mt===void 0&&(mt=ut(gt));for(var xt=0,vt=gt.length;vt--;)xt+=Math.pow(gt[vt]-mt,2);return xt/gt.length},ct.covariance=function(gt,mt,xt,vt){xt===void 0&&(xt=ut(gt)),vt===void 0&&(vt=ut(mt));for(var yt=0,_t=gt.length;_t--;)yt+=(gt[_t]-xt)*(mt[_t]-vt);return yt/gt.length}},687:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.conv2=void 0;var ft=ut(490),dt=ut(298),pt=ut(118),ht=ut(799);function gt(_t,$t,Et){var wt=_t.data,bt=_t.width,St=_t.height;Et===void 0&&(Et="full");for(var Tt=bt+$t.width-1,Rt=St+$t.height-1,kt=ht.zeros(Rt,Tt).data,At=0;At<$t.height;At++)for(var Ct=0;Ct<$t.width;Ct++){var Mt=$t.data[At*$t.width+Ct];if(Mt)for(var Ot=0;Ot<St;Ot++)for(var Pt=0;Pt<bt;Pt++)kt[(Ot+At)*Tt+Pt+Ct]+=wt[Ot*bt+Pt]*Mt}return yt({data:kt,width:Tt,height:Rt},Et,St,$t.height,bt,$t.width)}function mt(_t,$t,Et){var wt=$t.data,bt=$t.width,St=$t.height;Et===void 0&&(Et="full");var Tt=vt(_t,dt.ones(St,1),dt.ones(1,bt),Et);return ft.multiply2d(Tt,wt[0])}function xt(_t){for(var $t=_t.data,Et=$t[0],wt=1;wt<$t.length;wt++)if($t[wt]!==Et)return!1;return!0}function vt(_t,$t,Et,wt){wt===void 0&&(wt="full");var bt=Math.max($t.height,$t.width),St=Math.max(Et.height,Et.width),Tt=gt(_t,$t,"full");return yt(gt(Tt,Et,"full"),wt,_t.height,bt,_t.width,St)}function yt(_t,$t,Et,wt,bt,St){if($t==="full")return _t;if($t==="same"){var Tt=Math.ceil((_t.height-Et)/2),Rt=Math.ceil((_t.width-bt)/2);return pt.sub(_t,Tt,Et,Rt,bt)}return pt.sub(_t,wt-1,Et-wt+1,St-1,bt-St+1)}ct.conv2=function(){for(var _t=[],$t=0;$t<arguments.length;$t++)_t[$t]=arguments[$t];return _t[2]&&_t[2].data?vt.apply(void 0,_t):xt(_t[1])?mt.apply(void 0,_t):gt.apply(void 0,_t)}},346:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.filter2=void 0;var ft=ut(687);ct.filter2=function(dt,pt,ht){return ht===void 0&&(ht="same"),ft.conv2(pt,function(gt){for(var mt=gt.data,xt=gt.width,vt=gt.height,yt=new Array(mt.length),_t=0;_t<vt;_t++)for(var $t=0;$t<xt;$t++)yt[_t*xt+$t]=mt[(vt-1-_t)*xt+xt-1-$t];return{data:yt,width:xt,height:vt}}(dt),ht)}},470:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.fspecial=void 0;var ft=ut(490);ct.fspecial=function(dt,pt,ht){pt===void 0&&(pt=3),ht===void 0&&(ht=1.5);var gt=function(xt,vt){for(var yt=xt.data,_t=xt.width,$t=xt.height,Et=new Array(yt.length),wt=0;wt<yt.length;wt++)Et[wt]=Math.exp(-yt[wt]/(2*Math.pow(vt,2)));return{data:Et,width:_t,height:$t}}(function(xt){for(var vt=2*xt+1,yt=new Array(Math.pow(vt,2)),_t=0;_t<vt;_t++)for(var $t=0;$t<vt;$t++)yt[_t*vt+$t]=Math.pow(_t-xt,2)+Math.pow($t-xt,2);return{data:yt,width:vt,height:vt}}(pt=(pt-1)/2),ht),mt=ft.sum2d(gt);return ft.divide2d(gt,mt)}},521:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.imfilter=void 0;var ft=ut(20),dt=ut(389),pt=ut(490),ht=ut(346);ct.imfilter=function(gt,mt,xt,vt){return xt===void 0&&(xt="symmetric"),vt===void 0&&(vt="same"),gt=function(yt,_t,$t,Et){if(yt=dt.padarray(yt,pt.floor([_t/2,$t/2]),Et),ft.mod(_t,2)===0&&(yt.data=yt.data.slice(0,-yt.width),yt.height--),ft.mod($t,2)===0){for(var wt=[],bt=0;bt<yt.data.length;bt++)(bt+1)%yt.width!=0&&wt.push(yt.data[bt]);yt.data=wt,yt.width--}return yt}(gt,mt.width,mt.height,xt),vt=function(yt){return yt==="same"&&(yt="valid"),yt}(vt),ht.filter2(mt,gt,vt)}},971:function(st,ct,ut){var ft=this&&this.__createBinding||(Object.create?function(pt,ht,gt,mt){mt===void 0&&(mt=gt),Object.defineProperty(pt,mt,{enumerable:!0,get:function(){return ht[gt]}})}:function(pt,ht,gt,mt){mt===void 0&&(mt=gt),pt[mt]=ht[gt]}),dt=this&&this.__exportStar||function(pt,ht){for(var gt in pt)gt==="default"||Object.prototype.hasOwnProperty.call(ht,gt)||ft(ht,pt,gt)};Object.defineProperty(ct,"__esModule",{value:!0}),dt(ut(687),ct),dt(ut(346),ct),dt(ut(470),ct),dt(ut(521),ct),dt(ut(150),ct),dt(ut(298),ct),dt(ut(389),ct),dt(ut(582),ct),dt(ut(439),ct),dt(ut(118),ct),dt(ut(240),ct),dt(ut(799),ct)},928:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.numbers=void 0,ct.numbers=function(ut,ft,dt){for(var pt=ft*ut,ht=new Array(pt),gt=0;gt<pt;gt++)ht[gt]=dt;return{data:ht,width:ft,height:ut}}},20:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.mod=void 0,ct.mod=function(ut,ft){return ut-ft*Math.floor(ut/ft)}},150:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.normpdf=void 0,ct.normpdf=function(ut,ft,dt){var pt=ut.data,ht=ut.width,gt=ut.height;ft===void 0&&(ft=0),dt===void 0&&(dt=1);for(var mt=new Array(pt.length),xt=0;xt<pt.length;xt++){var vt=(pt[xt]-ft)/dt;mt[xt]=Math.exp(-Math.pow(vt,2)/2)/(2.5066282746310007*dt)}return{data:mt,width:ht,height:gt}}},298:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ones=void 0;var ft=ut(928);ct.ones=function(dt,pt){return pt===void 0&&(pt=dt),ft.numbers(dt,pt,1)}},389:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.padarray=void 0;var ft=ut(20);ct.padarray=function(dt,pt,ht,gt){var mt=pt[0],xt=pt[1];return dt.height>=mt&&dt.width>=xt?function(vt,yt){for(var _t=yt[0],$t=yt[1],Et=vt.width+2*$t,wt=vt.height+2*_t,bt=new Array(Et*wt),St=-_t;St<0;St++){for(var Tt=-$t;Tt<0;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(Math.abs(St)-1)*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(Math.abs(St)-1)*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+$t;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(Math.abs(St)-1)*vt.width+2*vt.width-Tt-1]}for(St=0;St<vt.height;St++){for(Tt=-$t;Tt<0;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[St*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[St*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+$t;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[St*vt.width+2*vt.width-Tt-1]}for(St=vt.height;St<vt.height+_t;St++){for(Tt=-$t;Tt<0;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(2*vt.height-St-1)*vt.width+Math.abs(Tt)-1];for(Tt=0;Tt<vt.width;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(2*vt.height-St-1)*vt.width+Tt];for(Tt=vt.width;Tt<vt.width+$t;Tt++)bt[(St+_t)*Et+Tt+$t]=vt.data[(2*vt.height-St-1)*vt.width+2*vt.width-Tt-1]}return{data:bt,width:Et,height:wt}}(dt,[mt,xt]):function(vt,yt){for(var _t=function(St,Tt){return{data:St.data.concat(Tt.data),height:St.height+Tt.height,width:St.width}}(vt,function(St){for(var Tt=St.data,Rt=St.width,kt=St.height,At=new Array(Tt.length),Ct=0;Ct<kt;Ct++)for(var Mt=0;Mt<Rt;Mt++)At[Ct*Rt+Mt]=Tt[(kt-1-Ct)*Rt+Mt];return{data:At,width:Rt,height:kt}}(vt)),$t=vt.height+2*yt,Et=new Array(vt.width*$t),wt=-yt;wt<vt.height+yt;wt++)for(var bt=0;bt<vt.width;bt++)Et[(wt+yt)*vt.width+bt]=_t.data[ft.mod(wt,_t.height)*vt.width+bt];return{data:Et,width:vt.width,height:$t}}(function(vt,yt){for(var _t=vt.width+2*yt,$t=new Array(_t*vt.height),Et=function(St,Tt){for(var Rt=St.width+Tt.width,kt=new Array(St.height*Rt),At=0;At<St.height;At++){for(var Ct=0;Ct<St.width;Ct++)kt[At*Rt+Ct]=St.data[At*St.width+Ct];for(Ct=0;Ct<Tt.width;Ct++)kt[At*Rt+Ct+St.width]=Tt.data[At*Tt.width+Ct]}return{data:kt,width:Rt,height:St.height}}(vt,function(St){for(var Tt=St.data,Rt=St.width,kt=St.height,At=new Array(Tt.length),Ct=0;Ct<kt;Ct++)for(var Mt=0;Mt<Rt;Mt++)At[Ct*Rt+Mt]=Tt[Ct*Rt+Rt-1-Mt];return{data:At,width:Rt,height:kt}}(vt)),wt=0;wt<vt.height;wt++)for(var bt=-yt;bt<vt.width+yt;bt++)$t[wt*_t+bt+yt]=Et.data[wt*Et.width+ft.mod(bt,Et.width)];return{data:$t,width:_t,height:vt.height}}(dt,xt),mt)}},582:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.rgb2grayInteger=ct.rgb2gray=void 0,ct.rgb2gray=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Uint8Array(dt*pt),gt=0;gt<ft.length;gt+=4)ht[gt/4]=.29894*ft[gt]+.58704*ft[gt+1]+.11402*ft[gt+2]+.5;return{data:Array.from(ht),width:dt,height:pt}},ct.rgb2grayInteger=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Array(dt*pt),gt=0;gt<ft.length;gt+=4)ht[gt/4]=77*ft[gt]+150*ft[gt+1]+29*ft[gt+2]+128>>8;return{data:ht,width:dt,height:pt}}},439:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.skip2d=void 0,ct.skip2d=function(ut,ft,dt){for(var pt=ft[0],ht=ft[1],gt=ft[2],mt=dt[0],xt=dt[1],vt=dt[2],yt=Math.ceil((vt-mt)/xt),_t=Math.ceil((gt-pt)/ht),$t=new Array(yt*_t),Et=0;Et<_t;Et++)for(var wt=0;wt<yt;wt++){var bt=pt+Et*ht,St=mt+wt*xt;$t[Et*yt+wt]=ut.data[bt*ut.width+St]}return{data:$t,width:yt,height:_t}}},118:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.sub=void 0,ct.sub=function(ut,ft,dt,pt,ht){for(var gt=ut.data,mt=ut.width,xt=new Array(ht*dt),vt=0;vt<dt;vt++)for(var yt=0;yt<ht;yt++)xt[vt*ht+yt]=gt[(pt+vt)*mt+ft+yt];return{data:xt,width:ht,height:dt}}},240:(st,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.transpose=void 0,ct.transpose=function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,ht=new Array(dt*pt),gt=0;gt<pt;gt++)for(var mt=0;mt<dt;mt++)ht[mt*pt+gt]=ft[gt*dt+mt];return{data:ht,height:dt,width:pt}}},799:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.zeros=void 0;var ft=ut(928);ct.zeros=function(dt,pt){return pt===void 0&&(pt=dt),ft.numbers(dt,pt,0)}},595:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.originalSsim=void 0;var ft=ut(490),dt=ut(971);ct.originalSsim=function(pt,ht,gt){var mt=dt.fspecial("gaussian",gt.windowSize,1.5),xt=Math.pow(2,gt.bitDepth)-1,vt=Math.pow(gt.k1*xt,2),yt=Math.pow(gt.k2*xt,2);mt=ft.divide2d(mt,ft.sum2d(mt));var _t=dt.filter2(mt,pt,"valid"),$t=dt.filter2(mt,ht,"valid"),Et=ft.square2d(_t),wt=ft.square2d($t),bt=ft.multiply2d(_t,$t),St=ft.square2d(pt),Tt=ft.square2d(ht),Rt=ft.subtract2d(dt.filter2(mt,St,"valid"),Et),kt=ft.subtract2d(dt.filter2(mt,Tt,"valid"),wt),At=ft.subtract2d(dt.filter2(mt,ft.multiply2d(pt,ht),"valid"),bt);if(vt>0&&yt>0){var Ct=ft.add2d(ft.multiply2d(bt,2),vt),Mt=ft.add2d(ft.multiply2d(At,2),yt),Ot=ft.add2d(ft.add2d(Et,wt),vt),Pt=ft.add2d(ft.add2d(Rt,kt),yt);return ft.divide2d(ft.multiply2d(Ct,Mt),ft.multiply2d(Ot,Pt))}var It=ft.multiply2d(bt,2),Ft=ft.multiply2d(At,2),Wt=ft.add2d(Et,wt),Xt=ft.add2d(Rt,kt);return ft.divide2d(ft.multiply2d(It,Ft),ft.multiply2d(Wt,Xt))}},773:(st,ct,ut)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ssim=void 0;var ft=ut(490),dt=ut(971);ct.ssim=function(pt,ht,gt){var mt=dt.normpdf(function(Mt){for(var Ot=Math.floor(Mt/2),Pt=new Array(2*Ot+1),It=-Ot;It<=Ot;It++)Pt[It+Ot]=Math.abs(It);return{data:Pt,width:Pt.length,height:1}}(gt.windowSize),0,1.5),xt=Math.pow(2,gt.bitDepth)-1,vt=Math.pow(gt.k1*xt,2),yt=Math.pow(gt.k2*xt,2);mt=ft.divide2d(mt,ft.sum2d(mt));var _t=dt.transpose(mt),$t=dt.conv2(pt,mt,_t,"valid"),Et=dt.conv2(ht,mt,_t,"valid"),wt=ft.square2d($t),bt=ft.square2d(Et),St=ft.multiply2d($t,Et),Tt=ft.square2d(pt),Rt=ft.square2d(ht),kt=ft.subtract2d(dt.conv2(Tt,mt,_t,"valid"),wt),At=ft.subtract2d(dt.conv2(Rt,mt,_t,"valid"),bt),Ct=ft.subtract2d(dt.conv2(ft.multiply2d(pt,ht),mt,_t,"valid"),St);return vt>0&&yt>0?function(Mt,Ot,Pt,It,Ft,Wt,Xt,Lt){var Bt=ft.add2d(ft.multiply2d(Mt,2),Xt),Ut=ft.add2d(ft.multiply2d(Ot,2),Lt),dn=ft.add2d(ft.add2d(Pt,It),Xt),Zt=ft.add2d(ft.add2d(Ft,Wt),Lt);return ft.divide2d(ft.multiply2d(Bt,Ut),ft.multiply2d(dn,Zt))}(St,Ct,wt,bt,kt,At,vt,yt):function(Mt,Ot,Pt,It,Ft,Wt){var Xt=ft.multiply2d(Mt,2),Lt=ft.multiply2d(Ot,2),Bt=ft.add2d(Pt,It),Ut=ft.add2d(Ft,Wt);return ft.divide2d(ft.multiply2d(Xt,Lt),ft.multiply2d(Bt,Ut))}(St,Ct,wt,bt,kt,At)}},535:function(st,ct){var ut=this&&this.__assign||function(){return(ut=Object.assign||function(vt){for(var yt,_t=1,$t=arguments.length;_t<$t;_t++)for(var Et in yt=arguments[_t])Object.prototype.hasOwnProperty.call(yt,Et)&&(vt[Et]=yt[Et]);return vt}).apply(this,arguments)};function ft(vt,yt,_t,$t){return{rightEdge:_t[yt*$t+vt+1],bottomEdge:_t[(yt+1)*$t+vt],bottomRightEdge:_t[(yt+1)*$t+vt+1]}}function dt(vt,yt){for(var _t=vt.width,$t=vt.height,Et=vt.data,wt=_t+1,bt=$t+1,St=new Int32Array(wt*bt),Tt=$t-1;Tt>=0;--Tt)for(var Rt=_t-1;Rt>=0;--Rt){var kt=ft(Rt,Tt,St,wt),At=kt.rightEdge,Ct=kt.bottomEdge,Mt=kt.bottomRightEdge;St[Tt*wt+Rt]=yt(Et[Tt*_t+Rt],Rt,Tt)+At+Ct-Mt}return{data:St,height:bt,width:wt}}function pt(vt,yt,_t){for(var $t=vt.width,Et=vt.height,wt=vt.data,bt=yt.data,St=$t+1,Tt=Et+1,Rt=new Int32Array(St*Tt),kt=Et-1;kt>=0;--kt)for(var At=$t-1;At>=0;--At){var Ct=ft(At,kt,Rt,St),Mt=Ct.rightEdge,Ot=Ct.bottomEdge,Pt=Ct.bottomRightEdge,It=kt*$t+At;Rt[kt*St+At]=_t(wt[It],bt[It],At,kt)+Mt+Ot-Pt}return{data:Rt,height:Tt,width:St}}function ht(vt,yt,_t){for(var $t=vt.width,Et=vt.height,wt=vt.data,bt=$t-1,St=Et-1,Tt=bt-yt+1,Rt=St-yt+1,kt=new Int32Array(Tt*Rt),At=0;At<St;++At)for(var Ct=0;Ct<bt;++Ct)if(Ct<Tt&&At<Rt){var Mt=wt[$t*At+Ct]-wt[$t*At+Ct+yt]-wt[$t*(At+yt)+Ct]+wt[$t*(At+yt)+Ct+yt];kt[At*Tt+Ct]=Mt/_t}return{height:Rt,width:Tt,data:kt}}function gt(vt,yt){return ht(dt(vt,function(_t){return _t}),yt,1)}function mt(vt,yt,_t){for(var $t=_t*_t,Et=ht(dt(vt,function(Rt){return Rt*Rt}),_t,1),wt=0;wt<yt.data.length;++wt){var bt=yt.data[wt]/$t,St=Et.data[wt]/$t,Tt=bt*bt;Et.data[wt]=1024*(St-Tt)}return Et}function xt(vt,yt,_t,$t,Et){for(var wt=Et*Et,bt=ht(pt(vt,yt,function(Tt,Rt){return Tt*Rt}),Et,1),St=0;St<_t.data.length;++St)bt.data[St]=1024*(bt.data[St]/wt-_t.data[St]/wt*($t.data[St]/wt));return bt}Object.defineProperty(ct,"__esModule",{value:!0}),ct.weberSsim=ct.windowCovariance=ct.windowVariance=ct.windowSums=ct.windowMatrix=ct.partialSumMatrix2=ct.partialSumMatrix1=void 0,ct.partialSumMatrix1=dt,ct.partialSumMatrix2=pt,ct.windowMatrix=ht,ct.windowSums=gt,ct.windowVariance=mt,ct.windowCovariance=xt,ct.weberSsim=function(vt,yt,_t){for(var $t=_t.bitDepth,Et=_t.k1,wt=_t.k2,bt=_t.windowSize,St=Math.pow(2,$t)-1,Tt=Et*St*(Et*St),Rt=wt*St*(wt*St),kt=bt*bt,At=ut(ut({},vt),{data:Int32Array.from(vt.data,function(Yt){return Yt+.5})}),Ct=ut(ut({},yt),{data:Int32Array.from(yt.data,function(Yt){return Yt+.5})}),Mt=gt(At,bt),Ot=mt(At,Mt,bt),Pt=gt(Ct,bt),It=mt(Ct,Pt,bt),Ft=xt(At,Ct,Mt,Pt,bt),Wt=Mt.data.length,Xt=0,Lt=new Array(Wt),Bt=0;Bt<Wt;++Bt){var Ut=Mt.data[Bt]/kt,dn=Pt.data[Bt]/kt,Zt=Ot.data[Bt]/1024,cn=It.data[Bt]/1024,Gt=(2*Ut*dn+Tt)*(Ft.data[Bt]/1024*2+Rt)/(Ut*Ut+dn*dn+Tt)/(Zt+cn+Rt);Lt[Bt]=Gt,Bt==0?Xt=Gt:Xt+=(Gt-Xt)/(Bt+1)}return{data:Lt,width:Mt.width,height:Mt.height,mssim:Xt}}}},lt={};return function st(ct){if(lt[ct])return lt[ct].exports;var ut=lt[ct]={exports:{}};return at[ct].call(ut.exports,ut,ut.exports,st),ut.exports}(607)})()})})(ssim_web);const formatter=new Intl.ListFormat("en",{type:"disjunction"});function checkProcessable(_e,rt,at={}){let{bitDepth:lt,alpha:st,colorModel:ct,components:ut,channels:ft}=at;if(lt&&(Array.isArray(lt)||(lt=[lt]),!lt.includes(_e.depth)))throw new TypeError(`The process "${rt}" can only be applied if bit depth is ${format$1(lt)}`);if(st&&(Array.isArray(st)||(st=[st]),!st.includes(_e.alpha)))throw new TypeError(`The process "${rt}" can only be applied if alpha is ${format$1(st)}`);if(ct&&(Array.isArray(ct)||(ct=[ct]),!ct.includes(_e.colorModel)))throw new TypeError(`The process "${rt}" can only be applied if color model is ${format$1(ct)}`);if(ut&&(Array.isArray(ut)||(ut=[ut]),!ut.includes(_e.components))){let dt=`The process "${rt}" can only be applied if the number of components is ${format$1(ut)}`;throw ut.length===1&&ut[0]===1?new TypeError(`${dt}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(dt)}if(ft&&(Array.isArray(ft)||(ft=[ft]),!ft.includes(_e.channels)))throw new TypeError(`The process "${rt}" can only be applied if the number of channels is ${format$1(ft)}`)}function format$1(_e){return formatter.format(_e.map(String))}function subtract(_e,rt,at={}){let{absolute:lt=!1}=at;_e instanceof Image&&checkProcessable(_e,"subtract",{bitDepth:[1,8,16],components:[1,3],alpha:!1}),validateForComparison("subtract",_e,rt);let st=_e.clone();if(st instanceof Image)for(let ct=0;ct<_e.size;ct++)for(let ut=0;ut<_e.channels;ut++){let ft=_e.getValueByIndex(ct,ut)-rt.getValueByIndex(ct,ut);lt?st.setValueByIndex(ct,ut,Math.abs(ft)):st.setValueByIndex(ct,ut,Math.max(ft,0))}else if(_e instanceof Mask&&rt instanceof Mask)for(let ct=0;ct<_e.size;ct++){let ut=_e.getBitByIndex(ct)-rt.getBitByIndex(ct);lt?st.setBitByIndex(ct,Math.abs(ut)?1:0):st.setBitByIndex(ct,Math.max(ut,0)?1:0)}return st}function variance(_e){const rt=_e.mean();let at=new Array(_e.channels).fill(0);for(let st=0;st<_e.size;st++)for(let ct=0;ct<_e.channels;ct++)at[ct]+=Math.pow(_e.getValueByIndex(st,ct)-rt[ct],2);const lt=_e.size*_e.channels;return at.map(st=>st/lt)}const toString$3=Object.prototype.toString;function isAnyArray(_e){return toString$3.call(_e).endsWith("Array]")}function max$4(_e){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var at=rt.fromIndex,lt=at===void 0?0:at,st=rt.toIndex,ct=st===void 0?_e.length:st;if(lt<0||lt>=_e.length||!Number.isInteger(lt))throw new Error("fromIndex must be a positive integer smaller than length");if(ct<=lt||ct>_e.length||!Number.isInteger(ct))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ut=_e[lt],ft=lt+1;ft<ct;ft++)_e[ft]>ut&&(ut=_e[ft]);return ut}function min$4(_e){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var at=rt.fromIndex,lt=at===void 0?0:at,st=rt.toIndex,ct=st===void 0?_e.length:st;if(lt<0||lt>=_e.length||!Number.isInteger(lt))throw new Error("fromIndex must be a positive integer smaller than length");if(ct<=lt||ct>_e.length||!Number.isInteger(ct))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ut=_e[lt],ft=lt+1;ft<ct;ft++)_e[ft]<ut&&(ut=_e[ft]);return ut}function rescale(_e){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(_e)){if(_e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var at;if(rt.output!==void 0){if(!isAnyArray(rt.output))throw new TypeError("output option must be an array if specified");at=rt.output}else at=new Array(_e.length);var lt=min$4(_e),st=max$4(_e);if(lt===st)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var ct=rt.min,ut=ct===void 0?rt.autoMinMax?lt:0:ct,ft=rt.max,dt=ft===void 0?rt.autoMinMax?st:1:ft;if(ut>=dt)throw new RangeError("min option must be smaller than max option");for(var pt=(dt-ut)/(st-lt),ht=0;ht<_e.length;ht++)at[ht]=(_e[ht]-lt)*pt+ut;return at}const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(_e,rt={}){const{maxRows:at=15,maxColumns:lt=10,maxNumSize:st=8,padMinus:ct="auto"}=rt;return`${_e.constructor.name} {
${indent}[
${indentData}${inspectData(_e,at,lt,st,ct)}
${indent}]
${indent}rows: ${_e.rows}
${indent}columns: ${_e.columns}
}`}function inspectData(_e,rt,at,lt,st){const{rows:ct,columns:ut}=_e,ft=Math.min(ct,rt),dt=Math.min(ut,at),pt=[];if(st==="auto"){st=!1;e:for(let ht=0;ht<ft;ht++)for(let gt=0;gt<dt;gt++)if(_e.get(ht,gt)<0){st=!0;break e}}for(let ht=0;ht<ft;ht++){let gt=[];for(let mt=0;mt<dt;mt++)gt.push(formatNumber(_e.get(ht,mt),lt,st));pt.push(`${gt.join(" ")}`)}return dt!==ut&&(pt[pt.length-1]+=` ... ${ut-at} more columns`),ft!==ct&&pt.push(`... ${ct-rt} more rows`),pt.join(`
${indentData}`)}function formatNumber(_e,rt,at){return(_e>=0&&at?` ${formatNumber2(_e,rt-1)}`:formatNumber2(_e,rt)).padEnd(rt)}function formatNumber2(_e,rt){let at=_e.toString();if(at.length<=rt)return at;let lt=_e.toFixed(rt);if(lt.length>rt&&(lt=_e.toFixed(Math.max(0,rt-(lt.length-rt)))),lt.length<=rt&&!lt.startsWith("0.000")&&!lt.startsWith("-0.000"))return lt;let st=_e.toExponential(rt);return st.length>rt&&(st=_e.toExponential(Math.max(0,rt-(st.length-rt)))),st.slice(0)}function installMathOperations(_e,rt){_e.prototype.add=function(lt){return typeof lt=="number"?this.addS(lt):this.addM(lt)},_e.prototype.addS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)+lt);return this},_e.prototype.addM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)+lt.get(st,ct));return this},_e.add=function(lt,st){return new rt(lt).add(st)},_e.prototype.sub=function(lt){return typeof lt=="number"?this.subS(lt):this.subM(lt)},_e.prototype.subS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)-lt);return this},_e.prototype.subM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)-lt.get(st,ct));return this},_e.sub=function(lt,st){return new rt(lt).sub(st)},_e.prototype.subtract=_e.prototype.sub,_e.prototype.subtractS=_e.prototype.subS,_e.prototype.subtractM=_e.prototype.subM,_e.subtract=_e.sub,_e.prototype.mul=function(lt){return typeof lt=="number"?this.mulS(lt):this.mulM(lt)},_e.prototype.mulS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)*lt);return this},_e.prototype.mulM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)*lt.get(st,ct));return this},_e.mul=function(lt,st){return new rt(lt).mul(st)},_e.prototype.multiply=_e.prototype.mul,_e.prototype.multiplyS=_e.prototype.mulS,_e.prototype.multiplyM=_e.prototype.mulM,_e.multiply=_e.mul,_e.prototype.div=function(lt){return typeof lt=="number"?this.divS(lt):this.divM(lt)},_e.prototype.divS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)/lt);return this},_e.prototype.divM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)/lt.get(st,ct));return this},_e.div=function(lt,st){return new rt(lt).div(st)},_e.prototype.divide=_e.prototype.div,_e.prototype.divideS=_e.prototype.divS,_e.prototype.divideM=_e.prototype.divM,_e.divide=_e.div,_e.prototype.mod=function(lt){return typeof lt=="number"?this.modS(lt):this.modM(lt)},_e.prototype.modS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)%lt);return this},_e.prototype.modM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)%lt.get(st,ct));return this},_e.mod=function(lt,st){return new rt(lt).mod(st)},_e.prototype.modulus=_e.prototype.mod,_e.prototype.modulusS=_e.prototype.modS,_e.prototype.modulusM=_e.prototype.modM,_e.modulus=_e.mod,_e.prototype.and=function(lt){return typeof lt=="number"?this.andS(lt):this.andM(lt)},_e.prototype.andS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)&lt);return this},_e.prototype.andM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)&lt.get(st,ct));return this},_e.and=function(lt,st){return new rt(lt).and(st)},_e.prototype.or=function(lt){return typeof lt=="number"?this.orS(lt):this.orM(lt)},_e.prototype.orS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)|lt);return this},_e.prototype.orM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)|lt.get(st,ct));return this},_e.or=function(lt,st){return new rt(lt).or(st)},_e.prototype.xor=function(lt){return typeof lt=="number"?this.xorS(lt):this.xorM(lt)},_e.prototype.xorS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)^lt);return this},_e.prototype.xorM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)^lt.get(st,ct));return this},_e.xor=function(lt,st){return new rt(lt).xor(st)},_e.prototype.leftShift=function(lt){return typeof lt=="number"?this.leftShiftS(lt):this.leftShiftM(lt)},_e.prototype.leftShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)<<lt);return this},_e.prototype.leftShiftM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)<<lt.get(st,ct));return this},_e.leftShift=function(lt,st){return new rt(lt).leftShift(st)},_e.prototype.signPropagatingRightShift=function(lt){return typeof lt=="number"?this.signPropagatingRightShiftS(lt):this.signPropagatingRightShiftM(lt)},_e.prototype.signPropagatingRightShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>lt);return this},_e.prototype.signPropagatingRightShiftM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>lt.get(st,ct));return this},_e.signPropagatingRightShift=function(lt,st){return new rt(lt).signPropagatingRightShift(st)},_e.prototype.rightShift=function(lt){return typeof lt=="number"?this.rightShiftS(lt):this.rightShiftM(lt)},_e.prototype.rightShiftS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>>lt);return this},_e.prototype.rightShiftM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,this.get(st,ct)>>>lt.get(st,ct));return this},_e.rightShift=function(lt,st){return new rt(lt).rightShift(st)},_e.prototype.zeroFillRightShift=_e.prototype.rightShift,_e.prototype.zeroFillRightShiftS=_e.prototype.rightShiftS,_e.prototype.zeroFillRightShiftM=_e.prototype.rightShiftM,_e.zeroFillRightShift=_e.rightShift,_e.prototype.not=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,~this.get(lt,st));return this},_e.not=function(lt){return new rt(lt).not()},_e.prototype.abs=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.abs(this.get(lt,st)));return this},_e.abs=function(lt){return new rt(lt).abs()},_e.prototype.acos=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.acos(this.get(lt,st)));return this},_e.acos=function(lt){return new rt(lt).acos()},_e.prototype.acosh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.acosh(this.get(lt,st)));return this},_e.acosh=function(lt){return new rt(lt).acosh()},_e.prototype.asin=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.asin(this.get(lt,st)));return this},_e.asin=function(lt){return new rt(lt).asin()},_e.prototype.asinh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.asinh(this.get(lt,st)));return this},_e.asinh=function(lt){return new rt(lt).asinh()},_e.prototype.atan=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.atan(this.get(lt,st)));return this},_e.atan=function(lt){return new rt(lt).atan()},_e.prototype.atanh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.atanh(this.get(lt,st)));return this},_e.atanh=function(lt){return new rt(lt).atanh()},_e.prototype.cbrt=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cbrt(this.get(lt,st)));return this},_e.cbrt=function(lt){return new rt(lt).cbrt()},_e.prototype.ceil=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.ceil(this.get(lt,st)));return this},_e.ceil=function(lt){return new rt(lt).ceil()},_e.prototype.clz32=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.clz32(this.get(lt,st)));return this},_e.clz32=function(lt){return new rt(lt).clz32()},_e.prototype.cos=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cos(this.get(lt,st)));return this},_e.cos=function(lt){return new rt(lt).cos()},_e.prototype.cosh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.cosh(this.get(lt,st)));return this},_e.cosh=function(lt){return new rt(lt).cosh()},_e.prototype.exp=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.exp(this.get(lt,st)));return this},_e.exp=function(lt){return new rt(lt).exp()},_e.prototype.expm1=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.expm1(this.get(lt,st)));return this},_e.expm1=function(lt){return new rt(lt).expm1()},_e.prototype.floor=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.floor(this.get(lt,st)));return this},_e.floor=function(lt){return new rt(lt).floor()},_e.prototype.fround=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.fround(this.get(lt,st)));return this},_e.fround=function(lt){return new rt(lt).fround()},_e.prototype.log=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log(this.get(lt,st)));return this},_e.log=function(lt){return new rt(lt).log()},_e.prototype.log1p=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log1p(this.get(lt,st)));return this},_e.log1p=function(lt){return new rt(lt).log1p()},_e.prototype.log10=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log10(this.get(lt,st)));return this},_e.log10=function(lt){return new rt(lt).log10()},_e.prototype.log2=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.log2(this.get(lt,st)));return this},_e.log2=function(lt){return new rt(lt).log2()},_e.prototype.round=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.round(this.get(lt,st)));return this},_e.round=function(lt){return new rt(lt).round()},_e.prototype.sign=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sign(this.get(lt,st)));return this},_e.sign=function(lt){return new rt(lt).sign()},_e.prototype.sin=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sin(this.get(lt,st)));return this},_e.sin=function(lt){return new rt(lt).sin()},_e.prototype.sinh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sinh(this.get(lt,st)));return this},_e.sinh=function(lt){return new rt(lt).sinh()},_e.prototype.sqrt=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.sqrt(this.get(lt,st)));return this},_e.sqrt=function(lt){return new rt(lt).sqrt()},_e.prototype.tan=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.tan(this.get(lt,st)));return this},_e.tan=function(lt){return new rt(lt).tan()},_e.prototype.tanh=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.tanh(this.get(lt,st)));return this},_e.tanh=function(lt){return new rt(lt).tanh()},_e.prototype.trunc=function(){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.set(lt,st,Math.trunc(this.get(lt,st)));return this},_e.trunc=function(lt){return new rt(lt).trunc()},_e.pow=function(lt,st){return new rt(lt).pow(st)},_e.prototype.pow=function(lt){return typeof lt=="number"?this.powS(lt):this.powM(lt)},_e.prototype.powS=function(lt){for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,Math.pow(this.get(st,ct),lt));return this},_e.prototype.powM=function(lt){if(lt=rt.checkMatrix(lt),this.rows!==lt.rows||this.columns!==lt.columns)throw new RangeError("Matrices dimensions must be equal");for(let st=0;st<this.rows;st++)for(let ct=0;ct<this.columns;ct++)this.set(st,ct,Math.pow(this.get(st,ct),lt.get(st,ct)));return this}}function checkRowIndex(_e,rt,at){let lt=at?_e.rows:_e.rows-1;if(rt<0||rt>lt)throw new RangeError("Row index out of range")}function checkColumnIndex(_e,rt,at){let lt=at?_e.columns:_e.columns-1;if(rt<0||rt>lt)throw new RangeError("Column index out of range")}function checkRowVector(_e,rt){if(rt.to1DArray&&(rt=rt.to1DArray()),rt.length!==_e.columns)throw new RangeError("vector size must be the same as the number of columns");return rt}function checkColumnVector(_e,rt){if(rt.to1DArray&&(rt=rt.to1DArray()),rt.length!==_e.rows)throw new RangeError("vector size must be the same as the number of rows");return rt}function checkRowIndices(_e,rt){if(!isAnyArray(rt))throw new TypeError("row indices must be an array");for(let at=0;at<rt.length;at++)if(rt[at]<0||rt[at]>=_e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(_e,rt){if(!isAnyArray(rt))throw new TypeError("column indices must be an array");for(let at=0;at<rt.length;at++)if(rt[at]<0||rt[at]>=_e.columns)throw new RangeError("column indices are out of range")}function checkRange$1(_e,rt,at,lt,st){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",rt),checkNumber("endRow",at),checkNumber("startColumn",lt),checkNumber("endColumn",st),rt>at||lt>st||rt<0||rt>=_e.rows||at<0||at>=_e.rows||lt<0||lt>=_e.columns||st<0||st>=_e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray(_e,rt=0){let at=[];for(let lt=0;lt<_e;lt++)at.push(rt);return at}function checkNumber(_e,rt){if(typeof rt!="number")throw new TypeError(`${_e} must be a number`)}function checkNonEmpty(_e){if(_e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(_e){let rt=newArray(_e.rows);for(let at=0;at<_e.rows;++at)for(let lt=0;lt<_e.columns;++lt)rt[at]+=_e.get(at,lt);return rt}function sumByColumn(_e){let rt=newArray(_e.columns);for(let at=0;at<_e.rows;++at)for(let lt=0;lt<_e.columns;++lt)rt[lt]+=_e.get(at,lt);return rt}function sumAll(_e){let rt=0;for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)rt+=_e.get(at,lt);return rt}function productByRow(_e){let rt=newArray(_e.rows,1);for(let at=0;at<_e.rows;++at)for(let lt=0;lt<_e.columns;++lt)rt[at]*=_e.get(at,lt);return rt}function productByColumn(_e){let rt=newArray(_e.columns,1);for(let at=0;at<_e.rows;++at)for(let lt=0;lt<_e.columns;++lt)rt[lt]*=_e.get(at,lt);return rt}function productAll(_e){let rt=1;for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)rt*=_e.get(at,lt);return rt}function varianceByRow(_e,rt,at){const lt=_e.rows,st=_e.columns,ct=[];for(let ut=0;ut<lt;ut++){let ft=0,dt=0,pt=0;for(let ht=0;ht<st;ht++)pt=_e.get(ut,ht)-at[ut],ft+=pt,dt+=pt*pt;rt?ct.push((dt-ft*ft/st)/(st-1)):ct.push((dt-ft*ft/st)/st)}return ct}function varianceByColumn(_e,rt,at){const lt=_e.rows,st=_e.columns,ct=[];for(let ut=0;ut<st;ut++){let ft=0,dt=0,pt=0;for(let ht=0;ht<lt;ht++)pt=_e.get(ht,ut)-at[ut],ft+=pt,dt+=pt*pt;rt?ct.push((dt-ft*ft/lt)/(lt-1)):ct.push((dt-ft*ft/lt)/lt)}return ct}function varianceAll(_e,rt,at){const lt=_e.rows,st=_e.columns,ct=lt*st;let ut=0,ft=0,dt=0;for(let pt=0;pt<lt;pt++)for(let ht=0;ht<st;ht++)dt=_e.get(pt,ht)-at,ut+=dt,ft+=dt*dt;return rt?(ft-ut*ut/ct)/(ct-1):(ft-ut*ut/ct)/ct}function centerByRow(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)-rt[at])}function centerByColumn(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)-rt[lt])}function centerAll(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)-rt)}function getScaleByRow(_e){const rt=[];for(let at=0;at<_e.rows;at++){let lt=0;for(let st=0;st<_e.columns;st++)lt+=Math.pow(_e.get(at,st),2)/(_e.columns-1);rt.push(Math.sqrt(lt))}return rt}function scaleByRow(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)/rt[at])}function getScaleByColumn(_e){const rt=[];for(let at=0;at<_e.columns;at++){let lt=0;for(let st=0;st<_e.rows;st++)lt+=Math.pow(_e.get(st,at),2)/(_e.rows-1);rt.push(Math.sqrt(lt))}return rt}function scaleByColumn(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)/rt[lt])}function getScaleAll(_e){const rt=_e.size-1;let at=0;for(let lt=0;lt<_e.columns;lt++)for(let st=0;st<_e.rows;st++)at+=Math.pow(_e.get(st,lt),2)/rt;return Math.sqrt(at)}function scaleAll(_e,rt){for(let at=0;at<_e.rows;at++)for(let lt=0;lt<_e.columns;lt++)_e.set(at,lt,_e.get(at,lt)/rt)}class AbstractMatrix{static from1DArray(rt,at,lt){if(rt*at!==lt.length)throw new RangeError("data length does not match given dimensions");let ct=new Matrix(rt,at);for(let ut=0;ut<rt;ut++)for(let ft=0;ft<at;ft++)ct.set(ut,ft,lt[ut*at+ft]);return ct}static rowVector(rt){let at=new Matrix(1,rt.length);for(let lt=0;lt<rt.length;lt++)at.set(0,lt,rt[lt]);return at}static columnVector(rt){let at=new Matrix(rt.length,1);for(let lt=0;lt<rt.length;lt++)at.set(lt,0,rt[lt]);return at}static zeros(rt,at){return new Matrix(rt,at)}static ones(rt,at){return new Matrix(rt,at).fill(1)}static rand(rt,at,lt={}){if(typeof lt!="object")throw new TypeError("options must be an object");const{random:st=Math.random}=lt;let ct=new Matrix(rt,at);for(let ut=0;ut<rt;ut++)for(let ft=0;ft<at;ft++)ct.set(ut,ft,st());return ct}static randInt(rt,at,lt={}){if(typeof lt!="object")throw new TypeError("options must be an object");const{min:st=0,max:ct=1e3,random:ut=Math.random}=lt;if(!Number.isInteger(st))throw new TypeError("min must be an integer");if(!Number.isInteger(ct))throw new TypeError("max must be an integer");if(st>=ct)throw new RangeError("min must be smaller than max");let ft=ct-st,dt=new Matrix(rt,at);for(let pt=0;pt<rt;pt++)for(let ht=0;ht<at;ht++){let gt=st+Math.round(ut()*ft);dt.set(pt,ht,gt)}return dt}static eye(rt,at,lt){at===void 0&&(at=rt),lt===void 0&&(lt=1);let st=Math.min(rt,at),ct=this.zeros(rt,at);for(let ut=0;ut<st;ut++)ct.set(ut,ut,lt);return ct}static diag(rt,at,lt){let st=rt.length;at===void 0&&(at=st),lt===void 0&&(lt=at);let ct=Math.min(st,at,lt),ut=this.zeros(at,lt);for(let ft=0;ft<ct;ft++)ut.set(ft,ft,rt[ft]);return ut}static min(rt,at){rt=this.checkMatrix(rt),at=this.checkMatrix(at);let lt=rt.rows,st=rt.columns,ct=new Matrix(lt,st);for(let ut=0;ut<lt;ut++)for(let ft=0;ft<st;ft++)ct.set(ut,ft,Math.min(rt.get(ut,ft),at.get(ut,ft)));return ct}static max(rt,at){rt=this.checkMatrix(rt),at=this.checkMatrix(at);let lt=rt.rows,st=rt.columns,ct=new this(lt,st);for(let ut=0;ut<lt;ut++)for(let ft=0;ft<st;ft++)ct.set(ut,ft,Math.max(rt.get(ut,ft),at.get(ut,ft)));return ct}static checkMatrix(rt){return AbstractMatrix.isMatrix(rt)?rt:new Matrix(rt)}static isMatrix(rt){return rt!=null&&rt.klass==="Matrix"}get size(){return this.rows*this.columns}apply(rt){if(typeof rt!="function")throw new TypeError("callback must be a function");for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)rt.call(this,at,lt);return this}to1DArray(){let rt=[];for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)rt.push(this.get(at,lt));return rt}to2DArray(){let rt=[];for(let at=0;at<this.rows;at++){rt.push([]);for(let lt=0;lt<this.columns;lt++)rt[at].push(this.get(at,lt))}return rt}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let rt=0;rt<this.rows;rt++)for(let at=0;at<=rt;at++)if(this.get(rt,at)!==this.get(at,rt))return!1;return!0}return!1}isEchelonForm(){let rt=0,at=0,lt=-1,st=!0,ct=!1;for(;rt<this.rows&&st;){for(at=0,ct=!1;at<this.columns&&ct===!1;)this.get(rt,at)===0?at++:this.get(rt,at)===1&&at>lt?(ct=!0,lt=at):(st=!1,ct=!0);rt++}return st}isReducedEchelonForm(){let rt=0,at=0,lt=-1,st=!0,ct=!1;for(;rt<this.rows&&st;){for(at=0,ct=!1;at<this.columns&&ct===!1;)this.get(rt,at)===0?at++:this.get(rt,at)===1&&at>lt?(ct=!0,lt=at):(st=!1,ct=!0);for(let ut=at+1;ut<this.rows;ut++)this.get(rt,ut)!==0&&(st=!1);rt++}return st}echelonForm(){let rt=this.clone(),at=0,lt=0;for(;at<rt.rows&&lt<rt.columns;){let st=at;for(let ct=at;ct<rt.rows;ct++)rt.get(ct,lt)>rt.get(st,lt)&&(st=ct);if(rt.get(st,lt)===0)lt++;else{rt.swapRows(at,st);let ct=rt.get(at,lt);for(let ut=lt;ut<rt.columns;ut++)rt.set(at,ut,rt.get(at,ut)/ct);for(let ut=at+1;ut<rt.rows;ut++){let ft=rt.get(ut,lt)/rt.get(at,lt);rt.set(ut,lt,0);for(let dt=lt+1;dt<rt.columns;dt++)rt.set(ut,dt,rt.get(ut,dt)-rt.get(at,dt)*ft)}at++,lt++}}return rt}reducedEchelonForm(){let rt=this.echelonForm(),at=rt.columns,lt=rt.rows,st=lt-1;for(;st>=0;)if(rt.maxRow(st)===0)st--;else{let ct=0,ut=!1;for(;ct<lt&&ut===!1;)rt.get(st,ct)===1?ut=!0:ct++;for(let ft=0;ft<st;ft++){let dt=rt.get(ft,ct);for(let pt=ct;pt<at;pt++){let ht=rt.get(ft,pt)-dt*rt.get(st,pt);rt.set(ft,pt,ht)}}st--}return rt}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(rt={}){if(typeof rt!="object")throw new TypeError("options must be an object");const{rows:at=1,columns:lt=1}=rt;if(!Number.isInteger(at)||at<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(lt)||lt<=0)throw new TypeError("columns must be a positive integer");let st=new Matrix(this.rows*at,this.columns*lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)st.setSubMatrix(this,this.rows*ct,this.columns*ut);return st}fill(rt){for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,rt);return this}neg(){return this.mulS(-1)}getRow(rt){checkRowIndex(this,rt);let at=[];for(let lt=0;lt<this.columns;lt++)at.push(this.get(rt,lt));return at}getRowVector(rt){return Matrix.rowVector(this.getRow(rt))}setRow(rt,at){checkRowIndex(this,rt),at=checkRowVector(this,at);for(let lt=0;lt<this.columns;lt++)this.set(rt,lt,at[lt]);return this}swapRows(rt,at){checkRowIndex(this,rt),checkRowIndex(this,at);for(let lt=0;lt<this.columns;lt++){let st=this.get(rt,lt);this.set(rt,lt,this.get(at,lt)),this.set(at,lt,st)}return this}getColumn(rt){checkColumnIndex(this,rt);let at=[];for(let lt=0;lt<this.rows;lt++)at.push(this.get(lt,rt));return at}getColumnVector(rt){return Matrix.columnVector(this.getColumn(rt))}setColumn(rt,at){checkColumnIndex(this,rt),at=checkColumnVector(this,at);for(let lt=0;lt<this.rows;lt++)this.set(lt,rt,at[lt]);return this}swapColumns(rt,at){checkColumnIndex(this,rt),checkColumnIndex(this,at);for(let lt=0;lt<this.rows;lt++){let st=this.get(lt,rt);this.set(lt,rt,this.get(lt,at)),this.set(lt,at,st)}return this}addRowVector(rt){rt=checkRowVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)+rt[lt]);return this}subRowVector(rt){rt=checkRowVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)-rt[lt]);return this}mulRowVector(rt){rt=checkRowVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)*rt[lt]);return this}divRowVector(rt){rt=checkRowVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)/rt[lt]);return this}addColumnVector(rt){rt=checkColumnVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)+rt[at]);return this}subColumnVector(rt){rt=checkColumnVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)-rt[at]);return this}mulColumnVector(rt){rt=checkColumnVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)*rt[at]);return this}divColumnVector(rt){rt=checkColumnVector(this,rt);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)this.set(at,lt,this.get(at,lt)/rt[at]);return this}mulRow(rt,at){checkRowIndex(this,rt);for(let lt=0;lt<this.columns;lt++)this.set(rt,lt,this.get(rt,lt)*at);return this}mulColumn(rt,at){checkColumnIndex(this,rt);for(let lt=0;lt<this.rows;lt++)this.set(lt,rt,this.get(lt,rt)*at);return this}max(rt){if(this.isEmpty())return NaN;switch(rt){case"row":{const at=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at[lt]&&(at[lt]=this.get(lt,st));return at}case"column":{const at=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at[st]&&(at[st]=this.get(lt,st));return at}case void 0:{let at=this.get(0,0);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>at&&(at=this.get(lt,st));return at}default:throw new Error(`invalid option: ${rt}`)}}maxIndex(){checkNonEmpty(this);let rt=this.get(0,0),at=[0,0];for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)>rt&&(rt=this.get(lt,st),at[0]=lt,at[1]=st);return at}min(rt){if(this.isEmpty())return NaN;switch(rt){case"row":{const at=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at[lt]&&(at[lt]=this.get(lt,st));return at}case"column":{const at=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at[st]&&(at[st]=this.get(lt,st));return at}case void 0:{let at=this.get(0,0);for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<at&&(at=this.get(lt,st));return at}default:throw new Error(`invalid option: ${rt}`)}}minIndex(){checkNonEmpty(this);let rt=this.get(0,0),at=[0,0];for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)this.get(lt,st)<rt&&(rt=this.get(lt,st),at[0]=lt,at[1]=st);return at}maxRow(rt){if(checkRowIndex(this,rt),this.isEmpty())return NaN;let at=this.get(rt,0);for(let lt=1;lt<this.columns;lt++)this.get(rt,lt)>at&&(at=this.get(rt,lt));return at}maxRowIndex(rt){checkRowIndex(this,rt),checkNonEmpty(this);let at=this.get(rt,0),lt=[rt,0];for(let st=1;st<this.columns;st++)this.get(rt,st)>at&&(at=this.get(rt,st),lt[1]=st);return lt}minRow(rt){if(checkRowIndex(this,rt),this.isEmpty())return NaN;let at=this.get(rt,0);for(let lt=1;lt<this.columns;lt++)this.get(rt,lt)<at&&(at=this.get(rt,lt));return at}minRowIndex(rt){checkRowIndex(this,rt),checkNonEmpty(this);let at=this.get(rt,0),lt=[rt,0];for(let st=1;st<this.columns;st++)this.get(rt,st)<at&&(at=this.get(rt,st),lt[1]=st);return lt}maxColumn(rt){if(checkColumnIndex(this,rt),this.isEmpty())return NaN;let at=this.get(0,rt);for(let lt=1;lt<this.rows;lt++)this.get(lt,rt)>at&&(at=this.get(lt,rt));return at}maxColumnIndex(rt){checkColumnIndex(this,rt),checkNonEmpty(this);let at=this.get(0,rt),lt=[0,rt];for(let st=1;st<this.rows;st++)this.get(st,rt)>at&&(at=this.get(st,rt),lt[0]=st);return lt}minColumn(rt){if(checkColumnIndex(this,rt),this.isEmpty())return NaN;let at=this.get(0,rt);for(let lt=1;lt<this.rows;lt++)this.get(lt,rt)<at&&(at=this.get(lt,rt));return at}minColumnIndex(rt){checkColumnIndex(this,rt),checkNonEmpty(this);let at=this.get(0,rt),lt=[0,rt];for(let st=1;st<this.rows;st++)this.get(st,rt)<at&&(at=this.get(st,rt),lt[0]=st);return lt}diag(){let rt=Math.min(this.rows,this.columns),at=[];for(let lt=0;lt<rt;lt++)at.push(this.get(lt,lt));return at}norm(rt="frobenius"){let at=0;if(rt==="max")return this.max();if(rt==="frobenius"){for(let lt=0;lt<this.rows;lt++)for(let st=0;st<this.columns;st++)at=at+this.get(lt,st)*this.get(lt,st);return Math.sqrt(at)}else throw new RangeError(`unknown norm type: ${rt}`)}cumulativeSum(){let rt=0;for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)rt+=this.get(at,lt),this.set(at,lt,rt);return this}dot(rt){AbstractMatrix.isMatrix(rt)&&(rt=rt.to1DArray());let at=this.to1DArray();if(at.length!==rt.length)throw new RangeError("vectors do not have the same size");let lt=0;for(let st=0;st<at.length;st++)lt+=at[st]*rt[st];return lt}mmul(rt){rt=Matrix.checkMatrix(rt);let at=this.rows,lt=this.columns,st=rt.columns,ct=new Matrix(at,st),ut=new Float64Array(lt);for(let ft=0;ft<st;ft++){for(let dt=0;dt<lt;dt++)ut[dt]=rt.get(dt,ft);for(let dt=0;dt<at;dt++){let pt=0;for(let ht=0;ht<lt;ht++)pt+=this.get(dt,ht)*ut[ht];ct.set(dt,ft,pt)}}return ct}strassen2x2(rt){rt=Matrix.checkMatrix(rt);let at=new Matrix(2,2);const lt=this.get(0,0),st=rt.get(0,0),ct=this.get(0,1),ut=rt.get(0,1),ft=this.get(1,0),dt=rt.get(1,0),pt=this.get(1,1),ht=rt.get(1,1),gt=(lt+pt)*(st+ht),mt=(ft+pt)*st,xt=lt*(ut-ht),vt=pt*(dt-st),yt=(lt+ct)*ht,_t=(ft-lt)*(st+ut),$t=(ct-pt)*(dt+ht),Et=gt+vt-yt+$t,wt=xt+yt,bt=mt+vt,St=gt-mt+xt+_t;return at.set(0,0,Et),at.set(0,1,wt),at.set(1,0,bt),at.set(1,1,St),at}strassen3x3(rt){rt=Matrix.checkMatrix(rt);let at=new Matrix(3,3);const lt=this.get(0,0),st=this.get(0,1),ct=this.get(0,2),ut=this.get(1,0),ft=this.get(1,1),dt=this.get(1,2),pt=this.get(2,0),ht=this.get(2,1),gt=this.get(2,2),mt=rt.get(0,0),xt=rt.get(0,1),vt=rt.get(0,2),yt=rt.get(1,0),_t=rt.get(1,1),$t=rt.get(1,2),Et=rt.get(2,0),wt=rt.get(2,1),bt=rt.get(2,2),St=(lt+st+ct-ut-ft-ht-gt)*_t,Tt=(lt-ut)*(-xt+_t),Rt=ft*(-mt+xt+yt-_t-$t-Et+bt),kt=(-lt+ut+ft)*(mt-xt+_t),At=(ut+ft)*(-mt+xt),Ct=lt*mt,Mt=(-lt+pt+ht)*(mt-vt+$t),Ot=(-lt+pt)*(vt-$t),Pt=(pt+ht)*(-mt+vt),It=(lt+st+ct-ft-dt-pt-ht)*$t,Ft=ht*(-mt+vt+yt-_t-$t-Et+wt),Wt=(-ct+ht+gt)*(_t+Et-wt),Xt=(ct-gt)*(_t-wt),Lt=ct*Et,Bt=(ht+gt)*(-Et+wt),Ut=(-ct+ft+dt)*($t+Et-bt),dn=(ct-dt)*($t-bt),Zt=(ft+dt)*(-Et+bt),cn=st*yt,Gt=dt*wt,Yt=ut*vt,pn=pt*xt,$n=gt*bt,Sn=Ct+Lt+cn,Qt=St+kt+At+Ct+Wt+Lt+Bt,vn=Ct+Mt+Pt+It+Lt+Ut+Zt,wn=Tt+Rt+kt+Ct+Lt+Ut+dn,qt=Tt+kt+At+Ct+Gt,En=Lt+Ut+dn+Zt+Yt,xn=Ct+Mt+Ot+Ft+Wt+Xt+Lt,hn=Wt+Xt+Lt+Bt+pn,jt=Ct+Mt+Ot+Pt+$n;return at.set(0,0,Sn),at.set(0,1,Qt),at.set(0,2,vn),at.set(1,0,wn),at.set(1,1,qt),at.set(1,2,En),at.set(2,0,xn),at.set(2,1,hn),at.set(2,2,jt),at}mmulStrassen(rt){rt=Matrix.checkMatrix(rt);let at=this.clone(),lt=at.rows,st=at.columns,ct=rt.rows,ut=rt.columns;st!==ct&&console.warn(`Multiplying ${lt} x ${st} and ${ct} x ${ut} matrix: dimensions do not match.`);function ft(gt,mt,xt){let vt=gt.rows,yt=gt.columns;if(vt===mt&&yt===xt)return gt;{let _t=AbstractMatrix.zeros(mt,xt);return _t=_t.setSubMatrix(gt,0,0),_t}}let dt=Math.max(lt,ct),pt=Math.max(st,ut);at=ft(at,dt,pt),rt=ft(rt,dt,pt);function ht(gt,mt,xt,vt){if(xt<=512||vt<=512)return gt.mmul(mt);xt%2===1&&vt%2===1?(gt=ft(gt,xt+1,vt+1),mt=ft(mt,xt+1,vt+1)):xt%2===1?(gt=ft(gt,xt+1,vt),mt=ft(mt,xt+1,vt)):vt%2===1&&(gt=ft(gt,xt,vt+1),mt=ft(mt,xt,vt+1));let yt=parseInt(gt.rows/2,10),_t=parseInt(gt.columns/2,10),$t=gt.subMatrix(0,yt-1,0,_t-1),Et=mt.subMatrix(0,yt-1,0,_t-1),wt=gt.subMatrix(0,yt-1,_t,gt.columns-1),bt=mt.subMatrix(0,yt-1,_t,mt.columns-1),St=gt.subMatrix(yt,gt.rows-1,0,_t-1),Tt=mt.subMatrix(yt,mt.rows-1,0,_t-1),Rt=gt.subMatrix(yt,gt.rows-1,_t,gt.columns-1),kt=mt.subMatrix(yt,mt.rows-1,_t,mt.columns-1),At=ht(AbstractMatrix.add($t,Rt),AbstractMatrix.add(Et,kt),yt,_t),Ct=ht(AbstractMatrix.add(St,Rt),Et,yt,_t),Mt=ht($t,AbstractMatrix.sub(bt,kt),yt,_t),Ot=ht(Rt,AbstractMatrix.sub(Tt,Et),yt,_t),Pt=ht(AbstractMatrix.add($t,wt),kt,yt,_t),It=ht(AbstractMatrix.sub(St,$t),AbstractMatrix.add(Et,bt),yt,_t),Ft=ht(AbstractMatrix.sub(wt,Rt),AbstractMatrix.add(Tt,kt),yt,_t),Wt=AbstractMatrix.add(At,Ot);Wt.sub(Pt),Wt.add(Ft);let Xt=AbstractMatrix.add(Mt,Pt),Lt=AbstractMatrix.add(Ct,Ot),Bt=AbstractMatrix.sub(At,Ct);Bt.add(Mt),Bt.add(It);let Ut=AbstractMatrix.zeros(2*Wt.rows,2*Wt.columns);return Ut=Ut.setSubMatrix(Wt,0,0),Ut=Ut.setSubMatrix(Xt,Wt.rows,0),Ut=Ut.setSubMatrix(Lt,0,Wt.columns),Ut=Ut.setSubMatrix(Bt,Wt.rows,Wt.columns),Ut.subMatrix(0,xt-1,0,vt-1)}return ht(at,rt,dt,pt)}scaleRows(rt={}){if(typeof rt!="object")throw new TypeError("options must be an object");const{min:at=0,max:lt=1}=rt;if(!Number.isFinite(at))throw new TypeError("min must be a number");if(!Number.isFinite(lt))throw new TypeError("max must be a number");if(at>=lt)throw new RangeError("min must be smaller than max");let st=new Matrix(this.rows,this.columns);for(let ct=0;ct<this.rows;ct++){const ut=this.getRow(ct);ut.length>0&&rescale(ut,{min:at,max:lt,output:ut}),st.setRow(ct,ut)}return st}scaleColumns(rt={}){if(typeof rt!="object")throw new TypeError("options must be an object");const{min:at=0,max:lt=1}=rt;if(!Number.isFinite(at))throw new TypeError("min must be a number");if(!Number.isFinite(lt))throw new TypeError("max must be a number");if(at>=lt)throw new RangeError("min must be smaller than max");let st=new Matrix(this.rows,this.columns);for(let ct=0;ct<this.columns;ct++){const ut=this.getColumn(ct);ut.length&&rescale(ut,{min:at,max:lt,output:ut}),st.setColumn(ct,ut)}return st}flipRows(){const rt=Math.ceil(this.columns/2);for(let at=0;at<this.rows;at++)for(let lt=0;lt<rt;lt++){let st=this.get(at,lt),ct=this.get(at,this.columns-1-lt);this.set(at,lt,ct),this.set(at,this.columns-1-lt,st)}return this}flipColumns(){const rt=Math.ceil(this.rows/2);for(let at=0;at<this.columns;at++)for(let lt=0;lt<rt;lt++){let st=this.get(lt,at),ct=this.get(this.rows-1-lt,at);this.set(lt,at,ct),this.set(this.rows-1-lt,at,st)}return this}kroneckerProduct(rt){rt=Matrix.checkMatrix(rt);let at=this.rows,lt=this.columns,st=rt.rows,ct=rt.columns,ut=new Matrix(at*st,lt*ct);for(let ft=0;ft<at;ft++)for(let dt=0;dt<lt;dt++)for(let pt=0;pt<st;pt++)for(let ht=0;ht<ct;ht++)ut.set(st*ft+pt,ct*dt+ht,this.get(ft,dt)*rt.get(pt,ht));return ut}kroneckerSum(rt){if(rt=Matrix.checkMatrix(rt),!this.isSquare()||!rt.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let at=this.rows,lt=rt.rows,st=this.kroneckerProduct(Matrix.eye(lt,lt)),ct=Matrix.eye(at,at).kroneckerProduct(rt);return st.add(ct)}transpose(){let rt=new Matrix(this.columns,this.rows);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)rt.set(lt,at,this.get(at,lt));return rt}sortRows(rt=compareNumbers){for(let at=0;at<this.rows;at++)this.setRow(at,this.getRow(at).sort(rt));return this}sortColumns(rt=compareNumbers){for(let at=0;at<this.columns;at++)this.setColumn(at,this.getColumn(at).sort(rt));return this}subMatrix(rt,at,lt,st){checkRange$1(this,rt,at,lt,st);let ct=new Matrix(at-rt+1,st-lt+1);for(let ut=rt;ut<=at;ut++)for(let ft=lt;ft<=st;ft++)ct.set(ut-rt,ft-lt,this.get(ut,ft));return ct}subMatrixRow(rt,at,lt){if(at===void 0&&(at=0),lt===void 0&&(lt=this.columns-1),at>lt||at<0||at>=this.columns||lt<0||lt>=this.columns)throw new RangeError("Argument out of range");let st=new Matrix(rt.length,lt-at+1);for(let ct=0;ct<rt.length;ct++)for(let ut=at;ut<=lt;ut++){if(rt[ct]<0||rt[ct]>=this.rows)throw new RangeError(`Row index out of range: ${rt[ct]}`);st.set(ct,ut-at,this.get(rt[ct],ut))}return st}subMatrixColumn(rt,at,lt){if(at===void 0&&(at=0),lt===void 0&&(lt=this.rows-1),at>lt||at<0||at>=this.rows||lt<0||lt>=this.rows)throw new RangeError("Argument out of range");let st=new Matrix(lt-at+1,rt.length);for(let ct=0;ct<rt.length;ct++)for(let ut=at;ut<=lt;ut++){if(rt[ct]<0||rt[ct]>=this.columns)throw new RangeError(`Column index out of range: ${rt[ct]}`);st.set(ut-at,ct,this.get(ut,rt[ct]))}return st}setSubMatrix(rt,at,lt){if(rt=Matrix.checkMatrix(rt),rt.isEmpty())return this;let st=at+rt.rows-1,ct=lt+rt.columns-1;checkRange$1(this,at,st,lt,ct);for(let ut=0;ut<rt.rows;ut++)for(let ft=0;ft<rt.columns;ft++)this.set(at+ut,lt+ft,rt.get(ut,ft));return this}selection(rt,at){checkRowIndices(this,rt),checkColumnIndices(this,at);let lt=new Matrix(rt.length,at.length);for(let st=0;st<rt.length;st++){let ct=rt[st];for(let ut=0;ut<at.length;ut++){let ft=at[ut];lt.set(st,ut,this.get(ct,ft))}}return lt}trace(){let rt=Math.min(this.rows,this.columns),at=0;for(let lt=0;lt<rt;lt++)at+=this.get(lt,lt);return at}clone(){let rt=new Matrix(this.rows,this.columns);for(let at=0;at<this.rows;at++)for(let lt=0;lt<this.columns;lt++)rt.set(at,lt,this.get(at,lt));return rt}sum(rt){switch(rt){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${rt}`)}}product(rt){switch(rt){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${rt}`)}}mean(rt){const at=this.sum(rt);switch(rt){case"row":{for(let lt=0;lt<this.rows;lt++)at[lt]/=this.columns;return at}case"column":{for(let lt=0;lt<this.columns;lt++)at[lt]/=this.rows;return at}case void 0:return at/this.size;default:throw new Error(`invalid option: ${rt}`)}}variance(rt,at={}){if(typeof rt=="object"&&(at=rt,rt=void 0),typeof at!="object")throw new TypeError("options must be an object");const{unbiased:lt=!0,mean:st=this.mean(rt)}=at;if(typeof lt!="boolean")throw new TypeError("unbiased must be a boolean");switch(rt){case"row":{if(!isAnyArray(st))throw new TypeError("mean must be an array");return varianceByRow(this,lt,st)}case"column":{if(!isAnyArray(st))throw new TypeError("mean must be an array");return varianceByColumn(this,lt,st)}case void 0:{if(typeof st!="number")throw new TypeError("mean must be a number");return varianceAll(this,lt,st)}default:throw new Error(`invalid option: ${rt}`)}}standardDeviation(rt,at){typeof rt=="object"&&(at=rt,rt=void 0);const lt=this.variance(rt,at);if(rt===void 0)return Math.sqrt(lt);for(let st=0;st<lt.length;st++)lt[st]=Math.sqrt(lt[st]);return lt}center(rt,at={}){if(typeof rt=="object"&&(at=rt,rt=void 0),typeof at!="object")throw new TypeError("options must be an object");const{center:lt=this.mean(rt)}=at;switch(rt){case"row":{if(!isAnyArray(lt))throw new TypeError("center must be an array");return centerByRow(this,lt),this}case"column":{if(!isAnyArray(lt))throw new TypeError("center must be an array");return centerByColumn(this,lt),this}case void 0:{if(typeof lt!="number")throw new TypeError("center must be a number");return centerAll(this,lt),this}default:throw new Error(`invalid option: ${rt}`)}}scale(rt,at={}){if(typeof rt=="object"&&(at=rt,rt=void 0),typeof at!="object")throw new TypeError("options must be an object");let lt=at.scale;switch(rt){case"row":{if(lt===void 0)lt=getScaleByRow(this);else if(!isAnyArray(lt))throw new TypeError("scale must be an array");return scaleByRow(this,lt),this}case"column":{if(lt===void 0)lt=getScaleByColumn(this);else if(!isAnyArray(lt))throw new TypeError("scale must be an array");return scaleByColumn(this,lt),this}case void 0:{if(lt===void 0)lt=getScaleAll(this);else if(typeof lt!="number")throw new TypeError("scale must be a number");return scaleAll(this,lt),this}default:throw new Error(`invalid option: ${rt}`)}}toString(rt){return inspectMatrixWithOptions(this,rt)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(_e,rt){return _e-rt}function isArrayOfNumbers(_e){return _e.every(rt=>typeof rt=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;class Matrix extends AbstractMatrix{constructor(rt,at){if(super(),Matrix.isMatrix(rt))return rt.clone();if(Number.isInteger(rt)&&rt>=0)if(this.data=[],Number.isInteger(at)&&at>=0)for(let lt=0;lt<rt;lt++)this.data.push(new Float64Array(at));else throw new TypeError("nColumns must be a positive integer");else if(isAnyArray(rt)){const lt=rt;if(rt=lt.length,at=rt?lt[0].length:0,typeof at!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let st=0;st<rt;st++){if(lt[st].length!==at)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(lt[st]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(lt[st]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=rt,this.columns=at}set(rt,at,lt){return this.data[rt][at]=lt,this}get(rt,at){return this.data[rt][at]}removeRow(rt){return checkRowIndex(this,rt),this.data.splice(rt,1),this.rows-=1,this}addRow(rt,at){return at===void 0&&(at=rt,rt=this.rows),checkRowIndex(this,rt,!0),at=Float64Array.from(checkRowVector(this,at)),this.data.splice(rt,0,at),this.rows+=1,this}removeColumn(rt){checkColumnIndex(this,rt);for(let at=0;at<this.rows;at++){const lt=new Float64Array(this.columns-1);for(let st=0;st<rt;st++)lt[st]=this.data[at][st];for(let st=rt+1;st<this.columns;st++)lt[st-1]=this.data[at][st];this.data[at]=lt}return this.columns-=1,this}addColumn(rt,at){typeof at>"u"&&(at=rt,rt=this.columns),checkColumnIndex(this,rt,!0),at=checkColumnVector(this,at);for(let lt=0;lt<this.rows;lt++){const st=new Float64Array(this.columns+1);let ct=0;for(;ct<rt;ct++)st[ct]=this.data[lt][ct];for(st[ct++]=at[lt];ct<this.columns+1;ct++)st[ct]=this.data[lt][ct-1];this.data[lt]=st}return this.columns+=1,this}}installMathOperations(AbstractMatrix,Matrix);class WrapperMatrix2D extends AbstractMatrix{constructor(rt){super(),this.data=rt,this.rows=rt.length,this.columns=rt[0].length}set(rt,at,lt){return this.data[rt][at]=lt,this}get(rt,at){return this.data[rt][at]}}class LuDecomposition{constructor(rt){rt=WrapperMatrix2D.checkMatrix(rt);let at=rt.clone(),lt=at.rows,st=at.columns,ct=new Float64Array(lt),ut=1,ft,dt,pt,ht,gt,mt,xt,vt,yt;for(ft=0;ft<lt;ft++)ct[ft]=ft;for(vt=new Float64Array(lt),dt=0;dt<st;dt++){for(ft=0;ft<lt;ft++)vt[ft]=at.get(ft,dt);for(ft=0;ft<lt;ft++){for(yt=Math.min(ft,dt),gt=0,pt=0;pt<yt;pt++)gt+=at.get(ft,pt)*vt[pt];vt[ft]-=gt,at.set(ft,dt,vt[ft])}for(ht=dt,ft=dt+1;ft<lt;ft++)Math.abs(vt[ft])>Math.abs(vt[ht])&&(ht=ft);if(ht!==dt){for(pt=0;pt<st;pt++)mt=at.get(ht,pt),at.set(ht,pt,at.get(dt,pt)),at.set(dt,pt,mt);xt=ct[ht],ct[ht]=ct[dt],ct[dt]=xt,ut=-ut}if(dt<lt&&at.get(dt,dt)!==0)for(ft=dt+1;ft<lt;ft++)at.set(ft,dt,at.get(ft,dt)/at.get(dt,dt))}this.LU=at,this.pivotVector=ct,this.pivotSign=ut}isSingular(){let rt=this.LU,at=rt.columns;for(let lt=0;lt<at;lt++)if(rt.get(lt,lt)===0)return!0;return!1}solve(rt){rt=Matrix.checkMatrix(rt);let at=this.LU;if(at.rows!==rt.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let st=rt.columns,ct=rt.subMatrixRow(this.pivotVector,0,st-1),ut=at.columns,ft,dt,pt;for(pt=0;pt<ut;pt++)for(ft=pt+1;ft<ut;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt));for(pt=ut-1;pt>=0;pt--){for(dt=0;dt<st;dt++)ct.set(pt,dt,ct.get(pt,dt)/at.get(pt,pt));for(ft=0;ft<pt;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt))}return ct}get determinant(){let rt=this.LU;if(!rt.isSquare())throw new Error("Matrix must be square");let at=this.pivotSign,lt=rt.columns;for(let st=0;st<lt;st++)at*=rt.get(st,st);return at}get lowerTriangularMatrix(){let rt=this.LU,at=rt.rows,lt=rt.columns,st=new Matrix(at,lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)ct>ut?st.set(ct,ut,rt.get(ct,ut)):ct===ut?st.set(ct,ut,1):st.set(ct,ut,0);return st}get upperTriangularMatrix(){let rt=this.LU,at=rt.rows,lt=rt.columns,st=new Matrix(at,lt);for(let ct=0;ct<at;ct++)for(let ut=0;ut<lt;ut++)ct<=ut?st.set(ct,ut,rt.get(ct,ut)):st.set(ct,ut,0);return st}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(_e,rt){let at=0;return Math.abs(_e)>Math.abs(rt)?(at=rt/_e,Math.abs(_e)*Math.sqrt(1+at*at)):rt!==0?(at=_e/rt,Math.abs(rt)*Math.sqrt(1+at*at)):0}class QrDecomposition{constructor(rt){rt=WrapperMatrix2D.checkMatrix(rt);let at=rt.clone(),lt=rt.rows,st=rt.columns,ct=new Float64Array(st),ut,ft,dt,pt;for(dt=0;dt<st;dt++){let ht=0;for(ut=dt;ut<lt;ut++)ht=hypotenuse$1(ht,at.get(ut,dt));if(ht!==0){for(at.get(dt,dt)<0&&(ht=-ht),ut=dt;ut<lt;ut++)at.set(ut,dt,at.get(ut,dt)/ht);for(at.set(dt,dt,at.get(dt,dt)+1),ft=dt+1;ft<st;ft++){for(pt=0,ut=dt;ut<lt;ut++)pt+=at.get(ut,dt)*at.get(ut,ft);for(pt=-pt/at.get(dt,dt),ut=dt;ut<lt;ut++)at.set(ut,ft,at.get(ut,ft)+pt*at.get(ut,dt))}}ct[dt]=-ht}this.QR=at,this.Rdiag=ct}solve(rt){rt=Matrix.checkMatrix(rt);let at=this.QR,lt=at.rows;if(rt.rows!==lt)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let st=rt.columns,ct=rt.clone(),ut=at.columns,ft,dt,pt,ht;for(pt=0;pt<ut;pt++)for(dt=0;dt<st;dt++){for(ht=0,ft=pt;ft<lt;ft++)ht+=at.get(ft,pt)*ct.get(ft,dt);for(ht=-ht/at.get(pt,pt),ft=pt;ft<lt;ft++)ct.set(ft,dt,ct.get(ft,dt)+ht*at.get(ft,pt))}for(pt=ut-1;pt>=0;pt--){for(dt=0;dt<st;dt++)ct.set(pt,dt,ct.get(pt,dt)/this.Rdiag[pt]);for(ft=0;ft<pt;ft++)for(dt=0;dt<st;dt++)ct.set(ft,dt,ct.get(ft,dt)-ct.get(pt,dt)*at.get(ft,pt))}return ct.subMatrix(0,ut-1,0,st-1)}isFullRank(){let rt=this.QR.columns;for(let at=0;at<rt;at++)if(this.Rdiag[at]===0)return!1;return!0}get upperTriangularMatrix(){let rt=this.QR,at=rt.columns,lt=new Matrix(at,at),st,ct;for(st=0;st<at;st++)for(ct=0;ct<at;ct++)st<ct?lt.set(st,ct,rt.get(st,ct)):st===ct?lt.set(st,ct,this.Rdiag[st]):lt.set(st,ct,0);return lt}get orthogonalMatrix(){let rt=this.QR,at=rt.rows,lt=rt.columns,st=new Matrix(at,lt),ct,ut,ft,dt;for(ft=lt-1;ft>=0;ft--){for(ct=0;ct<at;ct++)st.set(ct,ft,0);for(st.set(ft,ft,1),ut=ft;ut<lt;ut++)if(rt.get(ft,ft)!==0){for(dt=0,ct=ft;ct<at;ct++)dt+=rt.get(ct,ft)*st.get(ct,ut);for(dt=-dt/rt.get(ft,ft),ct=ft;ct<at;ct++)st.set(ct,ut,st.get(ct,ut)+dt*rt.get(ct,ft))}}return st}}class SingularValueDecomposition{constructor(rt,at={}){if(rt=WrapperMatrix2D.checkMatrix(rt),rt.isEmpty())throw new Error("Matrix must be non-empty");let lt=rt.rows,st=rt.columns;const{computeLeftSingularVectors:ct=!0,computeRightSingularVectors:ut=!0,autoTranspose:ft=!1}=at;let dt=!!ct,pt=!!ut,ht=!1,gt;if(lt<st)if(!ft)gt=rt.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{gt=rt.transpose(),lt=gt.rows,st=gt.columns,ht=!0;let Ct=dt;dt=pt,pt=Ct}else gt=rt.clone();let mt=Math.min(lt,st),xt=Math.min(lt+1,st),vt=new Float64Array(xt),yt=new Matrix(lt,mt),_t=new Matrix(st,st),$t=new Float64Array(st),Et=new Float64Array(lt),wt=new Float64Array(xt);for(let Ct=0;Ct<xt;Ct++)wt[Ct]=Ct;let bt=Math.min(lt-1,st),St=Math.max(0,Math.min(st-2,lt)),Tt=Math.max(bt,St);for(let Ct=0;Ct<Tt;Ct++){if(Ct<bt){vt[Ct]=0;for(let Mt=Ct;Mt<lt;Mt++)vt[Ct]=hypotenuse$1(vt[Ct],gt.get(Mt,Ct));if(vt[Ct]!==0){gt.get(Ct,Ct)<0&&(vt[Ct]=-vt[Ct]);for(let Mt=Ct;Mt<lt;Mt++)gt.set(Mt,Ct,gt.get(Mt,Ct)/vt[Ct]);gt.set(Ct,Ct,gt.get(Ct,Ct)+1)}vt[Ct]=-vt[Ct]}for(let Mt=Ct+1;Mt<st;Mt++){if(Ct<bt&&vt[Ct]!==0){let Ot=0;for(let Pt=Ct;Pt<lt;Pt++)Ot+=gt.get(Pt,Ct)*gt.get(Pt,Mt);Ot=-Ot/gt.get(Ct,Ct);for(let Pt=Ct;Pt<lt;Pt++)gt.set(Pt,Mt,gt.get(Pt,Mt)+Ot*gt.get(Pt,Ct))}$t[Mt]=gt.get(Ct,Mt)}if(dt&&Ct<bt)for(let Mt=Ct;Mt<lt;Mt++)yt.set(Mt,Ct,gt.get(Mt,Ct));if(Ct<St){$t[Ct]=0;for(let Mt=Ct+1;Mt<st;Mt++)$t[Ct]=hypotenuse$1($t[Ct],$t[Mt]);if($t[Ct]!==0){$t[Ct+1]<0&&($t[Ct]=0-$t[Ct]);for(let Mt=Ct+1;Mt<st;Mt++)$t[Mt]/=$t[Ct];$t[Ct+1]+=1}if($t[Ct]=-$t[Ct],Ct+1<lt&&$t[Ct]!==0){for(let Mt=Ct+1;Mt<lt;Mt++)Et[Mt]=0;for(let Mt=Ct+1;Mt<lt;Mt++)for(let Ot=Ct+1;Ot<st;Ot++)Et[Mt]+=$t[Ot]*gt.get(Mt,Ot);for(let Mt=Ct+1;Mt<st;Mt++){let Ot=-$t[Mt]/$t[Ct+1];for(let Pt=Ct+1;Pt<lt;Pt++)gt.set(Pt,Mt,gt.get(Pt,Mt)+Ot*Et[Pt])}}if(pt)for(let Mt=Ct+1;Mt<st;Mt++)_t.set(Mt,Ct,$t[Mt])}}let Rt=Math.min(st,lt+1);if(bt<st&&(vt[bt]=gt.get(bt,bt)),lt<Rt&&(vt[Rt-1]=0),St+1<Rt&&($t[St]=gt.get(St,Rt-1)),$t[Rt-1]=0,dt){for(let Ct=bt;Ct<mt;Ct++){for(let Mt=0;Mt<lt;Mt++)yt.set(Mt,Ct,0);yt.set(Ct,Ct,1)}for(let Ct=bt-1;Ct>=0;Ct--)if(vt[Ct]!==0){for(let Mt=Ct+1;Mt<mt;Mt++){let Ot=0;for(let Pt=Ct;Pt<lt;Pt++)Ot+=yt.get(Pt,Ct)*yt.get(Pt,Mt);Ot=-Ot/yt.get(Ct,Ct);for(let Pt=Ct;Pt<lt;Pt++)yt.set(Pt,Mt,yt.get(Pt,Mt)+Ot*yt.get(Pt,Ct))}for(let Mt=Ct;Mt<lt;Mt++)yt.set(Mt,Ct,-yt.get(Mt,Ct));yt.set(Ct,Ct,1+yt.get(Ct,Ct));for(let Mt=0;Mt<Ct-1;Mt++)yt.set(Mt,Ct,0)}else{for(let Mt=0;Mt<lt;Mt++)yt.set(Mt,Ct,0);yt.set(Ct,Ct,1)}}if(pt)for(let Ct=st-1;Ct>=0;Ct--){if(Ct<St&&$t[Ct]!==0)for(let Mt=Ct+1;Mt<st;Mt++){let Ot=0;for(let Pt=Ct+1;Pt<st;Pt++)Ot+=_t.get(Pt,Ct)*_t.get(Pt,Mt);Ot=-Ot/_t.get(Ct+1,Ct);for(let Pt=Ct+1;Pt<st;Pt++)_t.set(Pt,Mt,_t.get(Pt,Mt)+Ot*_t.get(Pt,Ct))}for(let Mt=0;Mt<st;Mt++)_t.set(Mt,Ct,0);_t.set(Ct,Ct,1)}let kt=Rt-1,At=Number.EPSILON;for(;Rt>0;){let Ct,Mt;for(Ct=Rt-2;Ct>=-1&&Ct!==-1;Ct--){const Ot=Number.MIN_VALUE+At*Math.abs(vt[Ct]+Math.abs(vt[Ct+1]));if(Math.abs($t[Ct])<=Ot||Number.isNaN($t[Ct])){$t[Ct]=0;break}}if(Ct===Rt-2)Mt=4;else{let Ot;for(Ot=Rt-1;Ot>=Ct&&Ot!==Ct;Ot--){let Pt=(Ot!==Rt?Math.abs($t[Ot]):0)+(Ot!==Ct+1?Math.abs($t[Ot-1]):0);if(Math.abs(vt[Ot])<=At*Pt){vt[Ot]=0;break}}Ot===Ct?Mt=3:Ot===Rt-1?Mt=1:(Mt=2,Ct=Ot)}switch(Ct++,Mt){case 1:{let Ot=$t[Rt-2];$t[Rt-2]=0;for(let Pt=Rt-2;Pt>=Ct;Pt--){let It=hypotenuse$1(vt[Pt],Ot),Ft=vt[Pt]/It,Wt=Ot/It;if(vt[Pt]=It,Pt!==Ct&&(Ot=-Wt*$t[Pt-1],$t[Pt-1]=Ft*$t[Pt-1]),pt)for(let Xt=0;Xt<st;Xt++)It=Ft*_t.get(Xt,Pt)+Wt*_t.get(Xt,Rt-1),_t.set(Xt,Rt-1,-Wt*_t.get(Xt,Pt)+Ft*_t.get(Xt,Rt-1)),_t.set(Xt,Pt,It)}break}case 2:{let Ot=$t[Ct-1];$t[Ct-1]=0;for(let Pt=Ct;Pt<Rt;Pt++){let It=hypotenuse$1(vt[Pt],Ot),Ft=vt[Pt]/It,Wt=Ot/It;if(vt[Pt]=It,Ot=-Wt*$t[Pt],$t[Pt]=Ft*$t[Pt],dt)for(let Xt=0;Xt<lt;Xt++)It=Ft*yt.get(Xt,Pt)+Wt*yt.get(Xt,Ct-1),yt.set(Xt,Ct-1,-Wt*yt.get(Xt,Pt)+Ft*yt.get(Xt,Ct-1)),yt.set(Xt,Pt,It)}break}case 3:{const Ot=Math.max(Math.abs(vt[Rt-1]),Math.abs(vt[Rt-2]),Math.abs($t[Rt-2]),Math.abs(vt[Ct]),Math.abs($t[Ct])),Pt=vt[Rt-1]/Ot,It=vt[Rt-2]/Ot,Ft=$t[Rt-2]/Ot,Wt=vt[Ct]/Ot,Xt=$t[Ct]/Ot,Lt=((It+Pt)*(It-Pt)+Ft*Ft)/2,Bt=Pt*Ft*(Pt*Ft);let Ut=0;(Lt!==0||Bt!==0)&&(Lt<0?Ut=0-Math.sqrt(Lt*Lt+Bt):Ut=Math.sqrt(Lt*Lt+Bt),Ut=Bt/(Lt+Ut));let dn=(Wt+Pt)*(Wt-Pt)+Ut,Zt=Wt*Xt;for(let cn=Ct;cn<Rt-1;cn++){let Gt=hypotenuse$1(dn,Zt);Gt===0&&(Gt=Number.MIN_VALUE);let Yt=dn/Gt,pn=Zt/Gt;if(cn!==Ct&&($t[cn-1]=Gt),dn=Yt*vt[cn]+pn*$t[cn],$t[cn]=Yt*$t[cn]-pn*vt[cn],Zt=pn*vt[cn+1],vt[cn+1]=Yt*vt[cn+1],pt)for(let $n=0;$n<st;$n++)Gt=Yt*_t.get($n,cn)+pn*_t.get($n,cn+1),_t.set($n,cn+1,-pn*_t.get($n,cn)+Yt*_t.get($n,cn+1)),_t.set($n,cn,Gt);if(Gt=hypotenuse$1(dn,Zt),Gt===0&&(Gt=Number.MIN_VALUE),Yt=dn/Gt,pn=Zt/Gt,vt[cn]=Gt,dn=Yt*$t[cn]+pn*vt[cn+1],vt[cn+1]=-pn*$t[cn]+Yt*vt[cn+1],Zt=pn*$t[cn+1],$t[cn+1]=Yt*$t[cn+1],dt&&cn<lt-1)for(let $n=0;$n<lt;$n++)Gt=Yt*yt.get($n,cn)+pn*yt.get($n,cn+1),yt.set($n,cn+1,-pn*yt.get($n,cn)+Yt*yt.get($n,cn+1)),yt.set($n,cn,Gt)}$t[Rt-2]=dn;break}case 4:{if(vt[Ct]<=0&&(vt[Ct]=vt[Ct]<0?-vt[Ct]:0,pt))for(let Ot=0;Ot<=kt;Ot++)_t.set(Ot,Ct,-_t.get(Ot,Ct));for(;Ct<kt&&!(vt[Ct]>=vt[Ct+1]);){let Ot=vt[Ct];if(vt[Ct]=vt[Ct+1],vt[Ct+1]=Ot,pt&&Ct<st-1)for(let Pt=0;Pt<st;Pt++)Ot=_t.get(Pt,Ct+1),_t.set(Pt,Ct+1,_t.get(Pt,Ct)),_t.set(Pt,Ct,Ot);if(dt&&Ct<lt-1)for(let Pt=0;Pt<lt;Pt++)Ot=yt.get(Pt,Ct+1),yt.set(Pt,Ct+1,yt.get(Pt,Ct)),yt.set(Pt,Ct,Ot);Ct++}Rt--;break}}}if(ht){let Ct=_t;_t=yt,yt=Ct}this.m=lt,this.n=st,this.s=vt,this.U=yt,this.V=_t}solve(rt){let at=rt,lt=this.threshold,st=this.s.length,ct=Matrix.zeros(st,st);for(let mt=0;mt<st;mt++)Math.abs(this.s[mt])<=lt?ct.set(mt,mt,0):ct.set(mt,mt,1/this.s[mt]);let ut=this.U,ft=this.rightSingularVectors,dt=ft.mmul(ct),pt=ft.rows,ht=ut.rows,gt=Matrix.zeros(pt,ht);for(let mt=0;mt<pt;mt++)for(let xt=0;xt<ht;xt++){let vt=0;for(let yt=0;yt<st;yt++)vt+=dt.get(mt,yt)*ut.get(xt,yt);gt.set(mt,xt,vt)}return gt.mmul(at)}solveForDiagonal(rt){return this.solve(Matrix.diag(rt))}inverse(){let rt=this.V,at=this.threshold,lt=rt.rows,st=rt.columns,ct=new Matrix(lt,this.s.length);for(let ht=0;ht<lt;ht++)for(let gt=0;gt<st;gt++)Math.abs(this.s[gt])>at&&ct.set(ht,gt,rt.get(ht,gt)/this.s[gt]);let ut=this.U,ft=ut.rows,dt=ut.columns,pt=new Matrix(lt,ft);for(let ht=0;ht<lt;ht++)for(let gt=0;gt<ft;gt++){let mt=0;for(let xt=0;xt<dt;xt++)mt+=ct.get(ht,xt)*ut.get(gt,xt);pt.set(ht,gt,mt)}return pt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let rt=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,at=0,lt=this.s;for(let st=0,ct=lt.length;st<ct;st++)lt[st]>rt&&at++;return at}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix.diag(this.s)}}function inverse(_e,rt=!1){return _e=WrapperMatrix2D.checkMatrix(_e),rt?new SingularValueDecomposition(_e).inverse():solve(_e,Matrix.eye(_e.rows))}function solve(_e,rt,at=!1){return _e=WrapperMatrix2D.checkMatrix(_e),rt=WrapperMatrix2D.checkMatrix(rt),at?new SingularValueDecomposition(_e).solve(rt):_e.isSquare()?new LuDecomposition(_e).solve(rt):new QrDecomposition(_e).solve(rt)}function pseudoInverse(_e,rt=Number.EPSILON){if(_e=Matrix.checkMatrix(_e),_e.isEmpty())return _e.transpose();let at=new SingularValueDecomposition(_e,{autoTranspose:!0}),lt=at.leftSingularVectors,st=at.rightSingularVectors,ct=at.diagonal;for(let ut=0;ut<ct.length;ut++)Math.abs(ct[ut])>rt?ct[ut]=1/ct[ut]:ct[ut]=0;return st.mmul(Matrix.diag(ct).mmul(lt.transpose()))}class MultivariateLinearRegression{constructor(rt,at,lt={}){const{intercept:st=!0,statistics:ct=!0}=lt;if(this.statistics=ct,rt===!0)this.weights=at.weights,this.inputs=at.inputs,this.outputs=at.outputs,this.intercept=at.intercept;else{rt=new Matrix(rt),at=new Matrix(at),st&&rt.addColumn(new Array(rt.rows).fill(1));let ut=rt.transpose();const ft=ut.mmul(rt),dt=ut.mmul(at),pt=new SingularValueDecomposition(ft).inverse(),ht=dt.transpose().mmul(pt).transpose();if(this.weights=ht.to2DArray(),this.inputs=rt.columns,this.outputs=at.columns,st&&this.inputs--,this.intercept=st,ct){const gt=rt.mmul(ht),xt=at.clone().addM(gt.neg()).to2DArray().map(vt=>Math.pow(vt[0],2)).reduce((vt,yt)=>vt+yt)/(at.rows-rt.columns);this.stdError=Math.sqrt(xt),this.stdErrorMatrix=pseudoInverse(ft).mul(xt),this.stdErrors=this.stdErrorMatrix.diagonal().map(vt=>Math.sqrt(vt)),this.tStats=this.weights.map((vt,yt)=>this.stdErrors[yt]===0?0:vt[0]/this.stdErrors[yt])}}}predict(rt){if(Array.isArray(rt)){if(typeof rt[0]=="number")return this._predict(rt);if(Array.isArray(rt[0])){const at=new Array(rt.length);for(let lt=0;lt<rt.length;lt++)at[lt]=this._predict(rt[lt]);return at}}else if(Matrix.isMatrix(rt)){const at=new Matrix(rt.rows,this.outputs);for(let lt=0;lt<rt.rows;lt++)at.setRow(lt,this._predict(rt.getRow(lt)));return at}throw new TypeError("x must be a matrix or array of numbers")}_predict(rt){const at=new Array(this.outputs);if(this.intercept)for(let lt=0;lt<this.outputs;lt++)at[lt]=this.weights[this.inputs][lt];else at.fill(0);for(let lt=0;lt<this.inputs;lt++)for(let st=0;st<this.outputs;st++)at[st]+=this.weights[lt][st]*rt[lt];return at}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((rt,at)=>({label:at===this.weights.length-1?"Intercept":`X Variable ${at+1}`,coefficients:rt,standardError:this.stdErrors[at],tStat:this.tStats[at]}))}:void 0}}static load(rt){if(rt.name!=="multivariateLinearRegression")throw new Error("not a MLR model");return new MultivariateLinearRegression(!0,rt)}}function getClamp(_e){if(_e.maxValue===255)return clamp255;if(_e.maxValue===65535)return clamp65535;throw new Error(`unknown maxValue: ${_e.maxValue}`)}function clamp255(_e){return Math.min(Math.max(_e,0),255)}function clamp65535(_e){return Math.min(Math.max(_e,0),65535)}var r$8={grad:.9,turn:360,rad:360/(2*Math.PI)},t$8=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$8=function(_e,rt,at){return rt===void 0&&(rt=0),at===void 0&&(at=Math.pow(10,rt)),Math.round(at*_e)/at+0},e$5=function(_e,rt,at){return rt===void 0&&(rt=0),at===void 0&&(at=1),_e>at?at:_e>rt?_e:rt},u$9=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a$6=function(_e){return{r:e$5(_e.r,0,255),g:e$5(_e.g,0,255),b:e$5(_e.b,0,255),a:e$5(_e.a)}},o$9=function(_e){return{r:n$8(_e.r),g:n$8(_e.g),b:n$8(_e.b),a:n$8(_e.a,3)}},i$8=/^#([0-9a-f]{3,8})$/i,s$8=function(_e){var rt=_e.toString(16);return rt.length<2?"0"+rt:rt},h$7=function(_e){var rt=_e.r,at=_e.g,lt=_e.b,st=_e.a,ct=Math.max(rt,at,lt),ut=ct-Math.min(rt,at,lt),ft=ut?ct===rt?(at-lt)/ut:ct===at?2+(lt-rt)/ut:4+(rt-at)/ut:0;return{h:60*(ft<0?ft+6:ft),s:ct?ut/ct*100:0,v:ct/255*100,a:st}},b$4=function(_e){var rt=_e.h,at=_e.s,lt=_e.v,st=_e.a;rt=rt/360*6,at/=100,lt/=100;var ct=Math.floor(rt),ut=lt*(1-at),ft=lt*(1-(rt-ct)*at),dt=lt*(1-(1-rt+ct)*at),pt=ct%6;return{r:255*[lt,ft,ut,ut,dt,lt][pt],g:255*[dt,lt,lt,ft,ut,ut][pt],b:255*[ut,ut,dt,lt,lt,ft][pt],a:st}},g$8=function(_e){return{h:u$9(_e.h),s:e$5(_e.s,0,100),l:e$5(_e.l,0,100),a:e$5(_e.a)}},d$6=function(_e){return{h:n$8(_e.h),s:n$8(_e.s),l:n$8(_e.l),a:n$8(_e.a,3)}},f$5=function(_e){return b$4((at=(rt=_e).s,{h:rt.h,s:(at*=((lt=rt.l)<50?lt:100-lt)/100)>0?2*at/(lt+at)*100:0,v:lt+at,a:rt.a}));var rt,at,lt},c$a=function(_e){return{h:(rt=h$7(_e)).h,s:(st=(200-(at=rt.s))*(lt=rt.v)/100)>0&&st<200?at*lt/100/(st<=100?st:200-st)*100:0,l:st/2,a:rt.a};var rt,at,lt,st},l$8=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$8={string:[[function(_e){var rt=i$8.exec(_e);return rt?(_e=rt[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$8(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$8(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var rt=v$4.exec(_e)||m$5.exec(_e);return rt?rt[2]!==rt[4]||rt[4]!==rt[6]?null:a$6({r:Number(rt[1])/(rt[2]?100/255:1),g:Number(rt[3])/(rt[4]?100/255:1),b:Number(rt[5])/(rt[6]?100/255:1),a:rt[7]===void 0?1:Number(rt[7])/(rt[8]?100:1)}):null},"rgb"],[function(_e){var rt=l$8.exec(_e)||p$9.exec(_e);if(!rt)return null;var at,lt,st=g$8({h:(at=rt[1],lt=rt[2],lt===void 0&&(lt="deg"),Number(at)*(r$8[lt]||1)),s:Number(rt[3]),l:Number(rt[4]),a:rt[5]===void 0?1:Number(rt[5])/(rt[6]?100:1)});return f$5(st)},"hsl"]],object:[[function(_e){var rt=_e.r,at=_e.g,lt=_e.b,st=_e.a,ct=st===void 0?1:st;return t$8(rt)&&t$8(at)&&t$8(lt)?a$6({r:Number(rt),g:Number(at),b:Number(lt),a:Number(ct)}):null},"rgb"],[function(_e){var rt=_e.h,at=_e.s,lt=_e.l,st=_e.a,ct=st===void 0?1:st;if(!t$8(rt)||!t$8(at)||!t$8(lt))return null;var ut=g$8({h:Number(rt),s:Number(at),l:Number(lt),a:Number(ct)});return f$5(ut)},"hsl"],[function(_e){var rt=_e.h,at=_e.s,lt=_e.v,st=_e.a,ct=st===void 0?1:st;if(!t$8(rt)||!t$8(at)||!t$8(lt))return null;var ut=function(ft){return{h:u$9(ft.h),s:e$5(ft.s,0,100),v:e$5(ft.v,0,100),a:e$5(ft.a)}}({h:Number(rt),s:Number(at),v:Number(lt),a:Number(ct)});return b$4(ut)},"hsv"]]},N$6=function(_e,rt){for(var at=0;at<rt.length;at++){var lt=rt[at][0](_e);if(lt)return[lt,rt[at][1]]}return[null,void 0]},x$8=function(_e){return typeof _e=="string"?N$6(_e.trim(),y$8.string):typeof _e=="object"&&_e!==null?N$6(_e,y$8.object):[null,void 0]},M$4=function(_e,rt){var at=c$a(_e);return{h:at.h,s:e$5(at.s+100*rt,0,100),l:at.l,a:at.a}},H$4=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$$1=function(_e,rt){var at=c$a(_e);return{h:at.h,s:at.s,l:e$5(at.l+100*rt,0,100),a:at.a}},j$2=function(){function _e(rt){this.parsed=x$8(rt)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$8(H$4(this.rgba),2)},_e.prototype.isDark=function(){return H$4(this.rgba)<.5},_e.prototype.isLight=function(){return H$4(this.rgba)>=.5},_e.prototype.toHex=function(){return rt=o$9(this.rgba),at=rt.r,lt=rt.g,st=rt.b,ut=(ct=rt.a)<1?s$8(n$8(255*ct)):"","#"+s$8(at)+s$8(lt)+s$8(st)+ut;var rt,at,lt,st,ct,ut},_e.prototype.toRgb=function(){return o$9(this.rgba)},_e.prototype.toRgbString=function(){return rt=o$9(this.rgba),at=rt.r,lt=rt.g,st=rt.b,(ct=rt.a)<1?"rgba("+at+", "+lt+", "+st+", "+ct+")":"rgb("+at+", "+lt+", "+st+")";var rt,at,lt,st,ct},_e.prototype.toHsl=function(){return d$6(c$a(this.rgba))},_e.prototype.toHslString=function(){return rt=d$6(c$a(this.rgba)),at=rt.h,lt=rt.s,st=rt.l,(ct=rt.a)<1?"hsla("+at+", "+lt+"%, "+st+"%, "+ct+")":"hsl("+at+", "+lt+"%, "+st+"%)";var rt,at,lt,st,ct},_e.prototype.toHsv=function(){return rt=h$7(this.rgba),{h:n$8(rt.h),s:n$8(rt.s),v:n$8(rt.v),a:n$8(rt.a,3)};var rt},_e.prototype.invert=function(){return w$9({r:255-(rt=this.rgba).r,g:255-rt.g,b:255-rt.b,a:rt.a});var rt},_e.prototype.saturate=function(rt){return rt===void 0&&(rt=.1),w$9(M$4(this.rgba,rt))},_e.prototype.desaturate=function(rt){return rt===void 0&&(rt=.1),w$9(M$4(this.rgba,-rt))},_e.prototype.grayscale=function(){return w$9(M$4(this.rgba,-1))},_e.prototype.lighten=function(rt){return rt===void 0&&(rt=.1),w$9($$1(this.rgba,rt))},_e.prototype.darken=function(rt){return rt===void 0&&(rt=.1),w$9($$1(this.rgba,-rt))},_e.prototype.rotate=function(rt){return rt===void 0&&(rt=15),this.hue(this.hue()+rt)},_e.prototype.alpha=function(rt){return typeof rt=="number"?w$9({r:(at=this.rgba).r,g:at.g,b:at.b,a:rt}):n$8(this.rgba.a,3);var at},_e.prototype.hue=function(rt){var at=c$a(this.rgba);return typeof rt=="number"?w$9({h:rt,s:at.s,l:at.l,a:at.a}):n$8(at.h)},_e.prototype.isEqual=function(rt){return this.toHex()===w$9(rt).toHex()},_e}(),w$9=function(_e){return _e instanceof j$2?_e:new j$2(_e)},S$5=[],k$6=function(_e){_e.forEach(function(rt){S$5.indexOf(rt)<0&&(rt(j$2,y$8),S$5.push(rt))})},a$5=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},t$7=function(_e,rt,at){return rt===void 0&&(rt=0),at===void 0&&(at=Math.pow(10,rt)),Math.round(at*_e)/at+0},o$8=function(_e,rt,at){return rt===void 0&&(rt=0),at===void 0&&(at=1),_e>at?at:_e>rt?_e:rt},r$7=function(_e){var rt=_e/255;return rt<.04045?rt/12.92:Math.pow((rt+.055)/1.055,2.4)},h$6=function(_e){return 255*(_e>.0031308?1.055*Math.pow(_e,1/2.4)-.055:12.92*_e)},n$7=96.422,p$8=100,M$3=82.521,u$8=function(_e){var rt,at,lt={x:.9555766*(rt=_e).x+-.0230393*rt.y+.0631636*rt.z,y:-.0282895*rt.x+1.0099416*rt.y+.0210077*rt.z,z:.0122982*rt.x+-.020483*rt.y+1.3299098*rt.z};return at={r:h$6(.032404542*lt.x-.015371385*lt.y-.004985314*lt.z),g:h$6(-.00969266*lt.x+.018760108*lt.y+41556e-8*lt.z),b:h$6(556434e-9*lt.x-.002040259*lt.y+.010572252*lt.z),a:_e.a},{r:o$8(at.r,0,255),g:o$8(at.g,0,255),b:o$8(at.b,0,255),a:o$8(at.a)}},e$4=function(_e){var rt=r$7(_e.r),at=r$7(_e.g),lt=r$7(_e.b);return function(st){return{x:o$8(st.x,0,n$7),y:o$8(st.y,0,p$8),z:o$8(st.z,0,M$3),a:o$8(st.a)}}(function(st){return{x:1.0478112*st.x+.0228866*st.y+-.050127*st.z,y:.0295424*st.x+.9904844*st.y+-.0170491*st.z,z:-.0092345*st.x+.0150436*st.y+.7521316*st.z,a:st.a}}({x:100*(.4124564*rt+.3575761*at+.1804375*lt),y:100*(.2126729*rt+.7151522*at+.072175*lt),z:100*(.0193339*rt+.119192*at+.9503041*lt),a:_e.a}))},w$8=216/24389,b$3=24389/27,i$7=function(_e){var rt=_e.l,at=_e.a,lt=_e.b,st=_e.alpha,ct=st===void 0?1:st;if(!a$5(rt)||!a$5(at)||!a$5(lt))return null;var ut=function(ft){return{l:o$8(ft.l,0,400),a:ft.a,b:ft.b,alpha:o$8(ft.alpha)}}({l:Number(rt),a:Number(at),b:Number(lt),alpha:Number(ct)});return l$7(ut)},l$7=function(_e){var rt=(_e.l+16)/116,at=_e.a/500+rt,lt=rt-_e.b/200;return u$8({x:(Math.pow(at,3)>w$8?Math.pow(at,3):(116*at-16)/b$3)*n$7,y:(_e.l>8?Math.pow((_e.l+16)/116,3):_e.l/b$3)*p$8,z:(Math.pow(lt,3)>w$8?Math.pow(lt,3):(116*lt-16)/b$3)*M$3,a:_e.alpha})};function labPlugin(_e,rt){_e.prototype.toLab=function(){return lt=e$4(this.rgba),ct=lt.y/p$8,ut=lt.z/M$3,st=(st=lt.x/n$7)>w$8?Math.cbrt(st):(b$3*st+16)/116,at={l:116*(ct=ct>w$8?Math.cbrt(ct):(b$3*ct+16)/116)-16,a:500*(st-ct),b:200*(ct-(ut=ut>w$8?Math.cbrt(ut):(b$3*ut+16)/116)),alpha:lt.a},{l:t$7(at.l,2),a:t$7(at.a,2),b:t$7(at.b,2),alpha:t$7(at.alpha,3)};var at,lt,st,ct,ut},_e.prototype.delta=function(at){at===void 0&&(at="#FFF");var lt=at instanceof _e?at:new _e(at),st=function(ct,ut){var ft=ct.l,dt=ct.a,pt=ct.b,ht=ut.l,gt=ut.a,mt=ut.b,xt=180/Math.PI,vt=Math.PI/180,yt=Math.pow(Math.pow(dt,2)+Math.pow(pt,2),.5),_t=Math.pow(Math.pow(gt,2)+Math.pow(mt,2),.5),$t=(ft+ht)/2,Et=Math.pow((yt+_t)/2,7),wt=.5*(1-Math.pow(Et/(Et+Math.pow(25,7)),.5)),bt=dt*(1+wt),St=gt*(1+wt),Tt=Math.pow(Math.pow(bt,2)+Math.pow(pt,2),.5),Rt=Math.pow(Math.pow(St,2)+Math.pow(mt,2),.5),kt=(Tt+Rt)/2,At=bt===0&&pt===0?0:Math.atan2(pt,bt)*xt,Ct=St===0&&mt===0?0:Math.atan2(mt,St)*xt;At<0&&(At+=360),Ct<0&&(Ct+=360);var Mt=Ct-At,Ot=Math.abs(Ct-At);Ot>180&&Ct<=At?Mt+=360:Ot>180&&Ct>At&&(Mt-=360);var Pt=At+Ct;Ot<=180?Pt/=2:Pt=(At+Ct<360?Pt+360:Pt-360)/2;var It=1-.17*Math.cos(vt*(Pt-30))+.24*Math.cos(2*vt*Pt)+.32*Math.cos(vt*(3*Pt+6))-.2*Math.cos(vt*(4*Pt-63)),Ft=ht-ft,Wt=Rt-Tt,Xt=2*Math.sin(vt*Mt/2)*Math.pow(Tt*Rt,.5),Lt=1+.015*Math.pow($t-50,2)/Math.pow(20+Math.pow($t-50,2),.5),Bt=1+.045*kt,Ut=1+.015*kt*It,dn=30*Math.exp(-1*Math.pow((Pt-275)/25,2)),Zt=-2*Math.pow(Et/(Et+Math.pow(25,7)),.5)*Math.sin(2*vt*dn);return Math.pow(Math.pow(Ft/1/Lt,2)+Math.pow(Wt/1/Bt,2)+Math.pow(Xt/1/Ut,2)+Zt*Wt*Xt/(1*Bt*1*Ut),.5)}(this.toLab(),lt.toLab())/100;return o$8(t$7(st,3))},rt.object.push([i$7,"lab"])}k$6([labPlugin]);function formatReferenceForMlr(_e,rt){const at={r:[],g:[],b:[]};for(let lt of _e)at.r.push([lt.r/rt]),at.g.push([lt.g/rt]),at.b.push([lt.b/rt]);return at}function formatInputForMlr(_e,rt){const at=[];for(let lt of _e)at.push(getRegressionVariables(lt.r,lt.g,lt.b,rt));return at}function correctColor(_e,rt,at){if(checkProcessable(_e,"correctColor",{colorModel:["RGB","RGBA"]}),rt.length!==at.length)throw new Error("correctColor: number of measured colors and reference colors differ");const lt=formatInputForMlr(rt,_e.maxValue),st=formatReferenceForMlr(at,_e.maxValue),ct=new MultivariateLinearRegression(lt,st.r),ut=new MultivariateLinearRegression(lt,st.g),ft=new MultivariateLinearRegression(lt,st.b),dt=Image.createFrom(_e);for(let pt=0;pt<_e.height;pt++)for(let ht=0;ht<_e.width;ht++){const gt=_e.getPixel(ht,pt),mt=getRegressionVariables(gt[0],gt[1],gt[2],_e.maxValue),xt=getClamp(_e),vt=[0,0,0],yt=ct.predict(mt)[0]*_e.maxValue,_t=ut.predict(mt)[0]*_e.maxValue,$t=ft.predict(mt)[0]*_e.maxValue;vt[0]=xt(yt),vt[1]=xt(_t),vt[2]=xt($t),_e.alpha&&(vt[3]=_e.getValue(ht,pt,3)),dt.setPixel(ht,pt,vt)}return dt}function getRegressionVariables(_e,rt,at,lt){return _e/=lt,rt/=lt,at/=lt,[_e,rt,at,_e**2,rt**2,at**2,_e**3,rt**3,at**3,_e*rt,_e*at,at*rt]}function line$1(_e,rt,at,lt,st){for(var ct=Math.abs(at-_e),ut=_e<at?1:-1,ft=-Math.abs(lt-rt),dt=rt<lt?1:-1,pt=ct+ft,ht;;){if(st(_e,rt),ht=2*pt,ht>=ft){if(_e===at)break;pt+=ft,_e+=ut}if(ht<=ct){if(rt===lt)break;pt+=ct,rt+=dt}}}function circle(_e,rt,at,lt){var st=-at,ct=0,ut=2-2*at;do lt(_e-st,rt+ct),lt(_e-ct,rt-st),lt(_e+st,rt-ct),lt(_e+ct,rt+st),at=ut,at<=ct&&(ut+=++ct*2+1),(at>st||ut>ct)&&(ut+=++st*2+1);while(st<0)}function getDefaultColor(_e){switch(_e.colorModel){case"GREY":return[0];case"GREYA":return[0,_e.maxValue];case"RGB":return[0,0,0];case"RGBA":return[0,0,0,_e.maxValue];case"BINARY":return[1];default:throw new Error(`image color model ${_e.colorModel} is not compatible`)}}function drawCircleOnImage(_e,rt,at,lt={}){const st=getOutputImage(_e,lt,{clone:!0}),{color:ct=getDefaultColor(st),fill:ut}=lt;if(validateColor(ct,st),checkProcessable(st,"paintPoints",{bitDepth:[8,16]}),!Number.isInteger(at))throw new Error("drawCircle: radius must be an integer");if(at<0)throw new Error("drawCircle: circle radius must be positive");return at===0?(st.setVisiblePixel(rt.column,rt.row,ct),st):(ut?(at===1&&st.setVisiblePixel(rt.column,rt.row,ut),circle(rt.column,rt.row,at,(ft,dt)=>{st.setVisiblePixel(ft,dt,ct),ft-1>rt.column?st.drawLine({row:dt,column:ft-1},{row:dt,column:rt.column},{strokeColor:ut,out:st}):ft+1<rt.column&&st.drawLine({row:dt,column:ft+1},{row:dt,column:rt.column},{strokeColor:ut,out:st})})):circle(rt.column,rt.row,at,(ft,dt)=>{st.setVisiblePixel(ft,dt,ct)}),st)}function drawLineOnImage(_e,rt,at,lt={}){const st=getOutputImage(_e,lt,{clone:!0}),{strokeColor:ct=getDefaultColor(st),origin:ut={column:0,row:0}}=lt;return validateColor(ct,st),checkProcessable(st,"drawLine",{bitDepth:[8,16]}),line$1(Math.round(ut.column+rt.column),Math.round(ut.row+rt.row),Math.round(ut.column+at.column),Math.round(ut.row+at.row),(ft,dt)=>{st.setVisiblePixel(ft,dt,ct)}),st}function drawLineOnMask(_e,rt,at,lt={}){const{origin:st={column:0,row:0}}=lt,ct=maskToOutputMask(_e,lt,{clone:!0});return line$1(Math.round(st.column+rt.column),Math.round(st.row+rt.row),Math.round(st.column+at.column),Math.round(st.row+at.row),(ut,ft)=>{ct.setVisiblePixel(ut,ft,[1])}),ct}function drawPolylineOnImage(_e,rt,at={}){const{strokeColor:lt=getDefaultColor(_e),origin:st={column:0,row:0}}=at;checkProcessable(_e,"drawPolyline",{bitDepth:[8,16]});let ct=getOutputImage(_e,at,{clone:!0});validateColor(lt,ct);for(let ut=0;ut<rt.length-1;ut++){const ft=rt[ut],dt=rt[ut+1];ct.drawLine(ft,dt,{out:ct,strokeColor:lt,origin:st})}return ct}function drawPolylineOnMask(_e,rt,at={}){let lt=maskToOutputMask(_e,at,{clone:!0});for(let st=0;st<rt.length-1;st++){const ct=rt[st],ut=rt[st+1];lt.drawLine(ct,ut,{out:lt,origin:at.origin})}return lt}var orientationExports={},orientation={get exports(){return orientationExports},set exports(_e){orientationExports=_e}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(_e,rt,at){var lt=_e*rt,st=SPLITTER*_e,ct=st-_e,ut=st-ct,ft=_e-ut,dt=SPLITTER*rt,pt=dt-rt,ht=dt-pt,gt=rt-ht,mt=lt-ut*ht,xt=mt-ft*ht,vt=xt-ut*gt,yt=ft*gt-vt;return at?(at[0]=yt,at[1]=lt,at):[yt,lt]}var robustSum=linearExpansionSum;function scalarScalar$1(_e,rt){var at=_e+rt,lt=at-_e,st=at-lt,ct=rt-lt,ut=_e-st,ft=ut+ct;return ft?[ft,at]:[at]}function linearExpansionSum(_e,rt){var at=_e.length|0,lt=rt.length|0;if(at===1&&lt===1)return scalarScalar$1(_e[0],rt[0]);var st=at+lt,ct=new Array(st),ut=0,ft=0,dt=0,pt=Math.abs,ht=_e[ft],gt=pt(ht),mt=rt[dt],xt=pt(mt),vt,yt;gt<xt?(yt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(yt=mt,dt+=1,dt<lt&&(mt=rt[dt],xt=pt(mt))),ft<at&&gt<xt||dt>=lt?(vt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=rt[dt],xt=pt(mt)));for(var _t=vt+yt,$t=_t-vt,Et=yt-$t,wt=Et,bt=_t,St,Tt,Rt,kt,At;ft<at&&dt<lt;)gt<xt?(vt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=rt[dt],xt=pt(mt))),yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St;for(;ft<at;)vt=ht,yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,ft+=1,ft<at&&(ht=_e[ft]);for(;dt<lt;)vt=mt,yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,dt+=1,dt<lt&&(mt=rt[dt]);return wt&&(ct[ut++]=wt),bt&&(ct[ut++]=bt),ut||(ct[ut++]=0),ct.length=ut,ct}var twoSum$1=fastTwoSum;function fastTwoSum(_e,rt,at){var lt=_e+rt,st=lt-_e,ct=lt-st,ut=rt-st,ft=_e-ct;return at?(at[0]=ft+ut,at[1]=lt,at):[ft+ut,lt]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(_e,rt){var at=_e.length;if(at===1){var lt=twoProduct(_e[0],rt);return lt[0]?lt:[lt[1]]}var st=new Array(2*at),ct=[.1,.1],ut=[.1,.1],ft=0;twoProduct(_e[0],rt,ct),ct[0]&&(st[ft++]=ct[0]);for(var dt=1;dt<at;++dt){twoProduct(_e[dt],rt,ut);var pt=ct[1];twoSum(pt,ut[0],ct),ct[0]&&(st[ft++]=ct[0]);var ht=ut[1],gt=ct[1],mt=ht+gt,xt=mt-ht,vt=gt-xt;ct[1]=mt,vt&&(st[ft++]=vt)}return ct[1]&&(st[ft++]=ct[1]),ft===0&&(st[ft++]=0),st.length=ft,st}var robustDiff=robustSubtract;function scalarScalar(_e,rt){var at=_e+rt,lt=at-_e,st=at-lt,ct=rt-lt,ut=_e-st,ft=ut+ct;return ft?[ft,at]:[at]}function robustSubtract(_e,rt){var at=_e.length|0,lt=rt.length|0;if(at===1&&lt===1)return scalarScalar(_e[0],-rt[0]);var st=at+lt,ct=new Array(st),ut=0,ft=0,dt=0,pt=Math.abs,ht=_e[ft],gt=pt(ht),mt=-rt[dt],xt=pt(mt),vt,yt;gt<xt?(yt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(yt=mt,dt+=1,dt<lt&&(mt=-rt[dt],xt=pt(mt))),ft<at&&gt<xt||dt>=lt?(vt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=-rt[dt],xt=pt(mt)));for(var _t=vt+yt,$t=_t-vt,Et=yt-$t,wt=Et,bt=_t,St,Tt,Rt,kt,At;ft<at&&dt<lt;)gt<xt?(vt=ht,ft+=1,ft<at&&(ht=_e[ft],gt=pt(ht))):(vt=mt,dt+=1,dt<lt&&(mt=-rt[dt],xt=pt(mt))),yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St;for(;ft<at;)vt=ht,yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,ft+=1,ft<at&&(ht=_e[ft]);for(;dt<lt;)vt=mt,yt=wt,_t=vt+yt,$t=_t-vt,Et=yt-$t,Et&&(ct[ut++]=Et),St=bt+_t,Tt=St-bt,Rt=St-Tt,kt=_t-Tt,At=bt-Rt,wt=At+kt,bt=St,dt+=1,dt<lt&&(mt=-rt[dt]);return wt&&(ct[ut++]=wt),bt&&(ct[ut++]=bt),ut||(ct[ut++]=0),ct.length=ut,ct}(function(_e){var rt=twoProduct_1,at=robustSum,lt=robustScale,st=robustDiff,ct=5,ut=11102230246251565e-32,ft=(3+16*ut)*ut,dt=(7+56*ut)*ut;function pt(wt,bt,St,Tt){return function(kt,At,Ct){var Mt=wt(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),wt(bt(kt[1],At[0]),bt(-At[1],kt[0]))),Ot=wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Pt=Tt(Mt,Ot);return Pt[Pt.length-1]}}function ht(wt,bt,St,Tt){return function(kt,At,Ct,Mt){var Ot=wt(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2])))),Pt=wt(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2])))),It=Tt(Ot,Pt);return It[It.length-1]}}function gt(wt,bt,St,Tt){return function(kt,At,Ct,Mt,Ot){var Pt=wt(wt(wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),Ct[2]),wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),-Mt[2]),St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),Ot[2]))),At[3]),wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Mt[2]),St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),Ot[2]))),-Ct[3]),St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Ot[2]))),Mt[3]))),wt(St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),-Ot[3]),wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Mt[2]),St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Mt[2]),St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),Ot[2]))),-At[3])))),wt(wt(St(wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ot[2]))),Mt[3]),wt(St(wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2]))),-Ot[3]),St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Mt[2]))),kt[3]))),wt(St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),-At[3]),wt(St(wt(St(wt(bt(At[1],Mt[0]),bt(-Mt[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Mt[2]))),Ct[3]),St(wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2]))),-Mt[3]))))),It=wt(wt(wt(St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),Ct[2]),wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),-Mt[2]),St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Mt[1],Ot[0]),bt(-Ot[1],Mt[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Mt[2]),St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),Ot[2]))),-Ct[3])),wt(St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Ot[2]))),Mt[3]),St(wt(St(wt(bt(Ct[1],Mt[0]),bt(-Mt[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Mt[0]),bt(-Mt[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Mt[2]))),-Ot[3]))),wt(wt(St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),At[2]),wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),-Ct[2]),St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),Ot[2]))),kt[3]),St(wt(St(wt(bt(Ct[1],Ot[0]),bt(-Ot[1],Ct[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-Ct[2]),St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),Ot[2]))),-At[3])),wt(St(wt(St(wt(bt(At[1],Ot[0]),bt(-Ot[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ot[0]),bt(-Ot[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ot[2]))),Ct[3]),St(wt(St(wt(bt(At[1],Ct[0]),bt(-Ct[1],At[0])),kt[2]),wt(St(wt(bt(kt[1],Ct[0]),bt(-Ct[1],kt[0])),-At[2]),St(wt(bt(kt[1],At[0]),bt(-At[1],kt[0])),Ct[2]))),-Ot[3])))),Ft=Tt(Pt,It);return Ft[Ft.length-1]}}function mt(wt){var bt=wt===3?pt:wt===4?ht:gt;return bt(at,rt,lt,st)}var xt=mt(3),vt=mt(4),yt=[function(){return 0},function(){return 0},function(bt,St){return St[0]-bt[0]},function(bt,St,Tt){var Rt=(bt[1]-Tt[1])*(St[0]-Tt[0]),kt=(bt[0]-Tt[0])*(St[1]-Tt[1]),At=Rt-kt,Ct;if(Rt>0){if(kt<=0)return At;Ct=Rt+kt}else if(Rt<0){if(kt>=0)return At;Ct=-(Rt+kt)}else return At;var Mt=ft*Ct;return At>=Mt||At<=-Mt?At:xt(bt,St,Tt)},function(bt,St,Tt,Rt){var kt=bt[0]-Rt[0],At=St[0]-Rt[0],Ct=Tt[0]-Rt[0],Mt=bt[1]-Rt[1],Ot=St[1]-Rt[1],Pt=Tt[1]-Rt[1],It=bt[2]-Rt[2],Ft=St[2]-Rt[2],Wt=Tt[2]-Rt[2],Xt=At*Pt,Lt=Ct*Ot,Bt=Ct*Mt,Ut=kt*Pt,dn=kt*Ot,Zt=At*Mt,cn=It*(Xt-Lt)+Ft*(Bt-Ut)+Wt*(dn-Zt),Gt=(Math.abs(Xt)+Math.abs(Lt))*Math.abs(It)+(Math.abs(Bt)+Math.abs(Ut))*Math.abs(Ft)+(Math.abs(dn)+Math.abs(Zt))*Math.abs(Wt),Yt=dt*Gt;return cn>Yt||-cn>Yt?cn:vt(bt,St,Tt,Rt)}];function _t(wt){var bt=yt[wt.length];return bt||(bt=yt[wt.length]=mt(wt.length)),bt.apply(void 0,wt)}function $t(wt,bt,St,Tt,Rt,kt,At){return function(Mt,Ot,Pt,It,Ft){switch(arguments.length){case 0:case 1:return 0;case 2:return Tt(Mt,Ot);case 3:return Rt(Mt,Ot,Pt);case 4:return kt(Mt,Ot,Pt,It);case 5:return At(Mt,Ot,Pt,It,Ft)}for(var Wt=new Array(arguments.length),Xt=0;Xt<arguments.length;++Xt)Wt[Xt]=arguments[Xt];return wt(Wt)}}function Et(){for(;yt.length<=ct;)yt.push(mt(yt.length));_e.exports=$t.apply(void 0,[_t].concat(yt));for(var wt=0;wt<=ct;++wt)_e.exports[wt]=yt[wt]}Et()})(orientation);var robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(_e,rt){for(var at=rt[0],lt=rt[1],st=_e.length,ct=1,ut=st,ft=0,dt=st-1;ft<ut;dt=ft++){var pt=_e[ft],ht=_e[dt],gt=pt[1],mt=ht[1];if(mt<gt){if(mt<lt&&lt<gt){var xt=orient(pt,ht,rt);if(xt===0)return 0;ct^=0<xt|0}else if(lt===gt){var vt=_e[(ft+1)%st],yt=vt[1];if(gt<yt){var xt=orient(pt,ht,rt);if(xt===0)return 0;ct^=0<xt|0}}}else if(gt<mt){if(gt<lt&&lt<mt){var xt=orient(pt,ht,rt);if(xt===0)return 0;ct^=xt<0|0}else if(lt===gt){var vt=_e[(ft+1)%st],yt=vt[1];if(yt<gt){var xt=orient(pt,ht,rt);if(xt===0)return 0;ct^=xt<0|0}}}else if(lt===gt){var _t=Math.min(pt[0],ht[0]),$t=Math.max(pt[0],ht[0]);if(ft===0){for(;dt>0;){var Et=(dt+st-1)%st,wt=_e[Et];if(wt[1]!==lt)break;var bt=wt[0];_t=Math.min(_t,bt),$t=Math.max($t,bt),dt=Et}if(dt===0)return _t<=at&&at<=$t?0:1;ut=dt+1}for(var St=_e[(dt+st-1)%st][1];ft+1<ut;){var wt=_e[ft+1];if(wt[1]!==lt)break;var bt=wt[0];_t=Math.min(_t,bt),$t=Math.max($t,bt),ft+=1}if(_t<=at&&at<=$t)return 0;var Tt=_e[(ft+1)%st][1];at<_t&&St<lt!=Tt<lt&&(ct^=1)}}return 2*ct-1}function arrayPointsToObjects(_e){let rt=[];for(let at of _e)rt.push([at.column,at.row]);return rt}function deleteDuplicates(_e){const rt=[];for(let at=0;at<_e.length;at++)_e[at].column===_e[(at+1)%_e.length].column&&_e[at].row===_e[(at+1)%_e.length].row||rt.push(_e[at]);return rt}function drawPolygonOnImage(_e,rt,at={}){const{fillColor:lt,origin:st={column:0,row:0},...ct}=at;checkProcessable(_e,"drawPolygon",{bitDepth:[8,16]});let ut=getOutputImage(_e,at,{clone:!0});if(lt===void 0)return ut.drawPolyline([...rt,rt[0]],{origin:st,...ct});{validateColor(lt,ut);const ft=deleteDuplicates(rt),dt=arrayPointsToObjects(ft);for(let pt=0;pt<ut.height;pt++)for(let ht=0;ht<ut.width;ht++)robustPnp(dt,[ht,pt])===-1&&ut.setPixel(st.column+ht,st.row+pt,lt)}return ut.drawPolyline([...rt,rt[0]],{origin:st,...ct})}function drawPolygonOnMask(_e,rt,at={}){const{filled:lt=!1,origin:st={column:0,row:0},...ct}=at;let ut=maskToOutputMask(_e,at,{clone:!0});if(!lt)return ut.drawPolyline([...rt,rt[0]],{origin:st,...ct});const ft=deleteDuplicates(rt),dt=arrayPointsToObjects(ft);for(let pt=0;pt<ut.height;pt++)for(let ht=0;ht<ut.width;ht++)robustPnp(dt,[ht,pt])===-1&&ut.setBit(st.column+ht,st.row+pt,1);return ut.drawPolyline([...rt,rt[0]],{origin:st,...ct})}function drawRectangle(_e,rt={}){const{origin:at={column:0,row:0},width:lt=_e.width,height:st=_e.height,strokeColor:ct=getDefaultColor(_e),fillColor:ut}=rt,{column:ft,row:dt}=at;let pt;if(_e instanceof Image?(checkProcessable(_e,"drawRectangle",{bitDepth:[8,16]}),pt=getOutputImage(_e,rt,{clone:!0})):pt=maskToOutputMask(_e,rt,{clone:!0}),ct!=="none"){for(let ht=ft;ht<ft+lt;ht++)pt.setVisiblePixel(ht,dt,ct),pt.setVisiblePixel(ht,dt+st-1,ct);for(let ht=dt+1;ht<dt+st-1;ht++)if(pt.setVisiblePixel(ft,ht,ct),pt.setVisiblePixel(ft+lt-1,ht,ct),ut)for(let gt=ft+1;gt<ft+lt-1;gt++)pt.setVisiblePixel(gt,ht,ut),pt.setVisiblePixel(gt,ht,ut)}else if(ut)for(let ht=dt+1;ht<dt+st-1;ht++)for(let gt=ft+1;gt<ft+lt-1;gt++)pt.setVisiblePixel(gt,ht,ut),pt.setVisiblePixel(gt,ht,ut);return pt}function drawPoints(_e,rt,at={}){const{color:lt=getDefaultColor(_e),origin:st={row:0,column:0}}=at;let ct;_e instanceof Image?(ct=getOutputImage(_e,at,{clone:!0}),validateColor(lt,ct)):ct=maskToOutputMask(_e,at,{clone:!0}),checkProcessable(ct,"drawPoints",{bitDepth:[1,8,16]});for(const ut of rt)ct.setVisiblePixel(st.column+ut.column,st.row+ut.row,lt);return ct}function drawMarker(_e,rt,at){const lt=getOutputImage(_e,at,{clone:!0}),{color:st=getDefaultColor(lt),filled:ct=!1,shape:ut="cross",size:ft=1}=at;if(validateColor(st,lt),checkProcessable(lt,"drawMarker",{bitDepth:[8,16]}),ut==="circle"&&lt.drawCircle(rt,ft,{color:st,fill:ct?st:void 0,out:lt}),ut==="triangle"){const dt=[{row:rt.row-ft,column:rt.column},{row:rt.row,column:rt.column+ft},{row:rt.row,column:rt.column-ft}];lt.drawPolygon(dt,{strokeColor:st,fillColor:ct?st:void 0,out:lt})}if(ut==="cross"&&(lt.drawLine({row:rt.row-ft,column:rt.column},{row:rt.row+ft,column:rt.column},{strokeColor:st,out:lt}),lt.drawLine({row:rt.row,column:rt.column-ft},{row:rt.row,column:rt.column+ft},{strokeColor:st,out:lt})),ut==="square"){const dt={row:Math.floor(rt.row-ft/2),column:Math.floor(rt.column-ft/2)};lt.drawRectangle({origin:dt,width:ft,height:ft,strokeColor:st,fillColor:ct?st:void 0,out:lt})}return lt}function drawMarkers(_e,rt,at={}){const lt=getOutputImage(_e,at,{clone:!0});for(const st of rt)drawMarker(lt,st,{...at,out:lt});return lt}function getBorderInterpolation(_e,rt){switch(_e){case"constant":return getInterpolateConstant(rt);case"replicate":return interpolateReplicate;case"reflect":return interpolateReflect;case"reflect101":return interpolateReflect101;case"wrap":return interpolateWrap;default:throw new Error(`interpolateBorder cannot be used with border type ${_e}`)}}function checkRange(_e,rt){if(_e<=0-rt||_e>=rt+rt-1)throw new RangeError("interpolateBorder only supports borders smaller than the original image")}function getInterpolateConstant(_e){return function(at,lt,st,ct){const ut=interpolateConstantPoint(at,ct.width),ft=interpolateConstantPoint(lt,ct.height);return ut===-1||ft===-1?_e:ct.getValue(ut,ft,st)}}function interpolateConstantPoint(_e,rt){return _e>=0&&_e<rt?_e:-1}function interpolateReplicate(_e,rt,at,lt){return lt.getValue(interpolateReplicatePoint(_e,lt.width),interpolateReplicatePoint(rt,lt.height),at)}function interpolateReplicatePoint(_e,rt){return _e>=0&&_e<rt?_e:(checkRange(_e,rt),_e<0?0:rt-1)}function interpolateReflect(_e,rt,at,lt){return lt.getValue(interpolateReflectPoint(_e,lt.width),interpolateReflectPoint(rt,lt.height),at)}function interpolateReflectPoint(_e,rt){return _e>=0&&_e<rt?_e:(checkRange(_e,rt),_e<0?-1-_e:rt+rt-1-_e)}function interpolateWrap(_e,rt,at,lt){return lt.getValue(interpolateWrapPoint(_e,lt.width),interpolateWrapPoint(rt,lt.height),at)}function interpolateWrapPoint(_e,rt){return _e>=0&&_e<rt?_e:(checkRange(_e,rt),_e<0?rt+_e:_e-rt)}function interpolateReflect101(_e,rt,at,lt){return lt.getValue(interpolateReflect101Point(_e,lt.width),interpolateReflect101Point(rt,lt.height),at)}function interpolateReflect101Point(_e,rt){return _e>=0&&_e<rt?_e:(checkRange(_e,rt),_e<0?0-_e:rt+rt-2-_e)}function round$1(_e){return _e%.5!==0?Math.round(_e):Math.floor(_e)%2===0?Math.floor(_e):Math.ceil(_e)}function getInterpolationFunction(_e){switch(_e){case"nearest":return interpolateNearest;case"bilinear":return interpolateBilinear;case"bicubic":return interpolateBicubic;default:throw new Error(`interpolation ${_e} not implemented`)}}function interpolateNearest(_e,rt,at,lt,st){return rt=Math.round(rt),at=Math.round(at),st(rt,at,lt,_e)}function interpolateBilinear(_e,rt,at,lt,st){const ct=Math.floor(rt),ut=Math.floor(at);if(ct===rt&&ut===at)return st(ct,ut,lt,_e);const ft=ct+1,dt=ut+1,pt=st(ct,ut,lt,_e),ht=st(ft,ut,lt,_e),gt=st(ct,dt,lt,_e),mt=st(ft,dt,lt,_e),xt=(ft-rt)*pt+(rt-ct)*ht,vt=(ft-rt)*gt+(rt-ct)*mt;return round$1((dt-at)*xt+(at-ut)*vt)}function interpolateBicubic(_e,rt,at,lt,st,ct){const ut=Math.floor(rt),ft=Math.floor(at);if(ut===rt&&ft===at)return st(ut,ft,lt,_e);const dt=rt-ut,pt=at-ft,ht=st(ut-1,ft-1,lt,_e),gt=st(ut,ft-1,lt,_e),mt=st(ut+1,ft-1,lt,_e),xt=st(ut+2,ft-1,lt,_e),vt=cubic(ht,gt,mt,xt,dt),yt=st(ut-1,ft,lt,_e),_t=st(ut,ft,lt,_e),$t=st(ut+1,ft,lt,_e),Et=st(ut+2,ft,lt,_e),wt=cubic(yt,_t,$t,Et,dt),bt=st(ut-1,ft+1,lt,_e),St=st(ut,ft+1,lt,_e),Tt=st(ut+1,ft+1,lt,_e),Rt=st(ut+2,ft+1,lt,_e),kt=cubic(bt,St,Tt,Rt,dt),At=st(ut-1,ft+2,lt,_e),Ct=st(ut,ft+2,lt,_e),Mt=st(ut+1,ft+2,lt,_e),Ot=st(ut+2,ft+2,lt,_e),Pt=cubic(At,Ct,Mt,Ot,dt);return round$1(ct(cubic(vt,wt,kt,Pt,pt)))}function cubic(_e,rt,at,lt,st){return rt+.5*st*(at-_e+st*(2*_e-5*rt+4*at-lt+st*(3*(rt-at)+lt-_e)))}function resize(_e,rt){const{interpolationType:at="bilinear",borderType:lt="constant",borderValue:st=0}=rt,{width:ct,height:ut}=checkOptions(_e,rt),ft=Image.createFrom(_e,{width:ct,height:ut}),dt=getInterpolationFunction(at),pt=getBorderInterpolation(lt,st),ht=getClamp(ft),gt=(_e.width-1)/(ct-1),mt=(_e.height-1)/(ut-1);for(let xt=0;xt<ft.height;xt++)for(let vt=0;vt<ft.width;vt++){const yt=vt*gt,_t=xt*mt;for(let $t=0;$t<ft.channels;$t++){const Et=dt(_e,yt,_t,$t,pt,ht);ft.setValue(vt,xt,$t,Et)}}return ft}function checkOptions(_e,rt){const{width:at,height:lt,xFactor:st,yFactor:ct,preserveAspectRatio:ut=!0}=rt;if(at===void 0&&lt===void 0&&st===void 0&&ct===void 0)throw new Error("At least one of the width, height, xFactor or yFactor options must be passed");let ft,dt;const pt=getSize$1(at,st,_e.width,ut),ht=getSize$1(lt,ct,_e.height,ut);if(pt===void 0)if(ht!==void 0)ft=Math.round(ht*(_e.width/_e.height));else throw new Error("UNREACHABLE");else ft=pt;if(ht===void 0)if(pt!==void 0)dt=Math.round(pt*(_e.height/_e.width));else throw new Error("UNREACHABLE");else dt=ht;return{width:ft,height:dt,xFactor:st??ft/_e.width,yFactor:ct??dt/_e.height}}function getSize$1(_e,rt,at,lt){if(_e===void 0){if(rt!==void 0)return Math.round(at*rt);if(!lt)return at}else{if(rt!==void 0)throw new Error("factor and size cannot be passed together");return _e}}function rotate$1(_e,rt){const at=rt%180===0?_e.width:_e.height,lt=rt%180===0?_e.height:_e.width,st=Image.createFrom(_e,{width:at,height:lt});if(rt===90||rt===-270)for(let ct=0;ct<_e.width;ct++)for(let ut=0;ut<_e.height;ut++)for(let ft=0;ft<_e.channels;ft++)st.setValue(st.width-ut-1,ct,ft,_e.getValue(ct,ut,ft));else if(rt===180||rt===-180)for(let ct=0;ct<_e.width;ct++)for(let ut=0;ut<_e.height;ut++)for(let ft=0;ft<_e.channels;ft++)st.setValue(st.width-ct-1,st.height-ut-1,ft,_e.getValue(ct,ut,ft));else if(rt===270||rt===-90)for(let ct=0;ct<_e.width;ct++)for(let ut=0;ut<_e.height;ut++)for(let ft=0;ft<_e.channels;ft++)st.setValue(ut,st.height-ct-1,ft,_e.getValue(ct,ut,ft));else throw new Error(`invalid angle: ${rt}`);return st}function transform(_e,rt,at={}){const{borderType:lt="constant",borderValue:st=0,interpolationType:ct="bilinear",fullImage:ut}=at;let{width:ft=_e.width,height:dt=_e.height}=at;if(ut){rt=rt.map(Ct=>Ct.slice()),rt[0][2]=0,rt[1][2]=0;const xt=[_e.getCoordinates("top-left"),_e.getCoordinates("top-right"),_e.getCoordinates("bottom-right"),_e.getCoordinates("bottom-left")];xt[1].column+=1,xt[2].column+=1,xt[2].row+=1,xt[3].row+=1;const vt=xt.map(Ct=>[transformPoint(rt[0],Ct.column,Ct.row),transformPoint(rt[1],Ct.column,Ct.row)]),yt=vt.map(Ct=>Ct[0]),_t=vt.map(Ct=>Ct[1]),$t=Math.max(...yt),Et=Math.max(..._t),wt=Math.min(...yt),bt=Math.min(..._t),St=[(_e.width-1)/2,(_e.height-1)/2];ft=$t-wt,dt=Et-bt;const Tt=transformPoint(rt[0],St[0],St[1]),Rt=transformPoint(rt[1],St[0],St[1]),kt=(ft-1)/2-Tt,At=(dt-1)/2-Rt;rt[0][2]=kt,rt[1][2]=At,ft=Math.round(ft),dt=Math.round(dt)}if(rt.length!==2||rt[0].length!==3||rt[1].length!==3)throw new Error(`transform: transformation matrix must be 2x3, found ${rt.length}x${rt[1].length}`);at.inverse||(rt=[rt[0],rt[1],[0,0,1]],rt=inverse(new Matrix(rt)).to2DArray());const pt=Image.createFrom(_e,{width:ft,height:dt}),ht=getBorderInterpolation(lt,st),gt=getClamp(pt),mt=getInterpolationFunction(ct);for(let xt=0;xt<pt.height;xt++)for(let vt=0;vt<pt.width;vt++){const yt=transformPoint(rt[0],vt,xt),_t=transformPoint(rt[1],vt,xt);for(let $t=0;$t<pt.channels;$t++){const Et=mt(_e,yt,_t,$t,ht,gt);pt.setValue(vt,xt,$t,Et)}}return pt}function transformPoint(_e,rt,at){return _e[0]*rt+_e[1]*at+_e[2]}function transformRotate(_e,rt,at={}){const{center:lt="center",scale:st=1,...ct}=at;let ut;typeof lt=="string"?ut=_e.getCoordinates(lt):ut=lt;const ft=getRotationMatrix(rt,ut,st);return transform(_e,ft,ct)}function getRotationMatrix(_e,rt,at){const lt=_e*Math.PI/180,st=at*Math.cos(lt),ct=at*Math.sin(lt);return[[st,ct,(1-st)*rt.column-ct*rt.row],[-ct,st,ct*rt.column+(1-st)*rt.row]]}function checkKernel$1(_e,rt){if(_e.length%2===0||_e[0].length%2===0)throw new TypeError(`${rt}: The number of rows and columns of the kernel must be odd`)}function erode(_e,rt={}){let at=!1;rt.kernel===void 0&&(at=!0);let{kernel:lt=[[1,1,1],[1,1,1],[1,1,1]],iterations:st=1}=rt;_e instanceof Image&&checkProcessable(_e,"erode",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(lt,"erode");let ct=!0;if(!at){e:for(const ft of lt)for(const dt of ft)if(dt!==1){ct=!1;break e}}let ut=_e;for(let ft=0;ft<st;ft++)if(ut instanceof Mask)if(ct){const dt=ut.clone();ut=erodeMaskOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Mask.createFrom(_e);ut=erodeMask(ut,dt,lt)}else if(ct){const dt=Image.createFrom(_e);ut=erodeGreyOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Image.createFrom(_e);ut=erodeGrey(ut,dt,lt)}return ut}function erodeGrey(_e,rt,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<_e.height;ft++)for(let dt=0;dt<_e.width;dt++){let pt=_e.maxValue;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(mt<0||xt<0||mt>=_e.width||xt>=_e.height)continue;const vt=_e.getValue(mt,xt,0);vt<pt&&(pt=vt)}rt.setValue(dt,ft,0,pt)}return rt}function erodeGreyOnlyOnes(_e,rt,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<_e.width;ft++)ut.push(0);for(let ft=0;ft<_e.height;ft++){for(let dt=0;dt<_e.width;dt++){let pt=_e.maxValue;for(let ht=Math.max(0,ft-ct);ht<Math.min(_e.height,ft+ct+1);ht++){const gt=_e.getValue(dt,ht,0);gt<pt&&(pt=gt)}ut[dt]=pt}for(let dt=0;dt<_e.width;dt++){let pt=_e.maxValue;for(let ht=Math.max(0,dt-st);ht<Math.min(_e.width,dt+st+1);ht++)ut[ht]<pt&&(pt=ut[ht]);rt.setValue(dt,ft,0,pt)}}return rt}function erodeMask(_e,rt,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<_e.height;ft++)for(let dt=0;dt<_e.width;dt++){let pt=1;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(xt<0||mt<0||mt>=_e.width||xt>=_e.height)continue;if(_e.getBit(mt,xt)===0){pt=0;break}}pt===1&&rt.setBit(dt,ft,1)}return rt}function erodeMaskOnlyOnes(_e,rt,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<_e.width;ft++)ut.push(0);for(let ft=0;ft<_e.height;ft++){for(let dt=0;dt<_e.width;dt++){ut[dt]=1;for(let pt=Math.max(0,ft-ct);pt<Math.min(_e.height,ft+ct+1);pt++)if(_e.getBit(dt,pt)===0){ut[dt]=0;break}}for(let dt=0;dt<_e.width;dt++)if(rt.getBit(dt,ft)!==0){for(let pt=Math.max(0,dt-st);pt<Math.min(_e.width,dt+st+1);pt++)if(ut[pt]===0){rt.setBit(dt,ft,0);break}}}return rt}function dilate(_e,rt={}){let at=!1;rt.kernel===void 0&&(at=!0);let{kernel:lt=[[1,1,1],[1,1,1],[1,1,1]],iterations:st=1}=rt;_e instanceof Image&&checkProcessable(_e,"dilate",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(lt,"dilate");let ct=!0;if(!at){e:for(const ft of lt)for(const dt of ft)if(dt!==1){ct=!1;break e}}let ut=_e;for(let ft=0;ft<st;ft++)if(ut instanceof Mask)if(ct){const dt=ut.clone();ut=dilatMaskOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Mask.createFrom(ut);ut=dilateMask(ut,dt,lt)}else if(ct){const dt=Image.createFrom(ut);ut=dilateGreyOnlyOnes(ut,dt,lt[0].length,lt.length)}else{const dt=Image.createFrom(ut);ut=dilateGrey(ut,dt,lt)}return ut}function dilateGrey(_e,rt,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<_e.height;ft++)for(let dt=0;dt<_e.width;dt++){let pt=0;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(mt<0||xt<0||mt>=_e.width||xt>=_e.height)continue;const vt=_e.getValue(mt,xt,0);vt>pt&&(pt=vt)}rt.setValue(dt,ft,0,pt)}return rt}function dilateGreyOnlyOnes(_e,rt,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<_e.width;ft++)ut.push(0);for(let ft=0;ft<_e.height;ft++){for(let dt=0;dt<_e.width;dt++){let pt=0;for(let ht=Math.max(0,ft-ct);ht<Math.min(_e.height,ft+ct+1);ht++){const gt=_e.getValue(dt,ht,0);gt>pt&&(pt=gt)}ut[dt]=pt}for(let dt=0;dt<_e.width;dt++){let pt=0;for(let ht=Math.max(0,dt-st);ht<Math.min(_e.width,dt+st+1);ht++)ut[ht]>pt&&(pt=ut[ht]);rt.setValue(dt,ft,0,pt)}}return rt}function dilateMask(_e,rt,at){const lt=at[0].length,st=at.length;let ct=(lt-1)/2,ut=(st-1)/2;for(let ft=0;ft<_e.height;ft++)for(let dt=0;dt<_e.width;dt++){let pt=0;for(let ht=0;ht<st;ht++)for(let gt=0;gt<lt;gt++){if(at[ht][gt]!==1)continue;let mt=gt-ct+dt,xt=ht-ut+ft;if(xt<0||mt<0||mt>=_e.width||xt>=_e.height)continue;if(_e.getBit(mt,xt)===1){pt=1;break}}pt===1&&rt.setBit(dt,ft,1)}return rt}function dilatMaskOnlyOnes(_e,rt,at,lt){const st=(at-1)/2,ct=(lt-1)/2,ut=[];for(let ft=0;ft<_e.width;ft++)ut.push(1);for(let ft=0;ft<_e.height;ft++){for(let dt=0;dt<_e.width;dt++){ut[dt]=0;for(let pt=Math.max(0,ft-ct);pt<Math.min(_e.height,ft+ct+1);pt++)if(_e.getBit(dt,pt)===1){ut[dt]=1;break}}for(let dt=0;dt<_e.width;dt++)if(rt.getBit(dt,ft)!==1){for(let pt=Math.max(0,dt-st);pt<Math.min(_e.width,dt+st+1);pt++)if(ut[pt]===1){rt.setBit(dt,ft,1);break}}}return rt}function open(_e,rt={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=rt;_e instanceof Image&&checkProcessable(_e,"open",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(at,"open");let st=_e;for(let ct=0;ct<lt;ct++)st=st.erode({kernel:at}),st=st.dilate({kernel:at});return st}function close(_e,rt={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=rt;_e instanceof Image&&checkProcessable(_e,"close",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(at,"close");let st=_e;for(let ct=0;ct<lt;ct++)st=st.dilate({kernel:at}).erode({kernel:at});return st}function topHat(_e,rt={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=rt;_e instanceof Image&&checkProcessable(_e,"topHat",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(at,"topHat");let st=_e;for(let ct=0;ct<lt;ct++){let ut=st.open({kernel:at});st=subtract(ut,st,{absolute:!0})}return st}function bottomHat(_e,rt={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=rt;_e instanceof Image&&checkProcessable(_e,"bottomHat",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(at,"bottomHat");let st=_e;for(let ct=0;ct<lt;ct++){let ut=st.close({kernel:at});st=subtract(ut,st,{absolute:!0})}return st}function morphologicalGradient(_e,rt={}){let{kernel:at=[[1,1,1],[1,1,1],[1,1,1]],iterations:lt=1}=rt;_e instanceof Image&&checkProcessable(_e,"bottomHat",{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(at,"morphologicalGradient");let st=_e;for(let ct=0;ct<lt;ct++){let ut=st.dilate({kernel:at}),ft=st.erode({kernel:at});st=subtract(ut,ft,{absolute:!0})}return st}function*borderIterator(_e){for(let rt=0;rt<_e.width;rt++)yield rt;for(let rt=2;rt<_e.height;rt++)yield rt*_e.width-1;for(let rt=0;rt<_e.width;rt++)yield _e.width*_e.height-rt-1;for(let rt=_e.height-2;rt>=1;rt--)yield rt*_e.width}const MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(_e,rt={}){let{startPixels:at=[0],startPixelValue:lt=0,newPixelValue:st=1,allowCorners:ct=!1}=rt,ut=maskToOutputMask(_e,rt,{clone:!0}),ft=Mask.createFrom(_e),dt=0,pt=0;for(let gt of at)ut.getBitByIndex(gt)===lt&&(toProcess[pt++%MAX_ARRAY]=gt,ft.setBitByIndex(gt,1),ut.setBitByIndex(gt,st));for(;dt<pt;){if(pt-dt>MAX_ARRAY)throw new Error("multipleFloodFill: could not process image, overflow in the data processing array.");const gt=toProcess[dt++%MAX_ARRAY];ut.setBitByIndex(gt,st);const mt=gt<_e.width,xt=gt%_e.width===0,vt=gt%_e.width===_e.width-1,yt=gt>_e.size-_e.width;if(!yt){const _t=gt+_e.width;ht(_t)}if(!xt){const _t=gt-1;ht(_t)}if(!mt){const _t=gt-_e.width;ht(_t)}if(!vt){const _t=gt+1;ht(_t)}if(ct){if(!mt){if(!xt){const _t=gt-_e.width-1;ht(_t)}if(!vt){const _t=gt-_e.width+1;ht(_t)}}if(!yt){if(!xt){const _t=gt+_e.width-1;ht(_t)}if(!vt){const _t=gt+_e.width+1;ht(_t)}}}}function ht(gt){ft.getBitByIndex(gt)||ut.getBitByIndex(gt)===lt&&(toProcess[pt++%MAX_ARRAY]=gt,ft.setBitByIndex(gt,1))}return ut}function clearBorder(_e,rt={}){let{allowCorners:at=!1,out:lt,color:st="white"}=rt;return multipleFloodFill(_e,{startPixels:borderIterator(_e),startPixelValue:st==="white"?1:0,newPixelValue:st==="white"?0:1,allowCorners:at,out:lt})}function getIndex(_e,rt,at,lt=0){return(rt*at.width+_e)*at.channels+lt}const kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(_e,rt={}){const{hysteresis:at=!0,lowThreshold:lt=.04,highThreshold:st=.1,gaussianBlurOptions:ct={sigma:1}}=rt,ut=lt*_e.maxValue,ft=st*_e.maxValue;checkProcessable(_e,"cannyEdgeDetector",{colorModel:"GREY"});const dt=_e.width,pt=_e.height,ht=_e.gaussianBlur(ct),gt=ht.rawDirectConvolution(kernelY),mt=ht.rawDirectConvolution(kernelX);let xt=new Float64Array(_e.size);for(let $t=0;$t<_e.size;$t++)xt[$t]=Math.hypot(gt[$t],mt[$t]);let vt=new Float64Array(_e.size),yt=new Float64Array(_e.size);const _t=imageToOutputMask(_e,rt);for(let $t=1;$t<dt-1;$t++)for(let Et=1;Et<pt-1;Et++){const wt=gt[getIndex($t,Et,_e,0)],bt=mt[getIndex($t,Et,_e,0)];let St=getDirection(wt,bt);const Tt=xt[getIndex($t,Et,_e,0)];(St===0&&Tt>=xt[getIndex($t,Et-1,_e,0)]&&Tt>=xt[getIndex($t,Et+1,_e,0)]||St===1&&Tt>=xt[getIndex($t-1,Et-1,_e,0)]&&Tt>=xt[getIndex($t+1,Et+1,_e,0)]||St===2&&Tt>=xt[getIndex($t-1,Et,_e,0)]&&Tt>=xt[getIndex($t+1,Et,_e,0)]||St===3&&Tt>=xt[getIndex($t-1,Et+1,_e,0)]&&Tt>=xt[getIndex($t+1,Et-1,_e,0)])&&(vt[getIndex($t,Et,_e,0)]=Tt)}for(let $t=0;$t<dt*pt;++$t){let Et=vt[$t],wt=0;Et>ft&&(wt++,_t.setBitByIndex($t,1)),Et>ut&&wt++,yt[$t]=wt}if(at){let $t=[];for(let Et=1;Et<dt-1;++Et)for(let wt=1;wt<pt-1;++wt)if(yt[getIndex(Et,wt,_e,0)]===1){e:for(let bt=Et-1;bt<Et+2;++bt)for(let St=wt-1;St<wt+2;++St)if(yt[getIndex(bt,St,_e,0)]===2){$t.push([Et,wt]),_t.setValue(Et,wt,0,1);break e}}for(;$t.length>0;){let Et=[];for(let wt of $t)for(let bt=-1;bt<2;++bt)for(let St=-1;St<2;++St){if(bt===0&&St===0)continue;let Tt=wt[0]+bt,Rt=wt[1]+St;yt[getIndex(Rt,Tt,_e,0)]===1&&_t.getValue(Rt,Tt,0)===0&&(Et.push([Tt,Rt]),_t.setValue(Rt,Tt,0,1))}$t=Et}}return _t}function getDirection(_e,rt){return(Math.round(Math.atan2(rt,_e)*(4/Math.PI))+4)%4}function floodFill(_e,rt={}){let{origin:at={row:0,column:0},allowCorners:lt=!1,out:st}=rt;const ct=getIndex(at.column,at.row,_e);return multipleFloodFill(_e,{startPixels:[ct],allowCorners:lt,out:st})}function solidFill(_e,rt={}){let{allowCorners:at=!1}=rt,lt=maskToOutputMask(_e,rt,{clone:!0}),ct=_e.invert().clearBorder({allowCorners:at});return lt.or(ct,{out:lt})}function convertColor(_e,rt,at={}){const lt=new Map([["GREY",["GREYA","RGB","RGBA"]],["GREYA",["GREY","RGB","RGBA"]],["RGB",["GREY","GREYA","RGBA"]],["RGBA",["GREY","GREYA","RGB"]],["BINARY",["GREY"]]]);if(_e.colorModel===rt)throw new Error(`Cannot convert color, image is already ${rt}`);const st=lt.get(_e.colorModel);if(!(st!=null&&st.includes(rt)))throw new Error(`conversion from ${_e.colorModel} to ${rt} not implemented`);if(_e instanceof Image){const ct=getOutputImage(_e,at,{newParameters:{colorModel:rt}});return(_e.colorModel==="GREY"||_e.colorModel==="GREYA")&&convertGreyToAny(_e,ct),(_e.colorModel==="RGB"||_e.colorModel==="RGBA")&&(rt==="RGB"||rt==="RGBA"?convertRgbToRgb(_e,ct):convertRgbToGrey(_e,ct)),!_e.alpha&&ct.alpha&&ct.fillAlpha(ct.maxValue),_e.alpha&&ct.alpha&&copyAlpha(_e,ct),ct}else{const ct=maskToOutputImage(_e,at);return convertBinaryToGrey(_e,ct),ct}}function copyAlpha(_e,rt){if(_e.size!==rt.size)throw new Error("source and destination have different sizes");if(!_e.alpha)throw new Error("source image does not have alpha");if(!rt.alpha)throw new Error("destination does not have alpha");for(let at=0;at<rt.size;at++)rt.setValueByIndex(at,rt.channels-1,_e.getValueByIndex(at,_e.channels-1))}function convertGreyToAny(_e,rt){for(let at=0;at<_e.size;at++)for(let lt=0;lt<rt.components;lt++)rt.setValueByIndex(at,lt,_e.getValueByIndex(at,0))}function convertRgbToRgb(_e,rt){for(let at=0;at<_e.size;at++)for(let lt=0;lt<3;lt++)rt.setValueByIndex(at,lt,_e.getValueByIndex(at,lt))}function convertRgbToGrey(_e,rt){for(let at=0;at<_e.size;at++){const lt=_e.getValueByIndex(at,0),st=_e.getValueByIndex(at,1),ct=_e.getValueByIndex(at,2);rt.setValueByIndex(at,0,Math.round(.299*lt+.587*st+.114*ct))}}function convertBinaryToGrey(_e,rt){for(let at=0;at<_e.size;at++)rt.setValueByIndex(at,0,_e.getBitByIndex(at)?rt.maxValue:0)}function convertDepth(_e,rt){if(_e.depth===rt)throw new Error("convertDepth: cannot convert image to same depth");return rt===16?convertToUint16(_e):convertToUint8(_e)}function convertToUint16(_e){const rt=new Image(_e.width,_e.height,{depth:16,colorModel:_e.colorModel,origin:_e.origin});for(let at=0;at<_e.size;at++)for(let lt=0;lt<rt.channels;lt++)rt.setValueByIndex(at,lt,_e.getValueByIndex(at,lt)<<8);return rt}function convertToUint8(_e){const rt=new Image(_e.width,_e.height,{depth:8,colorModel:_e.colorModel,origin:_e.origin});for(let at=0;at<_e.size;at++)for(let lt=0;lt<rt.channels;lt++)rt.setValueByIndex(at,lt,_e.getValueByIndex(at,lt)>>8);return rt}function assert(_e,rt){if(!_e)throw new Error(rt||"unreachable")}function extract(_e,rt,at={}){const{origin:lt={row:0,column:0}}=at,{row:st,column:ct}=lt;assert(st<_e.height&&ct<_e.width&&st+rt.width>0&&ct+rt.height>0,"extract: image and mask have no overlap");const ut=Math.min(_e.width,rt.width+ct)-Math.max(0,ct),ft=Math.min(_e.height,rt.height+st)-Math.max(0,st);let dt=new Image(ut,ft,{colorModel:_e.colorModel,origin:lt});dt.alpha&&(dt=dt.fillAlpha(0));const pt=Math.max(0,st),ht=Math.max(0,ct),gt=st<0?-st:0,mt=ct<0?-ct:0;for(let xt=0;xt<ft;xt++)for(let vt=0;vt<ut;vt++)rt.getBit(mt+vt,gt+xt)&&dt.setPixel(vt,xt,_e.getPixel(ht+vt,pt+xt));return dt}function split$1(_e){const rt=[];for(let at=0;at<_e.channels;at++){const lt=Image.createFrom(_e,{colorModel:"GREY"});for(let st=0;st<lt.size;st++)lt.setValueByIndex(st,0,_e.getValueByIndex(st,at));rt.push(lt)}return rt}function huang(_e){let rt=0;for(let ht=0;ht<_e.length;ht++)if(_e[ht]!==0){rt=ht;break}let at=_e.length-1;for(let ht=_e.length-1;ht>=rt;ht--)if(_e[ht]!==0){at=ht;break}const lt=1/(at-rt),st=new Array(_e.length);let ct=0,ut=0;for(let ht=rt;ht<_e.length;ht++)ct+=ht*_e[ht],ut+=_e[ht],st[ht]=ct/ut;const ft=new Array(_e.length);ct=0,ut=0;for(let ht=at;ht>0;ht--)ct+=ht*_e[ht],ut+=_e[ht],ft[ht-1]=ct/ut;let dt=-1,pt=Number.MAX_VALUE;for(let ht=0;ht<_e.length;ht++){let gt=0,mt;for(let xt=0;xt<=ht;xt++)mt=1/(1+lt*Math.abs(xt-st[ht])),mt<1e-6||mt>.999999||(gt+=_e[xt]*(-mt*Math.log(mt)-(1-mt)*Math.log(1-mt)));for(let xt=ht+1;xt<_e.length;xt++)mt=1/(1+lt*Math.abs(xt-ft[ht])),mt<1e-6||mt>.999999||(gt+=_e[xt]*(-mt*Math.log(mt)-(1-mt)*Math.log(1-mt)));gt<pt&&(pt=gt,dt=ht)}return dt}function intermodes(_e){const rt=_e.slice();let at=0;for(;!bimodalTest$1(rt);){let st=0,ct=0,ut=rt[0];for(let ft=0;ft<_e.length-1;ft++)st=ct,ct=ut,ut=rt[ft+1],rt[ft]=(st+ct+ut)/3;if(rt[_e.length-1]=(ct+ut)/3,at++,at>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let lt=0;for(let st=1;st<_e.length-1;st++)rt[st-1]<rt[st]&&rt[st+1]<rt[st]&&(lt+=st);return Math.floor(lt/2)}function bimodalTest$1(_e){let rt=!1,at=0;for(let lt=1;lt<_e.length-1;lt++)if(_e[lt-1]<_e[lt]&&_e[lt+1]<_e[lt]&&(at++,at>2))return!1;return at===2&&(rt=!0),rt}function isodata(_e){let rt,at,lt,st,ct=0;for(let ut=1;ut<_e.length;ut++)if(_e[ut]>0){ct=ut+1;break}for(;;){rt=0,lt=0;for(let ut=0;ut<ct;ut++)lt=lt+_e[ut],rt=rt+_e[ut]*ut;st=0,at=0;for(let ut=ct+1;ut<_e.length;ut++)at+=_e[ut],st+=_e[ut]*ut;if(lt>0&&at>0&&(rt/=lt,st/=at,ct===Math.round((rt+st)/2)))break;if(ct++,ct>_e.length-2)throw new Error("Threshold not found")}return ct}function li(_e,rt){let at,lt,st,ct,ut,ft,dt,pt,ht,gt,xt;gt=0;for(let vt=0;vt<_e.length;vt++)gt+=vt*_e[vt];gt/=rt,dt=gt;do{ft=dt,at=ft+.5|0,lt=0,ct=0;for(let vt=0;vt<=at;vt++)lt+=vt*_e[vt],ct+=_e[vt];pt=ct===0?0:lt/ct,st=0,ut=0;for(let vt=at+1;vt<_e.length;vt++)st+=vt*_e[vt],ut+=_e[vt];ht=ut===0?0:st/ut,xt=(pt-ht)/(Math.log(pt)-Math.log(ht)),xt<-Number.EPSILON?dt=xt-.5|0:dt=xt+.5|0}while(Math.abs(dt-ft)>.5);return at}function maxEntropy(_e,rt){const at=new Array(_e.length);for(let mt=0;mt<_e.length;mt++)at[mt]=_e[mt]/rt;const lt=new Array(_e.length),st=new Array(_e.length);lt[0]=at[0],st[0]=1-lt[0];for(let mt=1;mt<_e.length;mt++)lt[mt]=lt[mt-1]+at[mt],st[mt]=1-lt[mt];let ct=0;for(let mt=0;mt<_e.length;mt++)if(Math.abs(lt[mt])>=Number.EPSILON){ct=mt;break}let ut=_e.length-1;for(let mt=_e.length-1;mt>=ct;mt--)if(Math.abs(st[mt])>=Number.EPSILON){ut=mt;break}let ft=-1,dt,pt=Number.MIN_VALUE,ht,gt;for(let mt=ct;mt<=ut;mt++){ht=0;for(let xt=0;xt<=mt;xt++)_e[xt]!==0&&(ht-=at[xt]/lt[mt]*Math.log(at[xt]/lt[mt]));gt=0;for(let xt=mt+1;xt<_e.length;xt++)_e[xt]!==0&&(gt-=at[xt]/st[mt]*Math.log(at[xt]/st[mt]));dt=ht+gt,pt<dt&&(pt=dt,ft=mt)}return ft}function mean$1(_e,rt){let at=0;for(let lt=0;lt<_e.length;lt++)at+=lt*_e[lt];return Math.floor(at/rt)}function minError(_e,rt){let at,lt=-2,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,yt=0;for(let _t=0;_t<_e.length;_t++)yt+=_t*_e[_t];for(yt/=rt,at=yt;at!==lt;){const _t=sumA(_e,at),$t=sumA(_e,_e.length-1),Et=sumB(_e,at),wt=sumB(_e,_e.length-1),bt=sumC(_e,at),St=sumC(_e,_e.length-1);if(st=Et/_t,ct=(wt-Et)/($t-_t),ut=_t/$t,ft=($t-_t)/$t,dt=bt/_t-st*st,pt=(St-bt)/($t-_t)-ct*ct,ht=1/dt-1/pt,gt=st/dt-ct/pt,mt=st*st/dt-ct*ct/pt+Math.log10(dt*(ft*ft)/(pt*(ut*ut))),xt=gt*gt-ht*mt,xt<0)return at;lt=at,vt=(gt+Math.sqrt(xt))/ht,Number.isNaN(vt)?at=lt:at=Math.floor(vt)}return at}function sumA(_e,rt){let at=0;for(let lt=0;lt<=rt;lt++)at+=_e[lt];return at}function sumB(_e,rt){let at=0;for(let lt=0;lt<=rt;lt++)at+=lt*_e[lt];return at}function sumC(_e,rt){let at=0;for(let lt=0;lt<=rt;lt++)at+=lt*lt*_e[lt];return at}function minimum(_e){if(_e.length<2)return 0;let rt=0,at=-1,lt=-1,st=new Array(_e.length);for(let ct=0;ct<_e.length;ct++)st[ct]=_e[ct],_e[ct]>0&&(lt=ct);for(;!bimodalTest(st);)if(st=smoothed(st),rt++,rt>1e4)return at;for(let ct=1;ct<lt;ct++)if(st[ct-1]>st[ct]&&st[ct+1]>=st[ct]){at=ct;break}return at}function smoothed(_e){const rt=new Array(_e.length);for(let at=1;at<_e.length-1;at++)rt[at]=(_e[at-1]+_e[at]+_e[at+1])/3;return rt[0]=(_e[0]+_e[1])/3,rt[_e.length-1]=(_e[_e.length-2]+_e[_e.length-1])/3,rt}function bimodalTest(_e){const rt=_e.length;let at=!1,lt=0;for(let st=1;st<rt-1;st++)if(_e[st-1]<_e[st]&&_e[st+1]<_e[st]&&(lt++,lt>2))return!1;return lt===2&&(at=!0),at}function moments(_e,rt){let lt=0,st=0,ct=0,ut=0,ft=-1;const dt=_e.length,pt=new Array(dt);for(let _t=0;_t<dt;_t++)pt[_t]=_e[_t]/rt;for(let _t=0;_t<dt;_t++)lt+=_t*pt[_t],st+=_t*_t*pt[_t],ct+=_t*_t*_t*pt[_t];const ht=1*st-lt*lt,gt=(-st*st+lt*ct)/ht,mt=(1*-ct+st*lt)/ht,xt=.5*(-mt-Math.sqrt(mt*mt-4*gt)),vt=.5*(-mt+Math.sqrt(mt*mt-4*gt)),yt=(vt-lt)/(vt-xt);for(let _t=0;_t<dt;_t++)if(ut+=pt[_t],ut>yt){ft=_t;break}return ft}function otsu(_e,rt){let at=0,lt=0,st=0,ct=0,ut=0;for(let ft=0;ft<_e.length;ft++)ut+=ft*_e[ft];for(let ft=0;ft<_e.length;ft++){lt=lt+_e[ft];const dt=rt-lt;if(lt===0||dt===0)continue;at=at+ft*_e[ft];const pt=(ut-at)/dt,ht=lt*dt*(at/lt-pt)*(at/lt-pt);ht>=st&&(ct=ft,st=ht)}return ct}function percentile(_e){let rt=-1;const at=.5,lt=new Array(_e.length),st=partialSum(_e,_e.length-1);let ct=1;for(let ut=0;ut<_e.length;ut++)lt[ut]=Math.abs(partialSum(_e,ut)/st-at),lt[ut]<ct&&(ct=lt[ut],rt=ut);return rt}function partialSum(_e,rt){let at=0;for(let lt=0;lt<=rt;lt++)at+=_e[lt];return at}function renyiEntropy(_e,rt){let at,lt;const st=new Array(_e.length),ct=new Array(_e.length),ut=new Array(_e.length);let ft=0,dt=0,pt=0,ht=0,gt=0,mt=0;const vt=1/(1-.5),_t=1/(1-2);for(let St=0;St<_e.length;St++)st[St]=_e[St]/rt;ct[0]=st[0],ut[0]=1-ct[0];for(let St=1;St<_e.length;St++)ct[St]=ct[St-1]+st[St],ut[St]=1-ct[St];at=0;for(let St=0;St<_e.length;St++)if(Math.abs(ct[St])>=Number.EPSILON){at=St;break}lt=_e.length-1;for(let St=_e.length-1;St>=at;St--)if(Math.abs(ut[St])>=Number.EPSILON){lt=St;break}for(let St=at;St<=lt;St++){let Tt=0,Rt=0,kt=0;for(let Ft=0;Ft<=St;Ft++)_e[Ft]!==0&&(Tt-=st[Ft]/ct[St]*Math.log(st[Ft]/ct[St])),Rt+=Math.sqrt(st[Ft]/ct[St]),kt+=st[Ft]*st[Ft]/(ct[St]*ct[St]);let At=0,Ct=0,Mt=0;for(let Ft=St+1;Ft<_e.length;Ft++)_e[Ft]!==0&&(At-=st[Ft]/ut[St]*Math.log(st[Ft]/ut[St])),Ct+=Math.sqrt(st[Ft]/ut[St]),Mt+=st[Ft]*st[Ft]/(ut[St]*ut[St]);const Ot=Tt+At,Pt=vt*(Rt*Ct>0?Math.log(Rt*Ct):0),It=_t*(kt*Mt>0?Math.log(kt*Mt):0);Ot>ht&&(ht=Ot,ft=St),Pt>gt&&(gt=Pt,dt=St),It>mt&&(mt=It,pt=St)}const $t=new Uint32Array([ft,dt,pt]);$t.sort();let Et;Math.abs($t[0]-$t[1])<=5?Math.abs($t[1]-$t[2])<=5?Et=[1,2,1]:Et=[0,1,3]:Math.abs($t[1]-$t[2])<=5?Et=[3,1,0]:Et=[1,2,1];const wt=ct[$t[2]]-ct[$t[0]];return Math.round($t[0]*(ct[$t[0]]+.25*wt*Et[0])+.25*$t[1]*wt*Et[1]+$t[2]*(ut[$t[2]]+.25*wt*Et[2]))}function shanbhag(_e,rt){const at=new Array(_e.length);for(let xt=0;xt<_e.length;xt++)at[xt]=_e[xt]/rt;const lt=new Array(_e.length),st=new Array(_e.length);lt[0]=at[0],st[0]=1-lt[0];for(let xt=1;xt<_e.length;xt++)lt[xt]=lt[xt-1]+at[xt],st[xt]=1-lt[xt];let ct=0;for(let xt=0;xt<_e.length;xt++)if(Math.abs(lt[xt])>=Number.EPSILON){ct=xt;break}let ut=_e.length-1;for(let xt=_e.length-1;xt>=ct;xt--)if(Math.abs(st[xt])>=Number.EPSILON){ut=xt;break}let ft=-1,dt=Number.MAX_VALUE,pt,ht,gt,mt;for(let xt=ct;xt<=ut;xt++){gt=0,pt=.5/lt[xt];for(let vt=1;vt<=xt;vt++)gt-=at[vt]*Math.log(1-pt*lt[vt-1]);gt*=pt,mt=0,pt=.5/st[xt];for(let vt=xt+1;vt<_e.length;vt++)mt-=at[vt]*Math.log(1-pt*st[vt]);mt*=pt,ht=Math.abs(gt-mt),ht<dt&&(dt=ht,ft=xt)}return ft}function triangle(_e){let rt=0,at=0,lt=0,st=0;for(let gt=0;gt<_e.length;gt++)if(_e[gt]>0){rt=gt;break}rt>0&&rt--;for(let gt=_e.length-1;gt>0;gt--)if(_e[gt]>0){st=gt;break}st<_e.length-1&&st++;for(let gt=0;gt<_e.length;gt++)_e[gt]>at&&(lt=gt,at=_e[gt]);let ct=!1;if(lt-rt<st-lt){ct=!0;let gt=0,mt=_e.length-1;for(;gt<mt;){const xt=_e[gt];_e[gt]=_e[mt],_e[mt]=xt,gt++,mt--}rt=_e.length-1-st,lt=_e.length-1-lt}if(rt===lt)return rt;let ut,ft,dt;ut=_e[lt],ft=rt-lt,dt=Math.sqrt(ut*ut+ft*ft),ut/=dt,ft/=dt,dt=ut*rt+ft*_e[rt];let pt=rt,ht=0;for(let gt=rt+1;gt<=lt;gt++){const mt=ut*gt+ft*_e[gt]-dt;mt>ht&&(pt=gt,ht=mt)}if(pt--,ct){let gt=0,mt=_e.length-1;for(;gt<mt;){const xt=_e[gt];_e[gt]=_e[mt],_e[mt]=xt,gt++,mt--}return _e.length-1-pt}else return pt}function yen(_e,rt){const at=new Array(_e.length);for(let pt=0;pt<_e.length;pt++)at[pt]=_e[pt]/rt;const lt=new Array(_e.length);lt[0]=at[0];for(let pt=1;pt<_e.length;pt++)lt[pt]=lt[pt-1]+at[pt];const st=new Array(_e.length);st[0]=at[0]*at[0];for(let pt=1;pt<_e.length;pt++)st[pt]=st[pt-1]+at[pt]*at[pt];const ct=new Array(_e.length);ct[_e.length-1]=0;for(let pt=_e.length-2;pt>=0;pt--)ct[pt]=ct[pt+1]+at[pt+1]*at[pt+1];let ut=-1,ft=Number.MIN_VALUE,dt;for(let pt=0;pt<_e.length;pt++)dt=-1*(st[pt]*ct[pt]>0?Math.log(st[pt]*ct[pt]):0)+2*(lt[pt]*(1-lt[pt])>0?Math.log(lt[pt]*(1-lt[pt])):0),dt>ft&&(ft=dt,ut=pt);return ut}const ThresholdAlgorithm={HUANG:"huang",INTERMODES:"intermodes",ISODATA:"isodata",LI:"li",MAX_ENTROPY:"maxEntropy",MEAN:"mean",MIN_ERROR:"minError",MINIMUM:"minimum",MOMENTS:"moments",OTSU:"otsu",PERCENTILE:"percentile",RENYI_ENTROPY:"renyiEntropy",SHANBHAG:"shanbhag",TRIANGLE:"triangle",YEN:"yen"};function computeThreshold(_e,rt="otsu"){if(_e.channels!==1)throw new Error("threshold can only be computed on images with one channel");const at=_e.histogram();switch(rt){case"huang":return huang(at);case"intermodes":return intermodes(at);case"isodata":return isodata(at);case"li":return li(at,_e.size);case"maxEntropy":return maxEntropy(at,_e.size);case"mean":return mean$1(at,_e.size);case"minimum":return minimum(at);case"minError":return minError(at,_e.size);case"moments":return moments(at,_e.size);case"otsu":return otsu(at,_e.size);case"percentile":return percentile(at);case"renyiEntropy":return renyiEntropy(at,_e.size);case"shanbhag":return shanbhag(at,_e.size);case"triangle":return triangle(at);case"yen":return yen(at,_e.size);default:throw new RangeError(`unsupported threshold algorithm: ${rt}`)}}function threshold(_e,rt={}){let at;if("threshold"in rt){const st=rt.threshold;if(typeof st=="number")at=st;else if(typeof st=="string"&&st.endsWith("%")&&!Number.isNaN(Number(st.slice(0,-1)))){const ct=Number(st.slice(0,-1));if(ct<0||ct>100)throw new RangeError("threshold: threshold in percents is out of range 0 to 100");at=ct/100*_e.maxValue}else throw new Error("threshold: unrecognised threshold format")}else at=computeThreshold(_e,rt.algorithm);validateValue(at,_e);const lt=imageToOutputMask(_e,rt);for(let st=0;st<_e.size;st++)lt.setBitByIndex(st,_e.getValueByIndex(st,0)>at?1:0);return lt}function luma709(_e,rt,at){return _e*6966+rt*23436+at*2366>>15}function luma601(_e,rt,at){return _e*9798+rt*19235+at*3735>>15}function max$3(_e,rt,at){return Math.max(_e,rt,at)}function min$3(_e,rt,at){return Math.min(_e,rt,at)}function average(_e,rt,at){return(_e+rt+at)/3>>0}function minmax(_e,rt,at){return(Math.max(_e,rt,at)+Math.min(_e,rt,at))/2}function red(_e){return _e}function green(_e,rt){return rt}function blue(_e,rt,at){return at}function black(_e,rt,at,lt){return Math.min(lt.maxValue-_e,lt.maxValue-rt,lt.maxValue-at)}function cyan(_e,rt,at,lt){let st=black(_e,rt,at,lt);return(lt.maxValue-_e-st)/(1-st/lt.maxValue)>>0}function magenta(_e,rt,at,lt){let st=black(_e,rt,at,lt);return(lt.maxValue-rt-st)/(1-st/lt.maxValue)>>0}function yellow(_e,rt,at,lt){let st=black(_e,rt,at,lt);return(lt.maxValue-at-st)/(1-st/lt.maxValue)>>0}function hue(_e,rt,at,lt){let st=min$3(_e,rt,at),ct=max$3(_e,rt,at);if(ct===st)return 0;let ut=0,ft=ct-st;switch(ct){case _e:ut=(rt-at)/ft+(rt<at?6:0);break;case rt:ut=(at-_e)/ft+2;break;case at:ut=(_e-rt)/ft+4;break;default:throw new Error("unreachable")}return ut/6*lt.maxValue>>0}function saturation(_e,rt,at,lt){let st=min$3(_e,rt,at),ct=max$3(_e,rt,at),ut=ct-st;return ct===0?0:ut/ct*lt.maxValue}function lightness(_e,rt,at){let lt=min$3(_e,rt,at);return(max$3(_e,rt,at)+lt)/2}const greyAlgorithms=Object.freeze(Object.defineProperty({__proto__:null,average,black,blue,cyan,green,hue,lightness,luma601,luma709,magenta,max:max$3,min:min$3,minmax,red,saturation,yellow},Symbol.toStringTag,{value:"Module"})),GreyAlgorithm={LUMA_709:"luma709",LUMA_601:"luma601",MAX:"max",MIN:"min",AVERAGE:"average",MINMAX:"minmax",RED:"red",GREEN:"green",BLUE:"blue",BLACK:"black",CYAN:"cyan",MAGENTA:"magenta",YELLOW:"yellow",HUE:"hue",SATURATION:"saturation",LIGHTNESS:"lightness"};{const _e=new Set(Object.values(GreyAlgorithm));for(const rt of Object.keys(greyAlgorithms))if(!_e.has(rt))throw new Error(`Grey algorithm ${rt} is missing in the GreyAlgorithm enum`)}function grey(_e,rt={}){let{algorithm:at="luma709",keepAlpha:lt=!1,mergeAlpha:st=!0}=rt;if(_e.colorModel!=="RGB"&&_e.colorModel!=="RGBA")throw new Error("Image color model is not RGB or RGBA");lt=lt&&_e.alpha,st=st&&_e.alpha,lt&&(st=!1);let ut=getOutputImage(_e,rt,{newParameters:{colorModel:lt?"GREYA":"GREY"}}),ft;typeof at=="function"?ft=at:ft=greyAlgorithms[at];let dt=getClamp(ut);for(let pt=0;pt<_e.size;pt++){const ht=_e.getValueByIndex(pt,0),gt=_e.getValueByIndex(pt,1),mt=_e.getValueByIndex(pt,2);let xt;if(st){const vt=_e.getValueByIndex(pt,3);xt=dt(ft(ht,gt,mt,_e)*vt/_e.maxValue)}else if(xt=dt(ft(ht,gt,mt,_e)),lt){const vt=_e.getValueByIndex(pt,3);ut.setValueByIndex(pt,1,vt)}ut.setValueByIndex(pt,0,xt)}return ut}function setBlendedPixel(_e,rt,at,lt={}){const{color:st=getDefaultColor(_e)}=lt;if(!_e.alpha)_e.setPixel(rt,at,st);else{assert(_e instanceof Image);const ct=st[st.length-1];if(ct===_e.maxValue){_e.setPixel(rt,at,st);return}const ut=_e.getValue(rt,at,_e.channels-1);let ft=ct+ut*(1-ct/_e.maxValue);_e.setValue(rt,at,_e.channels-1,ft);for(let dt=0;dt<_e.components;dt++){let pt=st[dt],ht=_e.getValue(rt,at,dt),gt=(pt*ct+ht*ut*(1-ct/_e.maxValue))/ft;_e.setValue(rt,at,dt,gt)}}}function copyTo(_e,rt,at={}){const{origin:lt={column:0,row:0}}=at,{column:st,row:ct}=lt;if(_e.colorModel!==rt.colorModel)throw new Error("copyTo: source and target must have the same color model.");let ut;rt instanceof Image?ut=getOutputImage(rt,at,{clone:!0}):ut=maskToOutputMask(rt,at,{clone:!0});for(let ft=Math.max(ct,0);ft<Math.min(_e.height+ct,rt.height);ft++)for(let dt=Math.max(st,0);dt<Math.min(_e.width+st,rt.width);dt++){let pt=_e.getPixel(dt-st,ft-ct);setBlendedPixel(ut,dt,ft,{color:pt})}return ut}function crop(_e,rt={}){const{origin:at={row:0,column:0},width:lt=_e.width-at.column,height:st=_e.height-at.row}=rt,{column:ct,row:ut}=at;if(checkProcessable(_e,"crop",{bitDepth:[8,16]}),ut>_e.height-1||ct>_e.width-1)throw new Error(`crop: origin (row:${ut}, column:${ct}) out of range (${_e.width-1}; ${_e.height-1})`);if(lt<=0||st<=0)throw new Error(`crop: width and height (width:${lt}; height:${st}) must be positive numbers`);if(ut<0||ct<0)throw new Error(`crop: row and column (row:${ut}, column:${ct}) must be positive numbers`);if(lt>_e.width-ct||st>_e.height-ut)throw new Error(`crop: (row:${ut}, column: ${ct}, width:${lt}, height:${st}) size is out of range`);const ft=Image.createFrom(_e,{width:lt,height:st});for(let dt=0;dt<st;dt++)for(let pt=0;pt<lt;pt++)ft.setPixel(pt,dt,_e.getPixel(ct+pt,ut+dt));return ft}function paintMaskOnImage(_e,rt,at={}){const{origin:lt={row:0,column:0},color:st=getDefaultColor(_e),blend:ct=!0}=at,{column:ut,row:ft}=lt;if(st.length!==_e.channels)throw new Error("paintMask: the given color is not compatible with the image");const dt=getOutputImage(_e,at,{clone:!0});if(ct){checkColorIsNumberArray(st);for(let pt=Math.max(ft,0);pt<Math.min(rt.height+ft,_e.height);pt++)for(let ht=Math.max(ut,0);ht<Math.min(rt.width+ut,_e.width);ht++)rt.getBit(ht-ut,pt-ft)&&setBlendedPixel(dt,ht,pt,{color:st})}else for(let pt=Math.max(ft,0);pt<Math.min(rt.height+ft,_e.height);pt++)for(let ht=Math.max(ut,0);ht<Math.min(rt.width+ut,_e.width);ht++)if(rt.getBit(ht-ut,pt-ft))for(let gt=0;gt<_e.channels;gt++){const mt=st[gt];typeof mt=="number"&&dt.setValue(ht,pt,gt,mt)}return dt}function checkColorIsNumberArray(_e){for(let rt of _e)if(typeof rt!="number")throw new Error("paintMask: cannot have null channels in color if blend is true")}function paintMaskOnMask(_e,rt,at={}){const{origin:lt={row:0,column:0},value:st=1}=at,{column:ct,row:ut}=lt,ft=maskToOutputMask(_e,at,{clone:!0});for(let dt=Math.max(ut,0);dt<Math.min(rt.height+ut,_e.height);dt++)for(let pt=Math.max(ct,0);pt<Math.min(rt.width+ct,_e.width);pt++)rt.getBit(pt-ct,dt-ut)&&ft.setBit(pt,dt,st);return ft}function cropAlpha(_e,rt={}){checkProcessable(_e,"cropAlpha",{alpha:!0});const{threshold:at=_e.maxValue}=rt;let lt=findLeft(_e,at,_e.components);if(lt===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let st=findTop(_e,at,_e.components,lt),ct=findBottom(_e,at,_e.components,lt),ut=findRight(_e,at,_e.components,lt,st,ct);return _e.crop({origin:{column:lt,row:st},width:ut-lt+1,height:ct-st+1})}function findLeft(_e,rt,at){for(let lt=0;lt<_e.width;lt++)for(let st=0;st<_e.height;st++)if(_e.getValue(lt,st,at)>=rt)return lt;return-1}function findTop(_e,rt,at,lt){for(let st=0;st<_e.height;st++)for(let ct=lt;ct<_e.width;ct++)if(_e.getValue(ct,st,at)>=rt)return st;return-1}function findBottom(_e,rt,at,lt){for(let st=_e.height-1;st>=0;st--)for(let ct=lt;ct<_e.width;ct++)if(_e.getValue(ct,st,at)>=rt)return st;return-1}function findRight(_e,rt,at,lt,st,ct){for(let ut=_e.width-1;ut>=lt;ut--)for(let ft=st;ft<=ct;ft++)if(_e.getValue(ut,ft,at)>=rt)return ut;return-1}const ImageColorModel={GREY:"GREY",GREYA:"GREYA",RGB:"RGB",RGBA:"RGBA",BINARY:"BINARY"},colorModels={GREY:{components:1,alpha:!1,channels:1},GREYA:{components:1,alpha:!0,channels:2},RGB:{components:3,alpha:!1,channels:3},RGBA:{components:3,alpha:!0,channels:4},BINARY:{components:1,alpha:!1,channels:1}};class Image{constructor(rt,at,lt={}){const{depth:st=8,data:ct,colorModel:ut="RGB",origin:ft={row:0,column:0}}=lt;if(rt<1||!Number.isInteger(rt))throw new RangeError(`width must be an integer and at least 1. Received ${rt}`);if(at<1||!Number.isInteger(at))throw new RangeError(`height must be an integer and at least 1. Received ${at}`);this.width=rt,this.height=at,this.size=rt*at,this.depth=st,this.colorModel=ut,this.origin=ft;const dt=colorModels[ut];if(this.components=dt.components,this.alpha=dt.alpha,this.channels=dt.channels,this.maxValue=2**st-1,ct===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.depth,this.maxValue);else{if(st===8&&ct instanceof Uint16Array)throw new Error(`depth is ${st} but data is Uint16Array`);if(st===16&&ct instanceof Uint8Array)throw new Error(`depth is ${st} but data is Uint8Array`);const pt=this.size*this.channels;if(ct.length!==pt)throw new RangeError(`incorrect data size: ${ct.length}. Expected ${pt}`);this.data=ct}}static createFrom(rt,at={}){const{width:lt=rt.width,height:st=rt.height}=at;let ct;return rt instanceof Image?ct=rt.depth:ct=8,new Image(lt,st,{depth:ct,colorModel:rt.colorModel,origin:rt.origin,...at})}getPixel(rt,at){const lt=[],st=(at*this.width+rt)*this.channels;for(let ct=0;ct<this.channels;ct++)lt.push(this.data[st+ct]);return lt}setPixel(rt,at,lt){const st=(at*this.width+rt)*this.channels;for(let ct=0;ct<this.channels;ct++)this.data[st+ct]=lt[ct]}setVisiblePixel(rt,at,lt){rt>=0&&rt<this.width&&at>=0&&at<this.height&&this.setPixel(rt,at,lt)}getPixelByIndex(rt){const at=[],lt=rt*this.channels;for(let st=0;st<this.channels;st++)at.push(this.data[lt+st]);return at}setPixelByIndex(rt,at){const lt=rt*this.channels;for(let st=0;st<this.channels;st++)this.data[lt+st]=at[st]}getValue(rt,at,lt){return this.data[(at*this.width+rt)*this.channels+lt]}setValue(rt,at,lt,st){this.data[(at*this.width+rt)*this.channels+lt]=st}getValueByIndex(rt,at){return this.data[rt*this.channels+at]}setValueByIndex(rt,at,lt){this.data[rt*this.channels+at]=lt}getValueByPoint(rt,at){return this.getValue(rt.column,rt.row,at)}setValueByPoint(rt,at,lt){this.setValue(rt.column,rt.row,at,lt)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,depth:this.depth}}[Symbol.for("nodejs.util.inspect.custom")](){let rt;return this.height>20||this.width>20?rt="[...]":rt=printData$1(this),`Image {
  width: ${this.width}
  height: ${this.height}
  depth: ${this.depth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${rt}
}`}fill(rt){if(typeof rt=="number")return validateValue(rt,this),this.data.fill(rt),this;if(rt.length!==this.channels)throw new RangeError(`the size of value must match the number of channels (${this.channels}). Got ${rt.length} instead`);for(const at of rt)validateValue(at,this);for(let at=0;at<this.data.length;at+=this.channels)for(let lt=0;lt<=this.channels;lt++)this.data[at+lt]=rt[lt];return this}fillChannel(rt,at){validateChannel(rt,this),validateValue(at,this);for(let lt=rt;lt<this.data.length;lt+=this.channels)this.data[lt]=at;return this}getChannel(rt){validateChannel(rt,this);let at=new Array(this.size);for(let lt=0;lt<this.size;lt++)at[lt]=this.data[rt+lt*this.channels];return at}fillAlpha(rt){if(validateValue(rt,this),!this.alpha)throw new Error("fillAlpha can only be called if the image has an alpha channel");const at=this.channels-1;return this.fillChannel(at,rt)}clone(){return Image.createFrom(this,{data:this.data.slice()})}changeEach(rt){for(let at=0;at<this.data.length;at++)this.data[at]=rt(this.data[at])}getCoordinates(rt,at=!1){switch(rt){case"center":{const lt=(this.width-1)/2,st=(this.height-1)/2;return at?{column:Math.round(lt),row:Math.round(st)}:{column:lt,row:st}}case"top-left":return{column:0,row:0};case"top-right":return{column:this.width-1,row:0};case"bottom-left":return{column:0,row:this.height-1};case"bottom-right":return{column:this.width-1,row:this.height-1};default:throw new Error(`Unknown image coordinates ${rt}`)}}subtract(rt,at={}){return subtract(this,rt,at)}histogram(rt){return histogram(this,rt)}mean(){return mean$2(this)}median(){return median$1(this)}variance(){return variance(this)}drawPoints(rt,at={}){return drawPoints(this,rt,at)}drawLine(rt,at,lt={}){return drawLineOnImage(this,rt,at,lt)}drawRectangle(rt={}){return drawRectangle(this,rt)}drawPolyline(rt,at={}){return drawPolylineOnImage(this,rt,at)}drawPolygon(rt,at={}){return drawPolygonOnImage(this,rt,at)}drawCircle(rt,at,lt={}){return drawCircleOnImage(this,rt,at,lt)}drawMarker(rt,at={}){return drawMarker(this,rt,at)}drawMarkers(rt,at={}){return drawMarkers(this,rt,at)}split(){return split$1(this)}convertColor(rt,at){return convertColor(this,rt,at)}convertDepth(rt){return convertDepth(this,rt)}grey(rt){return grey(this,rt)}copyTo(rt,at={}){return copyTo(this,rt,at)}threshold(rt={}){return threshold(this,rt)}crop(rt){return crop(this,rt)}cropAlpha(rt={}){return cropAlpha(this,rt)}extract(rt,at){return extract(this,rt,at)}paintMask(rt,at){return paintMaskOnImage(this,rt,at)}blur(rt){return blur(this,rt)}directConvolution(rt,at){return directConvolution(this,rt,at)}rawDirectConvolution(rt,at){return rawDirectConvolution(this,rt,at)}separableConvolution(rt,at,lt){return separableConvolution(this,rt,at,lt)}gaussianBlur(rt){return gaussianBlur(this,rt)}flip(rt){return flip$2(this,rt)}invert(rt){return invert(this,rt)}hypotenuse(rt,at){return hypotenuse(this,rt,at)}gradientFilter(rt){return gradientFilter(this,rt)}derivativeFilter(rt){return derivativeFilter(this,rt)}level(rt){return level(this,rt)}correctColor(rt,at){return correctColor(this,rt,at)}resize(rt){return resize(this,rt)}rotate(rt){return rotate$1(this,rt)}transform(rt,at){return transform(this,rt,at)}transformRotate(rt,at){return transformRotate(this,rt,at)}erode(rt){return erode(this,rt)}dilate(rt){return dilate(this,rt)}open(rt){return open(this,rt)}close(rt){return close(this,rt)}topHat(rt){return topHat(this,rt)}bottomHat(rt){return bottomHat(this,rt)}morphologicalGradient(rt){return morphologicalGradient(this,rt)}cannyEdgeDetector(rt){return cannyEdgeDetector(this,rt)}}function createPixelArray(_e,rt,at,lt,st){const ct=rt*_e;let ut;switch(lt){case 8:ut=new Uint8Array(ct);break;case 16:ut=new Uint16Array(ct);break;default:throw new Error(`unexpected color depth: ${lt}`)}if(at)for(let ft=rt-1;ft<ct;ft+=rt)ut[ft]=st;return ut}function printData$1(_e){const rt=[],at=_e.depth===8?3:5;for(let lt=0;lt<_e.height;lt++){const st=[];for(let ct=0;ct<_e.width;ct++)for(let ut=0;ut<_e.channels;ut++)st.push(String(_e.getValue(ct,lt,ut)).padStart(at," "));rt.push(`[${st.join(" ")}]`)}return`{
    ${`[
     ${rt.join(`
     `)}
    ]`}
  }`}function difference(_e,rt){return{column:_e.column-rt.column,row:_e.row-rt.row}}function normalize$1(_e){let rt=Math.sqrt(_e.column**2+_e.row**2);return{column:_e.column/rt,row:_e.row/rt}}function rotate(_e,rt){let at=[];const lt=Math.cos(_e),st=Math.sin(_e);for(let ct of rt)at.push({column:lt*ct.column-st*ct.row,row:st*ct.column+lt*ct.row});return at}function toDegrees(_e){return _e*180/Math.PI}function getAngle(_e,rt){const at=difference(rt,_e),lt=normalize$1(at),st=Math.acos(lt.column);return lt.row<0?-st:st}function getFeret(_e){const rt=_e.getConvexHull(),at=rt.points;if(rt.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0},aspectRatio:1};let lt=Number.POSITIVE_INFINITY,st=0,ct=[];for(let ht=0;ht<at.length;ht++){let gt=getAngle(at[ht],at[(ht+1)%at.length]);const mt=rotate(-gt,at);let xt=0,vt=[];for(let yt=0;yt<at.length;yt++){let _t=Math.abs(mt[ht].row-mt[yt].row);_t>xt&&(xt=_t,vt=[mt[ht],mt[yt]])}xt<lt&&(lt=xt,st=gt,ct=vt)}const ut={points:rotate(st,ct),length:lt,angle:toDegrees(st)};let ft=[],dt=0;for(let ht=0;ht<at.length-1;ht++)for(let gt=ht+1;gt<at.length;gt++){let mt=(at[ht].column-at[gt].column)**2+(at[ht].row-at[gt].row)**2;mt>dt&&(dt=mt,ft=[at[ht],at[gt]])}const pt={length:Math.sqrt(dt),angle:toDegrees(getAngle(ft[0],ft[1])),points:ft};return{minDiameter:ut,maxDiameter:pt,aspectRatio:ut.length/pt.length}}function getBorderPoints$1(_e,rt={}){const{innerBorders:at=!1,allowCorners:lt=!1}=rt;at||(_e=_e.solidFill());let st=[];for(let ct=0;ct<_e.width;ct++)_e.getBit(ct,0)&&st.push({column:ct,row:0}),_e.getBit(ct,_e.height-1)&&st.push({column:ct,row:_e.height-1});for(let ct=0;ct<_e.height;ct++)_e.getBit(0,ct)&&st.push({column:0,row:ct}),_e.getBit(_e.width-1,ct)&&st.push({column:_e.width-1,row:ct});for(let ct=1;ct<_e.height-1;ct++)for(let ut=1;ut<_e.width-1;ut++)_e.getBit(ut,ct)&&((_e.getBit(ut-1,ct)===0||_e.getBit(ut,ct-1)===0||_e.getBit(ut+1,ct)===0||_e.getBit(ut,ct+1)===0)&&st.push({column:ut,row:ct}),lt&&(_e.getBit(ut-1,ct-1)===0||_e.getBit(ut-1,ct+1)===0||_e.getBit(ut+1,ct-1)===0||_e.getBit(ut+1,ct+1)===0)&&st.push({column:ut,row:ct}));return st}function getLineLength(_e,rt){return Math.sqrt((_e.column-rt.column)**2+(_e.row-rt.row)**2)}function getPolygonPerimeter(_e){let rt=0;for(let at=0;at<_e.length;at++)rt+=getLineLength(_e[(at+1)%_e.length],_e[at]);return rt}function getPolygonArea(_e){let rt=0;for(let at=0;at<_e.length;at++){const lt=(at+1)%_e.length;rt+=_e[at].column*_e[lt].row,rt-=_e[at].row*_e[lt].column}return Math.abs(rt/2)}function getExtendedBorderPoints(_e){const rt=_e.getBorderPoints({allowCorners:!0,innerBorders:!1});let at=[];for(let lt of rt)at.push(lt,{column:lt.column+1,row:lt.row},{column:lt.column+1,row:lt.row+1},{column:lt.column,row:lt.row+1});return at}function monotoneChainConvexHull(_e,rt={}){const{sorted:at=!1}=rt;at||(_e=_e.slice().sort(byXThenY));const lt=_e.length,st=new Array(lt*2);let ct=0;for(let ft=0;ft<lt;ft++){const dt=_e[ft];for(;ct>=2&&cw(st[ct-2],st[ct-1],dt)<=0;)ct--;st[ct++]=dt}const ut=ct+1;for(let ft=lt-2;ft>=0;ft--){const dt=_e[ft];for(;ct>=ut&&cw(st[ct-2],st[ct-1],dt)<=0;)ct--;st[ct++]=dt}return st.slice(0,ct-1)}function cw(_e,rt,at){return(rt.row-_e.row)*(at.column-_e.column)-(rt.column-_e.column)*(at.row-_e.row)}function byXThenY(_e,rt){return _e.column===rt.column?_e.row-rt.row:_e.column-rt.column}function getConvexHull(_e){const rt=getExtendedBorderPoints(_e);if(rt.length===0)return{points:[],surface:0,perimeter:0};const at=monotoneChainConvexHull(rt),lt=getPolygonPerimeter(at),st=getPolygonArea(at);return{points:at,perimeter:lt,surface:st}}const leftFirst=(_e,rt)=>_e.column<=rt.column?-1:1,topFirst=(_e,rt)=>_e.row>=rt.row?-1:1;function getMbrAngle(_e){const rt=_e.slice().sort(leftFirst),at=rt.slice(0,2),lt=rt.slice(2,4);at.sort(topFirst),lt.sort(topFirst);const st=at[0],ct=lt[0];return-toDegrees(getAngle(st,ct))}function getMbrFromPoints(_e){if(_e.length===0)return{points:[],angle:0,width:0,height:0,surface:0,perimeter:0};if(_e.length===1)return{points:[_e[0],_e[0],_e[0],_e[0]],perimeter:0,surface:0,angle:0,width:0,height:0};let rt=[],at=Number.POSITIVE_INFINITY,lt=0,st=[];for(let pt=0;pt<_e.length;pt++){let ht=getAngle(_e[pt],_e[(pt+1)%_e.length]);rt=rotate(-ht,_e);let gt=rt[pt].column,mt=rt[pt].row,xt=rt[(pt+1)%rt.length].column,vt=rt[(pt+1)%rt.length].row,yt=!0,_t=0,$t=0,Et=0;for(let Tt of rt){let Rt=Tt.column,kt=Tt.row,At=(Rt-gt)/(xt-gt);yt?(yt=!1,_t=At,$t=At):(At<_t&&(_t=At),At>$t&&($t=At));let Ct=(-(xt-gt)*kt+xt*mt-vt*gt)/(xt-gt);Math.abs(Ct)>Math.abs(Et)&&(Et=Ct)}let wt={column:gt+_t*(xt-gt),row:mt},bt={column:gt+$t*(xt-gt),row:mt},St=Math.abs(Et*(_t-$t)*(xt-gt));St<at&&(lt=ht,at=St,st=[bt,wt,{column:wt.column,row:wt.row-Et},{column:bt.column,row:bt.row-Et}])}const ct=rotate(lt,st),ut=st[0].column-st[2].column,ft=st[0].row-st[2].row,dt=getMbrAngle(ct);return{points:ct,surface:at,angle:dt,width:ut,height:ft,perimeter:2*ut+2*ft}}function getMbr(_e){const rt=monotoneChainConvexHull(getExtendedBorderPoints(_e));return getMbrFromPoints(rt)}function boolToNumber(_e){let rt;return typeof _e=="boolean"?rt=_e?1:0:rt=_e,rt}class Mask{constructor(rt,at,lt={}){const{data:st,origin:ct={row:0,column:0}}=lt;if(rt<1||!Number.isInteger(rt))throw new RangeError(`width must be an integer and at least 1. Received ${rt}`);if(at<1||!Number.isInteger(at))throw new RangeError(`height must be an integer and at least 1. Received ${at}`);this.width=rt,this.height=at,this.size=rt*at,this.depth=1,this.colorModel="BINARY",this.origin=ct;const ut=colorModels[this.colorModel];if(this.components=ut.components,this.alpha=ut.alpha,this.channels=ut.channels,this.maxValue=1,st===void 0)this.data=new Uint8Array(this.size);else{const ft=this.size*this.channels;if(st.length!==ft)throw new RangeError(`incorrect data size: ${st.length}. Expected ${ft}`);this.data=st}}static createFrom(rt,at={}){const{width:lt=rt.width,height:st=rt.height,origin:ct=rt.origin}=at;return new Mask(lt,st,{origin:ct,...at})}getPixel(rt,at){const lt=[],st=at*this.width+rt;return lt.push(this.data[st]),lt}setPixel(rt,at,lt){const st=at*this.width+rt;this.data[st]=lt[0]}setVisiblePixel(rt,at,lt){rt>=0&&rt<this.width&&at>=0&&at<this.height&&this.setPixel(rt,at,lt)}getPixelByIndex(rt){return[this.data[rt]]}setPixelByIndex(rt,at){this.data[rt]=at[0]}static fromPoints(rt,at,lt){let st=new Mask(rt,at);for(const ct of lt)st.setBit(ct.column,ct.row,1);return st}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(rt,at){const lt=at*this.width+rt;return this.data[lt]}setBit(rt,at,lt){const st=at*this.width+rt;this.data[st]=lt}getBitByIndex(rt){return this.data[rt*this.channels]}setBitByIndex(rt,at){let lt=boolToNumber(at);this.data[rt*this.channels]=lt}getValue(rt,at,lt){return checkChannel(lt),this.getBit(rt,at)}setValue(rt,at,lt,st){checkChannel(lt),this.setBit(rt,at,st)}getValueByIndex(rt,at){return checkChannel(at),this.getBitByIndex(rt)}setValueByIndex(rt,at,lt){checkChannel(at),this.setBitByIndex(rt,lt)}getValueByPoint(rt){return this.getValue(rt.column,rt.row,0)}setValueByPoint(rt,at){this.setValue(rt.column,rt.row,0,at)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for("nodejs.util.inspect.custom")](){let rt;return this.height>20||this.width>20?rt="[...]":rt=printData(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${rt}
}`}fill(rt){let at=boolToNumber(rt);return this.data.fill(at),this}convertColor(rt){return convertColor(this,rt)}invert(rt){return invert(this,rt)}subtract(rt,at){return subtract(this,rt,at)}and(rt,at){return and(this,rt,at)}or(rt,at){return or(this,rt,at)}getBorderPoints(rt){return getBorderPoints$1(this,rt)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(rt){return erode(this,rt)}dilate(rt){return dilate(this,rt)}open(rt){return open(this,rt)}close(rt){return close(this,rt)}topHat(rt){return topHat(this,rt)}bottomHat(rt){return bottomHat(this,rt)}morphologicalGradient(rt){return morphologicalGradient(this,rt)}clearBorder(rt){return clearBorder(this,rt)}floodFill(rt){return floodFill(this,rt)}solidFill(rt){return solidFill(this,rt)}drawPoints(rt,at={}){return drawPoints(this,rt,at)}drawLine(rt,at,lt={}){return drawLineOnMask(this,rt,at,lt)}drawPolyline(rt,at={}){return drawPolylineOnMask(this,rt,at)}drawPolygon(rt,at={}){return drawPolygonOnMask(this,rt,at)}drawRectangle(rt={}){return drawRectangle(this,rt)}copyTo(rt,at={}){return copyTo(this,rt,at)}paintMask(rt,at){return paintMaskOnMask(this,rt,at)}}function printData(_e){const rt=[];for(let at=0;at<_e.height;at++){const lt=[];for(let st=0;st<_e.width;st++)lt.push(String(_e.getBit(st,at)));rt.push(`[${lt.join(" ")}]`)}return rt.join(`
        `)}function checkChannel(_e){if(_e!==0)throw new Error(`Channel value must be 0 on type Mask, got ${_e}.`)}function copyData(_e,rt){if(rt.width!==_e.width||rt.height!==_e.height||rt.colorModel!==_e.colorModel)throw new Error("copyData: images width, height or color model is different");rt.data=_e.data.slice()}function getOutputImage(_e,rt={},at={}){const{out:lt}=rt,{newParameters:st,clone:ct}=at;if(lt===void 0)return ct?_e.clone():Image.createFrom(_e,st);{if(!(lt instanceof Image))throw new TypeError("out must be an Image object");const ut={width:_e.width,height:_e.height,depth:_e.depth,colorModel:_e.colorModel,...st};return checkRequirements(ut,lt),ct&&_e!==lt&&copyData(_e,lt),lt}}function maskToOutputImage(_e,rt={}){const{out:at}=rt;if(at===void 0)return Image.createFrom(_e,{colorModel:"GREY"});{if(!(at instanceof Image))throw new TypeError("out must be an Image object");const lt={width:_e.width,height:_e.height,depth:8,colorModel:"GREY"};return checkRequirements(lt,at),at}}function imageToOutputMask(_e,rt={}){const{out:at}=rt;if(at===void 0)return Mask.createFrom(_e);{if(!(at instanceof Mask))throw new TypeError("out must be a Mask object");const lt={width:_e.width,height:_e.height,depth:1,colorModel:"BINARY"};return checkRequirements(lt,at),at}}function checkRequirements(_e,rt){for(const at in _e){const lt=at;if(rt[lt]!==_e[lt])throw new RangeError(`cannot use out. Its ${at} property must be ${_e[lt]}. Found ${rt[lt]}`)}}function maskToOutputMask(_e,rt={},at={}){const{out:lt}=rt,{newParameters:st,clone:ct}=at;if(lt===void 0)return ct?_e.clone():Mask.createFrom(_e,st);{if(!(lt instanceof Mask))throw new TypeError("out must be a Mask object");const ut={width:_e.width,height:_e.height,depth:1,colorModel:"BINARY"};return checkRequirements(ut,lt),ct&&_e!==lt&&copyData(_e,lt),lt}}function and(_e,rt,at){const lt=maskToOutputMask(_e,at);if(_e.width!==rt.width||_e.height!==rt.height)throw new Error("and: both masks must have the same size");for(let st=0;st<lt.size;st++)_e.getBitByIndex(st)&&rt.getBitByIndex(st)?lt.setBitByIndex(st,1):lt.setBitByIndex(st,0);return lt}function checkSize(_e){if(!Number.isInteger(_e)||_e<1)throw new TypeError(`size must be a positive integer. Got ${_e}`)}function checkKernel(_e){if(_e.length===0||_e.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${_e.length}`)}function checkBorderType(_e){if(_e!=="CONSTANT"&&_e!=="CUT")throw new RangeError(`unexpected border type: ${_e}`)}function checkInputLength(_e,rt){if(_e!==rt)throw new RangeError(`input length (${_e}) does not match setup size (${rt})`)}function createArray(_e){const rt=[];for(var at=0;at<_e;at++)rt.push(0);return rt}class DirectConvolution{constructor(rt,at,lt="CONSTANT"){checkSize(rt),checkKernel(at),checkBorderType(lt),this.size=rt,this.kernelOffset=(at.length-1)/2,this.outputSize=lt==="CONSTANT"?rt:rt-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=at,this.kernelSize=at.length,this.borderType=lt}convolve(rt){return checkInputLength(rt.length,this.size),this.output.fill(0),this.borderType==="CONSTANT"?this._convolutionBorder0(rt):this._convolutionBorderCut(rt),this.output}_convolutionBorder0(rt){for(let at=0;at<this.size;at++)for(let lt=0;lt<this.kernelSize;lt++)this.output[at]+=interpolateInput(rt,at-this.kernelOffset+lt)*this.kernel[lt]}_convolutionBorderCut(rt){for(let at=this.kernelOffset;at<this.size-this.kernelOffset;at++){const lt=at-this.kernelOffset;for(let st=0;st<this.kernelSize;st++)this.output[lt]+=rt[lt+st]*this.kernel[st]}}}function interpolateInput(_e,rt){return rt<0||rt>=_e.length?0:_e[rt]}const BorderType={CONSTANT:"CONSTANT",CUT:"CUT"};function directConvolution(_e,rt,at={}){const{borderType:lt="reflect101",borderValue:st=0}=at,ct=rawDirectConvolution(_e,rt,{borderType:lt,borderValue:st}),ut=getOutputImage(_e,at),ft=getClamp(ut);for(let dt=0;dt<_e.size;dt++)for(let pt=0;pt<_e.channels;pt++){let ht=dt*_e.channels+pt,gt=round$1(ft(ct[ht]));ut.setValueByIndex(dt,pt,gt)}return ut}function rawDirectConvolution(_e,rt,at={}){const{borderType:lt="reflect101",borderValue:st=0}=at,ct=getBorderInterpolation(lt,st);let ut=new Float64Array(_e.size*_e.channels);for(let ft=0;ft<_e.channels;ft++)for(let dt=0;dt<_e.height;dt++)for(let pt=0;pt<_e.width;pt++){let ht=getIndex(pt,dt,_e,ft);ut[ht]=computeConvolutionValue(pt,dt,ft,_e,rt,ct,{returnRawValue:!0})}return ut}function separableConvolution(_e,rt,at,lt={}){const{normalize:st,borderType:ct="reflect101",borderValue:ut=0}=lt,ft=getBorderInterpolation(ct,ut);st&&([rt,at]=normalizeSeparatedKernel(rt,at));const dt=rt.length-1,pt=dt/2,gt=(at.length-1)/2,{width:mt,height:xt,channels:vt}=_e,yt=mt-dt,_t=Image.createFrom(_e),$t=getClamp(_t),Et=new DirectConvolution(mt,rt,BorderType.CUT),wt=new DirectConvolution(xt,at,BorderType.CUT),bt=new Float64Array(mt),St=new Float64Array(xt),Tt=new Float64Array(yt*xt);for(let Ct=0;Ct<vt;Ct++){for(let Mt=0;Mt<xt;Mt++){for(let Pt=0;Pt<mt;Pt++)bt[Pt]=_e.getValue(Pt,Mt,Ct);const Ot=Et.convolve(bt);for(let Pt=0;Pt<yt;Pt++)Tt[Mt*yt+Pt]=Ot[Pt]}for(let Mt=0;Mt<yt;Mt++){const Ot=Mt+pt;for(let It=0;It<xt;It++)St[It]=Tt[It*yt+Mt];const Pt=wt.convolve(St);for(let It=0;It<Pt.length;It++){const Ft=(It+gt)*mt+Ot;_t.setValueByIndex(Ft,Ct,round$1($t(Pt[It])))}}}const Rt=Matrix.rowVector(rt),At=Matrix.columnVector(at).mmul(Rt).to2DArray();for(let Ct=0;Ct<vt;Ct++)for(let Mt=0;Mt<xt;Mt++)for(let Ot=0;Ot<pt;Ot++){const Pt=Mt*mt+Ot,It=mt-Ot-1,Ft=xt-Mt-1,Wt=Ft*mt+It;_t.setValueByIndex(Pt,Ct,computeConvolutionValue(Ot,Mt,Ct,_e,At,ft,{clamp:$t})),_t.setValueByIndex(Wt,Ct,computeConvolutionValue(It,Ft,Ct,_e,At,ft,{clamp:$t}))}for(let Ct=0;Ct<vt;Ct++)for(let Mt=0;Mt<mt;Mt++)for(let Ot=0;Ot<gt;Ot++){const Pt=Ot*mt+Mt,It=mt-Mt-1,Ft=xt-Ot-1,Wt=Ft*mt+It;_t.setValueByIndex(Pt,Ct,computeConvolutionValue(Mt,Ot,Ct,_e,At,ft,{clamp:$t})),_t.setValueByIndex(Wt,Ct,computeConvolutionValue(It,Ft,Ct,_e,At,ft,{clamp:$t}))}return _t}function computeConvolutionValue(_e,rt,at,lt,st,ct,ut={}){let{returnRawValue:ft=!1,clamp:dt}=ut;ft&&(dt=void 0);let pt=0;const ht=st[0].length,gt=st.length,mt=(ht-1)/2,xt=(gt-1)/2;for(let vt=0;vt<gt;vt++)for(let yt=0;yt<ht;yt++){const _t=st[vt][yt];pt+=_t*ct(_e+yt-mt,rt+vt-xt,at,lt)}return dt?round$1(dt(pt)):pt}function normalizeSeparatedKernel(_e,rt){const at=_e.reduce((ut,ft)=>ut+ft,0),lt=rt.reduce((ut,ft)=>ut+ft,0),st=at*lt;if(st<0)throw new Error("this separated kernel cannot be normalized");const ct=1/Math.sqrt(Math.abs(st));return[_e.map(ut=>ut*ct),rt.map(ut=>ut*ct)]}function blur(_e,rt){const{width:at,height:lt}=rt,st=new Array(at).fill(1),ct=new Array(lt).fill(1);return separableConvolution(_e,st,ct,{normalize:!0,...rt})}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];function derivativeFilter(_e,rt={}){const{filter:at="sobel"}=rt;let lt=SOBEL_X,st=SOBEL_Y;switch(at){case"sobel":break;case"scharr":lt=SCHARR_X,st=SCHARR_Y;break;case"prewitt":lt=PREWITT_X,st=PREWITT_Y;break;default:throw new Error("derivativeFilter: unrecognised derivative filter.")}return _e.gradientFilter({kernelX:lt,kernelY:st,...rt})}function getRadius(_e){if(_e%2!==1||_e<0)throw new Error("size must be positive and odd");return(_e-1)/2}function gaussianBlur(_e,rt){if("sigma"in rt){const{sigma:at,size:lt=getSize(at),borderType:st}=rt,ct=getRadius(lt),ut=getKernel(ct,at);return separableConvolution(_e,ut,ut,{borderType:st})}else{const{sigmaX:at,sigmaY:lt,sizeX:st=getSize(at),sizeY:ct=getSize(lt),borderType:ut}=rt,ft=getRadius(st),dt=getRadius(ct),pt=getKernel(ft,at),ht=getKernel(dt,lt);return separableConvolution(_e,pt,ht,{borderType:ut})}}function getKernel(_e,rt){const at=_e*2+1,lt=new Array(at),st=rt||((at-1)*.5-1)*.3+.8,ct=-.5/(st*st);let ut=0;for(let ft=0;ft<at;ft++){const dt=ft-_e,pt=Math.exp(ct*dt*dt);lt[ft]=pt,ut+=pt}for(let ft=0;ft<at;ft++)lt[ft]/=ut;return lt}function getSize(_e){return 2*Math.ceil(2*_e)+1}function gradientFilter(_e,rt){const{borderType:at="replicate",borderValue:lt=0}=rt;if(checkProcessable(_e,"gradientFilter",{bitDepth:[8,16],colorModel:"GREY"}),"kernelX"in rt&&"kernelY"in rt){const{kernelX:st,kernelY:ct}=rt,ut=_e.rawDirectConvolution(st,{borderType:at,borderValue:lt}),ft=_e.rawDirectConvolution(ct,{borderType:at,borderValue:lt});let dt=new Image(_e.width,_e.height,{colorModel:"GREY"});for(let pt=0;pt<_e.size;pt++)dt.setValueByIndex(pt,0,Math.hypot(ut[pt],ft[pt]));return dt}else{if("kernelX"in rt)return _e.directConvolution(rt.kernelX,{borderType:at,borderValue:lt});if("kernelY"in rt)return _e.directConvolution(rt.kernelY,{borderType:at,borderValue:lt});throw new Error("kernelX and KernelY are not defined")}}function hypotenuse(_e,rt,at={}){let{depth:lt=_e.depth,channels:st=[]}=at;for(let ut=0;ut<_e.components;ut++)st.push(ut);if(checkProcessable(_e,"hypotenuse",{bitDepth:[8,16]}),_e.width!==rt.width||_e.height!==rt.height)throw new Error("hypotenuse: both images must have the same size");if(_e.alpha!==rt.alpha||_e.depth!==rt.depth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(_e.channels!==rt.channels)throw new Error("hypotenuse: both images must have the same number of channels");validateChannels(st,_e);let ct=Image.createFrom(_e,{depth:lt});for(const ut of st)for(let ft=0;ft<_e.size;ft++){let dt=Math.hypot(_e.getValueByIndex(ft,ut),rt.getValueByIndex(ft,ut));ct.setValueByIndex(ft,ut,dt>ct.maxValue?ct.maxValue:dt)}return ct}function invert(_e,rt){if(_e instanceof Image){const at=getOutputImage(_e,rt);_e.alpha&&copyAlpha(_e,at);const{maxValue:lt,size:st}=at;for(let ct=0;ct<st;ct++)for(let ut=0;ut<_e.components;ut++)at.setValueByIndex(ct,ut,lt-_e.getValueByIndex(ct,ut));return at}else{const at=maskToOutputMask(_e,rt);for(let lt=0;lt<at.size;lt++)at.setBitByIndex(lt,!_e.getBitByIndex(lt));return at}}function level(_e,rt={}){let{inputMin:at=0,inputMax:lt=_e.maxValue,outputMin:st=0,outputMax:ct=_e.maxValue,gamma:ut=1,channels:ft=new Array(_e.components).fill(0).map((ht,gt)=>gt)}=rt;validateChannels(ft,_e),checkProcessable(_e,"level",{bitDepth:[8,16]});let dt=getOutputImage(_e,rt,{clone:!0});const pt=getClamp(_e);for(let ht=0;ht<_e.height;ht++)for(let gt=0;gt<_e.width;gt++)for(let mt of ft){let xt=_e.getValue(gt,ht,mt),vt=Math.max(Math.min(xt,lt),at);const yt=pt((vt-at)/(lt-at)),_t=pt(yt**(1/ut)*(ct-st)+st);dt.setValue(gt,ht,mt,_t)}return dt}function or(_e,rt,at){const lt=maskToOutputMask(_e,at);if(_e.width!==rt.width||_e.height!==rt.height)throw new Error("or: both masks must have the same size");for(let st=0;st<lt.size;st++)_e.getBitByIndex(st)||rt.getBitByIndex(st)?lt.setBitByIndex(st,1):lt.setBitByIndex(st,0);return lt}function flipX(_e){checkProcessable(_e,"flipX",{bitDepth:[8,16]});for(let rt=0;rt<_e.height;rt++)for(let at=0;at<Math.floor(_e.width/2);at++){const lt=at,st=_e.width-at-1;for(let ct=0;ct<_e.channels;ct++){const ut=_e.getValue(lt,rt,ct);_e.setValue(lt,rt,ct,_e.getValue(st,rt,ct)),_e.setValue(st,rt,ct,ut)}}return _e}function flipY(_e){checkProcessable(_e,"flipY",{bitDepth:[8,16]});for(let rt=0;rt<Math.floor(_e.height/2);rt++)for(let at=0;at<_e.width;at++){const lt=rt,st=_e.height-rt-1;for(let ct=0;ct<_e.channels;ct++){const ut=_e.getValue(at,lt,ct);_e.setValue(at,lt,ct,_e.getValue(at,st,ct)),_e.setValue(at,st,ct,ut)}}return _e}function flip$2(_e,rt={}){const{axis:at="horizontal"}=rt;let lt=getOutputImage(_e,rt,{clone:!0});return at==="horizontal"?flipX(lt):flipY(at==="vertical"?lt:flipX(lt))}var imageTypeExports={},imageType$1={get exports(){return imageTypeExports},set exports(_e){imageTypeExports=_e}},fileTypeExports={},fileType$1={get exports(){return fileTypeExports},set exports(_e){fileTypeExports=_e}};(function(module){const toBytes=_e=>[..._e].map(rt=>rt.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(_e,rt=0){let at=_e[rt],lt=1,st=0;for(;++st<8;)lt*=256,at+=_e[rt+st]*lt;return at}const fileType=_e=>{if(!(_e instanceof Uint8Array||_e instanceof ArrayBuffer||Buffer.isBuffer(_e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof _e}\``);const rt=_e instanceof Uint8Array?_e:new Uint8Array(_e);if(!(rt&&rt.length>1))return null;const at=(st,ct)=>{ct=Object.assign({offset:0},ct);for(let ut=0;ut<st.length;ut++)if(ct.mask){if(st[ut]!==(ct.mask[ut]&rt[ut+ct.offset]))return!1}else if(st[ut]!==rt[ut+ct.offset])return!1;return!0},lt=(st,ct)=>at(toBytes(st),ct);if(at([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(at([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(at([71,73,70]))return{ext:"gif",mime:"image/gif"};if(at([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(at([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((at([73,73,42,0])||at([77,77,0,42]))&&at([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(at([73,73,42,0])||at([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(at([66,77]))return{ext:"bmp",mime:"image/bmp"};if(at([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(at([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(at([80,75,3,4])){if(at([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(at(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(lt("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(lt("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(lt("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const st=(dt,pt=0)=>dt.findIndex((ht,gt,mt)=>gt>=pt&&mt[gt]===80&&mt[gt+1]===75&&mt[gt+2]===3&&mt[gt+3]===4);let ct=0,ut=!1,ft=null;do{const dt=ct+30;if(ut||(ut=at(oxmlContentTypes,{offset:dt})||at(oxmlRels,{offset:dt})),ft||(lt("word/",{offset:dt})?ft={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:lt("ppt/",{offset:dt})?ft={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:lt("xl/",{offset:dt})&&(ft={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ut&&ft)return ft;ct=st(rt,dt)}while(ct>=0);if(ft)return ft}if(at([80,75])&&(rt[2]===3||rt[2]===5||rt[2]===7)&&(rt[3]===4||rt[3]===6||rt[3]===8))return{ext:"zip",mime:"application/zip"};if(at([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(at([82,97,114,33,26,7])&&(rt[6]===0||rt[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(at([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(at([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(at([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(at([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(at([51,103,112,53])||at([0,0,0])&&at([102,116,121,112],{offset:4})&&(at([109,112,52,49],{offset:8})||at([109,112,52,50],{offset:8})||at([105,115,111,109],{offset:8})||at([105,115,111,50],{offset:8})||at([109,109,112,52],{offset:8})||at([77,52,86],{offset:8})||at([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(at([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(at([26,69,223,163])){const st=rt.subarray(4,4100),ct=st.findIndex((ut,ft,dt)=>dt[ft]===66&&dt[ft+1]===130);if(ct!==-1){const ut=ct+3,ft=dt=>[...dt].every((pt,ht)=>st[ut+ht]===pt.charCodeAt(0));if(ft("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(ft("webm"))return{ext:"webm",mime:"video/webm"}}}if(at([0,0,0,20,102,116,121,112,113,116,32,32])||at([102,114,101,101],{offset:4})||at([102,116,121,112,113,116,32,32],{offset:4})||at([109,100,97,116],{offset:4})||at([109,111,111,118],{offset:4})||at([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(at([82,73,70,70])){if(at([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(at([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(at([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(at([48,38,178,117,142,102,207,17,166,217])){let st=30;do{const ct=readUInt64LE(rt,st+16);if(at([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:st})){if(at([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:st+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(at([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:st+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}st+=ct}while(st+24<=rt.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(at([0,0,1,186])||at([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(at([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let st=0;st<2&&st<rt.length-16;st++){if(at([73,68,51],{offset:st})||at([255,226],{offset:st,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(at([255,228],{offset:st,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(at([255,248],{offset:st,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(at([255,240],{offset:st,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(at([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(at([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(at([79,103,103,83]))return at([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:at([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:at([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:at([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:at([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(at([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(at([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(at([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(at([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(at([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(at([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((rt[0]===67||rt[0]===70)&&at([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(at([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(at([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(at([119,79,70,70])&&(at([0,1,0,0],{offset:4})||at([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(at([119,79,70,50])&&(at([0,1,0,0],{offset:4})||at([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(at([76,80],{offset:34})&&(at([0,0,1],{offset:8})||at([1,0,2],{offset:8})||at([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(at([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(at([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(at([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(at([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(at([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(at([37,33]))return{ext:"ps",mime:"application/postscript"};if(at([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(at([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(at([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(at([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(at([77,83,67,70])||at([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(at([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(at([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(at([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(at([31,160])||at([31,157]))return{ext:"Z",mime:"application/x-compress"};if(at([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(at([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(at([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(at([71],{offset:4})&&(at([71],{offset:192})||at([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(at([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(at([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(at([0,0,0,12,106,80,32,32,13,10,135,10])){if(at([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(at([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(at([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(at([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(at([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(lt("<?xml "))return{ext:"xml",mime:"application/xml"};if(at([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(at([102,116,121,112],{offset:4})){if(at([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(at([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(at([104,101,105,99],{offset:8})||at([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(at([104,101,118,99],{offset:8})||at([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return at([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:at([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:at([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:at([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:at([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:at([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:at([212,195,178,161])||at([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const _e=new stream.PassThrough,rt=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{_e.fileType=fileType(rt)}catch(at){reject(at)}readableStream.unshift(rt),stream.pipeline?resolve(stream.pipeline(readableStream,_e,()=>{})):resolve(readableStream.pipe(_e))})})})(fileType$1);const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=_e=>{const rt=fileType(_e);return imageExts.has(rt&&rt.ext)?rt:null};imageType$1.exports=imageType;imageTypeExports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var encoderExports={},encoder$1={get exports(){return encoderExports},set exports(_e){encoderExports=_e}};(function(_e){function rt(lt){var st=Math.floor,ct=new Array(64),ut=new Array(64),ft=new Array(64),dt=new Array(64),pt,ht,gt,mt,xt=new Array(65535),vt=new Array(65535),yt=new Array(64),_t=new Array(64),$t=[],Et=0,wt=7,bt=new Array(64),St=new Array(64),Tt=new Array(64),Rt=new Array(256),kt=new Array(2048),At,Ct=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Mt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],Pt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],It=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ft=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Wt=[0,1,2,3,4,5,6,7,8,9,10,11],Xt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Lt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Bt(Nt){for(var Vt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Jt=0;Jt<64;Jt++){var mn=st((Vt[Jt]*Nt+50)/100);mn<1?mn=1:mn>255&&(mn=255),ct[Ct[Jt]]=mn}for(var yn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Kt=0;Kt<64;Kt++){var sn=st((yn[Kt]*Nt+50)/100);sn<1?sn=1:sn>255&&(sn=255),ut[Ct[Kt]]=sn}for(var ln=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],gn=0,_n=0;_n<8;_n++)for(var bn=0;bn<8;bn++)ft[gn]=1/(ct[Ct[gn]]*ln[_n]*ln[bn]*8),dt[gn]=1/(ut[Ct[gn]]*ln[_n]*ln[bn]*8),gn++}function Ut(Nt,Vt){for(var Jt=0,mn=0,yn=new Array,Kt=1;Kt<=16;Kt++){for(var sn=1;sn<=Nt[Kt];sn++)yn[Vt[mn]]=[],yn[Vt[mn]][0]=Jt,yn[Vt[mn]][1]=Kt,mn++,Jt++;Jt*=2}return yn}function dn(){pt=Ut(Mt,Ot),ht=Ut(Ft,Wt),gt=Ut(Pt,It),mt=Ut(Xt,Lt)}function Zt(){for(var Nt=1,Vt=2,Jt=1;Jt<=15;Jt++){for(var mn=Nt;mn<Vt;mn++)vt[32767+mn]=Jt,xt[32767+mn]=[],xt[32767+mn][1]=Jt,xt[32767+mn][0]=mn;for(var yn=-(Vt-1);yn<=-Nt;yn++)vt[32767+yn]=Jt,xt[32767+yn]=[],xt[32767+yn][1]=Jt,xt[32767+yn][0]=Vt-1+yn;Nt<<=1,Vt<<=1}}function cn(){for(var Nt=0;Nt<256;Nt++)kt[Nt]=19595*Nt,kt[Nt+256>>0]=38470*Nt,kt[Nt+512>>0]=7471*Nt+32768,kt[Nt+768>>0]=-11059*Nt,kt[Nt+1024>>0]=-21709*Nt,kt[Nt+1280>>0]=32768*Nt+8421375,kt[Nt+1536>>0]=-27439*Nt,kt[Nt+1792>>0]=-5329*Nt}function Gt(Nt){for(var Vt=Nt[0],Jt=Nt[1]-1;Jt>=0;)Vt&1<<Jt&&(Et|=1<<wt),Jt--,wt--,wt<0&&(Et==255?(Yt(255),Yt(0)):Yt(Et),wt=7,Et=0)}function Yt(Nt){$t.push(Nt)}function pn(Nt){Yt(Nt>>8&255),Yt(Nt&255)}function $n(Nt,Vt){var Jt,mn,yn,Kt,sn,ln,gn,_n,bn=0,Tn,Rn=8,Cn=64;for(Tn=0;Tn<Rn;++Tn){Jt=Nt[bn],mn=Nt[bn+1],yn=Nt[bn+2],Kt=Nt[bn+3],sn=Nt[bn+4],ln=Nt[bn+5],gn=Nt[bn+6],_n=Nt[bn+7];var kn=Jt+_n,Mn=Jt-_n,An=mn+gn,Pn=mn-gn,On=yn+ln,Nn=yn-ln,Ln=Kt+sn,Yn=Kt-sn,In=kn+Ln,Fn=kn-Ln,Bn=An+On,Dn=An-On;Nt[bn]=In+Bn,Nt[bn+4]=In-Bn;var jn=(Dn+Fn)*.707106781;Nt[bn+2]=Fn+jn,Nt[bn+6]=Fn-jn,In=Yn+Nn,Bn=Nn+Pn,Dn=Pn+Mn;var zn=(In-Dn)*.382683433,Un=.5411961*In+zn,Xn=1.306562965*Dn+zn,Qn=Bn*.707106781,Jn=Mn+Qn,er=Mn-Qn;Nt[bn+5]=er+Un,Nt[bn+3]=er-Un,Nt[bn+1]=Jn+Xn,Nt[bn+7]=Jn-Xn,bn+=8}for(bn=0,Tn=0;Tn<Rn;++Tn){Jt=Nt[bn],mn=Nt[bn+8],yn=Nt[bn+16],Kt=Nt[bn+24],sn=Nt[bn+32],ln=Nt[bn+40],gn=Nt[bn+48],_n=Nt[bn+56];var tr=Jt+_n,Kn=Jt-_n,nr=mn+gn,rr=mn-gn,ir=yn+ln,ar=yn-ln,lr=Kt+sn,vr=Kt-sn,Vn=tr+lr,qn=tr-lr,Hn=nr+ir,Gn=nr-ir;Nt[bn]=Vn+Hn,Nt[bn+32]=Vn-Hn;var sr=(Gn+qn)*.707106781;Nt[bn+16]=qn+sr,Nt[bn+48]=qn-sr,Vn=vr+ar,Hn=ar+rr,Gn=rr+Kn;var cr=(Vn-Gn)*.382683433,ur=.5411961*Vn+cr,fr=1.306562965*Gn+cr,dr=Hn*.707106781,pr=Kn+dr,hr=Kn-dr;Nt[bn+40]=hr+ur,Nt[bn+24]=hr-ur,Nt[bn+8]=pr+fr,Nt[bn+56]=pr-fr,bn++}var Wn;for(Tn=0;Tn<Cn;++Tn)Wn=Nt[Tn]*Vt[Tn],yt[Tn]=Wn>0?Wn+.5|0:Wn-.5|0;return yt}function Sn(){pn(65504),pn(16),Yt(74),Yt(70),Yt(73),Yt(70),Yt(0),Yt(1),Yt(1),Yt(0),pn(1),pn(1),Yt(0),Yt(0)}function Qt(Nt){if(Nt){pn(65505),Nt[0]===69&&Nt[1]===120&&Nt[2]===105&&Nt[3]===102?pn(Nt.length+2):(pn(Nt.length+5+2),Yt(69),Yt(120),Yt(105),Yt(102),Yt(0));for(var Vt=0;Vt<Nt.length;Vt++)Yt(Nt[Vt])}}function vn(Nt,Vt){pn(65472),pn(17),Yt(8),pn(Vt),pn(Nt),Yt(3),Yt(1),Yt(17),Yt(0),Yt(2),Yt(17),Yt(1),Yt(3),Yt(17),Yt(1)}function wn(){pn(65499),pn(132),Yt(0);for(var Nt=0;Nt<64;Nt++)Yt(ct[Nt]);Yt(1);for(var Vt=0;Vt<64;Vt++)Yt(ut[Vt])}function qt(){pn(65476),pn(418),Yt(0);for(var Nt=0;Nt<16;Nt++)Yt(Mt[Nt+1]);for(var Vt=0;Vt<=11;Vt++)Yt(Ot[Vt]);Yt(16);for(var Jt=0;Jt<16;Jt++)Yt(Pt[Jt+1]);for(var mn=0;mn<=161;mn++)Yt(It[mn]);Yt(1);for(var yn=0;yn<16;yn++)Yt(Ft[yn+1]);for(var Kt=0;Kt<=11;Kt++)Yt(Wt[Kt]);Yt(17);for(var sn=0;sn<16;sn++)Yt(Xt[sn+1]);for(var ln=0;ln<=161;ln++)Yt(Lt[ln])}function En(Nt){typeof Nt>"u"||Nt.constructor!==Array||Nt.forEach(Vt=>{if(typeof Vt=="string"){pn(65534);var Jt=Vt.length;pn(Jt+2);var mn;for(mn=0;mn<Jt;mn++)Yt(Vt.charCodeAt(mn))}})}function xn(){pn(65498),pn(12),Yt(3),Yt(1),Yt(0),Yt(2),Yt(17),Yt(3),Yt(17),Yt(0),Yt(63),Yt(0)}function hn(Nt,Vt,Jt,mn,yn){for(var Kt=yn[0],sn=yn[240],ln,gn=16,_n=63,bn=64,Tn=$n(Nt,Vt),Rn=0;Rn<bn;++Rn)_t[Ct[Rn]]=Tn[Rn];var Cn=_t[0]-Jt;Jt=_t[0],Cn==0?Gt(mn[0]):(ln=32767+Cn,Gt(mn[vt[ln]]),Gt(xt[ln]));for(var kn=63;kn>0&&_t[kn]==0;kn--);if(kn==0)return Gt(Kt),Jt;for(var Mn=1,An;Mn<=kn;){for(var Pn=Mn;_t[Mn]==0&&Mn<=kn;++Mn);var On=Mn-Pn;if(On>=gn){An=On>>4;for(var Nn=1;Nn<=An;++Nn)Gt(sn);On=On&15}ln=32767+_t[Mn],Gt(yn[(On<<4)+vt[ln]]),Gt(xt[ln]),Mn++}return kn!=_n&&Gt(Kt),Jt}function jt(){for(var Nt=String.fromCharCode,Vt=0;Vt<256;Vt++)Rt[Vt]=Nt(Vt)}this.encode=function(Nt,Vt){new Date().getTime(),Vt&&Dt(Vt),$t=new Array,Et=0,wt=7,pn(65496),Sn(),En(Nt.comments),Qt(Nt.exifBuffer),wn(),vn(Nt.width,Nt.height),qt(),xn();var Jt=0,mn=0,yn=0;Et=0,wt=7,this.encode.displayName="_encode_";for(var Kt=Nt.data,sn=Nt.width,ln=Nt.height,gn=sn*4,_n,bn=0,Tn,Rn,Cn,kn,Mn,An,Pn,On;bn<ln;){for(_n=0;_n<gn;){for(kn=gn*bn+_n,Mn=kn,An=-1,Pn=0,On=0;On<64;On++)Pn=On>>3,An=(On&7)*4,Mn=kn+Pn*gn+An,bn+Pn>=ln&&(Mn-=gn*(bn+1+Pn-ln)),_n+An>=gn&&(Mn-=_n+An-gn+4),Tn=Kt[Mn++],Rn=Kt[Mn++],Cn=Kt[Mn++],bt[On]=(kt[Tn]+kt[Rn+256>>0]+kt[Cn+512>>0]>>16)-128,St[On]=(kt[Tn+768>>0]+kt[Rn+1024>>0]+kt[Cn+1280>>0]>>16)-128,Tt[On]=(kt[Tn+1280>>0]+kt[Rn+1536>>0]+kt[Cn+1792>>0]>>16)-128;Jt=hn(bt,ft,Jt,pt,gt),mn=hn(St,dt,mn,ht,mt),yn=hn(Tt,dt,yn,ht,mt),_n+=32}bn+=8}if(wt>=0){var Nn=[];Nn[1]=wt+1,Nn[0]=(1<<wt+1)-1,Gt(Nn)}return pn(65497),Buffer.from($t)};function Dt(Nt){if(Nt<=0&&(Nt=1),Nt>100&&(Nt=100),At!=Nt){var Vt=0;Nt<50?Vt=Math.floor(5e3/Nt):Vt=Math.floor(200-Nt*2),Bt(Vt),At=Nt}}function zt(){var Nt=new Date().getTime();lt||(lt=50),jt(),dn(),Zt(),cn(),Dt(lt),new Date().getTime()-Nt}zt()}_e.exports=at;function at(lt,st){typeof st>"u"&&(st=50);var ct=new rt(st),ut=ct.encode(lt,st);return{data:ut,width:lt.width,height:lt.height}}})(encoder$1);var decoderExports={},decoder={get exports(){return decoderExports},set exports(_e){decoderExports=_e}};(function(_e){var rt=function(){var st=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ct=4017,ut=799,ft=3406,dt=2276,pt=1567,ht=3784,gt=5793,mt=2896;function xt(){}function vt(St,Tt){for(var Rt=0,kt=[],At,Ct,Mt=16;Mt>0&&!St[Mt-1];)Mt--;kt.push({children:[],index:0});var Ot=kt[0],Pt;for(At=0;At<Mt;At++){for(Ct=0;Ct<St[At];Ct++){for(Ot=kt.pop(),Ot.children[Ot.index]=Tt[Rt];Ot.index>0;){if(kt.length===0)throw new Error("Could not recreate Huffman Table");Ot=kt.pop()}for(Ot.index++,kt.push(Ot);kt.length<=At;)kt.push(Pt={children:[],index:0}),Ot.children[Ot.index]=Pt.children,Ot=Pt;Rt++}At+1<Mt&&(kt.push(Pt={children:[],index:0}),Ot.children[Ot.index]=Pt.children,Ot=Pt)}return kt[0].children}function yt(St,Tt,Rt,kt,At,Ct,Mt,Ot,Pt,It){Rt.precision,Rt.samplesPerLine,Rt.scanLines;var Ft=Rt.mcusPerLine,Wt=Rt.progressive;Rt.maxH,Rt.maxV;var Xt=Tt,Lt=0,Bt=0;function Ut(){if(Bt>0)return Bt--,Lt>>Bt&1;if(Lt=St[Tt++],Lt==255){var ln=St[Tt++];if(ln)throw new Error("unexpected marker: "+(Lt<<8|ln).toString(16))}return Bt=7,Lt>>>7}function dn(ln){for(var gn=ln,_n;(_n=Ut())!==null;){if(gn=gn[_n],typeof gn=="number")return gn;if(typeof gn!="object")throw new Error("invalid huffman sequence")}return null}function Zt(ln){for(var gn=0;ln>0;){var _n=Ut();if(_n===null)return;gn=gn<<1|_n,ln--}return gn}function cn(ln){var gn=Zt(ln);return gn>=1<<ln-1?gn:gn+(-1<<ln)+1}function Gt(ln,gn){var _n=dn(ln.huffmanTableDC),bn=_n===0?0:cn(_n);gn[0]=ln.pred+=bn;for(var Tn=1;Tn<64;){var Rn=dn(ln.huffmanTableAC),Cn=Rn&15,kn=Rn>>4;if(Cn===0){if(kn<15)break;Tn+=16;continue}Tn+=kn;var Mn=st[Tn];gn[Mn]=cn(Cn),Tn++}}function Yt(ln,gn){var _n=dn(ln.huffmanTableDC),bn=_n===0?0:cn(_n)<<Pt;gn[0]=ln.pred+=bn}function pn(ln,gn){gn[0]|=Ut()<<Pt}var $n=0;function Sn(ln,gn){if($n>0){$n--;return}for(var _n=Ct,bn=Mt;_n<=bn;){var Tn=dn(ln.huffmanTableAC),Rn=Tn&15,Cn=Tn>>4;if(Rn===0){if(Cn<15){$n=Zt(Cn)+(1<<Cn)-1;break}_n+=16;continue}_n+=Cn;var kn=st[_n];gn[kn]=cn(Rn)*(1<<Pt),_n++}}var Qt=0,vn;function wn(ln,gn){for(var _n=Ct,bn=Mt,Tn=0;_n<=bn;){var Rn=st[_n],Cn=gn[Rn]<0?-1:1;switch(Qt){case 0:var kn=dn(ln.huffmanTableAC),Mn=kn&15,Tn=kn>>4;if(Mn===0)Tn<15?($n=Zt(Tn)+(1<<Tn),Qt=4):(Tn=16,Qt=1);else{if(Mn!==1)throw new Error("invalid ACn encoding");vn=cn(Mn),Qt=Tn?2:3}continue;case 1:case 2:gn[Rn]?gn[Rn]+=(Ut()<<Pt)*Cn:(Tn--,Tn===0&&(Qt=Qt==2?3:0));break;case 3:gn[Rn]?gn[Rn]+=(Ut()<<Pt)*Cn:(gn[Rn]=vn<<Pt,Qt=0);break;case 4:gn[Rn]&&(gn[Rn]+=(Ut()<<Pt)*Cn);break}_n++}Qt===4&&($n--,$n===0&&(Qt=0))}function qt(ln,gn,_n,bn,Tn){var Rn=_n/Ft|0,Cn=_n%Ft,kn=Rn*ln.v+bn,Mn=Cn*ln.h+Tn;ln.blocks[kn]===void 0&&It.tolerantDecoding||gn(ln,ln.blocks[kn][Mn])}function En(ln,gn,_n){var bn=_n/ln.blocksPerLine|0,Tn=_n%ln.blocksPerLine;ln.blocks[bn]===void 0&&It.tolerantDecoding||gn(ln,ln.blocks[bn][Tn])}var xn=kt.length,hn,jt,Dt,zt,Nt,Vt;Wt?Ct===0?Vt=Ot===0?Yt:pn:Vt=Ot===0?Sn:wn:Vt=Gt;var Jt=0,mn,yn;xn==1?yn=kt[0].blocksPerLine*kt[0].blocksPerColumn:yn=Ft*Rt.mcusPerColumn,At||(At=yn);for(var Kt,sn;Jt<yn;){for(jt=0;jt<xn;jt++)kt[jt].pred=0;if($n=0,xn==1)for(hn=kt[0],Nt=0;Nt<At;Nt++)En(hn,Vt,Jt),Jt++;else for(Nt=0;Nt<At;Nt++){for(jt=0;jt<xn;jt++)for(hn=kt[jt],Kt=hn.h,sn=hn.v,Dt=0;Dt<sn;Dt++)for(zt=0;zt<Kt;zt++)qt(hn,Vt,Jt,Dt,zt);if(Jt++,Jt===yn)break}if(Jt===yn)do{if(St[Tt]===255&&St[Tt+1]!==0)break;Tt+=1}while(Tt<St.length-2);if(Bt=0,mn=St[Tt]<<8|St[Tt+1],mn<65280)throw new Error("marker was not found");if(mn>=65488&&mn<=65495)Tt+=2;else break}return Tt-Xt}function _t(St,Tt){var Rt=[],kt=Tt.blocksPerLine,At=Tt.blocksPerColumn,Ct=kt<<3,Mt=new Int32Array(64),Ot=new Uint8Array(64);function Pt(Zt,cn,Gt){var Yt=Tt.quantizationTable,pn,$n,Sn,Qt,vn,wn,qt,En,xn,hn=Gt,jt;for(jt=0;jt<64;jt++)hn[jt]=Zt[jt]*Yt[jt];for(jt=0;jt<8;++jt){var Dt=8*jt;if(hn[1+Dt]==0&&hn[2+Dt]==0&&hn[3+Dt]==0&&hn[4+Dt]==0&&hn[5+Dt]==0&&hn[6+Dt]==0&&hn[7+Dt]==0){xn=gt*hn[0+Dt]+512>>10,hn[0+Dt]=xn,hn[1+Dt]=xn,hn[2+Dt]=xn,hn[3+Dt]=xn,hn[4+Dt]=xn,hn[5+Dt]=xn,hn[6+Dt]=xn,hn[7+Dt]=xn;continue}pn=gt*hn[0+Dt]+128>>8,$n=gt*hn[4+Dt]+128>>8,Sn=hn[2+Dt],Qt=hn[6+Dt],vn=mt*(hn[1+Dt]-hn[7+Dt])+128>>8,En=mt*(hn[1+Dt]+hn[7+Dt])+128>>8,wn=hn[3+Dt]<<4,qt=hn[5+Dt]<<4,xn=pn-$n+1>>1,pn=pn+$n+1>>1,$n=xn,xn=Sn*ht+Qt*pt+128>>8,Sn=Sn*pt-Qt*ht+128>>8,Qt=xn,xn=vn-qt+1>>1,vn=vn+qt+1>>1,qt=xn,xn=En+wn+1>>1,wn=En-wn+1>>1,En=xn,xn=pn-Qt+1>>1,pn=pn+Qt+1>>1,Qt=xn,xn=$n-Sn+1>>1,$n=$n+Sn+1>>1,Sn=xn,xn=vn*dt+En*ft+2048>>12,vn=vn*ft-En*dt+2048>>12,En=xn,xn=wn*ut+qt*ct+2048>>12,wn=wn*ct-qt*ut+2048>>12,qt=xn,hn[0+Dt]=pn+En,hn[7+Dt]=pn-En,hn[1+Dt]=$n+qt,hn[6+Dt]=$n-qt,hn[2+Dt]=Sn+wn,hn[5+Dt]=Sn-wn,hn[3+Dt]=Qt+vn,hn[4+Dt]=Qt-vn}for(jt=0;jt<8;++jt){var zt=jt;if(hn[8+zt]==0&&hn[16+zt]==0&&hn[24+zt]==0&&hn[32+zt]==0&&hn[40+zt]==0&&hn[48+zt]==0&&hn[56+zt]==0){xn=gt*Gt[jt+0]+8192>>14,hn[0+zt]=xn,hn[8+zt]=xn,hn[16+zt]=xn,hn[24+zt]=xn,hn[32+zt]=xn,hn[40+zt]=xn,hn[48+zt]=xn,hn[56+zt]=xn;continue}pn=gt*hn[0+zt]+2048>>12,$n=gt*hn[32+zt]+2048>>12,Sn=hn[16+zt],Qt=hn[48+zt],vn=mt*(hn[8+zt]-hn[56+zt])+2048>>12,En=mt*(hn[8+zt]+hn[56+zt])+2048>>12,wn=hn[24+zt],qt=hn[40+zt],xn=pn-$n+1>>1,pn=pn+$n+1>>1,$n=xn,xn=Sn*ht+Qt*pt+2048>>12,Sn=Sn*pt-Qt*ht+2048>>12,Qt=xn,xn=vn-qt+1>>1,vn=vn+qt+1>>1,qt=xn,xn=En+wn+1>>1,wn=En-wn+1>>1,En=xn,xn=pn-Qt+1>>1,pn=pn+Qt+1>>1,Qt=xn,xn=$n-Sn+1>>1,$n=$n+Sn+1>>1,Sn=xn,xn=vn*dt+En*ft+2048>>12,vn=vn*ft-En*dt+2048>>12,En=xn,xn=wn*ut+qt*ct+2048>>12,wn=wn*ct-qt*ut+2048>>12,qt=xn,hn[0+zt]=pn+En,hn[56+zt]=pn-En,hn[8+zt]=$n+qt,hn[48+zt]=$n-qt,hn[16+zt]=Sn+wn,hn[40+zt]=Sn-wn,hn[24+zt]=Qt+vn,hn[32+zt]=Qt-vn}for(jt=0;jt<64;++jt){var Nt=128+(hn[jt]+8>>4);cn[jt]=Nt<0?0:Nt>255?255:Nt}}bt(Ct*At*8);for(var It,Ft,Wt=0;Wt<At;Wt++){var Xt=Wt<<3;for(It=0;It<8;It++)Rt.push(new Uint8Array(Ct));for(var Lt=0;Lt<kt;Lt++){Pt(Tt.blocks[Wt][Lt],Ot,Mt);var Bt=0,Ut=Lt<<3;for(Ft=0;Ft<8;Ft++){var dn=Rt[Xt+Ft];for(It=0;It<8;It++)dn[Ut+It]=Ot[Bt++]}}}return Rt}function $t(St){return St<0?0:St>255?255:St}xt.prototype={load:function(Tt){var Rt=new XMLHttpRequest;Rt.open("GET",Tt,!0),Rt.responseType="arraybuffer",Rt.onload=function(){var kt=new Uint8Array(Rt.response||Rt.mozResponseArrayBuffer);this.parse(kt),this.onload&&this.onload()}.bind(this),Rt.send(null)},parse:function(Tt){var Rt=this.opts.maxResolutionInMP*1e3*1e3,kt=0;Tt.length;function At(){var Cn=Tt[kt]<<8|Tt[kt+1];return kt+=2,Cn}function Ct(){var Cn=At(),kn=Tt.subarray(kt,kt+Cn-2);return kt+=kn.length,kn}function Mt(Cn){var kn=1,Mn=1,An,Pn;for(Pn in Cn.components)Cn.components.hasOwnProperty(Pn)&&(An=Cn.components[Pn],kn<An.h&&(kn=An.h),Mn<An.v&&(Mn=An.v));var On=Math.ceil(Cn.samplesPerLine/8/kn),Nn=Math.ceil(Cn.scanLines/8/Mn);for(Pn in Cn.components)if(Cn.components.hasOwnProperty(Pn)){An=Cn.components[Pn];var Ln=Math.ceil(Math.ceil(Cn.samplesPerLine/8)*An.h/kn),Yn=Math.ceil(Math.ceil(Cn.scanLines/8)*An.v/Mn),In=On*An.h,Fn=Nn*An.v,Bn=Fn*In,Dn=[];bt(Bn*256);for(var jn=0;jn<Fn;jn++){for(var zn=[],Un=0;Un<In;Un++)zn.push(new Int32Array(64));Dn.push(zn)}An.blocksPerLine=Ln,An.blocksPerColumn=Yn,An.blocks=Dn}Cn.maxH=kn,Cn.maxV=Mn,Cn.mcusPerLine=On,Cn.mcusPerColumn=Nn}var Ot=null,Pt=null,It,Ft,Wt=[],Xt=[],Lt=[],Bt=[],Ut=At(),dn=-1;if(this.comments=[],Ut!=65496)throw new Error("SOI not found");for(Ut=At();Ut!=65497;){var Zt,cn;switch(Ut){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Gt=Ct();if(Ut===65534){var Yt=String.fromCharCode.apply(null,Gt);this.comments.push(Yt)}Ut===65504&&Gt[0]===74&&Gt[1]===70&&Gt[2]===73&&Gt[3]===70&&Gt[4]===0&&(Ot={version:{major:Gt[5],minor:Gt[6]},densityUnits:Gt[7],xDensity:Gt[8]<<8|Gt[9],yDensity:Gt[10]<<8|Gt[11],thumbWidth:Gt[12],thumbHeight:Gt[13],thumbData:Gt.subarray(14,14+3*Gt[12]*Gt[13])}),Ut===65505&&Gt[0]===69&&Gt[1]===120&&Gt[2]===105&&Gt[3]===102&&Gt[4]===0&&(this.exifBuffer=Gt.subarray(5,Gt.length)),Ut===65518&&Gt[0]===65&&Gt[1]===100&&Gt[2]===111&&Gt[3]===98&&Gt[4]===101&&Gt[5]===0&&(Pt={version:Gt[6],flags0:Gt[7]<<8|Gt[8],flags1:Gt[9]<<8|Gt[10],transformCode:Gt[11]});break;case 65499:for(var pn=At(),$n=pn+kt-2;kt<$n;){var Sn=Tt[kt++];bt(256);var Qt=new Int32Array(64);if(Sn>>4)if(Sn>>4===1)for(cn=0;cn<64;cn++){var vn=st[cn];Qt[vn]=At()}else throw new Error("DQT: invalid table spec");else for(cn=0;cn<64;cn++){var vn=st[cn];Qt[vn]=Tt[kt++]}Wt[Sn&15]=Qt}break;case 65472:case 65473:case 65474:At(),It={},It.extended=Ut===65473,It.progressive=Ut===65474,It.precision=Tt[kt++],It.scanLines=At(),It.samplesPerLine=At(),It.components={},It.componentsOrder=[];var wn=It.scanLines*It.samplesPerLine;if(wn>Rt){var qt=Math.ceil((wn-Rt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${qt}MP`)}var En=Tt[kt++],xn;for(Zt=0;Zt<En;Zt++){xn=Tt[kt];var hn=Tt[kt+1]>>4,jt=Tt[kt+1]&15,Dt=Tt[kt+2];if(hn<=0||jt<=0)throw new Error("Invalid sampling factor, expected values above 0");It.componentsOrder.push(xn),It.components[xn]={h:hn,v:jt,quantizationIdx:Dt},kt+=3}Mt(It),Xt.push(It);break;case 65476:var zt=At();for(Zt=2;Zt<zt;){var Nt=Tt[kt++],Vt=new Uint8Array(16),Jt=0;for(cn=0;cn<16;cn++,kt++)Jt+=Vt[cn]=Tt[kt];bt(16+Jt);var mn=new Uint8Array(Jt);for(cn=0;cn<Jt;cn++,kt++)mn[cn]=Tt[kt];Zt+=17+Jt,(Nt>>4?Lt:Bt)[Nt&15]=vt(Vt,mn)}break;case 65501:At(),Ft=At();break;case 65500:At(),At();break;case 65498:At();var yn=Tt[kt++],Kt=[],sn;for(Zt=0;Zt<yn;Zt++){sn=It.components[Tt[kt++]];var ln=Tt[kt++];sn.huffmanTableDC=Bt[ln>>4],sn.huffmanTableAC=Lt[ln&15],Kt.push(sn)}var gn=Tt[kt++],_n=Tt[kt++],bn=Tt[kt++],Tn=yt(Tt,kt,It,Kt,Ft,gn,_n,bn>>4,bn&15,this.opts);kt+=Tn;break;case 65535:Tt[kt]!==255&&kt--;break;default:if(Tt[kt-3]==255&&Tt[kt-2]>=192&&Tt[kt-2]<=254){kt-=3;break}else if(Ut===224||Ut==225){if(dn!==-1)throw new Error(`first unknown JPEG marker at offset ${dn.toString(16)}, second unknown JPEG marker ${Ut.toString(16)} at offset ${(kt-1).toString(16)}`);dn=kt-1;const Cn=At();if(Tt[kt+Cn-2]===255){kt+=Cn-2;break}}throw new Error("unknown JPEG marker "+Ut.toString(16))}Ut=At()}if(Xt.length!=1)throw new Error("only single frame JPEGs supported");for(var Zt=0;Zt<Xt.length;Zt++){var Rn=Xt[Zt].components;for(var cn in Rn)Rn[cn].quantizationTable=Wt[Rn[cn].quantizationIdx],delete Rn[cn].quantizationIdx}this.width=It.samplesPerLine,this.height=It.scanLines,this.jfif=Ot,this.adobe=Pt,this.components=[];for(var Zt=0;Zt<It.componentsOrder.length;Zt++){var sn=It.components[It.componentsOrder[Zt]];this.components.push({lines:_t(It,sn),scaleX:sn.h/It.maxH,scaleY:sn.v/It.maxV})}},getData:function(Tt,Rt){var kt=this.width/Tt,At=this.height/Rt,Ct,Mt,Ot,Pt,It,Ft,Wt,Xt,Lt,Bt,Ut=0,dn,Zt,cn,Gt,Yt,pn,$n,Sn,Qt,vn,wn,qt=Tt*Rt*this.components.length;bt(qt);var En=new Uint8Array(qt);switch(this.components.length){case 1:for(Ct=this.components[0],Bt=0;Bt<Rt;Bt++)for(It=Ct.lines[0|Bt*Ct.scaleY*At],Lt=0;Lt<Tt;Lt++)dn=It[0|Lt*Ct.scaleX*kt],En[Ut++]=dn;break;case 2:for(Ct=this.components[0],Mt=this.components[1],Bt=0;Bt<Rt;Bt++)for(It=Ct.lines[0|Bt*Ct.scaleY*At],Ft=Mt.lines[0|Bt*Mt.scaleY*At],Lt=0;Lt<Tt;Lt++)dn=It[0|Lt*Ct.scaleX*kt],En[Ut++]=dn,dn=Ft[0|Lt*Mt.scaleX*kt],En[Ut++]=dn;break;case 3:for(wn=!0,this.adobe&&this.adobe.transformCode?wn=!0:typeof this.opts.colorTransform<"u"&&(wn=!!this.opts.colorTransform),Ct=this.components[0],Mt=this.components[1],Ot=this.components[2],Bt=0;Bt<Rt;Bt++)for(It=Ct.lines[0|Bt*Ct.scaleY*At],Ft=Mt.lines[0|Bt*Mt.scaleY*At],Wt=Ot.lines[0|Bt*Ot.scaleY*At],Lt=0;Lt<Tt;Lt++)wn?(dn=It[0|Lt*Ct.scaleX*kt],Zt=Ft[0|Lt*Mt.scaleX*kt],cn=Wt[0|Lt*Ot.scaleX*kt],Sn=$t(dn+1.402*(cn-128)),Qt=$t(dn-.3441363*(Zt-128)-.71413636*(cn-128)),vn=$t(dn+1.772*(Zt-128))):(Sn=It[0|Lt*Ct.scaleX*kt],Qt=Ft[0|Lt*Mt.scaleX*kt],vn=Wt[0|Lt*Ot.scaleX*kt]),En[Ut++]=Sn,En[Ut++]=Qt,En[Ut++]=vn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(wn=!1,this.adobe&&this.adobe.transformCode?wn=!0:typeof this.opts.colorTransform<"u"&&(wn=!!this.opts.colorTransform),Ct=this.components[0],Mt=this.components[1],Ot=this.components[2],Pt=this.components[3],Bt=0;Bt<Rt;Bt++)for(It=Ct.lines[0|Bt*Ct.scaleY*At],Ft=Mt.lines[0|Bt*Mt.scaleY*At],Wt=Ot.lines[0|Bt*Ot.scaleY*At],Xt=Pt.lines[0|Bt*Pt.scaleY*At],Lt=0;Lt<Tt;Lt++)wn?(dn=It[0|Lt*Ct.scaleX*kt],Zt=Ft[0|Lt*Mt.scaleX*kt],cn=Wt[0|Lt*Ot.scaleX*kt],Gt=Xt[0|Lt*Pt.scaleX*kt],Yt=255-$t(dn+1.402*(cn-128)),pn=255-$t(dn-.3441363*(Zt-128)-.71413636*(cn-128)),$n=255-$t(dn+1.772*(Zt-128))):(Yt=It[0|Lt*Ct.scaleX*kt],pn=Ft[0|Lt*Mt.scaleX*kt],$n=Wt[0|Lt*Ot.scaleX*kt],Gt=Xt[0|Lt*Pt.scaleX*kt]),En[Ut++]=255-Yt,En[Ut++]=255-pn,En[Ut++]=255-$n,En[Ut++]=255-Gt;break;default:throw new Error("Unsupported color mode")}return En},copyToImageData:function(Tt,Rt){var kt=Tt.width,At=Tt.height,Ct=Tt.data,Mt=this.getData(kt,At),Ot=0,Pt=0,It,Ft,Wt,Xt,Lt,Bt,Ut,dn,Zt;switch(this.components.length){case 1:for(Ft=0;Ft<At;Ft++)for(It=0;It<kt;It++)Wt=Mt[Ot++],Ct[Pt++]=Wt,Ct[Pt++]=Wt,Ct[Pt++]=Wt,Rt&&(Ct[Pt++]=255);break;case 3:for(Ft=0;Ft<At;Ft++)for(It=0;It<kt;It++)Ut=Mt[Ot++],dn=Mt[Ot++],Zt=Mt[Ot++],Ct[Pt++]=Ut,Ct[Pt++]=dn,Ct[Pt++]=Zt,Rt&&(Ct[Pt++]=255);break;case 4:for(Ft=0;Ft<At;Ft++)for(It=0;It<kt;It++)Lt=Mt[Ot++],Bt=Mt[Ot++],Wt=Mt[Ot++],Xt=Mt[Ot++],Ut=255-$t(Lt*(1-Xt/255)+Xt),dn=255-$t(Bt*(1-Xt/255)+Xt),Zt=255-$t(Wt*(1-Xt/255)+Xt),Ct[Pt++]=Ut,Ct[Pt++]=dn,Ct[Pt++]=Zt,Rt&&(Ct[Pt++]=255);break;default:throw new Error("Unsupported color mode")}}};var Et=0,wt=0;function bt(St=0){var Tt=Et+St;if(Tt>wt){var Rt=Math.ceil((Tt-wt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Rt}MB`)}Et=Tt}return xt.resetMaxMemoryUsage=function(St){Et=0,wt=St},xt.getBytesAllocated=function(){return Et},xt.requestMemoryAllocation=bt,xt}();_e.exports=at;function at(lt,st={}){var ct={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ut={...ct,...st},ft=new Uint8Array(lt),dt=new rt;dt.opts=ut,rt.resetMaxMemoryUsage(ut.maxMemoryUsageInMB*1024*1024),dt.parse(ft);var pt=ut.formatAsRGBA?4:3,ht=dt.width*dt.height*pt;try{rt.requestMemoryAllocation(ht);var gt={width:dt.width,height:dt.height,exifBuffer:dt.exifBuffer,data:ut.useTArray?new Uint8Array(ht):Buffer.alloc(ht)};dt.comments.length>0&&(gt.comments=dt.comments)}catch(mt){throw mt instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+ht):mt instanceof ReferenceError&&mt.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):mt}return dt.copyToImageData(gt,ut.formatAsRGBA),gt}})(decoder);var encode$1=encoderExports,decode$2=decoderExports,jpegJs={encode:encode$1,decode:decode$2};function decodeJpeg(_e){const rt=jpegJs.decode(_e,{useTArray:!0,maxMemoryUsageInMB:Number.POSITIVE_INFINITY,maxResolutionInMP:Number.POSITIVE_INFINITY});return new Image(rt.width,rt.height,{data:rt.data,colorModel:"RGBA"})}(function(_e){if(_e.TextEncoder&&_e.TextDecoder)return!1;function rt(lt="utf-8"){if(lt!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${lt}') is invalid.`)}Object.defineProperty(rt.prototype,"encoding",{value:"utf-8"}),rt.prototype.encode=function(lt,st={stream:!1}){if(st.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let ct=0;const ut=lt.length;let ft=0,dt=Math.max(32,ut+(ut>>1)+7),pt=new Uint8Array(dt>>3<<3);for(;ct<ut;){let ht=lt.charCodeAt(ct++);if(ht>=55296&&ht<=56319){if(ct<ut){const gt=lt.charCodeAt(ct);(gt&64512)===56320&&(++ct,ht=((ht&1023)<<10)+(gt&1023)+65536)}if(ht>=55296&&ht<=56319)continue}if(ft+4>pt.length){dt+=8,dt*=1+ct/lt.length*2,dt=dt>>3<<3;const gt=new Uint8Array(dt);gt.set(pt),pt=gt}if(ht&4294967168)if(!(ht&4294965248))pt[ft++]=ht>>6&31|192;else if(!(ht&4294901760))pt[ft++]=ht>>12&15|224,pt[ft++]=ht>>6&63|128;else if(!(ht&4292870144))pt[ft++]=ht>>18&7|240,pt[ft++]=ht>>12&63|128,pt[ft++]=ht>>6&63|128;else continue;else{pt[ft++]=ht;continue}pt[ft++]=ht&63|128}return pt.slice(0,ft)};function at(lt="utf-8",st={fatal:!1}){if(lt!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${lt}') is invalid.`);if(st.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(at.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(at.prototype,"fatal",{value:!1}),Object.defineProperty(at.prototype,"ignoreBOM",{value:!1}),at.prototype.decode=function(lt,st={stream:!1}){if(st.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const ct=new Uint8Array(lt);let ut=0;const ft=ct.length,dt=[];for(;ut<ft;){const pt=ct[ut++];if(pt===0)break;if(!(pt&128))dt.push(pt);else if((pt&224)===192){const ht=ct[ut++]&63;dt.push((pt&31)<<6|ht)}else if((pt&240)===224){const ht=ct[ut++]&63,gt=ct[ut++]&63;dt.push((pt&31)<<12|ht<<6|gt)}else if((pt&248)===240){const ht=ct[ut++]&63,gt=ct[ut++]&63,mt=ct[ut++]&63;let xt=(pt&7)<<18|ht<<12|gt<<6|mt;xt>65535&&(xt-=65536,dt.push(xt>>>10&1023|55296),xt=56320|xt&1023),dt.push(xt)}}return String.fromCharCode.apply(null,dt)},_e.TextEncoder=rt,_e.TextDecoder=at})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$1(_e,rt="utf8"){return new TextDecoder(rt).decode(_e)}const encoder=new TextEncoder;function encode(_e){return encoder.encode(_e)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const _e=new Uint8Array(4),rt=new Uint32Array(_e.buffer);return!((rt[0]=1)&_e[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(rt=defaultByteLength,at={}){let lt=!1;typeof rt=="number"?rt=new ArrayBuffer(rt):(lt=!0,this.lastWrittenByte=rt.byteLength);const st=at.offset?at.offset>>>0:0,ct=rt.byteLength-st;let ut=st;(ArrayBuffer.isView(rt)||rt instanceof IOBuffer)&&(rt.byteLength!==rt.buffer.byteLength&&(ut=rt.byteOffset+st),rt=rt.buffer),lt?this.lastWrittenByte=ct:this.lastWrittenByte=0,this.buffer=rt,this.length=ct,this.byteLength=ct,this.byteOffset=ut,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ut,ct),this._mark=0,this._marks=[]}available(rt=1){return this.offset+rt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(rt=1){return this.offset+=rt,this}back(rt=1){return this.offset-=rt,this}seek(rt){return this.offset=rt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const rt=this._marks.pop();if(rt===void 0)throw new Error("Mark stack empty");return this.seek(rt),this}rewind(){return this.offset=0,this}ensureAvailable(rt=1){if(!this.available(rt)){const lt=(this.offset+rt)*2,st=new Uint8Array(lt);st.set(new Uint8Array(this.buffer)),this.buffer=st.buffer,this.length=this.byteLength=lt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(rt=1){return this.readArray(rt,"uint8")}readArray(rt,at){const lt=typedArrays[at].BYTES_PER_ELEMENT*rt,st=this.byteOffset+this.offset,ct=this.buffer.slice(st,st+lt);if(this.littleEndian===hostBigEndian&&at!=="uint8"&&at!=="int8"){const ft=new Uint8Array(this.buffer.slice(st,st+lt));ft.reverse();const dt=new typedArrays[at](ft.buffer);return this.offset+=lt,dt.reverse(),dt}const ut=new typedArrays[at](ct);return this.offset+=lt,ut}readInt16(){const rt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,rt}readUint16(){const rt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,rt}readInt32(){const rt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,rt}readUint32(){const rt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat32(){const rt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat64(){const rt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigInt64(){const rt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigUint64(){const rt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,rt}readChar(){return String.fromCharCode(this.readInt8())}readChars(rt=1){let at="";for(let lt=0;lt<rt;lt++)at+=this.readChar();return at}readUtf8(rt=1){return decode$1(this.readBytes(rt))}decodeText(rt=1,at="utf-8"){return decode$1(this.readBytes(rt),at)}writeBoolean(rt){return this.writeUint8(rt?255:0),this}writeInt8(rt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,rt),this._updateLastWrittenByte(),this}writeUint8(rt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,rt),this._updateLastWrittenByte(),this}writeByte(rt){return this.writeUint8(rt)}writeBytes(rt){this.ensureAvailable(rt.length);for(let at=0;at<rt.length;at++)this._data.setUint8(this.offset++,rt[at]);return this._updateLastWrittenByte(),this}writeInt16(rt){return this.ensureAvailable(2),this._data.setInt16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(rt){return this.ensureAvailable(2),this._data.setUint16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(rt){return this.ensureAvailable(4),this._data.setInt32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(rt){return this.ensureAvailable(4),this._data.setUint32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(rt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(rt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(rt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(rt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(rt){return this.writeUint8(rt.charCodeAt(0))}writeChars(rt){for(let at=0;at<rt.length;at++)this.writeUint8(rt.charCodeAt(at));return this}writeUtf8(rt){return this.writeBytes(encode(rt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1$1(_e){let rt=_e.length;for(;--rt>=0;)_e[rt]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1$1(base_length);const base_dist=new Array(D_CODES$1);zero$1$1(base_dist);function StaticTreeDesc(_e,rt,at,lt,st){this.static_tree=_e,this.extra_bits=rt,this.extra_base=at,this.elems=lt,this.max_length=st,this.has_stree=_e&&_e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_e,rt){this.dyn_tree=_e,this.max_code=0,this.stat_desc=rt}const d_code=_e=>_e<256?_dist_code[_e]:_dist_code[256+(_e>>>7)],put_short=(_e,rt)=>{_e.pending_buf[_e.pending++]=rt&255,_e.pending_buf[_e.pending++]=rt>>>8&255},send_bits=(_e,rt,at)=>{_e.bi_valid>Buf_size-at?(_e.bi_buf|=rt<<_e.bi_valid&65535,put_short(_e,_e.bi_buf),_e.bi_buf=rt>>Buf_size-_e.bi_valid,_e.bi_valid+=at-Buf_size):(_e.bi_buf|=rt<<_e.bi_valid&65535,_e.bi_valid+=at)},send_code=(_e,rt,at)=>{send_bits(_e,at[rt*2],at[rt*2+1])},bi_reverse=(_e,rt)=>{let at=0;do at|=_e&1,_e>>>=1,at<<=1;while(--rt>0);return at>>>1},bi_flush=_e=>{_e.bi_valid===16?(put_short(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=_e.bi_buf&255,_e.bi_buf>>=8,_e.bi_valid-=8)},gen_bitlen=(_e,rt)=>{const at=rt.dyn_tree,lt=rt.max_code,st=rt.stat_desc.static_tree,ct=rt.stat_desc.has_stree,ut=rt.stat_desc.extra_bits,ft=rt.stat_desc.extra_base,dt=rt.stat_desc.max_length;let pt,ht,gt,mt,xt,vt,yt=0;for(mt=0;mt<=MAX_BITS$1;mt++)_e.bl_count[mt]=0;for(at[_e.heap[_e.heap_max]*2+1]=0,pt=_e.heap_max+1;pt<HEAP_SIZE$1;pt++)ht=_e.heap[pt],mt=at[at[ht*2+1]*2+1]+1,mt>dt&&(mt=dt,yt++),at[ht*2+1]=mt,!(ht>lt)&&(_e.bl_count[mt]++,xt=0,ht>=ft&&(xt=ut[ht-ft]),vt=at[ht*2],_e.opt_len+=vt*(mt+xt),ct&&(_e.static_len+=vt*(st[ht*2+1]+xt)));if(yt!==0){do{for(mt=dt-1;_e.bl_count[mt]===0;)mt--;_e.bl_count[mt]--,_e.bl_count[mt+1]+=2,_e.bl_count[dt]--,yt-=2}while(yt>0);for(mt=dt;mt!==0;mt--)for(ht=_e.bl_count[mt];ht!==0;)gt=_e.heap[--pt],!(gt>lt)&&(at[gt*2+1]!==mt&&(_e.opt_len+=(mt-at[gt*2+1])*at[gt*2],at[gt*2+1]=mt),ht--)}},gen_codes=(_e,rt,at)=>{const lt=new Array(MAX_BITS$1+1);let st=0,ct,ut;for(ct=1;ct<=MAX_BITS$1;ct++)st=st+at[ct-1]<<1,lt[ct]=st;for(ut=0;ut<=rt;ut++){let ft=_e[ut*2+1];ft!==0&&(_e[ut*2]=bi_reverse(lt[ft]++,ft))}},tr_static_init=()=>{let _e,rt,at,lt,st;const ct=new Array(MAX_BITS$1+1);for(at=0,lt=0;lt<LENGTH_CODES$1-1;lt++)for(base_length[lt]=at,_e=0;_e<1<<extra_lbits[lt];_e++)_length_code[at++]=lt;for(_length_code[at-1]=lt,st=0,lt=0;lt<16;lt++)for(base_dist[lt]=st,_e=0;_e<1<<extra_dbits[lt];_e++)_dist_code[st++]=lt;for(st>>=7;lt<D_CODES$1;lt++)for(base_dist[lt]=st<<7,_e=0;_e<1<<extra_dbits[lt]-7;_e++)_dist_code[256+st++]=lt;for(rt=0;rt<=MAX_BITS$1;rt++)ct[rt]=0;for(_e=0;_e<=143;)static_ltree[_e*2+1]=8,_e++,ct[8]++;for(;_e<=255;)static_ltree[_e*2+1]=9,_e++,ct[9]++;for(;_e<=279;)static_ltree[_e*2+1]=7,_e++,ct[7]++;for(;_e<=287;)static_ltree[_e*2+1]=8,_e++,ct[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ct),_e=0;_e<D_CODES$1;_e++)static_dtree[_e*2+1]=5,static_dtree[_e*2]=bi_reverse(_e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_e=>{let rt;for(rt=0;rt<L_CODES$1;rt++)_e.dyn_ltree[rt*2]=0;for(rt=0;rt<D_CODES$1;rt++)_e.dyn_dtree[rt*2]=0;for(rt=0;rt<BL_CODES$1;rt++)_e.bl_tree[rt*2]=0;_e.dyn_ltree[END_BLOCK*2]=1,_e.opt_len=_e.static_len=0,_e.sym_next=_e.matches=0},bi_windup=_e=>{_e.bi_valid>8?put_short(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0},smaller=(_e,rt,at,lt)=>{const st=rt*2,ct=at*2;return _e[st]<_e[ct]||_e[st]===_e[ct]&&lt[rt]<=lt[at]},pqdownheap=(_e,rt,at)=>{const lt=_e.heap[at];let st=at<<1;for(;st<=_e.heap_len&&(st<_e.heap_len&&smaller(rt,_e.heap[st+1],_e.heap[st],_e.depth)&&st++,!smaller(rt,lt,_e.heap[st],_e.depth));)_e.heap[at]=_e.heap[st],at=st,st<<=1;_e.heap[at]=lt},compress_block=(_e,rt,at)=>{let lt,st,ct=0,ut,ft;if(_e.sym_next!==0)do lt=_e.pending_buf[_e.sym_buf+ct++]&255,lt+=(_e.pending_buf[_e.sym_buf+ct++]&255)<<8,st=_e.pending_buf[_e.sym_buf+ct++],lt===0?send_code(_e,st,rt):(ut=_length_code[st],send_code(_e,ut+LITERALS$1+1,rt),ft=extra_lbits[ut],ft!==0&&(st-=base_length[ut],send_bits(_e,st,ft)),lt--,ut=d_code(lt),send_code(_e,ut,at),ft=extra_dbits[ut],ft!==0&&(lt-=base_dist[ut],send_bits(_e,lt,ft)));while(ct<_e.sym_next);send_code(_e,END_BLOCK,rt)},build_tree=(_e,rt)=>{const at=rt.dyn_tree,lt=rt.stat_desc.static_tree,st=rt.stat_desc.has_stree,ct=rt.stat_desc.elems;let ut,ft,dt=-1,pt;for(_e.heap_len=0,_e.heap_max=HEAP_SIZE$1,ut=0;ut<ct;ut++)at[ut*2]!==0?(_e.heap[++_e.heap_len]=dt=ut,_e.depth[ut]=0):at[ut*2+1]=0;for(;_e.heap_len<2;)pt=_e.heap[++_e.heap_len]=dt<2?++dt:0,at[pt*2]=1,_e.depth[pt]=0,_e.opt_len--,st&&(_e.static_len-=lt[pt*2+1]);for(rt.max_code=dt,ut=_e.heap_len>>1;ut>=1;ut--)pqdownheap(_e,at,ut);pt=ct;do ut=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],pqdownheap(_e,at,1),ft=_e.heap[1],_e.heap[--_e.heap_max]=ut,_e.heap[--_e.heap_max]=ft,at[pt*2]=at[ut*2]+at[ft*2],_e.depth[pt]=(_e.depth[ut]>=_e.depth[ft]?_e.depth[ut]:_e.depth[ft])+1,at[ut*2+1]=at[ft*2+1]=pt,_e.heap[1]=pt++,pqdownheap(_e,at,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],gen_bitlen(_e,rt),gen_codes(at,dt,_e.bl_count)},scan_tree=(_e,rt,at)=>{let lt,st=-1,ct,ut=rt[0*2+1],ft=0,dt=7,pt=4;for(ut===0&&(dt=138,pt=3),rt[(at+1)*2+1]=65535,lt=0;lt<=at;lt++)ct=ut,ut=rt[(lt+1)*2+1],!(++ft<dt&&ct===ut)&&(ft<pt?_e.bl_tree[ct*2]+=ft:ct!==0?(ct!==st&&_e.bl_tree[ct*2]++,_e.bl_tree[REP_3_6*2]++):ft<=10?_e.bl_tree[REPZ_3_10*2]++:_e.bl_tree[REPZ_11_138*2]++,ft=0,st=ct,ut===0?(dt=138,pt=3):ct===ut?(dt=6,pt=3):(dt=7,pt=4))},send_tree=(_e,rt,at)=>{let lt,st=-1,ct,ut=rt[0*2+1],ft=0,dt=7,pt=4;for(ut===0&&(dt=138,pt=3),lt=0;lt<=at;lt++)if(ct=ut,ut=rt[(lt+1)*2+1],!(++ft<dt&&ct===ut)){if(ft<pt)do send_code(_e,ct,_e.bl_tree);while(--ft!==0);else ct!==0?(ct!==st&&(send_code(_e,ct,_e.bl_tree),ft--),send_code(_e,REP_3_6,_e.bl_tree),send_bits(_e,ft-3,2)):ft<=10?(send_code(_e,REPZ_3_10,_e.bl_tree),send_bits(_e,ft-3,3)):(send_code(_e,REPZ_11_138,_e.bl_tree),send_bits(_e,ft-11,7));ft=0,st=ct,ut===0?(dt=138,pt=3):ct===ut?(dt=6,pt=3):(dt=7,pt=4)}},build_bl_tree=_e=>{let rt;for(scan_tree(_e,_e.dyn_ltree,_e.l_desc.max_code),scan_tree(_e,_e.dyn_dtree,_e.d_desc.max_code),build_tree(_e,_e.bl_desc),rt=BL_CODES$1-1;rt>=3&&_e.bl_tree[bl_order[rt]*2+1]===0;rt--);return _e.opt_len+=3*(rt+1)+5+5+4,rt},send_all_trees=(_e,rt,at,lt)=>{let st;for(send_bits(_e,rt-257,5),send_bits(_e,at-1,5),send_bits(_e,lt-4,4),st=0;st<lt;st++)send_bits(_e,_e.bl_tree[bl_order[st]*2+1],3);send_tree(_e,_e.dyn_ltree,rt-1),send_tree(_e,_e.dyn_dtree,at-1)},detect_data_type=_e=>{let rt=4093624447,at;for(at=0;at<=31;at++,rt>>>=1)if(rt&1&&_e.dyn_ltree[at*2]!==0)return Z_BINARY;if(_e.dyn_ltree[9*2]!==0||_e.dyn_ltree[10*2]!==0||_e.dyn_ltree[13*2]!==0)return Z_TEXT;for(at=32;at<LITERALS$1;at++)if(_e.dyn_ltree[at*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_e=>{static_init_done||(tr_static_init(),static_init_done=!0),_e.l_desc=new TreeDesc(_e.dyn_ltree,static_l_desc),_e.d_desc=new TreeDesc(_e.dyn_dtree,static_d_desc),_e.bl_desc=new TreeDesc(_e.bl_tree,static_bl_desc),_e.bi_buf=0,_e.bi_valid=0,init_block(_e)},_tr_stored_block$1=(_e,rt,at,lt)=>{send_bits(_e,(STORED_BLOCK<<1)+(lt?1:0),3),bi_windup(_e),put_short(_e,at),put_short(_e,~at),at&&_e.pending_buf.set(_e.window.subarray(rt,rt+at),_e.pending),_e.pending+=at},_tr_align$1=_e=>{send_bits(_e,STATIC_TREES<<1,3),send_code(_e,END_BLOCK,static_ltree),bi_flush(_e)},_tr_flush_block$1=(_e,rt,at,lt)=>{let st,ct,ut=0;_e.level>0?(_e.strm.data_type===Z_UNKNOWN$1&&(_e.strm.data_type=detect_data_type(_e)),build_tree(_e,_e.l_desc),build_tree(_e,_e.d_desc),ut=build_bl_tree(_e),st=_e.opt_len+3+7>>>3,ct=_e.static_len+3+7>>>3,ct<=st&&(st=ct)):st=ct=at+5,at+4<=st&&rt!==-1?_tr_stored_block$1(_e,rt,at,lt):_e.strategy===Z_FIXED$1||ct===st?(send_bits(_e,(STATIC_TREES<<1)+(lt?1:0),3),compress_block(_e,static_ltree,static_dtree)):(send_bits(_e,(DYN_TREES<<1)+(lt?1:0),3),send_all_trees(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,ut+1),compress_block(_e,_e.dyn_ltree,_e.dyn_dtree)),init_block(_e),lt&&bi_windup(_e)},_tr_tally$1=(_e,rt,at)=>(_e.pending_buf[_e.sym_buf+_e.sym_next++]=rt,_e.pending_buf[_e.sym_buf+_e.sym_next++]=rt>>8,_e.pending_buf[_e.sym_buf+_e.sym_next++]=at,rt===0?_e.dyn_ltree[at*2]++:(_e.matches++,rt--,_e.dyn_ltree[(_length_code[at]+LITERALS$1+1)*2]++,_e.dyn_dtree[d_code(rt)*2]++),_e.sym_next===_e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_e,rt,at,lt)=>{let st=_e&65535|0,ct=_e>>>16&65535|0,ut=0;for(;at!==0;){ut=at>2e3?2e3:at,at-=ut;do st=st+rt[lt++]|0,ct=ct+st|0;while(--ut);st%=65521,ct%=65521}return st|ct<<16|0};var adler32_1=adler32;const makeTable=()=>{let _e,rt=[];for(var at=0;at<256;at++){_e=at;for(var lt=0;lt<8;lt++)_e=_e&1?3988292384^_e>>>1:_e>>>1;rt[at]=_e}return rt},crcTable$1=new Uint32Array(makeTable()),crc32=(_e,rt,at,lt)=>{const st=crcTable$1,ct=lt+at;_e^=-1;for(let ut=lt;ut<ct;ut++)_e=_e>>>8^st[(_e^rt[ut])&255];return _e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_e,rt)=>(_e.msg=messages[rt],rt),rank=_e=>_e*2-(_e>4?9:0),zero$2=_e=>{let rt=_e.length;for(;--rt>=0;)_e[rt]=0},slide_hash=_e=>{let rt,at,lt,st=_e.w_size;rt=_e.hash_size,lt=rt;do at=_e.head[--lt],_e.head[lt]=at>=st?at-st:0;while(--rt);rt=st,lt=rt;do at=_e.prev[--lt],_e.prev[lt]=at>=st?at-st:0;while(--rt)};let HASH_ZLIB=(_e,rt,at)=>(rt<<_e.hash_shift^at)&_e.hash_mask,HASH=HASH_ZLIB;const flush_pending=_e=>{const rt=_e.state;let at=rt.pending;at>_e.avail_out&&(at=_e.avail_out),at!==0&&(_e.output.set(rt.pending_buf.subarray(rt.pending_out,rt.pending_out+at),_e.next_out),_e.next_out+=at,rt.pending_out+=at,_e.total_out+=at,_e.avail_out-=at,rt.pending-=at,rt.pending===0&&(rt.pending_out=0))},flush_block_only=(_e,rt)=>{_tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,rt),_e.block_start=_e.strstart,flush_pending(_e.strm)},put_byte=(_e,rt)=>{_e.pending_buf[_e.pending++]=rt},putShortMSB=(_e,rt)=>{_e.pending_buf[_e.pending++]=rt>>>8&255,_e.pending_buf[_e.pending++]=rt&255},read_buf=(_e,rt,at,lt)=>{let st=_e.avail_in;return st>lt&&(st=lt),st===0?0:(_e.avail_in-=st,rt.set(_e.input.subarray(_e.next_in,_e.next_in+st),at),_e.state.wrap===1?_e.adler=adler32_1(_e.adler,rt,st,at):_e.state.wrap===2&&(_e.adler=crc32_1(_e.adler,rt,st,at)),_e.next_in+=st,_e.total_in+=st,st)},longest_match=(_e,rt)=>{let at=_e.max_chain_length,lt=_e.strstart,st,ct,ut=_e.prev_length,ft=_e.nice_match;const dt=_e.strstart>_e.w_size-MIN_LOOKAHEAD?_e.strstart-(_e.w_size-MIN_LOOKAHEAD):0,pt=_e.window,ht=_e.w_mask,gt=_e.prev,mt=_e.strstart+MAX_MATCH;let xt=pt[lt+ut-1],vt=pt[lt+ut];_e.prev_length>=_e.good_match&&(at>>=2),ft>_e.lookahead&&(ft=_e.lookahead);do if(st=rt,!(pt[st+ut]!==vt||pt[st+ut-1]!==xt||pt[st]!==pt[lt]||pt[++st]!==pt[lt+1])){lt+=2,st++;do;while(pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&pt[++lt]===pt[++st]&&lt<mt);if(ct=MAX_MATCH-(mt-lt),lt=mt-MAX_MATCH,ct>ut){if(_e.match_start=rt,ut=ct,ct>=ft)break;xt=pt[lt+ut-1],vt=pt[lt+ut]}}while((rt=gt[rt&ht])>dt&&--at!==0);return ut<=_e.lookahead?ut:_e.lookahead},fill_window=_e=>{const rt=_e.w_size;let at,lt,st;do{if(lt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=rt+(rt-MIN_LOOKAHEAD)&&(_e.window.set(_e.window.subarray(rt,rt+rt-lt),0),_e.match_start-=rt,_e.strstart-=rt,_e.block_start-=rt,_e.insert>_e.strstart&&(_e.insert=_e.strstart),slide_hash(_e),lt+=rt),_e.strm.avail_in===0)break;if(at=read_buf(_e.strm,_e.window,_e.strstart+_e.lookahead,lt),_e.lookahead+=at,_e.lookahead+_e.insert>=MIN_MATCH)for(st=_e.strstart-_e.insert,_e.ins_h=_e.window[st],_e.ins_h=HASH(_e,_e.ins_h,_e.window[st+1]);_e.insert&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[st+MIN_MATCH-1]),_e.prev[st&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=st,st++,_e.insert--,!(_e.lookahead+_e.insert<MIN_MATCH)););}while(_e.lookahead<MIN_LOOKAHEAD&&_e.strm.avail_in!==0)},deflate_stored=(_e,rt)=>{let at=_e.pending_buf_size-5>_e.w_size?_e.w_size:_e.pending_buf_size-5,lt,st,ct,ut=0,ft=_e.strm.avail_in;do{if(lt=65535,ct=_e.bi_valid+42>>3,_e.strm.avail_out<ct||(ct=_e.strm.avail_out-ct,st=_e.strstart-_e.block_start,lt>st+_e.strm.avail_in&&(lt=st+_e.strm.avail_in),lt>ct&&(lt=ct),lt<at&&(lt===0&&rt!==Z_FINISH$3||rt===Z_NO_FLUSH$2||lt!==st+_e.strm.avail_in)))break;ut=rt===Z_FINISH$3&&lt===st+_e.strm.avail_in?1:0,_tr_stored_block(_e,0,0,ut),_e.pending_buf[_e.pending-4]=lt,_e.pending_buf[_e.pending-3]=lt>>8,_e.pending_buf[_e.pending-2]=~lt,_e.pending_buf[_e.pending-1]=~lt>>8,flush_pending(_e.strm),st&&(st>lt&&(st=lt),_e.strm.output.set(_e.window.subarray(_e.block_start,_e.block_start+st),_e.strm.next_out),_e.strm.next_out+=st,_e.strm.avail_out-=st,_e.strm.total_out+=st,_e.block_start+=st,lt-=st),lt&&(read_buf(_e.strm,_e.strm.output,_e.strm.next_out,lt),_e.strm.next_out+=lt,_e.strm.avail_out-=lt,_e.strm.total_out+=lt)}while(ut===0);return ft-=_e.strm.avail_in,ft&&(ft>=_e.w_size?(_e.matches=2,_e.window.set(_e.strm.input.subarray(_e.strm.next_in-_e.w_size,_e.strm.next_in),0),_e.strstart=_e.w_size,_e.insert=_e.strstart):(_e.window_size-_e.strstart<=ft&&(_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),_e.window.set(_e.strm.input.subarray(_e.strm.next_in-ft,_e.strm.next_in),_e.strstart),_e.strstart+=ft,_e.insert+=ft>_e.w_size-_e.insert?_e.w_size-_e.insert:ft),_e.block_start=_e.strstart),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),ut?BS_FINISH_DONE:rt!==Z_NO_FLUSH$2&&rt!==Z_FINISH$3&&_e.strm.avail_in===0&&_e.strstart===_e.block_start?BS_BLOCK_DONE:(ct=_e.window_size-_e.strstart,_e.strm.avail_in>ct&&_e.block_start>=_e.w_size&&(_e.block_start-=_e.w_size,_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,ct+=_e.w_size,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),ct>_e.strm.avail_in&&(ct=_e.strm.avail_in),ct&&(read_buf(_e.strm,_e.window,_e.strstart,ct),_e.strstart+=ct,_e.insert+=ct>_e.w_size-_e.insert?_e.w_size-_e.insert:ct),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),ct=_e.bi_valid+42>>3,ct=_e.pending_buf_size-ct>65535?65535:_e.pending_buf_size-ct,at=ct>_e.w_size?_e.w_size:ct,st=_e.strstart-_e.block_start,(st>=at||(st||rt===Z_FINISH$3)&&rt!==Z_NO_FLUSH$2&&_e.strm.avail_in===0&&st<=ct)&&(lt=st>ct?ct:st,ut=rt===Z_FINISH$3&&_e.strm.avail_in===0&&lt===st?1:0,_tr_stored_block(_e,_e.block_start,lt,ut),_e.block_start+=lt,flush_pending(_e.strm)),ut?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_e,rt)=>{let at,lt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&rt===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(at=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),at=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),at!==0&&_e.strstart-at<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,at)),_e.match_length>=MIN_MATCH)if(lt=_tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=MIN_MATCH){_e.match_length--;do _e.strstart++,_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),at=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!==0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+1]);else lt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(lt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,rt===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_e,rt)=>{let at,lt,st;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&rt===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(at=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),at=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=MIN_MATCH-1,at!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-at<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,at),_e.match_length<=5&&(_e.strategy===Z_FILTERED||_e.match_length===MIN_MATCH&&_e.strstart-_e.match_start>4096)&&(_e.match_length=MIN_MATCH-1)),_e.prev_length>=MIN_MATCH&&_e.match_length<=_e.prev_length){st=_e.strstart+_e.lookahead-MIN_MATCH,lt=_tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-MIN_MATCH),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=st&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),at=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!==0);if(_e.match_available=0,_e.match_length=MIN_MATCH-1,_e.strstart++,lt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}else if(_e.match_available){if(lt=_tr_tally(_e,0,_e.window[_e.strstart-1]),lt&&flush_block_only(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return BS_NEED_MORE}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(lt=_tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,rt===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_e,rt)=>{let at,lt,st,ct;const ut=_e.window;for(;;){if(_e.lookahead<=MAX_MATCH){if(fill_window(_e),_e.lookahead<=MAX_MATCH&&rt===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=MIN_MATCH&&_e.strstart>0&&(st=_e.strstart-1,lt=ut[st],lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st])){ct=_e.strstart+MAX_MATCH;do;while(lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&lt===ut[++st]&&st<ct);_e.match_length=MAX_MATCH-(ct-st),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=MIN_MATCH?(at=_tr_tally(_e,1,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(at=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),at&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,rt===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_e,rt)=>{let at;for(;;){if(_e.lookahead===0&&(fill_window(_e),_e.lookahead===0)){if(rt===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_e.match_length=0,at=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,at&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,rt===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_e,rt,at,lt,st){this.good_length=_e,this.max_lazy=rt,this.nice_length=at,this.max_chain=lt,this.func=st}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_e=>{_e.window_size=2*_e.w_size,zero$2(_e.head),_e.max_lazy_match=configuration_table[_e.level].max_lazy,_e.good_match=configuration_table[_e.level].good_length,_e.nice_match=configuration_table[_e.level].nice_length,_e.max_chain_length=configuration_table[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=MIN_MATCH-1,_e.match_available=0,_e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero$2(this.dyn_ltree),zero$2(this.dyn_dtree),zero$2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero$2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero$2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_e=>{if(!_e)return 1;const rt=_e.state;return!rt||rt.strm!==_e||rt.status!==INIT_STATE&&rt.status!==GZIP_STATE&&rt.status!==EXTRA_STATE&&rt.status!==NAME_STATE&&rt.status!==COMMENT_STATE&&rt.status!==HCRC_STATE&&rt.status!==BUSY_STATE&&rt.status!==FINISH_STATE?1:0},deflateResetKeep=_e=>{if(deflateStateCheck(_e))return err(_e,Z_STREAM_ERROR$2);_e.total_in=_e.total_out=0,_e.data_type=Z_UNKNOWN;const rt=_e.state;return rt.pending=0,rt.pending_out=0,rt.wrap<0&&(rt.wrap=-rt.wrap),rt.status=rt.wrap===2?GZIP_STATE:rt.wrap?INIT_STATE:BUSY_STATE,_e.adler=rt.wrap===2?0:1,rt.last_flush=-2,_tr_init(rt),Z_OK$3},deflateReset=_e=>{const rt=deflateResetKeep(_e);return rt===Z_OK$3&&lm_init(_e.state),rt},deflateSetHeader=(_e,rt)=>deflateStateCheck(_e)||_e.state.wrap!==2?Z_STREAM_ERROR$2:(_e.state.gzhead=rt,Z_OK$3),deflateInit2=(_e,rt,at,lt,st,ct)=>{if(!_e)return Z_STREAM_ERROR$2;let ut=1;if(rt===Z_DEFAULT_COMPRESSION$1&&(rt=6),lt<0?(ut=0,lt=-lt):lt>15&&(ut=2,lt-=16),st<1||st>MAX_MEM_LEVEL||at!==Z_DEFLATED$2||lt<8||lt>15||rt<0||rt>9||ct<0||ct>Z_FIXED||lt===8&&ut!==1)return err(_e,Z_STREAM_ERROR$2);lt===8&&(lt=9);const ft=new DeflateState;return _e.state=ft,ft.strm=_e,ft.status=INIT_STATE,ft.wrap=ut,ft.gzhead=null,ft.w_bits=lt,ft.w_size=1<<ft.w_bits,ft.w_mask=ft.w_size-1,ft.hash_bits=st+7,ft.hash_size=1<<ft.hash_bits,ft.hash_mask=ft.hash_size-1,ft.hash_shift=~~((ft.hash_bits+MIN_MATCH-1)/MIN_MATCH),ft.window=new Uint8Array(ft.w_size*2),ft.head=new Uint16Array(ft.hash_size),ft.prev=new Uint16Array(ft.w_size),ft.lit_bufsize=1<<st+6,ft.pending_buf_size=ft.lit_bufsize*4,ft.pending_buf=new Uint8Array(ft.pending_buf_size),ft.sym_buf=ft.lit_bufsize,ft.sym_end=(ft.lit_bufsize-1)*3,ft.level=rt,ft.strategy=ct,ft.method=at,deflateReset(_e)},deflateInit=(_e,rt)=>deflateInit2(_e,rt,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_e,rt)=>{if(deflateStateCheck(_e)||rt>Z_BLOCK$1||rt<0)return _e?err(_e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const at=_e.state;if(!_e.output||_e.avail_in!==0&&!_e.input||at.status===FINISH_STATE&&rt!==Z_FINISH$3)return err(_e,_e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const lt=at.last_flush;if(at.last_flush=rt,at.pending!==0){if(flush_pending(_e),_e.avail_out===0)return at.last_flush=-1,Z_OK$3}else if(_e.avail_in===0&&rank(rt)<=rank(lt)&&rt!==Z_FINISH$3)return err(_e,Z_BUF_ERROR$1);if(at.status===FINISH_STATE&&_e.avail_in!==0)return err(_e,Z_BUF_ERROR$1);if(at.status===INIT_STATE&&at.wrap===0&&(at.status=BUSY_STATE),at.status===INIT_STATE){let st=Z_DEFLATED$2+(at.w_bits-8<<4)<<8,ct=-1;if(at.strategy>=Z_HUFFMAN_ONLY||at.level<2?ct=0:at.level<6?ct=1:at.level===6?ct=2:ct=3,st|=ct<<6,at.strstart!==0&&(st|=PRESET_DICT),st+=31-st%31,putShortMSB(at,st),at.strstart!==0&&(putShortMSB(at,_e.adler>>>16),putShortMSB(at,_e.adler&65535)),_e.adler=1,at.status=BUSY_STATE,flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(at.status===GZIP_STATE){if(_e.adler=0,put_byte(at,31),put_byte(at,139),put_byte(at,8),at.gzhead)put_byte(at,(at.gzhead.text?1:0)+(at.gzhead.hcrc?2:0)+(at.gzhead.extra?4:0)+(at.gzhead.name?8:0)+(at.gzhead.comment?16:0)),put_byte(at,at.gzhead.time&255),put_byte(at,at.gzhead.time>>8&255),put_byte(at,at.gzhead.time>>16&255),put_byte(at,at.gzhead.time>>24&255),put_byte(at,at.level===9?2:at.strategy>=Z_HUFFMAN_ONLY||at.level<2?4:0),put_byte(at,at.gzhead.os&255),at.gzhead.extra&&at.gzhead.extra.length&&(put_byte(at,at.gzhead.extra.length&255),put_byte(at,at.gzhead.extra.length>>8&255)),at.gzhead.hcrc&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending,0)),at.gzindex=0,at.status=EXTRA_STATE;else if(put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,0),put_byte(at,at.level===9?2:at.strategy>=Z_HUFFMAN_ONLY||at.level<2?4:0),put_byte(at,OS_CODE),at.status=BUSY_STATE,flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(at.status===EXTRA_STATE){if(at.gzhead.extra){let st=at.pending,ct=(at.gzhead.extra.length&65535)-at.gzindex;for(;at.pending+ct>at.pending_buf_size;){let ft=at.pending_buf_size-at.pending;if(at.pending_buf.set(at.gzhead.extra.subarray(at.gzindex,at.gzindex+ft),at.pending),at.pending=at.pending_buf_size,at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st)),at.gzindex+=ft,flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0,ct-=ft}let ut=new Uint8Array(at.gzhead.extra);at.pending_buf.set(ut.subarray(at.gzindex,at.gzindex+ct),at.pending),at.pending+=ct,at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st)),at.gzindex=0}at.status=NAME_STATE}if(at.status===NAME_STATE){if(at.gzhead.name){let st=at.pending,ct;do{if(at.pending===at.pending_buf_size){if(at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st)),flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0}at.gzindex<at.gzhead.name.length?ct=at.gzhead.name.charCodeAt(at.gzindex++)&255:ct=0,put_byte(at,ct)}while(ct!==0);at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st)),at.gzindex=0}at.status=COMMENT_STATE}if(at.status===COMMENT_STATE){if(at.gzhead.comment){let st=at.pending,ct;do{if(at.pending===at.pending_buf_size){if(at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st)),flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3;st=0}at.gzindex<at.gzhead.comment.length?ct=at.gzhead.comment.charCodeAt(at.gzindex++)&255:ct=0,put_byte(at,ct)}while(ct!==0);at.gzhead.hcrc&&at.pending>st&&(_e.adler=crc32_1(_e.adler,at.pending_buf,at.pending-st,st))}at.status=HCRC_STATE}if(at.status===HCRC_STATE){if(at.gzhead.hcrc){if(at.pending+2>at.pending_buf_size&&(flush_pending(_e),at.pending!==0))return at.last_flush=-1,Z_OK$3;put_byte(at,_e.adler&255),put_byte(at,_e.adler>>8&255),_e.adler=0}if(at.status=BUSY_STATE,flush_pending(_e),at.pending!==0)return at.last_flush=-1,Z_OK$3}if(_e.avail_in!==0||at.lookahead!==0||rt!==Z_NO_FLUSH$2&&at.status!==FINISH_STATE){let st=at.level===0?deflate_stored(at,rt):at.strategy===Z_HUFFMAN_ONLY?deflate_huff(at,rt):at.strategy===Z_RLE?deflate_rle(at,rt):configuration_table[at.level].func(at,rt);if((st===BS_FINISH_STARTED||st===BS_FINISH_DONE)&&(at.status=FINISH_STATE),st===BS_NEED_MORE||st===BS_FINISH_STARTED)return _e.avail_out===0&&(at.last_flush=-1),Z_OK$3;if(st===BS_BLOCK_DONE&&(rt===Z_PARTIAL_FLUSH?_tr_align(at):rt!==Z_BLOCK$1&&(_tr_stored_block(at,0,0,!1),rt===Z_FULL_FLUSH$1&&(zero$2(at.head),at.lookahead===0&&(at.strstart=0,at.block_start=0,at.insert=0))),flush_pending(_e),_e.avail_out===0))return at.last_flush=-1,Z_OK$3}return rt!==Z_FINISH$3?Z_OK$3:at.wrap<=0?Z_STREAM_END$3:(at.wrap===2?(put_byte(at,_e.adler&255),put_byte(at,_e.adler>>8&255),put_byte(at,_e.adler>>16&255),put_byte(at,_e.adler>>24&255),put_byte(at,_e.total_in&255),put_byte(at,_e.total_in>>8&255),put_byte(at,_e.total_in>>16&255),put_byte(at,_e.total_in>>24&255)):(putShortMSB(at,_e.adler>>>16),putShortMSB(at,_e.adler&65535)),flush_pending(_e),at.wrap>0&&(at.wrap=-at.wrap),at.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_e=>{if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const rt=_e.state.status;return _e.state=null,rt===BUSY_STATE?err(_e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_e,rt)=>{let at=rt.length;if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const lt=_e.state,st=lt.wrap;if(st===2||st===1&&lt.status!==INIT_STATE||lt.lookahead)return Z_STREAM_ERROR$2;if(st===1&&(_e.adler=adler32_1(_e.adler,rt,at,0)),lt.wrap=0,at>=lt.w_size){st===0&&(zero$2(lt.head),lt.strstart=0,lt.block_start=0,lt.insert=0);let dt=new Uint8Array(lt.w_size);dt.set(rt.subarray(at-lt.w_size,at),0),rt=dt,at=lt.w_size}const ct=_e.avail_in,ut=_e.next_in,ft=_e.input;for(_e.avail_in=at,_e.next_in=0,_e.input=rt,fill_window(lt);lt.lookahead>=MIN_MATCH;){let dt=lt.strstart,pt=lt.lookahead-(MIN_MATCH-1);do lt.ins_h=HASH(lt,lt.ins_h,lt.window[dt+MIN_MATCH-1]),lt.prev[dt&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=dt,dt++;while(--pt);lt.strstart=dt,lt.lookahead=MIN_MATCH-1,fill_window(lt)}return lt.strstart+=lt.lookahead,lt.block_start=lt.strstart,lt.insert=lt.lookahead,lt.lookahead=0,lt.match_length=lt.prev_length=MIN_MATCH-1,lt.match_available=0,_e.next_in=ut,_e.input=ft,_e.avail_in=ct,lt.wrap=st,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_e,rt)=>Object.prototype.hasOwnProperty.call(_e,rt);var assign=function(_e){const rt=Array.prototype.slice.call(arguments,1);for(;rt.length;){const at=rt.shift();if(at){if(typeof at!="object")throw new TypeError(at+"must be non-object");for(const lt in at)_has(at,lt)&&(_e[lt]=at[lt])}}return _e},flattenChunks=_e=>{let rt=0;for(let lt=0,st=_e.length;lt<st;lt++)rt+=_e[lt].length;const at=new Uint8Array(rt);for(let lt=0,st=0,ct=_e.length;lt<ct;lt++){let ut=_e[lt];at.set(ut,st),st+=ut.length}return at},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _e=0;_e<256;_e++)_utf8len[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_e);let rt,at,lt,st,ct,ut=_e.length,ft=0;for(st=0;st<ut;st++)at=_e.charCodeAt(st),(at&64512)===55296&&st+1<ut&&(lt=_e.charCodeAt(st+1),(lt&64512)===56320&&(at=65536+(at-55296<<10)+(lt-56320),st++)),ft+=at<128?1:at<2048?2:at<65536?3:4;for(rt=new Uint8Array(ft),ct=0,st=0;ct<ft;st++)at=_e.charCodeAt(st),(at&64512)===55296&&st+1<ut&&(lt=_e.charCodeAt(st+1),(lt&64512)===56320&&(at=65536+(at-55296<<10)+(lt-56320),st++)),at<128?rt[ct++]=at:at<2048?(rt[ct++]=192|at>>>6,rt[ct++]=128|at&63):at<65536?(rt[ct++]=224|at>>>12,rt[ct++]=128|at>>>6&63,rt[ct++]=128|at&63):(rt[ct++]=240|at>>>18,rt[ct++]=128|at>>>12&63,rt[ct++]=128|at>>>6&63,rt[ct++]=128|at&63);return rt};const buf2binstring=(_e,rt)=>{if(rt<65534&&_e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_e.length===rt?_e:_e.subarray(0,rt));let at="";for(let lt=0;lt<rt;lt++)at+=String.fromCharCode(_e[lt]);return at};var buf2string=(_e,rt)=>{const at=rt||_e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_e.subarray(0,rt));let lt,st;const ct=new Array(at*2);for(st=0,lt=0;lt<at;){let ut=_e[lt++];if(ut<128){ct[st++]=ut;continue}let ft=_utf8len[ut];if(ft>4){ct[st++]=65533,lt+=ft-1;continue}for(ut&=ft===2?31:ft===3?15:7;ft>1&&lt<at;)ut=ut<<6|_e[lt++]&63,ft--;if(ft>1){ct[st++]=65533;continue}ut<65536?ct[st++]=ut:(ut-=65536,ct[st++]=55296|ut>>10&1023,ct[st++]=56320|ut&1023)}return buf2binstring(ct,st)},utf8border=(_e,rt)=>{rt=rt||_e.length,rt>_e.length&&(rt=_e.length);let at=rt-1;for(;at>=0&&(_e[at]&192)===128;)at--;return at<0||at===0?rt:at+_utf8len[_e[at]]>rt?at:rt},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_e||{});let rt=this.options;rt.raw&&rt.windowBits>0?rt.windowBits=-rt.windowBits:rt.gzip&&rt.windowBits>0&&rt.windowBits<16&&(rt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let at=deflate_1$2.deflateInit2(this.strm,rt.level,rt.method,rt.windowBits,rt.memLevel,rt.strategy);if(at!==Z_OK$2)throw new Error(messages[at]);if(rt.header&&deflate_1$2.deflateSetHeader(this.strm,rt.header),rt.dictionary){let lt;if(typeof rt.dictionary=="string"?lt=strings.string2buf(rt.dictionary):toString$1$1.call(rt.dictionary)==="[object ArrayBuffer]"?lt=new Uint8Array(rt.dictionary):lt=rt.dictionary,at=deflate_1$2.deflateSetDictionary(this.strm,lt),at!==Z_OK$2)throw new Error(messages[at]);this._dict_set=!0}}Deflate$1.prototype.push=function(_e,rt){const at=this.strm,lt=this.options.chunkSize;let st,ct;if(this.ended)return!1;for(rt===~~rt?ct=rt:ct=rt===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _e=="string"?at.input=strings.string2buf(_e):toString$1$1.call(_e)==="[object ArrayBuffer]"?at.input=new Uint8Array(_e):at.input=_e,at.next_in=0,at.avail_in=at.input.length;;){if(at.avail_out===0&&(at.output=new Uint8Array(lt),at.next_out=0,at.avail_out=lt),(ct===Z_SYNC_FLUSH||ct===Z_FULL_FLUSH)&&at.avail_out<=6){this.onData(at.output.subarray(0,at.next_out)),at.avail_out=0;continue}if(st=deflate_1$2.deflate(at,ct),st===Z_STREAM_END$2)return at.next_out>0&&this.onData(at.output.subarray(0,at.next_out)),st=deflate_1$2.deflateEnd(this.strm),this.onEnd(st),this.ended=!0,st===Z_OK$2;if(at.avail_out===0){this.onData(at.output);continue}if(ct>0&&at.next_out>0){this.onData(at.output.subarray(0,at.next_out)),at.avail_out=0;continue}if(at.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Deflate$1.prototype.onEnd=function(_e){_e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function _e(rt,at){let lt,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,yt,_t,$t,Et,wt,bt,St,Tt,Rt,kt,At,Ct;const Mt=rt.state;lt=rt.next_in,At=rt.input,st=lt+(rt.avail_in-5),ct=rt.next_out,Ct=rt.output,ut=ct-(at-rt.avail_out),ft=ct+(rt.avail_out-257),dt=Mt.dmax,pt=Mt.wsize,ht=Mt.whave,gt=Mt.wnext,mt=Mt.window,xt=Mt.hold,vt=Mt.bits,yt=Mt.lencode,_t=Mt.distcode,$t=(1<<Mt.lenbits)-1,Et=(1<<Mt.distbits)-1;e:do{vt<15&&(xt+=At[lt++]<<vt,vt+=8,xt+=At[lt++]<<vt,vt+=8),wt=yt[xt&$t];t:for(;;){if(bt=wt>>>24,xt>>>=bt,vt-=bt,bt=wt>>>16&255,bt===0)Ct[ct++]=wt&65535;else if(bt&16){St=wt&65535,bt&=15,bt&&(vt<bt&&(xt+=At[lt++]<<vt,vt+=8),St+=xt&(1<<bt)-1,xt>>>=bt,vt-=bt),vt<15&&(xt+=At[lt++]<<vt,vt+=8,xt+=At[lt++]<<vt,vt+=8),wt=_t[xt&Et];n:for(;;){if(bt=wt>>>24,xt>>>=bt,vt-=bt,bt=wt>>>16&255,bt&16){if(Tt=wt&65535,bt&=15,vt<bt&&(xt+=At[lt++]<<vt,vt+=8,vt<bt&&(xt+=At[lt++]<<vt,vt+=8)),Tt+=xt&(1<<bt)-1,Tt>dt){rt.msg="invalid distance too far back",Mt.mode=BAD$1;break e}if(xt>>>=bt,vt-=bt,bt=ct-ut,Tt>bt){if(bt=Tt-bt,bt>ht&&Mt.sane){rt.msg="invalid distance too far back",Mt.mode=BAD$1;break e}if(Rt=0,kt=mt,gt===0){if(Rt+=pt-bt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}}else if(gt<bt){if(Rt+=pt+gt-bt,bt-=gt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);if(Rt=0,gt<St){bt=gt,St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}}}else if(Rt+=gt-bt,bt<St){St-=bt;do Ct[ct++]=mt[Rt++];while(--bt);Rt=ct-Tt,kt=Ct}for(;St>2;)Ct[ct++]=kt[Rt++],Ct[ct++]=kt[Rt++],Ct[ct++]=kt[Rt++],St-=3;St&&(Ct[ct++]=kt[Rt++],St>1&&(Ct[ct++]=kt[Rt++]))}else{Rt=ct-Tt;do Ct[ct++]=Ct[Rt++],Ct[ct++]=Ct[Rt++],Ct[ct++]=Ct[Rt++],St-=3;while(St>2);St&&(Ct[ct++]=Ct[Rt++],St>1&&(Ct[ct++]=Ct[Rt++]))}}else if(bt&64){rt.msg="invalid distance code",Mt.mode=BAD$1;break e}else{wt=_t[(wt&65535)+(xt&(1<<bt)-1)];continue n}break}}else if(bt&64)if(bt&32){Mt.mode=TYPE$1;break e}else{rt.msg="invalid literal/length code",Mt.mode=BAD$1;break e}else{wt=yt[(wt&65535)+(xt&(1<<bt)-1)];continue t}break}}while(lt<st&&ct<ft);St=vt>>3,lt-=St,vt-=St<<3,xt&=(1<<vt)-1,rt.next_in=lt,rt.next_out=ct,rt.avail_in=lt<st?5+(st-lt):5-(lt-st),rt.avail_out=ct<ft?257+(ft-ct):257-(ct-ft),Mt.hold=xt,Mt.bits=vt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_e,rt,at,lt,st,ct,ut,ft)=>{const dt=ft.bits;let pt=0,ht=0,gt=0,mt=0,xt=0,vt=0,yt=0,_t=0,$t=0,Et=0,wt,bt,St,Tt,Rt,kt=null,At;const Ct=new Uint16Array(MAXBITS+1),Mt=new Uint16Array(MAXBITS+1);let Ot=null,Pt,It,Ft;for(pt=0;pt<=MAXBITS;pt++)Ct[pt]=0;for(ht=0;ht<lt;ht++)Ct[rt[at+ht]]++;for(xt=dt,mt=MAXBITS;mt>=1&&Ct[mt]===0;mt--);if(xt>mt&&(xt=mt),mt===0)return st[ct++]=1<<24|64<<16|0,st[ct++]=1<<24|64<<16|0,ft.bits=1,0;for(gt=1;gt<mt&&Ct[gt]===0;gt++);for(xt<gt&&(xt=gt),_t=1,pt=1;pt<=MAXBITS;pt++)if(_t<<=1,_t-=Ct[pt],_t<0)return-1;if(_t>0&&(_e===CODES$1||mt!==1))return-1;for(Mt[1]=0,pt=1;pt<MAXBITS;pt++)Mt[pt+1]=Mt[pt]+Ct[pt];for(ht=0;ht<lt;ht++)rt[at+ht]!==0&&(ut[Mt[rt[at+ht]]++]=ht);if(_e===CODES$1?(kt=Ot=ut,At=20):_e===LENS$1?(kt=lbase,Ot=lext,At=257):(kt=dbase,Ot=dext,At=0),Et=0,ht=0,pt=gt,Rt=ct,vt=xt,yt=0,St=-1,$t=1<<xt,Tt=$t-1,_e===LENS$1&&$t>ENOUGH_LENS$1||_e===DISTS$1&&$t>ENOUGH_DISTS$1)return 1;for(;;){Pt=pt-yt,ut[ht]+1<At?(It=0,Ft=ut[ht]):ut[ht]>=At?(It=Ot[ut[ht]-At],Ft=kt[ut[ht]-At]):(It=32+64,Ft=0),wt=1<<pt-yt,bt=1<<vt,gt=bt;do bt-=wt,st[Rt+(Et>>yt)+bt]=Pt<<24|It<<16|Ft|0;while(bt!==0);for(wt=1<<pt-1;Et&wt;)wt>>=1;if(wt!==0?(Et&=wt-1,Et+=wt):Et=0,ht++,--Ct[pt]===0){if(pt===mt)break;pt=rt[at+ut[ht]]}if(pt>xt&&(Et&Tt)!==St){for(yt===0&&(yt=xt),Rt+=gt,vt=pt-yt,_t=1<<vt;vt+yt<mt&&(_t-=Ct[vt+yt],!(_t<=0));)vt++,_t<<=1;if($t+=1<<vt,_e===LENS$1&&$t>ENOUGH_LENS$1||_e===DISTS$1&&$t>ENOUGH_DISTS$1)return 1;St=Et&Tt,st[St]=xt<<24|vt<<16|Rt-ct|0}}return Et!==0&&(st[Rt+Et]=pt-yt<<24|64<<16|0),ft.bits=xt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_e=>(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_e=>{if(!_e)return 1;const rt=_e.state;return!rt||rt.strm!==_e||rt.mode<HEAD||rt.mode>SYNC?1:0},inflateResetKeep=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const rt=_e.state;return _e.total_in=_e.total_out=rt.total=0,_e.msg="",rt.wrap&&(_e.adler=rt.wrap&1),rt.mode=HEAD,rt.last=0,rt.havedict=0,rt.flags=-1,rt.dmax=32768,rt.head=null,rt.hold=0,rt.bits=0,rt.lencode=rt.lendyn=new Int32Array(ENOUGH_LENS),rt.distcode=rt.distdyn=new Int32Array(ENOUGH_DISTS),rt.sane=1,rt.back=-1,Z_OK$1},inflateReset=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const rt=_e.state;return rt.wsize=0,rt.whave=0,rt.wnext=0,inflateResetKeep(_e)},inflateReset2=(_e,rt)=>{let at;if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const lt=_e.state;return rt<0?(at=0,rt=-rt):(at=(rt>>4)+5,rt<48&&(rt&=15)),rt&&(rt<8||rt>15)?Z_STREAM_ERROR$1:(lt.window!==null&&lt.wbits!==rt&&(lt.window=null),lt.wrap=at,lt.wbits=rt,inflateReset(_e))},inflateInit2=(_e,rt)=>{if(!_e)return Z_STREAM_ERROR$1;const at=new InflateState;_e.state=at,at.strm=_e,at.window=null,at.mode=HEAD;const lt=inflateReset2(_e,rt);return lt!==Z_OK$1&&(_e.state=null),lt},inflateInit=_e=>inflateInit2(_e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let rt=0;for(;rt<144;)_e.lens[rt++]=8;for(;rt<256;)_e.lens[rt++]=9;for(;rt<280;)_e.lens[rt++]=7;for(;rt<288;)_e.lens[rt++]=8;for(inftrees(LENS,_e.lens,0,288,lenfix,0,_e.work,{bits:9}),rt=0;rt<32;)_e.lens[rt++]=5;inftrees(DISTS,_e.lens,0,32,distfix,0,_e.work,{bits:5}),virgin=!1}_e.lencode=lenfix,_e.lenbits=9,_e.distcode=distfix,_e.distbits=5},updatewindow=(_e,rt,at,lt)=>{let st;const ct=_e.state;return ct.window===null&&(ct.wsize=1<<ct.wbits,ct.wnext=0,ct.whave=0,ct.window=new Uint8Array(ct.wsize)),lt>=ct.wsize?(ct.window.set(rt.subarray(at-ct.wsize,at),0),ct.wnext=0,ct.whave=ct.wsize):(st=ct.wsize-ct.wnext,st>lt&&(st=lt),ct.window.set(rt.subarray(at-lt,at-lt+st),ct.wnext),lt-=st,lt?(ct.window.set(rt.subarray(at-lt,at),0),ct.wnext=lt,ct.whave=ct.wsize):(ct.wnext+=st,ct.wnext===ct.wsize&&(ct.wnext=0),ct.whave<ct.wsize&&(ct.whave+=st))),0},inflate$2=(_e,rt)=>{let at,lt,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,vt,yt,_t=0,$t,Et,wt,bt,St,Tt,Rt,kt;const At=new Uint8Array(4);let Ct,Mt;const Ot=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_e)||!_e.output||!_e.input&&_e.avail_in!==0)return Z_STREAM_ERROR$1;at=_e.state,at.mode===TYPE&&(at.mode=TYPEDO),ut=_e.next_out,st=_e.output,dt=_e.avail_out,ct=_e.next_in,lt=_e.input,ft=_e.avail_in,pt=at.hold,ht=at.bits,gt=ft,mt=dt,kt=Z_OK$1;e:for(;;)switch(at.mode){case HEAD:if(at.wrap===0){at.mode=TYPEDO;break}for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&2&&pt===35615){at.wbits===0&&(at.wbits=15),at.check=0,At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0),pt=0,ht=0,at.mode=FLAGS;break}if(at.head&&(at.head.done=!1),!(at.wrap&1)||(((pt&255)<<8)+(pt>>8))%31){_e.msg="incorrect header check",at.mode=BAD;break}if((pt&15)!==Z_DEFLATED){_e.msg="unknown compression method",at.mode=BAD;break}if(pt>>>=4,ht-=4,Rt=(pt&15)+8,at.wbits===0&&(at.wbits=Rt),Rt>15||Rt>at.wbits){_e.msg="invalid window size",at.mode=BAD;break}at.dmax=1<<at.wbits,at.flags=0,_e.adler=at.check=1,at.mode=pt&512?DICTID:TYPE,pt=0,ht=0;break;case FLAGS:for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.flags=pt,(at.flags&255)!==Z_DEFLATED){_e.msg="unknown compression method",at.mode=BAD;break}if(at.flags&57344){_e.msg="unknown header flags set",at.mode=BAD;break}at.head&&(at.head.text=pt>>8&1),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0,at.mode=TIME;case TIME:for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.head&&(at.head.time=pt),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,At[2]=pt>>>16&255,At[3]=pt>>>24&255,at.check=crc32_1(at.check,At,4,0)),pt=0,ht=0,at.mode=OS;case OS:for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.head&&(at.head.xflags=pt&255,at.head.os=pt>>8),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0,at.mode=EXLEN;case EXLEN:if(at.flags&1024){for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.length=pt,at.head&&(at.head.extra_len=pt),at.flags&512&&at.wrap&4&&(At[0]=pt&255,At[1]=pt>>>8&255,at.check=crc32_1(at.check,At,2,0)),pt=0,ht=0}else at.head&&(at.head.extra=null);at.mode=EXTRA;case EXTRA:if(at.flags&1024&&(xt=at.length,xt>ft&&(xt=ft),xt&&(at.head&&(Rt=at.head.extra_len-at.length,at.head.extra||(at.head.extra=new Uint8Array(at.head.extra_len)),at.head.extra.set(lt.subarray(ct,ct+xt),Rt)),at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,at.length-=xt),at.length))break e;at.length=0,at.mode=NAME;case NAME:if(at.flags&2048){if(ft===0)break e;xt=0;do Rt=lt[ct+xt++],at.head&&Rt&&at.length<65536&&(at.head.name+=String.fromCharCode(Rt));while(Rt&&xt<ft);if(at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,Rt)break e}else at.head&&(at.head.name=null);at.length=0,at.mode=COMMENT;case COMMENT:if(at.flags&4096){if(ft===0)break e;xt=0;do Rt=lt[ct+xt++],at.head&&Rt&&at.length<65536&&(at.head.comment+=String.fromCharCode(Rt));while(Rt&&xt<ft);if(at.flags&512&&at.wrap&4&&(at.check=crc32_1(at.check,lt,xt,ct)),ft-=xt,ct+=xt,Rt)break e}else at.head&&(at.head.comment=null);at.mode=HCRC;case HCRC:if(at.flags&512){for(;ht<16;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&4&&pt!==(at.check&65535)){_e.msg="header crc mismatch",at.mode=BAD;break}pt=0,ht=0}at.head&&(at.head.hcrc=at.flags>>9&1,at.head.done=!0),_e.adler=at.check=0,at.mode=TYPE;break;case DICTID:for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}_e.adler=at.check=zswap32(pt),pt=0,ht=0,at.mode=DICT;case DICT:if(at.havedict===0)return _e.next_out=ut,_e.avail_out=dt,_e.next_in=ct,_e.avail_in=ft,at.hold=pt,at.bits=ht,Z_NEED_DICT$1;_e.adler=at.check=1,at.mode=TYPE;case TYPE:if(rt===Z_BLOCK||rt===Z_TREES)break e;case TYPEDO:if(at.last){pt>>>=ht&7,ht-=ht&7,at.mode=CHECK;break}for(;ht<3;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}switch(at.last=pt&1,pt>>>=1,ht-=1,pt&3){case 0:at.mode=STORED;break;case 1:if(fixedtables(at),at.mode=LEN_,rt===Z_TREES){pt>>>=2,ht-=2;break e}break;case 2:at.mode=TABLE;break;case 3:_e.msg="invalid block type",at.mode=BAD}pt>>>=2,ht-=2;break;case STORED:for(pt>>>=ht&7,ht-=ht&7;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if((pt&65535)!==(pt>>>16^65535)){_e.msg="invalid stored block lengths",at.mode=BAD;break}if(at.length=pt&65535,pt=0,ht=0,at.mode=COPY_,rt===Z_TREES)break e;case COPY_:at.mode=COPY;case COPY:if(xt=at.length,xt){if(xt>ft&&(xt=ft),xt>dt&&(xt=dt),xt===0)break e;st.set(lt.subarray(ct,ct+xt),ut),ft-=xt,ct+=xt,dt-=xt,ut+=xt,at.length-=xt;break}at.mode=TYPE;break;case TABLE:for(;ht<14;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.nlen=(pt&31)+257,pt>>>=5,ht-=5,at.ndist=(pt&31)+1,pt>>>=5,ht-=5,at.ncode=(pt&15)+4,pt>>>=4,ht-=4,at.nlen>286||at.ndist>30){_e.msg="too many length or distance symbols",at.mode=BAD;break}at.have=0,at.mode=LENLENS;case LENLENS:for(;at.have<at.ncode;){for(;ht<3;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.lens[Ot[at.have++]]=pt&7,pt>>>=3,ht-=3}for(;at.have<19;)at.lens[Ot[at.have++]]=0;if(at.lencode=at.lendyn,at.lenbits=7,Ct={bits:at.lenbits},kt=inftrees(CODES,at.lens,0,19,at.lencode,0,at.work,Ct),at.lenbits=Ct.bits,kt){_e.msg="invalid code lengths set",at.mode=BAD;break}at.have=0,at.mode=CODELENS;case CODELENS:for(;at.have<at.nlen+at.ndist;){for(;_t=at.lencode[pt&(1<<at.lenbits)-1],$t=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!($t<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(wt<16)pt>>>=$t,ht-=$t,at.lens[at.have++]=wt;else{if(wt===16){for(Mt=$t+2;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(pt>>>=$t,ht-=$t,at.have===0){_e.msg="invalid bit length repeat",at.mode=BAD;break}Rt=at.lens[at.have-1],xt=3+(pt&3),pt>>>=2,ht-=2}else if(wt===17){for(Mt=$t+3;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=$t,ht-=$t,Rt=0,xt=3+(pt&7),pt>>>=3,ht-=3}else{for(Mt=$t+7;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=$t,ht-=$t,Rt=0,xt=11+(pt&127),pt>>>=7,ht-=7}if(at.have+xt>at.nlen+at.ndist){_e.msg="invalid bit length repeat",at.mode=BAD;break}for(;xt--;)at.lens[at.have++]=Rt}}if(at.mode===BAD)break;if(at.lens[256]===0){_e.msg="invalid code -- missing end-of-block",at.mode=BAD;break}if(at.lenbits=9,Ct={bits:at.lenbits},kt=inftrees(LENS,at.lens,0,at.nlen,at.lencode,0,at.work,Ct),at.lenbits=Ct.bits,kt){_e.msg="invalid literal/lengths set",at.mode=BAD;break}if(at.distbits=6,at.distcode=at.distdyn,Ct={bits:at.distbits},kt=inftrees(DISTS,at.lens,at.nlen,at.ndist,at.distcode,0,at.work,Ct),at.distbits=Ct.bits,kt){_e.msg="invalid distances set",at.mode=BAD;break}if(at.mode=LEN_,rt===Z_TREES)break e;case LEN_:at.mode=LEN;case LEN:if(ft>=6&&dt>=258){_e.next_out=ut,_e.avail_out=dt,_e.next_in=ct,_e.avail_in=ft,at.hold=pt,at.bits=ht,inffast(_e,mt),ut=_e.next_out,st=_e.output,dt=_e.avail_out,ct=_e.next_in,lt=_e.input,ft=_e.avail_in,pt=at.hold,ht=at.bits,at.mode===TYPE&&(at.back=-1);break}for(at.back=0;_t=at.lencode[pt&(1<<at.lenbits)-1],$t=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!($t<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(Et&&!(Et&240)){for(bt=$t,St=Et,Tt=wt;_t=at.lencode[Tt+((pt&(1<<bt+St)-1)>>bt)],$t=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(bt+$t<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=bt,ht-=bt,at.back+=bt}if(pt>>>=$t,ht-=$t,at.back+=$t,at.length=wt,Et===0){at.mode=LIT;break}if(Et&32){at.back=-1,at.mode=TYPE;break}if(Et&64){_e.msg="invalid literal/length code",at.mode=BAD;break}at.extra=Et&15,at.mode=LENEXT;case LENEXT:if(at.extra){for(Mt=at.extra;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.length+=pt&(1<<at.extra)-1,pt>>>=at.extra,ht-=at.extra,at.back+=at.extra}at.was=at.length,at.mode=DIST;case DIST:for(;_t=at.distcode[pt&(1<<at.distbits)-1],$t=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!($t<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(!(Et&240)){for(bt=$t,St=Et,Tt=wt;_t=at.distcode[Tt+((pt&(1<<bt+St)-1)>>bt)],$t=_t>>>24,Et=_t>>>16&255,wt=_t&65535,!(bt+$t<=ht);){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}pt>>>=bt,ht-=bt,at.back+=bt}if(pt>>>=$t,ht-=$t,at.back+=$t,Et&64){_e.msg="invalid distance code",at.mode=BAD;break}at.offset=wt,at.extra=Et&15,at.mode=DISTEXT;case DISTEXT:if(at.extra){for(Mt=at.extra;ht<Mt;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}at.offset+=pt&(1<<at.extra)-1,pt>>>=at.extra,ht-=at.extra,at.back+=at.extra}if(at.offset>at.dmax){_e.msg="invalid distance too far back",at.mode=BAD;break}at.mode=MATCH;case MATCH:if(dt===0)break e;if(xt=mt-dt,at.offset>xt){if(xt=at.offset-xt,xt>at.whave&&at.sane){_e.msg="invalid distance too far back",at.mode=BAD;break}xt>at.wnext?(xt-=at.wnext,vt=at.wsize-xt):vt=at.wnext-xt,xt>at.length&&(xt=at.length),yt=at.window}else yt=st,vt=ut-at.offset,xt=at.length;xt>dt&&(xt=dt),dt-=xt,at.length-=xt;do st[ut++]=yt[vt++];while(--xt);at.length===0&&(at.mode=LEN);break;case LIT:if(dt===0)break e;st[ut++]=at.length,dt--,at.mode=LEN;break;case CHECK:if(at.wrap){for(;ht<32;){if(ft===0)break e;ft--,pt|=lt[ct++]<<ht,ht+=8}if(mt-=dt,_e.total_out+=mt,at.total+=mt,at.wrap&4&&mt&&(_e.adler=at.check=at.flags?crc32_1(at.check,st,mt,ut-mt):adler32_1(at.check,st,mt,ut-mt)),mt=dt,at.wrap&4&&(at.flags?pt:zswap32(pt))!==at.check){_e.msg="incorrect data check",at.mode=BAD;break}pt=0,ht=0}at.mode=LENGTH;case LENGTH:if(at.wrap&&at.flags){for(;ht<32;){if(ft===0)break e;ft--,pt+=lt[ct++]<<ht,ht+=8}if(at.wrap&4&&pt!==(at.total&4294967295)){_e.msg="incorrect length check",at.mode=BAD;break}pt=0,ht=0}at.mode=DONE;case DONE:kt=Z_STREAM_END$1;break e;case BAD:kt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _e.next_out=ut,_e.avail_out=dt,_e.next_in=ct,_e.avail_in=ft,at.hold=pt,at.bits=ht,(at.wsize||mt!==_e.avail_out&&at.mode<BAD&&(at.mode<CHECK||rt!==Z_FINISH$1))&&updatewindow(_e,_e.output,_e.next_out,mt-_e.avail_out),gt-=_e.avail_in,mt-=_e.avail_out,_e.total_in+=gt,_e.total_out+=mt,at.total+=mt,at.wrap&4&&mt&&(_e.adler=at.check=at.flags?crc32_1(at.check,st,mt,_e.next_out-mt):adler32_1(at.check,st,mt,_e.next_out-mt)),_e.data_type=at.bits+(at.last?64:0)+(at.mode===TYPE?128:0)+(at.mode===LEN_||at.mode===COPY_?256:0),(gt===0&&mt===0||rt===Z_FINISH$1)&&kt===Z_OK$1&&(kt=Z_BUF_ERROR),kt},inflateEnd=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;let rt=_e.state;return rt.window&&(rt.window=null),_e.state=null,Z_OK$1},inflateGetHeader=(_e,rt)=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const at=_e.state;return at.wrap&2?(at.head=rt,rt.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(_e,rt)=>{const at=rt.length;let lt,st,ct;return inflateStateCheck(_e)||(lt=_e.state,lt.wrap!==0&&lt.mode!==DICT)?Z_STREAM_ERROR$1:lt.mode===DICT&&(st=1,st=adler32_1(st,rt,at,0),st!==lt.check)?Z_DATA_ERROR$1:(ct=updatewindow(_e,rt,at,at),ct?(lt.mode=MEM,Z_MEM_ERROR$1):(lt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_e||{});const rt=this.options;rt.raw&&rt.windowBits>=0&&rt.windowBits<16&&(rt.windowBits=-rt.windowBits,rt.windowBits===0&&(rt.windowBits=-15)),rt.windowBits>=0&&rt.windowBits<16&&!(_e&&_e.windowBits)&&(rt.windowBits+=32),rt.windowBits>15&&rt.windowBits<48&&(rt.windowBits&15||(rt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let at=inflate_1$2.inflateInit2(this.strm,rt.windowBits);if(at!==Z_OK)throw new Error(messages[at]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),rt.dictionary&&(typeof rt.dictionary=="string"?rt.dictionary=strings.string2buf(rt.dictionary):toString$2.call(rt.dictionary)==="[object ArrayBuffer]"&&(rt.dictionary=new Uint8Array(rt.dictionary)),rt.raw&&(at=inflate_1$2.inflateSetDictionary(this.strm,rt.dictionary),at!==Z_OK)))throw new Error(messages[at])}Inflate$1.prototype.push=function(_e,rt){const at=this.strm,lt=this.options.chunkSize,st=this.options.dictionary;let ct,ut,ft;if(this.ended)return!1;for(rt===~~rt?ut=rt:ut=rt===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(_e)==="[object ArrayBuffer]"?at.input=new Uint8Array(_e):at.input=_e,at.next_in=0,at.avail_in=at.input.length;;){for(at.avail_out===0&&(at.output=new Uint8Array(lt),at.next_out=0,at.avail_out=lt),ct=inflate_1$2.inflate(at,ut),ct===Z_NEED_DICT&&st&&(ct=inflate_1$2.inflateSetDictionary(at,st),ct===Z_OK?ct=inflate_1$2.inflate(at,ut):ct===Z_DATA_ERROR&&(ct=Z_NEED_DICT));at.avail_in>0&&ct===Z_STREAM_END&&at.state.wrap>0&&_e[at.next_in]!==0;)inflate_1$2.inflateReset(at),ct=inflate_1$2.inflate(at,ut);switch(ct){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ct),this.ended=!0,!1}if(ft=at.avail_out,at.next_out&&(at.avail_out===0||ct===Z_STREAM_END))if(this.options.to==="string"){let dt=strings.utf8border(at.output,at.next_out),pt=at.next_out-dt,ht=strings.buf2string(at.output,dt);at.next_out=pt,at.avail_out=lt-pt,pt&&at.output.set(at.output.subarray(dt,dt+pt),0),this.onData(ht)}else this.onData(at.output.length===at.next_out?at.output:at.output.subarray(0,at.next_out));if(!(ct===Z_OK&&ft===0)){if(ct===Z_STREAM_END)return ct=inflate_1$2.inflateEnd(this.strm),this.onEnd(ct),this.ended=!0,!0;if(at.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Inflate$1.prototype.onEnd=function(_e){_e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};function inflate$1(_e,rt){const at=new Inflate$1(rt);if(at.push(_e),at.err)throw at.msg||messages[at.err];return at.result}function inflateRaw$1(_e,rt){return rt=rt||{},rt.raw=!0,inflate$1(_e,rt)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let _e=0;_e<256;_e++){let rt=_e;for(let at=0;at<8;at++)rt&1?rt=3988292384^rt>>>1:rt=rt>>>1;crcTable[_e]=rt}const initialCrc=4294967295;function updateCrc(_e,rt,at){let lt=_e;for(let st=0;st<at;st++)lt=crcTable[(lt^rt[st])&255]^lt>>>8;return lt}function crc(_e,rt){return(updateCrc(initialCrc,_e,rt)^initialCrc)>>>0}var ColorType;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.GREYSCALE=0]="GREYSCALE",_e[_e.TRUECOLOUR=2]="TRUECOLOUR",_e[_e.INDEXED_COLOUR=3]="INDEXED_COLOUR",_e[_e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",_e[_e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.NO_INTERLACE=0]="NO_INTERLACE",_e[_e.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer{constructor(rt,at={}){super(rt);const{checkCrc:lt=!1}=at;this._checkCrc=lt,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let rt=0;rt<pngSignature.length;rt++)if(this.readUint8()!==pngSignature[rt])throw new Error(`wrong PNG signature. Byte at ${rt} should be ${pngSignature[rt]}.`)}decodeChunk(){const rt=this.readUint32(),at=this.readChars(4),lt=this.offset;switch(at){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(rt);break;case"IDAT":this.decodeIDAT(rt);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(rt);break;case"iCCP":this.decodeiCCP(rt);break;case"tEXt":this.decodetEXt(rt);break;case"pHYs":this.decodepHYs();break;default:this.skip(rt);break}if(this.offset-lt!==rt)throw new Error(`Length mismatch while decoding chunk ${at}`);if(this._checkCrc){const st=this.readUint32(),ct=rt+4,ut=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-ct-4,ct),ct);if(ut!==st)throw new Error(`CRC mismatch for chunk ${at}. Expected ${st}, found ${ut}`)}else this.skip(4)}decodeIHDR(){const rt=this._png;rt.width=this.readUint32(),rt.height=this.readUint32(),rt.depth=checkBitDepth(this.readUint8());const at=this.readUint8();this._colorType=at;let lt;switch(at){case ColorType.GREYSCALE:lt=1;break;case ColorType.TRUECOLOUR:lt=3;break;case ColorType.INDEXED_COLOUR:lt=1;break;case ColorType.GREYSCALE_ALPHA:lt=2;break;case ColorType.TRUECOLOUR_ALPHA:lt=4;break;default:throw new Error(`Unknown color type: ${at}`)}if(this._png.channels=lt,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(rt){if(rt%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${rt}`);const at=rt/3;this._hasPalette=!0;const lt=[];this._palette=lt;for(let st=0;st<at;st++)lt.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(rt){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,rt)),this.skip(rt)}decodetRNS(rt){if(this._colorType===3){if(rt>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${rt} vs ${this._palette.length})`);let at=0;for(;at<rt;at++){const lt=this.readByte();this._palette[at].push(lt)}for(;at<this._palette.length;at++)this._palette[at].push(255)}}decodeiCCP(rt){let at="",lt;for(;(lt=this.readChar())!==NULL;)at+=lt;const st=this.readUint8();if(st!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${st}`);const ct=this.readBytes(rt-at.length-2);this._png.iccEmbeddedProfile={name:at,profile:inflate_1(ct)}}decodetEXt(rt){let at="",lt;for(;(lt=this.readChar())!==NULL;)at+=lt;this._png.text[at]=this.readChars(rt-at.length-1)}decodepHYs(){const rt=this.readUint32(),at=this.readUint32(),lt=this.readByte();this._png.resolution={x:rt,y:at,unit:lt}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const rt=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(rt);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(rt){const at=this._png.height,lt=this._png.channels*this._png.depth/8,st=this._png.width*lt,ct=new Uint8Array(this._png.height*st);let ut=empty,ft=0,dt,pt;for(let ht=0;ht<at;ht++){switch(dt=rt.subarray(ft+1,ft+1+st),pt=ct.subarray(ht*st,(ht+1)*st),rt[ft]){case 0:unfilterNone(dt,pt,st);break;case 1:unfilterSub(dt,pt,st,lt);break;case 2:unfilterUp(dt,pt,ut,st);break;case 3:unfilterAverage(dt,pt,ut,st,lt);break;case 4:unfilterPaeth(dt,pt,ut,st,lt);break;default:throw new Error(`Unsupported filter: ${rt[ft]}`)}ut=pt,ft+=st+1}if(this._hasPalette&&(this._png.palette=this._palette),this._png.depth===16){const ht=new Uint16Array(ct.buffer);if(osIsLittleEndian)for(let gt=0;gt<ht.length;gt++)ht[gt]=swap16(ht[gt]);this._png.data=ht}else this._png.data=ct}}function unfilterNone(_e,rt,at){for(let lt=0;lt<at;lt++)rt[lt]=_e[lt]}function unfilterSub(_e,rt,at,lt){let st=0;for(;st<lt;st++)rt[st]=_e[st];for(;st<at;st++)rt[st]=_e[st]+rt[st-lt]&255}function unfilterUp(_e,rt,at,lt){let st=0;if(at.length===0)for(;st<lt;st++)rt[st]=_e[st];else for(;st<lt;st++)rt[st]=_e[st]+at[st]&255}function unfilterAverage(_e,rt,at,lt,st){let ct=0;if(at.length===0){for(;ct<st;ct++)rt[ct]=_e[ct];for(;ct<lt;ct++)rt[ct]=_e[ct]+(rt[ct-st]>>1)&255}else{for(;ct<st;ct++)rt[ct]=_e[ct]+(at[ct]>>1)&255;for(;ct<lt;ct++)rt[ct]=_e[ct]+(rt[ct-st]+at[ct]>>1)&255}}function unfilterPaeth(_e,rt,at,lt,st){let ct=0;if(at.length===0){for(;ct<st;ct++)rt[ct]=_e[ct];for(;ct<lt;ct++)rt[ct]=_e[ct]+rt[ct-st]&255}else{for(;ct<st;ct++)rt[ct]=_e[ct]+at[ct]&255;for(;ct<lt;ct++)rt[ct]=_e[ct]+paethPredictor(rt[ct-st],at[ct],at[ct-st])&255}}function paethPredictor(_e,rt,at){const lt=_e+rt-at,st=Math.abs(lt-_e),ct=Math.abs(lt-rt),ut=Math.abs(lt-at);return st<=ct&&st<=ut?_e:ct<=ut?rt:at}function swap16(_e){return(_e&255)<<8|_e>>8&255}function checkBitDepth(_e){if(_e!==1&&_e!==2&&_e!==4&&_e!==8&&_e!==16)throw new Error(`invalid bit depth: ${_e}`);return _e}var ResolutionUnitSpecifier;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng$1(_e,rt){return new PngDecoder(_e,rt).decode()}function decodePng(_e){const rt=decodePng$1(_e);let at;const lt=rt.depth===16?16:8;if(rt.palette)return loadPalettePng(rt);switch(rt.channels){case 1:at="GREY";break;case 2:at="GREYA";break;case 3:at="RGB";break;case 4:at="RGBA";break;default:throw new Error(`Unexpected number of channels: ${rt.channels}`)}return new Image(rt.width,rt.height,{colorModel:at,depth:lt,data:rt.data})}function loadPalettePng(_e){if(!_e.palette)throw new Error("unexpected: there should be a palette when colourType is 3");const rt=_e.width*_e.height,at=new Uint8Array(rt*3),lt=8/_e.depth,st=_e.depth<8?lt:1,ct=Number.parseInt("1".repeat(_e.depth),2);let ut=0;for(let ft=0;ft<rt;ft++){const dt=Math.floor(ft/st);let pt=_e.data[dt];_e.depth<8&&(pt=pt>>>_e.depth*(lt-1-ft%lt)&ct);const ht=_e.palette[pt];at[ut++]=ht[0],at[ut++]=ht[1],at[ut++]=ht[2]}return new Image(_e.width,_e.height,{data:at})}function guessStripByteCounts(_e){if(_e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const rt=_e.rowsPerStrip*_e.width*_e.samplesPerPixel*(_e.bitsPerSample/8);return new Array(_e.stripOffsets.length).fill(rt)}function applyHorizontalDifferencing8Bit(_e,rt,at){let lt=0;for(;lt<_e.length;){for(let st=at;st<rt*at;st+=at)for(let ct=0;ct<at;ct++)_e[lt+st+ct]=_e[lt+st+ct]+_e[lt+st-(at-ct)]&255;lt+=rt*at}}function applyHorizontalDifferencing16Bit(_e,rt,at){let lt=0;for(;lt<_e.length;){for(let st=at;st<rt*at;st+=at)for(let ct=0;ct<at;ct++)_e[lt+st+ct]=_e[lt+st+ct]+_e[lt+st-(at-ct)]&65535;lt+=rt*at}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let _e in tagsById$2)tagsByName$2[tagsById$2[_e]]=Number(_e);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let _e in tagsById$1)tagsByName$1[tagsById$1[_e]]=Number(_e);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let _e in tagsById)tagsByName[tagsById[_e]]=Number(_e);const standard$1=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard:standard$1,exif,gps};class IFD{constructor(rt){if(!rt)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=rt,this._hasMap=!1,this._map={}}get(rt){if(typeof rt=="number")return this.fields.get(rt);if(typeof rt=="string")return this.fields.get(tags[this.kind].tagsByName[rt]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const rt=tags[this.kind].tagsById;for(let at of this.fields.keys())rt[at]&&(this._map[rt[at]]=this.fields.get(at));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(_e,rt){const at=types.get(_e);if(!at)throw new Error(`type not found: ${_e}`);return at[0]*rt}function readData(_e,rt,at){const lt=types.get(rt);if(!lt)throw new Error(`type not found: ${rt}`);return lt[1](_e,at)}function readByte(_e,rt){if(rt===1)return _e.readUint8();let at=new Uint8Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readUint8();return at}function readASCII(_e,rt){let at=[],lt="";for(let st=0;st<rt;st++){let ct=String.fromCharCode(_e.readUint8());ct==="\0"?(at.push(lt),lt=""):lt+=ct}return at.length===1?at[0]:at}function readShort(_e,rt){if(rt===1)return _e.readUint16();let at=new Uint16Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readUint16();return at}function readLong(_e,rt){if(rt===1)return _e.readUint32();let at=new Uint32Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readUint32();return at}function readRational(_e,rt){if(rt===1)return _e.readUint32()/_e.readUint32();let at=new Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readUint32()/_e.readUint32();return at}function readSByte(_e,rt){if(rt===1)return _e.readInt8();let at=new Int8Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readInt8();return at}function readSShort(_e,rt){if(rt===1)return _e.readInt16();let at=new Int16Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readInt16();return at}function readSLong(_e,rt){if(rt===1)return _e.readInt32();let at=new Int32Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readInt32();return at}function readSRational(_e,rt){if(rt===1)return _e.readInt32()/_e.readInt32();let at=new Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readInt32()/_e.readInt32();return at}function readFloat(_e,rt){if(rt===1)return _e.readFloat32();let at=new Float32Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readFloat32();return at}function readDouble(_e,rt){if(rt===1)return _e.readFloat64();let at=new Float64Array(rt);for(let lt=0;lt<rt;lt++)at[lt]=_e.readFloat64();return at}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let rt=0;rt<256;rt++)stringTable.push([rt]);const _e=[];for(let rt=256;rt<4096;rt++)stringTable.push(_e)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(rt){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength),this.outData=new IOBuffer(rt.byteLength),this.initializeTable()}decode(){let rt=0,at=0;for(;(rt=this.getNextCode())!==EOI_CODE;)if(rt===CLEAR_CODE){if(this.initializeTable(),rt=this.getNextCode(),rt===EOI_CODE)break;this.writeString(this.stringFromCode(rt)),at=rt}else if(this.isInTable(rt))this.writeString(this.stringFromCode(rt)),this.addStringToTable(this.stringFromCode(at).concat(this.stringFromCode(rt)[0])),at=rt;else{const st=this.stringFromCode(at).concat(this.stringFromCode(at)[0]);this.writeString(st),this.addStringToTable(st),at=rt}const lt=this.outData.toArray();return new DataView(lt.buffer,lt.byteOffset,lt.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(rt){this.outData.writeBytes(rt)}stringFromCode(rt){return stringTable[rt]}isInTable(rt){return rt<this.tableLength}addStringToTable(rt){if(stringTable[this.tableLength++]=rt,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const rt=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:rt}}function decompressLzw(_e){return new LzwDecoder(_e).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let rt=new Date,at=dateTimeRegex.exec(this.dateTime);if(at===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return rt.setFullYear(Number(at[1]),Number(at[2])-1,Number(at[3])),rt.setHours(Number(at[4]),Number(at[5]),Number(at[6])),rt}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const rt=this.get("BitsPerSample");return rt&&typeof rt!="number"?rt[0]:rt}get alpha(){const rt=this.extraSamples;return rt?rt[0]!==0:!1}get associatedAlpha(){const rt=this.extraSamples;return rt?rt[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const rt=2**this.bitsPerSample,at=this.get("ColorMap");if(!at)return;if(at.length!==3*rt)throw new Error(`ColorMap size must be ${rt}`);const lt=[];for(let st=0;st<rt;st++)lt.push([at[st],at[st+rt],at[st+2*rt]]);return lt}}function alwaysArray(_e){return typeof _e=="number"?[_e]:_e}function decompressZlib(_e){const rt=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),at=inflate_1(rt);return new DataView(at.buffer,at.byteOffset,at.byteLength)}const defaultOptions$1={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer{constructor(rt){super(rt),this._nextIFD=0}get isMultiPage(){let rt=0;for(this.decodeHeader();this._nextIFD;)if(rt++,this.decodeIFD({ignoreImageData:!0},!0),rt===2)return!0;if(rt===1)return!1;throw unsupported("ifdCount",rt)}get pageCount(){let rt=0;for(this.decodeHeader();this._nextIFD;)rt++,this.decodeIFD({ignoreImageData:!0},!0);if(rt>0)return rt;throw unsupported("ifdCount",rt)}decode(rt={}){rt=Object.assign({},defaultOptions$1,rt);const at=[];for(this.decodeHeader();this._nextIFD;)if(at.push(this.decodeIFD(rt,!0)),rt.onlyFirst)return[at[0]];return at}decodeHeader(){const rt=this.readUint16();if(rt===18761)this.setLittleEndian();else if(rt===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${rt.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(rt,at){this.seek(this._nextIFD);let lt;if(at)lt=new TiffIfd;else{if(!rt.kind)throw new Error("kind is missing");lt=new IFD(rt.kind)}const st=this.readUint16();for(let ct=0;ct<st;ct++)this.decodeIFDEntry(lt);if(!rt.ignoreImageData){if(!(lt instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(lt)}return this._nextIFD=this.readUint32(),lt}decodeIFDEntry(rt){const at=this.offset,lt=this.readUint16(),st=this.readUint16(),ct=this.readUint32();if(st<1||st>12){this.skip(4);return}getByteLength(st,ct)>4&&this.seek(this.readUint32());const ft=readData(this,st,ct);if(rt.fields.set(lt,ft),lt===34665||lt===34853){let dt=this.offset,pt="exif";lt===34665?pt="exif":lt===34853&&(pt="gps"),this._nextIFD=ft,rt[pt]=this.decodeIFD({kind:pt,ignoreImageData:!0},!1),this.offset=dt}this.seek(at),this.skip(12)}decodeImageData(rt){const at=rt.orientation;if(at&&at!==1)throw unsupported("orientation",at);switch(rt.type){case 0:case 1:case 2:case 3:this.readStripData(rt);break;default:throw unsupported("image type",rt.type)}if(this.applyPredictor(rt),this.convertAlpha(rt),rt.type===0){const lt=rt.bitsPerSample,st=Math.pow(2,lt)-1;for(let ct=0;ct<rt.data.length;ct++)rt.data[ct]=st-rt.data[ct]}}readStripData(rt){const at=rt.width,lt=rt.height,st=rt.bitsPerSample,ct=rt.sampleFormat,ut=at*lt*rt.samplesPerPixel,ft=getDataArray(ut,st,ct),pt=rt.rowsPerStrip*at*rt.samplesPerPixel,ht=rt.stripOffsets,gt=rt.stripByteCounts||guessStripByteCounts(rt);let mt=ut,xt=0;for(let vt=0;vt<ht.length;vt++){let yt=new DataView(this.buffer,this.byteOffset+ht[vt],gt[vt]),_t=mt>pt?pt:mt;mt-=_t;let $t=yt;switch(rt.compression){case 1:break;case 5:{$t=decompressLzw(yt);break}case 8:{$t=decompressZlib(yt);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",rt.compression)}xt=this.fillUncompressed(st,ct,ft,$t,xt,_t)}rt.data=ft}fillUncompressed(rt,at,lt,st,ct,ut){if(rt===8)return fill8bit(lt,st,ct,ut);if(rt===16)return fill16bit(lt,st,ct,ut,this.isLittleEndian());if(rt===32&&at===3)return fillFloat32(lt,st,ct,ut,this.isLittleEndian());throw unsupported("bitDepth",rt)}applyPredictor(rt){const at=rt.bitsPerSample;switch(rt.predictor){case 1:break;case 2:{if(at===8)applyHorizontalDifferencing8Bit(rt.data,rt.width,rt.components);else if(at===16)applyHorizontalDifferencing16Bit(rt.data,rt.width,rt.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${at}`);break}default:throw new Error(`invalid predictor: ${rt.predictor}`)}}convertAlpha(rt){if(rt.alpha&&rt.associatedAlpha){const{data:at,components:lt,maxSampleValue:st}=rt;for(let ct=0;ct<at.length;ct+=lt){const ut=at[ct+lt-1];for(let ft=0;ft<lt-1;ft++)at[ct+ft]=Math.round(at[ct+ft]*st/ut)}}}}function getDataArray(_e,rt,at){if(rt===8)return new Uint8Array(_e);if(rt===16)return new Uint16Array(_e);if(rt===32&&at===3)return new Float32Array(_e);throw unsupported("bit depth / sample format",`${rt} / ${at}`)}function fill8bit(_e,rt,at,lt){for(let st=0;st<lt;st++)_e[at++]=rt.getUint8(st);return at}function fill16bit(_e,rt,at,lt,st){for(let ct=0;ct<lt*2;ct+=2)_e[at++]=rt.getUint16(ct,st);return at}function fillFloat32(_e,rt,at,lt,st){for(let ct=0;ct<lt*4;ct+=4)_e[at++]=rt.getFloat32(ct,st);return at}function unsupported(_e,rt){return new Error(`Unsupported ${_e}: ${rt}`)}function decodeTIFF(_e,rt){return new TIFFDecoder(_e).decode(rt)}function decodeTiff(_e){let rt=decodeTIFF(_e);return getImageFromIFD(rt[0])}function getImageFromIFD(_e){if(_e.type===3){const rt=new Uint16Array(3*_e.width*_e.height),at=_e.palette;let lt=0;for(let st of _e.data){const ct=at[st];rt[lt++]=ct[0],rt[lt++]=ct[1],rt[lt++]=ct[2]}return new Image(_e.width,_e.height,{data:rt,colorModel:_e.alpha?"RGBA":"RGB",depth:16})}else return new Image(_e.width,_e.height,{data:_e.data,depth:_e.bitsPerSample,colorModel:_e.type===2?_e.alpha?"RGBA":"RGB":_e.alpha?"GREYA":"GREY"})}function decode(_e){const rt=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),at=imageTypeExports(rt);switch(at==null?void 0:at.mime){case"image/png":return decodePng(rt);case"image/jpeg":return decodeJpeg(rt);case"image/tiff":return decodeTiff(rt);default:throw new Error("unrecognized data format")}}const maxNumberRois=2**16,maxRoiId=maxNumberRois/2;function getBorderPoints(_e,rt={}){return _e.getMask().getBorderPoints(rt)}function getMask(_e,rt={}){const{innerBorders:at=!0}=rt;let lt=new Mask(_e.width,_e.height,{origin:_e.origin});for(let st=0;st<_e.height;st++)for(let ct=0;ct<_e.width;ct++)_e.getMapValue(_e.origin.column+ct,_e.origin.row+st)===_e.id?lt.setBit(ct,st,1):lt.setBit(ct,st,0);return at||lt.solidFill({out:lt}),lt}var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(_e,rt,at,lt,st){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!st)throw new TypeError("Private accessor was defined without a setter");if(typeof rt=="function"?_e!==rt||!st:!rt.has(_e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?st.call(_e,at):st?st.value=at:rt.set(_e,at),at},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(_e,rt,at,lt){if(at==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof rt=="function"?_e!==rt||!lt:!rt.has(_e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return at==="m"?lt:at==="a"?lt.call(_e):lt?lt.value:rt.get(_e)},_Roi_instances,_Roi_computed,_Roi_getComputed;class Roi{constructor(rt,at,lt,st,ct,ut){_Roi_instances.add(this),_Roi_computed.set(this,void 0),this.map=rt,this.id=at,this.origin=ct,this.width=lt,this.height=st,this.surface=ut,__classPrivateFieldSet(this,_Roi_computed,{},"f")}getMap(){return this.map}getMapValue(rt,at){return this.map.data[this.map.width*at+rt]}getRatio(){return this.width/this.height}getMask(rt){return getMask(this,rt)}get ped(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"ped",()=>this.perimeter/Math.PI)}getBorderPoints(rt){return getBorderPoints(this,rt)}_computeBorderIDs(){const rt=getBorders(this);return __classPrivateFieldGet(this,_Roi_computed,"f").borderIDs=rt.ids,__classPrivateFieldGet(this,_Roi_computed,"f").borderLengths=rt.lengths,rt}get internalIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"internalIDs",()=>getInternalIDs(this))}get externalIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"externalIDs",()=>this.getExternalIDs().externalIDs)}get perimeterInfo(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"perimeterInfo",()=>getPerimeterInfo(this))}get perimeter(){let rt=this.perimeterInfo;const at=2-Math.sqrt(2);return rt.one+rt.two*2+rt.three*3+rt.four*4-at*(rt.two+rt.three*2+rt.four)}get points(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"points",()=>{let rt=[];for(let at=0;at<this.height;at++)for(let lt=0;lt<this.width;lt++){let st=(at+this.origin.row)*this.map.width+lt+this.origin.column;this.map.data[st]===this.id&&rt.push([lt,at])}return rt})}get boxIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"boxIDs",()=>getBoxIDs(this))}get eqpc(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"eqpc",()=>2*Math.sqrt(this.surface/Math.PI))}get holesInfo(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"holesInfo",()=>getHolesInfo(this))}getExternalIDs(){let rt=this.borderIDs,at=this.borderLengths;__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths=[],__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs=[];let lt=this.internalIDs;for(let ut=0;ut<rt.length;ut++)lt.includes(rt[ut])||(__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs.push(rt[ut]),__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths.push(at[ut]));const st=__classPrivateFieldGet(this,_Roi_computed,"f").externalIDs,ct=__classPrivateFieldGet(this,_Roi_computed,"f").externalLengths;return{externalIDs:st,externalLengths:ct}}get borderIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"borderIDs",()=>this._computeBorderIDs().ids)}get borderLengths(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"borderLengths",()=>this._computeBorderIDs().lengths)}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/getConvexHull(this.getMask()).surface}get convexHull(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"convexHull",()=>getConvexHull(this.getMask()))}get mbr(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"mbr",()=>getMbr(this.getMask()))}get roundness(){return 4*this.surface/(Math.PI*this.feret.maxDiameter.length**2)}get feret(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"feret",()=>getFeret(this.getMask()))}toJSON(){return{id:this.id,origin:this.origin,height:this.height,width:this.width,surface:this.surface,eqpc:this.eqpc,ped:this.ped,feret:this.feret,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter,convexHull:this.convexHull,mbr:this.mbr,centroid:this.centroid}}get centroid(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"centroid",()=>{const at=this.getMap().data;let lt=0,st=0;for(let ct=0;ct<this.width;ct++)for(let ut=0;ut<this.height;ut++){let ft=this.computeIndex(ut,ct);at[ft]===this.id&&(lt+=ct,st+=ut)}return{column:lt/this.surface+this.origin.column,row:st/this.surface+this.origin.row}})}computeIndex(rt,at){const lt=this.getMap();return(rt+this.origin.row)*lt.width+at+this.origin.column}}_Roi_computed=new WeakMap,_Roi_instances=new WeakSet,_Roi_getComputed=function _e(rt,at){if(__classPrivateFieldGet(this,_Roi_computed,"f")[rt]===void 0){const lt=at();return __classPrivateFieldGet(this,_Roi_computed,"f")[rt]=lt,lt}return __classPrivateFieldGet(this,_Roi_computed,"f")[rt]};function getPerimeterInfo(_e){const rt=_e.getMap(),at=rt.data;let lt=0,st=0,ct=0,ut=0;for(let ft=0;ft<_e.width;ft++)for(let dt=0;dt<_e.height;dt++){let pt=_e.computeIndex(dt,ft);if(at[pt]===_e.id){let ht=0;switch((ft===0||_e.externalIDs.includes(at[pt-1]))&&ht++,(ft===rt.width-1||_e.externalIDs.includes(at[pt+1]))&&ht++,(dt===0||_e.externalIDs.includes(at[pt-rt.width]))&&ht++,(dt===rt.height-1||_e.externalIDs.includes(at[pt+rt.width]))&&ht++,ht){case 1:lt++;break;case 2:st++;break;case 3:ct++;break;case 4:ut++;break}}}return{one:lt,two:st,three:ct,four:ut}}function getHolesInfo(_e){let rt=0;const at=_e.getMap().data;for(let lt=1;lt<_e.width-1;lt++)for(let st=1;st<_e.height-1;st++){let ct=_e.computeIndex(st,lt);_e.internalIDs.includes(at[ct])&&at[ct]!==_e.id&&rt++}return{number:_e.internalIDs.length-1,surface:rt}}function getInternalIDs(_e){let rt=[_e.id],at=_e.getMap(),lt=at.data;if(_e.height>2)for(let ct=0;ct<_e.width;ct++){let ut=_e.computeIndex(0,ct);if(rt.includes(lt[ut])){let ft=lt[ut+at.width];!rt.includes(ft)&&!_e.boxIDs.includes(ft)&&rt.push(ft)}}let st=new Array(4);for(let ct=1;ct<_e.width-1;ct++)for(let ut=1;ut<_e.height-1;ut++){let ft=_e.computeIndex(ut,ct);if(rt.includes(lt[ft])){st[0]=lt[ft-1],st[1]=lt[ft+1],st[2]=lt[ft-at.width],st[3]=lt[ft+at.width];for(let dt=0;dt<4;dt++){let pt=st[dt];!rt.includes(pt)&&!_e.boxIDs.includes(pt)&&rt.push(pt)}}}return rt}function getBoxIDs(_e){let rt=new Set;const at=_e.getMap(),lt=at.data;for(let st of[0,_e.height-1])for(let ct=0;ct<_e.width;ct++){let ut=_e.computeIndex(st,ct);if(ct-_e.origin.column>0&&lt[ut]===_e.id&&lt[ut-1]!==_e.id){let ft=lt[ut-1];rt.add(ft)}if(at.width-ct-_e.origin.column>1&&lt[ut]===_e.id&&lt[ut+1]!==_e.id){let ft=lt[ut+1];rt.add(ft)}}for(let st of[0,_e.width-1])for(let ct=0;ct<_e.height;ct++){let ut=_e.computeIndex(ct,st);if(ct-_e.origin.row>0&&lt[ut]===_e.id&&lt[ut-at.width]!==_e.id){let ft=lt[ut-at.width];rt.add(ft)}if(at.height-ct-_e.origin.row>1&&lt[ut]===_e.id&&lt[ut+at.width]!==_e.id){let ft=lt[ut+at.width];rt.add(ft)}}return Array.from(rt)}function getBorders(_e){const rt=_e.getMap(),at=rt.data;let lt=new Set,st=new Map,ct=new Set,ut=[1,0,-1,0],ft=[0,1,0,-1];for(let ht=_e.origin.column;ht<=_e.origin.column+_e.width;ht++)for(let gt=_e.origin.row;gt<=_e.origin.row+_e.height;gt++){let mt=ht+gt*rt.width;if(at[mt]===_e.id)for(let xt=0;xt<4;xt++){let vt=ht+ut[xt],yt=gt+ft[xt];if(vt>=0&&yt>=0&&vt<rt.width&&yt<rt.height){let _t=vt+yt*rt.width;if(at[_t]!==_e.id&&!ct.has(_t)){ct.add(_t),lt.add(at[_t]);let $t=st.get(at[_t]);$t?st.set(at[_t],++$t):st.set(at[_t],1)}}}}let dt=Array.from(lt),pt=dt.map(ht=>st.get(ht));return{ids:dt,lengths:pt}}function computeRois(_e){const rt=_e.getMap(),at=new Array(rt.nbPositive),lt=new Array(rt.nbNegative);for(let st=0;st<rt.nbPositive;st++)at[st]={minRow:rt.height,minColumn:rt.width,maxRow:-1,maxColumn:-1,surface:0,id:st+1};for(let st=0;st<rt.nbNegative;st++)lt[st]={borderLengths:[],borderIDs:[],minRow:rt.height,minColumn:rt.width,maxRow:-1,maxColumn:-1,surface:0,id:-st-1};for(let st=0;st<rt.height;st++)for(let ct=0;ct<rt.width;ct++){let ut=_e.getMapValue(ct,st),ft;ut<0?ft=lt[-ut-1]:ft=at[ut-1],ft.surface++,st<ft.minRow&&(ft.minRow=st),st>ft.maxRow&&(ft.maxRow=st),ct<ft.minColumn&&(ft.minColumn=ct),ct>ft.maxColumn&&(ft.maxColumn=ct)}_e.whiteRois=new Array(rt.nbPositive),_e.blackRois=new Array(rt.nbNegative);for(let st=0;st<rt.nbNegative;st++){let ct=lt[st].maxColumn-lt[st].minColumn+1,ut=lt[st].maxRow-lt[st].minRow+1,ft={row:lt[st].minRow,column:lt[st].minColumn},dt=lt[st].id,pt=lt[st].surface,ht=new Roi(rt,dt,ct,ut,ft,pt);_e.blackRois[st]=ht}for(let st=0;st<rt.nbPositive;st++){let ct=at[st].maxColumn-at[st].minColumn+1,ut=at[st].maxRow-at[st].minRow+1,ft={row:at[st].minRow,column:at[st].minColumn},dt=at[st].id,pt=at[st].surface,ht=new Roi(rt,dt,ct,ut,ft,pt);_e.whiteRois[st]=ht}}const RoiKind={BLACK:"black",WHITE:"white",BW:"bw"};function getRois(_e,rt={}){const{minSurface:at=0,maxSurface:lt=Number.MAX_SAFE_INTEGER,kind:st="white"}=rt;_e.blackRois.length===0&&_e.whiteRois.length===0&&computeRois(_e);let ct;switch(st){case"black":{ct=_e.blackRois;break}case"white":{ct=_e.whiteRois;break}case"bw":{ct=[..._e.whiteRois,..._e.blackRois];break}default:throw new Error("getRois: unknown ROI kind")}return ct.filter(ut=>ut.surface>=at&&ut.surface<=lt)}class RoiMapManager{constructor(rt){this.map=rt,this.whiteRois=[],this.blackRois=[]}getMap(){return this.map}getMapValue(rt,at){return this.map.data[this.map.width*at+rt]}getMapMatrix(){return Matrix.from1DArray(this.map.height,this.map.width,this.map.data).to2DArray()}getRois(rt={}){return getRois(this,rt)}}function fromMask(_e,rt={}){const{allowCorners:at=!1}=rt,lt=maxNumberRois-1,st=maxRoiId-1,ct=-maxRoiId;let ut=new Int16Array(_e.size),ft=0,dt=0,pt=new Uint16Array(maxNumberRois),ht=new Uint16Array(maxNumberRois);for(let mt=0;mt<_e.width;mt++)for(let xt=0;xt<_e.height;xt++)ut[xt*_e.width+mt]===0&&gt(mt,xt);function gt(mt,xt){let vt=0,yt=0,_t=_e.getBit(mt,xt),$t=_t?++ft:--dt;if(ft>st||dt<ct)throw new Error("Too many regions of interest");for(pt[0]=mt,ht[0]=xt;vt<=yt;){let Et=pt[vt&lt],wt=ht[vt&lt];ut[wt*_e.width+Et]=$t,Et>0&&ut[wt*_e.width+Et-1]===0&&_e.getBit(Et-1,wt)===_t&&(yt++,pt[yt&lt]=Et-1,ht[yt&lt]=wt,ut[wt*_e.width+Et-1]=ct),wt>0&&ut[(wt-1)*_e.width+Et]===0&&_e.getBit(Et,wt-1)===_t&&(yt++,pt[yt&lt]=Et,ht[yt&lt]=wt-1,ut[(wt-1)*_e.width+Et]=ct),Et<_e.width-1&&ut[wt*_e.width+Et+1]===0&&_e.getBit(Et+1,wt)===_t&&(yt++,pt[yt&lt]=Et+1,ht[yt&lt]=wt,ut[wt*_e.width+Et+1]=ct),wt<_e.height-1&&ut[(wt+1)*_e.width+Et]===0&&_e.getBit(Et,wt+1)===_t&&(yt++,pt[yt&lt]=Et,ht[yt&lt]=wt+1,ut[(wt+1)*_e.width+Et]=ct),at&&(Et>0&&wt>0&&ut[(wt-1)*_e.width+Et-1]===0&&_e.getBit(Et-1,wt-1)===_t&&(yt++,pt[yt&lt]=Et-1,ht[yt&lt]=wt-1,ut[(wt-1)*_e.width+Et-1]=ct),Et<_e.width-1&&wt>0&&ut[(wt-1)*_e.width+Et+1]===0&&_e.getBit(Et+1,wt-1)===_t&&(yt++,pt[yt&lt]=Et+1,ht[yt&lt]=wt-1,ut[(wt-1)*_e.width+Et+1]=ct),Et>0&&wt<_e.height-1&&ut[(wt+1)*_e.width+Et-1]===0&&_e.getBit(Et-1,wt+1)===_t&&(yt++,pt[yt&lt]=Et-1,ht[yt&lt]=wt+1,ut[(wt+1)*_e.width+Et-1]=ct),Et<_e.width-1&&wt<_e.height-1&&ut[(wt+1)*_e.width+Et+1]===0&&_e.getBit(Et+1,wt+1)===_t&&(yt++,pt[yt&lt]=Et+1,ht[yt&lt]=wt+1,ut[(wt+1)*_e.width+Et+1]=ct)),vt++,assert(yt-vt<=lt,"fromMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMapManager({width:_e.width,height:_e.height,data:ut,nbNegative:Math.abs(dt),nbPositive:ft})}function writeCanvas(_e,rt,at={}){_e.colorModel!=="RGBA"&&(_e=_e.convertColor("RGBA"));const{resizeCanvas:lt=!0,dx:st=0,dy:ct=0,dirtyX:ut=0,dirtyY:ft=0,dirtyWidth:dt=_e.width,dirtyHeight:pt=_e.height}=at;lt&&(rt.width=_e.width,rt.height=_e.height);const ht=rt.getContext("2d");if(ht===null)throw new Error("could not get context from canvas element");const gt=_e.getRawImage().data;ht.putImageData(new ImageData(new Uint8ClampedArray(gt.buffer,gt.byteOffset,gt.byteLength),_e.width,_e.height),st,ct,ut,ft,dt,pt)}function n$6(_e){for(var rt=arguments.length,at=Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)at[lt-1]=arguments[lt];throw Error("[Immer] minified error nr: "+_e+(at.length?" "+at.map(function(st){return"'"+st+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$6(_e){return!!_e&&!!_e[Q$1]}function t$6(_e){var rt;return!!_e&&(function(at){if(!at||typeof at!="object")return!1;var lt=Object.getPrototypeOf(at);if(lt===null)return!0;var st=Object.hasOwnProperty.call(lt,"constructor")&&lt.constructor;return st===Object||typeof st=="function"&&Function.toString.call(st)===Z$1}(_e)||Array.isArray(_e)||!!_e[L$5]||!!(!((rt=_e.constructor)===null||rt===void 0)&&rt[L$5])||s$7(_e)||v$3(_e))}function i$6(_e,rt,at){at===void 0&&(at=!1),o$7(_e)===0?(at?Object.keys:nn)(_e).forEach(function(lt){at&&typeof lt=="symbol"||rt(lt,_e[lt],_e)}):_e.forEach(function(lt,st){return rt(st,lt,_e)})}function o$7(_e){var rt=_e[Q$1];return rt?rt.i>3?rt.i-4:rt.i:Array.isArray(_e)?1:s$7(_e)?2:v$3(_e)?3:0}function u$7(_e,rt){return o$7(_e)===2?_e.has(rt):Object.prototype.hasOwnProperty.call(_e,rt)}function a$4(_e,rt){return o$7(_e)===2?_e.get(rt):_e[rt]}function f$4(_e,rt,at){var lt=o$7(_e);lt===2?_e.set(rt,at):lt===3?_e.add(at):_e[rt]=at}function c$9(_e,rt){return _e===rt?_e!==0||1/_e==1/rt:_e!=_e&&rt!=rt}function s$7(_e){return X$2&&_e instanceof Map}function v$3(_e){return q$5&&_e instanceof Set}function p$7(_e){return _e.o||_e.t}function l$6(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var rt=rn(_e);delete rt[Q$1];for(var at=nn(rt),lt=0;lt<at.length;lt++){var st=at[lt],ct=rt[st];ct.writable===!1&&(ct.writable=!0,ct.configurable=!0),(ct.get||ct.set)&&(rt[st]={configurable:!0,writable:!0,enumerable:ct.enumerable,value:_e[st]})}return Object.create(Object.getPrototypeOf(_e),rt)}function d$5(_e,rt){return rt===void 0&&(rt=!1),y$7(_e)||r$6(_e)||!t$6(_e)||(o$7(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$5),Object.freeze(_e),rt&&i$6(_e,function(at,lt){return d$5(lt,!0)},!0)),_e}function h$5(){n$6(2)}function y$7(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b$2(_e){var rt=tn[_e];return rt||n$6(18,_e),rt}function _(){return U$1}function j$1(_e,rt){rt&&(b$2("Patches"),_e.u=[],_e.s=[],_e.v=rt)}function g$7(_e){O$3(_e),_e.p.forEach(S$4),_e.p=null}function O$3(_e){_e===U$1&&(U$1=_e.l)}function w$7(_e){return U$1={p:[],l:U$1,h:_e,m:!0,_:0}}function S$4(_e){var rt=_e[Q$1];rt.i===0||rt.i===1?rt.j():rt.g=!0}function P$2(_e,rt){rt._=rt.p.length;var at=rt.p[0],lt=_e!==void 0&&_e!==at;return rt.h.O||b$2("ES5").S(rt,_e,lt),lt?(at[Q$1].P&&(g$7(rt),n$6(4)),t$6(_e)&&(_e=M$2(rt,_e),rt.l||x$7(rt,_e)),rt.u&&b$2("Patches").M(at[Q$1].t,_e,rt.u,rt.s)):_e=M$2(rt,at,[]),g$7(rt),rt.u&&rt.v(rt.u,rt.s),_e!==H$3?_e:void 0}function M$2(_e,rt,at){if(y$7(rt))return rt;var lt=rt[Q$1];if(!lt)return i$6(rt,function(ft,dt){return A$4(_e,lt,rt,ft,dt,at)},!0),rt;if(lt.A!==_e)return rt;if(!lt.P)return x$7(_e,lt.t,!0),lt.t;if(!lt.I){lt.I=!0,lt.A._--;var st=lt.i===4||lt.i===5?lt.o=l$6(lt.k):lt.o,ct=st,ut=!1;lt.i===3&&(ct=new Set(st),st.clear(),ut=!0),i$6(ct,function(ft,dt){return A$4(_e,lt,st,ft,dt,at,ut)}),x$7(_e,st,!1),at&&_e.u&&b$2("Patches").N(lt,at,_e.u,_e.s)}return lt.o}function A$4(_e,rt,at,lt,st,ct,ut){if(r$6(st)){var ft=M$2(_e,st,ct&&rt&&rt.i!==3&&!u$7(rt.R,lt)?ct.concat(lt):void 0);if(f$4(at,lt,ft),!r$6(ft))return;_e.m=!1}else ut&&at.add(st);if(t$6(st)&&!y$7(st)){if(!_e.h.D&&_e._<1)return;M$2(_e,st),rt&&rt.A.l||x$7(_e,st)}}function x$7(_e,rt,at){at===void 0&&(at=!1),!_e.l&&_e.h.D&&_e.m&&d$5(rt,at)}function z$7(_e,rt){var at=_e[Q$1];return(at?p$7(at):_e)[rt]}function I$4(_e,rt){if(rt in _e)for(var at=Object.getPrototypeOf(_e);at;){var lt=Object.getOwnPropertyDescriptor(at,rt);if(lt)return lt;at=Object.getPrototypeOf(at)}}function k$5(_e){_e.P||(_e.P=!0,_e.l&&k$5(_e.l))}function E$6(_e){_e.o||(_e.o=l$6(_e.t))}function N$5(_e,rt,at){var lt=s$7(rt)?b$2("MapSet").F(rt,at):v$3(rt)?b$2("MapSet").T(rt,at):_e.O?function(st,ct){var ut=Array.isArray(st),ft={i:ut?1:0,A:ct?ct.A:_(),P:!1,I:!1,R:{},l:ct,t:st,k:null,o:null,j:null,C:!1},dt=ft,pt=en;ut&&(dt=[ft],pt=on);var ht=Proxy.revocable(dt,pt),gt=ht.revoke,mt=ht.proxy;return ft.k=mt,ft.j=gt,mt}(rt,at):b$2("ES5").J(rt,at);return(at?at.A:_()).p.push(lt),lt}function R$4(_e){return r$6(_e)||n$6(22,_e),function rt(at){if(!t$6(at))return at;var lt,st=at[Q$1],ct=o$7(at);if(st){if(!st.P&&(st.i<4||!b$2("ES5").K(st)))return st.t;st.I=!0,lt=D$7(at,ct),st.I=!1}else lt=D$7(at,ct);return i$6(lt,function(ut,ft){st&&a$4(st.t,ut)===ft||f$4(lt,ut,rt(ft))}),ct===3?new Set(lt):lt}(_e)}function D$7(_e,rt){switch(rt){case 2:return new Map(_e);case 3:return Array.from(_e)}return l$6(_e)}var G$3,U$1,W$1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$2=typeof Map<"u",q$5=typeof Set<"u",B$6=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$3=W$1?Symbol.for("immer-nothing"):((G$3={})["immer-nothing"]=!0,G$3),L$5=W$1?Symbol.for("immer-draftable"):"__$immer_draftable",Q$1=W$1?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var rt={};return nn(_e).forEach(function(at){rt[at]=Object.getOwnPropertyDescriptor(_e,at)}),rt},tn={},en={get:function(_e,rt){if(rt===Q$1)return _e;var at=p$7(_e);if(!u$7(at,rt))return function(st,ct,ut){var ft,dt=I$4(ct,ut);return dt?"value"in dt?dt.value:(ft=dt.get)===null||ft===void 0?void 0:ft.call(st.k):void 0}(_e,at,rt);var lt=at[rt];return _e.I||!t$6(lt)?lt:lt===z$7(_e.t,rt)?(E$6(_e),_e.o[rt]=N$5(_e.A.h,lt,_e)):lt},has:function(_e,rt){return rt in p$7(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$7(_e))},set:function(_e,rt,at){var lt=I$4(p$7(_e),rt);if(lt!=null&&lt.set)return lt.set.call(_e.k,at),!0;if(!_e.P){var st=z$7(p$7(_e),rt),ct=st==null?void 0:st[Q$1];if(ct&&ct.t===at)return _e.o[rt]=at,_e.R[rt]=!1,!0;if(c$9(at,st)&&(at!==void 0||u$7(_e.t,rt)))return!0;E$6(_e),k$5(_e)}return _e.o[rt]===at&&(at!==void 0||rt in _e.o)||Number.isNaN(at)&&Number.isNaN(_e.o[rt])||(_e.o[rt]=at,_e.R[rt]=!0),!0},deleteProperty:function(_e,rt){return z$7(_e.t,rt)!==void 0||rt in _e.t?(_e.R[rt]=!1,E$6(_e),k$5(_e)):delete _e.R[rt],_e.o&&delete _e.o[rt],!0},getOwnPropertyDescriptor:function(_e,rt){var at=p$7(_e),lt=Reflect.getOwnPropertyDescriptor(at,rt);return lt&&{writable:!0,configurable:_e.i!==1||rt!=="length",enumerable:lt.enumerable,value:at[rt]}},defineProperty:function(){n$6(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n$6(12)}},on={};i$6(en,function(_e,rt){on[_e]=function(){return arguments[0]=arguments[0][0],rt.apply(this,arguments)}}),on.deleteProperty=function(_e,rt){return on.set.call(this,_e,rt,void 0)},on.set=function(_e,rt,at){return en.set.call(this,_e[0],rt,at,_e[0])};var un=function(){function _e(at){var lt=this;this.O=B$6,this.D=!0,this.produce=function(st,ct,ut){if(typeof st=="function"&&typeof ct!="function"){var ft=ct;ct=st;var dt=lt;return function(yt){var _t=this;yt===void 0&&(yt=ft);for(var $t=arguments.length,Et=Array($t>1?$t-1:0),wt=1;wt<$t;wt++)Et[wt-1]=arguments[wt];return dt.produce(yt,function(bt){var St;return(St=ct).call.apply(St,[_t,bt].concat(Et))})}}var pt;if(typeof ct!="function"&&n$6(6),ut!==void 0&&typeof ut!="function"&&n$6(7),t$6(st)){var ht=w$7(lt),gt=N$5(lt,st,void 0),mt=!0;try{pt=ct(gt),mt=!1}finally{mt?g$7(ht):O$3(ht)}return typeof Promise<"u"&&pt instanceof Promise?pt.then(function(yt){return j$1(ht,ut),P$2(yt,ht)},function(yt){throw g$7(ht),yt}):(j$1(ht,ut),P$2(pt,ht))}if(!st||typeof st!="object"){if((pt=ct(st))===void 0&&(pt=st),pt===H$3&&(pt=void 0),lt.D&&d$5(pt,!0),ut){var xt=[],vt=[];b$2("Patches").M(st,pt,xt,vt),ut(xt,vt)}return pt}n$6(21,st)},this.produceWithPatches=function(st,ct){if(typeof st=="function")return function(pt){for(var ht=arguments.length,gt=Array(ht>1?ht-1:0),mt=1;mt<ht;mt++)gt[mt-1]=arguments[mt];return lt.produceWithPatches(pt,function(xt){return st.apply(void 0,[xt].concat(gt))})};var ut,ft,dt=lt.produce(st,ct,function(pt,ht){ut=pt,ft=ht});return typeof Promise<"u"&&dt instanceof Promise?dt.then(function(pt){return[pt,ut,ft]}):[dt,ut,ft]},typeof(at==null?void 0:at.useProxies)=="boolean"&&this.setUseProxies(at.useProxies),typeof(at==null?void 0:at.autoFreeze)=="boolean"&&this.setAutoFreeze(at.autoFreeze)}var rt=_e.prototype;return rt.createDraft=function(at){t$6(at)||n$6(8),r$6(at)&&(at=R$4(at));var lt=w$7(this),st=N$5(this,at,void 0);return st[Q$1].C=!0,O$3(lt),st},rt.finishDraft=function(at,lt){var st=at&&at[Q$1],ct=st.A;return j$1(ct,lt),P$2(void 0,ct)},rt.setAutoFreeze=function(at){this.D=at},rt.setUseProxies=function(at){at&&!B$6&&n$6(20),this.O=at},rt.applyPatches=function(at,lt){var st;for(st=lt.length-1;st>=0;st--){var ct=lt[st];if(ct.path.length===0&&ct.op==="replace"){at=ct.value;break}}st>-1&&(lt=lt.slice(st+1));var ut=b$2("Patches").$;return r$6(at)?ut(at,lt):this.produce(at,function(ft){return ut(ft,lt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const defaultDataValue={image:void 0};function getDataActions(_e,rt){return{loadImage:async(at="/test/good.jpg")=>{const st=await(await fetch(at)).arrayBuffer(),ct=decode(new Uint8Array(st));rt(fn(ut=>{ut.data.image=ct}))},loadURL:async at=>{const st=await(await fetch(at)).arrayBuffer(),ct=decode(new Uint8Array(st));rt(fn(ut=>{ut.data.image=ct}))}}}const DataContext=reactExports.createContext({data:{image:null},actions:{}}),GlobalContext=reactExports.createContext({});function r$5(_e){var rt,at,lt="";if(typeof _e=="string"||typeof _e=="number")lt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(rt=0;rt<_e.length;rt++)_e[rt]&&(at=r$5(_e[rt]))&&(lt&&(lt+=" "),lt+=at);else for(rt in _e)_e[rt]&&(lt&&(lt+=" "),lt+=rt);return lt}function clsx(){for(var _e,rt,at=0,lt="";at<arguments.length;)(_e=arguments[at++])&&(rt=r$5(_e))&&(lt&&(lt+=" "),lt+=rt);return lt}const Color$1={primary:"primary",neutral:"neutral",success:"success",warning:"warning",danger:"danger",alternative:"alternative"},Size={xSmall:"xSmall",small:"small",medium:"medium",large:"large",xLarge:"xLarge"},Variant={primary:"primary",secondary:"secondary",white:"white"},Roundness={light:"light",full:"full",circular:"circular"},BadgeSize={SMALL:"small",LARGE:"large"},BadgeVariant={COLORED_DOT:"COLORED_DOT",COLORED_BACKGROUND:"COLORED_BACKGROUND"},colors$5={[Color$1.neutral]:"bg-neutral-100 text-neutral-800",[Color$1.alternative]:"bg-alternative-100 text-alternative-800",[Color$1.danger]:"bg-danger-100 text-danger-800",[Color$1.primary]:"bg-primary-100 text-primary-800",[Color$1.success]:"bg-success-100 text-success-800",[Color$1.warning]:"bg-warning-100 text-warning-800"},dotColors={[Color$1.neutral]:"text-neutral-400",[Color$1.alternative]:"text-alternative-400",[Color$1.danger]:"text-danger-400",[Color$1.primary]:"text-primary-400",[Color$1.success]:"text-success-400",[Color$1.warning]:"text-warning-400"},removeColors={[Color$1.neutral]:"text-neutral-400 hover:bg-neutral-200 hover:text-neutral-500 focus:bg-neutral-500",[Color$1.alternative]:"text-alternative-400 hover:bg-alternative-200 hover:text-alternative-500 focus:bg-alternative-500",[Color$1.danger]:"text-danger-400 hover:bg-danger-200 hover:text-danger-500 focus:bg-danger-500",[Color$1.primary]:"text-primary-400 hover:bg-primary-200 hover:text-primary-500 focus:bg-primary-500",[Color$1.success]:"text-success-400 hover:bg-success-200 hover:text-success-500 focus:bg-success-500",[Color$1.warning]:"text-warning-400 hover:bg-warning-200 hover:text-warning-500 focus:bg-warning-500"},paddings={[BadgeSize.SMALL]:{basic:"px-2.5 py-0.5",rounded:"px-2 py-0.5",remove:"py-0.5 pl-2 pr-0.5"},[BadgeSize.LARGE]:{basic:"px-3 py-0.5",rounded:"px-2.5 py-0.5",remove:"py-0.5 pl-2.5 pr-1"}};function Badge(_e){const{size:rt=BadgeSize.SMALL,rounded:at=!1,dot:lt=!1,onDismiss:st,variant:ct,label:ut,className:ft,style:dt}=_e,pt=paddings[rt],ht="bg-white border border-neutral-300",gt="color"in _e&&ct===BadgeVariant.COLORED_BACKGROUND?colors$5[_e.color]:ht;return jsxs("span",{className:clsx("inline-flex items-center font-semibold",rt===BadgeSize.LARGE?"text-sm":"text-xs",gt,at?rt===BadgeSize.LARGE?"rounded-md":"rounded":"rounded-full",st?pt.remove:at?pt.rounded:pt.basic,ft),style:dt,children:[(ct===BadgeVariant.COLORED_DOT||lt)&&jsx("svg",{className:clsx("mr-1.5 h-2 w-2",rt===BadgeSize.LARGE?"-ml-1":"-ml-0.5",{[dotColors["color"in _e?_e.color:Color$1.neutral]]:ct===BadgeVariant.COLORED_BACKGROUND&&"color"in _e}),fill:"currentColor",viewBox:"0 0 8 8",style:{color:ct===BadgeVariant.COLORED_DOT&&"customColor"in _e?_e.customColor:void 0},children:jsx("circle",{cx:"4",cy:"4",r:"3"})}),ut,st&&jsx("button",{type:"button",onClick:st,className:clsx("ml-0.5 inline-flex h-4 w-4 shrink-0 items-center justify-center rounded-full focus:text-white focus:outline-none",removeColors["color"in _e?_e.color:Color$1.neutral]),children:jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})})]})}function forwardRefWithGeneric(_e){return reactExports.forwardRef(_e)}function forwardRefWithAs(_e){return Object.assign(reactExports.forwardRef(_e),{displayName:_e.displayName??_e.name})}const userAgent=typeof navigator<"u"?navigator.userAgent:"";userAgent.includes("Macintosh")||userAgent.includes("iPad")||userAgent.includes("iPhone");function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(_e[lt]=at[lt])}return _e},_extends.apply(this,arguments)}function $e42e1063c40fb3ef$export$b9ecd428b558ff10(_e,rt,{checkForDefaultPrevented:at=!0}={}){return function(st){if(_e==null||_e(st),at===!1||!st.defaultPrevented)return rt==null?void 0:rt(st)}}function $6ed0406888f73fc4$var$setRef(_e,rt){typeof _e=="function"?_e(rt):_e!=null&&(_e.current=rt)}function $6ed0406888f73fc4$export$43e446d32b3d21af(..._e){return rt=>_e.forEach(at=>$6ed0406888f73fc4$var$setRef(at,rt))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(..._e){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(..._e),_e)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(_e,rt=[]){let at=[];function lt(ct,ut){const ft=reactExports.createContext(ut),dt=at.length;at=[...at,ut];function pt(gt){const{scope:mt,children:xt,...vt}=gt,yt=(mt==null?void 0:mt[_e][dt])||ft,_t=reactExports.useMemo(()=>vt,Object.values(vt));return reactExports.createElement(yt.Provider,{value:_t},xt)}function ht(gt,mt){const xt=(mt==null?void 0:mt[_e][dt])||ft,vt=reactExports.useContext(xt);if(vt)return vt;if(ut!==void 0)return ut;throw new Error(`\`${gt}\` must be used within \`${ct}\``)}return pt.displayName=ct+"Provider",[pt,ht]}const st=()=>{const ct=at.map(ut=>reactExports.createContext(ut));return function(ft){const dt=(ft==null?void 0:ft[_e])||ct;return reactExports.useMemo(()=>({[`__scope${_e}`]:{...ft,[_e]:dt}}),[ft,dt])}};return st.scopeName=_e,[lt,$c512c27ab02ef895$var$composeContextScopes(st,...rt)]}function $c512c27ab02ef895$var$composeContextScopes(..._e){const rt=_e[0];if(_e.length===1)return rt;const at=()=>{const lt=_e.map(st=>({useScope:st(),scopeName:st.scopeName}));return function(ct){const ut=lt.reduce((ft,{useScope:dt,scopeName:pt})=>{const gt=dt(ct)[`__scope${pt}`];return{...ft,...gt}},{});return reactExports.useMemo(()=>({[`__scope${rt.scopeName}`]:ut}),[ut])}};return at.scopeName=rt.scopeName,at}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((_e,rt)=>{const{children:at,...lt}=_e,st=reactExports.Children.toArray(at),ct=st.find($5e63c961fc1ce211$var$isSlottable);if(ct){const ut=ct.props.children,ft=st.map(dt=>dt===ct?reactExports.Children.count(ut)>1?reactExports.Children.only(null):reactExports.isValidElement(ut)?ut.props.children:null:dt);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends({},lt,{ref:rt}),reactExports.isValidElement(ut)?reactExports.cloneElement(ut,void 0,ft):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends({},lt,{ref:rt}),at)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((_e,rt)=>{const{children:at,...lt}=_e;return reactExports.isValidElement(at)?reactExports.cloneElement(at,{...$5e63c961fc1ce211$var$mergeProps(lt,at.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(rt,at.ref)}):reactExports.Children.count(at)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:_e})=>reactExports.createElement(reactExports.Fragment,null,_e);function $5e63c961fc1ce211$var$isSlottable(_e){return reactExports.isValidElement(_e)&&_e.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(_e,rt){const at={...rt};for(const lt in rt){const st=_e[lt],ct=rt[lt];/^on[A-Z]/.test(lt)?st&&ct?at[lt]=(...ft)=>{ct(...ft),st(...ft)}:st&&(at[lt]=st):lt==="style"?at[lt]={...st,...ct}:lt==="className"&&(at[lt]=[st,ct].filter(Boolean).join(" "))}return{..._e,...at}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((_e,rt)=>{const at=reactExports.forwardRef((lt,st)=>{const{asChild:ct,...ut}=lt,ft=ct?$5e63c961fc1ce211$export$8c6ed5c666ac1360:rt;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(ft,_extends({},ut,{ref:st}))});return at.displayName=`Primitive.${rt}`,{..._e,[rt]:at}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(_e,rt){_e&&reactDomExports.flushSync(()=>_e.dispatchEvent(rt))}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e){const rt=reactExports.useRef(_e);return reactExports.useEffect(()=>{rt.current=_e}),reactExports.useMemo(()=>(...at)=>{var lt;return(lt=rt.current)===null||lt===void 0?void 0:lt.call(rt,...at)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(_e,rt=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e);reactExports.useEffect(()=>{const lt=st=>{st.key==="Escape"&&at(st)};return rt.addEventListener("keydown",lt),()=>rt.removeEventListener("keydown",lt)},[at,rt])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((_e,rt)=>{var at;const{disableOutsidePointerEvents:lt=!1,onEscapeKeyDown:st,onPointerDownOutside:ct,onFocusOutside:ut,onInteractOutside:ft,onDismiss:dt,...pt}=_e,ht=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[gt,mt]=reactExports.useState(null),xt=(at=gt==null?void 0:gt.ownerDocument)!==null&&at!==void 0?at:globalThis==null?void 0:globalThis.document,[,vt]=reactExports.useState({}),yt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,kt=>mt(kt)),_t=Array.from(ht.layers),[$t]=[...ht.layersWithOutsidePointerEventsDisabled].slice(-1),Et=_t.indexOf($t),wt=gt?_t.indexOf(gt):-1,bt=ht.layersWithOutsidePointerEventsDisabled.size>0,St=wt>=Et,Tt=$5cb92bef7577960e$var$usePointerDownOutside(kt=>{const At=kt.target,Ct=[...ht.branches].some(Mt=>Mt.contains(At));!St||Ct||(ct==null||ct(kt),ft==null||ft(kt),kt.defaultPrevented||dt==null||dt())},xt),Rt=$5cb92bef7577960e$var$useFocusOutside(kt=>{const At=kt.target;[...ht.branches].some(Mt=>Mt.contains(At))||(ut==null||ut(kt),ft==null||ft(kt),kt.defaultPrevented||dt==null||dt())},xt);return $addc16e1bbe58fd0$export$3a72a57244d6e765(kt=>{wt===ht.layers.size-1&&(st==null||st(kt),!kt.defaultPrevented&&dt&&(kt.preventDefault(),dt()))},xt),reactExports.useEffect(()=>{if(gt)return lt&&(ht.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=xt.body.style.pointerEvents,xt.body.style.pointerEvents="none"),ht.layersWithOutsidePointerEventsDisabled.add(gt)),ht.layers.add(gt),$5cb92bef7577960e$var$dispatchUpdate(),()=>{lt&&ht.layersWithOutsidePointerEventsDisabled.size===1&&(xt.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[gt,xt,lt,ht]),reactExports.useEffect(()=>()=>{gt&&(ht.layers.delete(gt),ht.layersWithOutsidePointerEventsDisabled.delete(gt),$5cb92bef7577960e$var$dispatchUpdate())},[gt,ht]),reactExports.useEffect(()=>{const kt=()=>vt({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,kt),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,kt)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},pt,{ref:yt,style:{pointerEvents:bt?St?"auto":"none":void 0,..._e.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocusCapture,Rt.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onBlurCapture,Rt.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerDownCapture,Tt.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(_e,rt=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e),lt=reactExports.useRef(!1),st=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ct=ft=>{if(ft.target&&!lt.current){let ht=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,at,pt,{discrete:!0})};var dt=ht;const pt={originalEvent:ft};ft.pointerType==="touch"?(rt.removeEventListener("click",st.current),st.current=ht,rt.addEventListener("click",st.current,{once:!0})):ht()}lt.current=!1},ut=window.setTimeout(()=>{rt.addEventListener("pointerdown",ct)},0);return()=>{window.clearTimeout(ut),rt.removeEventListener("pointerdown",ct),rt.removeEventListener("click",st.current)}},[rt,at]),{onPointerDownCapture:()=>lt.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(_e,rt=globalThis==null?void 0:globalThis.document){const at=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e),lt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const st=ct=>{ct.target&&!lt.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,at,{originalEvent:ct},{discrete:!1})};return rt.addEventListener("focusin",st),()=>rt.removeEventListener("focusin",st)},[rt,at]),{onFocusCapture:()=>lt.current=!0,onBlurCapture:()=>lt.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const _e=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(_e)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(_e,rt,at,{discrete:lt}){const st=at.originalEvent.target,ct=new CustomEvent(_e,{bubbles:!1,cancelable:!0,detail:at});rt&&st.addEventListener(_e,rt,{once:!0}),lt?$8927f6f2acc4f386$export$6d1a0317bde7de7f(st,ct):st.dispatchEvent(ct)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=e$6["useId".toString()]||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(_e){const[rt,at]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{_e||at(lt=>lt??String($1746a345f3d73bb7$var$count++))},[_e]),_e||(rt?`radix-${rt}`:"")}function t$5(_e){return _e.split("-")[0]}function e$3(_e){return _e.split("-")[1]}function n$5(_e){return["top","bottom"].includes(t$5(_e))?"x":"y"}function r$4(_e){return _e==="y"?"height":"width"}function i$5(_e,rt,at){let{reference:lt,floating:st}=_e;const ct=lt.x+lt.width/2-st.width/2,ut=lt.y+lt.height/2-st.height/2,ft=n$5(rt),dt=r$4(ft),pt=lt[dt]/2-st[dt]/2,ht=ft==="x";let gt;switch(t$5(rt)){case"top":gt={x:ct,y:lt.y-st.height};break;case"bottom":gt={x:ct,y:lt.y+lt.height};break;case"right":gt={x:lt.x+lt.width,y:ut};break;case"left":gt={x:lt.x-st.width,y:ut};break;default:gt={x:lt.x,y:lt.y}}switch(e$3(rt)){case"start":gt[ft]-=pt*(at&&ht?-1:1);break;case"end":gt[ft]+=pt*(at&&ht?-1:1)}return gt}const o$6=async(_e,rt,at)=>{const{placement:lt="bottom",strategy:st="absolute",middleware:ct=[],platform:ut}=at,ft=await(ut.isRTL==null?void 0:ut.isRTL(rt));let dt=await ut.getElementRects({reference:_e,floating:rt,strategy:st}),{x:pt,y:ht}=i$5(dt,lt,ft),gt=lt,mt={},xt=0;for(let vt=0;vt<ct.length;vt++){const{name:yt,fn:_t}=ct[vt],{x:$t,y:Et,data:wt,reset:bt}=await _t({x:pt,y:ht,initialPlacement:lt,placement:gt,strategy:st,middlewareData:mt,rects:dt,platform:ut,elements:{reference:_e,floating:rt}});pt=$t??pt,ht=Et??ht,mt={...mt,[yt]:{...mt[yt],...wt}},bt&&xt<=50&&(xt++,typeof bt=="object"&&(bt.placement&&(gt=bt.placement),bt.rects&&(dt=bt.rects===!0?await ut.getElementRects({reference:_e,floating:rt,strategy:st}):bt.rects),{x:pt,y:ht}=i$5(dt,gt,ft)),vt=-1)}return{x:pt,y:ht,placement:gt,strategy:st,middlewareData:mt}};function a$3(_e){return typeof _e!="number"?function(rt){return{top:0,right:0,bottom:0,left:0,...rt}}(_e):{top:_e,right:_e,bottom:_e,left:_e}}function l$5(_e){return{..._e,top:_e.y,left:_e.x,right:_e.x+_e.width,bottom:_e.y+_e.height}}async function s$6(_e,rt){var at;rt===void 0&&(rt={});const{x:lt,y:st,platform:ct,rects:ut,elements:ft,strategy:dt}=_e,{boundary:pt="clippingAncestors",rootBoundary:ht="viewport",elementContext:gt="floating",altBoundary:mt=!1,padding:xt=0}=rt,vt=a$3(xt),yt=ft[mt?gt==="floating"?"reference":"floating":gt],_t=l$5(await ct.getClippingRect({element:(at=await(ct.isElement==null?void 0:ct.isElement(yt)))==null||at?yt:yt.contextElement||await(ct.getDocumentElement==null?void 0:ct.getDocumentElement(ft.floating)),boundary:pt,rootBoundary:ht,strategy:dt})),$t=l$5(ct.convertOffsetParentRelativeRectToViewportRelativeRect?await ct.convertOffsetParentRelativeRectToViewportRelativeRect({rect:gt==="floating"?{...ut.floating,x:lt,y:st}:ut.reference,offsetParent:await(ct.getOffsetParent==null?void 0:ct.getOffsetParent(ft.floating)),strategy:dt}):ut[gt]);return{top:_t.top-$t.top+vt.top,bottom:$t.bottom-_t.bottom+vt.bottom,left:_t.left-$t.left+vt.left,right:$t.right-_t.right+vt.right}}const c$8=Math.min,f$3=Math.max;function u$6(_e,rt,at){return f$3(_e,c$8(rt,at))}const m$4=_e=>({name:"arrow",options:_e,async fn(rt){const{element:at,padding:lt=0}=_e??{},{x:st,y:ct,placement:ut,rects:ft,platform:dt}=rt;if(at==null)return{};const pt=a$3(lt),ht={x:st,y:ct},gt=n$5(ut),mt=e$3(ut),xt=r$4(gt),vt=await dt.getDimensions(at),yt=gt==="y"?"top":"left",_t=gt==="y"?"bottom":"right",$t=ft.reference[xt]+ft.reference[gt]-ht[gt]-ft.floating[xt],Et=ht[gt]-ft.reference[gt],wt=await(dt.getOffsetParent==null?void 0:dt.getOffsetParent(at));let bt=wt?gt==="y"?wt.clientHeight||0:wt.clientWidth||0:0;bt===0&&(bt=ft.floating[xt]);const St=$t/2-Et/2,Tt=pt[yt],Rt=bt-vt[xt]-pt[_t],kt=bt/2-vt[xt]/2+St,At=u$6(Tt,kt,Rt),Ct=(mt==="start"?pt[yt]:pt[_t])>0&&kt!==At&&ft.reference[xt]<=ft.floating[xt];return{[gt]:ht[gt]-(Ct?kt<Tt?Tt-kt:Rt-kt:0),data:{[gt]:At,centerOffset:kt-At}}}}),g$6={left:"right",right:"left",bottom:"top",top:"bottom"};function d$4(_e){return _e.replace(/left|right|bottom|top/g,rt=>g$6[rt])}function p$6(_e,rt,at){at===void 0&&(at=!1);const lt=e$3(_e),st=n$5(_e),ct=r$4(st);let ut=st==="x"?lt===(at?"end":"start")?"right":"left":lt==="start"?"bottom":"top";return rt.reference[ct]>rt.floating[ct]&&(ut=d$4(ut)),{main:ut,cross:d$4(ut)}}const h$4={start:"end",end:"start"};function y$6(_e){return _e.replace(/start|end/g,rt=>h$4[rt])}const x$6=["top","right","bottom","left"];x$6.reduce((_e,rt)=>_e.concat(rt,rt+"-start",rt+"-end"),[]);const b$1=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn(rt){var at;const{placement:lt,middlewareData:st,rects:ct,initialPlacement:ut,platform:ft,elements:dt}=rt,{mainAxis:pt=!0,crossAxis:ht=!0,fallbackPlacements:gt,fallbackStrategy:mt="bestFit",flipAlignment:xt=!0,...vt}=_e,yt=t$5(lt),_t=gt||(yt===ut||!xt?[d$4(ut)]:function(kt){const At=d$4(kt);return[y$6(kt),At,y$6(At)]}(ut)),$t=[ut,..._t],Et=await s$6(rt,vt),wt=[];let bt=((at=st.flip)==null?void 0:at.overflows)||[];if(pt&&wt.push(Et[yt]),ht){const{main:kt,cross:At}=p$6(lt,ct,await(ft.isRTL==null?void 0:ft.isRTL(dt.floating)));wt.push(Et[kt],Et[At])}if(bt=[...bt,{placement:lt,overflows:wt}],!wt.every(kt=>kt<=0)){var St,Tt;const kt=((St=(Tt=st.flip)==null?void 0:Tt.index)!=null?St:0)+1,At=$t[kt];if(At)return{data:{index:kt,overflows:bt},reset:{placement:At}};let Ct="bottom";switch(mt){case"bestFit":{var Rt;const Mt=(Rt=bt.map(Ot=>[Ot,Ot.overflows.filter(Pt=>Pt>0).reduce((Pt,It)=>Pt+It,0)]).sort((Ot,Pt)=>Ot[1]-Pt[1])[0])==null?void 0:Rt[0].placement;Mt&&(Ct=Mt);break}case"initialPlacement":Ct=ut}if(lt!==Ct)return{reset:{placement:Ct}}}return{}}}};function R$3(_e,rt){return{top:_e.top-rt.height,right:_e.right-rt.width,bottom:_e.bottom-rt.height,left:_e.left-rt.width}}function A$3(_e){return x$6.some(rt=>_e[rt]>=0)}const P$1=function(_e){let{strategy:rt="referenceHidden",...at}=_e===void 0?{}:_e;return{name:"hide",async fn(lt){const{rects:st}=lt;switch(rt){case"referenceHidden":{const ct=R$3(await s$6(lt,{...at,elementContext:"reference"}),st.reference);return{data:{referenceHiddenOffsets:ct,referenceHidden:A$3(ct)}}}case"escaped":{const ct=R$3(await s$6(lt,{...at,altBoundary:!0}),st.floating);return{data:{escapedOffsets:ct,escaped:A$3(ct)}}}default:return{}}}}},T$5=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn(rt){const{x:at,y:lt}=rt,st=await async function(ct,ut){const{placement:ft,platform:dt,elements:pt}=ct,ht=await(dt.isRTL==null?void 0:dt.isRTL(pt.floating)),gt=t$5(ft),mt=e$3(ft),xt=n$5(ft)==="x",vt=["left","top"].includes(gt)?-1:1,yt=ht&&xt?-1:1,_t=typeof ut=="function"?ut(ct):ut;let{mainAxis:$t,crossAxis:Et,alignmentAxis:wt}=typeof _t=="number"?{mainAxis:_t,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._t};return mt&&typeof wt=="number"&&(Et=mt==="end"?-1*wt:wt),xt?{x:Et*yt,y:$t*vt}:{x:$t*vt,y:Et*yt}}(rt,_e);return{x:at+st.x,y:lt+st.y,data:st}}}};function O$2(_e){return _e==="x"?"y":"x"}const D$6=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn(rt){const{x:at,y:lt,placement:st}=rt,{mainAxis:ct=!0,crossAxis:ut=!1,limiter:ft={fn:_t=>{let{x:$t,y:Et}=_t;return{x:$t,y:Et}}},...dt}=_e,pt={x:at,y:lt},ht=await s$6(rt,dt),gt=n$5(t$5(st)),mt=O$2(gt);let xt=pt[gt],vt=pt[mt];if(ct){const _t=gt==="y"?"bottom":"right";xt=u$6(xt+ht[gt==="y"?"top":"left"],xt,xt-ht[_t])}if(ut){const _t=mt==="y"?"bottom":"right";vt=u$6(vt+ht[mt==="y"?"top":"left"],vt,vt-ht[_t])}const yt=ft.fn({...rt,[gt]:xt,[mt]:vt});return{...yt,data:{x:yt.x-at,y:yt.y-lt}}}}},L$4=function(_e){return _e===void 0&&(_e={}),{options:_e,fn(rt){const{x:at,y:lt,placement:st,rects:ct,middlewareData:ut}=rt,{offset:ft=0,mainAxis:dt=!0,crossAxis:pt=!0}=_e,ht={x:at,y:lt},gt=n$5(st),mt=O$2(gt);let xt=ht[gt],vt=ht[mt];const yt=typeof ft=="function"?ft({...ct,placement:st}):ft,_t=typeof yt=="number"?{mainAxis:yt,crossAxis:0}:{mainAxis:0,crossAxis:0,...yt};if(dt){const St=gt==="y"?"height":"width",Tt=ct.reference[gt]-ct.floating[St]+_t.mainAxis,Rt=ct.reference[gt]+ct.reference[St]-_t.mainAxis;xt<Tt?xt=Tt:xt>Rt&&(xt=Rt)}if(pt){var $t,Et,wt,bt;const St=gt==="y"?"width":"height",Tt=["top","left"].includes(t$5(st)),Rt=ct.reference[mt]-ct.floating[St]+(Tt&&($t=(Et=ut.offset)==null?void 0:Et[mt])!=null?$t:0)+(Tt?0:_t.crossAxis),kt=ct.reference[mt]+ct.reference[St]+(Tt?0:(wt=(bt=ut.offset)==null?void 0:bt[mt])!=null?wt:0)-(Tt?_t.crossAxis:0);vt<Rt?vt=Rt:vt>kt&&(vt=kt)}return{[gt]:xt,[mt]:vt}}}},k$4=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn(rt){const{placement:at,rects:lt,platform:st,elements:ct}=rt,{apply:ut,...ft}=_e,dt=await s$6(rt,ft),pt=t$5(at),ht=e$3(at);let gt,mt;pt==="top"||pt==="bottom"?(gt=pt,mt=ht===(await(st.isRTL==null?void 0:st.isRTL(ct.floating))?"start":"end")?"left":"right"):(mt=pt,gt=ht==="end"?"top":"bottom");const xt=f$3(dt.left,0),vt=f$3(dt.right,0),yt=f$3(dt.top,0),_t=f$3(dt.bottom,0),$t={availableHeight:lt.floating.height-(["left","right"].includes(at)?2*(yt!==0||_t!==0?yt+_t:f$3(dt.top,dt.bottom)):dt[gt]),availableWidth:lt.floating.width-(["top","bottom"].includes(at)?2*(xt!==0||vt!==0?xt+vt:f$3(dt.left,dt.right)):dt[mt])},Et=await st.getDimensions(ct.floating);ut==null||ut({...rt,...$t});const wt=await st.getDimensions(ct.floating);return Et.width!==wt.width||Et.height!==wt.height?{reset:{rects:!0}}:{}}}};function n$4(_e){return _e&&_e.document&&_e.location&&_e.alert&&_e.setInterval}function o$5(_e){if(_e==null)return window;if(!n$4(_e)){const rt=_e.ownerDocument;return rt&&rt.defaultView||window}return _e}function i$4(_e){return o$5(_e).getComputedStyle(_e)}function r$3(_e){return n$4(_e)?"":_e?(_e.nodeName||"").toLowerCase():""}function l$4(){const _e=navigator.userAgentData;return _e!=null&&_e.brands?_e.brands.map(rt=>rt.brand+"/"+rt.version).join(" "):navigator.userAgent}function c$7(_e){return _e instanceof o$5(_e).HTMLElement}function f$2(_e){return _e instanceof o$5(_e).Element}function s$5(_e){return typeof ShadowRoot>"u"?!1:_e instanceof o$5(_e).ShadowRoot||_e instanceof ShadowRoot}function u$5(_e){const{overflow:rt,overflowX:at,overflowY:lt}=i$4(_e);return/auto|scroll|overlay|hidden/.test(rt+lt+at)}function d$3(_e){return["table","td","th"].includes(r$3(_e))}function h$3(_e){const rt=/firefox/i.test(l$4()),at=i$4(_e);return at.transform!=="none"||at.perspective!=="none"||at.contain==="paint"||["transform","perspective"].includes(at.willChange)||rt&&at.willChange==="filter"||rt&&!!at.filter&&at.filter!=="none"}function a$2(){return!/^((?!chrome|android).)*safari/i.test(l$4())}const g$5=Math.min,p$5=Math.max,m$3=Math.round;function w$6(_e,rt,at){var lt,st,ct,ut;rt===void 0&&(rt=!1),at===void 0&&(at=!1);const ft=_e.getBoundingClientRect();let dt=1,pt=1;rt&&c$7(_e)&&(dt=_e.offsetWidth>0&&m$3(ft.width)/_e.offsetWidth||1,pt=_e.offsetHeight>0&&m$3(ft.height)/_e.offsetHeight||1);const ht=f$2(_e)?o$5(_e):window,gt=!a$2()&&at,mt=(ft.left+(gt&&(lt=(st=ht.visualViewport)==null?void 0:st.offsetLeft)!=null?lt:0))/dt,xt=(ft.top+(gt&&(ct=(ut=ht.visualViewport)==null?void 0:ut.offsetTop)!=null?ct:0))/pt,vt=ft.width/dt,yt=ft.height/pt;return{width:vt,height:yt,top:xt,right:mt+vt,bottom:xt+yt,left:mt,x:mt,y:xt}}function v$2(_e){return(rt=_e,(rt instanceof o$5(rt).Node?_e.ownerDocument:_e.document)||window.document).documentElement;var rt}function y$5(_e){return f$2(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function x$5(_e){return w$6(v$2(_e)).left+y$5(_e).scrollLeft}function b(_e,rt,at){const lt=c$7(rt),st=v$2(rt),ct=w$6(_e,lt&&function(dt){const pt=w$6(dt);return m$3(pt.width)!==dt.offsetWidth||m$3(pt.height)!==dt.offsetHeight}(rt),at==="fixed");let ut={scrollLeft:0,scrollTop:0};const ft={x:0,y:0};if(lt||!lt&&at!=="fixed")if((r$3(rt)!=="body"||u$5(st))&&(ut=y$5(rt)),c$7(rt)){const dt=w$6(rt,!0);ft.x=dt.x+rt.clientLeft,ft.y=dt.y+rt.clientTop}else st&&(ft.x=x$5(st));return{x:ct.left+ut.scrollLeft-ft.x,y:ct.top+ut.scrollTop-ft.y,width:ct.width,height:ct.height}}function L$3(_e){return r$3(_e)==="html"?_e:_e.assignedSlot||_e.parentNode||(s$5(_e)?_e.host:null)||v$2(_e)}function R$2(_e){return c$7(_e)&&getComputedStyle(_e).position!=="fixed"?_e.offsetParent:null}function T$4(_e){const rt=o$5(_e);let at=R$2(_e);for(;at&&d$3(at)&&getComputedStyle(at).position==="static";)at=R$2(at);return at&&(r$3(at)==="html"||r$3(at)==="body"&&getComputedStyle(at).position==="static"&&!h$3(at))?rt:at||function(lt){let st=L$3(lt);for(s$5(st)&&(st=st.host);c$7(st)&&!["html","body"].includes(r$3(st));){if(h$3(st))return st;st=st.parentNode}return null}(_e)||rt}function W(_e){if(c$7(_e))return{width:_e.offsetWidth,height:_e.offsetHeight};const rt=w$6(_e);return{width:rt.width,height:rt.height}}function E$5(_e){const rt=L$3(_e);return["html","body","#document"].includes(r$3(rt))?_e.ownerDocument.body:c$7(rt)&&u$5(rt)?rt:E$5(rt)}function H$2(_e,rt){var at;rt===void 0&&(rt=[]);const lt=E$5(_e),st=lt===((at=_e.ownerDocument)==null?void 0:at.body),ct=o$5(lt),ut=st?[ct].concat(ct.visualViewport||[],u$5(lt)?lt:[]):lt,ft=rt.concat(ut);return st?ft:ft.concat(H$2(ut))}function C$4(_e,rt,at){return rt==="viewport"?l$5(function(lt,st){const ct=o$5(lt),ut=v$2(lt),ft=ct.visualViewport;let dt=ut.clientWidth,pt=ut.clientHeight,ht=0,gt=0;if(ft){dt=ft.width,pt=ft.height;const mt=a$2();(mt||!mt&&st==="fixed")&&(ht=ft.offsetLeft,gt=ft.offsetTop)}return{width:dt,height:pt,x:ht,y:gt}}(_e,at)):f$2(rt)?function(lt,st){const ct=w$6(lt,!1,st==="fixed"),ut=ct.top+lt.clientTop,ft=ct.left+lt.clientLeft;return{top:ut,left:ft,x:ft,y:ut,right:ft+lt.clientWidth,bottom:ut+lt.clientHeight,width:lt.clientWidth,height:lt.clientHeight}}(rt,at):l$5(function(lt){var st;const ct=v$2(lt),ut=y$5(lt),ft=(st=lt.ownerDocument)==null?void 0:st.body,dt=p$5(ct.scrollWidth,ct.clientWidth,ft?ft.scrollWidth:0,ft?ft.clientWidth:0),pt=p$5(ct.scrollHeight,ct.clientHeight,ft?ft.scrollHeight:0,ft?ft.clientHeight:0);let ht=-ut.scrollLeft+x$5(lt);const gt=-ut.scrollTop;return i$4(ft||ct).direction==="rtl"&&(ht+=p$5(ct.clientWidth,ft?ft.clientWidth:0)-dt),{width:dt,height:pt,x:ht,y:gt}}(v$2(_e)))}function S$3(_e){const rt=H$2(_e),at=["absolute","fixed"].includes(i$4(_e).position)&&c$7(_e)?T$4(_e):_e;return f$2(at)?rt.filter(lt=>f$2(lt)&&function(st,ct){const ut=ct.getRootNode==null?void 0:ct.getRootNode();if(st.contains(ct))return!0;if(ut&&s$5(ut)){let ft=ct;do{if(ft&&st===ft)return!0;ft=ft.parentNode||ft.host}while(ft)}return!1}(lt,at)&&r$3(lt)!=="body"):[]}const D$5={getClippingRect:function(_e){let{element:rt,boundary:at,rootBoundary:lt,strategy:st}=_e;const ct=[...at==="clippingAncestors"?S$3(rt):[].concat(at),lt],ut=ct[0],ft=ct.reduce((dt,pt)=>{const ht=C$4(rt,pt,st);return dt.top=p$5(ht.top,dt.top),dt.right=g$5(ht.right,dt.right),dt.bottom=g$5(ht.bottom,dt.bottom),dt.left=p$5(ht.left,dt.left),dt},C$4(rt,ut,st));return{width:ft.right-ft.left,height:ft.bottom-ft.top,x:ft.left,y:ft.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(_e){let{rect:rt,offsetParent:at,strategy:lt}=_e;const st=c$7(at),ct=v$2(at);if(at===ct)return rt;let ut={scrollLeft:0,scrollTop:0};const ft={x:0,y:0};if((st||!st&&lt!=="fixed")&&((r$3(at)!=="body"||u$5(ct))&&(ut=y$5(at)),c$7(at))){const dt=w$6(at,!0);ft.x=dt.x+at.clientLeft,ft.y=dt.y+at.clientTop}return{...rt,x:rt.x-ut.scrollLeft+ft.x,y:rt.y-ut.scrollTop+ft.y}},isElement:f$2,getDimensions:W,getOffsetParent:T$4,getDocumentElement:v$2,getElementRects:_e=>{let{reference:rt,floating:at,strategy:lt}=_e;return{reference:b(rt,T$4(at),lt),floating:{...W(at),x:0,y:0}}},getClientRects:_e=>Array.from(_e.getClientRects()),isRTL:_e=>i$4(_e).direction==="rtl"};function N$4(_e,rt,at,lt){lt===void 0&&(lt={});const{ancestorScroll:st=!0,ancestorResize:ct=!0,elementResize:ut=!0,animationFrame:ft=!1}=lt,dt=st&&!ft,pt=ct&&!ft,ht=dt||pt?[...f$2(_e)?H$2(_e):[],...H$2(rt)]:[];ht.forEach(vt=>{dt&&vt.addEventListener("scroll",at,{passive:!0}),pt&&vt.addEventListener("resize",at)});let gt,mt=null;if(ut){let vt=!0;mt=new ResizeObserver(()=>{vt||at(),vt=!1}),f$2(_e)&&!ft&&mt.observe(_e),mt.observe(rt)}let xt=ft?w$6(_e):null;return ft&&function vt(){const yt=w$6(_e);!xt||yt.x===xt.x&&yt.y===xt.y&&yt.width===xt.width&&yt.height===xt.height||at(),xt=yt,gt=requestAnimationFrame(vt)}(),at(),()=>{var vt;ht.forEach(yt=>{dt&&yt.removeEventListener("scroll",at),pt&&yt.removeEventListener("resize",at)}),(vt=mt)==null||vt.disconnect(),mt=null,ft&&cancelAnimationFrame(gt)}}const z$6=(_e,rt,at)=>o$6(_e,rt,{platform:D$5,...at});var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,rt){if(_e===rt)return!0;if(typeof _e!=typeof rt)return!1;if(typeof _e=="function"&&_e.toString()===rt.toString())return!0;let at,lt,st;if(_e&&rt&&typeof _e=="object"){if(Array.isArray(_e)){if(at=_e.length,at!=rt.length)return!1;for(lt=at;lt--!==0;)if(!deepEqual(_e[lt],rt[lt]))return!1;return!0}if(st=Object.keys(_e),at=st.length,at!==Object.keys(rt).length)return!1;for(lt=at;lt--!==0;)if(!Object.prototype.hasOwnProperty.call(rt,st[lt]))return!1;for(lt=at;lt--!==0;){const ct=st[lt];if(!(ct==="_owner"&&_e.$$typeof)&&!deepEqual(_e[ct],rt[ct]))return!1}return!0}return _e!==_e&&rt!==rt}function useLatestRef(_e){const rt=reactExports.useRef(_e);return index$1(()=>{rt.current=_e}),rt}function useFloating(_e){let{middleware:rt,placement:at="bottom",strategy:lt="absolute",whileElementsMounted:st}=_e===void 0?{}:_e;const ct=reactExports.useRef(null),ut=reactExports.useRef(null),ft=useLatestRef(st),dt=reactExports.useRef(null),[pt,ht]=reactExports.useState({x:null,y:null,strategy:lt,placement:at,middlewareData:{}}),[gt,mt]=reactExports.useState(rt);deepEqual(gt==null?void 0:gt.map(wt=>{let{options:bt}=wt;return bt}),rt==null?void 0:rt.map(wt=>{let{options:bt}=wt;return bt}))||mt(rt);const xt=reactExports.useCallback(()=>{!ct.current||!ut.current||z$6(ct.current,ut.current,{middleware:gt,placement:at,strategy:lt}).then(wt=>{vt.current&&reactDomExports.flushSync(()=>{ht(wt)})})},[gt,at,lt]);index$1(()=>{vt.current&&xt()},[xt]);const vt=reactExports.useRef(!1);index$1(()=>(vt.current=!0,()=>{vt.current=!1}),[]);const yt=reactExports.useCallback(()=>{if(typeof dt.current=="function"&&(dt.current(),dt.current=null),ct.current&&ut.current)if(ft.current){const wt=ft.current(ct.current,ut.current,xt);dt.current=wt}else xt()},[xt,ft]),_t=reactExports.useCallback(wt=>{ct.current=wt,yt()},[yt]),$t=reactExports.useCallback(wt=>{ut.current=wt,yt()},[yt]),Et=reactExports.useMemo(()=>({reference:ct,floating:ut}),[]);return reactExports.useMemo(()=>({...pt,update:xt,refs:Et,reference:_t,floating:$t}),[pt,xt,Et,_t,$t])}const arrow$2=_e=>{const{element:rt,padding:at}=_e;function lt(st){return Object.prototype.hasOwnProperty.call(st,"current")}return{name:"arrow",options:_e,fn(st){return lt(rt)?rt.current!=null?m$4({element:rt.current,padding:at}).fn(st):{}:rt?m$4({element:rt,padding:at}).fn(st):{}}}},$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((_e,rt)=>{const{children:at,width:lt=10,height:st=5,...ct}=_e;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends({},ct,{ref:rt,width:lt,height:st,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),_e.asChild?at:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(_e){const[rt,at]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(_e){at({width:_e.offsetWidth,height:_e.offsetHeight});const lt=new ResizeObserver(st=>{if(!Array.isArray(st)||!st.length)return;const ct=st[0];let ut,ft;if("borderBoxSize"in ct){const dt=ct.borderBoxSize,pt=Array.isArray(dt)?dt[0]:dt;ut=pt.inlineSize,ft=pt.blockSize}else ut=_e.offsetWidth,ft=_e.offsetHeight;at({width:ut,height:ft})});return lt.observe(_e,{box:"border-box"}),()=>lt.unobserve(_e)}else at(void 0)},[_e]),rt}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=_e=>{const{__scopePopper:rt,children:at}=_e,[lt,st]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:rt,anchor:lt,onAnchorChange:st},at)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((_e,rt)=>{const{__scopePopper:at,virtualRef:lt,...st}=_e,ct=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,at),ut=reactExports.useRef(null),ft=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,ut);return reactExports.useEffect(()=>{ct.onAnchorChange((lt==null?void 0:lt.current)||ut.current)}),lt?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},st,{ref:ft}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),[$cf1ac5d9fe0e8206$var$PositionContextProvider,$cf1ac5d9fe0e8206$var$usePositionContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,{hasParent:!1,positionUpdateFns:new Set}),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((_e,rt)=>{var at,lt,st,ct,ut,ft,dt,pt;const{__scopePopper:ht,side:gt="bottom",sideOffset:mt=0,align:xt="center",alignOffset:vt=0,arrowPadding:yt=0,collisionBoundary:_t=[],collisionPadding:$t=0,sticky:Et="partial",hideWhenDetached:wt=!1,avoidCollisions:bt=!0,onPlaced:St,...Tt}=_e,Rt=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,ht),[kt,At]=reactExports.useState(null),Ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,mn=>At(mn)),[Mt,Ot]=reactExports.useState(null),Pt=$db6c3485150b8e66$export$1ab7ae714698c4b8(Mt),It=(at=Pt==null?void 0:Pt.width)!==null&&at!==void 0?at:0,Ft=(lt=Pt==null?void 0:Pt.height)!==null&&lt!==void 0?lt:0,Wt=gt+(xt!=="center"?"-"+xt:""),Xt=typeof $t=="number"?$t:{top:0,right:0,bottom:0,left:0,...$t},Lt=Array.isArray(_t)?_t:[_t],Bt=Lt.length>0,Ut={padding:Xt,boundary:Lt.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:Bt},{reference:dn,floating:Zt,strategy:cn,x:Gt,y:Yt,placement:pn,middlewareData:$n,update:Sn}=useFloating({strategy:"fixed",placement:Wt,whileElementsMounted:N$4,middleware:[$cf1ac5d9fe0e8206$var$anchorCssProperties(),T$5({mainAxis:mt+Ft,alignmentAxis:vt}),bt?D$6({mainAxis:!0,crossAxis:!1,limiter:Et==="partial"?L$4():void 0,...Ut}):void 0,Mt?arrow$2({element:Mt,padding:yt}):void 0,bt?b$1({...Ut}):void 0,k$4({...Ut,apply:({elements:mn,availableWidth:yn,availableHeight:Kt})=>{mn.floating.style.setProperty("--radix-popper-available-width",`${yn}px`),mn.floating.style.setProperty("--radix-popper-available-height",`${Kt}px`)}}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:It,arrowHeight:Ft}),wt?P$1({strategy:"referenceHidden"}):void 0].filter($cf1ac5d9fe0e8206$var$isDefined)});$9f79659886946c16$export$e5c5a5f917a5871c(()=>{dn(Rt.anchor)},[dn,Rt.anchor]);const Qt=Gt!==null&&Yt!==null,[vn,wn]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(pn),qt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(St);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Qt&&(qt==null||qt())},[Qt,qt]);const En=(st=$n.arrow)===null||st===void 0?void 0:st.x,xn=(ct=$n.arrow)===null||ct===void 0?void 0:ct.y,hn=((ut=$n.arrow)===null||ut===void 0?void 0:ut.centerOffset)!==0,[jt,Dt]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{kt&&Dt(window.getComputedStyle(kt).zIndex)},[kt]);const{hasParent:zt,positionUpdateFns:Nt}=$cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,ht),Vt=!zt;reactExports.useLayoutEffect(()=>{if(!Vt)return Nt.add(Sn),()=>{Nt.delete(Sn)}},[Vt,Nt,Sn]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Vt&&Qt&&Array.from(Nt).reverse().forEach(mn=>requestAnimationFrame(mn))},[Vt,Qt,Nt]);const Jt={"data-side":vn,"data-align":wn,...Tt,ref:Ct,style:{...Tt.style,animation:Qt?void 0:"none",opacity:(ft=$n.hide)!==null&&ft!==void 0&&ft.referenceHidden?0:void 0}};return reactExports.createElement("div",{ref:Zt,"data-radix-popper-content-wrapper":"",style:{position:cn,left:0,top:0,transform:Qt?`translate3d(${Math.round(Gt)}px, ${Math.round(Yt)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:jt,["--radix-popper-transform-origin"]:[(dt=$n.transformOrigin)===null||dt===void 0?void 0:dt.x,(pt=$n.transformOrigin)===null||pt===void 0?void 0:pt.y].join(" ")},dir:_e.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:ht,placedSide:vn,onArrowChange:Ot,arrowX:En,arrowY:xn,shouldHideArrow:hn},Vt?reactExports.createElement($cf1ac5d9fe0e8206$var$PositionContextProvider,{scope:ht,hasParent:!0,positionUpdateFns:Nt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Jt)):reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Jt)))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function _e(rt,at){const{__scopePopper:lt,...st}=rt,ct=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,lt),ut=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ct.placedSide];return reactExports.createElement("span",{ref:ct.onArrowChange,style:{position:"absolute",left:ct.arrowX,top:ct.arrowY,[ut]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ct.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ct.placedSide],visibility:ct.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends({},st,{ref:at,style:{...st.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isDefined(_e){return _e!==void 0}function $cf1ac5d9fe0e8206$var$isNotNull(_e){return _e!==null}const $cf1ac5d9fe0e8206$var$anchorCssProperties=()=>({name:"anchorCssProperties",fn(_e){const{rects:rt,elements:at}=_e,{width:lt,height:st}=rt.reference;return at.floating.style.setProperty("--radix-popper-anchor-width",`${lt}px`),at.floating.style.setProperty("--radix-popper-anchor-height",`${st}px`),{}}}),$cf1ac5d9fe0e8206$var$transformOrigin=_e=>({name:"transformOrigin",options:_e,fn(rt){var at,lt,st,ct,ut;const{placement:ft,rects:dt,middlewareData:pt}=rt,gt=((at=pt.arrow)===null||at===void 0?void 0:at.centerOffset)!==0,mt=gt?0:_e.arrowWidth,xt=gt?0:_e.arrowHeight,[vt,yt]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ft),_t={start:"0%",center:"50%",end:"100%"}[yt],$t=((lt=(st=pt.arrow)===null||st===void 0?void 0:st.x)!==null&&lt!==void 0?lt:0)+mt/2,Et=((ct=(ut=pt.arrow)===null||ut===void 0?void 0:ut.y)!==null&&ct!==void 0?ct:0)+xt/2;let wt="",bt="";return vt==="bottom"?(wt=gt?_t:`${$t}px`,bt=`${-xt}px`):vt==="top"?(wt=gt?_t:`${$t}px`,bt=`${dt.floating.height+xt}px`):vt==="right"?(wt=`${-xt}px`,bt=gt?_t:`${Et}px`):vt==="left"&&(wt=`${dt.floating.width+xt}px`,bt=gt?_t:`${Et}px`),{data:{x:wt,y:bt}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(_e){const[rt,at="center"]=_e.split("-");return[rt,at]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(_e,rt){return reactExports.useReducer((at,lt)=>{const st=rt[at][lt];return st??at},_e)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=_e=>{const{present:rt,children:at}=_e,lt=$921a889cee6df7e8$var$usePresence(rt),st=typeof at=="function"?at({present:lt.isPresent}):reactExports.Children.only(at),ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(lt.ref,st.ref);return typeof at=="function"||lt.isPresent?reactExports.cloneElement(st,{ref:ct}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(_e){const[rt,at]=reactExports.useState(),lt=reactExports.useRef({}),st=reactExports.useRef(_e),ct=reactExports.useRef("none"),ut=_e?"mounted":"unmounted",[ft,dt]=$fe963b355347cc68$export$3e6543de14f8614f(ut,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const pt=$921a889cee6df7e8$var$getAnimationName(lt.current);ct.current=ft==="mounted"?pt:"none"},[ft]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const pt=lt.current,ht=st.current;if(ht!==_e){const mt=ct.current,xt=$921a889cee6df7e8$var$getAnimationName(pt);_e?dt("MOUNT"):xt==="none"||(pt==null?void 0:pt.display)==="none"?dt("UNMOUNT"):dt(ht&&mt!==xt?"ANIMATION_OUT":"UNMOUNT"),st.current=_e}},[_e,dt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(rt){const pt=gt=>{const xt=$921a889cee6df7e8$var$getAnimationName(lt.current).includes(gt.animationName);gt.target===rt&&xt&&reactDomExports.flushSync(()=>dt("ANIMATION_END"))},ht=gt=>{gt.target===rt&&(ct.current=$921a889cee6df7e8$var$getAnimationName(lt.current))};return rt.addEventListener("animationstart",ht),rt.addEventListener("animationcancel",pt),rt.addEventListener("animationend",pt),()=>{rt.removeEventListener("animationstart",ht),rt.removeEventListener("animationcancel",pt),rt.removeEventListener("animationend",pt)}}else dt("ANIMATION_END")},[rt,dt]),{isPresent:["mounted","unmountSuspended"].includes(ft),ref:reactExports.useCallback(pt=>{pt&&(lt.current=getComputedStyle(pt)),at(pt)},[])}}function $921a889cee6df7e8$var$getAnimationName(_e){return(_e==null?void 0:_e.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:_e,defaultProp:rt,onChange:at=()=>{}}){const[lt,st]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:rt,onChange:at}),ct=_e!==void 0,ut=ct?_e:lt,ft=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(at),dt=reactExports.useCallback(pt=>{if(ct){const gt=typeof pt=="function"?pt(_e):pt;gt!==_e&&ft(gt)}else st(pt)},[ct,_e,st,ft]);return[ut,dt]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:_e,onChange:rt}){const at=reactExports.useState(_e),[lt]=at,st=reactExports.useRef(lt),ct=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt);return reactExports.useEffect(()=>{st.current!==lt&&(ct(lt),st.current=lt)},[lt,st,ct]),at}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((_e,rt)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({},_e,{ref:rt,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",..._e.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION=700,$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$export$f78649fb9ca566b8=_e=>{const{__scopeTooltip:rt,delayDuration:at=$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION,skipDelayDuration:lt=300,disableHoverableContent:st=!1,children:ct}=_e,[ut,ft]=reactExports.useState(!0),dt=reactExports.useRef(!1),pt=reactExports.useRef(0);return reactExports.useEffect(()=>{const ht=pt.current;return()=>window.clearTimeout(ht)},[]),reactExports.createElement($a093c7e1ec25a057$var$TooltipProviderContextProvider,{scope:rt,isOpenDelayed:ut,delayDuration:at,onOpen:reactExports.useCallback(()=>{window.clearTimeout(pt.current),ft(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(pt.current),pt.current=window.setTimeout(()=>ft(!0),lt)},[lt]),isPointerInTransitRef:dt,onPointerInTransitChange:reactExports.useCallback(ht=>{dt.current=ht},[]),disableHoverableContent:st},ct)},$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=_e=>{const{__scopeTooltip:rt,children:at,open:lt,defaultOpen:st=!1,onOpenChange:ct,disableHoverableContent:ut,delayDuration:ft}=_e,dt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,_e.__scopeTooltip),pt=$a093c7e1ec25a057$var$usePopperScope(rt),[ht,gt]=reactExports.useState(null),mt=$1746a345f3d73bb7$export$f680877a34711e37(),xt=reactExports.useRef(0),vt=ut??dt.disableHoverableContent,yt=ft??dt.delayDuration,_t=reactExports.useRef(!1),[$t=!1,Et]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lt,defaultProp:st,onChange:Rt=>{Rt?(dt.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):dt.onClose(),ct==null||ct(Rt)}}),wt=reactExports.useMemo(()=>$t?_t.current?"delayed-open":"instant-open":"closed",[$t]),bt=reactExports.useCallback(()=>{window.clearTimeout(xt.current),_t.current=!1,Et(!0)},[Et]),St=reactExports.useCallback(()=>{window.clearTimeout(xt.current),Et(!1)},[Et]),Tt=reactExports.useCallback(()=>{window.clearTimeout(xt.current),xt.current=window.setTimeout(()=>{_t.current=!0,Et(!0)},yt)},[yt,Et]);return reactExports.useEffect(()=>()=>window.clearTimeout(xt.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,pt,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:rt,contentId:mt,open:$t,stateAttribute:wt,trigger:ht,onTriggerChange:gt,onTriggerEnter:reactExports.useCallback(()=>{dt.isOpenDelayed?Tt():bt()},[dt.isOpenDelayed,Tt,bt]),onTriggerLeave:reactExports.useCallback(()=>{vt?St():window.clearTimeout(xt.current)},[St,vt]),onOpen:bt,onClose:St,disableHoverableContent:vt},at))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((_e,rt)=>{const{__scopeTooltip:at,...lt}=_e,st=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,at),ct=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,at),ut=$a093c7e1ec25a057$var$usePopperScope(at),ft=reactExports.useRef(null),dt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,ft,st.onTriggerChange),pt=reactExports.useRef(!1),ht=reactExports.useRef(!1),gt=reactExports.useCallback(()=>pt.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",gt),[gt]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends({asChild:!0},ut),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({"aria-describedby":st.open?st.contentId:void 0,"data-state":st.stateAttribute},lt,{ref:dt,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerMove,mt=>{mt.pointerType!=="touch"&&!ht.current&&!ct.isPointerInTransitRef.current&&(st.onTriggerEnter(),ht.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerLeave,()=>{st.onTriggerLeave(),ht.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerDown,()=>{pt.current=!0,document.addEventListener("pointerup",gt,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocus,()=>{pt.current||st.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onBlur,st.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onClick,st.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((_e,rt)=>{const at=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),{forceMount:lt=at.forceMount,side:st="top",...ct}=_e,ut=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lt||ut.open},ut.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends({side:st},ct,{ref:rt})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends({side:st},ct,{ref:rt})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((_e,rt)=>{const at=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),lt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),st=reactExports.useRef(null),ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,st),[ut,ft]=reactExports.useState(null),{trigger:dt,onClose:pt}=at,ht=st.current,{onPointerInTransitChange:gt}=lt,mt=reactExports.useCallback(()=>{ft(null),gt(!1)},[gt]),xt=reactExports.useCallback((vt,yt)=>{const _t=vt.currentTarget,$t={x:vt.clientX,y:vt.clientY},Et=$a093c7e1ec25a057$var$getExitSideFromRect($t,_t.getBoundingClientRect()),wt=Et==="right"||Et==="bottom"?-5:5,St=Et==="right"||Et==="left"?{x:vt.clientX+wt,y:vt.clientY}:{x:vt.clientX,y:vt.clientY+wt},Tt=$a093c7e1ec25a057$var$getPointsFromRect(yt.getBoundingClientRect()),Rt=$a093c7e1ec25a057$var$getHull([St,...Tt]);ft(Rt),gt(!0)},[gt]);return reactExports.useEffect(()=>()=>mt(),[mt]),reactExports.useEffect(()=>{if(dt&&ht){const vt=_t=>xt(_t,ht),yt=_t=>xt(_t,dt);return dt.addEventListener("pointerleave",vt),ht.addEventListener("pointerleave",yt),()=>{dt.removeEventListener("pointerleave",vt),ht.removeEventListener("pointerleave",yt)}}},[dt,ht,xt,mt]),reactExports.useEffect(()=>{if(ut){const vt=yt=>{const _t=yt.target,$t={x:yt.clientX,y:yt.clientY},Et=(dt==null?void 0:dt.contains(_t))||(ht==null?void 0:ht.contains(_t)),wt=!$a093c7e1ec25a057$var$isPointInPolygon($t,ut);Et?mt():wt&&(mt(),pt())};return document.addEventListener("pointermove",vt),()=>document.removeEventListener("pointermove",vt)}},[dt,ht,ut,pt,mt]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends({},_e,{ref:ct}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((_e,rt)=>{const{__scopeTooltip:at,children:lt,"aria-label":st,onEscapeKeyDown:ct,onPointerDownOutside:ut,...ft}=_e,dt=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,at),pt=$a093c7e1ec25a057$var$usePopperScope(at),{onClose:ht}=dt;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,ht),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,ht)),[ht]),reactExports.useEffect(()=>{if(dt.trigger){const gt=mt=>{const xt=mt.target;xt!=null&&xt.contains(dt.trigger)&&ht()};return window.addEventListener("scroll",gt,{capture:!0}),()=>window.removeEventListener("scroll",gt,{capture:!0})}},[dt.trigger,ht]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ct,onPointerDownOutside:ut,onFocusOutside:gt=>gt.preventDefault(),onDismiss:ht},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends({"data-state":dt.stateAttribute},pt,ft,{ref:rt,style:{...ft.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,lt),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:at,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:dt.contentId,role:"tooltip"},st||lt))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((_e,rt)=>{const{__scopeTooltip:at,...lt}=_e,st=$a093c7e1ec25a057$var$usePopperScope(at);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,at).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends({},st,lt,{ref:rt}))});function $a093c7e1ec25a057$var$getExitSideFromRect(_e,rt){const at=Math.abs(rt.top-_e.y),lt=Math.abs(rt.bottom-_e.y),st=Math.abs(rt.right-_e.x),ct=Math.abs(rt.left-_e.x);switch(Math.min(at,lt,st,ct)){case ct:return"left";case st:return"right";case at:return"top";case lt:return"bottom";default:return null}}function $a093c7e1ec25a057$var$getPointsFromRect(_e){const{top:rt,right:at,bottom:lt,left:st}=_e;return[{x:st,y:rt},{x:at,y:rt},{x:at,y:lt},{x:st,y:lt}]}function $a093c7e1ec25a057$var$isPointInPolygon(_e,rt){const{x:at,y:lt}=_e;let st=!1;for(let ct=0,ut=rt.length-1;ct<rt.length;ut=ct++){const ft=rt[ct].x,dt=rt[ct].y,pt=rt[ut].x,ht=rt[ut].y;dt>lt!=ht>lt&&at<(pt-ft)*(lt-dt)/(ht-dt)+ft&&(st=!st)}return st}function $a093c7e1ec25a057$var$getHull(_e){const rt=_e.slice();return rt.sort((at,lt)=>at.x<lt.x?-1:at.x>lt.x?1:at.y<lt.y?-1:at.y>lt.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(rt)}function $a093c7e1ec25a057$var$getHullPresorted(_e){if(_e.length<=1)return _e.slice();const rt=[];for(let lt=0;lt<_e.length;lt++){const st=_e[lt];for(;rt.length>=2;){const ct=rt[rt.length-1],ut=rt[rt.length-2];if((ct.x-ut.x)*(st.y-ut.y)>=(ct.y-ut.y)*(st.x-ut.x))rt.pop();else break}rt.push(st)}rt.pop();const at=[];for(let lt=_e.length-1;lt>=0;lt--){const st=_e[lt];for(;at.length>=2;){const ct=at[at.length-1],ut=at[at.length-2];if((ct.x-ut.x)*(st.y-ut.y)>=(ct.y-ut.y)*(st.x-ut.x))at.pop();else break}at.push(st)}return at.pop(),rt.length===1&&at.length===1&&rt[0].x===at[0].x&&rt[0].y===at[0].y?rt:rt.concat(at)}const $a093c7e1ec25a057$export$2881499e37b75b9a=$a093c7e1ec25a057$export$f78649fb9ca566b8,$a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559,defaultPortalContext=typeof document>"u"?null:document.body,portalContext=reactExports.createContext(defaultPortalContext);function Portal(_e){const rt=reactExports.useContext(portalContext);return rt===null?null:reactDomExports.createPortal(_e.children,rt)}const context$1=reactExports.createContext(null);function useTooltipContext(){const _e=reactExports.useContext(context$1);if(!_e)throw new Error("TooltipContext not found");return _e}function Tooltip(_e){const{children:rt,invertColor:at=!1,delay:lt=400,placement:st="top"}=_e,ct=rt.find(dt=>dt.type===Tooltip.Content),ut=rt.find(dt=>dt.type===Tooltip.Target),ft=reactExports.useMemo(()=>({invertColor:at,placement:st}),[at,st]);return jsx(context$1.Provider,{value:ft,children:jsx($a093c7e1ec25a057$export$2881499e37b75b9a,{delayDuration:lt,children:jsxs($a093c7e1ec25a057$export$be92b6f5f03c0fe9,{children:[jsx($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0,children:ut}),ct]})})})}Tooltip.Content=function _e(rt){const{children:at,className:lt,style:st}=rt,{invertColor:ct,placement:ut}=useTooltipContext();return at?jsx(Portal,{children:jsxs($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{sideOffset:2,side:ut,className:clsx(lt===""||!lt?"rounded-md py-1 px-2 text-xs":`rounded-md py-1 px-2 ${lt}`,ct?"bg-neutral-100 text-black":"bg-neutral-900 text-white"),style:st,children:[jsx($a093c7e1ec25a057$export$21b07c8f274aebd5,{className:clsx(ct?"fill-neutral-100":"fill-black")}),at]})}):null};Tooltip.Target=reactExports.forwardRef((_e,rt)=>{const{children:at,style:lt,noFit:st,className:ct,...ut}=_e;return jsx("div",{ref:rt,className:clsx({"max-w-fit":!st},ct),style:lt,...ut,children:at})});function WithTooltip(_e){const{children:rt,tooltip:at,tooltipDelay:lt,tooltipPlacement:st}=_e;return at?jsxs(Tooltip,{delay:lt,placement:st,children:[jsx(Tooltip.Content,{children:at}),jsx(Tooltip.Target,{children:rt})]}):jsx(Fragment,{children:rt})}const baseSizes={[Size.xSmall]:"px-2.5 py-1.5 text-xs",[Size.small]:"px-3 py-2 text-sm",[Size.medium]:"px-4 py-2 text-sm",[Size.large]:"px-4 py-2 text-base",[Size.xLarge]:"px-6 py-3 text-base"},circularSizes={[Size.xSmall]:"p-1 text-xl",[Size.small]:"p-1.5 text-xl",[Size.medium]:"p-2 text-xl",[Size.large]:"p-2 text-2xl",[Size.xLarge]:"p-3 text-2xl"},colorsPrimary={[Color$1.primary]:"bg-primary-600 disabled:bg-primary-400 hover:bg-primary-700 focus:ring-primary-900 active:bg-primary-800 text-white",[Color$1.neutral]:"bg-neutral-600 disabled:bg-neutral-400 hover:bg-neutral-700 focus:ring-neutral-900 active:bg-neutral-800 text-white",[Color$1.success]:"bg-success-600 disabled:bg-success-400 hover:bg-success-700 focus:ring-success-900 active:bg-success-800 text-white",[Color$1.warning]:"bg-warning-600 disabled:bg-warning-400 hover:bg-warning-700 focus:ring-warning-900 active:bg-warning-800 text-white",[Color$1.danger]:"bg-danger-600 disabled:bg-danger-400 hover:bg-danger-700 focus:ring-danger-900 active:bg-danger-800 text-white",[Color$1.alternative]:"bg-alternative-600 disabled:bg-alternative-400 hover:bg-alternative-700 focus:ring-alternative-900 active:bg-alternative-800 text-white"},colorsSecondary={[Color$1.primary]:"text-primary-700 disabled:text-primary-400 bg-primary-100 disabled:bg-primary-50 hover:bg-primary-200 focus:ring-primary-500 active:bg-primary-300",[Color$1.neutral]:"text-neutral-700 disabled:text-neutral-400 bg-neutral-100 disabled:bg-neutral-50 hover:bg-neutral-200 focus:ring-neutral-500 active:bg-neutral-300",[Color$1.success]:"text-success-700 disabled:text-success-400 bg-success-100 disabled:bg-success-50 hover:bg-success-200 focus:ring-success-500 active:bg-success-300",[Color$1.warning]:"text-warning-700 disabled:text-warning-400 bg-warning-100 disabled:bg-warning-50 hover:bg-warning-200 focus:ring-warning-500 active:bg-warning-300",[Color$1.danger]:"text-danger-700 disabled:text-danger-400 bg-danger-100 disabled:bg-danger-50 hover:bg-danger-200 focus:ring-danger-500 active:bg-danger-300",[Color$1.alternative]:"text-alternative-700 disabled:text-alternative-400 bg-alternative-100 disabled:bg-alternative-50 hover:bg-alternative-200 focus:ring-alternative-500 active:bg-alternative-300"},colorsWhite={[Color$1.primary]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.neutral]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.success]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.warning]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.danger]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100",[Color$1.alternative]:"text-neutral-700 disabled:text-neutral-400 bg-white disabled:bg-white hover:bg-neutral-50 focus:ring-primary-500 active:bg-neutral-100"};function getVariantColor(_e,rt){switch(_e){case Variant.primary:return colorsPrimary[rt];case Variant.secondary:return colorsSecondary[rt];case Variant.white:return colorsWhite[rt];default:throw new Error("Variant cannot be null")}}function getButtonClassName(_e){const{variant:rt,color:at,roundness:lt,size:st,group:ct,className:ut,disabled:ft,noBorder:dt}=_e;return clsx("font-semibold focus:outline-none",getVariantColor(rt,at),lt===Roundness.circular?circularSizes[st]:baseSizes[st],ut,lt===Roundness.full||lt===Roundness.circular?{"rounded-l-full rounded-r-none":ct==="left","rounded-none":ct==="middle","rounded-r-full rounded-l-none":ct==="right","rounded-full":!ct}:{"rounded-l-md rounded-r-none":ct==="left","rounded-none":ct==="middle","rounded-r-md rounded-l-none":ct==="right","rounded-md":!ct},{"cursor-default":ft,"-ml-px":ct&&ct!=="left","shadow-sm focus:ring-2":!ct,"focus:ring-1 focus:z-10":ct,"border border-transparent":!dt&&rt!==Variant.white,"border border-neutral-300":!dt&&rt===Variant.white})}const Button=forwardRefWithAs(function _e(rt,at){const{color:lt=Color$1.primary,size:st=Size.medium,variant:ct=Variant.primary,group:ut,children:ft,roundness:dt=Roundness.light,className:pt,noBorder:ht=!1,type:gt="button",tooltip:mt,tooltipDelay:xt,tooltipPlacement:vt,as:yt="button",..._t}=rt;return jsx(WithTooltip,{tooltip:mt,tooltipDelay:xt,tooltipPlacement:vt,children:jsx(yt,{type:yt==="button"?gt:void 0,..._t,className:getButtonClassName({variant:ct,roundness:dt,color:lt,group:ut,noBorder:ht,size:st,disabled:rt.disabled,className:pt}),ref:at,children:ft})})});var i$3=Object.defineProperty,d$2=(_e,rt,at)=>rt in _e?i$3(_e,rt,{enumerable:!0,configurable:!0,writable:!0,value:at}):_e[rt]=at,r$2=(_e,rt,at)=>(d$2(_e,typeof rt!="symbol"?rt+"":rt,at),at);let o$4=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(rt){this.current!==rt&&(this.handoffState="pending",this.currentId=0,this.current=rt)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$4=new o$4,l$3=(_e,rt)=>{s$4.isServer?reactExports.useEffect(_e,rt):reactExports.useLayoutEffect(_e,rt)};function s$3(_e){let rt=reactExports.useRef(_e);return l$3(()=>{rt.current=_e},[_e]),rt}function i$2(_e,rt){let[at,lt]=reactExports.useState(_e),st=s$3(_e);return l$3(()=>lt(st.current),[st,lt,...rt]),at}function t$4(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch(rt=>setTimeout(()=>{throw rt}))}function o$3(){let _e=[],rt={addEventListener(at,lt,st,ct){return at.addEventListener(lt,st,ct),rt.add(()=>at.removeEventListener(lt,st,ct))},requestAnimationFrame(...at){let lt=requestAnimationFrame(...at);return rt.add(()=>cancelAnimationFrame(lt))},nextFrame(...at){return rt.requestAnimationFrame(()=>rt.requestAnimationFrame(...at))},setTimeout(...at){let lt=setTimeout(...at);return rt.add(()=>clearTimeout(lt))},microTask(...at){let lt={current:!0};return t$4(()=>{lt.current&&at[0]()}),rt.add(()=>{lt.current=!1})},style(at,lt,st){let ct=at.style.getPropertyValue(lt);return Object.assign(at.style,{[lt]:st}),this.add(()=>{Object.assign(at.style,{[lt]:ct})})},group(at){let lt=o$3();return at(lt),this.add(()=>lt.dispose())},add(at){return _e.push(at),()=>{let lt=_e.indexOf(at);if(lt>=0)for(let st of _e.splice(lt,1))st()}},dispose(){for(let at of _e.splice(0))at()}};return rt}function p$4(){let[_e]=reactExports.useState(o$3);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let o$2=function(_e){let rt=s$3(_e);return React$8.useCallback((...at)=>rt.current(...at),[rt])};function l$2(){let[_e,rt]=reactExports.useState(s$4.isHandoffComplete);return _e&&s$4.isHandoffComplete===!1&&rt(!1),reactExports.useEffect(()=>{_e!==!0&&rt(!0)},[_e]),reactExports.useEffect(()=>s$4.handoff(),[]),_e}var o$1;let I$3=(o$1=React$8.useId)!=null?o$1:function(){let _e=l$2(),[rt,at]=React$8.useState(_e?()=>s$4.nextId():null);return l$3(()=>{rt===null&&at(s$4.nextId())},[rt]),rt!=null?""+rt:void 0};function u$4(_e,rt,...at){if(_e in rt){let st=rt[_e];return typeof st=="function"?st(...at):st}let lt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys(rt).map(st=>`"${st}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(lt,u$4),lt}function e$2(_e){return s$4.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}let c$6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var M$1=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e))(M$1||{}),N$3=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(N$3||{}),F$5=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(F$5||{}),T$3=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(T$3||{});function h$2(_e,rt=0){var at;return _e===((at=e$2(_e))==null?void 0:at.body)?!1:u$4(rt,{[0](){return _e.matches(c$6)},[1](){let lt=_e;for(;lt!==null;){if(lt.matches(c$6))return!0;lt=lt.parentElement}return!1}})}var w$5=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(w$5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$2(_e,rt=at=>at){return _e.slice().sort((at,lt)=>{let st=rt(at),ct=rt(lt);if(st===null||ct===null)return 0;let ut=st.compareDocumentPosition(ct);return ut&Node.DOCUMENT_POSITION_FOLLOWING?-1:ut&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function d$1(_e,rt,at){let lt=s$3(rt);reactExports.useEffect(()=>{function st(ct){lt.current(ct)}return document.addEventListener(_e,st,at),()=>document.removeEventListener(_e,st,at)},[_e,at])}function L$2(_e,rt,at=!0){let lt=reactExports.useRef(!1);reactExports.useEffect(()=>{requestAnimationFrame(()=>{lt.current=at})},[at]);function st(ut,ft){if(!lt.current||ut.defaultPrevented)return;let dt=function ht(gt){return typeof gt=="function"?ht(gt()):Array.isArray(gt)||gt instanceof Set?gt:[gt]}(_e),pt=ft(ut);if(pt!==null&&pt.getRootNode().contains(pt)){for(let ht of dt){if(ht===null)continue;let gt=ht instanceof HTMLElement?ht:ht.current;if(gt!=null&&gt.contains(pt)||ut.composed&&ut.composedPath().includes(gt))return}return!h$2(pt,T$3.Loose)&&pt.tabIndex!==-1&&ut.preventDefault(),rt(ut,pt)}}let ct=reactExports.useRef(null);d$1("mousedown",ut=>{var ft,dt;lt.current&&(ct.current=((dt=(ft=ut.composedPath)==null?void 0:ft.call(ut))==null?void 0:dt[0])||ut.target)},!0),d$1("click",ut=>{ct.current&&(st(ut,()=>ct.current),ct.current=null)},!0),d$1("blur",ut=>st(ut,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function i$1(_e){var rt;if(_e.type)return _e.type;let at=(rt=_e.as)!=null?rt:"button";if(typeof at=="string"&&at.toLowerCase()==="button")return"button"}function s$2(_e,rt){let[at,lt]=reactExports.useState(()=>i$1(_e));return l$3(()=>{lt(i$1(_e))},[_e.type,_e.as]),l$3(()=>{at||rt.current&&rt.current instanceof HTMLButtonElement&&!rt.current.hasAttribute("type")&&lt("button")},[at,rt]),at}let u$3=Symbol();function y$4(..._e){let rt=reactExports.useRef(_e);reactExports.useEffect(()=>{rt.current=_e},[_e]);let at=o$2(lt=>{for(let st of rt.current)st!=null&&(typeof st=="function"?st(lt):st.current=lt)});return _e.every(lt=>lt==null||(lt==null?void 0:lt[u$3]))?void 0:at}function f$1(_e){throw new Error("Unexpected object: "+_e)}var a$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(a$1||{});function x$4(_e,rt){let at=rt.resolveItems();if(at.length<=0)return null;let lt=rt.resolveActiveIndex(),st=lt??-1,ct=(()=>{switch(_e.focus){case 0:return at.findIndex(ut=>!rt.resolveDisabled(ut));case 1:{let ut=at.slice().reverse().findIndex((ft,dt,pt)=>st!==-1&&pt.length-dt-1>=st?!1:!rt.resolveDisabled(ft));return ut===-1?ut:at.length-1-ut}case 2:return at.findIndex((ut,ft)=>ft<=st?!1:!rt.resolveDisabled(ut));case 3:{let ut=at.slice().reverse().findIndex(ft=>!rt.resolveDisabled(ft));return ut===-1?ut:at.length-1-ut}case 4:return at.findIndex(ut=>rt.resolveId(ut)===_e.id);case 5:return null;default:f$1(_e)}})();return ct===-1?lt:ct}function e$1(..._e){return _e.filter(Boolean).join(" ")}var S$2=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(S$2||{}),j=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(j||{});function X$1({ourProps:_e,theirProps:rt,slot:at,defaultTag:lt,features:st,visible:ct=!0,name:ut}){let ft=N$2(rt,_e);if(ct)return c$5(ft,at,lt,ut);let dt=st??0;if(dt&2){let{static:pt=!1,...ht}=ft;if(pt)return c$5(ht,at,lt,ut)}if(dt&1){let{unmount:pt=!0,...ht}=ft;return u$4(pt?0:1,{[0](){return null},[1](){return c$5({...ht,hidden:!0,style:{display:"none"}},at,lt,ut)}})}return c$5(ft,at,lt,ut)}function c$5(_e,rt={},at,lt){let{as:st=at,children:ct,refName:ut="ref",...ft}=g$4(_e,["unmount","static"]),dt=_e.ref!==void 0?{[ut]:_e.ref}:{},pt=typeof ct=="function"?ct(rt):ct;"className"in ft&&ft.className&&typeof ft.className=="function"&&(ft.className=ft.className(rt));let ht={};if(rt){let gt=!1,mt=[];for(let[xt,vt]of Object.entries(rt))typeof vt=="boolean"&&(gt=!0),vt===!0&&mt.push(xt);gt&&(ht["data-headlessui-state"]=mt.join(" "))}if(st===reactExports.Fragment&&Object.keys(R$1(ft)).length>0){if(!reactExports.isValidElement(pt)||Array.isArray(pt)&&pt.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${lt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ft).map(vt=>`  - ${vt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(vt=>`  - ${vt}`).join(`
`)].join(`
`));let gt=pt.props,mt=typeof(gt==null?void 0:gt.className)=="function"?(...vt)=>e$1(gt==null?void 0:gt.className(...vt),ft.className):e$1(gt==null?void 0:gt.className,ft.className),xt=mt?{className:mt}:{};return reactExports.cloneElement(pt,Object.assign({},N$2(pt.props,R$1(g$4(ft,["ref"]))),ht,dt,w$4(pt.ref,dt.ref),xt))}return reactExports.createElement(st,Object.assign({},g$4(ft,["ref"]),st!==reactExports.Fragment&&dt,st!==reactExports.Fragment&&ht),pt)}function w$4(..._e){return{ref:_e.every(rt=>rt==null)?void 0:rt=>{for(let at of _e)at!=null&&(typeof at=="function"?at(rt):at.current=rt)}}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let rt={},at={};for(let lt of _e)for(let st in lt)st.startsWith("on")&&typeof lt[st]=="function"?(at[st]!=null||(at[st]=[]),at[st].push(lt[st])):rt[st]=lt[st];if(rt.disabled||rt["aria-disabled"])return Object.assign(rt,Object.fromEntries(Object.keys(at).map(lt=>[lt,void 0])));for(let lt in at)Object.assign(rt,{[lt](st,...ct){let ut=at[lt];for(let ft of ut){if((st instanceof Event||(st==null?void 0:st.nativeEvent)instanceof Event)&&st.defaultPrevented)return;ft(st,...ct)}}});return rt}function D$4(_e){var rt;return Object.assign(reactExports.forwardRef(_e),{displayName:(rt=_e.displayName)!=null?rt:_e.name})}function R$1(_e){let rt=Object.assign({},_e);for(let at in rt)rt[at]===void 0&&delete rt[at];return rt}function g$4(_e,rt=[]){let at=Object.assign({},_e);for(let lt of rt)lt in at&&delete at[lt];return at}function r$1(_e){let rt=_e.parentElement,at=null;for(;rt&&!(rt instanceof HTMLFieldSetElement);)rt instanceof HTMLLegendElement&&(at=rt),rt=rt.parentElement;let lt=(rt==null?void 0:rt.getAttribute("disabled"))==="";return lt&&i(at)?!1:lt}function i(_e){if(!_e)return!1;let rt=_e.previousElementSibling;for(;rt!==null;){if(rt instanceof HTMLLegendElement)return!1;rt=rt.previousElementSibling}return!0}function e(_e={},rt=null,at=[]){for(let[lt,st]of Object.entries(_e))f(at,s$1(rt,lt),st);return at}function s$1(_e,rt){return _e?_e+"["+rt+"]":rt}function f(_e,rt,at){if(Array.isArray(at))for(let[lt,st]of at.entries())f(_e,s$1(rt,lt.toString()),st);else at instanceof Date?_e.push([rt,at.toISOString()]):typeof at=="boolean"?_e.push([rt,at?"1":"0"]):typeof at=="string"?_e.push([rt,at]):typeof at=="number"?_e.push([rt,`${at}`]):at==null?_e.push([rt,""]):e(at,rt,_e)}let a="div";var p$3=(_e=>(_e[_e.None=1]="None",_e[_e.Focusable=2]="Focusable",_e[_e.Hidden=4]="Hidden",_e))(p$3||{});function s(_e,rt){let{features:at=1,...lt}=_e,st={ref:rt,"aria-hidden":(at&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(at&4)===4&&(at&2)!==2&&{display:"none"}}};return X$1({ourProps:st,theirProps:lt,slot:{},defaultTag:a,name:"Hidden"})}let c$4=D$4(s),n$3=reactExports.createContext(null);n$3.displayName="OpenClosedContext";var d=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(d||{});function C$3(){return reactExports.useContext(n$3)}function c$3({value:_e,children:rt}){return React$8.createElement(n$3.Provider,{value:_e},rt)}var o=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o||{});function T$2(_e,rt,at){let[lt,st]=reactExports.useState(at),ct=_e!==void 0,ut=reactExports.useRef(ct),ft=reactExports.useRef(!1),dt=reactExports.useRef(!1);return ct&&!ut.current&&!ft.current?(ft.current=!0,ut.current=ct,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!ct&&ut.current&&!dt.current&&(dt.current=!0,ut.current=ct,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[ct?_e:lt,o$2(pt=>(ct||st(pt),rt==null?void 0:rt(pt)))]}function t$3(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved(rt){let at=t$3(rt);return _e.current[0]===at[0]&&_e.current[1]===at[1]?!1:(_e.current=at,!0)},update(rt){_e.current=t$3(rt)}}}var Ue$1=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Ue$1||{}),Be=(_e=>(_e[_e.Single=0]="Single",_e[_e.Multi=1]="Multi",_e))(Be||{}),He$1=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(He$1||{}),Ge$1=(_e=>(_e[_e.OpenListbox=0]="OpenListbox",_e[_e.CloseListbox=1]="CloseListbox",_e[_e.GoToOption=2]="GoToOption",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterOption=5]="RegisterOption",_e[_e.UnregisterOption=6]="UnregisterOption",_e[_e.RegisterLabel=7]="RegisterLabel",_e))(Ge$1||{});function X(_e,rt=at=>at){let at=_e.activeOptionIndex!==null?_e.options[_e.activeOptionIndex]:null,lt=I$2(rt(_e.options.slice()),ct=>ct.dataRef.current.domRef.current),st=at?lt.indexOf(at):null;return st===-1&&(st=null),{options:lt,activeOptionIndex:st}}let Ne$1={[1](_e){return _e.dataRef.current.disabled||_e.listboxState===1?_e:{..._e,activeOptionIndex:null,listboxState:1}},[0](_e){if(_e.dataRef.current.disabled||_e.listboxState===0)return _e;let rt=_e.activeOptionIndex,{isSelected:at}=_e.dataRef.current,lt=_e.options.findIndex(st=>at(st.dataRef.current.value));return lt!==-1&&(rt=lt),{..._e,listboxState:0,activeOptionIndex:rt}},[2](_e,rt){var at;if(_e.dataRef.current.disabled||_e.listboxState===1)return _e;let lt=X(_e),st=x$4(rt,{resolveItems:()=>lt.options,resolveActiveIndex:()=>lt.activeOptionIndex,resolveId:ct=>ct.id,resolveDisabled:ct=>ct.dataRef.current.disabled});return{..._e,...lt,searchQuery:"",activeOptionIndex:st,activationTrigger:(at=rt.trigger)!=null?at:1}},[3]:(_e,rt)=>{if(_e.dataRef.current.disabled||_e.listboxState===1)return _e;let at=_e.searchQuery!==""?0:1,lt=_e.searchQuery+rt.value.toLowerCase(),st=(_e.activeOptionIndex!==null?_e.options.slice(_e.activeOptionIndex+at).concat(_e.options.slice(0,_e.activeOptionIndex+at)):_e.options).find(ut=>{var ft;return!ut.dataRef.current.disabled&&((ft=ut.dataRef.current.textValue)==null?void 0:ft.startsWith(lt))}),ct=st?_e.options.indexOf(st):-1;return ct===-1||ct===_e.activeOptionIndex?{..._e,searchQuery:lt}:{..._e,searchQuery:lt,activeOptionIndex:ct,activationTrigger:1}},[4](_e){return _e.dataRef.current.disabled||_e.listboxState===1||_e.searchQuery===""?_e:{..._e,searchQuery:""}},[5]:(_e,rt)=>{let at={id:rt.id,dataRef:rt.dataRef},lt=X(_e,st=>[...st,at]);return _e.activeOptionIndex===null&&_e.dataRef.current.isSelected(rt.dataRef.current.value)&&(lt.activeOptionIndex=lt.options.indexOf(at)),{..._e,...lt}},[6]:(_e,rt)=>{let at=X(_e,lt=>{let st=lt.findIndex(ct=>ct.id===rt.id);return st!==-1&&lt.splice(st,1),lt});return{..._e,...at,activationTrigger:1}},[7]:(_e,rt)=>({..._e,labelId:rt.id})},$=reactExports.createContext(null);$.displayName="ListboxActionsContext";function U(_e){let rt=reactExports.useContext($);if(rt===null){let at=new Error(`<${_e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(at,U),at}return rt}let z$5=reactExports.createContext(null);z$5.displayName="ListboxDataContext";function B$5(_e){let rt=reactExports.useContext(z$5);if(rt===null){let at=new Error(`<${_e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(at,B$5),at}return rt}function je$1(_e,rt){return u$4(rt.type,Ne$1,_e,rt)}let Ve$1=reactExports.Fragment;function Ke$1(_e,rt){let{value:at,defaultValue:lt,form:st,name:ct,onChange:ut,by:ft=(Gt,Yt)=>Gt===Yt,disabled:dt=!1,horizontal:pt=!1,multiple:ht=!1,...gt}=_e;const mt=pt?"horizontal":"vertical";let xt=y$4(rt),[vt=ht?[]:void 0,yt]=T$2(at,ut,lt),[_t,$t]=reactExports.useReducer(je$1,{dataRef:reactExports.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),Et=reactExports.useRef({static:!1,hold:!1}),wt=reactExports.useRef(null),bt=reactExports.useRef(null),St=reactExports.useRef(null),Tt=o$2(typeof ft=="string"?(Gt,Yt)=>{let pn=ft;return(Gt==null?void 0:Gt[pn])===(Yt==null?void 0:Yt[pn])}:ft),Rt=reactExports.useCallback(Gt=>u$4(kt.mode,{[1]:()=>vt.some(Yt=>Tt(Yt,Gt)),[0]:()=>Tt(vt,Gt)}),[vt]),kt=reactExports.useMemo(()=>({..._t,value:vt,disabled:dt,mode:ht?1:0,orientation:mt,compare:Tt,isSelected:Rt,optionsPropsRef:Et,labelRef:wt,buttonRef:bt,optionsRef:St}),[vt,dt,ht,_t]);l$3(()=>{_t.dataRef.current=kt},[kt]),L$2([kt.buttonRef,kt.optionsRef],(Gt,Yt)=>{var pn;$t({type:1}),h$2(Yt,T$3.Loose)||(Gt.preventDefault(),(pn=kt.buttonRef.current)==null||pn.focus())},kt.listboxState===0);let At=reactExports.useMemo(()=>({open:kt.listboxState===0,disabled:dt,value:vt}),[kt,dt,vt]),Ct=o$2(Gt=>{let Yt=kt.options.find(pn=>pn.id===Gt);Yt&&Xt(Yt.dataRef.current.value)}),Mt=o$2(()=>{if(kt.activeOptionIndex!==null){let{dataRef:Gt,id:Yt}=kt.options[kt.activeOptionIndex];Xt(Gt.current.value),$t({type:2,focus:a$1.Specific,id:Yt})}}),Ot=o$2(()=>$t({type:0})),Pt=o$2(()=>$t({type:1})),It=o$2((Gt,Yt,pn)=>Gt===a$1.Specific?$t({type:2,focus:a$1.Specific,id:Yt,trigger:pn}):$t({type:2,focus:Gt,trigger:pn})),Ft=o$2((Gt,Yt)=>($t({type:5,id:Gt,dataRef:Yt}),()=>$t({type:6,id:Gt}))),Wt=o$2(Gt=>($t({type:7,id:Gt}),()=>$t({type:7,id:null}))),Xt=o$2(Gt=>u$4(kt.mode,{[0](){return yt==null?void 0:yt(Gt)},[1](){let Yt=kt.value.slice(),pn=Yt.findIndex($n=>Tt($n,Gt));return pn===-1?Yt.push(Gt):Yt.splice(pn,1),yt==null?void 0:yt(Yt)}})),Lt=o$2(Gt=>$t({type:3,value:Gt})),Bt=o$2(()=>$t({type:4})),Ut=reactExports.useMemo(()=>({onChange:Xt,registerOption:Ft,registerLabel:Wt,goToOption:It,closeListbox:Pt,openListbox:Ot,selectActiveOption:Mt,selectOption:Ct,search:Lt,clearSearch:Bt}),[]),dn={ref:xt},Zt=reactExports.useRef(null),cn=p$4();return reactExports.useEffect(()=>{Zt.current&&lt!==void 0&&cn.addEventListener(Zt.current,"reset",()=>{Xt(lt)})},[Zt,Xt]),React$8.createElement($.Provider,{value:Ut},React$8.createElement(z$5.Provider,{value:kt},React$8.createElement(c$3,{value:u$4(kt.listboxState,{[0]:d.Open,[1]:d.Closed})},ct!=null&&vt!=null&&e({[ct]:vt}).map(([Gt,Yt],pn)=>React$8.createElement(c$4,{features:p$3.Hidden,ref:pn===0?$n=>{var Sn;Zt.current=(Sn=$n==null?void 0:$n.closest("form"))!=null?Sn:null}:void 0,...R$1({key:Gt,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:st,name:Gt,value:Yt})})),X$1({ourProps:dn,theirProps:gt,slot:At,defaultTag:Ve$1,name:"Listbox"}))))}let Qe$1="button";function We$1(_e,rt){var at;let lt=I$3(),{id:st=`headlessui-listbox-button-${lt}`,...ct}=_e,ut=B$5("Listbox.Button"),ft=U("Listbox.Button"),dt=y$4(ut.buttonRef,rt),pt=p$4(),ht=o$2(_t=>{switch(_t.key){case o.Space:case o.Enter:case o.ArrowDown:_t.preventDefault(),ft.openListbox(),pt.nextFrame(()=>{ut.value||ft.goToOption(a$1.First)});break;case o.ArrowUp:_t.preventDefault(),ft.openListbox(),pt.nextFrame(()=>{ut.value||ft.goToOption(a$1.Last)});break}}),gt=o$2(_t=>{switch(_t.key){case o.Space:_t.preventDefault();break}}),mt=o$2(_t=>{if(r$1(_t.currentTarget))return _t.preventDefault();ut.listboxState===0?(ft.closeListbox(),pt.nextFrame(()=>{var $t;return($t=ut.buttonRef.current)==null?void 0:$t.focus({preventScroll:!0})})):(_t.preventDefault(),ft.openListbox())}),xt=i$2(()=>{if(ut.labelId)return[ut.labelId,st].join(" ")},[ut.labelId,st]),vt=reactExports.useMemo(()=>({open:ut.listboxState===0,disabled:ut.disabled,value:ut.value}),[ut]),yt={ref:dt,id:st,type:s$2(_e,ut.buttonRef),"aria-haspopup":"listbox","aria-controls":(at=ut.optionsRef.current)==null?void 0:at.id,"aria-expanded":ut.disabled?void 0:ut.listboxState===0,"aria-labelledby":xt,disabled:ut.disabled,onKeyDown:ht,onKeyUp:gt,onClick:mt};return X$1({ourProps:yt,theirProps:ct,slot:vt,defaultTag:Qe$1,name:"Listbox.Button"})}let Xe$1="label";function $e$1(_e,rt){let at=I$3(),{id:lt=`headlessui-listbox-label-${at}`,...st}=_e,ct=B$5("Listbox.Label"),ut=U("Listbox.Label"),ft=y$4(ct.labelRef,rt);l$3(()=>ut.registerLabel(lt),[lt]);let dt=o$2(()=>{var ht;return(ht=ct.buttonRef.current)==null?void 0:ht.focus({preventScroll:!0})}),pt=reactExports.useMemo(()=>({open:ct.listboxState===0,disabled:ct.disabled}),[ct]);return X$1({ourProps:{ref:ft,id:lt,onClick:dt},theirProps:st,slot:pt,defaultTag:Xe$1,name:"Listbox.Label"})}let ze="ul",Je$1=S$2.RenderStrategy|S$2.Static;function qe$1(_e,rt){var at;let lt=I$3(),{id:st=`headlessui-listbox-options-${lt}`,...ct}=_e,ut=B$5("Listbox.Options"),ft=U("Listbox.Options"),dt=y$4(ut.optionsRef,rt),pt=p$4(),ht=p$4(),gt=C$3(),mt=(()=>gt!==null?(gt&d.Open)===d.Open:ut.listboxState===0)();reactExports.useEffect(()=>{var $t;let Et=ut.optionsRef.current;Et&&ut.listboxState===0&&Et!==(($t=e$2(Et))==null?void 0:$t.activeElement)&&Et.focus({preventScroll:!0})},[ut.listboxState,ut.optionsRef]);let xt=o$2($t=>{switch(ht.dispose(),$t.key){case o.Space:if(ut.searchQuery!=="")return $t.preventDefault(),$t.stopPropagation(),ft.search($t.key);case o.Enter:if($t.preventDefault(),$t.stopPropagation(),ut.activeOptionIndex!==null){let{dataRef:Et}=ut.options[ut.activeOptionIndex];ft.onChange(Et.current.value)}ut.mode===0&&(ft.closeListbox(),o$3().nextFrame(()=>{var Et;return(Et=ut.buttonRef.current)==null?void 0:Et.focus({preventScroll:!0})}));break;case u$4(ut.orientation,{vertical:o.ArrowDown,horizontal:o.ArrowRight}):return $t.preventDefault(),$t.stopPropagation(),ft.goToOption(a$1.Next);case u$4(ut.orientation,{vertical:o.ArrowUp,horizontal:o.ArrowLeft}):return $t.preventDefault(),$t.stopPropagation(),ft.goToOption(a$1.Previous);case o.Home:case o.PageUp:return $t.preventDefault(),$t.stopPropagation(),ft.goToOption(a$1.First);case o.End:case o.PageDown:return $t.preventDefault(),$t.stopPropagation(),ft.goToOption(a$1.Last);case o.Escape:return $t.preventDefault(),$t.stopPropagation(),ft.closeListbox(),pt.nextFrame(()=>{var Et;return(Et=ut.buttonRef.current)==null?void 0:Et.focus({preventScroll:!0})});case o.Tab:$t.preventDefault(),$t.stopPropagation();break;default:$t.key.length===1&&(ft.search($t.key),ht.setTimeout(()=>ft.clearSearch(),350));break}}),vt=i$2(()=>{var $t,Et,wt;return(wt=($t=ut.labelRef.current)==null?void 0:$t.id)!=null?wt:(Et=ut.buttonRef.current)==null?void 0:Et.id},[ut.labelRef.current,ut.buttonRef.current]),yt=reactExports.useMemo(()=>({open:ut.listboxState===0}),[ut]),_t={"aria-activedescendant":ut.activeOptionIndex===null||(at=ut.options[ut.activeOptionIndex])==null?void 0:at.id,"aria-multiselectable":ut.mode===1?!0:void 0,"aria-labelledby":vt,"aria-orientation":ut.orientation,id:st,onKeyDown:xt,role:"listbox",tabIndex:0,ref:dt};return X$1({ourProps:_t,theirProps:ct,slot:yt,defaultTag:ze,features:Je$1,visible:mt,name:"Listbox.Options"})}let Ye$1="li";function Ze$1(_e,rt){let at=I$3(),{id:lt=`headlessui-listbox-option-${at}`,disabled:st=!1,value:ct,...ut}=_e,ft=B$5("Listbox.Option"),dt=U("Listbox.Option"),pt=ft.activeOptionIndex!==null?ft.options[ft.activeOptionIndex].id===lt:!1,ht=ft.isSelected(ct),gt=reactExports.useRef(null),mt=s$3({disabled:st,value:ct,domRef:gt,get textValue(){var St,Tt;return(Tt=(St=gt.current)==null?void 0:St.textContent)==null?void 0:Tt.toLowerCase()}}),xt=y$4(rt,gt);l$3(()=>{if(ft.listboxState!==0||!pt||ft.activationTrigger===0)return;let St=o$3();return St.requestAnimationFrame(()=>{var Tt,Rt;(Rt=(Tt=gt.current)==null?void 0:Tt.scrollIntoView)==null||Rt.call(Tt,{block:"nearest"})}),St.dispose},[gt,pt,ft.listboxState,ft.activationTrigger,ft.activeOptionIndex]),l$3(()=>dt.registerOption(lt,mt),[mt,lt]);let vt=o$2(St=>{if(st)return St.preventDefault();dt.onChange(ct),ft.mode===0&&(dt.closeListbox(),o$3().nextFrame(()=>{var Tt;return(Tt=ft.buttonRef.current)==null?void 0:Tt.focus({preventScroll:!0})}))}),yt=o$2(()=>{if(st)return dt.goToOption(a$1.Nothing);dt.goToOption(a$1.Specific,lt)}),_t=u$2(),$t=o$2(St=>_t.update(St)),Et=o$2(St=>{_t.wasMoved(St)&&(st||pt||dt.goToOption(a$1.Specific,lt,0))}),wt=o$2(St=>{_t.wasMoved(St)&&(st||pt&&dt.goToOption(a$1.Nothing))}),bt=reactExports.useMemo(()=>({active:pt,selected:ht,disabled:st}),[pt,ht,st]);return X$1({ourProps:{id:lt,ref:xt,role:"option",tabIndex:st===!0?void 0:-1,"aria-disabled":st===!0?!0:void 0,"aria-selected":ht,disabled:void 0,onClick:vt,onFocus:yt,onPointerEnter:$t,onMouseEnter:$t,onPointerMove:Et,onMouseMove:Et,onPointerLeave:wt,onMouseLeave:wt},theirProps:ut,slot:bt,defaultTag:Ye$1,name:"Listbox.Option"})}let et=D$4(Ke$1),tt=D$4(We$1),ot=D$4($e$1),nt=D$4(qe$1),it=D$4(Ze$1),Ht=Object.assign(et,{Button:tt,Label:ot,Options:nt,Option:it});const React$7=reactExports;function ArrowUpOnSquareIcon$1({title:_e,titleId:rt,...at},lt){return React$7.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$7.createElement("title",{id:rt},_e):null,React$7.createElement("path",{fillRule:"evenodd",d:"M13.75 7h-3V3.66l1.95 2.1a.75.75 0 101.1-1.02l-3.25-3.5a.75.75 0 00-1.1 0L6.2 4.74a.75.75 0 001.1 1.02l1.95-2.1V7h-3A2.25 2.25 0 004 9.25v7.5A2.25 2.25 0 006.25 19h7.5A2.25 2.25 0 0016 16.75v-7.5A2.25 2.25 0 0013.75 7zm-3 0h-1.5v5.25a.75.75 0 001.5 0V7z",clipRule:"evenodd"}))}const ForwardRef$7=React$7.forwardRef(ArrowUpOnSquareIcon$1);var ArrowUpOnSquareIcon_1=ForwardRef$7;const React$6=reactExports;function CheckIcon$3({title:_e,titleId:rt,...at},lt){return React$6.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$6.createElement("title",{id:rt},_e):null,React$6.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const ForwardRef$6=React$6.forwardRef(CheckIcon$3);var CheckIcon_1$1=ForwardRef$6;const React$5=reactExports;function ChevronDownIcon$1({title:_e,titleId:rt,...at},lt){return React$5.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$5.createElement("title",{id:rt},_e):null,React$5.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const ForwardRef$5=React$5.forwardRef(ChevronDownIcon$1);var ChevronDownIcon_1=ForwardRef$5;const React$4=reactExports;function ExclamationCircleIcon$1({title:_e,titleId:rt,...at},lt){return React$4.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$4.createElement("title",{id:rt},_e):null,React$4.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const ForwardRef$4=React$4.forwardRef(ExclamationCircleIcon$1);var ExclamationCircleIcon_1=ForwardRef$4;const React$3=reactExports;function PencilSquareIcon$1({title:_e,titleId:rt,...at},lt){return React$3.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$3.createElement("title",{id:rt},_e):null,React$3.createElement("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),React$3.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"}))}const ForwardRef$3=React$3.forwardRef(PencilSquareIcon$1);var PencilSquareIcon_1=ForwardRef$3;const React$2=reactExports;function PlusCircleIcon$1({title:_e,titleId:rt,...at},lt){return React$2.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$2.createElement("title",{id:rt},_e):null,React$2.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z",clipRule:"evenodd"}))}const ForwardRef$2=React$2.forwardRef(PlusCircleIcon$1);var PlusCircleIcon_1=ForwardRef$2;const React$1=reactExports;function XMarkIcon$1({title:_e,titleId:rt,...at},lt){return React$1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React$1.createElement("title",{id:rt},_e):null,React$1.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))}const ForwardRef$1=React$1.forwardRef(XMarkIcon$1);var XMarkIcon_1=ForwardRef$1,ArrowUpOnSquareIcon=ArrowUpOnSquareIcon_1,CheckIcon$2=CheckIcon_1$1,ChevronDownIcon=ChevronDownIcon_1,ExclamationCircleIcon=ExclamationCircleIcon_1,PencilSquareIcon=PencilSquareIcon_1,PlusCircleIcon=PlusCircleIcon_1,XMarkIcon=XMarkIcon_1,fromEntries=function _e(rt){return rt.reduce(function(at,lt){var st=lt[0],ct=lt[1];return at[st]=ct,at},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(_e,rt){return _e.concat([rt+"-"+start,rt+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(_e,rt){return _e.concat([rt,rt+"-"+start,rt+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(_e){return _e?(_e.nodeName||"").toLowerCase():null}function getWindow(_e){if(_e==null)return window;if(_e.toString()!=="[object Window]"){var rt=_e.ownerDocument;return rt&&rt.defaultView||window}return _e}function isElement(_e){var rt=getWindow(_e).Element;return _e instanceof rt||_e instanceof Element}function isHTMLElement(_e){var rt=getWindow(_e).HTMLElement;return _e instanceof rt||_e instanceof HTMLElement}function isShadowRoot(_e){if(typeof ShadowRoot>"u")return!1;var rt=getWindow(_e).ShadowRoot;return _e instanceof rt||_e instanceof ShadowRoot}function applyStyles(_e){var rt=_e.state;Object.keys(rt.elements).forEach(function(at){var lt=rt.styles[at]||{},st=rt.attributes[at]||{},ct=rt.elements[at];!isHTMLElement(ct)||!getNodeName(ct)||(Object.assign(ct.style,lt),Object.keys(st).forEach(function(ut){var ft=st[ut];ft===!1?ct.removeAttribute(ut):ct.setAttribute(ut,ft===!0?"":ft)}))})}function effect$2(_e){var rt=_e.state,at={popper:{position:rt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(rt.elements.popper.style,at.popper),rt.styles=at,rt.elements.arrow&&Object.assign(rt.elements.arrow.style,at.arrow),function(){Object.keys(rt.elements).forEach(function(lt){var st=rt.elements[lt],ct=rt.attributes[lt]||{},ut=Object.keys(rt.styles.hasOwnProperty(lt)?rt.styles[lt]:at[lt]),ft=ut.reduce(function(dt,pt){return dt[pt]="",dt},{});!isHTMLElement(st)||!getNodeName(st)||(Object.assign(st.style,ft),Object.keys(ct).forEach(function(dt){st.removeAttribute(dt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(_e){return _e.split("-")[0]}var max$2=Math.max,min$2=Math.min,round=Math.round;function getUAString(){var _e=navigator.userAgentData;return _e!=null&&_e.brands&&Array.isArray(_e.brands)?_e.brands.map(function(rt){return rt.brand+"/"+rt.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(_e,rt,at){rt===void 0&&(rt=!1),at===void 0&&(at=!1);var lt=_e.getBoundingClientRect(),st=1,ct=1;rt&&isHTMLElement(_e)&&(st=_e.offsetWidth>0&&round(lt.width)/_e.offsetWidth||1,ct=_e.offsetHeight>0&&round(lt.height)/_e.offsetHeight||1);var ut=isElement(_e)?getWindow(_e):window,ft=ut.visualViewport,dt=!isLayoutViewport()&&at,pt=(lt.left+(dt&&ft?ft.offsetLeft:0))/st,ht=(lt.top+(dt&&ft?ft.offsetTop:0))/ct,gt=lt.width/st,mt=lt.height/ct;return{width:gt,height:mt,top:ht,right:pt+gt,bottom:ht+mt,left:pt,x:pt,y:ht}}function getLayoutRect(_e){var rt=getBoundingClientRect(_e),at=_e.offsetWidth,lt=_e.offsetHeight;return Math.abs(rt.width-at)<=1&&(at=rt.width),Math.abs(rt.height-lt)<=1&&(lt=rt.height),{x:_e.offsetLeft,y:_e.offsetTop,width:at,height:lt}}function contains(_e,rt){var at=rt.getRootNode&&rt.getRootNode();if(_e.contains(rt))return!0;if(at&&isShadowRoot(at)){var lt=rt;do{if(lt&&_e.isSameNode(lt))return!0;lt=lt.parentNode||lt.host}while(lt)}return!1}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function isTableElement(_e){return["table","td","th"].indexOf(getNodeName(_e))>=0}function getDocumentElement(_e){return((isElement(_e)?_e.ownerDocument:_e.document)||window.document).documentElement}function getParentNode(_e){return getNodeName(_e)==="html"?_e:_e.assignedSlot||_e.parentNode||(isShadowRoot(_e)?_e.host:null)||getDocumentElement(_e)}function getTrueOffsetParent(_e){return!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed"?null:_e.offsetParent}function getContainingBlock(_e){var rt=/firefox/i.test(getUAString()),at=/Trident/i.test(getUAString());if(at&&isHTMLElement(_e)){var lt=getComputedStyle$1(_e);if(lt.position==="fixed")return null}var st=getParentNode(_e);for(isShadowRoot(st)&&(st=st.host);isHTMLElement(st)&&["html","body"].indexOf(getNodeName(st))<0;){var ct=getComputedStyle$1(st);if(ct.transform!=="none"||ct.perspective!=="none"||ct.contain==="paint"||["transform","perspective"].indexOf(ct.willChange)!==-1||rt&&ct.willChange==="filter"||rt&&ct.filter&&ct.filter!=="none")return st;st=st.parentNode}return null}function getOffsetParent(_e){for(var rt=getWindow(_e),at=getTrueOffsetParent(_e);at&&isTableElement(at)&&getComputedStyle$1(at).position==="static";)at=getTrueOffsetParent(at);return at&&(getNodeName(at)==="html"||getNodeName(at)==="body"&&getComputedStyle$1(at).position==="static")?rt:at||getContainingBlock(_e)||rt}function getMainAxisFromPlacement(_e){return["top","bottom"].indexOf(_e)>=0?"x":"y"}function within(_e,rt,at){return max$2(_e,min$2(rt,at))}function withinMaxClamp(_e,rt,at){var lt=within(_e,rt,at);return lt>at?at:lt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(_e){return Object.assign({},getFreshSideObject(),_e)}function expandToHashMap(_e,rt){return rt.reduce(function(at,lt){return at[lt]=_e,at},{})}var toPaddingObject=function _e(rt,at){return rt=typeof rt=="function"?rt(Object.assign({},at.rects,{placement:at.placement})):rt,mergePaddingObject(typeof rt!="number"?rt:expandToHashMap(rt,basePlacements))};function arrow(_e){var rt,at=_e.state,lt=_e.name,st=_e.options,ct=at.elements.arrow,ut=at.modifiersData.popperOffsets,ft=getBasePlacement(at.placement),dt=getMainAxisFromPlacement(ft),pt=[left,right].indexOf(ft)>=0,ht=pt?"height":"width";if(!(!ct||!ut)){var gt=toPaddingObject(st.padding,at),mt=getLayoutRect(ct),xt=dt==="y"?top:left,vt=dt==="y"?bottom:right,yt=at.rects.reference[ht]+at.rects.reference[dt]-ut[dt]-at.rects.popper[ht],_t=ut[dt]-at.rects.reference[dt],$t=getOffsetParent(ct),Et=$t?dt==="y"?$t.clientHeight||0:$t.clientWidth||0:0,wt=yt/2-_t/2,bt=gt[xt],St=Et-mt[ht]-gt[vt],Tt=Et/2-mt[ht]/2+wt,Rt=within(bt,Tt,St),kt=dt;at.modifiersData[lt]=(rt={},rt[kt]=Rt,rt.centerOffset=Rt-Tt,rt)}}function effect$1(_e){var rt=_e.state,at=_e.options,lt=at.element,st=lt===void 0?"[data-popper-arrow]":lt;st!=null&&(typeof st=="string"&&(st=rt.elements.popper.querySelector(st),!st)||contains(rt.elements.popper,st)&&(rt.elements.arrow=st))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(_e){return _e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_e,rt){var at=_e.x,lt=_e.y,st=rt.devicePixelRatio||1;return{x:round(at*st)/st||0,y:round(lt*st)/st||0}}function mapToStyles(_e){var rt,at=_e.popper,lt=_e.popperRect,st=_e.placement,ct=_e.variation,ut=_e.offsets,ft=_e.position,dt=_e.gpuAcceleration,pt=_e.adaptive,ht=_e.roundOffsets,gt=_e.isFixed,mt=ut.x,xt=mt===void 0?0:mt,vt=ut.y,yt=vt===void 0?0:vt,_t=typeof ht=="function"?ht({x:xt,y:yt}):{x:xt,y:yt};xt=_t.x,yt=_t.y;var $t=ut.hasOwnProperty("x"),Et=ut.hasOwnProperty("y"),wt=left,bt=top,St=window;if(pt){var Tt=getOffsetParent(at),Rt="clientHeight",kt="clientWidth";if(Tt===getWindow(at)&&(Tt=getDocumentElement(at),getComputedStyle$1(Tt).position!=="static"&&ft==="absolute"&&(Rt="scrollHeight",kt="scrollWidth")),Tt=Tt,st===top||(st===left||st===right)&&ct===end){bt=bottom;var At=gt&&Tt===St&&St.visualViewport?St.visualViewport.height:Tt[Rt];yt-=At-lt.height,yt*=dt?1:-1}if(st===left||(st===top||st===bottom)&&ct===end){wt=right;var Ct=gt&&Tt===St&&St.visualViewport?St.visualViewport.width:Tt[kt];xt-=Ct-lt.width,xt*=dt?1:-1}}var Mt=Object.assign({position:ft},pt&&unsetSides),Ot=ht===!0?roundOffsetsByDPR({x:xt,y:yt},getWindow(at)):{x:xt,y:yt};if(xt=Ot.x,yt=Ot.y,dt){var Pt;return Object.assign({},Mt,(Pt={},Pt[bt]=Et?"0":"",Pt[wt]=$t?"0":"",Pt.transform=(St.devicePixelRatio||1)<=1?"translate("+xt+"px, "+yt+"px)":"translate3d("+xt+"px, "+yt+"px, 0)",Pt))}return Object.assign({},Mt,(rt={},rt[bt]=Et?yt+"px":"",rt[wt]=$t?xt+"px":"",rt.transform="",rt))}function computeStyles(_e){var rt=_e.state,at=_e.options,lt=at.gpuAcceleration,st=lt===void 0?!0:lt,ct=at.adaptive,ut=ct===void 0?!0:ct,ft=at.roundOffsets,dt=ft===void 0?!0:ft,pt={placement:getBasePlacement(rt.placement),variation:getVariation(rt.placement),popper:rt.elements.popper,popperRect:rt.rects.popper,gpuAcceleration:st,isFixed:rt.options.strategy==="fixed"};rt.modifiersData.popperOffsets!=null&&(rt.styles.popper=Object.assign({},rt.styles.popper,mapToStyles(Object.assign({},pt,{offsets:rt.modifiersData.popperOffsets,position:rt.options.strategy,adaptive:ut,roundOffsets:dt})))),rt.modifiersData.arrow!=null&&(rt.styles.arrow=Object.assign({},rt.styles.arrow,mapToStyles(Object.assign({},pt,{offsets:rt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dt})))),rt.attributes.popper=Object.assign({},rt.attributes.popper,{"data-popper-placement":rt.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(_e){var rt=_e.state,at=_e.instance,lt=_e.options,st=lt.scroll,ct=st===void 0?!0:st,ut=lt.resize,ft=ut===void 0?!0:ut,dt=getWindow(rt.elements.popper),pt=[].concat(rt.scrollParents.reference,rt.scrollParents.popper);return ct&&pt.forEach(function(ht){ht.addEventListener("scroll",at.update,passive)}),ft&&dt.addEventListener("resize",at.update,passive),function(){ct&&pt.forEach(function(ht){ht.removeEventListener("scroll",at.update,passive)}),ft&&dt.removeEventListener("resize",at.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function _e(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,function(rt){return hash$1[rt]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(_e){return _e.replace(/start|end/g,function(rt){return hash[rt]})}function getWindowScroll(_e){var rt=getWindow(_e),at=rt.pageXOffset,lt=rt.pageYOffset;return{scrollLeft:at,scrollTop:lt}}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getWindowScroll(_e).scrollLeft}function getViewportRect(_e,rt){var at=getWindow(_e),lt=getDocumentElement(_e),st=at.visualViewport,ct=lt.clientWidth,ut=lt.clientHeight,ft=0,dt=0;if(st){ct=st.width,ut=st.height;var pt=isLayoutViewport();(pt||!pt&&rt==="fixed")&&(ft=st.offsetLeft,dt=st.offsetTop)}return{width:ct,height:ut,x:ft+getWindowScrollBarX(_e),y:dt}}function getDocumentRect(_e){var rt,at=getDocumentElement(_e),lt=getWindowScroll(_e),st=(rt=_e.ownerDocument)==null?void 0:rt.body,ct=max$2(at.scrollWidth,at.clientWidth,st?st.scrollWidth:0,st?st.clientWidth:0),ut=max$2(at.scrollHeight,at.clientHeight,st?st.scrollHeight:0,st?st.clientHeight:0),ft=-lt.scrollLeft+getWindowScrollBarX(_e),dt=-lt.scrollTop;return getComputedStyle$1(st||at).direction==="rtl"&&(ft+=max$2(at.clientWidth,st?st.clientWidth:0)-ct),{width:ct,height:ut,x:ft,y:dt}}function isScrollParent(_e){var rt=getComputedStyle$1(_e),at=rt.overflow,lt=rt.overflowX,st=rt.overflowY;return/auto|scroll|overlay|hidden/.test(at+st+lt)}function getScrollParent(_e){return["html","body","#document"].indexOf(getNodeName(_e))>=0?_e.ownerDocument.body:isHTMLElement(_e)&&isScrollParent(_e)?_e:getScrollParent(getParentNode(_e))}function listScrollParents(_e,rt){var at;rt===void 0&&(rt=[]);var lt=getScrollParent(_e),st=lt===((at=_e.ownerDocument)==null?void 0:at.body),ct=getWindow(lt),ut=st?[ct].concat(ct.visualViewport||[],isScrollParent(lt)?lt:[]):lt,ft=rt.concat(ut);return st?ft:ft.concat(listScrollParents(getParentNode(ut)))}function rectToClientRect(_e){return Object.assign({},_e,{left:_e.x,top:_e.y,right:_e.x+_e.width,bottom:_e.y+_e.height})}function getInnerBoundingClientRect(_e,rt){var at=getBoundingClientRect(_e,!1,rt==="fixed");return at.top=at.top+_e.clientTop,at.left=at.left+_e.clientLeft,at.bottom=at.top+_e.clientHeight,at.right=at.left+_e.clientWidth,at.width=_e.clientWidth,at.height=_e.clientHeight,at.x=at.left,at.y=at.top,at}function getClientRectFromMixedType(_e,rt,at){return rt===viewport?rectToClientRect(getViewportRect(_e,at)):isElement(rt)?getInnerBoundingClientRect(rt,at):rectToClientRect(getDocumentRect(getDocumentElement(_e)))}function getClippingParents(_e){var rt=listScrollParents(getParentNode(_e)),at=["absolute","fixed"].indexOf(getComputedStyle$1(_e).position)>=0,lt=at&&isHTMLElement(_e)?getOffsetParent(_e):_e;return isElement(lt)?rt.filter(function(st){return isElement(st)&&contains(st,lt)&&getNodeName(st)!=="body"}):[]}function getClippingRect(_e,rt,at,lt){var st=rt==="clippingParents"?getClippingParents(_e):[].concat(rt),ct=[].concat(st,[at]),ut=ct[0],ft=ct.reduce(function(dt,pt){var ht=getClientRectFromMixedType(_e,pt,lt);return dt.top=max$2(ht.top,dt.top),dt.right=min$2(ht.right,dt.right),dt.bottom=min$2(ht.bottom,dt.bottom),dt.left=max$2(ht.left,dt.left),dt},getClientRectFromMixedType(_e,ut,lt));return ft.width=ft.right-ft.left,ft.height=ft.bottom-ft.top,ft.x=ft.left,ft.y=ft.top,ft}function computeOffsets(_e){var rt=_e.reference,at=_e.element,lt=_e.placement,st=lt?getBasePlacement(lt):null,ct=lt?getVariation(lt):null,ut=rt.x+rt.width/2-at.width/2,ft=rt.y+rt.height/2-at.height/2,dt;switch(st){case top:dt={x:ut,y:rt.y-at.height};break;case bottom:dt={x:ut,y:rt.y+rt.height};break;case right:dt={x:rt.x+rt.width,y:ft};break;case left:dt={x:rt.x-at.width,y:ft};break;default:dt={x:rt.x,y:rt.y}}var pt=st?getMainAxisFromPlacement(st):null;if(pt!=null){var ht=pt==="y"?"height":"width";switch(ct){case start:dt[pt]=dt[pt]-(rt[ht]/2-at[ht]/2);break;case end:dt[pt]=dt[pt]+(rt[ht]/2-at[ht]/2);break}}return dt}function detectOverflow(_e,rt){rt===void 0&&(rt={});var at=rt,lt=at.placement,st=lt===void 0?_e.placement:lt,ct=at.strategy,ut=ct===void 0?_e.strategy:ct,ft=at.boundary,dt=ft===void 0?clippingParents:ft,pt=at.rootBoundary,ht=pt===void 0?viewport:pt,gt=at.elementContext,mt=gt===void 0?popper:gt,xt=at.altBoundary,vt=xt===void 0?!1:xt,yt=at.padding,_t=yt===void 0?0:yt,$t=mergePaddingObject(typeof _t!="number"?_t:expandToHashMap(_t,basePlacements)),Et=mt===popper?reference:popper,wt=_e.rects.popper,bt=_e.elements[vt?Et:mt],St=getClippingRect(isElement(bt)?bt:bt.contextElement||getDocumentElement(_e.elements.popper),dt,ht,ut),Tt=getBoundingClientRect(_e.elements.reference),Rt=computeOffsets({reference:Tt,element:wt,strategy:"absolute",placement:st}),kt=rectToClientRect(Object.assign({},wt,Rt)),At=mt===popper?kt:Tt,Ct={top:St.top-At.top+$t.top,bottom:At.bottom-St.bottom+$t.bottom,left:St.left-At.left+$t.left,right:At.right-St.right+$t.right},Mt=_e.modifiersData.offset;if(mt===popper&&Mt){var Ot=Mt[st];Object.keys(Ct).forEach(function(Pt){var It=[right,bottom].indexOf(Pt)>=0?1:-1,Ft=[top,bottom].indexOf(Pt)>=0?"y":"x";Ct[Pt]+=Ot[Ft]*It})}return Ct}function computeAutoPlacement(_e,rt){rt===void 0&&(rt={});var at=rt,lt=at.placement,st=at.boundary,ct=at.rootBoundary,ut=at.padding,ft=at.flipVariations,dt=at.allowedAutoPlacements,pt=dt===void 0?placements:dt,ht=getVariation(lt),gt=ht?ft?variationPlacements:variationPlacements.filter(function(vt){return getVariation(vt)===ht}):basePlacements,mt=gt.filter(function(vt){return pt.indexOf(vt)>=0});mt.length===0&&(mt=gt);var xt=mt.reduce(function(vt,yt){return vt[yt]=detectOverflow(_e,{placement:yt,boundary:st,rootBoundary:ct,padding:ut})[getBasePlacement(yt)],vt},{});return Object.keys(xt).sort(function(vt,yt){return xt[vt]-xt[yt]})}function getExpandedFallbackPlacements(_e){if(getBasePlacement(_e)===auto)return[];var rt=getOppositePlacement(_e);return[getOppositeVariationPlacement(_e),rt,getOppositeVariationPlacement(rt)]}function flip(_e){var rt=_e.state,at=_e.options,lt=_e.name;if(!rt.modifiersData[lt]._skip){for(var st=at.mainAxis,ct=st===void 0?!0:st,ut=at.altAxis,ft=ut===void 0?!0:ut,dt=at.fallbackPlacements,pt=at.padding,ht=at.boundary,gt=at.rootBoundary,mt=at.altBoundary,xt=at.flipVariations,vt=xt===void 0?!0:xt,yt=at.allowedAutoPlacements,_t=rt.options.placement,$t=getBasePlacement(_t),Et=$t===_t,wt=dt||(Et||!vt?[getOppositePlacement(_t)]:getExpandedFallbackPlacements(_t)),bt=[_t].concat(wt).reduce(function(Gt,Yt){return Gt.concat(getBasePlacement(Yt)===auto?computeAutoPlacement(rt,{placement:Yt,boundary:ht,rootBoundary:gt,padding:pt,flipVariations:vt,allowedAutoPlacements:yt}):Yt)},[]),St=rt.rects.reference,Tt=rt.rects.popper,Rt=new Map,kt=!0,At=bt[0],Ct=0;Ct<bt.length;Ct++){var Mt=bt[Ct],Ot=getBasePlacement(Mt),Pt=getVariation(Mt)===start,It=[top,bottom].indexOf(Ot)>=0,Ft=It?"width":"height",Wt=detectOverflow(rt,{placement:Mt,boundary:ht,rootBoundary:gt,altBoundary:mt,padding:pt}),Xt=It?Pt?right:left:Pt?bottom:top;St[Ft]>Tt[Ft]&&(Xt=getOppositePlacement(Xt));var Lt=getOppositePlacement(Xt),Bt=[];if(ct&&Bt.push(Wt[Ot]<=0),ft&&Bt.push(Wt[Xt]<=0,Wt[Lt]<=0),Bt.every(function(Gt){return Gt})){At=Mt,kt=!1;break}Rt.set(Mt,Bt)}if(kt)for(var Ut=vt?3:1,dn=function(Yt){var pn=bt.find(function($n){var Sn=Rt.get($n);if(Sn)return Sn.slice(0,Yt).every(function(Qt){return Qt})});if(pn)return At=pn,"break"},Zt=Ut;Zt>0;Zt--){var cn=dn(Zt);if(cn==="break")break}rt.placement!==At&&(rt.modifiersData[lt]._skip=!0,rt.placement=At,rt.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(_e,rt,at){return at===void 0&&(at={x:0,y:0}),{top:_e.top-rt.height-at.y,right:_e.right-rt.width+at.x,bottom:_e.bottom-rt.height+at.y,left:_e.left-rt.width-at.x}}function isAnySideFullyClipped(_e){return[top,right,bottom,left].some(function(rt){return _e[rt]>=0})}function hide(_e){var rt=_e.state,at=_e.name,lt=rt.rects.reference,st=rt.rects.popper,ct=rt.modifiersData.preventOverflow,ut=detectOverflow(rt,{elementContext:"reference"}),ft=detectOverflow(rt,{altBoundary:!0}),dt=getSideOffsets(ut,lt),pt=getSideOffsets(ft,st,ct),ht=isAnySideFullyClipped(dt),gt=isAnySideFullyClipped(pt);rt.modifiersData[at]={referenceClippingOffsets:dt,popperEscapeOffsets:pt,isReferenceHidden:ht,hasPopperEscaped:gt},rt.attributes.popper=Object.assign({},rt.attributes.popper,{"data-popper-reference-hidden":ht,"data-popper-escaped":gt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(_e,rt,at){var lt=getBasePlacement(_e),st=[left,top].indexOf(lt)>=0?-1:1,ct=typeof at=="function"?at(Object.assign({},rt,{placement:_e})):at,ut=ct[0],ft=ct[1];return ut=ut||0,ft=(ft||0)*st,[left,right].indexOf(lt)>=0?{x:ft,y:ut}:{x:ut,y:ft}}function offset(_e){var rt=_e.state,at=_e.options,lt=_e.name,st=at.offset,ct=st===void 0?[0,0]:st,ut=placements.reduce(function(ht,gt){return ht[gt]=distanceAndSkiddingToXY(gt,rt.rects,ct),ht},{}),ft=ut[rt.placement],dt=ft.x,pt=ft.y;rt.modifiersData.popperOffsets!=null&&(rt.modifiersData.popperOffsets.x+=dt,rt.modifiersData.popperOffsets.y+=pt),rt.modifiersData[lt]=ut}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(_e){var rt=_e.state,at=_e.name;rt.modifiersData[at]=computeOffsets({reference:rt.rects.reference,element:rt.rects.popper,strategy:"absolute",placement:rt.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(_e){return _e==="x"?"y":"x"}function preventOverflow(_e){var rt=_e.state,at=_e.options,lt=_e.name,st=at.mainAxis,ct=st===void 0?!0:st,ut=at.altAxis,ft=ut===void 0?!1:ut,dt=at.boundary,pt=at.rootBoundary,ht=at.altBoundary,gt=at.padding,mt=at.tether,xt=mt===void 0?!0:mt,vt=at.tetherOffset,yt=vt===void 0?0:vt,_t=detectOverflow(rt,{boundary:dt,rootBoundary:pt,padding:gt,altBoundary:ht}),$t=getBasePlacement(rt.placement),Et=getVariation(rt.placement),wt=!Et,bt=getMainAxisFromPlacement($t),St=getAltAxis(bt),Tt=rt.modifiersData.popperOffsets,Rt=rt.rects.reference,kt=rt.rects.popper,At=typeof yt=="function"?yt(Object.assign({},rt.rects,{placement:rt.placement})):yt,Ct=typeof At=="number"?{mainAxis:At,altAxis:At}:Object.assign({mainAxis:0,altAxis:0},At),Mt=rt.modifiersData.offset?rt.modifiersData.offset[rt.placement]:null,Ot={x:0,y:0};if(Tt){if(ct){var Pt,It=bt==="y"?top:left,Ft=bt==="y"?bottom:right,Wt=bt==="y"?"height":"width",Xt=Tt[bt],Lt=Xt+_t[It],Bt=Xt-_t[Ft],Ut=xt?-kt[Wt]/2:0,dn=Et===start?Rt[Wt]:kt[Wt],Zt=Et===start?-kt[Wt]:-Rt[Wt],cn=rt.elements.arrow,Gt=xt&&cn?getLayoutRect(cn):{width:0,height:0},Yt=rt.modifiersData["arrow#persistent"]?rt.modifiersData["arrow#persistent"].padding:getFreshSideObject(),pn=Yt[It],$n=Yt[Ft],Sn=within(0,Rt[Wt],Gt[Wt]),Qt=wt?Rt[Wt]/2-Ut-Sn-pn-Ct.mainAxis:dn-Sn-pn-Ct.mainAxis,vn=wt?-Rt[Wt]/2+Ut+Sn+$n+Ct.mainAxis:Zt+Sn+$n+Ct.mainAxis,wn=rt.elements.arrow&&getOffsetParent(rt.elements.arrow),qt=wn?bt==="y"?wn.clientTop||0:wn.clientLeft||0:0,En=(Pt=Mt==null?void 0:Mt[bt])!=null?Pt:0,xn=Xt+Qt-En-qt,hn=Xt+vn-En,jt=within(xt?min$2(Lt,xn):Lt,Xt,xt?max$2(Bt,hn):Bt);Tt[bt]=jt,Ot[bt]=jt-Xt}if(ft){var Dt,zt=bt==="x"?top:left,Nt=bt==="x"?bottom:right,Vt=Tt[St],Jt=St==="y"?"height":"width",mn=Vt+_t[zt],yn=Vt-_t[Nt],Kt=[top,left].indexOf($t)!==-1,sn=(Dt=Mt==null?void 0:Mt[St])!=null?Dt:0,ln=Kt?mn:Vt-Rt[Jt]-kt[Jt]-sn+Ct.altAxis,gn=Kt?Vt+Rt[Jt]+kt[Jt]-sn-Ct.altAxis:yn,_n=xt&&Kt?withinMaxClamp(ln,Vt,gn):within(xt?ln:mn,Vt,xt?gn:yn);Tt[St]=_n,Ot[St]=_n-Vt}rt.modifiersData[lt]=Ot}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(_e){return{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}}function getNodeScroll(_e){return _e===getWindow(_e)||!isHTMLElement(_e)?getWindowScroll(_e):getHTMLElementScroll(_e)}function isElementScaled(_e){var rt=_e.getBoundingClientRect(),at=round(rt.width)/_e.offsetWidth||1,lt=round(rt.height)/_e.offsetHeight||1;return at!==1||lt!==1}function getCompositeRect(_e,rt,at){at===void 0&&(at=!1);var lt=isHTMLElement(rt),st=isHTMLElement(rt)&&isElementScaled(rt),ct=getDocumentElement(rt),ut=getBoundingClientRect(_e,st,at),ft={scrollLeft:0,scrollTop:0},dt={x:0,y:0};return(lt||!lt&&!at)&&((getNodeName(rt)!=="body"||isScrollParent(ct))&&(ft=getNodeScroll(rt)),isHTMLElement(rt)?(dt=getBoundingClientRect(rt,!0),dt.x+=rt.clientLeft,dt.y+=rt.clientTop):ct&&(dt.x=getWindowScrollBarX(ct))),{x:ut.left+ft.scrollLeft-dt.x,y:ut.top+ft.scrollTop-dt.y,width:ut.width,height:ut.height}}function order(_e){var rt=new Map,at=new Set,lt=[];_e.forEach(function(ct){rt.set(ct.name,ct)});function st(ct){at.add(ct.name);var ut=[].concat(ct.requires||[],ct.requiresIfExists||[]);ut.forEach(function(ft){if(!at.has(ft)){var dt=rt.get(ft);dt&&st(dt)}}),lt.push(ct)}return _e.forEach(function(ct){at.has(ct.name)||st(ct)}),lt}function orderModifiers(_e){var rt=order(_e);return modifierPhases.reduce(function(at,lt){return at.concat(rt.filter(function(st){return st.phase===lt}))},[])}function debounce(_e){var rt;return function(){return rt||(rt=new Promise(function(at){Promise.resolve().then(function(){rt=void 0,at(_e())})})),rt}}function mergeByName(_e){var rt=_e.reduce(function(at,lt){var st=at[lt.name];return at[lt.name]=st?Object.assign({},st,lt,{options:Object.assign({},st.options,lt.options),data:Object.assign({},st.data,lt.data)}):lt,at},{});return Object.keys(rt).map(function(at){return rt[at]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _e=arguments.length,rt=new Array(_e),at=0;at<_e;at++)rt[at]=arguments[at];return!rt.some(function(lt){return!(lt&&typeof lt.getBoundingClientRect=="function")})}function popperGenerator(_e){_e===void 0&&(_e={});var rt=_e,at=rt.defaultModifiers,lt=at===void 0?[]:at,st=rt.defaultOptions,ct=st===void 0?DEFAULT_OPTIONS:st;return function(ft,dt,pt){pt===void 0&&(pt=ct);var ht={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ct),modifiersData:{},elements:{reference:ft,popper:dt},attributes:{},styles:{}},gt=[],mt=!1,xt={state:ht,setOptions:function($t){var Et=typeof $t=="function"?$t(ht.options):$t;yt(),ht.options=Object.assign({},ct,ht.options,Et),ht.scrollParents={reference:isElement(ft)?listScrollParents(ft):ft.contextElement?listScrollParents(ft.contextElement):[],popper:listScrollParents(dt)};var wt=orderModifiers(mergeByName([].concat(lt,ht.options.modifiers)));return ht.orderedModifiers=wt.filter(function(bt){return bt.enabled}),vt(),xt.update()},forceUpdate:function(){if(!mt){var $t=ht.elements,Et=$t.reference,wt=$t.popper;if(areValidElements(Et,wt)){ht.rects={reference:getCompositeRect(Et,getOffsetParent(wt),ht.options.strategy==="fixed"),popper:getLayoutRect(wt)},ht.reset=!1,ht.placement=ht.options.placement,ht.orderedModifiers.forEach(function(Ct){return ht.modifiersData[Ct.name]=Object.assign({},Ct.data)});for(var bt=0;bt<ht.orderedModifiers.length;bt++){if(ht.reset===!0){ht.reset=!1,bt=-1;continue}var St=ht.orderedModifiers[bt],Tt=St.fn,Rt=St.options,kt=Rt===void 0?{}:Rt,At=St.name;typeof Tt=="function"&&(ht=Tt({state:ht,options:kt,name:At,instance:xt})||ht)}}}},update:debounce(function(){return new Promise(function(_t){xt.forceUpdate(),_t(ht)})}),destroy:function(){yt(),mt=!0}};if(!areValidElements(ft,dt))return xt;xt.setOptions(pt).then(function(_t){!mt&&pt.onFirstUpdate&&pt.onFirstUpdate(_t)});function vt(){ht.orderedModifiers.forEach(function(_t){var $t=_t.name,Et=_t.options,wt=Et===void 0?{}:Et,bt=_t.effect;if(typeof bt=="function"){var St=bt({state:ht,name:$t,instance:xt,options:wt}),Tt=function(){};gt.push(St||Tt)}})}function yt(){gt.forEach(function(_t){return _t()}),gt=[]}return xt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(_e,rt){if(_e===rt)return!0;if(_e&&rt&&typeof _e=="object"&&typeof rt=="object"){if(_e.constructor!==rt.constructor)return!1;var at,lt,st;if(Array.isArray(_e)){if(at=_e.length,at!=rt.length)return!1;for(lt=at;lt--!==0;)if(!equal(_e[lt],rt[lt]))return!1;return!0}var ct;if(hasMap&&_e instanceof Map&&rt instanceof Map){if(_e.size!==rt.size)return!1;for(ct=_e.entries();!(lt=ct.next()).done;)if(!rt.has(lt.value[0]))return!1;for(ct=_e.entries();!(lt=ct.next()).done;)if(!equal(lt.value[1],rt.get(lt.value[0])))return!1;return!0}if(hasSet&&_e instanceof Set&&rt instanceof Set){if(_e.size!==rt.size)return!1;for(ct=_e.entries();!(lt=ct.next()).done;)if(!rt.has(lt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(_e)&&ArrayBuffer.isView(rt)){if(at=_e.length,at!=rt.length)return!1;for(lt=at;lt--!==0;)if(_e[lt]!==rt[lt])return!1;return!0}if(_e.constructor===RegExp)return _e.source===rt.source&&_e.flags===rt.flags;if(_e.valueOf!==Object.prototype.valueOf&&typeof _e.valueOf=="function"&&typeof rt.valueOf=="function")return _e.valueOf()===rt.valueOf();if(_e.toString!==Object.prototype.toString&&typeof _e.toString=="function"&&typeof rt.toString=="function")return _e.toString()===rt.toString();if(st=Object.keys(_e),at=st.length,at!==Object.keys(rt).length)return!1;for(lt=at;lt--!==0;)if(!Object.prototype.hasOwnProperty.call(rt,st[lt]))return!1;if(hasElementType&&_e instanceof Element)return!1;for(lt=at;lt--!==0;)if(!((st[lt]==="_owner"||st[lt]==="__v"||st[lt]==="__o")&&_e.$$typeof)&&!equal(_e[st[lt]],rt[st[lt]]))return!1;return!0}return _e!==_e&&rt!==rt}var reactFastCompare=function _e(rt,at){try{return equal(rt,at)}catch(lt){if((lt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw lt}},EMPTY_MODIFIERS=[],usePopper=function _e(rt,at,lt){lt===void 0&&(lt={});var st=reactExports.useRef(null),ct={onFirstUpdate:lt.onFirstUpdate,placement:lt.placement||"bottom",strategy:lt.strategy||"absolute",modifiers:lt.modifiers||EMPTY_MODIFIERS},ut=reactExports.useState({styles:{popper:{position:ct.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),ft=ut[0],dt=ut[1],pt=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(xt){var vt=xt.state,yt=Object.keys(vt.elements);reactDomExports.flushSync(function(){dt({styles:fromEntries(yt.map(function(_t){return[_t,vt.styles[_t]||{}]})),attributes:fromEntries(yt.map(function(_t){return[_t,vt.attributes[_t]]}))})})},requires:["computeStyles"]}},[]),ht=reactExports.useMemo(function(){var mt={onFirstUpdate:ct.onFirstUpdate,placement:ct.placement,strategy:ct.strategy,modifiers:[].concat(ct.modifiers,[pt,{name:"applyStyles",enabled:!1}])};return reactFastCompare(st.current,mt)?st.current||mt:(st.current=mt,mt)},[ct.onFirstUpdate,ct.placement,ct.strategy,ct.modifiers,pt]),gt=reactExports.useRef();return useIsomorphicLayoutEffect(function(){gt.current&&gt.current.setOptions(ht)},[ht]),useIsomorphicLayoutEffect(function(){if(!(rt==null||at==null)){var mt=lt.createPopper||createPopper,xt=mt(rt,at,ht);return gt.current=xt,function(){xt.destroy(),gt.current=null}}},[rt,at,lt.createPopper]),{state:gt.current?gt.current.state:null,styles:ft.styles,attributes:ft.attributes,update:gt.current?gt.current.update:null,forceUpdate:gt.current?gt.current.forceUpdate:null}};reactExports.createContext(null);const React=reactExports;function CheckIcon$1({title:_e,titleId:rt,...at},lt){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:lt,"aria-labelledby":rt},at),_e?React.createElement("title",{id:rt},_e):null,React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))}const ForwardRef=React.forwardRef(CheckIcon$1);var CheckIcon_1=ForwardRef,CheckIcon=CheckIcon_1;reactExports.createContext(null);const colors$4={primary:"text-primary-600",neutral:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",danger:"text-danger-600",alternative:"text-alternative-600"},sizes={4:"h-4 w-4",5:"h-5 w-5",6:"h-6 w-6"};reactExports.forwardRef(function _e(rt,at){const{onClick:lt,size:st,icon:ct=jsx(PencilSquareIcon,{}),color:ut=Color$1.neutral,className:ft,style:dt,noBlock:pt,tooltip:ht,tooltipDelay:gt,tooltipPlacement:mt,...xt}=rt;return jsx(WithTooltip,{tooltip:ht,tooltipDelay:gt,tooltipPlacement:mt,children:jsx("button",{type:"button",ref:at,onClick:lt,style:dt,className:clsx(ut!=="none"&&colors$4[ut],ft,{block:!pt}),...xt,children:jsx("div",{className:sizes[st],children:ct})})})});function useOnClickOutside(_e,rt){reactExports.useEffect(()=>{const at=lt=>{!_e.current||_e.current.contains(lt.target)||rt(lt)};return document.addEventListener("mousedown",at),document.addEventListener("touchstart",at),()=>{document.removeEventListener("mousedown",at),document.removeEventListener("touchstart",at)}},[_e,rt])}function Spinner(_e){return jsxs("svg",{className:clsx("animate-spin",_e.className),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const states={AFG:"Afghanistan",ALB:"Albania",DZA:"Algeria",ASM:"American Samoa",AND:"Andorra",AGO:"Angola",AIA:"Anguilla",ATA:"Antarctica",ATG:"Antigua and Barbuda",ARG:"Argentina",ARM:"Armenia",ABW:"Aruba",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BHS:"Bahamas (the)",BHR:"Bahrain",BGD:"Bangladesh",BRB:"Barbados",BLR:"Belarus",BEL:"Belgium",BLZ:"Belize",BEN:"Benin",BMU:"Bermuda",BTN:"Bhutan",BOL:"Bolivia (Plurinational State of)",BES:"Bonaire, Sint Eustatius and Saba",BIH:"Bosnia and Herzegovina",BWA:"Botswana",BVT:"Bouvet Island",BRA:"Brazil",IOT:"British Indian Ocean Territory (the)",BRN:"Brunei Darussalam",BGR:"Bulgaria",BFA:"Burkina Faso",BDI:"Burundi",CPV:"Cabo Verde",KHM:"Cambodia",CMR:"Cameroon",CAN:"Canada",CYM:"Cayman Islands (the)",CAF:"Central African Republic (the)",TCD:"Chad",CHL:"Chile",CHN:"China",CXR:"Christmas Island",CCK:"Cocos (Keeling) Islands (the)",COL:"Colombia",COM:"Comoros (the)",COD:"Congo (the Democratic Republic of the)",COG:"Congo (the)",COK:"Cook Islands (the)",CRI:"Costa Rica",HRV:"Croatia",CUB:"Cuba",CUW:"Curaçao",CYP:"Cyprus",CZE:"Czechia",CIV:"Côte d'Ivoire",DNK:"Denmark",DJI:"Djibouti",DMA:"Dominica",DOM:"Dominican Republic (the)",ECU:"Ecuador",EGY:"Egypt",SLV:"El Salvador",GNQ:"Equatorial Guinea",ERI:"Eritrea",EST:"Estonia",SWZ:"Eswatini",ETH:"Ethiopia",FLK:"Falkland Islands (the) [Malvinas]",FRO:"Faroe Islands (the)",FJI:"Fiji",FIN:"Finland",FRA:"France",GUF:"French Guiana",PYF:"French Polynesia",ATF:"French Southern Territories (the)",GAB:"Gabon",GMB:"Gambia (the)",GEO:"Georgia",DEU:"Germany",GHA:"Ghana",GIB:"Gibraltar",GRC:"Greece",GRL:"Greenland",GRD:"Grenada",GLP:"Guadeloupe",GUM:"Guam",GTM:"Guatemala",GGY:"Guernsey",GIN:"Guinea",GNB:"Guinea-Bissau",GUY:"Guyana",HTI:"Haiti",HMD:"Heard Island and McDonald Islands",VAT:"Holy See (the)",HND:"Honduras",HKG:"Hong Kong",HUN:"Hungary",ISL:"Iceland",IND:"India",IDN:"Indonesia",IRN:"Iran (Islamic Republic of)",IRQ:"Iraq",IRL:"Ireland",IMN:"Isle of Man",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JPN:"Japan",JEY:"Jersey",JOR:"Jordan",KAZ:"Kazakhstan",KEN:"Kenya",KIR:"Kiribati",PRK:"Korea (the Democratic People's Republic of)",KOR:"Korea (the Republic of)",KWT:"Kuwait",KGZ:"Kyrgyzstan",LAO:"Lao People's Democratic Republic (the)",LVA:"Latvia",LBN:"Lebanon",LSO:"Lesotho",LBR:"Liberia",LBY:"Libya",LIE:"Liechtenstein",LTU:"Lithuania",LUX:"Luxembourg",MAC:"Macao",MDG:"Madagascar",MWI:"Malawi",MYS:"Malaysia",MDV:"Maldives",MLI:"Mali",MLT:"Malta",MHL:"Marshall Islands (the)",MTQ:"Martinique",MRT:"Mauritania",MUS:"Mauritius",MYT:"Mayotte",MEX:"Mexico",FSM:"Micronesia (Federated States of)",MDA:"Moldova (the Republic of)",MCO:"Monaco",MNG:"Mongolia",MNE:"Montenegro",MSR:"Montserrat",MAR:"Morocco",MOZ:"Mozambique",MMR:"Myanmar",NAM:"Namibia",NRU:"Nauru",NPL:"Nepal",NLD:"Netherlands (the)",NCL:"New Caledonia",NZL:"New Zealand",NIC:"Nicaragua",NER:"Niger (the)",NGA:"Nigeria",NIU:"Niue",NFK:"Norfolk Island",MKD:"North Macedonia",MNP:"Northern Mariana Islands (the)",NOR:"Norway",OMN:"Oman",PAK:"Pakistan",PLW:"Palau",PSE:"Palestine, State of",PAN:"Panama",PNG:"Papua New Guinea",PRY:"Paraguay",PER:"Peru",PHL:"Philippines (the)",PCN:"Pitcairn",POL:"Poland",PRT:"Portugal",PRI:"Puerto Rico",QAT:"Qatar",ROU:"Romania",RUS:"Russian Federation (the)",RWA:"Rwanda",REU:"Réunion",BLM:"Saint Barthélemy",SHN:"Saint Helena, Ascension and Tristan da Cunha",KNA:"Saint Kitts and Nevis",LCA:"Saint Lucia",MAF:"Saint Martin (French part)",SPM:"Saint Pierre and Miquelon",VCT:"Saint Vincent and the Grenadines",WSM:"Samoa",SMR:"San Marino",STP:"Sao Tome and Principe",SAU:"Saudi Arabia",SEN:"Senegal",SRB:"Serbia",SYC:"Seychelles",SLE:"Sierra Leone",SGP:"Singapore",SXM:"Sint Maarten (Dutch part)",SVK:"Slovakia",SVN:"Slovenia",SLB:"Solomon Islands",SOM:"Somalia",ZAF:"South Africa",SGS:"South Georgia and the South Sandwich Islands",SSD:"South Sudan",ESP:"Spain",LKA:"Sri Lanka",SDN:"Sudan (the)",SUR:"Suriname",SJM:"Svalbard and Jan Mayen",SWE:"Sweden",CHE:"Switzerland",SYR:"Syrian Arab Republic (the)",TWN:"Taiwan (Province of China)",TJK:"Tajikistan",TZA:"Tanzania, the United Republic of",THA:"Thailand",TLS:"Timor-Leste",TGO:"Togo",TKL:"Tokelau",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TKM:"Turkmenistan",TCA:"Turks and Caicos Islands (the)",TUV:"Tuvalu",UGA:"Uganda",UKR:"Ukraine",ARE:"United Arab Emirates (the)",GBR:"United Kingdom of Great Britain and Northern Ireland (the)",UMI:"United States Minor Outlying Islands (the)",USA:"United States of America (the)",URY:"Uruguay",UZB:"Uzbekistan",VUT:"Vanuatu",VEN:"Venezuela (Bolivarian Republic of)",VNM:"Viet Nam",VGB:"Virgin Islands (British)",VIR:"Virgin Islands (U.S.)",WLF:"Wallis and Futuna",ESH:"Western Sahara*",YEM:"Yemen",ZMB:"Zambia",ZWE:"Zimbabwe",ALA:"Åland Islands",GBD:"British Overseas Territories Citizen",GBN:"British National (Overseas)",GBO:"British Overseas Citizen",GBS:"British Subject",GBP:"British Protected Person",RKS:"Republic of Kosovo",D:"Germany",EUE:"European Union (EU)",UNO:"United Nations Organization or one of its officials",UNA:"United Nations specialized agency or one of its officials",UNK:"Resident of Kosovo to whom a travel document has been issued by the United Nations Interim Administration Mission in Kosovo (UNMIK)",XBA:"African Development Bank (ADB)",XIM:"African Export-Import Bank (AFREXIM bank)",XCC:"Caribbean Community or one of its emissaries (CARICOM)",XCE:"Council of Europe",XCO:"Common Market for Eastern and Southern Africa (COMESA)",XEC:"Economic Community of West African States (ECOWAS)",XPO:"International Criminal Police Organization (INTERPOL)",XES:"Organization of Eastern Caribbean States (OECS)",XOM:"Sovereign Military Order of Malta or one of its emissaries",XDC:"Southern African Development Community",XXA:"Stateless person, as defined in Article 1 of the 1954 Convention Relating to the Status of Stateless Persons",XXB:"Refugee, as defined in Article 1 of the 1951 Convention Relating to the Status of Refugees as amended by the 1967 Protocol",XXC:"Refugee, other than as defined under the code XXB above",XXX:"Person of unspecified nationality, for whom issuing State does not consider it necessary to specify any of the codes XXA, XXB or XXC above, whatever that person’s status may be. This category may include a person who is neither stateless nor a refugee but who is of unknown nationality and legally residing in the State of issue.",ANT:"Netherlands Antilles",NTZ:"Neutral Zone"};Object.freeze(states);function cleanText(_e){return _e.replace(/<+$/g,"").replace(/</g," ")}function parseAlpha(_e){if(!_e.match(/^[A-Z<]+$/))throw new Error(`invalid text: ${_e}. Must be only alphabetical with <`);return cleanText(_e)}function parseDocumentCodeId(_e){const rt=_e.charAt(0);if(rt!=="A"&&rt!=="C"&&rt!=="I")throw new Error(`invalid document code: ${_e}. First character must be A, C or I`);const at=_e.charAt(1);if(at==="V")throw new Error(`invalid document code: ${_e}. Second character may not be V`);return at==="<"?{value:rt,start:0,end:1}:_e}function parseText(_e,rt=/^[0-9A-Z<]+$/){if(!_e.match(rt))throw new Error(`invalid text: ${_e}. Must match the following regular expression: ${rt.toString()}`);return cleanText(_e)}function parseOptional(_e){const rt=parseText(_e);return{value:rt,start:0,end:0+rt.length}}const numberToLetterMismatches={8:"B",6:"G",0:"O",1:"I",5:"S",2:"Z"},letterToNumberMismatches={B:"8",G:"6",O:"0",I:"1",S:"5",Z:"2"};function letterToNumber(_e){return letterToNumberMismatches[_e]?letterToNumberMismatches[_e]:_e}function numberToLetter(_e){return numberToLetterMismatches[_e]?numberToLetterMismatches[_e]:_e}function autoCorrection(_e,rt){let at="";const lt=[];return _e.split("").forEach((ct,ut)=>{if(rt.type===fieldTypes.ALPHABETIC){const ft=numberToLetter(ct);ft!==ct&&lt.push({line:rt.line,column:rt.start+ut,original:ct,corrected:ft}),at+=ft}else if(rt.type===fieldTypes.NUMERIC){const ft=letterToNumber(ct);ft!==ct&&lt.push({line:rt.line,column:rt.start+ut,original:ct,corrected:ft}),at+=ft}else at+=ct}),{correctedLine:at,autocorrect:lt}}const fieldTypes={NUMERIC:"NUMERIC",ALPHABETIC:"ALPHABETIC",ALPHANUMERIC:"ALPHANUMERIC"};function createFieldParser(_e){checkType(_e,"label","string"),_e.field!==null&&checkType(_e,"field","string"),checkType(_e,"line","number"),checkType(_e,"start","number"),checkType(_e,"end","number"),checkType(_e,"parser","function");const rt=[{line:_e.line,start:_e.start,end:_e.end}];if(Array.isArray(_e.related))for(const st of _e.related)checkType(st,"line","number"),checkType(st,"start","number"),checkType(st,"end","number"),rt.push(st);return{parser:(st,ct=[])=>{const ut=getText(st,_e),dt=(_e.related||[]).map(gt=>getText(st,gt)),pt={label:_e.label,field:_e.field,value:null,valid:!1,ranges:rt.map(gt=>({line:gt.line,start:gt.start,end:gt.end,raw:getText(st,gt)})),line:0,start:0,end:0,autocorrect:ct},ht=pt.ranges[0];pt.line=ht.line,pt.start=ht.start,pt.end=ht.end;try{const gt=_e.parser(ut,...dt);pt.value=typeof gt=="object"?gt.value:gt,pt.valid=!0,typeof gt=="object"&&(pt.start=ht.start+gt.start,pt.end=ht.start+gt.end)}catch(gt){pt.error=gt.message}return pt},autocorrector:st=>{let ct=st,ut=getText(st,_e),ft=[];if((_e.type||fieldTypes.ALPHANUMERIC)!==fieldTypes.ALPHANUMERIC){const pt=autoCorrection(ut,_e);ut=pt.correctedLine,ft=pt.autocorrect}return ct=changeText(st,_e,ut),{correctedLines:ct,autocorrect:ft}}}}function getText(_e,rt){return _e[rt.line].substring(rt.start,rt.end)}function changeText(_e,rt,at){const lt=_e[rt.line],st=lt.substring(0,rt.start)+at+lt.substring(rt.end);return _e[rt.line]=st,_e}function checkType(_e,rt,at){if(typeof _e[rt]!==at)throw new TypeError(`${rt} must be a ${at}`)}function check(_e,rt){let at=0;const lt=[7,3,1];for(let st=0;st<_e.length;st++){let ct=_e.charCodeAt(st);ct===60&&(ct=0),ct>=65&&(ct-=55),ct>=48&&(ct-=48),ct*=lt[st%3],at+=ct}if(at%=10,at!==Number(rt))throw new Error(`invalid check digit: ${rt}. Must be ${at}`)}function parseCompositeCheckDigit(_e,...rt){const at=rt.join("");return check(at,_e),_e}function parseDate(_e){if(!_e.match(/^[0-9<]{4,6}$/))throw new Error(`invalid date: ${_e}`);const rt=_e.substring(2,4);if(rt!=="<<"&&(parseInt(rt,10)<1||parseInt(rt,10)>12))throw new Error(`invalid date month: ${rt}`);if(_e.length===6){const at=_e.substring(4,6);if(at!=="<<"&&(parseInt(at,10)<1||parseInt(at,10)>31))throw new Error(`invalid date day: ${at}`)}return _e}function parseCheckDigit(_e,rt){return check(rt,_e),_e}function parseDocumentNumber$1(_e,rt,at){let lt,st;if(rt==="<"&&at){const ct=at.indexOf("<"),ut=at.substring(0,ct-1);st=_e+ut,lt=st.length+1}else st=cleanText(_e),lt=st.length;return{value:st,start:0,end:lt}}function parseDocumentNumberCheckDigit(_e,rt,at){if(_e==="<"&&at){const lt=at.indexOf("<"),st=at.substring(0,lt-1);return rt=`${rt}<${st}`,_e=at.charAt(lt-1),check(rt,_e),{value:_e,start:lt,end:lt+1}}else return check(rt,_e),_e}function parseFirstName(_e){const rt=_e.replace(/.*?<{2}/,""),at=parseText(rt,/^[A-Z<]+<*$/),lt=_e.length-rt.length;return{value:at,start:lt,end:lt+at.length}}function parseLastName(_e){const rt=parseText(_e.replace(/<{2}.*/,""),/^[A-Z<]*<*$/);return{value:rt,start:0,end:rt.length}}function parseSex(_e){switch(_e){case"M":return"male";case"F":return"female";case"<":return"nonspecified";default:throw new Error(`invalid sex: ${_e}. Must be M, F or <.`)}}function parseState(_e){if(_e=cleanText(_e),!states[_e])throw new Error(`invalid state code: ${_e}`);return{value:_e,start:0,end:_e.length}}const documentNumberTemplate={label:"Document number",field:"documentNumber",parser:parseDocumentNumber$1,type:fieldTypes.ALPHANUMERIC},documentNumberCheckDigitTemplate={label:"Document number check digit",field:"documentNumberCheckDigit",parser:parseDocumentNumberCheckDigit,type:fieldTypes.NUMERIC},documentCodeTemplate={label:"Document code",field:"documentCode",type:fieldTypes.ALPHABETIC},nationalityTemplate={label:"Nationality",field:"nationality",parser:parseState,type:fieldTypes.ALPHABETIC},sexTemplate={label:"Sex",field:"sex",parser:parseSex,type:fieldTypes.ALPHABETIC},expirationDateTemplate={label:"Expiration date",field:"expirationDate",parser:parseDate,type:fieldTypes.NUMERIC},expirationDateCheckDigitTemplate={label:"Expiration date check digit",field:"expirationDateCheckDigit",parser:parseCheckDigit,type:fieldTypes.NUMERIC},compositeCheckDigitTemplate={label:"Composite check digit",field:"compositeCheckDigit",parser:parseCompositeCheckDigit,type:fieldTypes.NUMERIC},birthDateTemplate={label:"Birth date",field:"birthDate",parser:parseDate,type:fieldTypes.NUMERIC},birthDateCheckDigitTemplate={label:"Birth date check digit",field:"birthDateCheckDigit",parser:parseCheckDigit,type:fieldTypes.NUMERIC},issueDateTemplate={label:"Issue date",field:"issueDate",parser:parseDate,type:fieldTypes.NUMERIC},firstNameTemplate={label:"First name",field:"firstName",parser:parseFirstName,type:fieldTypes.ALPHABETIC},lastNameTemplate={label:"Last name",field:"lastName",parser:parseLastName,type:fieldTypes.ALPHABETIC},issuingStateTemplate={label:"Issuing state",field:"issuingState",parser:parseState,type:fieldTypes.ALPHABETIC};[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:30,parser:parseAlpha},{label:"Administrative code",field:"administrativeCode",line:0,start:30,end:36,parser:parseOptional},{...issueDateTemplate,line:1,start:0,end:4},{label:"Administrative code 2",field:"administrativeCode2",line:1,start:4,end:7,parser:parseOptional},{...documentNumberTemplate,line:1,start:7,end:12},{...documentNumberCheckDigitTemplate,line:1,start:12,end:13,related:[{line:1,start:0,end:12}]},{...firstNameTemplate,line:1,start:13,end:27,parser:parseAlpha},{...birthDateTemplate,line:1,start:27,end:33},{...birthDateCheckDigitTemplate,line:1,start:33,end:34,related:[{line:1,start:27,end:33}]},{...sexTemplate,line:1,start:34,end:35},{...compositeCheckDigitTemplate,line:1,start:35,end:36,related:[{line:0,start:0,end:36},{line:1,start:0,end:35}]}].map(createFieldParser);function parseNumber(_e){if(!_e.match(/^[0-9]+$/))throw new Error(`invalid number: ${_e}`);return _e}function checkSeparator(_e){if(!_e.match(/^<*$/))throw new Error(`invalid separator: ${_e}. Must be composed only of "<"`);return _e}function parseDocumentCode(_e){if(_e!=="FA")throw new Error(`invalid document code: ${_e}. Must be FA`);return _e}function parseLanguageCode(_e){switch(_e){case"D":case"F":case"I":case"R":return _e;default:throw new Error(`invalid languageCode code: ${_e}. Must be D, F, I or R`)}}function parseDocumentNumber(_e){const rt=_e.substring(0,3),at=_e.substring(3,6),lt=_e.charAt(6),st=_e.substring(7);if(!rt.match(/^[A-Z0-9]{3}$/))throw new Error(`invalid document number: ${_e}. Must start with three alphanumeric digits`);if(!at.match(/^[0-9]{3}$/))throw new Error(`invalid document number: ${_e}. Must have numeric digits in positions 4, 5 and 6`);if(st!=="<<")throw new Error(`invalid document number: ${_e}. Must end with <<`);return parseLanguageCode(lt),{value:_e.substring(0,7),start:0,end:7}}function parseIssuingState(_e){if(_e!=="CHE"&&_e!=="LIE")throw new Error(`invalid state code: ${_e}. Must be CHE or LIE`);return _e}[{...documentNumberTemplate,line:0,start:0,end:9,parser:parseDocumentNumber},{label:"Language code",field:"languageCode",line:0,start:6,end:7,parser:parseLanguageCode,type:fieldTypes.ALPHABETIC},{...documentCodeTemplate,line:1,start:0,end:2,parser:parseDocumentCode},{...issuingStateTemplate,line:1,start:2,end:5,parser:parseIssuingState},{label:"PIN code",field:"pinCode",line:1,start:5,end:14,parser:parseNumber,type:fieldTypes.NUMERIC},{label:"Version number",field:"versionNumber",line:1,start:14,end:17,parser:parseNumber,type:fieldTypes.NUMERIC},{label:"Separator 1",field:null,line:1,start:17,end:19,parser:checkSeparator},{...birthDateTemplate,line:1,start:19,end:25},{label:"Separator 2",field:null,line:1,start:25,end:30,parser:checkSeparator},{...lastNameTemplate,line:2,start:0,end:30},{...firstNameTemplate,line:2,start:0,end:30}].map(createFieldParser);function parseDocumentNumberOptional(_e,rt){if(rt==="<"){const at=_e.indexOf("<"),lt=parseText(_e.substring(at+1));return{value:lt,start:at+1,end:at+1+lt.length}}else{const at=parseText(_e);return{value:at,start:0,end:at.length}}}[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...documentNumberTemplate,line:0,start:5,end:14,related:[{line:0,start:14,end:15},{line:0,start:15,end:30}]},{...documentNumberCheckDigitTemplate,line:0,start:14,end:15,related:[{line:0,start:5,end:14},{line:0,start:15,end:30}]},{label:"Optional field 1",field:"optional1",line:0,start:15,end:30,related:[{line:0,start:5,end:14},{line:0,start:14,end:15}],parser:parseDocumentNumberOptional},{...birthDateTemplate,start:0,end:6,line:1},{...birthDateCheckDigitTemplate,line:1,start:6,end:7,related:[{line:1,start:0,end:6}]},{...sexTemplate,line:1,start:7,end:8},{...expirationDateTemplate,line:1,start:8,end:14},{...expirationDateCheckDigitTemplate,line:1,start:14,end:15,related:[{line:1,start:8,end:14}]},{...nationalityTemplate,line:1,start:15,end:18},{label:"Optional field 2",field:"optional2",line:1,start:18,end:29,parser:parseOptional},{...compositeCheckDigitTemplate,line:1,start:29,end:30,related:[{line:0,start:5,end:30},{line:1,start:0,end:7},{line:1,start:8,end:15},{line:1,start:18,end:29}]},{...lastNameTemplate,line:2,start:0,end:30},{...firstNameTemplate,line:2,start:0,end:30}].map(createFieldParser);[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodeId},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:36},{...firstNameTemplate,line:0,start:5,end:36},{...documentNumberTemplate,line:1,start:0,end:9,related:[{line:1,start:9,end:10},{line:1,start:28,end:35}]},{...documentNumberCheckDigitTemplate,line:1,start:9,end:10,related:[{line:1,start:0,end:9},{line:1,start:28,end:35}]},{...nationalityTemplate,line:1,start:10,end:13},{...birthDateTemplate,line:1,start:13,end:19},{...birthDateCheckDigitTemplate,line:1,start:19,end:20,related:[{line:1,start:13,end:19}]},{...sexTemplate,line:1,start:20,end:21},{...expirationDateTemplate,line:1,start:21,end:27},{...expirationDateCheckDigitTemplate,line:1,start:27,end:28,related:[{line:1,start:21,end:27}]},{label:"Optional field",field:"optional",line:1,start:28,end:35,parser:parseOptional},{...compositeCheckDigitTemplate,line:1,start:35,end:36,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:35}]}].map(createFieldParser);function parseDocumentCodePassport(_e){const rt=_e.charAt(0);if(rt!=="P")throw new Error(`invalid document code: ${_e}. First character must be P`);const at=_e.charAt(1);if(!at.match(/[A-Z<]/))throw new Error(`invalid document code: ${_e}. Second character must be a letter or <`);return at==="<"?{value:rt,start:0,end:1}:_e}function parsePersonalNumber(_e){const rt=parseText(_e,/^[A-Z0-9<]+<*$/);return{value:rt,start:0,end:rt.length}}function parsePersonalNumberCheckDigit(_e,rt){if(cleanText(rt)===""){if(_e!=="<"&&_e!=="0")throw new Error(`invalid check digit ${_e}: must be 0 or <`);return _e}return check(rt,_e),_e}[{...documentCodeTemplate,line:0,start:0,end:2,parser:parseDocumentCodePassport},{...issuingStateTemplate,line:0,start:2,end:5},{...lastNameTemplate,line:0,start:5,end:44},{...firstNameTemplate,line:0,start:5,end:44},{...documentNumberTemplate,line:1,start:0,end:9},{...documentNumberCheckDigitTemplate,line:1,start:9,end:10,related:[{line:1,start:0,end:9}]},{...nationalityTemplate,line:1,start:10,end:13},{...birthDateTemplate,line:1,start:13,end:19},{...birthDateCheckDigitTemplate,line:1,start:19,end:20,related:[{line:1,start:13,end:19}]},{...sexTemplate,line:1,start:20,end:21},{...expirationDateTemplate,line:1,start:21,end:27},{...expirationDateCheckDigitTemplate,line:1,start:27,end:28,related:[{line:1,start:21,end:27}]},{label:"Personal number",field:"personalNumber",line:1,start:28,end:42,parser:parsePersonalNumber},{label:"Personal number check digit",field:"personalNumberCheckDigit",line:1,start:42,end:43,related:[{line:1,start:28,end:42}],parser:parsePersonalNumberCheckDigit},{...compositeCheckDigitTemplate,line:1,start:43,end:44,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:43}]}].map(createFieldParser);function $parcel$export(_e,rt,at,lt){Object.defineProperty(_e,rt,{get:at,set:lt,enumerable:!0,configurable:!0})}var $44d7e150ebc754d2$exports={};$parcel$export($44d7e150ebc754d2$exports,"ErrorBoundary",()=>$44d7e150ebc754d2$export$e926676385687eaf);var $ebb31c7feaa4405e$exports={};$parcel$export($ebb31c7feaa4405e$exports,"ErrorBoundaryContext",()=>$ebb31c7feaa4405e$export$b16d9fb1a22de840);const $ebb31c7feaa4405e$export$b16d9fb1a22de840=reactExports.createContext(null),$44d7e150ebc754d2$var$initialState={didCatch:!1,error:null};class $44d7e150ebc754d2$export$e926676385687eaf extends reactExports.Component{constructor(){super(...arguments);Zn(this,"state",$44d7e150ebc754d2$var$initialState);Zn(this,"resetErrorBoundary",(...at)=>{var st,ct;const{error:lt}=this.state;lt!==null&&((ct=(st=this.props).onReset)==null||ct.call(st,{args:at,reason:"imperative-api"}),this.setState($44d7e150ebc754d2$var$initialState))})}static getDerivedStateFromError(at){return{didCatch:!0,error:at}}componentDidCatch(at,lt){var st,ct;(ct=(st=this.props).onError)==null||ct.call(st,at,lt)}componentDidUpdate(at,lt){var ut,ft;const{didCatch:st}=this.state,{resetKeys:ct}=this.props;st&&lt.error!==null&&$44d7e150ebc754d2$var$hasArrayChanged(at.resetKeys,ct)&&((ft=(ut=this.props).onReset)==null||ft.call(ut,{next:ct,prev:at.resetKeys,reason:"keys"}),this.setState($44d7e150ebc754d2$var$initialState))}render(){const{children:at,fallbackRender:lt,FallbackComponent:st,fallback:ct}=this.props,{didCatch:ut,error:ft}=this.state;let dt=at;if(ut){const pt={error:ft,resetErrorBoundary:this.resetErrorBoundary};if(reactExports.isValidElement(ct))dt=ct;else if(typeof lt=="function")dt=lt(pt);else if(st)dt=reactExports.createElement(st,pt);else throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return reactExports.createElement($ebb31c7feaa4405e$export$b16d9fb1a22de840.Provider,{value:{didCatch:ut,error:ft,resetErrorBoundary:this.resetErrorBoundary}},dt)}}function $44d7e150ebc754d2$var$hasArrayChanged(_e=[],rt=[]){return _e.length!==rt.length||_e.some((at,lt)=>!Object.is(at,rt[lt]))}var $7c3c25b3f398a9d6$exports={};$parcel$export($7c3c25b3f398a9d6$exports,"useErrorBoundary",()=>$7c3c25b3f398a9d6$export$c052f6604b7d51fe);function $75c9d331f9c1ed1a$export$f20aa86254872370(_e){if(_e==null||typeof _e.didCatch!="boolean"||typeof _e.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found");return!0}function $7c3c25b3f398a9d6$export$c052f6604b7d51fe(){const _e=reactExports.useContext($ebb31c7feaa4405e$export$b16d9fb1a22de840);$75c9d331f9c1ed1a$export$f20aa86254872370(_e);const[rt,at]=reactExports.useState({error:null,hasError:!1}),lt=reactExports.useMemo(()=>({resetBoundary:()=>{_e==null||_e.resetErrorBoundary(),at({error:null,hasError:!1})},showBoundary:st=>at({error:st,hasError:!0})}),[_e==null?void 0:_e.resetErrorBoundary]);if(rt.hasError)throw rt.error;return lt}var $62ff477d53f02a5b$exports={};$parcel$export($62ff477d53f02a5b$exports,"withErrorBoundary",()=>$62ff477d53f02a5b$export$f0c7a449e0cfaec7);function $62ff477d53f02a5b$export$f0c7a449e0cfaec7(_e,rt){const at=reactExports.forwardRef((st,ct)=>reactExports.createElement($44d7e150ebc754d2$export$e926676385687eaf,rt,reactExports.createElement(_e,{...st,ref:ct}))),lt=_e.displayName||_e.name||"Unknown";return at.displayName=`withErrorBoundary(${lt})`,at}const AlertType={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"};reactExports.createContext(AlertType.INFO);reactExports.createContext(null);const labelColor="text-neutral-700",labelDisabledColor="text-neutral-500",inputColor="placeholder-neutral-400 focus-within:ring-primary-500 focus-within:border-primary-500 border-neutral-300 disabled:bg-neutral-50 disabled:text-neutral-500",inputError="border-danger-300 text-danger-900 placeholder-danger-300 focus-within:border-danger-500 focus-within:ring-danger-500",inputValid="border-success-400 text-success-900 placeholder-success-600 focus-within:border-success-600 focus-within:ring-success-600";function Label(_e){return jsxs("label",{htmlFor:_e.id,className:clsx("block text-sm font-semibold",_e.disabled?labelDisabledColor:labelColor,_e.hidden&&"sr-only"),children:[_e.text,_e.required&&jsx("span",{className:"text-warning-600",children:" *"})]})}const helpColorMap={error:"text-danger-600",valid:"text-success-700",help:"text-neutral-500"};function Help(_e){const{error:rt,valid:at,help:lt,noMargin:st}=_e;if(!rt&&typeof at!="string"&&!lt)return null;let ct=rt?{type:"error",value:rt}:typeof at=="string"?{type:"valid",value:at}:{type:"help",value:lt};return jsx("p",{className:clsx("whitespace-pre-line text-sm",helpColorMap[ct.type],!st&&"mt-2"),children:ct.value})}function InputCorner(_e){return jsx("div",{className:"text-sm",children:_e.children})}function InputErrorIcon(){return jsx(ExclamationCircleIcon,{className:"ml-2 h-5 w-5 text-danger-500"})}function InputValidIcon(){return jsx(CheckIcon$2,{className:"ml-2 h-5 w-5 text-success-600"})}const Checkbox=reactExports.forwardRef(function _e(rt,at){const{name:lt,value:st,id:ct=`${lt}-${String(st)}`,label:ut,help:ft,className:dt,error:pt,indeterminate:ht,...gt}=rt,mt=reactExports.useRef(null);return reactExports.useImperativeHandle(at,()=>mt.current),reactExports.useLayoutEffect(()=>{mt.current&&ht!==void 0&&(mt.current.indeterminate=ht)},[ht]),jsxs("div",{className:clsx("flex items-start",dt),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{...gt,id:ct,name:lt,value:st,type:"checkbox",ref:mt,className:clsx("form-checkbox h-4 w-4 rounded text-primary-600 disabled:text-neutral-300",pt?"border-danger-300 focus:ring-danger-500":"border-neutral-300 focus:ring-primary-500")})}),jsxs("div",{className:"ml-3 text-sm",children:[ut&&jsx("label",{htmlFor:ct,className:clsx("font-semibold",rt.disabled?labelDisabledColor:labelColor),children:ut}),jsx(Help,{error:pt,help:ft,noMargin:!0})]})]})});function defaultRenderSelectedOptions(_e){return _e.length===0?null:`${_e.length} item${_e.length>1?"s":""} selected`}function defaultGetValue(_e){return typeof _e=="object"?_e.value:_e}function defaultCanCreate(){return!0}function defaultRenderCreate(_e){return`Create "${_e}"`}function defaultGetBadgeColor(){return Color$1.neutral}function defaultIsOptionRemovable(){return!0}function preventDefault(_e){_e.preventDefault()}function defaultRenderOption(_e){return typeof _e=="object"?_e.label:_e}const defaultNoResultsHint=jsx("div",{children:"No results."}),sameWidth={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:_e})=>{_e.styles.popper.width=`${_e.rects.reference.width}px`},effect:({state:_e})=>{_e.elements.popper.style.width=`${_e.elements.reference.getBoundingClientRect().width}px`}};function useModifiedPopper(_e){const[rt,at]=reactExports.useState(null),[lt,st]=reactExports.useState(null),ct=[];_e.sameWidth&&ct.push(sameWidth),_e.offset&&ct.push({name:"offset",options:{offset:[0,_e.offset]}});const{styles:ut,attributes:ft}=usePopper(rt,lt,{placement:_e.placement,strategy:"fixed",modifiers:ct});return{setReferenceElement:at,setPopperElement:st,popperProps:{style:ut.popper,...ft.popper}}}function useOnOff(_e=!1){const[rt,at]=reactExports.useState(_e),lt=reactExports.useCallback(()=>at(!0),[]),st=reactExports.useCallback(()=>at(!1),[]),ct=reactExports.useCallback(()=>at(!rt),[rt]);return[rt,lt,st,ct]}function useSearchSelectInternals(_e){const{showSelected:rt,selected:at,filteredSelected:lt,searchValue:st,onSearchChange:ct,options:ut,onSelect:ft,getValue:dt,renderOption:pt,closeListOnSelect:ht,clearSearchOnSelect:gt,onCreate:mt,canCreate:xt,formattedSelected:vt,onBackspace:yt,renderCreate:_t,isOptionRemovable:$t,pinSelectedOptions:Et}=_e,[wt,bt,St]=useOnOff(!1),[Tt,Rt]=reactExports.useState(0),[kt,At]=reactExports.useState([]),Ct=reactExports.useRef(null);useOnClickOutside(Ct,St);const Mt=mt&&st&&xt(st)?st:void 0,Ot=reactExports.useMemo(()=>buildInternalOptions(ut,dt,pt,_t,at,rt,$t,Mt,lt,vt,Et,kt),[ut,dt,pt,_t,Mt,at,$t,rt,lt,vt,Et,kt]);reactExports.useEffect(()=>{if(vt){for(let Zt=0;Zt<ut.length;Zt++)if(vt.value===dt(ut[Zt])){Rt(Zt);return}}Rt(0)},[ut,vt,dt]);const{setReferenceElement:Pt,setPopperElement:It,popperProps:Ft}=useModifiedPopper({placement:"bottom",offset:6,sameWidth:!0});function Wt(){At(at.slice()),bt()}function Xt(Zt){wt||Wt(),ct(Zt.target.value)}function Lt(Zt){Zt.type==="option"?Zt.selected?Zt.removable&&ft(Zt.originalValue,!0):ft(Zt.originalValue,!1):mt==null||mt(Zt.originalValue,ft),ht&&St(),gt&&ct("")}function Bt(Zt){switch(Zt.key){case"ArrowUp":if(!wt)Wt();else{const cn=Tt-1;Rt(cn>=0?cn:Ot.length-1)}Zt.preventDefault();break;case"ArrowDown":wt?Rt((Tt+1)%Ot.length):Wt(),Zt.preventDefault();break;case"Escape":ct(""),wt&&St();break;case"Enter":wt&&Ot[Tt]&&Lt(Ot[Tt]),Zt.preventDefault();break;case" ":st===""&&(wt?St():Wt(),Zt.preventDefault());break;case"Backspace":st===""&&(yt==null||yt());break}}function Ut(Zt){wt?(Zt.preventDefault(),St()):Wt()}function dn(Zt){Zt.preventDefault(),ft(void 0)}return{mainRef:Ct,closeList:St,openList:Wt,isListOpen:wt,formattedOptions:Ot,focused:Tt,setFocused:Rt,onSelect:Lt,setReferenceElement:Pt,setPopperElement:It,popperProps:Ft,handleChange:Xt,handleKeyDown:Bt,handleChevronDownClick:Ut,handleXClick:dn,showSelected:rt}}function buildInternalOptions(_e,rt,at,lt,st,ct,ut,ft,dt,pt,ht=!1,gt){const mt=[],xt=(gt==null?void 0:gt.filter(vt=>(dt==null?void 0:dt.some(yt=>rt(yt)===rt(vt)))||_e.some(yt=>rt(yt)===rt(vt))))||[];if(ct){const vt=(dt==null?void 0:dt.filter(_t=>!(_e!=null&&_e.some($t=>rt($t)===rt(_t)))))||[];let yt=[...vt,..._e];if(ht){const{pinned:_t,notPinned:$t}=_e.reduce((Et,wt)=>{const bt=xt.some(St=>rt(St)===rt(wt));return Et[bt?"pinned":"notPinned"].push(wt),Et},{notPinned:[],pinned:[]});yt=[...vt,..._t,...$t]}mt.push(...yt.map(_t=>{const $t=rt(_t);return{type:"option",value:rt(_t),label:at(_t),originalValue:_t,selected:st.some(Et=>rt(Et)===$t),removable:(ut==null?void 0:ut(_t))||!1}}))}else{const vt=_e.filter(yt=>{const _t=rt(yt);return _t===(pt==null?void 0:pt.value)||!st.some($t=>rt($t)===_t)});mt.push(...vt.map(yt=>({type:"option",value:rt(yt),label:at(yt),originalValue:yt,selected:!1,removable:(ut==null?void 0:ut(yt))||!1})))}return ft&&mt.push({type:"create",value:"___internal_create___",label:lt(ft),originalValue:ft,selected:!1,removable:!1}),mt}const Input=reactExports.forwardRef(function _e(rt,at){const{name:lt,id:st=lt,className:ct,style:ut,error:ft,valid:dt,leadingAddon:pt,leadingInlineAddon:ht,trailingAddon:gt,trailingInlineAddon:mt,loading:xt,label:vt,corner:yt,hiddenLabel:_t=!1,help:$t,placeholder:Et,inlinePlaceholder:wt,wrapperRef:bt,type:St="text",inputClassName:Tt,...Rt}=rt;return jsxs("div",{className:ct,children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:st,text:vt,hidden:_t,required:rt.required,disabled:rt.disabled}),jsx(InputCorner,{children:yt})]}),jsxs("div",{ref:bt,className:clsx("flex rounded-md shadow-sm",{"mt-1":!_t||yt}),children:[pt&&jsx(LeadingAddon,{value:pt}),jsxs("label",{htmlFor:st,className:clsx("border py-2 px-3 focus-within:ring-1","relative flex flex-1 flex-row items-center text-base shadow-sm sm:text-sm",{[inputColor]:!ft,[inputError]:ft,[inputValid]:dt,"rounded-r-md":pt&&!gt,"rounded-l-md":gt&&!pt,"rounded-md":!pt&&!gt,"bg-neutral-50 text-neutral-500":rt.disabled,"bg-white":!rt.disabled}),style:ut,children:[ht&&jsx(LeadingInlineAddon,{value:ht}),jsxs("div",{className:"relative flex flex-1 flex-row",children:[wt&&jsx("div",{className:"pointer-events-none absolute inset-0 w-full overflow-hidden truncate",children:wt}),jsx("input",{ref:at,id:st,name:lt,placeholder:Et&&!wt?Et:void 0,className:clsx({"flex-1 border-none p-0 focus:outline-none focus:ring-0 sm:text-sm":!0,"bg-neutral-50 text-neutral-500":rt.disabled},ft?"placeholder-danger-300":dt?"placeholder-success-600":"placeholder-neutral-400",Tt),type:St,...Rt})]}),jsxs("div",{className:"inline-flex cursor-default flex-row items-center space-x-1",children:[xt&&jsx(Spinner,{className:"h-5 w-5 text-neutral-400"}),mt&&jsx(TrailingInlineAddon,{value:mt})]}),ft&&jsx(InputErrorIcon,{}),dt&&jsx(InputValidIcon,{})]}),gt&&jsx(TrailingAddon,{value:gt})]}),jsx(Help,{error:ft,valid:dt,help:$t})]})});function LeadingInlineAddon(_e){return jsx("div",{className:"flex items-center pr-2 text-neutral-500 sm:text-sm",children:_e.value})}function TrailingInlineAddon(_e){return jsx("div",{className:clsx("flex items-center pl-2 text-neutral-500 sm:text-sm"),children:_e.value})}function LeadingAddon(_e){return jsx("div",{className:clsx("inline-flex items-center rounded-l-md border border-r-0 border-neutral-300 bg-neutral-50 text-neutral-500 sm:text-sm",typeof _e.value=="string"&&"px-3"),children:_e.value})}function TrailingAddon(_e){return jsx("div",{className:clsx("inline-flex items-center rounded-r-md border border-l-0 border-neutral-300 bg-neutral-50 text-neutral-500 sm:text-sm",typeof _e.value=="string"&&"px-3"),children:_e.value})}function FormattedOption(_e){const{index:rt,option:at,focused:lt,setFocused:st,onSelect:ct,showSelected:ut,highlightClassName:ft}=_e,dt=lt===rt,pt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{var ht;dt&&((ht=pt.current)==null||ht.scrollIntoView({block:"nearest"}))},[dt]),jsx("div",{ref:pt,className:clsx(dt?ft:"text-neutral-900","py-2 px-4"),onMouseMove:()=>st(rt),onClick:()=>ct(at),children:ut?jsxs("div",{className:"flex items-center",children:[at.type==="create"?jsx(PlusCircleIcon,{className:"-ml-0.5 mr-3 h-5 w-5 text-primary-600"}):jsx(Checkbox,{readOnly:!0,checked:at.selected,disabled:!at.removable,name:String(at.value)}),jsx("div",{className:clsx({"text-neutral-500":!at.removable&&at.selected}),children:at.label})]}):at.selected?null:at.label})}function InternalSearchSelect(_e){const{mainRef:rt,inputRef:at,closeList:lt,openList:st,isListOpen:ct,formattedOptions:ut,focused:ft,setFocused:dt,onSelect:pt,setReferenceElement:ht,setPopperElement:gt,popperProps:mt,handleChange:xt,handleKeyDown:vt,handleChevronDownClick:yt,handleXClick:_t,clearable:$t=!1,disabled:Et=!1,required:wt=!1,loading:bt=!1,autoFocus:St=!1,noResultsHint:Tt=defaultNoResultsHint,error:Rt,help:kt,label:At,hiddenLabel:Ct,corner:Mt,placeholder:Ot,searchValue:Pt,formattedSelected:It,hasClearableValue:Ft,name:Wt,onBlur:Xt,highlightClassName:Lt="",showSelected:Bt=!1,size:Ut,inputClassName:dn}=_e,Zt=Lt||(Bt?"bg-neutral-200":"text-white bg-primary-600");return jsxs("div",{ref:rt,children:[jsx(Input,{inputClassName:dn,autoFocus:St,ref:at,required:wt,wrapperRef:ht,type:"text",name:Wt||At,label:At,hiddenLabel:Ct,corner:Mt,value:Pt,disabled:Et,size:Ut,error:Rt,help:kt,autoComplete:"off",onBlur:cn=>{Xt==null||Xt(cn),lt()},onChange:xt,onKeyDown:vt,onClick:st,placeholder:Ot,inlinePlaceholder:It&&!Pt?It.label:void 0,trailingInlineAddon:jsx(TrailingTools,{loading:bt,clearable:$t,hasClearableValue:Ft,disabled:Et,handleXClick:_t,handleChevronDownClick:yt})}),ct&&jsx(OptionsList,{setPopperElement:gt,popperProps:mt,formattedOptions:ut,noResultsHint:Tt,focused:ft,setFocused:dt,onSelect:pt,highlightClassName:Zt,showSelected:Bt})]})}function InternalMultiSearchSelect(_e){const{mainRef:rt,inputRef:at,closeList:lt,openList:st,isListOpen:ct,formattedOptions:ut,focused:ft,setFocused:dt,onSelect:pt,setReferenceElement:ht,setPopperElement:gt,popperProps:mt,handleChange:xt,handleKeyDown:vt,handleChevronDownClick:yt,handleXClick:_t,clearable:$t=!1,disabled:Et=!1,required:wt=!1,loading:bt=!1,autoFocus:St=!1,noResultsHint:Tt,error:Rt,help:kt,label:At,hiddenLabel:Ct,corner:Mt,placeholder:Ot,searchValue:Pt,selectedBadges:It,hasClearableValue:Ft,name:Wt,id:Xt=Wt,onBlur:Lt,highlightClassName:Bt,showSelected:Ut=!1}=_e,dn=Bt||(Ut?"bg-neutral-200":"text-white bg-primary-600");return jsxs("div",{ref:rt,className:"flex flex-col",children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:Xt,text:At,hidden:Ct,required:wt,disabled:Et}),jsx(InputCorner,{children:Mt})]}),jsxs("label",{ref:ht,htmlFor:Xt,className:clsx("border py-2 px-3 focus-within:ring-1","relative flex flex-1 flex-row text-base shadow-sm sm:text-sm","rounded-md",{"mt-1":!Ct||Mt,[inputColor]:!Rt,[inputError]:Rt,"bg-neutral-50 text-neutral-500":Et,"bg-white":!Et}),children:[jsxs("div",{className:"flex flex-1 flex-row flex-wrap gap-1.5",children:[It,jsx("input",{id:Xt,ref:at,type:"text",name:Wt||At,value:Pt,size:Math.max(5,(Ot==null?void 0:Ot.length)||0,Pt.length),disabled:Et,autoFocus:St,autoComplete:"off",onBlur:Zt=>{Lt==null||Lt(Zt),lt()},onChange:xt,onKeyDown:vt,onClick:st,placeholder:Ot,className:clsx({"flex-1 border-none p-0 focus:outline-none focus:ring-0 sm:text-sm":!0,"bg-neutral-50 text-neutral-500":Et},Rt?"placeholder-danger-300":"placeholder-neutral-400")})]}),jsx(TrailingTools,{loading:bt,clearable:$t,hasClearableValue:Ft,hasError:!!Rt,disabled:Et,handleXClick:_t,handleChevronDownClick:yt})]}),jsx(Help,{error:Rt,help:kt}),ct&&jsx(OptionsList,{setPopperElement:gt,popperProps:mt,formattedOptions:ut,noResultsHint:Tt,focused:ft,setFocused:dt,onSelect:pt,highlightClassName:dn,showSelected:Ut})]})}function OptionsList(_e){const{setPopperElement:rt,popperProps:at,formattedOptions:lt,noResultsHint:st=defaultNoResultsHint,focused:ct,setFocused:ut,onSelect:ft,highlightClassName:dt="text-white bg-primary-600",showSelected:pt}=_e,ht=pt?lt:lt.filter(gt=>!gt.selected);return jsx("div",{ref:rt,...at,className:"z-20 max-h-60 w-full cursor-default overflow-auto rounded-md bg-white py-1 text-base shadow-lg sm:text-sm",onMouseDown:preventDefault,children:ht.length===0?jsx("div",{className:"p-2",children:st}):ht.map((gt,mt)=>jsx(FormattedOption,{index:mt,option:gt,focused:ct,setFocused:ut,onSelect:ft,highlightClassName:dt,showSelected:pt},gt.value))})}function TrailingTools(_e){const{loading:rt,clearable:at,hasClearableValue:lt,hasError:st,disabled:ct,handleXClick:ut,handleChevronDownClick:ft}=_e;return jsxs("div",{className:"inline-flex cursor-default flex-row items-center text-neutral-400",children:[rt&&jsx(Spinner,{className:"mr-1 h-5 w-5 text-neutral-400"}),at&&lt&&!ct&&jsx(XMarkIcon,{className:"h-4 w-4 hover:text-neutral-500",onClick:ut}),jsx("span",{className:"mx-1 font-mono font-light",children:" | "}),jsx(ChevronDownIcon,{className:clsx({"h-5 w-5":!0,"hover:text-neutral-500":!ct}),onMouseDown:preventDefault,onClick:ct?void 0:ft}),st&&jsx(InputErrorIcon,{})]})}forwardRefWithGeneric(CheckboxMultiSearchSelectForwardRef);function CheckboxMultiSearchSelectForwardRef(_e,rt){const{onSearchChange:at,options:lt,onSelect:st,isOptionRemovable:ct=defaultIsOptionRemovable,selected:ut,selectedFiltered:ft,getValue:dt=defaultGetValue,renderOption:pt=defaultRenderOption,renderSelectedOptions:ht=defaultRenderSelectedOptions,getBadgeColor:gt=defaultGetBadgeColor,closeListOnSelect:mt=!1,clearSearchOnSelect:xt=!1,onCreate:vt,canCreate:yt=defaultCanCreate,renderCreate:_t=defaultRenderCreate,clearable:$t=!0,disabled:Et=!1,pinSelectedOptions:wt=!1,...bt}=_e,St=reactExports.useMemo(()=>ut.filter(At=>!ct(At)),[ut,ct]),Tt=reactExports.useMemo(()=>{const At=ht(ut);return At?[jsx(Badge,{variant:"COLORED_BACKGROUND",label:At,color:gt(ut),rounded:!0},"selected-items")]:[]},[ut,ht,gt]),Rt=reactExports.useCallback((At,Ct)=>{st(At===void 0?St:Ct?ut.filter(Mt=>dt(Mt)!==dt(At)):[...ut,At])},[ut,st,St,dt]),kt=useSearchSelectInternals({showSelected:!0,selected:ut,filteredSelected:ft,searchValue:_e.searchValue,onSearchChange:at,options:lt,onSelect:Rt,getValue:dt,renderOption:pt,closeListOnSelect:mt,clearSearchOnSelect:xt,onCreate:vt,canCreate:yt,renderCreate:_t,pinSelectedOptions:wt,isOptionRemovable:ct});return jsx(InternalMultiSearchSelect,{...kt,...bt,inputRef:rt,clearable:$t,disabled:Et,hasClearableValue:ut.length!==St.length,selectedBadges:Tt})}var colors$3={},log$1={},picocolors_browserExports={},picocolors_browser={get exports(){return picocolors_browserExports},set exports(_e){picocolors_browserExports=_e}},x$3=String,create=function(){return{isColorSupported:!1,reset:x$3,bold:x$3,dim:x$3,italic:x$3,underline:x$3,inverse:x$3,hidden:x$3,strikethrough:x$3,black:x$3,red:x$3,green:x$3,yellow:x$3,blue:x$3,magenta:x$3,cyan:x$3,white:x$3,gray:x$3,bgBlack:x$3,bgRed:x$3,bgGreen:x$3,bgYellow:x$3,bgBlue:x$3,bgMagenta:x$3,bgCyan:x$3,bgWhite:x$3}};picocolors_browser.exports=create();picocolors_browserExports.createColors=create;(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});function rt(dt,pt){for(var ht in pt)Object.defineProperty(dt,ht,{enumerable:!0,get:pt[ht]})}rt(_e,{dim:()=>ut,default:()=>ft});const at=lt(picocolors_browserExports);function lt(dt){return dt&&dt.__esModule?dt:{default:dt}}let st=new Set;function ct(dt,pt,ht){typeof process<"u"&&{}.JEST_WORKER_ID||ht&&st.has(ht)||(ht&&st.add(ht),console.warn(""),pt.forEach(gt=>console.warn(dt,"-",gt)))}function ut(dt){return at.default.dim(dt)}const ft={info(dt,pt){ct(at.default.bold(at.default.cyan("info")),...Array.isArray(dt)?[dt]:[pt,dt])},warn(dt,pt){ct(at.default.bold(at.default.yellow("warn")),...Array.isArray(dt)?[dt]:[pt,dt])},risk(dt,pt){ct(at.default.bold(at.default.magenta("risk")),...Array.isArray(dt)?[dt]:[pt,dt])}}})(log$1);(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:()=>st});const rt=at(log$1);function at(ct){return ct&&ct.__esModule?ct:{default:ct}}function lt({version:ct,from:ut,to:ft}){rt.default.warn(`${ut}-color-renamed`,[`As of Tailwind CSS ${ct}, \`${ut}\` has been renamed to \`${ft}\`.`,"Update your configuration file to silence this warning."])}const st={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return lt({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return lt({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return lt({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return lt({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return lt({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(colors$3);let colors$2=colors$3;(colors$2.__esModule?colors$2:{default:colors$2}).default;const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function _e(rt,at,lt){if(!at||at.length===0)return rt();const st=document.getElementsByTagName("link");return Promise.all(at.map(ct=>{if(ct=assetsURL(ct),ct in seen)return;seen[ct]=!0;const ut=ct.endsWith(".css"),ft=ut?'[rel="stylesheet"]':"";if(!!lt)for(let ht=st.length-1;ht>=0;ht--){const gt=st[ht];if(gt.href===ct&&(!ut||gt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ct}"]${ft}`))return;const pt=document.createElement("link");if(pt.rel=ut?"stylesheet":scriptRel,ut||(pt.as="script",pt.crossOrigin=""),pt.href=ct,document.head.appendChild(pt),ut)return new Promise((ht,gt)=>{pt.addEventListener("load",ht),pt.addEventListener("error",()=>gt(new Error(`Unable to preload CSS for ${ct}`)))})})).then(()=>rt())};var propTypesExports$1={},propTypes={get exports(){return propTypesExports$1},set exports(_e){propTypesExports$1=_e}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var _e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=_e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var _e=requireReactPropTypesSecret();function rt(){}function at(){}return at.resetWarningCache=rt,factoryWithThrowingShims=function(){function lt(ut,ft,dt,pt,ht,gt){if(gt!==_e){var mt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw mt.name="Invariant Violation",mt}}lt.isRequired=lt;function st(){return lt}var ct={array:lt,bigint:lt,bool:lt,func:lt,number:lt,object:lt,string:lt,symbol:lt,any:lt,arrayOf:st,element:lt,elementType:lt,instanceOf:st,node:lt,objectOf:st,oneOf:st,oneOfType:st,shape:st,exact:st,checkPropTypes:at,resetWarningCache:rt};return ct.PropTypes=ct,ct},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypesExports$1}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);typeof window<"u"&&__vitePreload(()=>Promise.resolve({}),["assets/react-datepicker-8603f1e9.css"]);reactExports.forwardRef(function _e({inputRef:rt,inputProps:at,name:lt,error:st,selected:ct,isClearable:ut,onSelectChange:ft,...dt},pt){const ht=reactExports.useRef(null);return reactExports.useImperativeHandle(pt,()=>ht.current),reactExports.useImperativeHandle(rt,()=>ht.current),jsxs("div",{className:"relative",children:[jsx("input",{...dt,...at,autoComplete:"off",ref:ht,name:lt,className:clsx("form-input block w-full rounded-md border-neutral-300 shadow-sm sm:text-sm",{[inputColor]:!st,[inputError]:st},at==null?void 0:at.className)}),ct&&ut?jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:jsx(XMarkIcon,{className:"h-3.5 w-3.5 cursor-pointer",onClick:gt=>{gt.stopPropagation(),gt.preventDefault(),ft==null||ft(null)}})}):null]})});let defaultOptions={};const _options=new WeakMap,referenceTables={metric:[{from:0,to:1e3,unit:"B",long:"bytes"},{from:1e3,to:1e6,unit:"kB",long:"kilobytes"},{from:1e6,to:1e9,unit:"MB",long:"megabytes"},{from:1e9,to:1e12,unit:"GB",long:"gigabytes"},{from:1e12,to:1e15,unit:"TB",long:"terabytes"},{from:1e15,to:1e18,unit:"PB",long:"petabytes"},{from:1e18,to:1e21,unit:"EB",long:"exabytes"},{from:1e21,to:1e24,unit:"ZB",long:"zettabytes"},{from:1e24,to:1e27,unit:"YB",long:"yottabytes"}],metric_octet:[{from:0,to:1e3,unit:"o",long:"octets"},{from:1e3,to:1e6,unit:"ko",long:"kilooctets"},{from:1e6,to:1e9,unit:"Mo",long:"megaoctets"},{from:1e9,to:1e12,unit:"Go",long:"gigaoctets"},{from:1e12,to:1e15,unit:"To",long:"teraoctets"},{from:1e15,to:1e18,unit:"Po",long:"petaoctets"},{from:1e18,to:1e21,unit:"Eo",long:"exaoctets"},{from:1e21,to:1e24,unit:"Zo",long:"zettaoctets"},{from:1e24,to:1e27,unit:"Yo",long:"yottaoctets"}],iec:[{from:0,to:Math.pow(1024,1),unit:"B",long:"bytes"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"KiB",long:"kibibytes"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"MiB",long:"mebibytes"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"GiB",long:"gibibytes"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"TiB",long:"tebibytes"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"PiB",long:"pebibytes"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"EiB",long:"exbibytes"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"ZiB",long:"zebibytes"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"YiB",long:"yobibytes"}],iec_octet:[{from:0,to:Math.pow(1024,1),unit:"o",long:"octets"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"Kio",long:"kibioctets"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"Mio",long:"mebioctets"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"Gio",long:"gibioctets"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"Tio",long:"tebioctets"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"Pio",long:"pebioctets"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"Eio",long:"exbioctets"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"Zio",long:"zebioctets"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"Yio",long:"yobioctets"}]};class ByteSize{constructor(rt,at){at=Object.assign({units:"metric",precision:1,locale:void 0},defaultOptions,at),_options.set(this,at),Object.assign(referenceTables,at.customUnits);const lt=rt<0?"-":"";rt=Math.abs(rt);const st=referenceTables[at.units];if(st){const ct=st.find(ut=>rt>=ut.from&&rt<ut.to);if(ct){const ut=new Intl.NumberFormat(at.locale,{style:"decimal",minimumFractionDigits:at.precision,maximumFractionDigits:at.precision}),ft=ct.from===0?lt+rt:lt+ut.format(rt/ct.from);this.value=ft,this.unit=ct.unit,this.long=ct.long}else this.value=lt+rt,this.unit="",this.long=""}else throw new Error(`Invalid units specified: ${at.units}`)}toString(){const rt=_options.get(this);return rt.toStringFn?rt.toStringFn.bind(this)():`${this.value} ${this.unit}`}}function byteSize(_e,rt){return new ByteSize(_e,rt)}byteSize.defaultOptions=function(_e){defaultOptions=_e};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let _e=0;_e<arguments.length;_e++)this.define(arguments[_e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(_e,rt){for(let at in _e){let lt=_e[at].map(function(st){return st.toLowerCase()});at=at.toLowerCase();for(let st=0;st<lt.length;st++){const ct=lt[st];if(ct[0]!=="*"){if(!rt&&ct in this._types)throw new Error('Attempt to change mapping for "'+ct+'" extension from "'+this._types[ct]+'" to "'+at+'". Pass `force=true` to allow this, otherwise remove "'+ct+'" from the list of extensions for "'+at+'".');this._types[ct]=at}}if(rt||!this._extensions[at]){const st=lt[0];this._extensions[at]=st[0]!=="*"?st:st.substr(1)}}};Mime$1.prototype.getType=function(_e){_e=String(_e);let rt=_e.replace(/^.*[/\\]/,"").toLowerCase(),at=rt.replace(/^.*\./,"").toLowerCase(),lt=rt.length<_e.length;return(at.length<rt.length-1||!lt)&&this._types[at]||null};Mime$1.prototype.getExtension=function(_e){return _e=/^\s*([^;\s]*)/.test(_e)&&RegExp.$1,_e&&this._extensions[_e.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},other={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let Mime=Mime_1;var mime=new Mime(standard,other);function __awaiter(_e,rt,at,lt){function st(ct){return ct instanceof at?ct:new at(function(ut){ut(ct)})}return new(at||(at=Promise))(function(ct,ut){function ft(ht){try{pt(lt.next(ht))}catch(gt){ut(gt)}}function dt(ht){try{pt(lt.throw(ht))}catch(gt){ut(gt)}}function pt(ht){ht.done?ct(ht.value):st(ht.value).then(ft,dt)}pt((lt=lt.apply(_e,rt||[])).next())})}function __generator(_e,rt){var at={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},lt,st,ct,ut;return ut={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function ft(pt){return function(ht){return dt([pt,ht])}}function dt(pt){if(lt)throw new TypeError("Generator is already executing.");for(;ut&&(ut=0,pt[0]&&(at=0)),at;)try{if(lt=1,st&&(ct=pt[0]&2?st.return:pt[0]?st.throw||((ct=st.return)&&ct.call(st),0):st.next)&&!(ct=ct.call(st,pt[1])).done)return ct;switch(st=0,ct&&(pt=[pt[0]&2,ct.value]),pt[0]){case 0:case 1:ct=pt;break;case 4:return at.label++,{value:pt[1],done:!1};case 5:at.label++,st=pt[1],pt=[0];continue;case 7:pt=at.ops.pop(),at.trys.pop();continue;default:if(ct=at.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(pt[0]===6||pt[0]===2)){at=0;continue}if(pt[0]===3&&(!ct||pt[1]>ct[0]&&pt[1]<ct[3])){at.label=pt[1];break}if(pt[0]===6&&at.label<ct[1]){at.label=ct[1],ct=pt;break}if(ct&&at.label<ct[2]){at.label=ct[2],at.ops.push(pt);break}ct[2]&&at.ops.pop(),at.trys.pop();continue}pt=rt.call(_e,at)}catch(ht){pt=[6,ht],st=0}finally{lt=ct=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}function __read(_e,rt){var at=typeof Symbol=="function"&&_e[Symbol.iterator];if(!at)return _e;var lt=at.call(_e),st,ct=[],ut;try{for(;(rt===void 0||rt-- >0)&&!(st=lt.next()).done;)ct.push(st.value)}catch(ft){ut={error:ft}}finally{try{st&&!st.done&&(at=lt.return)&&at.call(lt)}finally{if(ut)throw ut.error}}return ct}function __spreadArray(_e,rt,at){if(at||arguments.length===2)for(var lt=0,st=rt.length,ct;lt<st;lt++)(ct||!(lt in rt))&&(ct||(ct=Array.prototype.slice.call(rt,0,lt)),ct[lt]=rt[lt]);return _e.concat(ct||Array.prototype.slice.call(rt))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(_e,rt){var at=withMimeType(_e);if(typeof at.path!="string"){var lt=_e.webkitRelativePath;Object.defineProperty(at,"path",{value:typeof rt=="string"?rt:typeof lt=="string"&&lt.length>0?lt:_e.name,writable:!1,configurable:!1,enumerable:!0})}return at}function withMimeType(_e){var rt=_e.name,at=rt&&rt.lastIndexOf(".")!==-1;if(at&&!_e.type){var lt=rt.split(".").pop().toLowerCase(),st=COMMON_MIME_TYPES.get(lt);st&&Object.defineProperty(_e,"type",{value:st,writable:!1,configurable:!1,enumerable:!0})}return _e}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return isObject(_e)&&isDataTransfer(_e.dataTransfer)?[2,getDataTransferFiles(_e.dataTransfer,_e.type)]:isChangeEvt(_e)?[2,getInputFiles(_e)]:Array.isArray(_e)&&_e.every(function(at){return"getFile"in at&&typeof at.getFile=="function"})?[2,getFsHandleFiles(_e)]:[2,[]]})})}function isDataTransfer(_e){return isObject(_e)}function isChangeEvt(_e){return isObject(_e)&&isObject(_e.target)}function isObject(_e){return typeof _e=="object"&&_e!==null}function getInputFiles(_e){return fromList(_e.target.files).map(function(rt){return toFileWithPath(rt)})}function getFsHandleFiles(_e){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(at){switch(at.label){case 0:return[4,Promise.all(_e.map(function(lt){return lt.getFile()}))];case 1:return rt=at.sent(),[2,rt.map(function(lt){return toFileWithPath(lt)})]}})})}function getDataTransferFiles(_e,rt){return __awaiter(this,void 0,void 0,function(){var at,lt;return __generator(this,function(st){switch(st.label){case 0:return _e.items?(at=fromList(_e.items).filter(function(ct){return ct.kind==="file"}),rt!=="drop"?[2,at]:[4,Promise.all(at.map(toFilePromises))]):[3,2];case 1:return lt=st.sent(),[2,noIgnoredFiles(flatten(lt))];case 2:return[2,noIgnoredFiles(fromList(_e.files).map(function(ct){return toFileWithPath(ct)}))]}})})}function noIgnoredFiles(_e){return _e.filter(function(rt){return FILES_TO_IGNORE.indexOf(rt.name)===-1})}function fromList(_e){if(_e===null)return[];for(var rt=[],at=0;at<_e.length;at++){var lt=_e[at];rt.push(lt)}return rt}function toFilePromises(_e){if(typeof _e.webkitGetAsEntry!="function")return fromDataTransferItem(_e);var rt=_e.webkitGetAsEntry();return rt&&rt.isDirectory?fromDirEntry(rt):fromDataTransferItem(_e)}function flatten(_e){return _e.reduce(function(rt,at){return __spreadArray(__spreadArray([],__read(rt),!1),__read(Array.isArray(at)?flatten(at):[at]),!1)},[])}function fromDataTransferItem(_e){var rt=_e.getAsFile();if(!rt)return Promise.reject("".concat(_e," is not a File"));var at=toFileWithPath(rt);return Promise.resolve(at)}function fromEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return[2,_e.isDirectory?fromDirEntry(_e):fromFileEntry(_e)]})})}function fromDirEntry(_e){var rt=_e.createReader();return new Promise(function(at,lt){var st=[];function ct(){var ut=this;rt.readEntries(function(ft){return __awaiter(ut,void 0,void 0,function(){var dt,pt,ht;return __generator(this,function(gt){switch(gt.label){case 0:if(ft.length)return[3,5];gt.label=1;case 1:return gt.trys.push([1,3,,4]),[4,Promise.all(st)];case 2:return dt=gt.sent(),at(dt),[3,4];case 3:return pt=gt.sent(),lt(pt),[3,4];case 4:return[3,6];case 5:ht=Promise.all(ft.map(fromEntry)),st.push(ht),ct(),gt.label=6;case 6:return[2]}})})},function(ft){lt(ft)})}ct()})}function fromFileEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return[2,new Promise(function(at,lt){_e.file(function(st){var ct=toFileWithPath(st,_e.fullPath);at(ct)},function(st){lt(st)})})]})})}var _default=function(_e,rt){if(_e&&rt){var at=Array.isArray(rt)?rt:rt.split(","),lt=_e.name||"",st=(_e.type||"").toLowerCase(),ct=st.replace(/\/.*$/,"");return at.some(function(ut){var ft=ut.trim().toLowerCase();return ft.charAt(0)==="."?lt.toLowerCase().endsWith(ft):ft.endsWith("/*")?ct===ft.replace(/\/.*$/,""):st===ft})}return!0};function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function ownKeys$1(_e,rt){var at=Object.keys(_e);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(_e);rt&&(lt=lt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread$1(_e){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys$1(Object(at),!0).forEach(function(lt){_defineProperty$1(_e,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(at)):ownKeys$1(Object(at)).forEach(function(lt){Object.defineProperty(_e,lt,Object.getOwnPropertyDescriptor(at,lt))})}return _e}function _defineProperty$1(_e,rt,at){return rt in _e?Object.defineProperty(_e,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):_e[rt]=at,_e}function _slicedToArray$1(_e,rt){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,rt)||_unsupportedIterableToArray$1(_e,rt)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,rt){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,rt);var at=Object.prototype.toString.call(_e).slice(8,-1);if(at==="Object"&&_e.constructor&&(at=_e.constructor.name),at==="Map"||at==="Set")return Array.from(_e);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray$1(_e,rt)}}function _arrayLikeToArray$1(_e,rt){(rt==null||rt>_e.length)&&(rt=_e.length);for(var at=0,lt=new Array(rt);at<rt;at++)lt[at]=_e[at];return lt}function _iterableToArrayLimit$1(_e,rt){var at=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(at!=null){var lt=[],st=!0,ct=!1,ut,ft;try{for(at=at.call(_e);!(st=(ut=at.next()).done)&&(lt.push(ut.value),!(rt&&lt.length===rt));st=!0);}catch(dt){ct=!0,ft=dt}finally{try{!st&&at.return!=null&&at.return()}finally{if(ct)throw ft}}return lt}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function _e(rt){rt=Array.isArray(rt)&&rt.length===1?rt[0]:rt;var at=Array.isArray(rt)?"one of ".concat(rt.join(", ")):rt;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(at)}},getTooLargeRejectionErr=function _e(rt){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(rt," ").concat(rt===1?"byte":"bytes")}},getTooSmallRejectionErr=function _e(rt){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(rt," ").concat(rt===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(_e,rt){var at=_e.type==="application/x-moz-file"||_default(_e,rt);return[at,at?null:getInvalidTypeRejectionErr(rt)]}function fileMatchSize(_e,rt,at){if(isDefined(_e.size))if(isDefined(rt)&&isDefined(at)){if(_e.size>at)return[!1,getTooLargeRejectionErr(at)];if(_e.size<rt)return[!1,getTooSmallRejectionErr(rt)]}else{if(isDefined(rt)&&_e.size<rt)return[!1,getTooSmallRejectionErr(rt)];if(isDefined(at)&&_e.size>at)return[!1,getTooLargeRejectionErr(at)]}return[!0,null]}function isDefined(_e){return _e!=null}function allFilesAccepted(_e){var rt=_e.files,at=_e.accept,lt=_e.minSize,st=_e.maxSize,ct=_e.multiple,ut=_e.maxFiles,ft=_e.validator;return!ct&&rt.length>1||ct&&ut>=1&&rt.length>ut?!1:rt.every(function(dt){var pt=fileAccepted(dt,at),ht=_slicedToArray$1(pt,1),gt=ht[0],mt=fileMatchSize(dt,lt,st),xt=_slicedToArray$1(mt,1),vt=xt[0],yt=ft?ft(dt):null;return gt&&vt&&!yt})}function isPropagationStopped(_e){return typeof _e.isPropagationStopped=="function"?_e.isPropagationStopped():typeof _e.cancelBubble<"u"?_e.cancelBubble:!1}function isEvtWithFiles(_e){return _e.dataTransfer?Array.prototype.some.call(_e.dataTransfer.types,function(rt){return rt==="Files"||rt==="application/x-moz-file"}):!!_e.target&&!!_e.target.files}function onDocumentDragOver(_e){_e.preventDefault()}function isIe(_e){return _e.indexOf("MSIE")!==-1||_e.indexOf("Trident/")!==-1}function isEdge(_e){return _e.indexOf("Edge/")!==-1}function isIeOrEdge(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(_e)||isEdge(_e)}function composeEventHandlers(){for(var _e=arguments.length,rt=new Array(_e),at=0;at<_e;at++)rt[at]=arguments[at];return function(lt){for(var st=arguments.length,ct=new Array(st>1?st-1:0),ut=1;ut<st;ut++)ct[ut-1]=arguments[ut];return rt.some(function(ft){return!isPropagationStopped(lt)&&ft&&ft.apply(void 0,[lt].concat(ct)),isPropagationStopped(lt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(_e){if(isDefined(_e)){var rt=Object.entries(_e).filter(function(at){var lt=_slicedToArray$1(at,2),st=lt[0],ct=lt[1],ut=!0;return isMIMEType(st)||(console.warn('Skipped "'.concat(st,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ut=!1),(!Array.isArray(ct)||!ct.every(isExt))&&(console.warn('Skipped "'.concat(st,'" because an invalid file extension was provided.')),ut=!1),ut}).reduce(function(at,lt){var st=_slicedToArray$1(lt,2),ct=st[0],ut=st[1];return _objectSpread$1(_objectSpread$1({},at),{},_defineProperty$1({},ct,ut))},{});return[{description:"Files",accept:rt}]}return _e}function acceptPropAsAcceptAttr(_e){if(isDefined(_e))return Object.entries(_e).reduce(function(rt,at){var lt=_slicedToArray$1(at,2),st=lt[0],ct=lt[1];return[].concat(_toConsumableArray$1(rt),[st],_toConsumableArray$1(ct))},[]).filter(function(rt){return isMIMEType(rt)||isExt(rt)}).join(",")}function isAbort(_e){return _e instanceof DOMException&&(_e.name==="AbortError"||_e.code===_e.ABORT_ERR)}function isSecurityError(_e){return _e instanceof DOMException&&(_e.name==="SecurityError"||_e.code===_e.SECURITY_ERR)}function isMIMEType(_e){return _e==="audio/*"||_e==="video/*"||_e==="image/*"||_e==="text/*"||/\w+\/[-+.\w]+/g.test(_e)}function isExt(_e){return/^.*\.[\w]+$/.test(_e)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _slicedToArray(_e,rt){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,rt)||_unsupportedIterableToArray(_e,rt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,rt){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,rt);var at=Object.prototype.toString.call(_e).slice(8,-1);if(at==="Object"&&_e.constructor&&(at=_e.constructor.name),at==="Map"||at==="Set")return Array.from(_e);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray(_e,rt)}}function _arrayLikeToArray(_e,rt){(rt==null||rt>_e.length)&&(rt=_e.length);for(var at=0,lt=new Array(rt);at<rt;at++)lt[at]=_e[at];return lt}function _iterableToArrayLimit(_e,rt){var at=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(at!=null){var lt=[],st=!0,ct=!1,ut,ft;try{for(at=at.call(_e);!(st=(ut=at.next()).done)&&(lt.push(ut.value),!(rt&&lt.length===rt));st=!0);}catch(dt){ct=!0,ft=dt}finally{try{!st&&at.return!=null&&at.return()}finally{if(ct)throw ft}}return lt}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function ownKeys(_e,rt){var at=Object.keys(_e);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(_e);rt&&(lt=lt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread(_e){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys(Object(at),!0).forEach(function(lt){_defineProperty(_e,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(at)):ownKeys(Object(at)).forEach(function(lt){Object.defineProperty(_e,lt,Object.getOwnPropertyDescriptor(at,lt))})}return _e}function _defineProperty(_e,rt,at){return rt in _e?Object.defineProperty(_e,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):_e[rt]=at,_e}function _objectWithoutProperties(_e,rt){if(_e==null)return{};var at=_objectWithoutPropertiesLoose(_e,rt),lt,st;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(_e);for(st=0;st<ct.length;st++)lt=ct[st],!(rt.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,lt)&&(at[lt]=_e[lt])}return at}function _objectWithoutPropertiesLoose(_e,rt){if(_e==null)return{};var at={},lt=Object.keys(_e),st,ct;for(ct=0;ct<lt.length;ct++)st=lt[ct],!(rt.indexOf(st)>=0)&&(at[st]=_e[st]);return at}var Dropzone=reactExports.forwardRef(function(_e,rt){var at=_e.children,lt=_objectWithoutProperties(_e,_excluded),st=useDropzone(lt),ct=st.open,ut=_objectWithoutProperties(st,_excluded2);return reactExports.useImperativeHandle(rt,function(){return{open:ct}},[ct]),React$8.createElement(reactExports.Fragment,null,at(_objectSpread(_objectSpread({},ut),{},{open:ct})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=_objectSpread(_objectSpread({},defaultProps),_e),at=rt.accept,lt=rt.disabled,st=rt.getFilesFromEvent,ct=rt.maxSize,ut=rt.minSize,ft=rt.multiple,dt=rt.maxFiles,pt=rt.onDragEnter,ht=rt.onDragLeave,gt=rt.onDragOver,mt=rt.onDrop,xt=rt.onDropAccepted,vt=rt.onDropRejected,yt=rt.onFileDialogCancel,_t=rt.onFileDialogOpen,$t=rt.useFsAccessApi,Et=rt.autoFocus,wt=rt.preventDropOnDocument,bt=rt.noClick,St=rt.noKeyboard,Tt=rt.noDrag,Rt=rt.noDragEventsBubbling,kt=rt.onError,At=rt.validator,Ct=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(at)},[at]),Mt=reactExports.useMemo(function(){return pickerOptionsFromAccept(at)},[at]),Ot=reactExports.useMemo(function(){return typeof _t=="function"?_t:noop},[_t]),Pt=reactExports.useMemo(function(){return typeof yt=="function"?yt:noop},[yt]),It=reactExports.useRef(null),Ft=reactExports.useRef(null),Wt=reactExports.useReducer(reducer,initialState$1),Xt=_slicedToArray(Wt,2),Lt=Xt[0],Bt=Xt[1],Ut=Lt.isFocused,dn=Lt.isFileDialogActive,Zt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&$t&&canUseFileSystemAccessAPI()),cn=function(){!Zt.current&&dn&&setTimeout(function(){if(Ft.current){var sn=Ft.current.files;sn.length||(Bt({type:"closeDialog"}),Pt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",cn,!1),function(){window.removeEventListener("focus",cn,!1)}},[Ft,dn,Pt,Zt]);var Gt=reactExports.useRef([]),Yt=function(sn){It.current&&It.current.contains(sn.target)||(sn.preventDefault(),Gt.current=[])};reactExports.useEffect(function(){return wt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Yt,!1)),function(){wt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Yt))}},[It,wt]),reactExports.useEffect(function(){return!lt&&Et&&It.current&&It.current.focus(),function(){}},[It,Et,lt]);var pn=reactExports.useCallback(function(Kt){kt?kt(Kt):console.error(Kt)},[kt]),$n=reactExports.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Vt(Kt),Gt.current=[].concat(_toConsumableArray(Gt.current),[Kt.target]),isEvtWithFiles(Kt)&&Promise.resolve(st(Kt)).then(function(sn){if(!(isPropagationStopped(Kt)&&!Rt)){var ln=sn.length,gn=ln>0&&allFilesAccepted({files:sn,accept:Ct,minSize:ut,maxSize:ct,multiple:ft,maxFiles:dt,validator:At}),_n=ln>0&&!gn;Bt({isDragAccept:gn,isDragReject:_n,isDragActive:!0,type:"setDraggedFiles"}),pt&&pt(Kt)}}).catch(function(sn){return pn(sn)})},[st,pt,pn,Rt,Ct,ut,ct,ft,dt,At]),Sn=reactExports.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Vt(Kt);var sn=isEvtWithFiles(Kt);if(sn&&Kt.dataTransfer)try{Kt.dataTransfer.dropEffect="copy"}catch{}return sn&&gt&&gt(Kt),!1},[gt,Rt]),Qt=reactExports.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Vt(Kt);var sn=Gt.current.filter(function(gn){return It.current&&It.current.contains(gn)}),ln=sn.indexOf(Kt.target);ln!==-1&&sn.splice(ln,1),Gt.current=sn,!(sn.length>0)&&(Bt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Kt)&&ht&&ht(Kt))},[It,ht,Rt]),vn=reactExports.useCallback(function(Kt,sn){var ln=[],gn=[];Kt.forEach(function(_n){var bn=fileAccepted(_n,Ct),Tn=_slicedToArray(bn,2),Rn=Tn[0],Cn=Tn[1],kn=fileMatchSize(_n,ut,ct),Mn=_slicedToArray(kn,2),An=Mn[0],Pn=Mn[1],On=At?At(_n):null;if(Rn&&An&&!On)ln.push(_n);else{var Nn=[Cn,Pn];On&&(Nn=Nn.concat(On)),gn.push({file:_n,errors:Nn.filter(function(Ln){return Ln})})}}),(!ft&&ln.length>1||ft&&dt>=1&&ln.length>dt)&&(ln.forEach(function(_n){gn.push({file:_n,errors:[TOO_MANY_FILES_REJECTION]})}),ln.splice(0)),Bt({acceptedFiles:ln,fileRejections:gn,type:"setFiles"}),mt&&mt(ln,gn,sn),gn.length>0&&vt&&vt(gn,sn),ln.length>0&&xt&&xt(ln,sn)},[Bt,ft,Ct,ut,ct,dt,mt,xt,vt,At]),wn=reactExports.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Vt(Kt),Gt.current=[],isEvtWithFiles(Kt)&&Promise.resolve(st(Kt)).then(function(sn){isPropagationStopped(Kt)&&!Rt||vn(sn,Kt)}).catch(function(sn){return pn(sn)}),Bt({type:"reset"})},[st,vn,pn,Rt]),qt=reactExports.useCallback(function(){if(Zt.current){Bt({type:"openDialog"}),Ot();var Kt={multiple:ft,types:Mt};window.showOpenFilePicker(Kt).then(function(sn){return st(sn)}).then(function(sn){vn(sn,null),Bt({type:"closeDialog"})}).catch(function(sn){isAbort(sn)?(Pt(sn),Bt({type:"closeDialog"})):isSecurityError(sn)?(Zt.current=!1,Ft.current?(Ft.current.value=null,Ft.current.click()):pn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):pn(sn)});return}Ft.current&&(Bt({type:"openDialog"}),Ot(),Ft.current.value=null,Ft.current.click())},[Bt,Ot,Pt,$t,vn,pn,Mt,ft]),En=reactExports.useCallback(function(Kt){!It.current||!It.current.isEqualNode(Kt.target)||(Kt.key===" "||Kt.key==="Enter"||Kt.keyCode===32||Kt.keyCode===13)&&(Kt.preventDefault(),qt())},[It,qt]),xn=reactExports.useCallback(function(){Bt({type:"focus"})},[]),hn=reactExports.useCallback(function(){Bt({type:"blur"})},[]),jt=reactExports.useCallback(function(){bt||(isIeOrEdge()?setTimeout(qt,0):qt())},[bt,qt]),Dt=function(sn){return lt?null:sn},zt=function(sn){return St?null:Dt(sn)},Nt=function(sn){return Tt?null:Dt(sn)},Vt=function(sn){Rt&&sn.stopPropagation()},Jt=reactExports.useMemo(function(){return function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Kt.refKey,ln=sn===void 0?"ref":sn,gn=Kt.role,_n=Kt.onKeyDown,bn=Kt.onFocus,Tn=Kt.onBlur,Rn=Kt.onClick,Cn=Kt.onDragEnter,kn=Kt.onDragOver,Mn=Kt.onDragLeave,An=Kt.onDrop,Pn=_objectWithoutProperties(Kt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:zt(composeEventHandlers(_n,En)),onFocus:zt(composeEventHandlers(bn,xn)),onBlur:zt(composeEventHandlers(Tn,hn)),onClick:Dt(composeEventHandlers(Rn,jt)),onDragEnter:Nt(composeEventHandlers(Cn,$n)),onDragOver:Nt(composeEventHandlers(kn,Sn)),onDragLeave:Nt(composeEventHandlers(Mn,Qt)),onDrop:Nt(composeEventHandlers(An,wn)),role:typeof gn=="string"&&gn!==""?gn:"presentation"},ln,It),!lt&&!St?{tabIndex:0}:{}),Pn)}},[It,En,xn,hn,jt,$n,Sn,Qt,wn,St,Tt,lt]),mn=reactExports.useCallback(function(Kt){Kt.stopPropagation()},[]),yn=reactExports.useMemo(function(){return function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Kt.refKey,ln=sn===void 0?"ref":sn,gn=Kt.onChange,_n=Kt.onClick,bn=_objectWithoutProperties(Kt,_excluded4),Tn=_defineProperty({accept:Ct,multiple:ft,type:"file",style:{display:"none"},onChange:Dt(composeEventHandlers(gn,wn)),onClick:Dt(composeEventHandlers(_n,mn)),tabIndex:-1},ln,Ft);return _objectSpread(_objectSpread({},Tn),bn)}},[Ft,at,ft,wn,lt]);return _objectSpread(_objectSpread({},Lt),{},{isFocused:Ut&&!lt,getRootProps:Jt,getInputProps:yn,rootRef:It,inputRef:Ft,open:Dt(qt)})}function reducer(_e,rt){switch(rt.type){case"focus":return _objectSpread(_objectSpread({},_e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},_e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},_e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},_e),{},{isDragActive:rt.isDragActive,isDragAccept:rt.isDragAccept,isDragReject:rt.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},_e),{},{acceptedFiles:rt.acceptedFiles,fileRejections:rt.fileRejections});case"reset":return _objectSpread({},initialState$1);default:return _e}}function noop(){}const listFormatter=new Intl.ListFormat("en",{style:"short",type:"disjunction"});reactExports.forwardRef(function _e(rt,at){const{message:lt,header:st,accept:ct,...ut}=rt,{finalAccept:ft,list:dt}=getAcceptedFiles(ct||{}),{getRootProps:pt,getInputProps:ht,isDragActive:gt}=useDropzone({...ut,accept:ft}),{ref:mt,style:xt,...vt}=ht();return reactExports.useImperativeHandle(at,()=>mt.current),jsxs("div",{...pt(),className:clsx("rounded-md border-2 border-dashed focus-within:border-transparent focus-within:ring focus-within:ring-primary-500 focus:border-transparent focus:outline-none focus:ring focus:ring-primary-500",{"border-primary-500":gt,"border-neutral-300":!gt}),children:[jsx("input",{...vt,className:"sr-only",ref:mt}),jsx("div",{className:"mt-2 sm:col-span-2 sm:mt-0",children:jsx("div",{className:clsx("flex justify-center px-6 pt-5 pb-6",rt.disabled?"cursor-default":"cursor-pointer"),children:jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-center",children:[st!==void 0?st:jsx(ArrowUpOnSquareIcon,{className:"mx-auto h-12 w-12 text-neutral-300"}),jsx("div",{className:"mt-1 flex w-full flex-1 justify-center text-sm text-neutral-600",children:lt??jsxs("p",{children:[jsx("span",{className:"font-semibold text-primary-600 hover:text-primary-500",children:"Upload a file"})," or drag and drop"]})}),jsx("div",{className:"mt-1 text-xs",children:jsxs("div",{className:"text-neutral-500",children:[ct?dt:null,ct&&rt.maxSize?" ":null,rt.maxSize?`(up to ${String(byteSize(rt.maxSize))})`:null]})})]})})})]})});function getAcceptedFiles(_e){const rt=typeof _e=="string"?convertAccept(_e.split(",")):Array.isArray(_e)?convertAccept(_e):_e,at=[];for(const lt of Object.keys(rt))rt[lt].length===0?at.push(lt):at.push(...rt[lt]);return{finalAccept:rt,list:listFormatter.format(at)}}function convertAccept(_e){_e=_e.map(at=>at.trim());const rt={};for(const at of _e){if(!at.startsWith("."))throw new Error(`Invalid extension passed to the \`accept\` prop (${at}). It must start with a dot.`);if(at.includes("/"))throw new Error("It is no longer supported to pass an array of mime types to the `accept` prop of the `Dropzone` component. Please use the object form or an array of extensions instead.");{const lt=at.toLowerCase();let st=mime.getType(lt);st===null&&(shouldWarn(lt)&&console.warn(`An unknown extension (${lt}) was passed to the accept prop of the Dropzone component. The type "application/octet-stream" will be used as a fallback. You can add it the mime database using "mime.define({'mime/type': ['${at}']})".`),st="application/octet-stream"),rt[st]?rt[st].push(lt):rt[st]=[lt]}}return rt}const warned=new Set;function shouldWarn(_e){return warned.has(_e)?!1:(warned.add(_e),!0)}forwardRefWithGeneric(MultiSearchSelectForwardRef);function MultiSearchSelectForwardRef(_e,rt){const{onSearchChange:at,options:lt,onSelect:st,getBadgeColor:ct=defaultGetBadgeColor,isOptionRemovable:ut=defaultIsOptionRemovable,selected:ft,getValue:dt=defaultGetValue,renderOption:pt=defaultRenderOption,renderSelectedOption:ht,closeListOnSelect:gt=!1,clearSearchOnSelect:mt=!0,onCreate:xt,canCreate:vt=defaultCanCreate,renderCreate:yt=defaultRenderCreate,clearable:_t=!0,disabled:$t=!1,...Et}=_e,wt=ht||pt,bt=reactExports.useMemo(()=>ft.filter(At=>!ut(At)),[ft,ut]),St=reactExports.useMemo(()=>ft.map(At=>{const Ct=dt(At),Mt=wt(At);function Ot(Pt){Pt.preventDefault(),st(ft.filter(It=>dt(It)!==Ct))}return jsx(Badge,{variant:BadgeVariant.COLORED_BACKGROUND,label:Mt,color:ct(At),rounded:!0,onDismiss:$t||!ut(At)?void 0:Ot},Ct)}),[ft,dt,wt,st,ct,$t,ut]),Tt=reactExports.useCallback(At=>{st(At===void 0?bt:[...ft,At])},[ft,st,bt]),Rt=reactExports.useCallback(()=>{ft.length>0&&ut(ft[ft.length-1])&&st(ft.slice(0,-1))},[ut,st,ft]),kt=useSearchSelectInternals({showSelected:!1,searchValue:_e.searchValue,onSearchChange:at,options:lt,onSelect:Tt,getValue:dt,renderOption:pt,closeListOnSelect:gt,clearSearchOnSelect:mt,onCreate:xt,canCreate:vt,renderCreate:yt,isOptionRemovable:ut,onBackspace:Rt,selected:ft,pinSelectedOptions:!1});return jsx(InternalMultiSearchSelect,{...kt,...Et,inputRef:rt,clearable:_t,disabled:$t,hasClearableValue:ft.length!==bt.length,selectedBadges:St})}reactExports.forwardRef(function _e(rt,at){const{name:lt,value:st,id:ct=`${lt}-${st}`,label:ut,help:ft,className:dt,...pt}=rt;return jsxs("div",{className:clsx("flex items-start",dt),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{...pt,ref:at,id:ct,name:lt,value:st,type:"radio",className:"form-radio h-4 w-4 border-neutral-300 text-primary-600 focus:ring-primary-500 disabled:text-neutral-300"})}),jsxs("div",{className:"ml-3 text-sm",children:[jsx("label",{htmlFor:ct,className:clsx("block font-semibold",rt.disabled?labelDisabledColor:labelColor),children:ut}),jsx(Help,{help:ft,noMargin:!0})]})]})});var c$2=reactExports;c$2.createContext(null);var Lexical_prod={};let ca$1={},da={},ea={},fa={},ja={},ka={},la={},na={},qa={},ra={},sa={},ta={},ua={},wa={},xa={},ya={},za={},Aa={},Ba={},Ca={},Da={},Ga={},Ha={},Ia={},Ja={},Ka={},La={},Ma={},Na={},Oa={},Pa={},Qa={},Ra={},Sa={},Ta={};function q$4(_e){throw Error(`Minified Lexical error #${_e}; visit https://lexical.dev/docs/error?code=${_e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Ua=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Va=Ua&&"documentMode"in document?document.documentMode:null,t$2=Ua&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Wa=Ua&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Xa=Ua&&"InputEvent"in window&&!Va?"getTargetRanges"in new window.InputEvent("input"):!1,Ya=Ua&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Za=Ua&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$a=Ua&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ab=Ua&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!$a,bb=Ya||Za||ab?" ":"​",cb=Wa?" ":bb,db=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,eb=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,fb={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},gb={directionless:1,unmergeable:2},kb={center:2,end:6,justify:4,left:1,right:3,start:5},lb={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},mb={normal:0,segmented:2,token:1},nb={0:"normal",2:"segmented",1:"token"},ob=!1,pb=0;function qb(_e){pb=_e.timeStamp}function rb(_e,rt,at){return rt.__lexicalLineBreak===_e||_e[`__lexicalKey_${at._key}`]!==void 0}function sb(_e){return _e.getEditorState().read(()=>{let rt=v$1();return rt!==null?rt.clone():null})}function tb(_e,rt,at){ob=!0;let lt=100<performance.now()-pb;try{w$3(_e,()=>{let st=v$1()||sb(_e);var ct=new Map,ut=_e.getRootElement(),ft=_e._editorState,dt=_e._blockCursorElement;let pt=!1,ht="";for(var gt=0;gt<rt.length;gt++){var mt=rt[gt],xt=mt.type,vt=mt.target,yt=ub(vt,ft);if(!(yt===null&&vt!==ut||z$4(yt))){if(xt==="characterData"){if(mt=lt&&B$4(yt))e:{mt=st,xt=vt;var _t=yt;if(C$2(mt)){var $t=mt.anchor.getNode();if($t.is(_t)&&mt.format!==$t.getFormat()){mt=!1;break e}}mt=xt.nodeType===3&&_t.isAttached()}mt&&(_t=E$4(_e._window),xt=mt=null,_t!==null&&_t.anchorNode===vt&&(mt=_t.anchorOffset,xt=_t.focusOffset),vt=vt.nodeValue,vt!==null&&vb(yt,vt,mt,xt,!1))}else if(xt==="childList"){for(pt=!0,xt=mt.addedNodes,_t=0;_t<xt.length;_t++){$t=xt[_t];var Et=wb($t),wt=$t.parentNode;wt==null||$t===dt||Et!==null||$t.nodeName==="BR"&&rb($t,wt,_e)||(Wa&&(Et=$t.innerText||$t.nodeValue)&&(ht+=Et),wt.removeChild($t))}if(mt=mt.removedNodes,xt=mt.length,0<xt){for(_t=0,$t=0;$t<xt;$t++)wt=mt[$t],(wt.nodeName==="BR"&&rb(wt,vt,_e)||dt===wt)&&(vt.appendChild(wt),_t++);xt!==_t&&(vt===ut&&(yt=ft._nodeMap.get("root")),ct.set(vt,yt))}}}}if(0<ct.size)for(let[bt,St]of ct)if(F$4(St))for(ct=St.getChildrenKeys(),ut=bt.firstChild,ft=0;ft<ct.length;ft++)dt=_e.getElementByKey(ct[ft]),dt!==null&&(ut==null?(bt.appendChild(dt),ut=dt):ut!==dt&&bt.replaceChild(dt,ut),ut=ut.nextSibling);else B$4(St)&&St.markDirty();if(ct=at.takeRecords(),0<ct.length){for(ut=0;ut<ct.length;ut++)for(dt=ct[ut],ft=dt.addedNodes,dt=dt.target,gt=0;gt<ft.length;gt++)yt=ft[gt],vt=yt.parentNode,vt==null||yt.nodeName!=="BR"||rb(yt,dt,_e)||vt.removeChild(yt);at.takeRecords()}st!==null&&(pt&&(st.dirty=!0,xb(st)),Wa&&yb(_e)&&st.insertRawText(ht))})}finally{ob=!1}}function zb(_e){let rt=_e._observer;if(rt!==null){let at=rt.takeRecords();tb(_e,at,rt)}}function Ab(_e){pb===0&&Bb(_e).addEventListener("textInput",qb,!0),_e._observer=new MutationObserver((rt,at)=>{tb(_e,rt,at)})}let Cb=1,Db=typeof queueMicrotask=="function"?queueMicrotask:_e=>{Promise.resolve().then(_e)};function Eb(_e){let rt=document.activeElement;if(rt===null)return!1;let at=rt.nodeName;return z$4(ub(_e))&&(at==="INPUT"||at==="TEXTAREA"||rt.contentEditable==="true"&&rt.__lexicalEditor==null)}function Fb(_e,rt,at){let lt=_e.getRootElement();try{return lt!==null&&lt.contains(rt)&&lt.contains(at)&&rt!==null&&!Eb(rt)&&Gb(rt)===_e}catch{return!1}}function Gb(_e){for(;_e!=null;){let rt=_e.__lexicalEditor;if(rt!=null)return rt;_e=Hb(_e)}return null}function Ib(_e){return _e.isToken()||_e.isSegmented()}function Pb(_e){for(;_e!=null;){if(_e.nodeType===3)return _e;_e=_e.firstChild}return null}function Qb(_e,rt,at){return rt=fb[rt],_e&rt&&(at===null||!(at&rt))?_e^rt:at===null||at&rt?_e|rt:_e}function Rb(_e){return B$4(_e)||Sb(_e)||z$4(_e)}function Tb(_e,rt){if(rt!=null)_e.__key=rt;else{G$2(),99<Ub&&q$4(14),rt=H$1();var at=Vb(),lt=""+Cb++;at._nodeMap.set(lt,_e),F$4(_e)?rt._dirtyElements.set(lt,!0):rt._dirtyLeaves.add(lt),rt._cloneNotNeeded.add(lt),rt._dirtyType=1,_e.__key=lt}}function Wb(_e){var rt=_e.getParent();if(rt!==null){let st=_e.getWritable();rt=rt.getWritable();var at=_e.getPreviousSibling();if(_e=_e.getNextSibling(),at===null)if(_e!==null){var lt=_e.getWritable();rt.__first=_e.__key,lt.__prev=null}else rt.__first=null;else{if(lt=at.getWritable(),_e!==null){let ct=_e.getWritable();ct.__prev=lt.__key,lt.__next=ct.__key}else lt.__next=null;st.__prev=null}_e===null?at!==null?(_e=at.getWritable(),rt.__last=at.__key,_e.__next=null):rt.__last=null:(_e=_e.getWritable(),at!==null?(at=at.getWritable(),at.__next=_e.__key,_e.__prev=at.__key):_e.__prev=null,st.__next=null),rt.__size--,st.__parent=null}}function Xb(_e){99<Ub&&q$4(14);var rt=_e.getLatest(),at=rt.__parent,lt=Vb();let st=H$1(),ct=lt._nodeMap;if(lt=st._dirtyElements,at!==null)e:for(;at!==null;){if(lt.has(at))break e;let ut=ct.get(at);if(ut===void 0)break;lt.set(at,!1),at=ut.__parent}rt=rt.__key,st._dirtyType=1,F$4(_e)?lt.set(rt,!0):st._dirtyLeaves.add(rt)}function I$1(_e){G$2();var rt=H$1();let at=rt._compositionKey;_e!==at&&(rt._compositionKey=_e,at!==null&&(rt=J$1(at),rt!==null&&rt.getWritable()),_e!==null&&(_e=J$1(_e),_e!==null&&_e.getWritable()))}function Yb(){return Zb()?null:H$1()._compositionKey}function J$1(_e,rt){return _e=(rt||Vb())._nodeMap.get(_e),_e===void 0?null:_e}function wb(_e,rt){let at=H$1();return _e=_e[`__lexicalKey_${at._key}`],_e!==void 0?J$1(_e,rt):null}function ub(_e,rt){for(;_e!=null;){let at=wb(_e,rt);if(at!==null)return at;_e=Hb(_e)}return null}function $b(_e){let rt=Object.assign({},_e._decorators);return _e._pendingDecorators=rt}function ac(_e){return _e.read(()=>bc().getTextContent())}function cc(_e,rt){w$3(_e,()=>{var at=Vb();if(!at.isEmpty())if(rt==="root")bc().markDirty();else{at=at._nodeMap;for(let[,lt]of at)lt.markDirty()}},_e._pendingEditorState===null?{tag:"history-merge"}:void 0)}function bc(){return Vb()._nodeMap.get("root")}function xb(_e){G$2();let rt=Vb();_e!==null&&(_e.dirty=!0,_e._cachedNodes=null),rt._selection=_e}function dc(_e){var rt=H$1(),at;e:{for(at=_e;at!=null;){let lt=at[`__lexicalKey_${rt._key}`];if(lt!==void 0){at=lt;break e}at=Hb(at)}at=null}return at===null?(rt=rt.getRootElement(),_e===rt?J$1("root"):null):J$1(at)}function ec(_e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(_e)}function fc(_e){let rt=[];for(;_e!==null;)rt.push(_e),_e=_e._parentEditor;return rt}function gc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function hc(_e,rt,at){if(rt=E$4(rt._window),rt!==null){var lt=rt.anchorNode,{anchorOffset:st,focusOffset:ct}=rt;if(lt!==null&&(rt=lt.nodeType===3?lt.nodeValue:null,lt=ub(lt),rt!==null&&B$4(lt))){if(lt.canContainTabs()){var ut=rt.includes("	");if(at&&0<at.length&&ut){ut=at.length;let ft=st+ut-1,dt=rt.slice(0,ft);rt=rt.slice(ft,rt.length),rt=`${dt}${at}${rt}`,st+=ut,ct+=ut}}rt===bb&&at&&(ut=at.length,rt=at,ct=st=ut),rt!==null&&vb(lt,rt,st,ct,_e)}}}function vb(_e,rt,at,lt,st){let ct=_e;if(ct.isAttached()&&(st||!ct.isDirty())){var ut=ct.isComposing();if(_e=rt,(ut||st)&&rt[rt.length-1]===bb&&(_e=rt.slice(0,-1)),rt=ct.getTextContent(),st||_e!==rt)if(_e==="")if(I$1(null),Ya||Za||ab)ct.remove();else{let pt=H$1();setTimeout(()=>{pt.update(()=>{ct.isAttached()&&ct.remove()})},20)}else{st=ct.getParent(),rt=ic();var ft=Yb(),dt=ct.getKey();ct.isToken()||ft!==null&&dt===ft&&!ut||st!==null&&C$2(rt)&&!st.canInsertTextBefore()&&rt.anchor.offset===0?ct.markDirty():(ut=v$1(),C$2(ut)&&at!==null&&lt!==null&&(ut.setTextNodeRange(ct,at,ct,lt),ct.isSegmented()&&(at=ct.getTextContent(),at=K$1(at),ct.replace(at),ct=at)),ct.setTextContent(_e))}}}function jc(_e,rt){if(rt.isSegmented())return!0;if(!_e.isCollapsed())return!1;_e=_e.anchor.offset;let at=rt.getParentOrThrow(),lt=rt.isToken();return _e===0?((_e=!rt.canInsertTextBefore()||!at.canInsertTextBefore()||lt)||(rt=rt.getPreviousSibling(),_e=(B$4(rt)||F$4(rt)&&rt.isInline())&&!rt.canInsertTextAfter()),_e):_e===rt.getTextContentSize()?!rt.canInsertTextAfter()||!at.canInsertTextAfter()||lt:!1}function kc(_e,rt){var at=_e[rt];return typeof at=="string"?(at=at.split(" "),_e[rt]=at):at}function lc(_e,rt,at,lt,st){at.size!==0&&(at=lt.__key,rt=rt.get(lt.__type),rt===void 0&&q$4(33),lt=rt.klass,rt=_e.get(lt),rt===void 0&&(rt=new Map,_e.set(lt,rt)),_e=rt.get(at),lt=_e==="destroyed"&&st==="created",(_e===void 0||lt)&&rt.set(at,lt?"updated":st))}function mc(_e,rt,at){let lt=_e.getParent(),st=at;return lt!==null&&(rt&&at===0?(st=_e.getIndexWithinParent(),_e=lt):rt||at!==_e.getChildrenSize()||(st=_e.getIndexWithinParent()+1,_e=lt)),_e.getChildAtIndex(rt?st-1:st)}function nc(_e,rt){var at=_e.offset;return _e.type==="element"?(_e=_e.getNode(),mc(_e,rt,at)):(_e=_e.getNode(),rt&&at===0||!rt&&at===_e.getTextContentSize()?(at=rt?_e.getPreviousSibling():_e.getNextSibling(),at===null?mc(_e.getParentOrThrow(),rt,_e.getIndexWithinParent()+(rt?0:1)):at):null)}function yb(_e){return _e=(_e=Bb(_e).event)&&_e.inputType,_e==="insertFromPaste"||_e==="insertFromPasteAsQuotation"}function oc(_e){return!L$1(_e)&&!_e.isLastChild()&&!_e.isInline()}function pc(_e,rt){return _e=_e._keyToDOMMap.get(rt),_e===void 0&&q$4(75),_e}function Hb(_e){return _e=_e.assignedSlot||_e.parentElement,_e!==null&&_e.nodeType===11?_e.host:_e}function qc(_e,rt=0){if(rt!==0&&q$4(1),rt=v$1(),!C$2(rt)||!F$4(_e))return rt;let{anchor:at,focus:lt}=rt,st=at.getNode(),ct=lt.getNode();return rc(st,_e)&&at.set(_e.__key,0,"element"),rc(ct,_e)&&lt.set(_e.__key,0,"element"),rt}function rc(_e,rt){for(_e=_e.getParent();_e!==null;){if(_e.is(rt))return!0;_e=_e.getParent()}return!1}function Bb(_e){return _e=_e._window,_e===null&&q$4(78),_e}function sc(_e){for(_e=_e.getParentOrThrow();_e!==null&&!M(_e);)_e=_e.getParentOrThrow();return _e}function M(_e){return L$1(_e)||F$4(_e)&&_e.isShadowRoot()}function tc(_e){return _e=_e.constructor.clone(_e),Tb(_e,null),_e}function uc(_e){var rt=H$1();let at=_e.constructor.getType();return rt=rt._nodes.get(at),rt===void 0&&q$4(97),rt=rt.replace,rt!==null?(rt=rt(_e),rt instanceof _e.constructor||q$4(98),rt):_e}function vc(_e,rt){_e=_e.getParent(),!L$1(_e)||F$4(rt)||z$4(rt)||q$4(99)}function wc(_e){return(z$4(_e)||F$4(_e)&&!_e.canBeEmpty())&&!_e.isInline()}function xc(_e,rt,at){at.style.removeProperty("caret-color"),rt._blockCursorElement=null,rt=_e.parentElement,rt!==null&&rt.removeChild(_e)}function E$4(_e){return Ua?(_e||window).getSelection():null}function yc(_e,rt){let at=_e.getChildAtIndex(rt);at==null&&(at=_e),M(_e)&&q$4(102);let lt=ut=>{const ft=ut.getParentOrThrow(),dt=M(ft),pt=ut!==at||dt?tc(ut):ut;if(dt)return ut.insertAfter(pt),[ut,pt,pt];const[ht,gt,mt]=lt(ft);return ut=ut.getNextSiblings(),mt.append(pt,...ut),[ht,gt,pt]},[st,ct]=lt(at);return[st,ct]}function zc(_e,rt){for(;_e!==bc()&&_e!=null;){if(rt(_e))return _e;_e=_e.getParent()}return null}function Ac(_e){let rt=[],at=[_e];for(;0<at.length;){let lt=at.pop();lt===void 0&&q$4(112),F$4(lt)&&at.unshift(...lt.getChildren()),lt!==_e&&rt.push(lt)}return rt}function Bc(_e,rt,at,lt,st){for(_e=_e.getFirstChild();_e!==null;){let ct=_e.__key;_e!==void 0&&_e.__parent===rt&&(F$4(_e)&&Bc(_e,ct,at,lt,st),at.has(ct)||st.delete(ct),lt.delete(ct)),_e=_e.isAttached()?_e.getNextSibling():null}}function Cc(_e,rt,at,lt){_e=_e._nodeMap,rt=rt._nodeMap;for(let st of at){let ct=rt.get(st);ct===void 0||ct.isAttached()||(_e.has(st)||at.delete(st),rt.delete(st))}for(let[st]of lt)at=rt.get(st),at===void 0||at.isAttached()||(F$4(at)&&Bc(at,st,_e,rt,lt),_e.has(st)||lt.delete(st),rt.delete(st))}function Dc(_e,rt){let at=_e.__mode,lt=_e.__format;_e=_e.__style;let st=rt.__mode,ct=rt.__format;return rt=rt.__style,(at===null||at===st)&&(lt===null||lt===ct)&&(_e===null||_e===rt)}function Ec(_e,rt){let at=_e.mergeWithSibling(rt),lt=H$1()._normalizedNodes;return lt.add(_e.__key),lt.add(rt.__key),at}function Fc(_e){if(_e.__text===""&&_e.isSimpleText()&&!_e.isUnmergeable())_e.remove();else{for(var rt;(rt=_e.getPreviousSibling())!==null&&B$4(rt)&&rt.isSimpleText()&&!rt.isUnmergeable();)if(rt.__text==="")rt.remove();else{Dc(rt,_e)&&(_e=Ec(rt,_e));break}for(var at;(at=_e.getNextSibling())!==null&&B$4(at)&&at.isSimpleText()&&!at.isUnmergeable();)if(at.__text==="")at.remove();else{Dc(_e,at)&&Ec(_e,at);break}}}function Gc(_e){return Hc(_e.anchor),Hc(_e.focus),_e}function Hc(_e){for(;_e.type==="element";){var rt=_e.getNode(),at=_e.offset;if(at===rt.getChildrenSize()?(rt=rt.getChildAtIndex(at-1),at=!0):(rt=rt.getChildAtIndex(at),at=!1),B$4(rt)){_e.set(rt.__key,at?rt.getTextContentSize():0,"text");break}else if(!F$4(rt))break;_e.set(rt.__key,at?rt.getChildrenSize():0,"element")}}let N$1="",O$1="",Ic="",Rc,R,Sc,Tc=!1,Uc=!1,Vc,Wc=null,Xc,Yc,Zc,$c,ad,bd;function cd(_e,rt){let at=Zc.get(_e);if(rt!==null){let lt=dd(_e);lt.parentNode===rt&&rt.removeChild(lt)}$c.has(_e)||R._keyToDOMMap.delete(_e),F$4(at)&&(_e=ed(at,Zc),fd(_e,0,_e.length-1,null)),at!==void 0&&lc(bd,Sc,Vc,at,"destroyed")}function fd(_e,rt,at,lt){for(;rt<=at;++rt){let st=_e[rt];st!==void 0&&cd(st,lt)}}function gd(_e,rt){_e.setProperty("text-align",rt)}function hd(_e,rt){var at=Rc.theme.indent;if(typeof at=="string"){let lt=_e.classList.contains(at);0<rt&&!lt?_e.classList.add(at):1>rt&&lt&&_e.classList.remove(at)}at=getComputedStyle(_e).getPropertyValue("--lexical-indent-base-value")||"40px",_e.style.setProperty("padding-inline-start",rt===0?"":`calc(${rt} * ${at})`)}function id(_e,rt){_e=_e.style,rt===0?gd(_e,""):rt===1?gd(_e,"left"):rt===2?gd(_e,"center"):rt===3?gd(_e,"right"):rt===4?gd(_e,"justify"):rt===5?gd(_e,"start"):rt===6&&gd(_e,"end")}function jd(_e,rt,at){let lt=$c.get(_e);lt===void 0&&q$4(60);let st=lt.createDOM(Rc,R);var ct=R._keyToDOMMap;if(st["__lexicalKey_"+R._key]=_e,ct.set(_e,st),B$4(lt)?st.setAttribute("data-lexical-text","true"):z$4(lt)&&st.setAttribute("data-lexical-decorator","true"),F$4(lt)){if(_e=lt.__indent,ct=lt.__size,_e!==0&&hd(st,_e),ct!==0){--ct,_e=ed(lt,$c);var ut=O$1;O$1="",kd(_e,lt,0,ct,st,null),ld(lt,st),O$1=ut}_e=lt.__format,_e!==0&&id(st,_e),lt.isInline()||md(null,lt,st),oc(lt)&&(N$1+=`

`,Ic+=`

`)}else ct=lt.getTextContent(),z$4(lt)?(ut=lt.decorate(R,Rc),ut!==null&&nd(_e,ut),st.contentEditable="false"):B$4(lt)&&(lt.isDirectionless()||(O$1+=ct)),N$1+=ct,Ic+=ct;return rt!==null&&(at!=null?rt.insertBefore(st,at):(at=rt.__lexicalLineBreak,at!=null?rt.insertBefore(st,at):rt.appendChild(st))),lc(bd,Sc,Vc,lt,"created"),st}function kd(_e,rt,at,lt,st,ct){let ut=N$1;for(N$1="";at<=lt;++at)jd(_e[at],st,ct);oc(rt)&&(N$1+=`

`),st.__lexicalTextContent=N$1,N$1=ut+N$1}function od(_e,rt){return _e=rt.get(_e),Sb(_e)||z$4(_e)&&_e.isInline()}function md(_e,rt,at){_e=_e!==null&&(_e.__size===0||od(_e.__last,Zc)),rt=rt.__size===0||od(rt.__last,$c),_e?rt||(rt=at.__lexicalLineBreak,rt!=null&&at.removeChild(rt),at.__lexicalLineBreak=null):rt&&(rt=document.createElement("br"),at.__lexicalLineBreak=rt,at.appendChild(rt))}function ld(_e,rt){var at=rt.__lexicalDir;if(rt.__lexicalDirTextContent!==O$1||at!==Wc){let ct=O$1==="";if(ct)var lt=Wc;else lt=O$1,lt=db.test(lt)?"rtl":eb.test(lt)?"ltr":null;if(lt!==at){let ut=rt.classList,ft=Rc.theme;var st=at!==null?ft[at]:void 0;let dt=lt!==null?ft[lt]:void 0;st!==void 0&&(typeof st=="string"&&(st=st.split(" "),st=ft[at]=st),ut.remove(...st)),lt===null||ct&&lt==="ltr"?rt.removeAttribute("dir"):(dt!==void 0&&(typeof dt=="string"&&(at=dt.split(" "),dt=ft[lt]=at),dt!==void 0&&ut.add(...dt)),rt.dir=lt),Uc||(_e.getWritable().__dir=lt)}Wc=lt,rt.__lexicalDirTextContent=O$1,rt.__lexicalDir=lt}}function ed(_e,rt){let at=[];for(_e=_e.__first;_e!==null;){let lt=rt.get(_e);lt===void 0&&q$4(101),at.push(_e),_e=lt.__next}return at}function pd(_e,rt){var at=Zc.get(_e),lt=$c.get(_e);at!==void 0&&lt!==void 0||q$4(61);var st=Tc||Yc.has(_e)||Xc.has(_e);let ct=pc(R,_e);if(at===lt&&!st)return F$4(at)?(lt=ct.__lexicalTextContent,lt!==void 0&&(N$1+=lt,Ic+=lt),lt=ct.__lexicalDirTextContent,lt!==void 0&&(O$1+=lt)):(lt=at.getTextContent(),B$4(at)&&!at.isDirectionless()&&(O$1+=lt),Ic+=lt,N$1+=lt),ct;if(at!==lt&&st&&lc(bd,Sc,Vc,lt,"updated"),lt.updateDOM(at,ct,Rc))return lt=jd(_e,null,null),rt===null&&q$4(62),rt.replaceChild(lt,ct),cd(_e,null),lt;if(F$4(at)&&F$4(lt)){if(_e=lt.__indent,_e!==at.__indent&&hd(ct,_e),_e=lt.__format,_e!==at.__format&&id(ct,_e),st){_e=lt,st=O$1,O$1="",rt=N$1;var ut=at.__size,ft=_e.__size;if(N$1="",ut===1&&ft===1){var dt=at.__first,pt=_e.__first;if(dt===pt)pd(dt,ct);else{var ht=dd(dt);pt=jd(pt,null,null),ct.replaceChild(pt,ht),cd(dt,null)}}else{pt=ed(at,Zc);var gt=ed(_e,$c);if(ut===0)ft!==0&&kd(gt,_e,0,ft-1,ct,null);else if(ft===0)ut!==0&&(dt=ct.__lexicalLineBreak==null,fd(pt,0,ut-1,dt?null:ct),dt&&(ct.textContent=""));else{var mt=pt;pt=gt,gt=ut-1,ut=ft-1;let vt=ct.firstChild,yt=0;for(ft=0;yt<=gt&&ft<=ut;){var xt=mt[yt];let _t=pt[ft];if(xt===_t)vt=qd(pd(_t,ct)),yt++,ft++;else{dt===void 0&&(dt=new Set(mt)),ht===void 0&&(ht=new Set(pt));let $t=ht.has(xt),Et=dt.has(_t);$t?(Et?(xt=pc(R,_t),xt===vt?vt=qd(pd(_t,ct)):(vt!=null?ct.insertBefore(xt,vt):ct.appendChild(xt),pd(_t,ct)),yt++):jd(_t,ct,vt),ft++):(vt=qd(dd(xt)),cd(xt,ct),yt++)}}dt=yt>gt,ht=ft>ut,dt&&!ht?(dt=pt[ut+1],dt=dt===void 0?null:R.getElementByKey(dt),kd(pt,_e,ft,ut,ct,dt)):ht&&!dt&&fd(mt,yt,gt,ct)}}oc(_e)&&(N$1+=`

`),ct.__lexicalTextContent=N$1,N$1=rt+N$1,ld(_e,ct),O$1=st,L$1(lt)||lt.isInline()||md(at,lt,ct)}oc(lt)&&(N$1+=`

`,Ic+=`

`)}else at=lt.getTextContent(),z$4(lt)?(st=lt.decorate(R,Rc),st!==null&&nd(_e,st)):B$4(lt)&&!lt.isDirectionless()&&(O$1+=at),N$1+=at,Ic+=at;return!Uc&&L$1(lt)&&lt.__cachedText!==Ic&&(lt=lt.getWritable(),lt.__cachedText=Ic),ct}function nd(_e,rt){let at=R._pendingDecorators,lt=R._decorators;if(at===null){if(lt[_e]===rt)return;at=$b(R)}at[_e]=rt}function qd(_e){return _e=_e.nextSibling,_e!==null&&_e===R._blockCursorElement&&(_e=_e.nextSibling),_e}function dd(_e){return _e=ad.get(_e),_e===void 0&&q$4(75),_e}let rd=Object.freeze({}),yd=[["keydown",sd],["pointerdown",td],["compositionstart",ud],["compositionend",vd],["input",wd],["click",xd],["cut",rd],["copy",rd],["dragstart",rd],["dragover",rd],["dragend",rd],["paste",rd],["focus",rd],["blur",rd],["drop",rd]];Xa&&yd.push(["beforeinput",(_e,rt)=>zd(_e,rt)]);let Ad=0,Bd=0,Cd=0,Dd=null,Ed=0,Fd=!1,Gd=!1,Hd=!1,Id=!1,Jd=[0,"",0,"root",0];function Kd(_e,rt,at,lt,st){let ct=_e.anchor,ut=_e.focus,ft=ct.getNode();var dt=H$1();let pt=E$4(dt._window),ht=pt!==null?pt.anchorNode:null,gt=ct.key;dt=dt.getElementByKey(gt);let mt=at.length;return gt!==ut.key||!B$4(ft)||(!st&&(!Xa||Cd<lt+50)||ft.isDirty()&&2>mt||ec(at))&&ct.offset!==ut.offset&&!ft.isComposing()||Ib(ft)||ft.isDirty()&&1<mt||(st||!Xa)&&dt!==null&&!ft.isComposing()&&ht!==Pb(dt)||pt!==null&&rt!==null&&(!rt.collapsed||rt.startContainer!==pt.anchorNode||rt.startOffset!==pt.anchorOffset)||ft.getFormat()!==_e.format||ft.getStyle()!==_e.style||jc(_e,ft)}function Ld(_e,rt){return _e!==null&&_e.nodeValue!==null&&_e.nodeType===3&&rt!==0&&rt!==_e.nodeValue.length}function Md(_e,rt,at){let{anchorNode:lt,anchorOffset:st,focusNode:ct,focusOffset:ut}=_e;Fd&&(Fd=!1,Ld(lt,st)&&Ld(ct,ut))||w$3(rt,()=>{if(!at)xb(null);else if(Fb(rt,lt,ct)){var ft=v$1();if(C$2(ft)){var dt=ft.anchor,pt=dt.getNode();if(ft.isCollapsed()){_e.type==="Range"&&_e.anchorNode===_e.focusNode&&(ft.dirty=!0);var ht=Bb(rt).event;ht=ht?ht.timeStamp:performance.now();let[gt,mt,xt,vt,yt]=Jd;ht<yt+200&&dt.offset===xt&&dt.key===vt?(ft.format=gt,ft.style=mt):dt.type==="text"?(ft.format=pt.getFormat(),ft.style=pt.getStyle()):dt.type==="element"&&(ft.format=0,ft.style="")}else{dt=255,pt=!1,ht=ft.getNodes();let gt=ht.length;for(let mt=0;mt<gt;mt++){let xt=ht[mt];if(B$4(xt)&&(pt=!0,dt&=xt.getFormat(),dt===0))break}ft.format=pt?dt:0}}S$1(rt,ca$1,void 0)}})}function xd(_e,rt){w$3(rt,()=>{let at=v$1(),lt=E$4(rt._window),st=ic();if(C$2(at)){let ct=at.anchor,ut=ct.getNode();lt&&ct.type==="element"&&ct.offset===0&&at.isCollapsed()&&!L$1(ut)&&bc().getChildrenSize()===1&&ut.getTopLevelElementOrThrow().isEmpty()&&st!==null&&at.is(st)&&(lt.removeAllRanges(),at.dirty=!0)}S$1(rt,da,_e)})}function td(_e,rt){let at=_e.target;_e=_e.pointerType,at instanceof Node&&_e!=="touch"&&w$3(rt,()=>{z$4(ub(at))||(Gd=!0)})}function Nd(_e){return _e.getTargetRanges?(_e=_e.getTargetRanges(),_e.length===0?null:_e[0]):null}function Od(_e,rt){return _e!==rt||F$4(_e)||F$4(rt)||!_e.isToken()||!rt.isToken()}function zd(_e,rt){let at=_e.inputType,lt=Nd(_e);at==="deleteCompositionText"||Wa&&yb(rt)||at!=="insertCompositionText"&&w$3(rt,()=>{let st=v$1();if(at==="deleteContentBackward"){if(st===null){var ct=ic();if(!C$2(ct))return;xb(ct.clone())}if(C$2(st)){Bd===229&&_e.timeStamp<Ad+30&&rt.isComposing()&&st.anchor.key===st.focus.key?(I$1(null),Ad=0,setTimeout(()=>{w$3(rt,()=>{I$1(null)})},30),C$2(st)&&(ct=st.anchor.getNode(),ct.markDirty(),st.format=ct.getFormat(),st.style=ct.getStyle())):(_e.preventDefault(),S$1(rt,ea,!0));return}}if(C$2(st)){ct=_e.data,Dd!==null&&hc(!1,rt,Dd),st.dirty&&Dd===null||!st.isCollapsed()||L$1(st.anchor.getNode())||lt===null||st.applyDOMRange(lt),Dd=null;var ut=st.focus,ft=st.anchor.getNode();if(ut=ut.getNode(),at==="insertText"||at==="insertTranspose")ct===`
`?(_e.preventDefault(),S$1(rt,fa,!1)):ct===`

`?(_e.preventDefault(),S$1(rt,ja,void 0)):ct==null&&_e.dataTransfer?(ct=_e.dataTransfer.getData("text/plain"),_e.preventDefault(),st.insertRawText(ct)):ct!=null&&Kd(st,lt,ct,_e.timeStamp,!0)?(_e.preventDefault(),S$1(rt,ka,ct)):Dd=ct,Cd=_e.timeStamp;else switch(_e.preventDefault(),at){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":S$1(rt,ka,_e);break;case"insertFromComposition":I$1(null),S$1(rt,ka,_e);break;case"insertLineBreak":I$1(null),S$1(rt,fa,!1);break;case"insertParagraph":I$1(null),Hd?(Hd=!1,S$1(rt,fa,!1)):S$1(rt,ja,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":S$1(rt,la,_e);break;case"deleteByComposition":Od(ft,ut)&&S$1(rt,na,void 0);break;case"deleteByDrag":case"deleteByCut":S$1(rt,na,void 0);break;case"deleteContent":S$1(rt,ea,!1);break;case"deleteWordBackward":S$1(rt,qa,!0);break;case"deleteWordForward":S$1(rt,qa,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":S$1(rt,ra,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":S$1(rt,ra,!1);break;case"formatStrikeThrough":S$1(rt,sa,"strikethrough");break;case"formatBold":S$1(rt,sa,"bold");break;case"formatItalic":S$1(rt,sa,"italic");break;case"formatUnderline":S$1(rt,sa,"underline");break;case"historyUndo":S$1(rt,ta,void 0);break;case"historyRedo":S$1(rt,ua,void 0)}}})}function wd(_e,rt){_e.stopPropagation(),w$3(rt,()=>{var at=v$1(),lt=_e.data,st=Nd(_e);if(lt!=null&&C$2(at)&&Kd(at,st,lt,_e.timeStamp,!1)){Id&&(Pd(rt,lt),Id=!1);var ct=at.anchor,ut=ct.getNode();if(st=E$4(rt._window),st===null)return;let ft=ct.offset;(ct=Xa&&!at.isCollapsed()&&B$4(ut)&&st.anchorNode!==null)&&(ut=ut.getTextContent().slice(0,ft)+lt+ut.getTextContent().slice(ft+at.focus.offset),st=st.anchorNode,ct=ut===(st.nodeType===3?st.nodeValue:null)),ct||S$1(rt,ka,lt),lt=lt.length,Wa&&1<lt&&_e.inputType==="insertCompositionText"&&!rt.isComposing()&&(at.anchor.offset-=lt),Ya||Za||ab||!rt.isComposing()||(Ad=0,I$1(null))}else hc(!1,rt,lt!==null?lt:void 0),Id&&(Pd(rt,lt||void 0),Id=!1);G$2(),at=H$1(),zb(at)}),Dd=null}function ud(_e,rt){w$3(rt,()=>{let at=v$1();if(C$2(at)&&!rt.isComposing()){let lt=at.anchor,st=at.anchor.getNode();I$1(lt.key),(_e.timeStamp<Ad+30||lt.type==="element"||!at.isCollapsed()||st.getFormat()!==at.format||st.getStyle()!==at.style)&&S$1(rt,ka,cb)}})}function Pd(_e,rt){var at=_e._compositionKey;if(I$1(null),at!==null&&rt!=null){if(rt===""){rt=J$1(at),_e=Pb(_e.getElementByKey(at)),_e!==null&&_e.nodeValue!==null&&B$4(rt)&&vb(rt,_e.nodeValue,null,null,!0);return}if(rt[rt.length-1]===`
`&&(at=v$1(),C$2(at))){rt=at.focus,at.anchor.set(rt.key,rt.offset,rt.type),S$1(_e,Da,null);return}}hc(!0,_e,rt)}function vd(_e,rt){Wa?Id=!0:w$3(rt,()=>{Pd(rt,_e.data)})}function sd(_e,rt){if(Ad=_e.timeStamp,Bd=_e.keyCode,!rt.isComposing()){var{keyCode:at,shiftKey:lt,ctrlKey:st,metaKey:ct,altKey:ut}=_e;if(!S$1(rt,wa,_e)){if(at!==39||st||ct||ut)if(at!==39||ut||lt||!st&&!ct)if(at!==37||st||ct||ut)if(at!==37||ut||lt||!st&&!ct)if(at!==38||st||ct)if(at!==40||st||ct)if(at===13&&lt)Hd=!0,S$1(rt,Da,_e);else if(at===32)S$1(rt,Ga,_e);else if(t$2&&st&&at===79)_e.preventDefault(),Hd=!0,S$1(rt,fa,!0);else if(at!==13||lt)if(t$2?!(ut||ct)&&(at===8||at===72&&st):!(st||ut||ct)&&at===8)at===8?S$1(rt,Ha,_e):(_e.preventDefault(),S$1(rt,ea,!0));else if(at===27)S$1(rt,Ia,_e);else if(t$2?!(lt||ut||ct)&&(at===46||at===68&&st):!(st||ut||ct)&&at===46)at===46?S$1(rt,Ja,_e):(_e.preventDefault(),S$1(rt,ea,!1));else if(at===8&&(t$2?ut:st))_e.preventDefault(),S$1(rt,qa,!0);else if(at===46&&(t$2?ut:st))_e.preventDefault(),S$1(rt,qa,!1);else if(t$2&&ct&&at===8)_e.preventDefault(),S$1(rt,ra,!0);else if(t$2&&ct&&at===46)_e.preventDefault(),S$1(rt,ra,!1);else if(at===66&&!ut&&(t$2?ct:st))_e.preventDefault(),S$1(rt,sa,"bold");else if(at===85&&!ut&&(t$2?ct:st))_e.preventDefault(),S$1(rt,sa,"underline");else if(at===73&&!ut&&(t$2?ct:st))_e.preventDefault(),S$1(rt,sa,"italic");else if(at!==9||ut||st||ct)if(at===90&&!lt&&(t$2?ct:st))_e.preventDefault(),S$1(rt,ta,void 0);else{var ft=t$2?at===90&&ct&&lt:at===89&&st||at===90&&st&&lt;ft?(_e.preventDefault(),S$1(rt,ua,void 0)):Qd(rt._editorState._selection)&&(ft=lt?!1:at===67?t$2?ct:st:!1,ft?(_e.preventDefault(),S$1(rt,Pa,_e)):(ft=lt?!1:at===88?t$2?ct:st:!1,ft?(_e.preventDefault(),S$1(rt,Qa,_e)):at===65&&(t$2?ct:st)&&(_e.preventDefault(),rt.update(()=>{let dt=bc();dt.select(0,dt.getChildrenSize())}))))}else S$1(rt,Ka,_e);else Hd=!1,S$1(rt,Da,_e);else S$1(rt,Ca,_e);else S$1(rt,Ba,_e);else S$1(rt,Aa,_e);else S$1(rt,za,_e);else S$1(rt,ya,_e);else S$1(rt,xa,_e);(st||lt||ut||ct)&&S$1(rt,Ta,_e)}}}function Rd(_e){let rt=_e.__lexicalEventHandles;return rt===void 0&&(rt=[],_e.__lexicalEventHandles=rt),rt}let Sd=new Map;function Td(_e){_e=_e.target;let rt=E$4(_e==null?null:_e.nodeType===9?_e.defaultView:_e.ownerDocument.defaultView);if(rt!==null){var at=Gb(rt.anchorNode);if(at!==null){Gd&&(Gd=!1,w$3(at,()=>{var ut=ic(),ft=rt.anchorNode;ft!==null&&(ft=ft.nodeType,ft===1||ft===3)&&(ut=Ud(ut,rt,at),xb(ut))})),_e=fc(at),_e=_e[_e.length-1];var lt=_e._key,st=Sd.get(lt),ct=st||_e;ct!==at&&Md(rt,ct,!1),Md(rt,at,!0),at!==_e?Sd.set(lt,at):st&&Sd.delete(lt)}}}function Vd(_e,rt){Ed===0&&_e.ownerDocument.addEventListener("selectionchange",Td),Ed++,_e.__lexicalEditor=rt;let at=Rd(_e);for(let lt=0;lt<yd.length;lt++){let[st,ct]=yd[lt],ut=typeof ct=="function"?ft=>{ft._lexicalHandled!==!0&&(ft._lexicalHandled=!0,rt.isEditable()&&ct(ft,rt))}:ft=>{if(ft._lexicalHandled!==!0&&(ft._lexicalHandled=!0,rt.isEditable()))switch(st){case"cut":return S$1(rt,Qa,ft);case"copy":return S$1(rt,Pa,ft);case"paste":return S$1(rt,la,ft);case"dragstart":return S$1(rt,Ma,ft);case"dragover":return S$1(rt,Na,ft);case"dragend":return S$1(rt,Oa,ft);case"focus":return S$1(rt,Ra,ft);case"blur":return S$1(rt,Sa,ft);case"drop":return S$1(rt,La,ft)}};_e.addEventListener(st,ut),at.push(()=>{_e.removeEventListener(st,ut)})}}function Wd(_e,rt,at){G$2();var lt=_e.__key;let st=_e.getParent();if(st!==null){var ct=qc(_e),ut=!1;if(C$2(ct)&&rt){let ft=ct.anchor,dt=ct.focus;ft.key===lt&&(Xd(ft,_e,st,_e.getPreviousSibling(),_e.getNextSibling()),ut=!0),dt.key===lt&&(Xd(dt,_e,st,_e.getPreviousSibling(),_e.getNextSibling()),ut=!0)}C$2(ct)&&rt&&!ut?(lt=_e.getIndexWithinParent(),Wb(_e),Yd(ct,st,lt,-1)):Wb(_e),at||M(st)||st.canBeEmpty()||!st.isEmpty()||Wd(st,rt),rt&&L$1(st)&&st.isEmpty()&&st.selectEnd()}}class Zd{static getType(){q$4(64)}static clone(){q$4(65)}constructor(rt){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Tb(this,rt)}getType(){return this.__type}isAttached(){for(var rt=this.__key;rt!==null;){if(rt==="root")return!0;if(rt=J$1(rt),rt===null)break;rt=rt.__parent}return!1}isSelected(rt){if(rt=rt||v$1(),rt==null)return!1;let at=rt.getNodes().some(lt=>lt.__key===this.__key);return B$4(this)?at:C$2(rt)&&rt.anchor.type==="element"&&rt.focus.type==="element"&&rt.anchor.key===rt.focus.key&&rt.anchor.offset===rt.focus.offset?!1:at}getKey(){return this.__key}getIndexWithinParent(){var rt=this.getParent();if(rt===null)return-1;rt=rt.getFirstChild();let at=0;for(;rt!==null;){if(this.is(rt))return at;at++,rt=rt.getNextSibling()}return-1}getParent(){let rt=this.getLatest().__parent;return rt===null?null:J$1(rt)}getParentOrThrow(){let rt=this.getParent();return rt===null&&q$4(66),rt}getTopLevelElement(){let rt=this;for(;rt!==null;){let at=rt.getParent();if(M(at))return rt;rt=at}return null}getTopLevelElementOrThrow(){let rt=this.getTopLevelElement();return rt===null&&q$4(67),rt}getParents(){let rt=[],at=this.getParent();for(;at!==null;)rt.push(at),at=at.getParent();return rt}getParentKeys(){let rt=[],at=this.getParent();for(;at!==null;)rt.push(at.__key),at=at.getParent();return rt}getPreviousSibling(){let rt=this.getLatest().__prev;return rt===null?null:J$1(rt)}getPreviousSiblings(){let rt=[];var at=this.getParent();if(at===null)return rt;for(at=at.getFirstChild();at!==null&&!at.is(this);)rt.push(at),at=at.getNextSibling();return rt}getNextSibling(){let rt=this.getLatest().__next;return rt===null?null:J$1(rt)}getNextSiblings(){let rt=[],at=this.getNextSibling();for(;at!==null;)rt.push(at),at=at.getNextSibling();return rt}getCommonAncestor(rt){let at=this.getParents();var lt=rt.getParents();F$4(this)&&at.unshift(this),F$4(rt)&&lt.unshift(rt),rt=at.length;var st=lt.length;if(rt===0||st===0||at[rt-1]!==lt[st-1])return null;for(lt=new Set(lt),st=0;st<rt;st++){let ct=at[st];if(lt.has(ct))return ct}return null}is(rt){return rt==null?!1:this.__key===rt.__key}isBefore(rt){if(this===rt)return!1;if(rt.isParentOf(this))return!0;if(this.isParentOf(rt))return!1;var at=this.getCommonAncestor(rt);let lt=this;for(;;){var st=lt.getParentOrThrow();if(st===at){st=lt.getIndexWithinParent();break}lt=st}for(lt=rt;;){if(rt=lt.getParentOrThrow(),rt===at){at=lt.getIndexWithinParent();break}lt=rt}return st<at}isParentOf(rt){let at=this.__key;if(at===rt.__key)return!1;for(;rt!==null;){if(rt.__key===at)return!0;rt=rt.getParent()}return!1}getNodesBetween(rt){let at=this.isBefore(rt),lt=[],st=new Set;for(var ct=this;;){var ut=ct.__key;if(st.has(ut)||(st.add(ut),lt.push(ct)),ct===rt)break;if(ut=F$4(ct)?at?ct.getFirstChild():ct.getLastChild():null,ut!==null)ct=ut;else if(ut=at?ct.getNextSibling():ct.getPreviousSibling(),ut!==null)ct=ut;else{if(ct=ct.getParentOrThrow(),st.has(ct.__key)||lt.push(ct),ct===rt)break;ut=ct;do ut===null&&q$4(68),ct=at?ut.getNextSibling():ut.getPreviousSibling(),ut=ut.getParent(),ut!==null&&(ct!==null||st.has(ut.__key)||lt.push(ut));while(ct===null)}}return at||lt.reverse(),lt}isDirty(){let rt=H$1()._dirtyLeaves;return rt!==null&&rt.has(this.__key)}getLatest(){let rt=J$1(this.__key);return rt===null&&q$4(113),rt}getWritable(){G$2();var rt=Vb(),at=H$1();rt=rt._nodeMap;let lt=this.__key,st=this.getLatest(),ct=st.__parent;at=at._cloneNotNeeded;var ut=v$1();return ut!==null&&(ut._cachedNodes=null),at.has(lt)?(Xb(st),st):(ut=st.constructor.clone(st),ut.__parent=ct,ut.__next=st.__next,ut.__prev=st.__prev,F$4(st)&&F$4(ut)?(ut.__first=st.__first,ut.__last=st.__last,ut.__size=st.__size,ut.__indent=st.__indent,ut.__format=st.__format,ut.__dir=st.__dir):B$4(st)&&B$4(ut)&&(ut.__format=st.__format,ut.__style=st.__style,ut.__mode=st.__mode,ut.__detail=st.__detail),at.add(lt),ut.__key=lt,Xb(ut),rt.set(lt,ut),ut)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){q$4(70)}updateDOM(){q$4(71)}exportDOM(rt){return{element:this.createDOM(rt._config,rt)}}exportJSON(){q$4(72)}static importJSON(){q$4(18)}static transform(){return null}remove(rt){Wd(this,!0,rt)}replace(rt,at){G$2();var lt=v$1();lt!==null&&(lt=lt.clone()),vc(this,rt);let st=this.getLatest(),ct=this.__key,ut=rt.__key,ft=rt.getWritable();rt=this.getParentOrThrow().getWritable();let dt=rt.__size;Wb(ft);let pt=st.getPreviousSibling(),ht=st.getNextSibling(),gt=st.__prev,mt=st.__next,xt=st.__parent;return Wd(st,!1,!0),pt===null?rt.__first=ut:pt.getWritable().__next=ut,ft.__prev=gt,ht===null?rt.__last=ut:ht.getWritable().__prev=ut,ft.__next=mt,ft.__parent=xt,rt.__size=dt,at&&this.getChildren().forEach(vt=>{ft.append(vt)}),C$2(lt)&&(xb(lt),at=lt.anchor,lt=lt.focus,at.key===ct&&$d(at,ft),lt.key===ct&&$d(lt,ft)),Yb()===ct&&I$1(ut),ft}insertAfter(rt,at=!0){G$2(),vc(this,rt);var lt=this.getWritable();let st=rt.getWritable();var ct=st.getParent();let ut=v$1();var ft=!1,dt=!1;if(ct!==null){var pt=rt.getIndexWithinParent();Wb(st),C$2(ut)&&(dt=ct.__key,ft=ut.anchor,ct=ut.focus,ft=ft.type==="element"&&ft.key===dt&&ft.offset===pt+1,dt=ct.type==="element"&&ct.key===dt&&ct.offset===pt+1)}ct=this.getNextSibling(),pt=this.getParentOrThrow().getWritable();let ht=st.__key,gt=lt.__next;return ct===null?pt.__last=ht:ct.getWritable().__prev=ht,pt.__size++,lt.__next=ht,st.__next=gt,st.__prev=lt.__key,st.__parent=lt.__parent,at&&C$2(ut)&&(at=this.getIndexWithinParent(),Yd(ut,pt,at+1),lt=pt.__key,ft&&ut.anchor.set(lt,at+2,"element"),dt&&ut.focus.set(lt,at+2,"element")),rt}insertBefore(rt,at=!0){G$2(),vc(this,rt);var lt=this.getWritable();let st=rt.getWritable(),ct=st.__key;Wb(st);let ut=this.getPreviousSibling(),ft=this.getParentOrThrow().getWritable(),dt=lt.__prev,pt=this.getIndexWithinParent();return ut===null?ft.__first=ct:ut.getWritable().__next=ct,ft.__size++,lt.__prev=ct,st.__prev=dt,st.__next=lt.__key,st.__parent=lt.__parent,lt=v$1(),at&&C$2(lt)&&(at=this.getParentOrThrow(),Yd(lt,at,pt)),rt}isParentRequired(){return!1}createParentElementNode(){return ae()}selectPrevious(rt,at){G$2();let lt=this.getPreviousSibling(),st=this.getParentOrThrow();return lt===null?st.select(0,0):F$4(lt)?lt.select():B$4(lt)?lt.select(rt,at):(rt=lt.getIndexWithinParent()+1,st.select(rt,rt))}selectNext(rt,at){G$2();let lt=this.getNextSibling(),st=this.getParentOrThrow();return lt===null?st.select():F$4(lt)?lt.select(0,0):B$4(lt)?lt.select(rt,at):(rt=lt.getIndexWithinParent(),st.select(rt,rt))}markDirty(){this.getWritable()}}class be{constructor(rt,at,lt){this._selection=null,this.key=rt,this.offset=at,this.type=lt}is(rt){return this.key===rt.key&&this.offset===rt.offset&&this.type===rt.type}isBefore(rt){let at=this.getNode(),lt=rt.getNode(),st=this.offset;if(rt=rt.offset,F$4(at)){var ct=at.getDescendantByIndex(st);at=ct??at}return F$4(lt)&&(ct=lt.getDescendantByIndex(rt),lt=ct??lt),at===lt?st<rt:at.isBefore(lt)}getNode(){let rt=J$1(this.key);return rt===null&&q$4(20),rt}set(rt,at,lt){let st=this._selection,ct=this.key;this.key=rt,this.offset=at,this.type=lt,Zb()||(Yb()===ct&&I$1(rt),st!==null&&(st._cachedNodes=null,st.dirty=!0))}}function ce(_e,rt){let at=rt.__key,lt=_e.offset,st="element";if(B$4(rt))st="text",rt=rt.getTextContentSize(),lt>rt&&(lt=rt);else if(!F$4(rt)){var ct=rt.getNextSibling();B$4(ct)?(at=ct.__key,lt=0,st="text"):(ct=rt.getParent())&&(at=ct.__key,lt=rt.getIndexWithinParent()+1)}_e.set(at,lt,st)}function $d(_e,rt){if(F$4(rt)){let at=rt.getLastDescendant();F$4(at)||B$4(at)?ce(_e,at):ce(_e,rt)}else ce(_e,rt)}function de(_e,rt,at,lt){let st=_e.getNode(),ct=st.getChildAtIndex(_e.offset),ut=K$1(),ft=L$1(st)?ae().append(ut):ut;ut.setFormat(at),ut.setStyle(lt),ct===null?st.append(ft):ct.insertBefore(ft),_e.is(rt)&&rt.set(ut.__key,0,"text"),_e.set(ut.__key,0,"text")}function ee(_e,rt,at,lt){_e.key=rt,_e.offset=at,_e.type=lt}class fe{constructor(rt){this.dirty=!1,this._nodes=rt,this._cachedNodes=null}is(rt){if(!Qd(rt))return!1;let at=this._nodes,lt=rt._nodes;return at.size===lt.size&&Array.from(at).every(st=>lt.has(st))}add(rt){this.dirty=!0,this._nodes.add(rt),this._cachedNodes=null}delete(rt){this.dirty=!0,this._nodes.delete(rt),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(rt){return this._nodes.has(rt)}clone(){return new fe(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(rt,at){let lt=this.getNodes(),st=lt.length;var ct=lt[st-1];if(B$4(ct))ct=ct.select();else{let ut=ct.getIndexWithinParent()+1;ct=ct.getParentOrThrow().select(ut,ut)}for(ct.insertNodes(rt,at),rt=0;rt<st;rt++)lt[rt].remove();return!0}getNodes(){var rt=this._cachedNodes;if(rt!==null)return rt;var at=this._nodes;rt=[];for(let lt of at)at=J$1(lt),at!==null&&rt.push(at);return Zb()||(this._cachedNodes=rt),rt}getTextContent(){let rt=this.getNodes(),at="";for(let lt=0;lt<rt.length;lt++)at+=rt[lt].getTextContent();return at}}function C$2(_e){return _e instanceof ge}class he{constructor(rt,at,lt){this.gridKey=rt,this.anchor=at,this.focus=lt,this.dirty=!1,this._cachedNodes=null,at._selection=this,lt._selection=this}is(rt){return ie(rt)?this.gridKey===rt.gridKey&&this.anchor.is(rt.anchor)&&this.focus.is(rt.focus):!1}set(rt,at,lt){this.dirty=!0,this.gridKey=rt,this.anchor.key=at,this.focus.key=lt,this._cachedNodes=null}clone(){return new he(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return je(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(rt,at){let lt=this.focus.getNode();return Gc(lt.select(0,lt.getChildrenSize())).insertNodes(rt,at)}getShape(){var rt=J$1(this.anchor.key);rt===null&&q$4(21);var at=rt.getIndexWithinParent();rt=rt.getParentOrThrow().getIndexWithinParent();var lt=J$1(this.focus.key);lt===null&&q$4(22);var st=lt.getIndexWithinParent();let ct=lt.getParentOrThrow().getIndexWithinParent();return lt=Math.min(at,st),at=Math.max(at,st),st=Math.min(rt,ct),rt=Math.max(rt,ct),{fromX:Math.min(lt,at),fromY:Math.min(st,rt),toX:Math.max(lt,at),toY:Math.max(st,rt)}}getNodes(){function rt(_t){let{cell:$t,startColumn:Et,startRow:wt}=_t;dt=Math.min(dt,Et),pt=Math.min(pt,wt),ht=Math.max(ht,Et+$t.__colSpan-1),gt=Math.max(gt,wt+$t.__rowSpan-1)}var at=this._cachedNodes;if(at!==null)return at;var lt=this.anchor.getNode();at=this.focus.getNode(),lt=zc(lt,ke);var st=zc(at,ke);ke(lt)||q$4(103),ke(st)||q$4(104),at=lt.getParent(),le(at)||q$4(105),at=at.getParent(),me(at)||q$4(106);let[ct,ut,ft]=ne(at,lt,st),dt=Math.min(ut.startColumn,ft.startColumn),pt=Math.min(ut.startRow,ft.startRow),ht=Math.max(ut.startColumn+ut.cell.__colSpan-1,ft.startColumn+ft.cell.__colSpan-1),gt=Math.max(ut.startRow+ut.cell.__rowSpan-1,ft.startRow+ft.cell.__rowSpan-1);lt=dt,st=pt;for(var mt=dt,xt=pt;dt<lt||pt<st||ht>mt||gt>xt;){if(dt<lt){var vt=xt-st;--lt;for(var yt=0;yt<=vt;yt++)rt(ct[st+yt][lt])}if(pt<st)for(vt=mt-lt,--st,yt=0;yt<=vt;yt++)rt(ct[st][lt+yt]);if(ht>mt)for(vt=xt-st,mt+=1,yt=0;yt<=vt;yt++)rt(ct[st+yt][mt]);if(gt>xt)for(vt=mt-lt,xt+=1,yt=0;yt<=vt;yt++)rt(ct[xt][lt+yt])}for(at=[at],lt=null,st=pt;st<=gt;st++)for(mt=dt;mt<=ht;mt++)({cell:xt}=ct[st][mt]),vt=xt.getParent(),le(vt)||q$4(107),vt!==lt&&at.push(vt),at.push(xt,...Ac(xt)),lt=vt;return Zb()||(this._cachedNodes=at),at}getTextContent(){let rt=this.getNodes(),at="";for(let lt=0;lt<rt.length;lt++)at+=rt[lt].getTextContent();return at}}function ie(_e){return _e instanceof he}class ge{constructor(rt,at,lt,st){this.anchor=rt,this.focus=at,this.dirty=!1,this.format=lt,this.style=st,this._cachedNodes=null,rt._selection=this,at._selection=this}is(rt){return C$2(rt)?this.anchor.is(rt.anchor)&&this.focus.is(rt.focus)&&this.format===rt.format&&this.style===rt.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var rt=this._cachedNodes;if(rt!==null)return rt;rt=this.anchor;var at=this.focus,lt=rt.isBefore(at),st=lt?rt:at;lt=lt?at:rt,rt=st.getNode(),at=lt.getNode();let ct=st.offset;return st=lt.offset,F$4(rt)&&(lt=rt.getDescendantByIndex(ct),rt=lt??rt),F$4(at)&&(lt=at.getDescendantByIndex(st),lt!==null&&lt!==rt&&at.getChildAtIndex(st)===lt&&(lt=lt.getPreviousSibling()),at=lt??at),rt=rt.is(at)?F$4(rt)&&0<rt.getChildrenSize()?[]:[rt]:rt.getNodesBetween(at),Zb()||(this._cachedNodes=rt),rt}setTextNodeRange(rt,at,lt,st){ee(this.anchor,rt.__key,at,"text"),ee(this.focus,lt.__key,st,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let rt=this.getNodes();if(rt.length===0)return"";let at=rt[0],lt=rt[rt.length-1],st=this.anchor,ct=this.focus,ut=st.isBefore(ct),[ft,dt]=je(this),pt="",ht=!0;for(let gt=0;gt<rt.length;gt++){let mt=rt[gt];if(F$4(mt)&&!mt.isInline())ht||(pt+=`
`),ht=!mt.isEmpty();else if(ht=!1,B$4(mt)){let xt=mt.getTextContent();mt===at?mt===lt?(st.type!=="element"||ct.type!=="element"||ct.offset===st.offset)&&(xt=ft<dt?xt.slice(ft,dt):xt.slice(dt,ft)):xt=ut?xt.slice(ft):xt.slice(dt):mt===lt&&(xt=ut?xt.slice(0,dt):xt.slice(0,ft)),pt+=xt}else!z$4(mt)&&!Sb(mt)||mt===lt&&this.isCollapsed()||(pt+=mt.getTextContent())}return pt}applyDOMRange(rt){let at=H$1(),lt=at.getEditorState()._selection;if(rt=oe(rt.startContainer,rt.startOffset,rt.endContainer,rt.endOffset,at,lt),rt!==null){var[st,ct]=rt;ee(this.anchor,st.key,st.offset,st.type),ee(this.focus,ct.key,ct.offset,ct.type),this._cachedNodes=null}}clone(){let rt=this.anchor,at=this.focus;return new ge(new be(rt.key,rt.offset,rt.type),new be(at.key,at.offset,at.type),this.format,this.style)}toggleFormat(rt){this.format=Qb(this.format,rt,null),this.dirty=!0}setStyle(rt){this.style=rt,this.dirty=!0}hasFormat(rt){return(this.format&fb[rt])!==0}insertRawText(rt){let at=rt.split(/\r?\n/);if(at.length===1)this.insertText(rt);else{rt=[];let lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];ct!==""&&rt.push(K$1(ct)),st!==lt-1&&rt.push(pe())}this.insertNodes(rt)}}insertText(rt){var at=this.anchor,lt=this.focus,st=this.isCollapsed()||at.isBefore(lt),ct=this.format,ut=this.style;st&&at.type==="element"?de(at,lt,ct,ut):st||lt.type!=="element"||de(lt,at,ct,ut);var ft=this.getNodes(),dt=ft.length,pt=st?lt:at;lt=(st?at:lt).offset;var ht=pt.offset;at=ft[0],B$4(at)||q$4(26),st=at.getTextContent().length;var gt=at.getParentOrThrow(),mt=ft[dt-1];if(this.isCollapsed()&&lt===st&&(at.isSegmented()||at.isToken()||!at.canInsertTextAfter()||!gt.canInsertTextAfter()&&at.getNextSibling()===null)){var xt=at.getNextSibling();if((!B$4(xt)||Ib(xt))&&(xt=K$1(),xt.setFormat(ct),gt.canInsertTextAfter()?at.insertAfter(xt):gt.insertAfter(xt)),xt.select(0,0),at=xt,rt!==""){this.insertText(rt);return}}else if(this.isCollapsed()&&lt===0&&(at.isSegmented()||at.isToken()||!at.canInsertTextBefore()||!gt.canInsertTextBefore()&&at.getPreviousSibling()===null)){if(xt=at.getPreviousSibling(),(!B$4(xt)||Ib(xt))&&(xt=K$1(),xt.setFormat(ct),gt.canInsertTextBefore()?at.insertBefore(xt):gt.insertBefore(xt)),xt.select(),at=xt,rt!==""){this.insertText(rt);return}}else if(at.isSegmented()&&lt!==st)gt=K$1(at.getTextContent()),gt.setFormat(ct),at.replace(gt),at=gt;else if(!(this.isCollapsed()||rt===""||(xt=mt.getParent(),gt.canInsertTextBefore()&&gt.canInsertTextAfter()&&(!F$4(xt)||xt.canInsertTextBefore()&&xt.canInsertTextAfter())))){this.insertText(""),qe(this.anchor,this.focus,null),this.insertText(rt);return}if(dt===1)if(at.isToken())rt=K$1(rt),rt.select(),at.replace(rt);else{if(ft=at.getFormat(),dt=at.getStyle(),lt===ht&&(ft!==ct||dt!==ut))if(at.getTextContent()==="")at.setFormat(ct),at.setStyle(ut);else{ft=K$1(rt),ft.setFormat(ct),ft.setStyle(ut),ft.select(),lt===0?at.insertBefore(ft,!1):([dt]=at.splitText(lt),dt.insertAfter(ft,!1)),ft.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=rt.length);return}at=at.spliceText(lt,ht-lt,rt,!0),at.getTextContent()===""?at.remove():this.anchor.type==="text"&&(at.isComposing()?this.anchor.offset-=rt.length:(this.format=ft,this.style=dt))}else{if(ct=new Set([...at.getParentKeys(),...mt.getParentKeys()]),xt=F$4(at)?at:at.getParentOrThrow(),ut=F$4(mt)?mt:mt.getParentOrThrow(),gt=mt,!xt.is(ut)&&ut.isInline())do gt=ut,ut=ut.getParentOrThrow();while(ut.isInline());pt.type==="text"&&(ht!==0||mt.getTextContent()==="")||pt.type==="element"&&mt.getIndexWithinParent()<ht?B$4(mt)&&!mt.isToken()&&ht!==mt.getTextContentSize()?(mt.isSegmented()&&(pt=K$1(mt.getTextContent()),mt.replace(pt),mt=pt),mt=mt.spliceText(0,ht,""),ct.add(mt.__key)):(pt=mt.getParentOrThrow(),pt.canBeEmpty()||pt.getChildrenSize()!==1?mt.remove():pt.remove()):ct.add(mt.__key),pt=ut.getChildren(),ht=new Set(ft),mt=xt.is(ut),xt=xt.isInline()&&at.getNextSibling()===null?xt:at;for(let vt=pt.length-1;0<=vt;vt--){let yt=pt[vt];if(yt.is(at)||F$4(yt)&&yt.isParentOf(at))break;yt.isAttached()&&(!ht.has(yt)||yt.is(gt)?mt||xt.insertAfter(yt,!1):yt.remove())}if(!mt)for(pt=ut,ht=null;pt!==null;)ut=pt.getChildren(),mt=ut.length,(mt===0||ut[mt-1].is(ht))&&(ct.delete(pt.__key),ht=pt),pt=pt.getParent();for(at.isToken()?lt===st?at.select():(rt=K$1(rt),rt.select(),at.replace(rt)):(at=at.spliceText(lt,st-lt,rt,!0),at.getTextContent()===""?at.remove():at.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=rt.length)),rt=1;rt<dt;rt++)at=ft[rt],ct.has(at.__key)||at.remove()}}removeText(){this.insertText("")}formatText(rt){if(this.isCollapsed())this.toggleFormat(rt),I$1(null);else{var at=this.getNodes(),lt=[];for(var st of at)B$4(st)&&lt.push(st);var ct=lt.length;if(ct===0)this.toggleFormat(rt),I$1(null);else{st=this.anchor;var ut=this.focus,ft=this.isBackward();at=ft?ut:st,st=ft?st:ut;var dt=0,pt=lt[0];if(ut=at.type==="element"?0:at.offset,at.type==="text"&&ut===pt.getTextContentSize()&&(dt=1,pt=lt[1],ut=0),pt!=null){ft=pt.getFormatFlags(rt,null);var ht=ct-1,gt=lt[ht];if(ct=st.type==="text"?st.offset:gt.getTextContentSize(),pt.is(gt))ut!==ct&&(ut===0&&ct===pt.getTextContentSize()?pt.setFormat(ft):(rt=pt.splitText(ut,ct),rt=ut===0?rt[0]:rt[1],rt.setFormat(ft),at.type==="text"&&at.set(rt.__key,0,"text"),st.type==="text"&&st.set(rt.__key,ct-ut,"text")),this.format=ft);else{ut!==0&&([,pt]=pt.splitText(ut),ut=0),pt.setFormat(ft);var mt=gt.getFormatFlags(rt,ft);for(0<ct&&(ct!==gt.getTextContentSize()&&([gt]=gt.splitText(ct)),gt.setFormat(mt)),dt+=1;dt<ht;dt++){let xt=lt[dt];if(!xt.isToken()){let vt=xt.getFormatFlags(rt,mt);xt.setFormat(vt)}}at.type==="text"&&at.set(pt.__key,ut,"text"),st.type==="text"&&st.set(gt.__key,ct,"text"),this.format=ft|mt}}}}}insertNodes(rt,at){if(!this.isCollapsed()){var lt=this.isBackward()?this.anchor:this.focus,st=lt.getNode().getNextSibling();if(st=st?st.getKey():null,lt=(lt=lt.getNode().getPreviousSibling())?lt.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===st&&this.focus.offset===0){var ct=K$1();this.focus.getNode().insertBefore(ct)}else this.focus.key===lt&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(ct=K$1(),this.focus.getNode().insertAfter(ct));ct&&(this.focus.set(ct.__key,0,"text"),this.anchor.set(ct.__key,0,"text"))}}ct=this.anchor,lt=ct.offset;var ut=ct.getNode();st=ut,ct.type==="element"&&(ct=ct.getNode(),st=ct.getChildAtIndex(lt-1),st=st===null?ct:st),ct=[];var ft=ut.getNextSiblings(),dt=M(ut)?null:ut.getTopLevelElementOrThrow();if(B$4(ut))if(st=ut.getTextContent().length,lt===0&&st!==0)st=ut.getPreviousSibling(),st=st!==null?st:ut.getParentOrThrow(),ct.push(ut);else if(lt===st)st=ut;else{if(ut.isToken())return!1;[st,ut]=ut.splitText(lt),ct.push(ut)}ut=st,ct.push(...ft),ft=rt[0];var pt=!1,ht=null;for(let vt=0;vt<rt.length;vt++){var gt=rt[vt];if(M(st)||z$4(st)||!F$4(gt)||gt.isInline())pt&&!F$4(gt)&&!z$4(gt)&&M(st.getParent())&&q$4(28);else{if(gt.is(ft)){if(F$4(st)&&st.isEmpty()&&st.canReplaceWith(gt)){st.replace(gt),st=gt,pt=!0;continue}if(pt=gt.getFirstDescendant(),Rb(pt)){for(var mt=pt.getParentOrThrow();mt.isInline();)mt=mt.getParentOrThrow();if(ht=mt.getChildren(),pt=ht.length,F$4(st)){var xt=st.getFirstChild();for(let yt=0;yt<pt;yt++){let _t=ht[yt];xt===null?st.append(_t):xt.insertAfter(_t),xt=_t}}else{for(xt=pt-1;0<=xt;xt--)st.insertAfter(ht[xt]);st=st.getParentOrThrow()}if(ht=ht[pt-1],mt.remove(),pt=!0,mt.is(gt))continue}}B$4(st)&&(dt===null&&q$4(27),st=dt)}pt=!1,F$4(st)&&!st.isInline()?(ht=gt,z$4(gt)&&!gt.isInline()?st=st.insertAfter(gt,!1):F$4(gt)?(gt.canBeEmpty()||!gt.isEmpty())&&(L$1(st)?(mt=st.getChildAtIndex(lt),mt!==null?mt.insertBefore(gt):st.append(gt),st=gt):gt.isInline()?(st.append(gt),st=gt):st=st.insertAfter(gt,!1)):(mt=st.getFirstChild(),mt!==null?mt.insertBefore(gt):st.append(gt),st=gt)):!F$4(gt)||F$4(gt)&&gt.isInline()||z$4(st)&&!st.isInline()?(ht=gt,C$2(this)&&z$4(gt)&&(F$4(st)||B$4(st))&&!gt.isInline()?(B$4(st)?(mt=st.getParentOrThrow(),[st]=st.splitText(lt),st=st.getIndexWithinParent()+1):(mt=st,st=lt),[,st]=yc(mt,st),st=st.insertBefore(gt)):st=st.insertAfter(gt,!1)):(gt=st.getParentOrThrow(),Sb(st)&&st.remove(),st=gt,vt--)}if(at&&(B$4(ut)?ut.select():(rt=st.getPreviousSibling(),B$4(rt)?rt.select():(rt=st.getIndexWithinParent(),st.getParentOrThrow().select(rt,rt)))),F$4(st)){if(rt=B$4(ht)?ht:F$4(ht)&&ht.isInline()?ht.getLastDescendant():st.getLastDescendant(),at||(rt===null?st.select():B$4(rt)?rt.getTextContent()===""?rt.selectPrevious():rt.select():rt.selectNext()),ct.length!==0)for(at=st,rt=ct.length-1;0<=rt;rt--)lt=ct[rt],dt=lt.getParentOrThrow(),!F$4(st)||re$1(lt)||z$4(lt)&&(!lt.isInline()||lt.isIsolated())?F$4(st)||re$1(lt)?F$4(lt)&&!lt.canInsertAfter(st)?(ut=dt.constructor.clone(dt),F$4(ut)||q$4(29),ut.append(lt),st.insertAfter(ut)):st.insertAfter(lt):(st.insertBefore(lt),st=lt):(at===st?st.append(lt):st.insertBefore(lt),st=lt),dt.isEmpty()&&!dt.canBeEmpty()&&dt.remove()}else at||(B$4(st)?st.select():(at=st.getParentOrThrow(),rt=st.getIndexWithinParent()+1,at.select(rt,rt)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var rt=this.anchor,at=rt.offset,lt=[];if(rt.type==="text"){var st=rt.getNode(),ct=st.getNextSiblings().reverse(),ut=st.getParentOrThrow(),ft=ut.isInline(),dt=ft?ut.getTextContentSize():st.getTextContentSize();at===0?ct.push(st):(ft&&(lt=ut.getNextSiblings()),at===dt||ft&&at===st.getTextContentSize()||([,st]=st.splitText(at),ct.push(st)))}else{if(ut=rt.getNode(),M(ut)){ct=ae(),lt=ut.getChildAtIndex(at),ct.select(),lt!==null?lt.insertBefore(ct,!1):ut.append(ct);return}ct=ut.getChildren().slice(at).reverse()}if(st=ct.length,at===0&&0<st&&ut.isInline()){if(lt=ut.getParentOrThrow(),ct=lt.insertNewAfter(this,!1),F$4(ct))for(lt=lt.getChildren(),ut=0;ut<lt.length;ut++)ct.append(lt[ut])}else if(ft=ut.insertNewAfter(this,!1),ft===null)this.insertLineBreak();else if(F$4(ft))if(dt=ut.getFirstChild(),at===0&&(ut.is(rt.getNode())||dt&&dt.is(rt.getNode()))&&0<st)ut.insertBefore(ft);else{if(ut=null,at=lt.length,rt=ft.getParentOrThrow(),0<at)for(dt=0;dt<at;dt++)rt.append(lt[dt]);if(st!==0)for(lt=0;lt<st;lt++)at=ct[lt],ut===null?ft.append(at):ut.insertBefore(at),ut=at;ft.canBeEmpty()||ft.getChildrenSize()!==0?ft.selectStart():(ft.selectPrevious(),ft.remove())}}insertLineBreak(rt){let at=pe();var lt=this.anchor;lt.type==="element"&&(lt=lt.getNode(),L$1(lt)&&this.insertParagraph()),rt?this.insertNodes([at],!0):this.insertNodes([at])&&at.selectNext(0,0)}getCharacterOffsets(){return je(this)}extract(){var rt=this.getNodes(),at=rt.length,lt=at-1,st=this.anchor;let ct=this.focus;var ut=rt[0];let ft=rt[lt],[dt,pt]=je(this);return at===0?[]:at===1?B$4(ut)&&!this.isCollapsed()?(rt=dt>pt?pt:dt,lt=ut.splitText(rt,dt>pt?dt:pt),rt=rt===0?lt[0]:lt[1],rt!=null?[rt]:[]):[ut]:(at=st.isBefore(ct),B$4(ut)&&(st=at?dt:pt,st===ut.getTextContentSize()?rt.shift():st!==0&&([,ut]=ut.splitText(st),rt[0]=ut)),B$4(ft)&&(ut=ft.getTextContent().length,at=at?pt:dt,at===0?rt.pop():at!==ut&&([ft]=ft.splitText(at),rt[lt]=ft)),rt)}modify(rt,at,lt){var st=this.focus,ct=this.anchor,ut=rt==="move",ft=nc(st,at);if(z$4(ft)&&!ft.isIsolated())ut&&ft.isKeyboardSelectable()?(at=se(),at.add(ft.__key),xb(at)):(rt=at?ft.getPreviousSibling():ft.getNextSibling(),B$4(rt)?(ft=rt.__key,at=at?rt.getTextContent().length:0,st.set(ft,at,"text"),ut&&ct.set(ft,at,"text")):(lt=ft.getParentOrThrow(),F$4(rt)?(lt=rt.__key,ft=at?rt.getChildrenSize():0):(ft=ft.getIndexWithinParent(),lt=lt.__key,at||ft++),st.set(lt,ft,"element"),ut&&ct.set(lt,ft,"element")));else if(ct=H$1(),st=E$4(ct._window)){var dt=ct._blockCursorElement,pt=ct._rootElement;if(pt===null||dt===null||!F$4(ft)||ft.isInline()||ft.canBeEmpty()||xc(dt,ct,pt),st.modify(rt,at?"backward":"forward",lt),0<st.rangeCount&&(ft=st.getRangeAt(0),ct=this.anchor.getNode(),ct=L$1(ct)?ct:sc(ct),this.applyDOMRange(ft),this.dirty=!0,!ut)){for(ut=this.getNodes(),rt=[],lt=!1,dt=0;dt<ut.length;dt++)pt=ut[dt],rc(pt,ct)?rt.push(pt):lt=!0;lt&&0<rt.length&&(at?(at=rt[0],F$4(at)?at.selectStart():at.getParentOrThrow().selectStart()):(at=rt[rt.length-1],F$4(at)?at.selectEnd():at.getParentOrThrow().selectEnd())),(st.anchorNode!==ft.startContainer||st.anchorOffset!==ft.startOffset)&&(at=this.focus,ut=this.anchor,st=ut.key,ft=ut.offset,ct=ut.type,ee(ut,at.key,at.offset,at.type),ee(at,st,ft,ct),this._cachedNodes=null)}}}deleteCharacter(rt){if(this.isCollapsed()){var at=this.anchor,lt=this.focus,st=at.getNode();if(!rt&&(at.type==="element"&&F$4(st)&&at.offset===st.getChildrenSize()||at.type==="text"&&at.offset===st.getTextContentSize())){var ct=st.getParent();if(ct=st.getNextSibling()||(ct===null?null:ct.getNextSibling()),F$4(ct)&&ct.isShadowRoot())return}if(ct=nc(lt,rt),z$4(ct)&&!ct.isIsolated()){ct.isKeyboardSelectable()&&F$4(st)&&st.getChildrenSize()===0?(st.remove(),rt=se(),rt.add(ct.__key),xb(rt)):ct.remove();return}if(this.modify("extend",rt,"character"),this.isCollapsed()){if(rt&&at.offset===0&&(at.type==="element"?at.getNode():at.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(ct=lt.type==="text"?lt.getNode():null,st=at.type==="text"?at.getNode():null,ct!==null&&ct.isSegmented()){if(at=lt.offset,lt=ct.getTextContentSize(),ct.is(st)||rt&&at!==lt||!rt&&at!==0){te(ct,rt,at);return}}else if(st!==null&&st.isSegmented()&&(at=at.offset,lt=st.getTextContentSize(),st.is(ct)||rt&&at!==0||!rt&&at!==lt)){te(st,rt,at);return}if(st=this.anchor,ct=this.focus,at=st.getNode(),lt=ct.getNode(),at===lt&&st.type==="text"&&ct.type==="text"){var ut=st.offset,ft=ct.offset;let dt=ut<ft;lt=dt?ut:ft,ft=dt?ft:ut,ut=ft-1,lt!==ut&&(at=at.getTextContent().slice(lt,ft),ec(at)||(rt?ct.offset=ut:st.offset=ut))}}}st=this.isCollapsed(),this.removeText(),rt&&!st&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(rt=this.anchor.getNode(),rt.isEmpty()&&L$1(rt.getParent())&&rt.getIndexWithinParent()===0&&rt.collapseAtStart(this))}deleteLine(rt){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",rt,"lineboundary"),(rt?this.focus:this.anchor).offset===0&&this.modify("extend",rt,"character")),this.removeText()}deleteWord(rt){this.isCollapsed()&&this.modify("extend",rt,"word"),this.removeText()}}function Qd(_e){return _e instanceof fe}function ue(_e){let rt=_e.offset;return _e.type==="text"?rt:(_e=_e.getNode(),rt===_e.getChildrenSize()?_e.getTextContent().length:0)}function je(_e){let rt=_e.anchor;return _e=_e.focus,rt.type==="element"&&_e.type==="element"&&rt.key===_e.key&&rt.offset===_e.offset?[0,0]:[ue(rt),ue(_e)]}function te(_e,rt,at){let lt=_e.getTextContent().split(/(?=\s)/g),st=lt.length,ct=0,ut=0;for(let ft=0;ft<st;ft++){let dt=lt[ft],pt=ft===st-1;if(ut=ct,ct+=dt.length,rt&&ct===at||ct>at||pt){lt.splice(ft,1),pt&&(ut=void 0);break}}rt=lt.join("").trim(),rt===""?_e.remove():(_e.setTextContent(rt),_e.select(ut,ut))}function Ee(_e,rt,at,lt){var st=rt;if(_e.nodeType===1){let ft=!1;var ct=_e.childNodes,ut=ct.length;st===ut&&(ft=!0,st=ut-1);let dt=ct[st];if(ut=!1,dt===lt._blockCursorElement?(dt=ct[st+1],ut=!0):lt._blockCursorElement!==null&&st--,lt=dc(dt),B$4(lt))st=ft?lt.getTextContentSize():0;else{if(ct=dc(_e),ct===null)return null;if(F$4(ct)?(_e=ct.getChildAtIndex(st),(rt=F$4(_e))&&(rt=_e.getParent(),rt=at===null||rt===null||!rt.canBeEmpty()||rt!==at.getNode()),rt&&(at=ft?_e.getLastDescendant():_e.getFirstDescendant(),at===null?(ct=_e,st=0):(_e=at,ct=F$4(_e)?_e:_e.getParentOrThrow())),B$4(_e)?(lt=_e,ct=null,st=ft?_e.getTextContentSize():0):_e!==ct&&ft&&!ut&&st++):(st=ct.getIndexWithinParent(),st=rt===0&&z$4(ct)&&dc(_e)===ct?st:st+1,ct=ct.getParentOrThrow()),F$4(ct))return new be(ct.__key,st,"element")}}else lt=dc(_e);return B$4(lt)?new be(lt.__key,st,"text"):null}function Fe(_e,rt,at){var lt=_e.offset,st=_e.getNode();lt===0?(lt=st.getPreviousSibling(),st=st.getParent(),rt?(at||!rt)&&lt===null&&F$4(st)&&st.isInline()&&(rt=st.getPreviousSibling(),B$4(rt)&&(_e.key=rt.__key,_e.offset=rt.getTextContent().length)):F$4(lt)&&!at&&lt.isInline()?(_e.key=lt.__key,_e.offset=lt.getChildrenSize(),_e.type="element"):B$4(lt)&&(_e.key=lt.__key,_e.offset=lt.getTextContent().length)):lt===st.getTextContent().length&&(lt=st.getNextSibling(),st=st.getParent(),rt&&F$4(lt)&&lt.isInline()?(_e.key=lt.__key,_e.offset=0,_e.type="element"):(at||rt)&&lt===null&&F$4(st)&&st.isInline()&&!st.canInsertTextAfter()&&(rt=st.getNextSibling(),B$4(rt)&&(_e.key=rt.__key,_e.offset=0)))}function qe(_e,rt,at){if(_e.type==="text"&&rt.type==="text"){var lt=_e.isBefore(rt);let st=_e.is(rt);Fe(_e,lt,st),Fe(rt,!lt,st),st&&(rt.key=_e.key,rt.offset=_e.offset,rt.type=_e.type),lt=H$1(),lt.isComposing()&&lt._compositionKey!==_e.key&&C$2(at)&&(lt=at.anchor,at=at.focus,ee(_e,lt.key,lt.offset,lt.type),ee(rt,at.key,at.offset,at.type))}}function oe(_e,rt,at,lt,st,ct){return _e===null||at===null||!Fb(st,_e,at)||(rt=Ee(_e,rt,C$2(ct)?ct.anchor:null,st),rt===null)||(lt=Ee(at,lt,C$2(ct)?ct.focus:null,st),lt===null||rt.type==="element"&&lt.type==="element"&&(_e=dc(_e),at=dc(at),z$4(_e)&&z$4(at)))?null:(qe(rt,lt,ct),[rt,lt])}function re$1(_e){return F$4(_e)&&!_e.isInline()}function Ge(_e,rt,at,lt,st,ct){let ut=Vb();return _e=new ge(new be(_e,rt,st),new be(at,lt,ct),0,""),_e.dirty=!0,ut._selection=_e}function se(){return new fe(new Set)}function He(_e){let rt=_e.getEditorState()._selection,at=E$4(_e._window);return Qd(rt)||ie(rt)?rt.clone():Ud(rt,at,_e)}function Ud(_e,rt,at){var lt=at._window;if(lt===null)return null;var st=lt.event,ct=st?st.type:void 0;lt=ct==="selectionchange",st=!ob&&(lt||ct==="beforeinput"||ct==="compositionstart"||ct==="compositionend"||ct==="click"&&st&&st.detail===3||ct==="drop"||ct===void 0);let ut;if(!C$2(_e)||st){if(rt===null)return null;if(st=rt.anchorNode,ct=rt.focusNode,ut=rt.anchorOffset,rt=rt.focusOffset,lt&&C$2(_e)&&!Fb(at,st,ct))return _e.clone()}else return _e.clone();if(at=oe(st,ut,ct,rt,at,_e),at===null)return null;let[ft,dt]=at;return new ge(ft,dt,C$2(_e)?_e.format:0,C$2(_e)?_e.style:"")}function v$1(){return Vb()._selection}function ic(){return H$1()._editorState._selection}function Yd(_e,rt,at,lt=1){var st=_e.anchor,ct=_e.focus,ut=st.getNode(),ft=ct.getNode();if(rt.is(ut)||rt.is(ft)){if(ut=rt.__key,_e.isCollapsed())rt=st.offset,(at<=rt&&0<lt||at<rt&&0>lt)&&(at=Math.max(0,rt+lt),st.set(ut,at,"element"),ct.set(ut,at,"element"),Ie(_e));else{let pt=_e.isBackward();ft=pt?ct:st;var dt=ft.getNode();st=pt?st:ct,ct=st.getNode(),rt.is(dt)&&(dt=ft.offset,(at<=dt&&0<lt||at<dt&&0>lt)&&ft.set(ut,Math.max(0,dt+lt),"element")),rt.is(ct)&&(rt=st.offset,(at<=rt&&0<lt||at<rt&&0>lt)&&st.set(ut,Math.max(0,rt+lt),"element"))}Ie(_e)}}function Ie(_e){var rt=_e.anchor,at=rt.offset;let lt=_e.focus;var st=lt.offset,ct=rt.getNode(),ut=lt.getNode();if(_e.isCollapsed())F$4(ct)&&(ut=ct.getChildrenSize(),ut=(st=at>=ut)?ct.getChildAtIndex(ut-1):ct.getChildAtIndex(at),B$4(ut)&&(at=0,st&&(at=ut.getTextContentSize()),rt.set(ut.__key,at,"text"),lt.set(ut.__key,at,"text")));else{if(F$4(ct)){let ft=ct.getChildrenSize();at=(_e=at>=ft)?ct.getChildAtIndex(ft-1):ct.getChildAtIndex(at),B$4(at)&&(ct=0,_e&&(ct=at.getTextContentSize()),rt.set(at.__key,ct,"text"))}F$4(ut)&&(at=ut.getChildrenSize(),st=(rt=st>=at)?ut.getChildAtIndex(at-1):ut.getChildAtIndex(st),B$4(st)&&(ut=0,rt&&(ut=st.getTextContentSize()),lt.set(st.__key,ut,"text")))}}function Je(_e,rt){if(rt=rt.getEditorState()._selection,_e=_e._selection,C$2(_e)){var at=_e.anchor;let lt=_e.focus,st;at.type==="text"&&(st=at.getNode(),st.selectionTransform(rt,_e)),lt.type==="text"&&(at=lt.getNode(),st!==at&&at.selectionTransform(rt,_e))}}function Xd(_e,rt,at,lt,st){let ct=null,ut=0,ft=null;lt!==null?(ct=lt.__key,B$4(lt)?(ut=lt.getTextContentSize(),ft="text"):F$4(lt)&&(ut=lt.getChildrenSize(),ft="element")):st!==null&&(ct=st.__key,B$4(st)?ft="text":F$4(st)&&(ft="element")),ct!==null&&ft!==null?_e.set(ct,ut,ft):(ut=rt.getIndexWithinParent(),ut===-1&&(ut=at.getChildrenSize()),_e.set(at.__key,ut,"element"))}function Ke(_e,rt,at,lt,st){_e.type==="text"?(_e.key=at,rt||(_e.offset+=st)):_e.offset>lt.getIndexWithinParent()&&--_e.offset}function ne(_e,rt,at){let lt=[],st=null,ct=null;_e=_e.getChildren();for(let ht=0;ht<_e.length;ht++){var ut=_e[ht];le(ut)||q$4(108);var ft=ut.getChildren();ut=0;for(let gt of ft){for(ke(gt)||q$4(109);lt[ht]!==void 0&&lt[ht][ut]!==void 0;)ut++;ft=ht;var dt=ut,pt=gt;let mt={cell:pt,startColumn:dt,startRow:ft},xt=pt.__rowSpan,vt=pt.__colSpan;for(let yt=0;yt<xt;yt++){lt[ft+yt]===void 0&&(lt[ft+yt]=[]);for(let _t=0;_t<vt;_t++)lt[ft+yt][dt+_t]=mt}rt.is(pt)&&(st=mt),at.is(pt)&&(ct=mt),ut+=gt.__colSpan}}return st===null&&q$4(110),ct===null&&q$4(111),[lt,st,ct]}let T$1=null,Y=null,Z=!1,Le=!1,Ub=0,Me={characterData:!0,childList:!0,subtree:!0};function Zb(){return Z||T$1!==null&&T$1._readOnly}function G$2(){Z&&q$4(13)}function Vb(){return T$1===null&&q$4(15),T$1}function H$1(){return Y===null&&q$4(16),Y}function Ne(_e,rt,at){var lt=rt.__type;let st=_e._nodes.get(lt);for(st===void 0&&q$4(30),_e=at.get(lt),_e===void 0&&(_e=Array.from(st.transforms),at.set(lt,_e)),at=_e.length,lt=0;lt<at&&(_e[lt](rt),rt.isAttached());lt++);}function Oe(_e,rt){rt=rt._dirtyLeaves,_e=_e._nodeMap;for(let at of rt)rt=_e.get(at),B$4(rt)&&rt.isAttached()&&rt.isSimpleText()&&!rt.isUnmergeable()&&Fc(rt)}function Pe(_e,rt){let at=rt._dirtyLeaves,lt=rt._dirtyElements;_e=_e._nodeMap;let st=Yb(),ct=new Map;var ut=at;let ft=ut.size;for(var dt=lt,pt=dt.size;0<ft||0<pt;){if(0<ft){rt._dirtyLeaves=new Set;for(let ht of ut)ut=_e.get(ht),B$4(ut)&&ut.isAttached()&&ut.isSimpleText()&&!ut.isUnmergeable()&&Fc(ut),ut!==void 0&&ut!==void 0&&ut.__key!==st&&ut.isAttached()&&Ne(rt,ut,ct),at.add(ht);if(ut=rt._dirtyLeaves,ft=ut.size,0<ft){Ub++;continue}}rt._dirtyLeaves=new Set,rt._dirtyElements=new Map;for(let ht of dt)dt=ht[0],pt=ht[1],(dt==="root"||pt)&&(ut=_e.get(dt),ut!==void 0&&ut!==void 0&&ut.__key!==st&&ut.isAttached()&&Ne(rt,ut,ct),lt.set(dt,pt));ut=rt._dirtyLeaves,ft=ut.size,dt=rt._dirtyElements,pt=dt.size,Ub++}rt._dirtyLeaves=at,rt._dirtyElements=lt}function Qe(_e,rt){var at=rt.get(_e.type);if(at===void 0&&q$4(17),at=at.klass,_e.type!==at.getType()&&q$4(18),at=at.importJSON(_e),_e=_e.children,F$4(at)&&Array.isArray(_e))for(let lt=0;lt<_e.length;lt++){let st=Qe(_e[lt],rt);at.append(st)}return at}function Re(_e,rt){let at=T$1,lt=Z,st=Y;T$1=_e,Z=!0,Y=null;try{return rt()}finally{T$1=at,Z=lt,Y=st}}function Se(_e){let rt=_e._pendingEditorState,at=_e._rootElement,lt=_e._headless||at===null;if(rt!==null){var st=_e._editorState,ct=st._selection,ut=rt._selection,ft=_e._dirtyType!==0,dt=T$1,pt=Z,ht=Y,gt=_e._updating,mt=_e._observer,xt=null;if(_e._pendingEditorState=null,_e._editorState=rt,!lt&&ft&&mt!==null){Y=_e,T$1=rt,Z=!1,_e._updating=!0;try{let jt=_e._dirtyType,Dt=_e._dirtyElements,zt=_e._dirtyLeaves;mt.disconnect();var vt=jt,yt=Dt,_t=zt;O$1=Ic=N$1="",Tc=vt===2,Wc=null,R=_e,Rc=_e._config,Sc=_e._nodes,Vc=R._listeners.mutation,Xc=yt,Yc=_t,Zc=st._nodeMap,$c=rt._nodeMap,Uc=rt._readOnly,ad=new Map(_e._keyToDOMMap);let Nt=new Map;bd=Nt,pd("root",null),bd=ad=Rc=$c=Zc=Yc=Xc=Sc=R=void 0,xt=Nt}catch(jt){if(jt instanceof Error&&_e._onError(jt),Le)throw jt;Te(_e,null,at,rt),Ab(_e),_e._dirtyType=2,Le=!0,Se(_e),Le=!1;return}finally{mt.observe(at,Me),_e._updating=gt,T$1=dt,Z=pt,Y=ht}}rt._readOnly||(rt._readOnly=!0);var $t=_e._dirtyLeaves,Et=_e._dirtyElements,wt=_e._normalizedNodes,bt=_e._updateTags,St=_e._deferred;ft&&(_e._dirtyType=0,_e._cloneNotNeeded.clear(),_e._dirtyLeaves=new Set,_e._dirtyElements=new Map,_e._normalizedNodes=new Set,_e._updateTags=new Set);var Tt=_e._decorators,Rt=_e._pendingDecorators||Tt,kt=rt._nodeMap,At;for(At in Rt)kt.has(At)||(Rt===Tt&&(Rt=$b(_e)),delete Rt[At]);var Ct=lt?null:E$4(_e._window);if(_e._editable&&Ct!==null&&(ft||ut===null||ut.dirty)){Y=_e,T$1=rt;try{if(mt!==null&&mt.disconnect(),ft||ut===null||ut.dirty){let jt=_e._blockCursorElement;jt!==null&&xc(jt,_e,at);e:{let Dt=Ct.anchorNode,zt=Ct.focusNode,Nt=Ct.anchorOffset,Vt=Ct.focusOffset,Jt=document.activeElement;if(!(bt.has("collaboration")&&Jt!==at||Jt!==null&&Eb(Jt)))if(C$2(ut)){var Mt=ut.anchor,Ot=ut.focus,Pt=Mt.key,It=Ot.key,Ft=pc(_e,Pt),Wt=pc(_e,It),Xt=Mt.offset,Lt=Ot.offset,Bt=ut.format,Ut=ut.style,dn=ut.isCollapsed(),Zt=Ft,cn=Wt,Gt=!1;if(Mt.type==="text"){Zt=Pb(Ft);let mn=Mt.getNode();Gt=mn.getFormat()!==Bt||mn.getStyle()!==Ut}else C$2(ct)&&ct.anchor.type==="text"&&(Gt=!0);if(Ot.type==="text"&&(cn=Pb(Wt)),Zt!==null&&cn!==null){if(dn&&(ct===null||Gt||C$2(ct)&&(ct.format!==Bt||ct.style!==Ut))){var Yt=performance.now();Jd=[Bt,Ut,Xt,Pt,Yt]}if(Nt===Xt&&Vt===Lt&&Dt===Zt&&zt===cn&&(Ct.type!=="Range"||!dn)&&(Jt!==null&&at.contains(Jt)||at.focus({preventScroll:!0}),Mt.type!=="element"))break e;try{Ct.setBaseAndExtent(Zt,Xt,cn,Lt)}catch{}if(!bt.has("skip-scroll-into-view")&&ut.isCollapsed()&&at!==null&&at===document.activeElement){let mn=ut instanceof ge&&ut.anchor.type==="element"?Zt.childNodes[Xt]||null:0<Ct.rangeCount?Ct.getRangeAt(0):null;if(mn!==null){let yn;if(mn instanceof Text){let ln=document.createRange();ln.selectNode(mn),yn=ln.getBoundingClientRect()}else yn=mn.getBoundingClientRect();let Kt=at.ownerDocument,sn=Kt.defaultView;if(sn!==null)for(var{top:pn,bottom:$n}=yn,Sn,Qt,vn=at;vn!==null;){let ln=vn===Kt.body;if(ln)Sn=0,Qt=Bb(_e).innerHeight;else{let _n=vn.getBoundingClientRect();Sn=_n.top,Qt=_n.bottom}let gn=0;if(pn<Sn?gn=-(Sn-pn):$n>Qt&&(gn=$n-Qt),gn!==0)if(ln)sn.scrollBy(0,gn);else{let _n=vn.scrollTop;vn.scrollTop+=gn;let bn=vn.scrollTop-_n;pn-=bn,$n-=bn}if(ln)break;vn=Hb(vn)}}}Fd=!0}}else ct!==null&&Fb(_e,Dt,zt)&&Ct.removeAllRanges()}}e:{let jt=_e._blockCursorElement;if(C$2(ut)&&ut.isCollapsed()&&ut.anchor.type==="element"&&at.contains(document.activeElement)){let Dt=ut.anchor,zt=Dt.getNode(),Nt=Dt.offset,Vt=zt.getChildrenSize(),Jt=!1,mn=null;if(Nt===Vt){let yn=zt.getChildAtIndex(Nt-1);wc(yn)&&(Jt=!0)}else{let yn=zt.getChildAtIndex(Nt);if(wc(yn)){let Kt=yn.getPreviousSibling();(Kt===null||wc(Kt))&&(Jt=!0,mn=_e.getElementByKey(yn.__key))}}if(Jt){let yn=_e.getElementByKey(zt.__key);if(jt===null){let Kt=_e._config.theme,sn=document.createElement("div");sn.contentEditable="false",sn.setAttribute("data-lexical-cursor","true");let ln=Kt.blockCursor;if(ln!==void 0){if(typeof ln=="string"){let gn=ln.split(" ");ln=Kt.blockCursor=gn}ln!==void 0&&sn.classList.add(...ln)}_e._blockCursorElement=jt=sn}at.style.caretColor="transparent",mn===null?yn.appendChild(jt):yn.insertBefore(jt,mn);break e}}jt!==null&&xc(jt,_e,at)}mt!==null&&mt.observe(at,Me)}finally{Y=ht,T$1=dt}}if(xt!==null){var wn=xt;let jt=Array.from(_e._listeners.mutation),Dt=jt.length;for(let zt=0;zt<Dt;zt++){let[Nt,Vt]=jt[zt],Jt=wn.get(Vt);Jt!==void 0&&Nt(Jt,{dirtyLeaves:$t,updateTags:bt})}}C$2(ut)||ut===null||ct!==null&&ct.is(ut)||_e.dispatchCommand(ca$1,void 0);var qt=_e._pendingDecorators;qt!==null&&(_e._decorators=qt,_e._pendingDecorators=null,Ue("decorator",_e,!0,qt));var En=ac(st),xn=ac(rt);if(En!==xn&&Ue("textcontent",_e,!0,xn),Ue("update",_e,!0,{dirtyElements:Et,dirtyLeaves:$t,editorState:rt,normalizedNodes:wt,prevEditorState:st,tags:bt}),_e._deferred=[],St.length!==0){let jt=_e._updating;_e._updating=!0;try{for(let Dt=0;Dt<St.length;Dt++)St[Dt]()}finally{_e._updating=jt}}var hn=_e._updates;if(hn.length!==0){let jt=hn.shift();if(jt){let[Dt,zt]=jt;Ve(_e,Dt,zt)}}}}function Ue(_e,rt,at,...lt){let st=rt._updating;rt._updating=at;try{let ct=Array.from(rt._listeners[_e]);for(_e=0;_e<ct.length;_e++)ct[_e].apply(null,lt)}finally{rt._updating=st}}function S$1(_e,rt,at){if(_e._updating===!1||Y!==_e){let ct=!1;return _e.update(()=>{ct=S$1(_e,rt,at)}),ct}let lt=fc(_e);for(let ct=4;0<=ct;ct--)for(let ut=0;ut<lt.length;ut++){var st=lt[ut]._commands.get(rt);if(st!==void 0&&(st=st[ct],st!==void 0)){st=Array.from(st);let ft=st.length;for(let dt=0;dt<ft;dt++)if(st[dt](at,_e)===!0)return!0}}return!1}function We(_e,rt){let at=_e._updates;for(rt=rt||!1;at.length!==0;){var lt=at.shift();if(lt){let[st,ct]=lt,ut;ct!==void 0&&(lt=ct.onUpdate,ut=ct.tag,ct.skipTransforms&&(rt=!0),lt&&_e._deferred.push(lt),ut&&_e._updateTags.add(ut)),st()}}return rt}function Ve(_e,rt,at){let lt=_e._updateTags;var st,ct=st=!1;if(at!==void 0){var ut=at.onUpdate;st=at.tag,st!=null&&lt.add(st),st=at.skipTransforms||!1,ct=at.discrete||!1}ut&&_e._deferred.push(ut),at=_e._editorState,ut=_e._pendingEditorState;let ft=!1;(ut===null||ut._readOnly)&&(ut=_e._pendingEditorState=new Xe(new Map((ut||at)._nodeMap)),ft=!0),ut._flushSync=ct,ct=T$1;let dt=Z,pt=Y,ht=_e._updating;T$1=ut,Z=!1,_e._updating=!0,Y=_e;try{ft&&(_e._headless?at._selection!=null&&(ut._selection=at._selection.clone()):ut._selection=He(_e));let gt=_e._compositionKey;rt(),st=We(_e,st),Je(ut,_e),_e._dirtyType!==0&&(st?Oe(ut,_e):Pe(ut,_e),We(_e),Cc(at,ut,_e._dirtyLeaves,_e._dirtyElements)),gt!==_e._compositionKey&&(ut._flushSync=!0);let mt=ut._selection;if(C$2(mt)){let xt=ut._nodeMap,vt=mt.focus.key;xt.get(mt.anchor.key)!==void 0&&xt.get(vt)!==void 0||q$4(19)}else Qd(mt)&&mt._nodes.size===0&&(ut._selection=null)}catch(gt){gt instanceof Error&&_e._onError(gt),_e._pendingEditorState=at,_e._dirtyType=2,_e._cloneNotNeeded.clear(),_e._dirtyLeaves=new Set,_e._dirtyElements.clear(),Se(_e);return}finally{T$1=ct,Z=dt,Y=pt,_e._updating=ht,Ub=0}_e._dirtyType!==0||Ye(ut,_e)?ut._flushSync?(ut._flushSync=!1,Se(_e)):ft&&Db(()=>{Se(_e)}):(ut._flushSync=!1,ft&&(lt.clear(),_e._deferred=[],_e._pendingEditorState=null))}function w$3(_e,rt,at){_e._updating?_e._updates.push([rt,at]):Ve(_e,rt,at)}class Ze extends Zd{constructor(rt){super(rt)}decorate(){q$4(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function z$4(_e){return _e instanceof Ze}class $e extends Zd{constructor(rt){super(rt),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let rt=this.getFormat();return lb[rt]||""}getIndent(){return this.getLatest().__indent}getChildren(){let rt=[],at=this.getFirstChild();for(;at!==null;)rt.push(at),at=at.getNextSibling();return rt}getChildrenKeys(){let rt=[],at=this.getFirstChild();for(;at!==null;)rt.push(at.__key),at=at.getNextSibling();return rt}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let rt=H$1()._dirtyElements;return rt!==null&&rt.has(this.__key)}isLastChild(){let rt=this.getLatest(),at=this.getParentOrThrow().getLastChild();return at!==null&&at.is(rt)}getAllTextNodes(){let rt=[],at=this.getFirstChild();for(;at!==null;){if(B$4(at)&&rt.push(at),F$4(at)){let lt=at.getAllTextNodes();rt.push(...lt)}at=at.getNextSibling()}return rt}getFirstDescendant(){let rt=this.getFirstChild();for(;rt!==null;){if(F$4(rt)){let at=rt.getFirstChild();if(at!==null){rt=at;continue}}break}return rt}getLastDescendant(){let rt=this.getLastChild();for(;rt!==null;){if(F$4(rt)){let at=rt.getLastChild();if(at!==null){rt=at;continue}}break}return rt}getDescendantByIndex(rt){let at=this.getChildren(),lt=at.length;return rt>=lt?(rt=at[lt-1],F$4(rt)&&rt.getLastDescendant()||rt||null):(rt=at[rt],F$4(rt)&&rt.getFirstDescendant()||rt||null)}getFirstChild(){let rt=this.getLatest().__first;return rt===null?null:J$1(rt)}getFirstChildOrThrow(){let rt=this.getFirstChild();return rt===null&&q$4(45),rt}getLastChild(){let rt=this.getLatest().__last;return rt===null?null:J$1(rt)}getLastChildOrThrow(){let rt=this.getLastChild();return rt===null&&q$4(96),rt}getChildAtIndex(rt){var at=this.getChildrenSize();let lt;if(rt<at/2){for(lt=this.getFirstChild(),at=0;lt!==null&&at<=rt;){if(at===rt)return lt;lt=lt.getNextSibling(),at++}return null}for(lt=this.getLastChild(),--at;lt!==null&&at>=rt;){if(at===rt)return lt;lt=lt.getPreviousSibling(),at--}return null}getTextContent(){let rt="",at=this.getChildren(),lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];rt+=ct.getTextContent(),F$4(ct)&&st!==lt-1&&!ct.isInline()&&(rt+=`

`)}return rt}getTextContentSize(){let rt=0,at=this.getChildren(),lt=at.length;for(let st=0;st<lt;st++){let ct=at[st];rt+=ct.getTextContentSize(),F$4(ct)&&st!==lt-1&&!ct.isInline()&&(rt+=2)}return rt}getDirection(){return this.getLatest().__dir}hasFormat(rt){return rt!==""?(rt=kb[rt],(this.getFormat()&rt)!==0):!1}select(rt,at){G$2();let lt=v$1(),st=rt,ct=at;var ut=this.getChildrenSize();if(!this.canBeEmpty()){if(rt===0&&at===0){if(rt=this.getFirstChild(),B$4(rt)||F$4(rt))return rt.select(0,0)}else if(!(rt!==void 0&&rt!==ut||at!==void 0&&at!==ut)&&(rt=this.getLastChild(),B$4(rt)||F$4(rt)))return rt.select()}if(st===void 0&&(st=ut),ct===void 0&&(ct=ut),ut=this.__key,C$2(lt))lt.anchor.set(ut,st,"element"),lt.focus.set(ut,ct,"element"),lt.dirty=!0;else return Ge(ut,st,ut,ct,"element","element");return lt}selectStart(){let rt=this.getFirstDescendant();return F$4(rt)||B$4(rt)?rt.select(0,0):rt!==null?rt.selectPrevious():this.select(0,0)}selectEnd(){let rt=this.getLastDescendant();return F$4(rt)||B$4(rt)?rt.select():rt!==null?rt.selectNext():this.select()}clear(){let rt=this.getWritable();return this.getChildren().forEach(at=>at.remove()),rt}append(...rt){return this.splice(this.getChildrenSize(),0,rt)}setDirection(rt){let at=this.getWritable();return at.__dir=rt,at}setFormat(rt){return this.getWritable().__format=rt!==""?kb[rt]:0,this}setIndent(rt){return this.getWritable().__indent=rt,this}splice(rt,at,lt){let st=lt.length,ct=this.getChildrenSize(),ut=this.getWritable(),ft=ut.__key;var dt=[],pt=[];let ht=this.getChildAtIndex(rt+at),gt=null,mt=ct-at+st;if(rt!==0)if(rt===ct)gt=this.getLastChild();else{var xt=this.getChildAtIndex(rt);xt!==null&&(gt=xt.getPreviousSibling())}if(0<at){var vt=gt===null?this.getFirstChild():gt.getNextSibling();for(xt=0;xt<at;xt++){vt===null&&q$4(100);var yt=vt.getNextSibling(),_t=vt.__key;vt=vt.getWritable(),Wb(vt),pt.push(_t),vt=yt}}for(xt=gt,yt=0;yt<st;yt++){_t=lt[yt],xt!==null&&_t.is(xt)&&(gt=xt=xt.getPreviousSibling()),vt=_t.getWritable(),vt.__parent===ft&&mt--,Wb(vt);let $t=_t.__key;xt===null?(ut.__first=$t,vt.__prev=null):(xt=xt.getWritable(),xt.__next=$t,vt.__prev=xt.__key),_t.__key===ft&&q$4(76),vt.__parent=ft,dt.push($t),xt=_t}if(rt+at===ct?xt!==null&&(xt.getWritable().__next=null,ut.__last=xt.__key):ht!==null&&(rt=ht.getWritable(),xt!==null?(at=xt.getWritable(),rt.__prev=xt.__key,at.__next=ht.__key):rt.__prev=null),ut.__size=mt,pt.length&&(rt=v$1(),C$2(rt))){pt=new Set(pt),dt=new Set(dt);let{anchor:$t,focus:Et}=rt;af($t,pt,dt)&&Xd($t,$t.getNode(),this,gt,ht),af(Et,pt,dt)&&Xd(Et,Et.getNode(),this,gt,ht),mt!==0||this.canBeEmpty()||M(this)||this.remove()}return ut}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function F$4(_e){return _e instanceof $e}function af(_e,rt,at){for(_e=_e.getNode();_e;){let lt=_e.__key;if(rt.has(lt)&&!at.has(lt))return!0;_e=_e.getParent()}return!1}class bf extends $e{static getType(){return"root"}static clone(){return new bf}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){q$4(51)}getTextContent(){let rt=this.__cachedText;return!Zb()&&H$1()._dirtyType!==0||rt===null?super.getTextContent():rt}remove(){q$4(52)}replace(){q$4(53)}insertBefore(){q$4(54)}insertAfter(){q$4(55)}updateDOM(){return!1}append(...rt){for(let at=0;at<rt.length;at++){let lt=rt[at];F$4(lt)||z$4(lt)||q$4(56)}return super.append(...rt)}static importJSON(rt){let at=bc();return at.setFormat(rt.format),at.setIndent(rt.indent),at.setDirection(rt.direction),at}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function L$1(_e){return _e instanceof bf}function Ye(_e,rt){if(rt=rt.getEditorState()._selection,_e=_e._selection,_e!==null){if(_e.dirty||!_e.is(rt))return!0}else if(rt!==null)return!0;return!1}function cf(){return new Xe(new Map([["root",new bf]]))}function df(_e){let rt=_e.exportJSON();rt.type!==_e.constructor.getType()&&q$4(58);let at=rt.children;if(F$4(_e)){Array.isArray(at)||q$4(59),_e=_e.getChildren();for(let lt=0;lt<_e.length;lt++){let st=df(_e[lt]);at.push(st)}}return rt}class Xe{constructor(rt,at){this._nodeMap=rt,this._selection=at||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(rt){return Re(this,rt)}clone(rt){return rt=new Xe(this._nodeMap,rt===void 0?this._selection:rt),rt._readOnly=!0,rt}toJSON(){return Re(this,()=>({root:df(bc())}))}}class ef extends Zd{static getType(){return"linebreak"}static clone(rt){return new ef(rt.__key)}constructor(rt){super(rt)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:rt=>{let at=rt.parentElement;return at!=null&&at.firstChild===rt&&at.lastChild===rt?null:{conversion:ff,priority:0}}}}static importJSON(){return pe()}exportJSON(){return{type:"linebreak",version:1}}}function ff(){return{node:pe()}}function pe(){return uc(new ef)}function Sb(_e){return _e instanceof ef}function gf(_e,rt){return rt&16?"code":rt&128?"mark":rt&32?"sub":rt&64?"sup":null}function hf(_e,rt){return rt&1?"strong":rt&2?"em":"span"}function jf(_e,rt,at,lt,st){_e=lt.classList,lt=kc(st,"base"),lt!==void 0&&_e.add(...lt),lt=kc(st,"underlineStrikethrough");let ct=!1,ut=rt&8&&rt&4;var ft=at&8&&at&4;lt!==void 0&&(ft?(ct=!0,ut||_e.add(...lt)):ut&&_e.remove(...lt));for(let dt in fb)ft=fb[dt],lt=kc(st,dt),lt!==void 0&&(at&ft?!ct||dt!=="underline"&&dt!=="strikethrough"?(!(rt&ft)||ut&&dt==="underline"||dt==="strikethrough")&&_e.add(...lt):rt&ft&&_e.remove(...lt):rt&ft&&_e.remove(...lt))}function kf(_e,rt,at){let lt=rt.firstChild;if(at=at.isComposing(),_e+=at?bb:"",lt==null)rt.textContent=_e;else if(rt=lt.nodeValue,rt!==_e)if(at||Wa){at=rt.length;let st=_e.length,ct=0,ut=0;for(;ct<at&&ct<st&&rt[ct]===_e[ct];)ct++;for(;ut+ct<at&&ut+ct<st&&rt[at-ut-1]===_e[st-ut-1];)ut++;_e=[ct,at-ct-ut,_e.slice(ct,st-ut)];let[ft,dt,pt]=_e;dt!==0&&lt.deleteData(ft,dt),lt.insertData(ft,pt)}else lt.nodeValue=_e}function lf(_e,rt){return rt=document.createElement(rt),rt.appendChild(_e),rt}class mf extends Zd{static getType(){return"text"}static clone(rt){return new mf(rt.__text,rt.__key)}constructor(rt,at){super(at),this.__text=rt,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let rt=this.getLatest();return nb[rt.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Yb()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(rt){return rt=fb[rt],(this.getFormat()&rt)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(rt,at){let lt=this.getLatest().__format;return Qb(lt,rt,at)}createDOM(rt){var at=this.__format,lt=gf(this,at);let st=hf(this,at),ct=document.createElement(lt===null?st:lt),ut=ct;return lt!==null&&(ut=document.createElement(st),ct.appendChild(ut)),lt=ut,kf(this.__text,lt,this),rt=rt.theme.text,rt!==void 0&&jf(st,0,at,lt,rt),at=this.__style,at!==""&&(ct.style.cssText=at),ct}updateDOM(rt,at,lt){let st=this.__text;var ct=rt.__format,ut=this.__format,ft=gf(this,ct);let dt=gf(this,ut);var pt=hf(this,ct);let ht=hf(this,ut);return(ft===null?pt:ft)!==(dt===null?ht:dt)?!0:ft===dt&&pt!==ht?(ct=at.firstChild,ct==null&&q$4(48),rt=ft=document.createElement(ht),kf(st,rt,this),lt=lt.theme.text,lt!==void 0&&jf(ht,0,ut,rt,lt),at.replaceChild(ft,ct),!1):(pt=at,dt!==null&&ft!==null&&(pt=at.firstChild,pt==null&&q$4(49)),kf(st,pt,this),lt=lt.theme.text,lt!==void 0&&ct!==ut&&jf(ht,ct,ut,pt,lt),ut=this.__style,rt.__style!==ut&&(at.style.cssText=ut),!1)}static importDOM(){return{"#text":()=>({conversion:nf,priority:0}),b:()=>({conversion:of,priority:0}),br:()=>({conversion:pf,priority:0}),code:()=>({conversion:vf,priority:0}),em:()=>({conversion:vf,priority:0}),i:()=>({conversion:vf,priority:0}),s:()=>({conversion:vf,priority:0}),span:()=>({conversion:wf,priority:0}),strong:()=>({conversion:vf,priority:0}),sub:()=>({conversion:vf,priority:0}),sup:()=>({conversion:vf,priority:0}),u:()=>({conversion:vf,priority:0})}}static importJSON(rt){let at=K$1(rt.text);return at.setFormat(rt.format),at.setDetail(rt.detail),at.setMode(rt.mode),at.setStyle(rt.style),at}exportDOM(rt){return{element:rt}=super.exportDOM(rt),rt!==null&&(this.hasFormat("bold")&&(rt=lf(rt,"b")),this.hasFormat("italic")&&(rt=lf(rt,"i")),this.hasFormat("strikethrough")&&(rt=lf(rt,"s")),this.hasFormat("underline")&&(rt=lf(rt,"u"))),{element:rt}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(rt){let at=this.getWritable();return at.__format=typeof rt=="string"?fb[rt]:rt,at}setDetail(rt){let at=this.getWritable();return at.__detail=typeof rt=="string"?gb[rt]:rt,at}setStyle(rt){let at=this.getWritable();return at.__style=rt,at}toggleFormat(rt){return rt=fb[rt],this.setFormat(this.getFormat()^rt)}toggleDirectionless(){let rt=this.getWritable();return rt.__detail^=1,rt}toggleUnmergeable(){let rt=this.getWritable();return rt.__detail^=2,rt}setMode(rt){if(rt=mb[rt],this.__mode===rt)return this;let at=this.getWritable();return at.__mode=rt,at}setTextContent(rt){if(this.__text===rt)return this;let at=this.getWritable();return at.__text=rt,at}select(rt,at){G$2();let lt=v$1();var st=this.getTextContent();let ct=this.__key;if(typeof st=="string"?(st=st.length,rt===void 0&&(rt=st),at===void 0&&(at=st)):at=rt=0,C$2(lt))st=Yb(),st!==lt.anchor.key&&st!==lt.focus.key||I$1(ct),lt.setTextNodeRange(this,rt,this,at);else return Ge(ct,rt,ct,at,"text","text");return lt}spliceText(rt,at,lt,st){let ct=this.getWritable(),ut=ct.__text,ft=lt.length,dt=rt;0>dt&&(dt=ft+dt,0>dt&&(dt=0));let pt=v$1();return st&&C$2(pt)&&(rt+=ft,pt.setTextNodeRange(ct,rt,ct,rt)),at=ut.slice(0,dt)+lt+ut.slice(dt+at),ct.__text=at,ct}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...rt){G$2();var at=this.getLatest(),lt=at.getTextContent(),st=at.__key,ct=Yb(),ut=new Set(rt);rt=[];for(var ft=lt.length,dt="",pt=0;pt<ft;pt++)dt!==""&&ut.has(pt)&&(rt.push(dt),dt=""),dt+=lt[pt];if(dt!==""&&rt.push(dt),ut=rt.length,ut===0)return[];if(rt[0]===lt)return[at];var ht=rt[0];lt=at.getParentOrThrow(),pt=at.getFormat();let gt=at.getStyle(),mt=at.__detail;ft=!1,at.isSegmented()?(dt=K$1(ht),dt.__format=pt,dt.__style=gt,dt.__detail=mt,ft=!0):(dt=at.getWritable(),dt.__text=ht),at=v$1(),dt=[dt],ht=ht.length;for(let yt=1;yt<ut;yt++){var xt=rt[yt],vt=xt.length;xt=K$1(xt).getWritable(),xt.__format=pt,xt.__style=gt,xt.__detail=mt;let _t=xt.__key;if(vt=ht+vt,C$2(at)){let $t=at.anchor,Et=at.focus;$t.key===st&&$t.type==="text"&&$t.offset>ht&&$t.offset<=vt&&($t.key=_t,$t.offset-=ht,at.dirty=!0),Et.key===st&&Et.type==="text"&&Et.offset>ht&&Et.offset<=vt&&(Et.key=_t,Et.offset-=ht,at.dirty=!0)}ct===st&&I$1(_t),ht=vt,dt.push(xt)}return st=this.getPreviousSibling(),ct=this.getNextSibling(),st!==null&&Xb(st),ct!==null&&Xb(ct),st=lt.getWritable(),ct=this.getIndexWithinParent(),ft?(st.splice(ct,0,dt),this.remove()):st.splice(ct,1,dt),C$2(at)&&Yd(at,lt,ct,ut-1),dt}mergeWithSibling(rt){var at=rt===this.getPreviousSibling();at||rt===this.getNextSibling()||q$4(50);var lt=this.__key;let st=rt.__key,ct=this.__text,ut=ct.length;Yb()===st&&I$1(lt);let ft=v$1();if(C$2(ft)){let dt=ft.anchor,pt=ft.focus;dt!==null&&dt.key===st&&(Ke(dt,at,lt,rt,ut),ft.dirty=!0),pt!==null&&pt.key===st&&(Ke(pt,at,lt,rt,ut),ft.dirty=!0)}return lt=rt.__text,this.setTextContent(at?lt+ct:ct+lt),at=this.getWritable(),rt.remove(),at}isTextEntity(){return!1}}function wf(_e){let rt=_e.style.fontWeight==="700",at=_e.style.textDecoration==="line-through",lt=_e.style.fontStyle==="italic",st=_e.style.textDecoration==="underline",ct=_e.style.verticalAlign;return{forChild:ut=>(B$4(ut)&&(rt&&ut.toggleFormat("bold"),at&&ut.toggleFormat("strikethrough"),lt&&ut.toggleFormat("italic"),st&&ut.toggleFormat("underline"),ct==="sub"&&ut.toggleFormat("subscript"),ct==="super"&&ut.toggleFormat("superscript")),ut),node:null}}function pf(){return{node:pe()}}function of(_e){let rt=_e.style.fontWeight==="normal";return{forChild:at=>(B$4(at)&&!rt&&at.toggleFormat("bold"),at),node:null}}function nf(_e,rt,at){return _e=_e.textContent||"",!at&&/\n/.test(_e)&&(_e=_e.replace(/\r?\n/gm," "),_e.trim().length===0)?{node:null}:{node:K$1(_e)}}let xf={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function vf(_e){let rt=xf[_e.nodeName.toLowerCase()];return rt===void 0?{node:null}:{forChild:at=>(B$4(at)&&!at.hasFormat(rt)&&at.toggleFormat(rt),at),node:null}}function K$1(_e=""){return uc(new mf(_e))}function B$4(_e){return _e instanceof mf}class yf extends $e{static getType(){return"paragraph"}static clone(rt){return new yf(rt.__key)}createDOM(rt){let at=document.createElement("p");return rt=kc(rt.theme,"paragraph"),rt!==void 0&&at.classList.add(...rt),at}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:zf,priority:0})}}exportDOM(rt){if({element:rt}=super.exportDOM(rt),rt&&this.isEmpty()&&rt.append(document.createElement("br")),rt){var at=this.getFormatType();rt.style.textAlign=at,(at=this.getDirection())&&(rt.dir=at),at=this.getIndent(),0<at&&(rt.style.textIndent=`${20*at}px`)}return{element:rt}}static importJSON(rt){let at=ae();return at.setFormat(rt.format),at.setIndent(rt.indent),at.setDirection(rt.direction),at}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(rt,at){rt=ae();let lt=this.getDirection();return rt.setDirection(lt),this.insertAfter(rt,at),rt}collapseAtStart(){let rt=this.getChildren();if(rt.length===0||B$4(rt[0])&&rt[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function zf(_e){let rt=ae();return _e.style&&(rt.setFormat(_e.style.textAlign),_e=parseInt(_e.style.textIndent,10)/20,0<_e&&rt.setIndent(_e)),{node:rt}}function ae(){return uc(new yf)}function Te(_e,rt,at,lt){let st=_e._keyToDOMMap;st.clear(),_e._editorState=cf(),_e._pendingEditorState=lt,_e._compositionKey=null,_e._dirtyType=0,_e._cloneNotNeeded.clear(),_e._dirtyLeaves=new Set,_e._dirtyElements.clear(),_e._normalizedNodes=new Set,_e._updateTags=new Set,_e._updates=[],_e._blockCursorElement=null,lt=_e._observer,lt!==null&&(lt.disconnect(),_e._observer=null),rt!==null&&(rt.textContent=""),at!==null&&(at.textContent="",st.set("root",at))}function Af(_e){let rt=new Map,at=new Set;return _e.forEach(lt=>{if(lt=lt.klass.importDOM!=null?lt.klass.importDOM.bind(lt.klass):null,lt!=null&&!at.has(lt)){at.add(lt);var st=lt();st!==null&&Object.keys(st).forEach(ct=>{let ut=rt.get(ct);ut===void 0&&(ut=[],rt.set(ct,ut)),ut.push(st[ct])})}}),rt}class Bf{constructor(rt,at,lt,st,ct,ut,ft){this._parentEditor=at,this._rootElement=null,this._editorState=rt,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=st,this._nodes=lt,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=gc(),this._onError=ct,this._htmlConversions=ut,this._editable=ft,this._headless=at!==null&&at._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(rt){let at=this._listeners.update;return at.add(rt),()=>{at.delete(rt)}}registerEditableListener(rt){let at=this._listeners.editable;return at.add(rt),()=>{at.delete(rt)}}registerDecoratorListener(rt){let at=this._listeners.decorator;return at.add(rt),()=>{at.delete(rt)}}registerTextContentListener(rt){let at=this._listeners.textcontent;return at.add(rt),()=>{at.delete(rt)}}registerRootListener(rt){let at=this._listeners.root;return rt(this._rootElement,null),at.add(rt),()=>{rt(null,this._rootElement),at.delete(rt)}}registerCommand(rt,at,lt){lt===void 0&&q$4(35);let st=this._commands;st.has(rt)||st.set(rt,[new Set,new Set,new Set,new Set,new Set]);let ct=st.get(rt);ct===void 0&&q$4(36);let ut=ct[lt];return ut.add(at),()=>{ut.delete(at),ct.every(ft=>ft.size===0)&&st.delete(rt)}}registerMutationListener(rt,at){this._nodes.get(rt.getType())===void 0&&q$4(37);let lt=this._listeners.mutation;return lt.set(at,rt),()=>{lt.delete(at)}}registerNodeTransformToKlass(rt,at){return rt=rt.getType(),rt=this._nodes.get(rt),rt===void 0&&q$4(37),rt.transforms.add(at),rt}registerNodeTransform(rt,at){var lt=this.registerNodeTransformToKlass(rt,at);let st=[lt];return lt=lt.replaceWithKlass,lt!=null&&(lt=this.registerNodeTransformToKlass(lt,at),st.push(lt)),cc(this,rt.getType()),()=>{st.forEach(ct=>ct.transforms.delete(at))}}hasNodes(rt){for(let at=0;at<rt.length;at++){let lt=rt[at].getType();if(!this._nodes.has(lt))return!1}return!0}dispatchCommand(rt,at){return S$1(this,rt,at)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(rt){let at=this._rootElement;if(rt!==at){let ct=kc(this._config.theme,"root");var lt=this._pendingEditorState||this._editorState;if(this._rootElement=rt,Te(this,at,rt,lt),at!==null){if(!this._config.disableEvents){if(Ed!==0&&(Ed--,Ed===0&&at.ownerDocument.removeEventListener("selectionchange",Td)),lt=at.__lexicalEditor,lt!=null){if(lt._parentEditor!==null){var st=fc(lt);st=st[st.length-1]._key,Sd.get(st)===lt&&Sd.delete(st)}else Sd.delete(lt._key);at.__lexicalEditor=null}for(lt=Rd(at),st=0;st<lt.length;st++)lt[st]();at.__lexicalEventHandles=[]}ct!=null&&at.classList.remove(...ct)}rt!==null?(lt=(lt=rt.ownerDocument)&&lt.defaultView||null,st=rt.style,st.userSelect="text",st.whiteSpace="pre-wrap",st.wordBreak="break-word",rt.setAttribute("data-lexical-editor","true"),this._window=lt,this._dirtyType=2,Ab(this),this._updateTags.add("history-merge"),Se(this),this._config.disableEvents||Vd(rt,this),ct!=null&&rt.classList.add(...ct)):this._window=null,Ue("root",this,!1,rt,at)}}getElementByKey(rt){return this._keyToDOMMap.get(rt)||null}getEditorState(){return this._editorState}setEditorState(rt,at){rt.isEmpty()&&q$4(38),zb(this);let lt=this._pendingEditorState,st=this._updateTags;at=at!==void 0?at.tag:null,lt===null||lt.isEmpty()||(at!=null&&st.add(at),Se(this)),this._pendingEditorState=rt,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,at!=null&&st.add(at),Se(this)}parseEditorState(rt,at){rt=typeof rt=="string"?JSON.parse(rt):rt;let lt=cf(),st=T$1,ct=Z,ut=Y,ft=this._dirtyElements,dt=this._dirtyLeaves,pt=this._cloneNotNeeded,ht=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,T$1=lt,Z=!1,Y=this;try{Qe(rt.root,this._nodes),at&&at(),lt._readOnly=!0}catch(gt){gt instanceof Error&&this._onError(gt)}finally{this._dirtyElements=ft,this._dirtyLeaves=dt,this._cloneNotNeeded=pt,this._dirtyType=ht,T$1=st,Z=ct,Y=ut}return lt}update(rt,at){w$3(this,rt,at)}focus(rt,at={}){let lt=this._rootElement;lt!==null&&(lt.setAttribute("autocapitalize","off"),w$3(this,()=>{let st=v$1(),ct=bc();st!==null?st.dirty=!0:ct.getChildrenSize()!==0&&(at.defaultSelection==="rootStart"?ct.selectStart():ct.selectEnd())},{onUpdate:()=>{lt.removeAttribute("autocapitalize"),rt&&rt()},tag:"focus"}),this._pendingEditorState===null&&lt.removeAttribute("autocapitalize"))}blur(){var rt=this._rootElement;rt!==null&&rt.blur(),rt=E$4(this._window),rt!==null&&rt.removeAllRanges()}isEditable(){return this._editable}setEditable(rt){this._editable!==rt&&(this._editable=rt,Ue("editable",this,!0,rt))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Cf extends $e{constructor(rt,at){super(at),this.__colSpan=rt,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(rt){return this.getWritable().__colSpan=rt,this}getRowSpan(){return this.__rowSpan}setRowSpan(rt){return this.getWritable().__rowSpan=rt,this}}function ke(_e){return _e instanceof Cf}class Df extends $e{}function me(_e){return _e instanceof Df}class Ef extends $e{}function le(_e){return _e instanceof Ef}Lexical_prod.$addUpdateTag=function(_e){G$2(),H$1()._updateTags.add(_e)};Lexical_prod.$applyNodeReplacement=uc;Lexical_prod.$copyNode=tc;Lexical_prod.$createLineBreakNode=pe;Lexical_prod.$createNodeSelection=se;Lexical_prod.$createParagraphNode=ae;Lexical_prod.$createRangeSelection=function(){let _e=new be("root",0,"element"),rt=new be("root",0,"element");return new ge(_e,rt,0,"")};Lexical_prod.$createTextNode=K$1;Lexical_prod.$getAdjacentNode=nc;Lexical_prod.$getNearestNodeFromDOMNode=ub;Lexical_prod.$getNearestRootOrShadowRoot=sc;Lexical_prod.$getNodeByKey=J$1;Lexical_prod.$getPreviousSelection=ic;Lexical_prod.$getRoot=bc;Lexical_prod.$getSelection=v$1;Lexical_prod.$getTextContent=function(){let _e=v$1();return _e===null?"":_e.getTextContent()};Lexical_prod.$hasAncestor=rc;Lexical_prod.$hasUpdateTag=function(_e){return H$1()._updateTags.has(_e)};Lexical_prod.$insertNodes=function(_e,rt){let at=v$1();return at===null&&(at=bc().selectEnd()),at.insertNodes(_e,rt)};Lexical_prod.$isDecoratorNode=z$4;Lexical_prod.$isElementNode=F$4;Lexical_prod.$isInlineElementOrDecoratorNode=function(_e){return F$4(_e)&&_e.isInline()||z$4(_e)&&_e.isInline()};Lexical_prod.$isLeafNode=Rb;Lexical_prod.$isLineBreakNode=Sb;Lexical_prod.$isNodeSelection=Qd;Lexical_prod.$isParagraphNode=function(_e){return _e instanceof yf};Lexical_prod.$isRangeSelection=C$2;Lexical_prod.$isRootNode=L$1;Lexical_prod.$isRootOrShadowRoot=M;Lexical_prod.$isTextNode=B$4;Lexical_prod.$nodesOfType=function(_e){var rt=Vb();let at=rt._readOnly,lt=_e.getType();rt=rt._nodeMap;let st=[];for(let[,ct]of rt)ct instanceof _e&&ct.__type===lt&&(at||ct.isAttached())&&st.push(ct);return st};Lexical_prod.$normalizeSelection__EXPERIMENTAL=Gc;Lexical_prod.$parseSerializedNode=function(_e){return Qe(_e,H$1()._nodes)};Lexical_prod.$setCompositionKey=I$1;Lexical_prod.$setSelection=xb;Lexical_prod.$splitNode=yc;Lexical_prod.BLUR_COMMAND=Sa;Lexical_prod.CAN_REDO_COMMAND={};Lexical_prod.CAN_UNDO_COMMAND={};Lexical_prod.CLEAR_EDITOR_COMMAND={};Lexical_prod.CLEAR_HISTORY_COMMAND={};Lexical_prod.CLICK_COMMAND=da;Lexical_prod.COMMAND_PRIORITY_CRITICAL=4;Lexical_prod.COMMAND_PRIORITY_EDITOR=0;Lexical_prod.COMMAND_PRIORITY_HIGH=3;Lexical_prod.COMMAND_PRIORITY_LOW=1;Lexical_prod.COMMAND_PRIORITY_NORMAL=2;Lexical_prod.CONTROLLED_TEXT_INSERTION_COMMAND=ka;Lexical_prod.COPY_COMMAND=Pa;Lexical_prod.CUT_COMMAND=Qa;Lexical_prod.DELETE_CHARACTER_COMMAND=ea;Lexical_prod.DELETE_LINE_COMMAND=ra;Lexical_prod.DELETE_WORD_COMMAND=qa;Lexical_prod.DEPRECATED_$computeGridMap=ne;Lexical_prod.DEPRECATED_$createGridSelection=function(){let _e=new be("root",0,"element"),rt=new be("root",0,"element");return new he("root",_e,rt)};Lexical_prod.DEPRECATED_$getNodeTriplet=function(_e){_e instanceof Cf||(_e instanceof Zd?(_e=zc(_e,ke),ke(_e)||q$4(114)):(_e=zc(_e.getNode(),ke),ke(_e)||q$4(114)));let rt=_e.getParent();le(rt)||q$4(115);let at=rt.getParent();return me(at)||q$4(116),[_e,rt,at]};Lexical_prod.DEPRECATED_$isGridCellNode=ke;Lexical_prod.DEPRECATED_$isGridNode=me;Lexical_prod.DEPRECATED_$isGridRowNode=le;Lexical_prod.DEPRECATED_$isGridSelection=ie;Lexical_prod.DEPRECATED_GridCellNode=Cf;Lexical_prod.DEPRECATED_GridNode=Df;Lexical_prod.DEPRECATED_GridRowNode=Ef;Lexical_prod.DRAGEND_COMMAND=Oa;Lexical_prod.DRAGOVER_COMMAND=Na;Lexical_prod.DRAGSTART_COMMAND=Ma;Lexical_prod.DROP_COMMAND=La;Lexical_prod.DecoratorNode=Ze;Lexical_prod.ElementNode=$e;Lexical_prod.FOCUS_COMMAND=Ra;Lexical_prod.FORMAT_ELEMENT_COMMAND={};Lexical_prod.FORMAT_TEXT_COMMAND=sa;Lexical_prod.INDENT_CONTENT_COMMAND={};Lexical_prod.INSERT_LINE_BREAK_COMMAND=fa;Lexical_prod.INSERT_PARAGRAPH_COMMAND=ja;Lexical_prod.KEY_ARROW_DOWN_COMMAND=Ca;Lexical_prod.KEY_ARROW_LEFT_COMMAND=za;Lexical_prod.KEY_ARROW_RIGHT_COMMAND=xa;Lexical_prod.KEY_ARROW_UP_COMMAND=Ba;Lexical_prod.KEY_BACKSPACE_COMMAND=Ha;Lexical_prod.KEY_DELETE_COMMAND=Ja;Lexical_prod.KEY_DOWN_COMMAND=wa;Lexical_prod.KEY_ENTER_COMMAND=Da;Lexical_prod.KEY_ESCAPE_COMMAND=Ia;Lexical_prod.KEY_MODIFIER_COMMAND=Ta;Lexical_prod.KEY_SPACE_COMMAND=Ga;Lexical_prod.KEY_TAB_COMMAND=Ka;Lexical_prod.LineBreakNode=ef;Lexical_prod.MOVE_TO_END=ya;Lexical_prod.MOVE_TO_START=Aa;Lexical_prod.OUTDENT_CONTENT_COMMAND={};Lexical_prod.PASTE_COMMAND=la;Lexical_prod.ParagraphNode=yf;Lexical_prod.REDO_COMMAND=ua;Lexical_prod.REMOVE_TEXT_COMMAND=na;Lexical_prod.RootNode=bf;Lexical_prod.SELECTION_CHANGE_COMMAND=ca$1;Lexical_prod.TextNode=mf;Lexical_prod.UNDO_COMMAND=ta;Lexical_prod.createCommand=function(){return{}};Lexical_prod.createEditor=function(_e){var rt=_e||{},at=Y,lt=rt.theme||{};let st=_e===void 0?at:rt.parentEditor||null,ct=rt.disableEvents||!1,ut=cf(),ft=rt.namespace||(st!==null?st._config.namespace:gc()),dt=rt.editorState,pt=[bf,mf,ef,yf,...rt.nodes||[]],ht=rt.onError;if(rt=rt.editable!==void 0?rt.editable:!0,_e===void 0&&at!==null)_e=at._nodes;else for(_e=new Map,at=0;at<pt.length;at++){let mt=pt[at],xt=null;var gt=null;typeof mt!="function"&&(gt=mt,mt=gt.replace,xt=gt.with,gt=gt.withKlass?gt.withKlass:null);let vt=mt.getType(),yt=mt.transform(),_t=new Set;yt!==null&&_t.add(yt),_e.set(vt,{klass:mt,replace:xt,replaceWithKlass:gt,transforms:_t})}return lt=new Bf(ut,st,_e,{disableEvents:ct,namespace:ft,theme:lt},ht||console.error,Af(_e),rt),dt!==void 0&&(lt._pendingEditorState=dt,lt._dirtyType=2),lt};Lexical_prod.getNearestEditorFromDOMNode=Gb;Lexical_prod.isSelectionCapturedInDecoratorInput=Eb;Lexical_prod.isSelectionWithinEditor=Fb;const Lexical=Lexical_prod;var Lexical_1=Lexical,g$3=reactExports;let m$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";m$2?g$3.useLayoutEffect:g$3.useEffect;var g$2=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g$2.useLayoutEffect:g$2.useEffect;var h$1=reactExports;function m$1(_e,rt){return m$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,lt){return at.__proto__=lt,at},m$1(_e,rt)}function n$2(_e,rt){_e.prototype=Object.create(rt.prototype),_e.prototype.constructor=_e,m$1(_e,rt)}function r(_e,rt){return _e===void 0&&(_e=[]),rt===void 0&&(rt=[]),_e.length!==rt.length||_e.some(function(at,lt){return!Object.is(at,rt[lt])})}var t$1={error:null};(function(_e){function rt(){for(var lt,st=arguments.length,ct=Array(st),ut=0;ut<st;ut++)ct[ut]=arguments[ut];return lt=_e.call.apply(_e,[this].concat(ct))||this,lt.state=t$1,lt.resetErrorBoundary=function(){for(var ft,dt=arguments.length,pt=Array(dt),ht=0;ht<dt;ht++)pt[ht]=arguments[ht];lt.props.onReset==null||(ft=lt.props).onReset.apply(ft,pt),lt.reset()},lt}n$2(rt,_e),rt.getDerivedStateFromError=function(lt){return{error:lt}};var at=rt.prototype;return at.reset=function(){this.setState(t$1)},at.componentDidCatch=function(lt,st){var ct,ut;(ct=(ut=this.props).onError)==null||ct.call(ut,lt,st)},at.componentDidUpdate=function(lt,st){var ct=this.props.resetKeys;if(this.state.error!==null&&st.error!==null&&r(lt.resetKeys,ct)){var ut,ft;(ut=(ft=this.props).onResetKeysChange)==null||ut.call(ft,lt.resetKeys,ct),this.reset()}},at.render=function(){var lt=this.state.error,st=this.props,ct=st.fallbackRender,ut=st.FallbackComponent;if(st=st.fallback,lt!==null){if(lt={error:lt,resetErrorBoundary:this.resetErrorBoundary},h$1.isValidElement(st))return st;if(typeof ct=="function")return ct(lt);if(ut)return h$1.createElement(ut,lt);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},rt})(h$1.Component);var LexicalHistory_prod={},LexicalUtils_prod={},LexicalSelection_prod={},k$3=Lexical_1;let u$1=new Map;function v(_e){for(;_e!=null;){if(_e.nodeType===Node.TEXT_NODE)return _e;_e=_e.firstChild}return null}function w$2(_e){let rt=_e.parentNode;if(rt==null)throw Error("Should never happen");return[rt,Array.from(rt.childNodes).indexOf(_e)]}function y$3(_e){let rt={};_e=_e.split(";");for(let at of _e)if(at!==""){let[lt,st]=at.split(/:([^]+)/);rt[lt.trim()]=st.trim()}return rt}function z$3(_e){let rt=u$1.get(_e);return rt===void 0&&(rt=y$3(_e),u$1.set(_e,rt)),rt}function A$2(_e){let rt="";for(let at in _e)at&&(rt+=`${at}: ${_e[at]};`);return rt}function B$3(_e,rt){var at=z$3("getStyle"in _e?_e.getStyle():_e.style);rt=Object.entries(rt).reduce((lt,[st,ct])=>(ct===null?delete lt[st]:lt[st]=ct,lt),{...at}),at=A$2(rt),_e.setStyle(at),u$1.set(at,rt)}function C$1(_e){for(;_e!==null&&!k$3.$isRootOrShadowRoot(_e);){let rt=_e.getLatest(),at=_e.getParent();rt.getChildrenSize()===0&&_e.remove(!0),_e=at}}function D$3(_e,rt,at,lt,st=null){if(rt.length!==0){var ct=rt[0],ut=new Map,ft=[];ct=k$3.$isElementNode(ct)?ct:ct.getParentOrThrow(),ct.isInline()&&(ct=ct.getParentOrThrow());for(var dt=!1;ct!==null;){var pt=ct.getPreviousSibling();if(pt!==null){ct=pt,dt=!0;break}if(ct=ct.getParentOrThrow(),k$3.$isRootOrShadowRoot(ct))break}pt=new Set;for(var ht=0;ht<at;ht++){var gt=rt[ht];k$3.$isElementNode(gt)&&gt.getChildrenSize()===0&&pt.add(gt.getKey())}var mt=new Set;for(ht=0;ht<at;ht++){gt=rt[ht];var xt=gt.getParent();if(xt!==null&&xt.isInline()&&(xt=xt.getParent()),xt!==null&&k$3.$isLeafNode(gt)&&!mt.has(gt.getKey())){if(gt=xt.getKey(),ut.get(gt)===void 0){let vt=lt();vt.setFormat(xt.getFormatType()),vt.setIndent(xt.getIndent()),ft.push(vt),ut.set(gt,vt),xt.getChildren().forEach(yt=>{vt.append(yt),mt.add(yt.getKey()),k$3.$isElementNode(yt)&&yt.getChildrenKeys().forEach(_t=>mt.add(_t))}),C$1(xt)}}else pt.has(gt.getKey())&&(xt=lt(),xt.setFormat(gt.getFormatType()),xt.setIndent(gt.getIndent()),ft.push(xt),gt.remove(!0))}if(st!==null)for(rt=0;rt<ft.length;rt++)st.append(ft[rt]);if(rt=null,k$3.$isRootOrShadowRoot(ct))if(dt)if(st!==null)ct.insertAfter(st);else for(st=ft.length-1;0<=st;st--)ct.insertAfter(ft[st]);else if(dt=ct.getFirstChild(),k$3.$isElementNode(dt)&&(ct=dt),dt===null)if(st)ct.append(st);else for(st=0;st<ft.length;st++)dt=ft[st],ct.append(dt),rt=dt;else if(st!==null)dt.insertBefore(st);else for(ct=0;ct<ft.length;ct++)st=ft[ct],dt.insertBefore(st),rt=st;else if(st)ct.insertAfter(st);else for(st=ft.length-1;0<=st;st--)dt=ft[st],ct.insertAfter(dt),rt=dt;ft=k$3.$getPreviousSelection(),k$3.$isRangeSelection(ft)&&ft.anchor.getNode().isAttached()&&ft.focus.getNode().isAttached()?k$3.$setSelection(ft.clone()):rt!==null?rt.selectEnd():_e.dirty=!0}}function E$3(_e,rt,at,lt){_e.modify(rt?"extend":"move",at,lt)}function F$3(_e){return _e=_e.anchor.getNode(),(k$3.$isRootNode(_e)?_e:_e.getParentOrThrow()).getDirection()==="rtl"}LexicalSelection_prod.$addNodeStyle=function(_e){_e=_e.getStyle();let rt=y$3(_e);u$1.set(_e,rt)};LexicalSelection_prod.$cloneWithProperties=function(_e){_e=_e.getLatest();let rt=_e.constructor.clone(_e);return rt.__parent=_e.__parent,rt.__next=_e.__next,rt.__prev=_e.__prev,k$3.$isElementNode(_e)&&k$3.$isElementNode(rt)?(rt.__first=_e.__first,rt.__last=_e.__last,rt.__size=_e.__size,rt.__format=_e.__format,rt.__indent=_e.__indent,rt.__dir=_e.__dir,rt):(k$3.$isTextNode(_e)&&k$3.$isTextNode(rt)&&(rt.__format=_e.__format,rt.__style=_e.__style,rt.__mode=_e.__mode,rt.__detail=_e.__detail),rt)};LexicalSelection_prod.$getSelectionStyleValueForProperty=function(_e,rt,at=""){let lt=null,st=_e.getNodes();var ct=_e.anchor,ut=_e.focus,ft=_e.isBackward();let dt=ft?ut.offset:ct.offset;if(ct=ft?ut.getNode():ct.getNode(),_e.style!==""&&(_e=z$3(_e.style),_e!==null&&rt in _e))return _e[rt];for(_e=0;_e<st.length;_e++){var pt=st[_e];if((_e===0||dt!==0||!pt.is(ct))&&k$3.$isTextNode(pt)){if(ut=rt,ft=at,pt=pt.getStyle(),pt=z$3(pt),ut=pt!==null&&pt[ut]||ft,lt===null)lt=ut;else if(lt!==ut){lt="";break}}}return lt===null?at:lt};LexicalSelection_prod.$isAtNodeEnd=function(_e){return _e.type==="text"?_e.offset===_e.getNode().getTextContentSize():_e.offset===_e.getNode().getChildrenSize()};LexicalSelection_prod.$isParentElementRTL=F$3;LexicalSelection_prod.$moveCaretSelection=E$3;LexicalSelection_prod.$moveCharacter=function(_e,rt,at){let lt=F$3(_e);E$3(_e,rt,at?!lt:lt,"character")};LexicalSelection_prod.$patchStyleText=function(_e,rt){var at=_e.getNodes();let lt=at.length-1,st=at[0],ct=at[lt];if(_e.isCollapsed())B$3(_e,rt);else{var ut=_e.anchor,ft=_e.focus,dt=st.getTextContent().length,pt=ft.offset,ht=ut.offset,gt=ut.isBefore(ft),mt=gt?ht:pt;_e=gt?pt:ht;var xt=gt?ut.type:ft.type,vt=gt?ft.type:ut.type;if(ut=gt?ft.key:ut.key,k$3.$isTextNode(st)&&mt===dt&&(ft=st.getNextSibling(),k$3.$isTextNode(ft)&&(mt=ht=0,st=ft)),at.length===1)k$3.$isTextNode(st)&&(mt=xt==="element"?0:ht>pt?pt:ht,_e=vt==="element"?dt:ht>pt?ht:pt,mt!==_e&&(mt===0&&_e===dt?(B$3(st,rt),st.select(mt,_e)):(at=st.splitText(mt,_e),at=mt===0?at[0]:at[1],B$3(at,rt),at.select(0,_e-mt))));else for(k$3.$isTextNode(st)&&mt<st.getTextContentSize()&&(mt!==0&&(st=st.splitText(mt)[1]),B$3(st,rt)),k$3.$isTextNode(ct)&&(mt=ct.getTextContent().length,ct.__key!==ut&&_e!==0&&(_e=mt),_e!==mt&&([ct]=ct.splitText(_e)),_e!==0&&B$3(ct,rt)),_e=1;_e<lt;_e++)mt=at[_e],dt=mt.getKey(),k$3.$isTextNode(mt)&&dt!==st.getKey()&&dt!==ct.getKey()&&!mt.isToken()&&B$3(mt,rt)}};LexicalSelection_prod.$selectAll=function(_e){let rt=_e.anchor;_e=_e.focus;var at=rt.getNode().getTopLevelElementOrThrow().getParentOrThrow();let lt=at.getFirstDescendant();at=at.getLastDescendant();let st="element",ct="element",ut=0;k$3.$isTextNode(lt)?st="text":k$3.$isElementNode(lt)||lt===null||(lt=lt.getParentOrThrow()),k$3.$isTextNode(at)?(ct="text",ut=at.getTextContentSize()):k$3.$isElementNode(at)||at===null||(at=at.getParentOrThrow()),lt&&at&&(rt.set(lt.getKey(),0,st),_e.set(at.getKey(),ut,ct))};LexicalSelection_prod.$setBlocksType=function(_e,rt){if(_e.anchor.key==="root"){rt=rt();var at=k$3.$getRoot();(_e=at.getFirstChild())?_e.replace(rt,!0):at.append(rt)}else for(at=_e.getNodes(),_e=_e.anchor.getNode().getParentOrThrow(),at.indexOf(_e)===-1&&at.push(_e),_e.isInline()&&(_e=_e.getParentOrThrow(),at.indexOf(_e)===-1&&at.push(_e)),_e=0;_e<at.length;_e++){let ct=at[_e];var lt=ct;if(!k$3.$isElementNode(lt)||k$3.$isRootOrShadowRoot(lt))lt=!1;else{var st=lt.getFirstChild();st=st===null||k$3.$isTextNode(st)||st.isInline(),lt=!lt.isInline()&&lt.canBeEmpty()!==!1&&st}lt&&(lt=rt(),lt.setFormat(ct.getFormatType()),lt.setIndent(ct.getIndent()),ct.replace(lt,!0))}};LexicalSelection_prod.$shouldOverrideDefaultCharacterSelection=function(_e,rt){return _e=k$3.$getAdjacentNode(_e.focus,rt),k$3.$isDecoratorNode(_e)&&!_e.isIsolated()||k$3.$isElementNode(_e)&&!_e.isInline()&&!_e.canBeEmpty()};LexicalSelection_prod.$sliceSelectedTextNodeContent=function(_e,rt){if(rt.isSelected()&&!rt.isSegmented()&&!rt.isToken()&&(k$3.$isRangeSelection(_e)||k$3.DEPRECATED_$isGridSelection(_e))){var at=_e.anchor.getNode(),lt=_e.focus.getNode(),st=rt.is(at),ct=rt.is(lt);if(st||ct){st=_e.isBackward();let[ut,ft]=_e.getCharacterOffsets();_e=at.is(lt),ct=rt.is(st?lt:at),lt=rt.is(st?at:lt),at=0;let dt;_e?(at=ut>ft?ft:ut,dt=ut>ft?ut:ft):ct?(at=st?ft:ut,dt=void 0):lt&&(st=st?ut:ft,at=0,dt=st),rt.__text=rt.__text.slice(at,dt)}}return rt};LexicalSelection_prod.$wrapNodes=function(_e,rt,at=null){var lt=_e.getNodes();let st=lt.length;var ct=_e.anchor;if(st===0||st===1&&ct.type==="element"&&ct.getNode().getChildrenSize()===0){_e=ct.type==="text"?ct.getNode().getParentOrThrow():ct.getNode(),lt=_e.getChildren();let ft=rt();ft.setFormat(_e.getFormatType()),ft.setIndent(_e.getIndent()),lt.forEach(dt=>ft.append(dt)),at&&(ft=at.append(ft)),_e.replace(ft)}else{ct=null;var ut=[];for(let ft=0;ft<st;ft++){let dt=lt[ft];k$3.$isRootOrShadowRoot(dt)?(D$3(_e,ut,ut.length,rt,at),ut=[],ct=dt):ct===null||ct!==null&&k$3.$hasAncestor(dt,ct)?ut.push(dt):(D$3(_e,ut,ut.length,rt,at),ut=[dt])}D$3(_e,ut,ut.length,rt,at)}};LexicalSelection_prod.createDOMRange=function(_e,rt,at,lt,st){let ct=rt.getKey(),ut=lt.getKey(),ft=document.createRange(),dt=_e.getElementByKey(ct);if(_e=_e.getElementByKey(ut),k$3.$isTextNode(rt)&&(dt=v(dt)),k$3.$isTextNode(lt)&&(_e=v(_e)),rt===void 0||lt===void 0||dt===null||_e===null)return null;dt.nodeName==="BR"&&([dt,at]=w$2(dt)),_e.nodeName==="BR"&&([_e,st]=w$2(_e)),rt=dt.firstChild,dt===_e&&rt!=null&&rt.nodeName==="BR"&&at===0&&st===0&&(st=1);try{ft.setStart(dt,at),ft.setEnd(_e,st)}catch{return null}return!ft.collapsed||at===st&&ct===ut||(ft.setStart(_e,st),ft.setEnd(dt,at)),ft};LexicalSelection_prod.createRectsFromDOMRange=function(_e,rt){var at=_e.getRootElement();if(at===null)return[];_e=at.getBoundingClientRect(),at=getComputedStyle(at),at=parseFloat(at.paddingLeft)+parseFloat(at.paddingRight),rt=Array.from(rt.getClientRects());let lt=rt.length,st;for(let ct=0;ct<lt;ct++){let ut=rt[ct],ft=ut.width+at===_e.width;st&&st.top===ut.top&&st.left===ut.left&&st.width===ut.width&&st.height===ut.height||ft?(rt.splice(ct--,1),lt--):st=ut}return rt};LexicalSelection_prod.getStyleObjectFromCSS=z$3;LexicalSelection_prod.trimTextContentFromAnchor=function(_e,rt,at){let lt=rt.getNode();if(k$3.$isElementNode(lt)){var st=lt.getDescendantByIndex(rt.offset);st!==null&&(lt=st)}for(;0<at&&lt!==null;){var ct=lt.getPreviousSibling(),ut=0;if(ct===null){st=lt.getParentOrThrow();for(var ft=st.getPreviousSibling();ft===null;){if(st=st.getParent(),st===null){ct=null;break}ft=st.getPreviousSibling()}st!==null&&(ut=st.isInline()?0:2,ct=k$3.$isElementNode(ft)?ft.getLastDescendant():ft)}if(ft=lt.getTextContent(),ft===""&&k$3.$isElementNode(lt)&&!lt.isInline()&&(ft=`

`),st=lt.getTextContentSize(),!k$3.$isTextNode(lt)||at>=st)ft=lt.getParent(),lt.remove(),ft==null||ft.getChildrenSize()!==0||k$3.$isRootNode(ft)||ft.remove(),at-=st+ut,lt=ct;else{let dt=lt.getKey();ut=_e.getEditorState().read(()=>{const ht=k$3.$getNodeByKey(dt);return k$3.$isTextNode(ht)&&ht.isSimpleText()?ht.getTextContent():null}),ct=st-at;let pt=ft.slice(0,ct);ut!==null&&ut!==ft?(at=k$3.$getPreviousSelection(),st=lt,lt.isSimpleText()?lt.setTextContent(ut):(st=k$3.$createTextNode(ut),lt.replace(st)),k$3.$isRangeSelection(at)&&at.isCollapsed()&&(at=at.anchor.offset,st.select(at,at))):lt.isSimpleText()?(ut=rt.key===dt,ft=rt.offset,ft<at&&(ft=st),at=ut?ft-at:0,st=ut?ft:ct,ut&&at===0?([at]=lt.splitText(at,st),at.remove()):([,at]=lt.splitText(at,st),at.remove())):(at=k$3.$createTextNode(pt),lt.replace(at)),at=0}}};const LexicalSelection=LexicalSelection_prod;var LexicalSelection_1=LexicalSelection,g$1=LexicalSelection_1,n$1=Lexical_1;function p$2(_e,rt){for(let at of rt)if(_e.type.startsWith(at))return!0;return!1}function q$3(_e,rt){for(;_e!==n$1.$getRoot()&&_e!=null;){if(rt(_e))return _e;_e=_e.getParent()}return null}function t(_e){return _e.nodeType===1}LexicalUtils_prod.$splitNode=n$1.$splitNode;LexicalUtils_prod.$dfs=function(_e,rt){let at=[];_e=(_e||n$1.$getRoot()).getLatest(),rt=rt||(n$1.$isElementNode(_e)?_e.getLastDescendant():_e);for(var lt=_e,st=0;(lt=lt.getParent())!==null;)st++;for(lt=st;_e!==null&&!_e.is(rt);)if(at.push({depth:lt,node:_e}),n$1.$isElementNode(_e)&&0<_e.getChildrenSize())_e=_e.getFirstChild(),lt++;else for(st=null;st===null&&_e!==null;)st=_e.getNextSibling(),st===null?(_e=_e.getParent(),lt--):_e=st;return _e!==null&&_e.is(rt)&&at.push({depth:lt,node:_e}),at};LexicalUtils_prod.$findMatchingParent=q$3;LexicalUtils_prod.$getNearestBlockElementAncestorOrThrow=function(_e){if(_e=q$3(_e,rt=>n$1.$isElementNode(rt)&&!rt.isInline()),!n$1.$isElementNode(_e))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return _e};LexicalUtils_prod.$getNearestNodeOfType=function(_e,rt){for(;_e!=null;){if(_e instanceof rt)return _e;_e=_e.getParent()}return null};LexicalUtils_prod.$insertNodeToNearestRoot=function(_e){var rt=n$1.$getSelection();if(n$1.$isRangeSelection(rt)){var{focus:at}=rt;if(rt=at.getNode(),at=at.offset,n$1.$isRootOrShadowRoot(rt))at=rt.getChildAtIndex(at),at==null?rt.append(_e):at.insertBefore(_e),_e.selectNext();else{let lt,st;n$1.$isTextNode(rt)?(lt=rt.getParentOrThrow(),st=rt.getIndexWithinParent(),0<at&&(st+=1,rt.splitText(at))):(lt=rt,st=at),[,rt]=n$1.$splitNode(lt,st),rt.insertBefore(_e),rt.selectStart()}}else n$1.$isNodeSelection(rt)||n$1.DEPRECATED_$isGridSelection(rt)?(rt=rt.getNodes(),rt[rt.length-1].getTopLevelElementOrThrow().insertAfter(_e)):n$1.$getRoot().append(_e),rt=n$1.$createParagraphNode(),_e.insertAfter(rt),rt.select();return _e.getLatest()};LexicalUtils_prod.$restoreEditorState=function(_e,rt){let at=new Map,lt=_e._pendingEditorState;for(let[st,ct]of rt._nodeMap){let ut=g$1.$cloneWithProperties(ct);n$1.$isTextNode(ut)&&(ut.__text=ct.__text),at.set(st,ut)}lt&&(lt._nodeMap=at),_e._dirtyType=2,_e=rt._selection,n$1.$setSelection(_e===null?null:_e.clone())};LexicalUtils_prod.$wrapNodeInElement=function(_e,rt){return rt=rt(),_e.replace(rt),rt.append(_e),rt};LexicalUtils_prod.addClassNamesToElement=function(_e,...rt){rt.forEach(at=>{typeof at=="string"&&(at=at.split(" ").filter(lt=>lt!==""),_e.classList.add(...at))})};LexicalUtils_prod.isHTMLAnchorElement=function(_e){return t(_e)&&_e.tagName==="A"};LexicalUtils_prod.isHTMLElement=t;LexicalUtils_prod.isMimeType=p$2;LexicalUtils_prod.mediaFileReader=function(_e,rt){let at=_e[Symbol.iterator]();return new Promise((lt,st)=>{let ct=[],ut=()=>{const{done:ft,value:dt}=at.next();if(ft)return lt(ct);const pt=new FileReader;pt.addEventListener("error",st),pt.addEventListener("load",()=>{const ht=pt.result;typeof ht=="string"&&ct.push({file:dt,result:ht}),ut()}),p$2(dt,rt)?pt.readAsDataURL(dt):ut()};ut()})};LexicalUtils_prod.mergeRegister=function(..._e){return()=>{_e.forEach(rt=>rt())}};LexicalUtils_prod.registerNestedElementResolver=function(_e,rt,at,lt){return _e.registerNodeTransform(rt,st=>{e:{for(var ct=st.getChildren(),ut=0;ut<ct.length;ut++)if(ct[ut]instanceof rt){ct=null;break e}for(ct=st;ct!==null;)if(ut=ct,ct=ct.getParent(),ct instanceof rt){ct={child:ut,parent:ct};break e}ct=null}if(ct!==null){const{child:ft,parent:dt}=ct;if(ft.is(st)){if(lt(dt,st),st=ft.getNextSiblings(),ct=st.length,dt.insertAfter(ft),ct!==0){ut=at(dt),ft.insertAfter(ut);for(let pt=0;pt<ct;pt++)ut.append(st[pt])}dt.canBeEmpty()||dt.getChildrenSize()!==0||dt.remove()}}})};LexicalUtils_prod.removeClassNamesFromElement=function(_e,...rt){rt.forEach(at=>{typeof at=="string"&&_e.classList.remove(...at.split(" "))})};const LexicalUtils=LexicalUtils_prod;var LexicalUtils_1=LexicalUtils,c$1=LexicalUtils_1,x$2=Lexical_1;function y$2(_e,rt,at,lt,st){if(_e===null||at.size===0&&lt.size===0&&!st)return 0;var ct=rt._selection,ut=_e._selection;if(st)return 1;if(!(x$2.$isRangeSelection(ct)&&x$2.$isRangeSelection(ut)&&ut.isCollapsed()&&ct.isCollapsed()))return 0;st=rt._nodeMap;let ft=[];for(let dt of at)at=st.get(dt),at!==void 0&&ft.push(at);for(let[dt,pt]of lt)pt&&(lt=st.get(dt),lt===void 0||x$2.$isRootNode(lt)||ft.push(lt));return ft.length===0?0:1<ft.length?(lt=rt._nodeMap,rt=lt.get(ct.anchor.key),ut=lt.get(ut.anchor.key),rt&&ut&&!_e._nodeMap.has(rt.__key)&&x$2.$isTextNode(rt)&&rt.__text.length===1&&ct.anchor.offset===1?2:0):(rt=ft[0],_e=_e._nodeMap.get(rt.__key),!x$2.$isTextNode(_e)||!x$2.$isTextNode(rt)||_e.__mode!==rt.__mode||(_e=_e.__text,rt=rt.__text,_e===rt)||(ct=ct.anchor,ut=ut.anchor,ct.key!==ut.key||ct.type!=="text")?0:(ct=ct.offset,ut=ut.offset,_e=rt.length-_e.length,_e===1&&ut===ct-1?2:_e===-1&&ut===ct+1?3:_e===-1&&ut===ct?4:0))}function z$2(_e,rt){let at=Date.now(),lt=0;return(st,ct,ut,ft,dt,pt)=>{let ht=Date.now();if(pt.has("historic"))return lt=0,at=ht,2;let gt=y$2(st,ct,ft,dt,_e.isComposing()),mt=(()=>{var xt=ut===null||ut.editor===_e,vt=pt.has("history-push");if(!vt&&xt&&pt.has("history-merge"))return 0;if(st===null)return 1;var yt=ct._selection;if(!(0<ft.size||0<dt.size))return yt!==null?0:2;if(vt===!1&&gt!==0&&gt===lt&&ht<at+rt&&xt)return 0;if(ft.size===1){{vt=Array.from(ft)[0],xt=st._nodeMap.get(vt),vt=ct._nodeMap.get(vt),yt=st._selection;let _t=ct._selection,$t=!1;x$2.$isRangeSelection(yt)&&x$2.$isRangeSelection(_t)&&($t=yt.anchor.type==="element"&&yt.focus.type==="element"&&_t.anchor.type==="text"&&_t.focus.type==="text"),xt=!$t&&x$2.$isTextNode(xt)&&x$2.$isTextNode(vt)?xt.__type===vt.__type&&xt.__text===vt.__text&&xt.__mode===vt.__mode&&xt.__detail===vt.__detail&&xt.__style===vt.__style&&xt.__format===vt.__format&&xt.__parent===vt.__parent:!1}if(xt)return 0}return 1})();return at=ht,lt=gt,mt}}LexicalHistory_prod.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};LexicalHistory_prod.registerHistory=function(_e,rt,at){let lt=z$2(_e,at);at=({editorState:ut,prevEditorState:ft,dirtyLeaves:dt,dirtyElements:pt,tags:ht})=>{const gt=rt.current,mt=rt.redoStack,xt=rt.undoStack,vt=gt===null?null:gt.editorState;if(gt===null||ut!==vt){if(dt=lt(ft,ut,gt,dt,pt,ht),dt===1)mt.length!==0&&(rt.redoStack=[],_e.dispatchCommand(x$2.CAN_REDO_COMMAND,!1)),gt!==null&&(xt.push({...gt,undoSelection:ft.read(x$2.$getSelection)}),_e.dispatchCommand(x$2.CAN_UNDO_COMMAND,!0));else if(dt===2)return;rt.current={editor:_e,editorState:ut}}};let st=c$1.mergeRegister(_e.registerCommand(x$2.UNDO_COMMAND,()=>{let ut=rt.redoStack,ft=rt.undoStack;if(ft.length!==0){let dt=rt.current,pt=ft.pop();dt!==null&&(ut.push(dt),_e.dispatchCommand(x$2.CAN_REDO_COMMAND,!0)),ft.length===0&&_e.dispatchCommand(x$2.CAN_UNDO_COMMAND,!1),rt.current=pt||null,pt&&pt.editor.setEditorState(pt.editorState.clone(pt.undoSelection),{tag:"historic"})}return!0},x$2.COMMAND_PRIORITY_EDITOR),_e.registerCommand(x$2.REDO_COMMAND,()=>{let ut=rt.redoStack;var ft=rt.undoStack;if(ut.length!==0){let dt=rt.current;dt!==null&&(ft.push(dt),_e.dispatchCommand(x$2.CAN_UNDO_COMMAND,!0)),ft=ut.pop(),ut.length===0&&_e.dispatchCommand(x$2.CAN_REDO_COMMAND,!1),rt.current=ft||null,ft&&ft.editor.setEditorState(ft.editorState,{tag:"historic"})}return!0},x$2.COMMAND_PRIORITY_EDITOR),_e.registerCommand(x$2.CLEAR_EDITOR_COMMAND,()=>(rt.undoStack=[],rt.redoStack=[],rt.current=null,!1),x$2.COMMAND_PRIORITY_EDITOR),_e.registerCommand(x$2.CLEAR_HISTORY_COMMAND,()=>(rt.undoStack=[],rt.redoStack=[],rt.current=null,_e.dispatchCommand(x$2.CAN_REDO_COMMAND,!1),_e.dispatchCommand(x$2.CAN_UNDO_COMMAND,!1),!0),x$2.COMMAND_PRIORITY_EDITOR),_e.registerUpdateListener(at)),ct=_e.registerUpdateListener(at);return()=>{st(),ct()}};const LexicalHistory=LexicalHistory_prod;var LexicalHistory_1=LexicalHistory,history=LexicalHistory_1;history.createEmptyHistoryState;var h=Lexical_1,k$2=LexicalUtils_1;function m(_e){throw Error(`Minified Lexical error #${_e}; visit https://lexical.dev/docs/error?code=${_e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function n(_e){let rt=1;for(_e=_e.getParent();_e!=null;){if(p$1(_e)){if(_e=_e.getParent(),q$2(_e)){rt++,_e=_e.getParent();continue}m(40)}break}return rt}function u(_e){return p$1(_e)&&q$2(_e.getFirstChild())}function w$1(_e){return y$1().append(_e)}function B$2(_e,rt){_e.splice(_e.getChildrenSize(),0,rt)}function F$2(_e,rt){var at=_e.getLastChild();let lt=rt.getFirstChild();at&&lt&&u(at)&&u(lt)&&(F$2(at.getFirstChild(),lt.getFirstChild()),lt.remove()),at=rt.getChildren(),0<at.length&&(_e.append(...at),E$2(_e)),rt.remove()}function E$2(_e,rt){if(_e=rt||_e.getChildren(),_e!==void 0)for(rt=0;rt<_e.length;rt++){let ct=_e[rt];if(p$1(ct)){let ut=ct.getValue();var at=ct,lt=at.getParent(),st=1;for(lt!=null&&(q$2(lt)?st=lt.getStart():m(44)),at=at.getPreviousSiblings(),lt=0;lt<at.length;lt++){let ft=at[lt];p$1(ft)&&!q$2(ft.getFirstChild())&&st++}ut!==st&&ct.setValue(st)}}}function G$1(_e){if(!u(_e)){var rt=_e.getParent(),at=rt?rt.getParent():void 0,lt=at?at.getParent():void 0;if(q$2(lt)&&p$1(at)&&q$2(rt)){var st=rt?rt.getFirstChild():void 0,ct=rt?rt.getLastChild():void 0;if(_e.is(st))at.insertBefore(_e),rt.isEmpty()&&at.remove();else if(_e.is(ct))at.insertAfter(_e),rt.isEmpty()&&at.remove();else{var ut=rt.getListType();st=y$1();let ft=D$2(ut);st.append(ft),_e.getPreviousSiblings().forEach(dt=>ft.append(dt)),ct=y$1(),ut=D$2(ut),ct.append(ut),B$2(ut,_e.getNextSiblings()),at.insertBefore(st),at.insertAfter(ct),at.replace(_e)}E$2(rt),E$2(lt)}}}class H extends h.ElementNode{static getType(){return"listitem"}static clone(rt){return new H(rt.__value,rt.__checked,rt.__key)}constructor(rt,at,lt){super(lt),this.__value=rt===void 0?1:rt,this.__checked=at}createDOM(rt){let at=document.createElement("li"),lt=this.getParent();return q$2(lt)&&lt.getListType()==="check"&&I(at,this,null),at.value=this.__value,J(at,rt.theme,this),at}updateDOM(rt,at,lt){let st=this.getParent();return q$2(st)&&st.getListType()==="check"&&I(at,this,rt),at.value=this.__value,J(at,lt.theme,this),!1}static transform(){return rt=>{let at=rt.getParent();q$2(at)&&(E$2(at),at.getListType()!=="check"&&rt.getChecked()!=null&&rt.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:K,priority:0})}}static importJSON(rt){let at=new H(rt.value,rt.checked);return at.setFormat(rt.format),at.setDirection(rt.direction),at}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...rt){for(let at=0;at<rt.length;at++){let lt=rt[at];if(h.$isElementNode(lt)&&this.canMergeWith(lt)){let st=lt.getChildren();this.append(...st),lt.remove()}else super.append(lt)}return this}replace(rt,at){if(p$1(rt))return super.replace(rt);this.setIndent(0);let lt=this.getParentOrThrow();if(!q$2(lt))return rt;if(lt.__first===this.getKey())lt.insertBefore(rt);else if(lt.__last===this.getKey())lt.insertAfter(rt);else{let st=D$2(lt.getListType()),ct=this.getNextSibling();for(;ct;){let ut=ct;ct=ct.getNextSibling(),st.append(ut)}lt.insertAfter(rt),rt.insertAfter(st)}return at&&this.getChildren().forEach(st=>{rt.append(st)}),this.remove(),lt.getChildrenSize()===0&&lt.remove(),rt}insertAfter(rt,at=!0){var lt=this.getParentOrThrow();q$2(lt)||m(39);var st=this.getNextSiblings();if(p$1(rt))return at=super.insertAfter(rt,at),rt=rt.getParentOrThrow(),q$2(rt)&&E$2(rt),at;if(q$2(rt)&&rt.getListType()===lt.getListType()){for(lt=rt,rt=rt.getChildren(),st=rt.length-1;0<=st;st--)lt=rt[st],this.insertAfter(lt,at);return lt}if(lt.insertAfter(rt,at),st.length!==0){let ct=D$2(lt.getListType());st.forEach(ut=>ct.append(ut)),rt.insertAfter(ct,at)}return rt}remove(rt){let at=this.getPreviousSibling(),lt=this.getNextSibling();super.remove(rt),at&&lt&&u(at)&&u(lt)?(F$2(at.getFirstChild(),lt.getFirstChild()),lt.remove()):lt&&(rt=lt.getParent(),q$2(rt)&&E$2(rt))}insertNewAfter(rt,at=!0){return rt=y$1(this.__checked==null?void 0:!1),this.insertAfter(rt,at),rt}collapseAtStart(rt){let at=h.$createParagraphNode();this.getChildren().forEach(ut=>at.append(ut));var lt=this.getParentOrThrow(),st=lt.getParentOrThrow();let ct=p$1(st);return lt.getChildrenSize()===1?ct?(lt.remove(),st.select()):(lt.insertBefore(at),lt.remove(),lt=rt.anchor,rt=rt.focus,st=at.getKey(),lt.type==="element"&&lt.getNode().is(this)&&lt.set(st,lt.offset,"element"),rt.type==="element"&&rt.getNode().is(this)&&rt.set(st,rt.offset,"element")):(lt.insertBefore(at),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(rt){this.getWritable().__value=rt}getChecked(){return this.getLatest().__checked}setChecked(rt){this.getWritable().__checked=rt}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var rt=this.getParent();if(rt===null)return this.getLatest().__indent;rt=rt.getParentOrThrow();let at=0;for(;p$1(rt);)rt=rt.getParentOrThrow().getParentOrThrow(),at++;return at}setIndent(rt){typeof rt=="number"&&-1<rt||m(117);let at=this.getIndent();for(;at!==rt;)if(at<rt){e:{var lt=new Set;if(u(this)||lt.has(this.getKey()))break e;let ft=this.getParent();var st=this.getNextSibling(),ct=this.getPreviousSibling();if(u(st)&&u(ct)){if(ct=ct.getFirstChild(),q$2(ct)){ct.append(this);var ut=st.getFirstChild();q$2(ut)&&(ut=ut.getChildren(),B$2(ct,ut),st.remove(),lt.add(st.getKey())),E$2(ct)}}else u(st)?(st=st.getFirstChild(),q$2(st)&&(lt=st.getFirstChild(),lt!==null&&lt.insertBefore(this),E$2(st))):u(ct)?(st=ct.getFirstChild(),q$2(st)&&(st.append(this),E$2(st))):q$2(ft)&&(lt=y$1(),ut=D$2(ft.getListType()),lt.append(ut),ut.append(this),ct?ct.insertAfter(lt):st?st.insertBefore(lt):ft.append(lt),E$2(ut));q$2(ft)&&E$2(ft)}at++}else G$1(this),at--;return this}insertBefore(rt){if(p$1(rt)){let at=this.getParentOrThrow();if(q$2(at)){let lt=this.getNextSiblings();E$2(at,lt)}}return super.insertBefore(rt)}canInsertAfter(rt){return p$1(rt)}canReplaceWith(rt){return p$1(rt)}canMergeWith(rt){return h.$isParagraphNode(rt)||p$1(rt)}extractWithChild(rt,at){if(!h.$isRangeSelection(at))return!1;rt=at.anchor.getNode();let lt=at.focus.getNode();return this.isParentOf(rt)&&this.isParentOf(lt)&&this.getTextContent().length===at.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D$2("bullet")}}function J(_e,rt,at){let lt=[],st=[];var ct=(rt=rt.list)?rt.listitem:void 0;if(rt&&rt.nested)var ut=rt.nested.listitem;if(ct!==void 0&&(ct=ct.split(" "),lt.push(...ct)),rt){ct=at.getParent(),ct=q$2(ct)&&ct.getListType()==="check";let ft=at.getChecked();ct&&!ft||st.push(rt.listitemUnchecked),ct&&ft||st.push(rt.listitemChecked),ct&&lt.push(ft?rt.listitemChecked:rt.listitemUnchecked)}ut!==void 0&&(ut=ut.split(" "),at.getChildren().some(ft=>q$2(ft))?lt.push(...ut):st.push(...ut)),0<st.length&&k$2.removeClassNamesFromElement(_e,...st),0<lt.length&&k$2.addClassNamesToElement(_e,...lt)}function I(_e,rt,at){q$2(rt.getFirstChild())?(_e.removeAttribute("role"),_e.removeAttribute("tabIndex"),_e.removeAttribute("aria-checked")):(_e.setAttribute("role","checkbox"),_e.setAttribute("tabIndex","-1"),at&&rt.__checked===at.__checked||_e.setAttribute("aria-checked",rt.getChecked()?"true":"false"))}function K(_e){return _e=k$2.isHTMLElement(_e)&&_e.getAttribute("aria-checked")==="true",{node:y$1(_e)}}function y$1(_e){return h.$applyNodeReplacement(new H(void 0,_e))}function p$1(_e){return _e instanceof H}class L extends h.ElementNode{static getType(){return"list"}static clone(rt){return new L(rt.__listType||N[rt.__tag],rt.__start,rt.__key)}constructor(rt,at,lt){super(lt),this.__listType=rt=N[rt]||rt,this.__tag=rt==="number"?"ol":"ul",this.__start=at}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(rt){let at=document.createElement(this.__tag);return this.__start!==1&&at.setAttribute("start",String(this.__start)),at.__lexicalListType=this.__listType,O(at,rt.theme,this),at}updateDOM(rt,at,lt){return rt.__tag!==this.__tag?!0:(O(at,lt.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:P,priority:0}),ul:()=>({conversion:P,priority:0})}}static importJSON(rt){let at=D$2(rt.listType,rt.start);return at.setFormat(rt.format),at.setIndent(rt.indent),at.setDirection(rt.direction),at}exportDOM(rt){return{element:rt}=super.exportDOM(rt),rt&&(this.__start!==1&&rt.setAttribute("start",String(this.__start)),this.__listType==="check"&&rt.setAttribute("__lexicalListType","check")),{element:rt}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...rt){for(let lt=0;lt<rt.length;lt++){var at=rt[lt];if(p$1(at))super.append(at);else{let st=y$1();q$2(at)||h.$isElementNode(at)&&(at=h.$createTextNode(at.getTextContent())),st.append(at),super.append(st)}}return E$2(this),this}extractWithChild(rt){return p$1(rt)}}function O(_e,rt,at){let lt=[],st=[];var ct=rt.list;if(ct!==void 0){let ft=ct[`${at.__tag}Depth`]||[];rt=n(at)-1;let dt=rt%ft.length;var ut=ft[dt];let pt=ct[at.__tag],ht;if(ct=ct.nested,ct!==void 0&&ct.list&&(ht=ct.list),pt!==void 0&&lt.push(pt),ut!==void 0)for(ut=ut.split(" "),lt.push(...ut),ut=0;ut<ft.length;ut++)ut!==dt&&st.push(at.__tag+ut);ht!==void 0&&(at=ht.split(" "),1<rt?lt.push(...at):st.push(...at))}0<st.length&&k$2.removeClassNamesFromElement(_e,...st),0<lt.length&&k$2.addClassNamesToElement(_e,...lt)}function Q(_e){let rt=[];for(let lt=0;lt<_e.length;lt++){var at=_e[lt];p$1(at)?(rt.push(at),at=at.getChildren(),1<at.length&&at.forEach(st=>{q$2(st)&&rt.push(w$1(st))})):rt.push(w$1(at))}return rt}function P(_e){let rt=_e.nodeName.toLowerCase(),at=null;return rt==="ol"?at=D$2("number",_e.start):rt==="ul"&&(at=k$2.isHTMLElement(_e)&&_e.getAttribute("__lexicallisttype")==="check"?D$2("check"):D$2("bullet")),{after:Q,node:at}}let N={ol:"number",ul:"bullet"};function D$2(_e,rt=1){return h.$applyNodeReplacement(new L(_e,rt))}function q$2(_e){return _e instanceof L}h.createCommand("INSERT_UNORDERED_LIST_COMMAND");h.createCommand("INSERT_ORDERED_LIST_COMMAND");h.createCommand("INSERT_CHECK_LIST_COMMAND");h.createCommand("REMOVE_LIST_COMMAND");var g=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;var k$1=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k$1.useLayoutEffect:k$1.useEffect;var k=LexicalUtils_1,l$1=Lexical_1;let p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q$1=p&&"documentMode"in document?document.documentMode:null;p&&"InputEvent"in window&&!q$1&&"getTargetRanges"in new window.InputEvent("input");l$1.createCommand("DRAG_DROP_PASTE_FILE");let z$1=class gr extends l$1.ElementNode{static getType(){return"quote"}static clone(rt){return new gr(rt.__key)}constructor(rt){super(rt)}createDOM(rt){let at=document.createElement("blockquote");return k.addClassNamesToElement(at,rt.theme.quote),at}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:A$1,priority:0})}}static importJSON(rt){let at=B$1();return at.setFormat(rt.format),at.setIndent(rt.indent),at.setDirection(rt.direction),at}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(rt,at){rt=l$1.$createParagraphNode();let lt=this.getDirection();return rt.setDirection(lt),this.insertAfter(rt,at),rt}collapseAtStart(){let rt=l$1.$createParagraphNode();return this.getChildren().forEach(at=>rt.append(at)),this.replace(rt),!0}};function B$1(){return l$1.$applyNodeReplacement(new z$1)}let D$1=class mr extends l$1.ElementNode{static getType(){return"heading"}static clone(rt){return new mr(rt.__tag,rt.__key)}constructor(rt,at){super(at),this.__tag=rt}getTag(){return this.__tag}createDOM(rt){let at=this.__tag,lt=document.createElement(at);return rt=rt.theme.heading,rt!==void 0&&k.addClassNamesToElement(lt,rt[at]),lt}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:E$1,priority:0}),h2:()=>({conversion:E$1,priority:0}),h3:()=>({conversion:E$1,priority:0}),h4:()=>({conversion:E$1,priority:0}),h5:()=>({conversion:E$1,priority:0}),h6:()=>({conversion:E$1,priority:0}),p:rt=>(rt=rt.firstChild,rt!==null&&F$1(rt)?{conversion:()=>({node:null}),priority:3}:null),span:rt=>F$1(rt)?{conversion:()=>({node:G("h1")}),priority:3}:null}}static importJSON(rt){let at=G(rt.tag);return at.setFormat(rt.format),at.setIndent(rt.indent),at.setDirection(rt.direction),at}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(rt,at=!0){rt=rt?rt.anchor.offset:0,rt=0<rt&&rt<this.getTextContentSize()?G(this.getTag()):l$1.$createParagraphNode();let lt=this.getDirection();return rt.setDirection(lt),this.insertAfter(rt,at),rt}collapseAtStart(){let rt=this.isEmpty()?l$1.$createParagraphNode():G(this.getTag());return this.getChildren().forEach(at=>rt.append(at)),this.replace(rt),!0}extractWithChild(){return!0}};function F$1(_e){return _e.nodeName.toLowerCase()==="span"?_e.style.fontSize==="26pt":!1}function E$1(_e){_e=_e.nodeName.toLowerCase();let rt=null;return(_e==="h1"||_e==="h2"||_e==="h3"||_e==="h4"||_e==="h5"||_e==="h6")&&(rt=G(_e)),{node:rt}}function A$1(){return{node:B$1()}}function G(_e){return l$1.$applyNodeReplacement(new D$1(_e))}var l=reactExports;typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?l.useLayoutEffect:l.useEffect;var c=Lexical_1,q=LexicalUtils_1;let w={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},x$1=class xr extends c.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(rt){let at=new xr(rt.__headerState,rt.__colSpan,rt.__width,rt.__key);return at.__rowSpan=rt.__rowSpan,at}static importDOM(){return{td:()=>({conversion:z,priority:0}),th:()=>({conversion:z,priority:0})}}static importJSON(rt){let at=A(rt.headerState,rt.colSpan,rt.width||void 0);return at.__rowSpan=rt.rowSpan,at}constructor(rt=w.NO_STATUS,at=1,lt,st){super(at,st),this.__headerState=rt,this.__width=lt}createDOM(rt){let at=document.createElement(this.getTag());return this.__width&&(at.style.width=`${this.__width}px`),1<this.__colSpan&&(at.colSpan=this.__colSpan),1<this.__rowSpan&&(at.rowSpan=this.__rowSpan),q.addClassNamesToElement(at,rt.theme.tableCell,this.hasHeader()&&rt.theme.tableCellHeader),at}exportDOM(rt){if({element:rt}=super.exportDOM(rt),rt){let at=this.getParentOrThrow().getChildrenSize();rt.style.border="1px solid black",1<this.__colSpan&&(rt.colSpan=this.__colSpan),1<this.__rowSpan&&(rt.rowSpan=this.__rowSpan),rt.style.width=`${this.getWidth()||Math.max(90,700/at)}px`,rt.style.verticalAlign="top",rt.style.textAlign="start",this.hasHeader()&&(rt.style.backgroundColor="#f2f3f5")}return{element:rt}}exportJSON(){return{...super.exportJSON(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(rt){return this.getWritable().__headerState=rt,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(rt){return this.getWritable().__width=rt,this.__width}getWidth(){return this.getLatest().__width}toggleHeaderStyle(rt){let at=this.getWritable();return at.__headerState=(at.__headerState&rt)===rt?at.__headerState-rt:at.__headerState+rt,at}hasHeaderState(rt){return(this.getHeaderStyles()&rt)===rt}hasHeader(){return this.getLatest().__headerState!==w.NO_STATUS}updateDOM(rt){return rt.__headerState!==this.__headerState||rt.__width!==this.__width||rt.__colSpan!==this.__colSpan||rt.__rowSpan!==this.__rowSpan}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function z(_e){var rt=_e.nodeName.toLowerCase();return rt=A(rt==="th"?w.ROW:w.NO_STATUS),rt.__colSpan=_e.colSpan,rt.__rowSpan=_e.rowSpan,{forChild:(at,lt)=>B(lt)&&!c.$isElementNode(at)?(lt=c.$createParagraphNode(),c.$isLineBreakNode(at)&&at.getTextContent()===`
`?null:(lt.append(at),lt)):at,node:rt}}function A(_e,rt=1,at){return c.$applyNodeReplacement(new x$1(_e,rt,at))}function B(_e){return _e instanceof x$1}class C extends c.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(rt){return new C(rt.__height,rt.__key)}static importDOM(){return{tr:()=>({conversion:D,priority:0})}}static importJSON(rt){return E(rt.height)}constructor(rt,at){super(at),this.__height=rt}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(rt){let at=document.createElement("tr");return this.__height&&(at.style.height=`${this.__height}px`),q.addClassNamesToElement(at,rt.theme.tableRow),at}isShadowRoot(){return!0}setHeight(rt){return this.getWritable().__height=rt,this.__height}getHeight(){return this.getLatest().__height}updateDOM(rt){return rt.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function D(){return{node:E()}}function E(_e){return c.$applyNodeReplacement(new C(_e))}function F(_e){return _e instanceof C}class S extends c.DEPRECATED_GridNode{static getType(){return"table"}static clone(rt){return new S(rt.__key)}static importDOM(){return{table:()=>({conversion:ca,priority:1})}}static importJSON(){return T()}constructor(rt){super(rt)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(rt){let at=document.createElement("table");return q.addClassNamesToElement(at,rt.theme.table),at}updateDOM(){return!1}exportDOM(rt){return{...super.exportDOM(rt),after:at=>{if(at){let lt=at.cloneNode(),st=document.createElement("colgroup"),ct=document.createElement("tbody");if(ct.append(...at.children),at=this.getFirstChildOrThrow(),!F(at))throw Error("Expected to find row node.");at=at.getChildrenSize();for(let ut=0;ut<at;ut++){let ft=document.createElement("col");st.append(ft)}return lt.replaceChildren(st,ct),lt}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(rt,at){let{rows:lt,cells:st}=at;for(at=0;at<lt;at++){var ct=st[at];if(ct==null)throw Error(`Row not found at y:${at}`);if(ct=ct.findIndex(({elem:ut})=>c.$getNearestNodeFromDOMNode(ut)===rt),ct!==-1)return{x:ct,y:at}}throw Error("Cell not found in table.")}getCellFromCords(rt,at,lt){return{cells:lt}=lt,at=lt[at],at==null?null:(rt=at[rt],rt??null)}getCellFromCordsOrThrow(rt,at,lt){if(rt=this.getCellFromCords(rt,at,lt),!rt)throw Error("Cell not found at cords.");return rt}getCellNodeFromCords(rt,at,lt){return rt=this.getCellFromCords(rt,at,lt),rt==null?null:(rt=c.$getNearestNodeFromDOMNode(rt.elem),B(rt)?rt:null)}getCellNodeFromCordsOrThrow(rt,at,lt){if(rt=this.getCellNodeFromCords(rt,at,lt),!rt)throw Error("Node at cords not TableCellNode.");return rt}canSelectBefore(){return!0}canIndent(){return!1}}function ca(){return{node:T()}}function T(){return c.$applyNodeReplacement(new S)}c.createCommand("INSERT_TABLE_COMMAND");reactExports.createContext(null);Lexical_1.createCommand("INSERT_IMAGE_COMMAND");function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(_e){const rt=_e+"CollectionProvider",[at,lt]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(rt),[st,ct]=at(rt,{collectionRef:{current:null},itemMap:new Map}),ut=xt=>{const{scope:vt,children:yt}=xt,_t=React$8.useRef(null),$t=React$8.useRef(new Map).current;return React$8.createElement(st,{scope:vt,itemMap:$t,collectionRef:_t},yt)},ft=_e+"CollectionSlot",dt=React$8.forwardRef((xt,vt)=>{const{scope:yt,children:_t}=xt,$t=ct(ft,yt),Et=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(vt,$t.collectionRef);return React$8.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:Et},_t)}),pt=_e+"CollectionItemSlot",ht="data-radix-collection-item",gt=React$8.forwardRef((xt,vt)=>{const{scope:yt,children:_t,...$t}=xt,Et=React$8.useRef(null),wt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(vt,Et),bt=ct(pt,yt);return React$8.useEffect(()=>(bt.itemMap.set(Et,{ref:Et,...$t}),()=>void bt.itemMap.delete(Et))),React$8.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[ht]:"",ref:wt},_t)});function mt(xt){const vt=ct(_e+"CollectionConsumer",xt);return React$8.useCallback(()=>{const _t=vt.collectionRef.current;if(!_t)return[];const $t=Array.from(_t.querySelectorAll(`[${ht}]`));return Array.from(vt.itemMap.values()).sort((bt,St)=>$t.indexOf(bt.ref.current)-$t.indexOf(St.ref.current))},[vt.collectionRef,vt.itemMap])}return[{Provider:ut,Slot:dt,ItemSlot:gt},mt,lt]}const $f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(_e){const rt=reactExports.useContext($f631663db3294ace$var$DirectionContext);return _e||rt||"ltr"}const $d7bdfb9eb0fdf311$var$ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",$d7bdfb9eb0fdf311$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d7bdfb9eb0fdf311$var$GROUP_NAME="RovingFocusGroup",[$d7bdfb9eb0fdf311$var$Collection,$d7bdfb9eb0fdf311$var$useCollection,$d7bdfb9eb0fdf311$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($d7bdfb9eb0fdf311$var$GROUP_NAME),[$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext,$d7bdfb9eb0fdf311$export$c7109489551a4f4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d7bdfb9eb0fdf311$var$GROUP_NAME,[$d7bdfb9eb0fdf311$var$createCollectionScope]),[$d7bdfb9eb0fdf311$var$RovingFocusProvider,$d7bdfb9eb0fdf311$var$useRovingFocusContext]=$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext($d7bdfb9eb0fdf311$var$GROUP_NAME),$d7bdfb9eb0fdf311$export$8699f7c8af148338=reactExports.forwardRef((_e,rt)=>reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Provider,{scope:_e.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Slot,{scope:_e.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusGroupImpl,_extends({},_e,{ref:rt}))))),$d7bdfb9eb0fdf311$var$RovingFocusGroupImpl=reactExports.forwardRef((_e,rt)=>{const{__scopeRovingFocusGroup:at,orientation:lt,loop:st=!1,dir:ct,currentTabStopId:ut,defaultCurrentTabStopId:ft,onCurrentTabStopIdChange:dt,onEntryFocus:pt,...ht}=_e,gt=reactExports.useRef(null),mt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(rt,gt),xt=$f631663db3294ace$export$b39126d51d94e6f3(ct),[vt=null,yt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:ut,defaultProp:ft,onChange:dt}),[_t,$t]=reactExports.useState(!1),Et=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(pt),wt=$d7bdfb9eb0fdf311$var$useCollection(at),bt=reactExports.useRef(!1),[St,Tt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Rt=gt.current;if(Rt)return Rt.addEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,Et),()=>Rt.removeEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,Et)},[Et]),reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusProvider,{scope:at,orientation:lt,dir:xt,loop:st,currentTabStopId:vt,onItemFocus:reactExports.useCallback(Rt=>yt(Rt),[yt]),onItemShiftTab:reactExports.useCallback(()=>$t(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Tt(Rt=>Rt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Tt(Rt=>Rt-1),[])},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({tabIndex:_t||St===0?-1:0,"data-orientation":lt},ht,{ref:mt,style:{outline:"none",..._e.style},onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onMouseDown,()=>{bt.current=!0}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocus,Rt=>{const kt=!bt.current;if(Rt.target===Rt.currentTarget&&kt&&!_t){const At=new CustomEvent($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,$d7bdfb9eb0fdf311$var$EVENT_OPTIONS);if(Rt.currentTarget.dispatchEvent(At),!At.defaultPrevented){const Ct=wt().filter(Ft=>Ft.focusable),Mt=Ct.find(Ft=>Ft.active),Ot=Ct.find(Ft=>Ft.id===vt),It=[Mt,Ot,...Ct].filter(Boolean).map(Ft=>Ft.ref.current);$d7bdfb9eb0fdf311$var$focusFirst(It)}}bt.current=!1}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onBlur,()=>$t(!1))})))}),$d7bdfb9eb0fdf311$var$ITEM_NAME="RovingFocusGroupItem",$d7bdfb9eb0fdf311$export$ab9df7c53fe8454=reactExports.forwardRef((_e,rt)=>{const{__scopeRovingFocusGroup:at,focusable:lt=!0,active:st=!1,tabStopId:ct,...ut}=_e,ft=$1746a345f3d73bb7$export$f680877a34711e37(),dt=ct||ft,pt=$d7bdfb9eb0fdf311$var$useRovingFocusContext($d7bdfb9eb0fdf311$var$ITEM_NAME,at),ht=pt.currentTabStopId===dt,gt=$d7bdfb9eb0fdf311$var$useCollection(at),{onFocusableItemAdd:mt,onFocusableItemRemove:xt}=pt;return reactExports.useEffect(()=>{if(lt)return mt(),()=>xt()},[lt,mt,xt]),reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.ItemSlot,{scope:at,id:dt,focusable:lt,active:st},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({tabIndex:ht?0:-1,"data-orientation":pt.orientation},ut,{ref:rt,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onMouseDown,vt=>{lt?pt.onItemFocus(dt):vt.preventDefault()}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocus,()=>pt.onItemFocus(dt)),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onKeyDown,vt=>{if(vt.key==="Tab"&&vt.shiftKey){pt.onItemShiftTab();return}if(vt.target!==vt.currentTarget)return;const yt=$d7bdfb9eb0fdf311$var$getFocusIntent(vt,pt.orientation,pt.dir);if(yt!==void 0){vt.preventDefault();let $t=gt().filter(Et=>Et.focusable).map(Et=>Et.ref.current);if(yt==="last")$t.reverse();else if(yt==="prev"||yt==="next"){yt==="prev"&&$t.reverse();const Et=$t.indexOf(vt.currentTarget);$t=pt.loop?$d7bdfb9eb0fdf311$var$wrapArray($t,Et+1):$t.slice(Et+1)}setTimeout(()=>$d7bdfb9eb0fdf311$var$focusFirst($t))}})})))}),$d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $d7bdfb9eb0fdf311$var$getDirectionAwareKey(_e,rt){return rt!=="rtl"?_e:_e==="ArrowLeft"?"ArrowRight":_e==="ArrowRight"?"ArrowLeft":_e}function $d7bdfb9eb0fdf311$var$getFocusIntent(_e,rt,at){const lt=$d7bdfb9eb0fdf311$var$getDirectionAwareKey(_e.key,at);if(!(rt==="vertical"&&["ArrowLeft","ArrowRight"].includes(lt))&&!(rt==="horizontal"&&["ArrowUp","ArrowDown"].includes(lt)))return $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT[lt]}function $d7bdfb9eb0fdf311$var$focusFirst(_e){const rt=document.activeElement;for(const at of _e)if(at===rt||(at.focus(),document.activeElement!==rt))return}function $d7bdfb9eb0fdf311$var$wrapArray(_e,rt){return _e.map((at,lt)=>_e[(rt+lt)%_e.length])}const $d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9=$d7bdfb9eb0fdf311$export$8699f7c8af148338,$d7bdfb9eb0fdf311$export$6d08773d2e66f8f2=$d7bdfb9eb0fdf311$export$ab9df7c53fe8454,$6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME="ToggleGroup",[$6c1fd9e6a8969628$var$createToggleGroupContext,$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4]);$d7bdfb9eb0fdf311$export$c7109489551a4f4();$6c1fd9e6a8969628$var$createToggleGroupContext($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME);$6c1fd9e6a8969628$var$createToggleGroupContext($6c1fd9e6a8969628$var$TOGGLE_GROUP_NAME);const $3dc4ded751c8bdfb$var$TOOLBAR_NAME="Toolbar",[$3dc4ded751c8bdfb$var$createToolbarContext,$3dc4ded751c8bdfb$export$233e637670877d91]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($3dc4ded751c8bdfb$var$TOOLBAR_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4,$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4]),$3dc4ded751c8bdfb$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4();$6c1fd9e6a8969628$export$d1c7c4bcd9f26dd4();$3dc4ded751c8bdfb$var$createToolbarContext($3dc4ded751c8bdfb$var$TOOLBAR_NAME);const $3dc4ded751c8bdfb$export$e5c1a33878e86e9e=reactExports.forwardRef((_e,rt)=>{const{__scopeToolbar:at,...lt}=_e,st=$3dc4ded751c8bdfb$var$useRovingFocusGroupScope(at);return reactExports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends({asChild:!0},st,{focusable:!_e.disabled}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button"},lt,{ref:rt})))}),$3dc4ded751c8bdfb$export$353f5b6fc5456de1=$3dc4ded751c8bdfb$export$e5c1a33878e86e9e;reactExports.createContext(null);reactExports.forwardRef((_e,rt)=>{const{children:at,onClick:lt,tooltip:st,variant:ct}=_e;return jsx("div",{className:clsx("ml-0.5 inline-flex h-[25px] flex-shrink-0 flex-grow-0 basis-auto items-center justify-center rounded bg-white px-[5px] text-[13px] leading-none text-neutral-900 outline-none first:ml-0 hover:bg-primary-100 hover:text-neutral-500 focus:relative focus:shadow-[0_0_0_2px] focus:shadow-primary-300 data-[state=on]:bg-primary-500 data-[state=on]:text-primary-900",{"bg-white":ct==="white","bg-primary-200":ct==="secondary"}),children:jsx(WithTooltip,{tooltip:st,children:jsx($3dc4ded751c8bdfb$export$353f5b6fc5456de1,{ref:rt,onClick:lt,value:"right","aria-label":"Right aligned",children:at})})})});reactExports.createContext(null);var supportCustomEvent=window.CustomEvent;(!supportCustomEvent||typeof supportCustomEvent=="object")&&(supportCustomEvent=function(rt,at){at=at||{};var lt=document.createEvent("CustomEvent");return lt.initCustomEvent(rt,!!at.bubbles,!!at.cancelable,at.detail||null),lt},supportCustomEvent.prototype=window.Event.prototype);function safeDispatchEvent(_e,rt){var at="on"+rt.type.toLowerCase();return typeof _e[at]=="function"&&_e[at](rt),_e.dispatchEvent(rt)}function createsStackingContext(_e){for(;_e&&_e!==document.body;){var rt=window.getComputedStyle(_e),at=function(lt,st){return!(rt[lt]===void 0||rt[lt]===st)};if(rt.opacity<1||at("zIndex","auto")||at("transform","none")||at("mixBlendMode","normal")||at("filter","none")||at("perspective","none")||rt.isolation==="isolate"||rt.position==="fixed"||rt.webkitOverflowScrolling==="touch")return!0;_e=_e.parentElement}return!1}function findNearestDialog(_e){for(;_e;){if(_e.localName==="dialog")return _e;_e.parentElement?_e=_e.parentElement:_e.parentNode?_e=_e.parentNode.host:_e=null}return null}function safeBlur(_e){for(;_e&&_e.shadowRoot&&_e.shadowRoot.activeElement;)_e=_e.shadowRoot.activeElement;_e&&_e.blur&&_e!==document.body&&_e.blur()}function inNodeList(_e,rt){for(var at=0;at<_e.length;++at)if(_e[at]===rt)return!0;return!1}function isFormMethodDialog(_e){return!_e||!_e.hasAttribute("method")?!1:_e.getAttribute("method").toLowerCase()==="dialog"}function findFocusableElementWithin(_e){var rt=["button","input","keygen","select","textarea"],at=rt.map(function(ut){return ut+":not([disabled])"});at.push('[tabindex]:not([disabled]):not([tabindex=""])');var lt=_e.querySelector(at.join(", "));if(!lt&&"attachShadow"in Element.prototype)for(var st=_e.querySelectorAll("*"),ct=0;ct<st.length&&!(st[ct].tagName&&st[ct].shadowRoot&&(lt=findFocusableElementWithin(st[ct].shadowRoot),lt));ct++);return lt}function isConnected(_e){return _e.isConnected||document.body.contains(_e)}function findFormSubmitter(_e){if(_e.submitter)return _e.submitter;var rt=_e.target;if(!(rt instanceof HTMLFormElement))return null;var at=dialogPolyfill.formSubmitter;if(!at){var lt=_e.target,st="getRootNode"in lt&&lt.getRootNode()||document;at=st.activeElement}return!at||at.form!==rt?null:at}function maybeHandleSubmit(_e){if(!_e.defaultPrevented){var rt=_e.target,at=dialogPolyfill.imagemapUseValue,lt=findFormSubmitter(_e);at===null&&lt&&(at=lt.value);var st=findNearestDialog(rt);if(st){var ct=lt&&lt.getAttribute("formmethod")||rt.getAttribute("method");ct==="dialog"&&(_e.preventDefault(),at!=null?st.close(at):st.close())}}}function dialogPolyfillInfo(_e){if(this.dialog_=_e,this.replacedStyleTop_=!1,this.openAsModal_=!1,_e.hasAttribute("role")||_e.setAttribute("role","dialog"),_e.show=this.show.bind(this),_e.showModal=this.showModal.bind(this),_e.close=this.close.bind(this),_e.addEventListener("submit",maybeHandleSubmit,!1),"returnValue"in _e||(_e.returnValue=""),"MutationObserver"in window){var rt=new MutationObserver(this.maybeHideModal.bind(this));rt.observe(_e,{attributes:!0,attributeFilter:["open"]})}else{var at=!1,lt=function(){at?this.downgradeModal():this.maybeHideModal(),at=!1}.bind(this),st,ct=function(ut){if(ut.target===_e){var ft="DOMNodeRemoved";at|=ut.type.substr(0,ft.length)===ft,window.clearTimeout(st),st=window.setTimeout(lt,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(ut){_e.addEventListener(ut,ct)})}Object.defineProperty(_e,"open",{set:this.setOpen.bind(this),get:_e.hasAttribute.bind(_e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}dialogPolyfillInfo.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&isConnected(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),dialogPolyfill.dm.removeDialog(this))},setOpen:function(_e){_e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(_e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var rt=document.createElement("div");this.dialog_.insertBefore(rt,this.dialog_.firstChild),rt.tabIndex=-1,rt.focus(),this.dialog_.removeChild(rt)}var at=document.createEvent("MouseEvents");at.initMouseEvent(_e.type,_e.bubbles,_e.cancelable,window,_e.detail,_e.screenX,_e.screenY,_e.clientX,_e.clientY,_e.ctrlKey,_e.altKey,_e.shiftKey,_e.metaKey,_e.button,_e.relatedTarget),this.dialog_.dispatchEvent(at),_e.stopPropagation()},focus_:function(){var _e=this.dialog_.querySelector("[autofocus]:not([disabled])");!_e&&this.dialog_.tabIndex>=0&&(_e=this.dialog_),_e||(_e=findFocusableElementWithin(this.dialog_)),safeBlur(document.activeElement),_e&&_e.focus()},updateZIndex:function(_e,rt){if(_e<rt)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_e,this.backdrop_.style.zIndex=rt},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!isConnected(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!dialogPolyfill.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");createsStackingContext(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,dialogPolyfill.needsCentering(this.dialog_)?(dialogPolyfill.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_e!==void 0&&(this.dialog_.returnValue=_e);var rt=new supportCustomEvent("close",{bubbles:!1,cancelable:!1});safeDispatchEvent(this.dialog_,rt)}};var dialogPolyfill={};dialogPolyfill.reposition=function(_e){var rt=document.body.scrollTop||document.documentElement.scrollTop,at=rt+(window.innerHeight-_e.offsetHeight)/2;_e.style.top=Math.max(rt,at)+"px"};dialogPolyfill.isInlinePositionSetByStylesheet=function(_e){for(var rt=0;rt<document.styleSheets.length;++rt){var at=document.styleSheets[rt],lt=null;try{lt=at.cssRules}catch{}if(lt)for(var st=0;st<lt.length;++st){var ct=lt[st],ut=null;try{ut=document.querySelectorAll(ct.selectorText)}catch{}if(!(!ut||!inNodeList(ut,_e))){var ft=ct.style.getPropertyValue("top"),dt=ct.style.getPropertyValue("bottom");if(ft&&ft!=="auto"||dt&&dt!=="auto")return!0}}}return!1};dialogPolyfill.needsCentering=function(_e){var rt=window.getComputedStyle(_e);return rt.position!=="absolute"||_e.style.top!=="auto"&&_e.style.top!==""||_e.style.bottom!=="auto"&&_e.style.bottom!==""?!1:!dialogPolyfill.isInlinePositionSetByStylesheet(_e)};dialogPolyfill.forceRegisterDialog=function(_e){if((window.HTMLDialogElement||_e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_e),_e.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new dialogPolyfillInfo(_e)};dialogPolyfill.registerDialog=function(_e){_e.showModal||dialogPolyfill.forceRegisterDialog(_e)};dialogPolyfill.DialogManager=function(){this.pendingDialogStack=[];var _e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(rt){this.forwardTab_=void 0,rt.stopPropagation(),_e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(rt){var at=[];rt.forEach(function(lt){for(var st=0,ct;ct=lt.removedNodes[st];++st){if(ct instanceof Element)ct.localName==="dialog"&&at.push(ct);else continue;at=at.concat(ct.querySelectorAll("dialog"))}}),at.length&&_e(at)}))};dialogPolyfill.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})};dialogPolyfill.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()};dialogPolyfill.DialogManager.prototype.updateStacking=function(){for(var _e=this.zIndexHigh_,rt=0,at;at=this.pendingDialogStack[rt];++rt)at.updateZIndex(--_e,--_e),rt===0&&(this.overlay.style.zIndex=--_e);var lt=this.pendingDialogStack[0];if(lt){var st=lt.dialog.parentNode||document.body;st.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)};dialogPolyfill.DialogManager.prototype.containedByTopDialog_=function(_e){for(;_e=findNearestDialog(_e);){for(var rt=0,at;at=this.pendingDialogStack[rt];++rt)if(at.dialog===_e)return rt===0;_e=_e.parentElement}return!1};dialogPolyfill.DialogManager.prototype.handleFocus_=function(_e){var rt=_e.composedPath?_e.composedPath()[0]:_e.target;if(!this.containedByTopDialog_(rt)&&document.activeElement!==document.documentElement&&(_e.preventDefault(),_e.stopPropagation(),safeBlur(rt),this.forwardTab_!==void 0)){var at=this.pendingDialogStack[0],lt=at.dialog,st=lt.compareDocumentPosition(rt);return st&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?at.focus_():rt!==document.documentElement&&document.documentElement.focus()),!1}};dialogPolyfill.DialogManager.prototype.handleKey_=function(_e){if(this.forwardTab_=void 0,_e.keyCode===27){_e.preventDefault(),_e.stopPropagation();var rt=new supportCustomEvent("cancel",{bubbles:!1,cancelable:!0}),at=this.pendingDialogStack[0];at&&safeDispatchEvent(at.dialog,rt)&&at.dialog.close()}else _e.keyCode===9&&(this.forwardTab_=!_e.shiftKey)};dialogPolyfill.DialogManager.prototype.checkDOM_=function(_e){var rt=this.pendingDialogStack.slice();rt.forEach(function(at){_e.indexOf(at.dialog)!==-1?at.downgradeModal():at.maybeHideModal()})};dialogPolyfill.DialogManager.prototype.pushDialog=function(_e){var rt=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=rt?!1:(this.pendingDialogStack.unshift(_e)===1&&this.blockDocument(),this.updateStacking(),!0)};dialogPolyfill.DialogManager.prototype.removeDialog=function(_e){var rt=this.pendingDialogStack.indexOf(_e);rt!==-1&&(this.pendingDialogStack.splice(rt,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())};dialogPolyfill.dm=new dialogPolyfill.DialogManager;dialogPolyfill.formSubmitter=null;dialogPolyfill.imagemapUseValue=null;if(window.HTMLDialogElement===void 0){var testForm=document.createElement("form");if(testForm.setAttribute("method","dialog"),testForm.method!=="dialog"){var methodDescriptor=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(methodDescriptor){var realGet=methodDescriptor.get;methodDescriptor.get=function(){return isFormMethodDialog(this)?"dialog":realGet.call(this)};var realSet=methodDescriptor.set;methodDescriptor.set=function(_e){return typeof _e=="string"&&_e.toLowerCase()==="dialog"?this.setAttribute("method",_e):realSet.call(this,_e)},Object.defineProperty(HTMLFormElement.prototype,"method",methodDescriptor)}}document.addEventListener("click",function(_e){if(dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,!_e.defaultPrevented){var rt=_e.target;if("composedPath"in _e){var at=_e.composedPath();rt=at.shift()||rt}if(!(!rt||!isFormMethodDialog(rt.form))){var lt=rt.type==="submit"&&["button","input"].indexOf(rt.localName)>-1;if(!lt){if(!(rt.localName==="input"&&rt.type==="image"))return;dialogPolyfill.imagemapUseValue=_e.offsetX+","+_e.offsetY}var st=findNearestDialog(rt);st&&(dialogPolyfill.formSubmitter=rt)}}},!1),document.addEventListener("submit",function(_e){var rt=_e.target,at=findNearestDialog(rt);if(!at){var lt=findFormSubmitter(_e),st=lt&&lt.getAttribute("formmethod")||rt.getAttribute("method");st==="dialog"&&_e.preventDefault()}});var nativeFormSubmit=HTMLFormElement.prototype.submit,replacementFormSubmit=function(){if(!isFormMethodDialog(this))return nativeFormSubmit.call(this);var _e=findNearestDialog(this);_e&&_e.close()};HTMLFormElement.prototype.submit=replacementFormSubmit}const initialKbsState={inputShortcuts:[],cleanedShortcuts:[],combinedShortcuts:{},disableCount:0};reactExports.createContext(initialKbsState);reactExports.createContext(null);typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox");forwardRefWithGeneric(SearchSelectForwardRef);function SearchSelectForwardRef(_e,rt){const{onSearchChange:at,options:lt,onSelect:st,selected:ct,getValue:ut=defaultGetValue,renderOption:ft=defaultRenderOption,renderSelectedOption:dt,closeListOnSelect:pt=!0,clearSearchOnSelect:ht=!0,onCreate:gt,canCreate:mt=defaultCanCreate,renderCreate:xt=defaultRenderCreate,...vt}=_e,yt=dt||ft,_t=reactExports.useMemo(()=>{if(ct)return{value:ut(ct),label:yt(ct)}},[ct,ut,yt]),$t=useSearchSelectInternals({showSelected:!1,searchValue:_e.searchValue,onSearchChange:at,options:lt,onSelect:st,getValue:ut,renderOption:ft,closeListOnSelect:pt,clearSearchOnSelect:ht,onCreate:gt,canCreate:mt,renderCreate:xt,formattedSelected:_t,selected:ct?[ct]:[],pinSelectedOptions:!1});return jsx(InternalSearchSelect,{...$t,...vt,inputRef:rt,formattedSelected:_t,hasClearableValue:_t!==void 0})}const listBoxAndButtonSizes={xSmall:"py-1.5 text-sm sm:text-xs",small:"py-2 sm:text-sm",medium:"py-2 sm:text-sm",large:"py-2 text-base",xLarge:"py-3 text-base"},buttonSizes={xSmall:"pl-2 pr-8",small:"pl-2 pr-8",medium:"pl-3 pr-9",large:"pl-3 pr-9",xLarge:"pl-5 pr-11"};function Select(_e){const{options:rt,selected:at,onSelect:lt,className:st,label:ct,hiddenLabel:ut=!1,error:ft,help:dt,placeholder:pt,required:ht=!1,clearable:gt=!1,disabled:mt=!1,corner:xt,getValue:vt=defaultGetValue,renderOption:yt=defaultRenderOption,renderSelectedOption:_t,highlightClassName:$t="text-white bg-primary-600",emptyHint:Et="No options available",size:wt="medium",fluidListBox:bt=!1,listBoxPlacement:St="start"}=_e,Tt=_t||yt,Rt=at?vt(at):void 0,{setReferenceElement:kt,setPopperElement:At,popperProps:Ct}=useModifiedPopper({placement:`bottom-${St}`,offset:5,sameWidth:!bt});if(at&&!rt.some(Ot=>vt(Ot)===Rt))throw new Error("Select component contains a selected value that is not in options");function Mt(Ot){if(!lt)return;if(Ot===void 0)return lt(void 0);const Pt=rt.find(It=>vt(It)===Ot);if(!Pt)throw new Error("unreachable");lt(Pt)}return jsx("div",{className:st,children:jsx(Ht,{as:"div",className:"space-y-1",value:Rt,disabled:mt,onChange:Mt,children:({open:Ot})=>jsxs(Fragment,{children:[(ct||xt)&&jsxs("div",{className:clsx("flex items-baseline justify-between gap-2",ut&&!xt&&"-mb-1"),children:[jsxs(Ht.Label,{className:clsx("block text-sm font-semibold",mt?labelDisabledColor:labelColor,ut&&"sr-only"),children:[ct,ht&&jsx("span",{className:"text-warning-600",children:" *"})]}),jsx(InputCorner,{children:xt})]}),jsxs("div",{className:"relative",children:[jsx("span",{ref:kt,className:"inline-block w-full rounded-md shadow-sm",children:jsxs(Ht.Button,{className:clsx("relative w-full cursor-default rounded-md border bg-white text-left shadow-sm focus:outline-none focus:ring-1",buttonSizes[wt],listBoxAndButtonSizes[wt],ft?inputError:inputColor),children:[jsx("span",{className:"block truncate",children:at?Tt(at):jsxs("span",{className:ft?"text-danger-300":"text-neutral-400",children:[pt," "]})}),!mt&&gt&&at&&jsx("div",{className:"absolute inset-y-0 right-6 mr-2 flex cursor-pointer items-center",onPointerUp:Pt=>{Pt.stopPropagation(),lt==null||lt(void 0)},children:jsx(XMarkIcon,{className:"h-4 w-4 text-neutral-400 hover:text-neutral-500"})}),jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-1",children:jsx("svg",{className:"h-5 w-5 text-neutral-400",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:jsx("path",{d:"M7 7l3-3 3 3m0 6l-3 3-3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),!mt&&Ot&&jsx("div",{ref:At,...Ct,className:"absolute z-20 rounded-md shadow-lg",children:jsxs(Ht.Options,{static:!0,className:"max-h-60 overflow-auto rounded-md bg-white py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[rt.length===0&&jsx("div",{className:clsx("relative cursor-default select-none pl-8 pr-4",listBoxAndButtonSizes),children:jsx("span",{className:"block truncate font-normal text-neutral-500",children:Et})}),rt.map(Pt=>{const It=vt(Pt);return jsx(Ht.Option,{value:It,children:({selected:Ft,active:Wt})=>jsxs("div",{className:clsx(Wt?$t:"text-neutral-900",listBoxAndButtonSizes[wt],"relative cursor-default select-none pl-8 pr-4"),children:[jsx("span",{className:clsx(Ft?"font-semibold":"font-normal","block truncate"),children:yt(Pt)}),Ft&&jsx("span",{className:clsx(Wt?"text-white":"text-primary-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:jsx(CheckIcon,{className:"h-5 w-5"})})]})},It)})]})})]}),jsx(Help,{error:ft,help:dt})]})})})}reactExports.forwardRef(function _e(rt,at){const{name:lt,id:st=lt,className:ct,error:ut,label:ft,hiddenLabel:dt=!1,corner:pt,help:ht,textAreaClassName:gt,rows:mt=5,...xt}=rt;return jsxs("div",{className:ct,children:[jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[jsx(Label,{id:st,text:ft,hidden:dt,required:rt.required,disabled:rt.disabled}),jsx(InputCorner,{children:pt})]}),jsx("div",{className:clsx("flex",{"mt-1":!dt||pt}),children:jsx("textarea",{ref:at,id:st,name:lt,className:clsx("form-textarea block w-full rounded-md border-neutral-300 shadow-sm sm:text-sm",{[inputColor]:!ut,[inputError]:ut},gt),rows:mt,...xt})}),jsx(Help,{error:ut,help:ht})]})});reactExports.forwardRef(function _e(rt,at){const{name:lt,label:st,id:ct,description:ut,value:ft,checked:dt,...pt}=rt;return jsx("label",{htmlFor:ct,children:jsxs("div",{className:clsx("flex p-4",{"z-10 border-primary-200 bg-primary-50":dt}),children:[jsx("div",{className:"flex h-5 items-center",children:jsx("input",{type:"radio",ref:at,name:lt,value:ft,id:ct,className:"h-4 w-4 cursor-pointer border-neutral-300 text-primary-600 focus:ring-primary-500",checked:dt,...pt})}),jsxs("label",{htmlFor:ct,className:"ml-3 flex cursor-pointer flex-col",children:[jsx("span",{className:clsx("block text-sm font-semibold",{"text-neutral-900":!dt&&!rt.disabled,"text-primary-900":dt,"text-neutral-500":rt.disabled}),children:st}),ut&&jsx("span",{className:clsx("block text-sm",{"text-neutral-500":!dt,"text-primary-700":dt}),children:ut})]})]})})});reactExports.createContext(null);reactExports.createContext({values:new Set,register:()=>{},unregister:()=>{}});reactExports.createContext(null);reactExports.createContext(null);const defaultTableContext={};reactExports.createContext(defaultTableContext);reactExports.createContext(null);reactExports.createContext(null);reactExports.createContext({isSelected:!1});const $69cb30bb0017df05$var$TABS_NAME="Tabs",[$69cb30bb0017df05$var$createTabsContext,$69cb30bb0017df05$export$355f5bd209d7b13a]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($69cb30bb0017df05$var$TABS_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4]),$69cb30bb0017df05$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4(),[$69cb30bb0017df05$var$TabsProvider,$69cb30bb0017df05$var$useTabsContext]=$69cb30bb0017df05$var$createTabsContext($69cb30bb0017df05$var$TABS_NAME),$69cb30bb0017df05$export$b2539bed5023c21c=reactExports.forwardRef((_e,rt)=>{const{__scopeTabs:at,value:lt,onValueChange:st,defaultValue:ct,orientation:ut="horizontal",dir:ft,activationMode:dt="automatic",...pt}=_e,ht=$f631663db3294ace$export$b39126d51d94e6f3(ft),[gt,mt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lt,onChange:st,defaultProp:ct});return reactExports.createElement($69cb30bb0017df05$var$TabsProvider,{scope:at,baseId:$1746a345f3d73bb7$export$f680877a34711e37(),value:gt,onValueChange:mt,orientation:ut,dir:ht,activationMode:dt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({dir:ht,"data-orientation":ut},pt,{ref:rt})))}),$69cb30bb0017df05$var$TAB_LIST_NAME="TabsList",$69cb30bb0017df05$export$9712d22edc0d78c1=reactExports.forwardRef((_e,rt)=>{const{__scopeTabs:at,loop:lt=!0,...st}=_e,ct=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TAB_LIST_NAME,at),ut=$69cb30bb0017df05$var$useRovingFocusGroupScope(at);return reactExports.createElement($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9,_extends({asChild:!0},ut,{orientation:ct.orientation,dir:ct.dir,loop:lt}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({role:"tablist","aria-orientation":ct.orientation},st,{ref:rt})))}),$69cb30bb0017df05$var$TRIGGER_NAME="TabsTrigger",$69cb30bb0017df05$export$8114b9fdfdf9f3ba=reactExports.forwardRef((_e,rt)=>{const{__scopeTabs:at,value:lt,disabled:st=!1,...ct}=_e,ut=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TRIGGER_NAME,at),ft=$69cb30bb0017df05$var$useRovingFocusGroupScope(at),dt=$69cb30bb0017df05$var$makeTriggerId(ut.baseId,lt),pt=$69cb30bb0017df05$var$makeContentId(ut.baseId,lt),ht=lt===ut.value;return reactExports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends({asChild:!0},ft,{focusable:!st,active:ht}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button",role:"tab","aria-selected":ht,"aria-controls":pt,"data-state":ht?"active":"inactive","data-disabled":st?"":void 0,disabled:st,id:dt},ct,{ref:rt,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onMouseDown,gt=>{!st&&gt.button===0&&gt.ctrlKey===!1?ut.onValueChange(lt):gt.preventDefault()}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onKeyDown,gt=>{[" ","Enter"].includes(gt.key)&&ut.onValueChange(lt)}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocus,()=>{const gt=ut.activationMode!=="manual";!ht&&!st&&gt&&ut.onValueChange(lt)})})))}),$69cb30bb0017df05$var$CONTENT_NAME="TabsContent",$69cb30bb0017df05$export$bd905d70e8fd2ebb=reactExports.forwardRef((_e,rt)=>{const{__scopeTabs:at,value:lt,forceMount:st,children:ct,...ut}=_e,ft=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$CONTENT_NAME,at),dt=$69cb30bb0017df05$var$makeTriggerId(ft.baseId,lt),pt=$69cb30bb0017df05$var$makeContentId(ft.baseId,lt),ht=lt===ft.value,gt=reactExports.useRef(ht);return reactExports.useEffect(()=>{const mt=requestAnimationFrame(()=>gt.current=!1);return()=>cancelAnimationFrame(mt)},[]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:st||ht},({present:mt})=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-state":ht?"active":"inactive","data-orientation":ft.orientation,role:"tabpanel","aria-labelledby":dt,hidden:!mt,id:pt,tabIndex:0},ut,{ref:rt,style:{..._e.style,animationDuration:gt.current?"0s":void 0}}),mt&&ct))});function $69cb30bb0017df05$var$makeTriggerId(_e,rt){return`${_e}-trigger-${rt}`}function $69cb30bb0017df05$var$makeContentId(_e,rt){return`${_e}-content-${rt}`}const $69cb30bb0017df05$export$be92b6f5f03c0fe9=$69cb30bb0017df05$export$b2539bed5023c21c,$69cb30bb0017df05$export$54c2e3dc7acea9f5=$69cb30bb0017df05$export$9712d22edc0d78c1,$69cb30bb0017df05$export$41fb9f06171c75f4=$69cb30bb0017df05$export$8114b9fdfdf9f3ba,$69cb30bb0017df05$export$7c6e2c02157bb7d2=$69cb30bb0017df05$export$bd905d70e8fd2ebb;function SwitchTabs(_e){const{tabs:rt,align:at="left"}=_e;return jsxs($69cb30bb0017df05$export$be92b6f5f03c0fe9,{defaultValue:"0",children:[jsx("div",{className:clsx("flex",{"justify-start":at==="left","justify-end":at==="right","justify-center":at==="center"}),children:jsx($69cb30bb0017df05$export$54c2e3dc7acea9f5,{className:"flex flex-row items-center gap-2 rounded-lg bg-neutral-100 p-1",children:rt.map(({title:lt,disabled:st,icon:ct},ut)=>jsx($69cb30bb0017df05$export$41fb9f06171c75f4,{value:String(ut),disabled:st,className:"group rounded-md py-1 px-2 text-sm font-semibold focus:ring-2 data-[state=active]:bg-white data-[disabled]:text-neutral-500 data-[state=active]:shadow",children:jsxs("div",{className:clsx("flex flex-row items-center gap-1",{"lg:pr-3":ct}),children:[ct&&jsx("span",{className:"h-5 w-5 group-data-[state=active]:text-primary-500",children:ct}),jsx("span",{children:lt})]})},ut))})}),rt.map(({content:lt},st)=>jsx($69cb30bb0017df05$export$7c6e2c02157bb7d2,{value:String(st),className:"focus:outline-none",children:lt},st))]})}var IDX=256;for(;IDX--;)(IDX+256).toString(16).substring(1);function Cache(_e){this._maxSize=_e,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Cache.prototype.get=function(_e){return this._values[_e]};Cache.prototype.set=function(_e,rt){return this._size>=this._maxSize&&this.clear(),_e in this._values||this._size++,this._values[_e]=rt};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,MAX_CACHE_SIZE=512,pathCache=new Cache(MAX_CACHE_SIZE),setCache=new Cache(MAX_CACHE_SIZE),getCache$1=new Cache(MAX_CACHE_SIZE),propertyExpr={Cache,split,normalizePath,setter:function(_e){var rt=normalizePath(_e);return setCache.get(_e)||setCache.set(_e,function(lt,st){for(var ct=0,ut=rt.length,ft=lt;ct<ut-1;){var dt=rt[ct];if(dt==="__proto__"||dt==="constructor"||dt==="prototype")return lt;ft=ft[rt[ct++]]}ft[rt[ct]]=st})},getter:function(_e,rt){var at=normalizePath(_e);return getCache$1.get(_e)||getCache$1.set(_e,function(st){for(var ct=0,ut=at.length;ct<ut;)if(st!=null||!rt)st=st[at[ct++]];else return;return st})},join:function(_e){return _e.reduce(function(rt,at){return rt+(isQuoted(at)||DIGIT_REGEX.test(at)?"["+at+"]":(rt?".":"")+at)},"")},forEach:function(_e,rt,at){forEach(Array.isArray(_e)?_e:split(_e),rt,at)}};function normalizePath(_e){return pathCache.get(_e)||pathCache.set(_e,split(_e).map(function(rt){return rt.replace(CLEAN_QUOTES_REGEX,"$2")}))}function split(_e){return _e.match(SPLIT_REGEX)||[""]}function forEach(_e,rt,at){var lt=_e.length,st,ct,ut,ft;for(ct=0;ct<lt;ct++)st=_e[ct],st&&(shouldBeQuoted(st)&&(st='"'+st+'"'),ft=isQuoted(st),ut=!ft&&/^\d+$/.test(st),rt.call(at,st,ft,ut,ct,_e))}function isQuoted(_e){return typeof _e=="string"&&_e&&["'",'"'].indexOf(_e.charAt(0))!==-1}function hasLeadingNumber(_e){return _e.match(LEAD_DIGIT_REGEX)&&!_e.match(DIGIT_REGEX)}function hasSpecialChars(_e){return SPEC_CHAR_REGEX.test(_e)}function shouldBeQuoted(_e){return!isQuoted(_e)&&(hasLeadingNumber(_e)||hasSpecialChars(_e))}var toposortExports={},toposort$1={get exports(){return toposortExports},set exports(_e){toposortExports=_e}};toposort$1.exports=function(_e){return toposort(uniqueNodes(_e),_e)};toposortExports.array=toposort;function toposort(_e,rt){var at=_e.length,lt=new Array(at),st={},ct=at,ut=makeOutgoingEdges(rt),ft=makeNodesHash(_e);for(rt.forEach(function(pt){if(!ft.has(pt[0])||!ft.has(pt[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});ct--;)st[ct]||dt(_e[ct],ct,new Set);return lt;function dt(pt,ht,gt){if(gt.has(pt)){var mt;try{mt=", node was:"+JSON.stringify(pt)}catch{mt=""}throw new Error("Cyclic dependency"+mt)}if(!ft.has(pt))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(pt));if(!st[ht]){st[ht]=!0;var xt=ut.get(pt)||new Set;if(xt=Array.from(xt),ht=xt.length){gt.add(pt);do{var vt=xt[--ht];dt(vt,ft.get(vt),gt)}while(ht);gt.delete(pt)}lt[--at]=pt}}}function uniqueNodes(_e){for(var rt=new Set,at=0,lt=_e.length;at<lt;at++){var st=_e[at];rt.add(st[0]),rt.add(st[1])}return Array.from(rt)}function makeOutgoingEdges(_e){for(var rt=new Map,at=0,lt=_e.length;at<lt;at++){var st=_e[at];rt.has(st[0])||rt.set(st[0],new Set),rt.has(st[1])||rt.set(st[1],new Set),rt.get(st[0]).add(st[1])}return rt}function makeNodesHash(_e){for(var rt=new Map,at=0,lt=_e.length;at<lt;at++)rt.set(_e[at],at);return rt}const toString$1=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printNumber(_e){return _e!=+_e?"NaN":_e===0&&1/_e<0?"-0":""+_e}function printSimpleValue(_e,rt=!1){if(_e==null||_e===!0||_e===!1)return""+_e;const at=typeof _e;if(at==="number")return printNumber(_e);if(at==="string")return rt?`"${_e}"`:_e;if(at==="function")return"[Function "+(_e.name||"anonymous")+"]";if(at==="symbol")return symbolToString.call(_e).replace(SYMBOL_REGEXP,"Symbol($1)");const lt=toString$1.call(_e).slice(8,-1);return lt==="Date"?isNaN(_e.getTime())?""+_e:_e.toISOString(_e):lt==="Error"||_e instanceof Error?"["+errorToString.call(_e)+"]":lt==="RegExp"?regExpToString.call(_e):null}function printValue(_e,rt){let at=printSimpleValue(_e,rt);return at!==null?at:JSON.stringify(_e,function(lt,st){let ct=printSimpleValue(this[lt],rt);return ct!==null?ct:st},2)}function toArray(_e){return _e==null?[]:[].concat(_e)}let strReg=/\$\{\s*(\w+)\s*\}/g;class ValidationError extends Error{static formatError(rt,at){const lt=at.label||at.path||"this";return lt!==at.path&&(at=Object.assign({},at,{path:lt})),typeof rt=="string"?rt.replace(strReg,(st,ct)=>printValue(at[ct])):typeof rt=="function"?rt(at):rt}static isError(rt){return rt&&rt.name==="ValidationError"}constructor(rt,at,lt,st){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=at,this.path=lt,this.type=st,this.errors=[],this.inner=[],toArray(rt).forEach(ct=>{ValidationError.isError(ct)?(this.errors.push(...ct.errors),this.inner=this.inner.concat(ct.inner.length?ct.inner:ct)):this.errors.push(ct)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}}let mixed={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:_e,type:rt,value:at,originalValue:lt})=>{const st=lt!=null&&lt!==at?` (cast from the value \`${printValue(lt,!0)}\`).`:".";return rt!=="mixed"?`${_e} must be a \`${rt}\` type, but the final value was: \`${printValue(at,!0)}\``+st:`${_e} must match the configured type. The validated value was: \`${printValue(at,!0)}\``+st}},string$1={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},number$3={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date$2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},boolean={isValue:"${path} field must be ${value}"},object$1={noUnknown:"${path} field has unspecified keys: ${unknown}"},array$1={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed,string:string$1,number:number$3,date:date$2,object:object$1,array:array$1,boolean});const isSchema=_e=>_e&&_e.__isYupSchema__;class Condition{static fromOptions(rt,at){if(!at.then&&!at.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:lt,then:st,otherwise:ct}=at,ut=typeof lt=="function"?lt:(...ft)=>ft.every(dt=>dt===lt);return new Condition(rt,(ft,dt)=>{var pt;let ht=ut(...ft)?st:ct;return(pt=ht==null?void 0:ht(dt))!=null?pt:dt})}constructor(rt,at){this.fn=void 0,this.refs=rt,this.refs=rt,this.fn=at}resolve(rt,at){let lt=this.refs.map(ct=>ct.getValue(at==null?void 0:at.value,at==null?void 0:at.parent,at==null?void 0:at.context)),st=this.fn(lt,rt,at);if(st===void 0||st===rt)return rt;if(!isSchema(st))throw new TypeError("conditions must return a schema object");return st.resolve(at)}}const prefixes$1={context:"$",value:"."};class Reference{constructor(rt,at={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof rt!="string")throw new TypeError("ref must be a string, got: "+rt);if(this.key=rt.trim(),rt==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes$1.context,this.isValue=this.key[0]===prefixes$1.value,this.isSibling=!this.isContext&&!this.isValue;let lt=this.isContext?prefixes$1.context:this.isValue?prefixes$1.value:"";this.path=this.key.slice(lt.length),this.getter=this.path&&propertyExpr.getter(this.path,!0),this.map=at.map}getValue(rt,at,lt){let st=this.isContext?lt:this.isValue?rt:at;return this.getter&&(st=this.getter(st||{})),this.map&&(st=this.map(st)),st}cast(rt,at){return this.getValue(rt,at==null?void 0:at.parent,at==null?void 0:at.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(rt){return rt&&rt.__isYupRef}}Reference.prototype.__isYupRef=!0;const isAbsent=_e=>_e==null;function createValidation(_e){function rt({value:at,path:lt="",options:st,originalValue:ct,schema:ut},ft,dt){const{name:pt,test:ht,params:gt,message:mt,skipAbsent:xt}=_e;let{parent:vt,context:yt,abortEarly:_t=ut.spec.abortEarly}=st;function $t(Ct){return Reference.isRef(Ct)?Ct.getValue(at,vt,yt):Ct}function Et(Ct={}){const Mt=Object.assign({value:at,originalValue:ct,label:ut.spec.label,path:Ct.path||lt,spec:ut.spec},gt,Ct.params);for(const Pt of Object.keys(Mt))Mt[Pt]=$t(Mt[Pt]);const Ot=new ValidationError(ValidationError.formatError(Ct.message||mt,Mt),at,Mt.path,Ct.type||pt);return Ot.params=Mt,Ot}const wt=_t?ft:dt;let bt={path:lt,parent:vt,type:pt,from:st.from,createError:Et,resolve:$t,options:st,originalValue:ct,schema:ut};const St=Ct=>{ValidationError.isError(Ct)?wt(Ct):Ct?dt(null):wt(Et())},Tt=Ct=>{ValidationError.isError(Ct)?wt(Ct):ft(Ct)},Rt=xt&&isAbsent(at);if(!st.sync){try{Promise.resolve(Rt?!0:ht.call(bt,at,bt)).then(St,Tt)}catch(Ct){Tt(Ct)}return}let kt;try{var At;if(kt=Rt?!0:ht.call(bt,at,bt),typeof((At=kt)==null?void 0:At.then)=="function")throw new Error(`Validation test of type: "${bt.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(Ct){Tt(Ct);return}St(kt)}return rt.OPTIONS=_e,rt}function getIn(_e,rt,at,lt=at){let st,ct,ut;return rt?(propertyExpr.forEach(rt,(ft,dt,pt)=>{let ht=dt?ft.slice(1,ft.length-1):ft;_e=_e.resolve({context:lt,parent:st,value:at});let gt=_e.type==="tuple",mt=pt?parseInt(ht,10):0;if(_e.innerType||gt){if(gt&&!pt)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${ut}" must contain an index to the tuple element, e.g. "${ut}[0]"`);if(at&&mt>=at.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${ft}, in the path: ${rt}. because there is no value at that index. `);st=at,at=at&&at[mt],_e=gt?_e.spec.types[mt]:_e.innerType}if(!pt){if(!_e.fields||!_e.fields[ht])throw new Error(`The schema does not contain the path: ${rt}. (failed at: ${ut} which is a type: "${_e.type}")`);st=at,at=at&&at[ht],_e=_e.fields[ht]}ct=ht,ut=dt?"["+ft+"]":"."+ft}),{schema:_e,parent:st,parentPath:ct}):{parent:st,parentPath:rt,schema:_e}}class ReferenceSet extends Set{describe(){const rt=[];for(const at of this.values())rt.push(Reference.isRef(at)?at.describe():at);return rt}resolveAll(rt){let at=[];for(const lt of this.values())at.push(rt(lt));return at}clone(){return new ReferenceSet(this.values())}merge(rt,at){const lt=this.clone();return rt.forEach(st=>lt.add(st)),at.forEach(st=>lt.delete(st)),lt}}function clone(_e,rt=new Map){if(isSchema(_e)||!_e||typeof _e!="object")return _e;if(rt.has(_e))return rt.get(_e);let at;if(_e instanceof Date)at=new Date(_e.getTime()),rt.set(_e,at);else if(_e instanceof RegExp)at=new RegExp(_e),rt.set(_e,at);else if(Array.isArray(_e)){at=new Array(_e.length),rt.set(_e,at);for(let lt=0;lt<_e.length;lt++)at[lt]=clone(_e[lt],rt)}else if(_e instanceof Map){at=new Map,rt.set(_e,at);for(const[lt,st]of _e.entries())at.set(lt,clone(st,rt))}else if(_e instanceof Set){at=new Set,rt.set(_e,at);for(const lt of _e)at.add(clone(lt,rt))}else if(_e instanceof Object){at={},rt.set(_e,at);for(const[lt,st]of Object.entries(_e))at[lt]=clone(st,rt)}else throw Error(`Unable to clone ${_e}`);return at}class Schema{constructor(rt){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mixed.notType)}),this.type=rt.type,this._typeCheck=rt.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},rt==null?void 0:rt.spec),this.withMutation(at=>{at.nonNullable()})}get _type(){return this.type}clone(rt){if(this._mutate)return rt&&Object.assign(this.spec,rt),this;const at=Object.create(Object.getPrototypeOf(this));return at.type=this.type,at._typeCheck=this._typeCheck,at._whitelist=this._whitelist.clone(),at._blacklist=this._blacklist.clone(),at.internalTests=Object.assign({},this.internalTests),at.exclusiveTests=Object.assign({},this.exclusiveTests),at.deps=[...this.deps],at.conditions=[...this.conditions],at.tests=[...this.tests],at.transforms=[...this.transforms],at.spec=clone(Object.assign({},this.spec,rt)),at}label(rt){let at=this.clone();return at.spec.label=rt,at}meta(...rt){if(rt.length===0)return this.spec.meta;let at=this.clone();return at.spec.meta=Object.assign(at.spec.meta||{},rt[0]),at}withMutation(rt){let at=this._mutate;this._mutate=!0;let lt=rt(this);return this._mutate=at,lt}concat(rt){if(!rt||rt===this)return this;if(rt.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${rt.type}`);let at=this,lt=rt.clone();const st=Object.assign({},at.spec,lt.spec);return lt.spec=st,lt.internalTests=Object.assign({},at.internalTests,lt.internalTests),lt._whitelist=at._whitelist.merge(rt._whitelist,rt._blacklist),lt._blacklist=at._blacklist.merge(rt._blacklist,rt._whitelist),lt.tests=at.tests,lt.exclusiveTests=at.exclusiveTests,lt.withMutation(ct=>{rt.tests.forEach(ut=>{ct.test(ut.OPTIONS)})}),lt.transforms=[...at.transforms,...lt.transforms],lt}isType(rt){return rt==null?!!(this.spec.nullable&&rt===null||this.spec.optional&&rt===void 0):this._typeCheck(rt)}resolve(rt){let at=this;if(at.conditions.length){let lt=at.conditions;at=at.clone(),at.conditions=[],at=lt.reduce((st,ct)=>ct.resolve(st,rt),at),at=at.resolve(rt)}return at}resolveOptions(rt){var at,lt,st;return Object.assign({},rt,{from:rt.from||[],strict:(at=rt.strict)!=null?at:this.spec.strict,abortEarly:(lt=rt.abortEarly)!=null?lt:this.spec.abortEarly,recursive:(st=rt.recursive)!=null?st:this.spec.recursive})}cast(rt,at={}){let lt=this.resolve(Object.assign({value:rt},at)),st=at.assert==="ignore-optionality",ct=lt._cast(rt,at);if(at.assert!==!1&&!lt.isType(ct)){if(st&&isAbsent(ct))return ct;let ut=printValue(rt),ft=printValue(ct);throw new TypeError(`The value of ${at.path||"field"} could not be cast to a value that satisfies the schema type: "${lt.type}". 

attempted value: ${ut} 
`+(ft!==ut?`result of cast: ${ft}`:""))}return ct}_cast(rt,at){let lt=rt===void 0?rt:this.transforms.reduce((st,ct)=>ct.call(this,st,rt,this),rt);return lt===void 0&&(lt=this.getDefault(at)),lt}_validate(rt,at={},lt,st){let{path:ct,originalValue:ut=rt,strict:ft=this.spec.strict}=at,dt=rt;ft||(dt=this._cast(dt,Object.assign({assert:!1},at)));let pt=[];for(let ht of Object.values(this.internalTests))ht&&pt.push(ht);this.runTests({path:ct,value:dt,originalValue:ut,options:at,tests:pt},lt,ht=>{if(ht.length)return st(ht,dt);this.runTests({path:ct,value:dt,originalValue:ut,options:at,tests:this.tests},lt,st)})}runTests(rt,at,lt){let st=!1,{tests:ct,value:ut,originalValue:ft,path:dt,options:pt}=rt,ht=yt=>{st||(st=!0,at(yt,ut))},gt=yt=>{st||(st=!0,lt(yt,ut))},mt=ct.length,xt=[];if(!mt)return gt([]);let vt={value:ut,originalValue:ft,path:dt,options:pt,schema:this};for(let yt=0;yt<ct.length;yt++){const _t=ct[yt];_t(vt,ht,function(Et){Et&&(xt=xt.concat(Et)),--mt<=0&&gt(xt)})}}asNestedTest({key:rt,index:at,parent:lt,parentPath:st,originalParent:ct,options:ut}){const ft=rt??at;if(ft==null)throw TypeError("Must include `key` or `index` for nested validations");const dt=typeof ft=="number";let pt=lt[ft];const ht=Object.assign({},ut,{strict:!0,parent:lt,value:pt,originalValue:ct[ft],key:void 0,[dt?"index":"key"]:ft,path:dt||ft.includes(".")?`${st||""}[${pt?ft:`"${ft}"`}]`:(st?`${st}.`:"")+rt});return(gt,mt,xt)=>this.resolve(ht)._validate(pt,ht,mt,xt)}validate(rt,at){let lt=this.resolve(Object.assign({},at,{value:rt}));return new Promise((st,ct)=>lt._validate(rt,at,(ut,ft)=>{ValidationError.isError(ut)&&(ut.value=ft),ct(ut)},(ut,ft)=>{ut.length?ct(new ValidationError(ut,ft)):st(ft)}))}validateSync(rt,at){let lt=this.resolve(Object.assign({},at,{value:rt})),st;return lt._validate(rt,Object.assign({},at,{sync:!0}),(ct,ut)=>{throw ValidationError.isError(ct)&&(ct.value=ut),ct},(ct,ut)=>{if(ct.length)throw new ValidationError(ct,rt);st=ut}),st}isValid(rt,at){return this.validate(rt,at).then(()=>!0,lt=>{if(ValidationError.isError(lt))return!1;throw lt})}isValidSync(rt,at){try{return this.validateSync(rt,at),!0}catch(lt){if(ValidationError.isError(lt))return!1;throw lt}}_getDefault(rt){let at=this.spec.default;return at==null?at:typeof at=="function"?at.call(this):clone(at)}getDefault(rt){return this.resolve(rt||{})._getDefault(rt)}default(rt){return arguments.length===0?this._getDefault():this.clone({default:rt})}strict(rt=!0){return this.clone({strict:rt})}nullability(rt,at){const lt=this.clone({nullable:rt});return lt.internalTests.nullable=createValidation({message:at,name:"nullable",test(st){return st===null?this.schema.spec.nullable:!0}}),lt}optionality(rt,at){const lt=this.clone({optional:rt});return lt.internalTests.optionality=createValidation({message:at,name:"optionality",test(st){return st===void 0?this.schema.spec.optional:!0}}),lt}optional(){return this.optionality(!0)}defined(rt=mixed.defined){return this.optionality(!1,rt)}nullable(){return this.nullability(!0)}nonNullable(rt=mixed.notNull){return this.nullability(!1,rt)}required(rt=mixed.required){return this.clone().withMutation(at=>at.nonNullable(rt).defined(rt))}notRequired(){return this.clone().withMutation(rt=>rt.nullable().optional())}transform(rt){let at=this.clone();return at.transforms.push(rt),at}test(...rt){let at;if(rt.length===1?typeof rt[0]=="function"?at={test:rt[0]}:at=rt[0]:rt.length===2?at={name:rt[0],test:rt[1]}:at={name:rt[0],message:rt[1],test:rt[2]},at.message===void 0&&(at.message=mixed.default),typeof at.test!="function")throw new TypeError("`test` is a required parameters");let lt=this.clone(),st=createValidation(at),ct=at.exclusive||at.name&&lt.exclusiveTests[at.name]===!0;if(at.exclusive&&!at.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return at.name&&(lt.exclusiveTests[at.name]=!!at.exclusive),lt.tests=lt.tests.filter(ut=>!(ut.OPTIONS.name===at.name&&(ct||ut.OPTIONS.test===st.OPTIONS.test))),lt.tests.push(st),lt}when(rt,at){!Array.isArray(rt)&&typeof rt!="string"&&(at=rt,rt=".");let lt=this.clone(),st=toArray(rt).map(ct=>new Reference(ct));return st.forEach(ct=>{ct.isSibling&&lt.deps.push(ct.key)}),lt.conditions.push(typeof at=="function"?new Condition(st,at):Condition.fromOptions(st,at)),lt}typeError(rt){let at=this.clone();return at.internalTests.typeError=createValidation({message:rt,name:"typeError",skipAbsent:!0,test(lt){return this.schema._typeCheck(lt)?!0:this.createError({params:{type:this.schema.type}})}}),at}oneOf(rt,at=mixed.oneOf){let lt=this.clone();return rt.forEach(st=>{lt._whitelist.add(st),lt._blacklist.delete(st)}),lt.internalTests.whiteList=createValidation({message:at,name:"oneOf",skipAbsent:!0,test(st){let ct=this.schema._whitelist,ut=ct.resolveAll(this.resolve);return ut.includes(st)?!0:this.createError({params:{values:Array.from(ct).join(", "),resolved:ut}})}}),lt}notOneOf(rt,at=mixed.notOneOf){let lt=this.clone();return rt.forEach(st=>{lt._blacklist.add(st),lt._whitelist.delete(st)}),lt.internalTests.blacklist=createValidation({message:at,name:"notOneOf",test(st){let ct=this.schema._blacklist,ut=ct.resolveAll(this.resolve);return ut.includes(st)?this.createError({params:{values:Array.from(ct).join(", "),resolved:ut}}):!0}}),lt}strip(rt=!0){let at=this.clone();return at.spec.strip=rt,at}describe(rt){const at=(rt?this.resolve(rt):this).clone(),{label:lt,meta:st,optional:ct,nullable:ut}=at.spec;return{meta:st,label:lt,optional:ct,nullable:ut,default:at.getDefault(rt),type:at.type,oneOf:at._whitelist.describe(),notOneOf:at._blacklist.describe(),tests:at.tests.map(dt=>({name:dt.OPTIONS.name,params:dt.OPTIONS.params})).filter((dt,pt,ht)=>ht.findIndex(gt=>gt.name===dt.name)===pt)}}}Schema.prototype.__isYupSchema__=!0;for(const _e of["validate","validateSync"])Schema.prototype[`${_e}At`]=function(rt,at,lt={}){const{parent:st,parentPath:ct,schema:ut}=getIn(this,rt,at,lt.context);return ut[_e](st&&st[ct],Object.assign({},lt,{parent:st,path:rt}))};for(const _e of["equals","is"])Schema.prototype[_e]=Schema.prototype.oneOf;for(const _e of["not","nope"])Schema.prototype[_e]=Schema.prototype.notOneOf;var isoReg=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function parseIsoDate(_e){var rt=[1,4,5,6,7,10,11],at=0,lt,st;if(st=isoReg.exec(_e)){for(var ct=0,ut;ut=rt[ct];++ct)st[ut]=+st[ut]||0;st[2]=(+st[2]||1)-1,st[3]=+st[3]||1,st[7]=st[7]?String(st[7]).substr(0,3):0,(st[8]===void 0||st[8]==="")&&(st[9]===void 0||st[9]==="")?lt=+new Date(st[1],st[2],st[3],st[4],st[5],st[6],st[7]):(st[8]!=="Z"&&st[9]!==void 0&&(at=st[10]*60+st[11],st[9]==="+"&&(at=0-at)),lt=Date.UTC(st[1],st[2],st[3],st[4],st[5]+at,st[6],st[7]))}else lt=Date.parse?Date.parse(_e):NaN;return lt}let invalidDate=new Date(""),isDate=_e=>Object.prototype.toString.call(_e)==="[object Date]";class DateSchema extends Schema{constructor(){super({type:"date",check(rt){return isDate(rt)&&!isNaN(rt.getTime())}}),this.withMutation(()=>{this.transform((rt,at,lt)=>!lt.spec.coerce||lt.isType(rt)||rt===null?rt:(rt=parseIsoDate(rt),isNaN(rt)?DateSchema.INVALID_DATE:new Date(rt)))})}prepareParam(rt,at){let lt;if(Reference.isRef(rt))lt=rt;else{let st=this.cast(rt);if(!this._typeCheck(st))throw new TypeError(`\`${at}\` must be a Date or a value that can be \`cast()\` to a Date`);lt=st}return lt}min(rt,at=date$2.min){let lt=this.prepareParam(rt,"min");return this.test({message:at,name:"min",exclusive:!0,params:{min:rt},skipAbsent:!0,test(st){return st>=this.resolve(lt)}})}max(rt,at=date$2.max){let lt=this.prepareParam(rt,"max");return this.test({message:at,name:"max",exclusive:!0,params:{max:rt},skipAbsent:!0,test(st){return st<=this.resolve(lt)}})}}DateSchema.INVALID_DATE=invalidDate;function LoadImage(){const _e=reactExports.useContext(DataContext),[rt,at]=reactExports.useState(localStorage.getItem("imageURL")||"https://picsum.photos/1600/2400");return jsxs("div",{className:"flex",children:[jsx(Select,{className:"w-1/2",label:"Predefined list of images",size:"medium",onSelect:lt=>{_e.actions.loadImage(lt.value)},options:[{label:"good.jpg",value:"/test/good.jpg"},{label:"overlap.jpg",value:"/test/overlap.jpg"},{label:"colorTags.jpg",value:"/test/colorTags.jpg"},{label:"optimal.jpg",value:"/test/optimal.jpg"},{label:"real1.jpg",value:"/test/real1.jpg"},{label:"real2.jpg",value:"/test/real2.jpg"},{label:"real3.jpg",value:"/test/real3.jpg"},{label:"real4.jpg",value:"/test/real4.jpg"}],placeholder:"Select an image..."}),jsx(Input,{className:"w-2/6",name:"imageURL",label:"Or enter an image URL...",type:"text",value:rt,onChange:lt=>{localStorage.setItem("imageURL",lt.target.value),at(lt.target.value)}}),jsx(Button,{className:"w-1/6",value:"Load",onClick:()=>_e.actions.loadImage(rt),children:"Load image"})]})}function ascending$1(_e,rt){return _e<rt?-1:_e>rt?1:_e>=rt?0:NaN}function bisector$1(_e){return _e.length===1&&(_e=ascendingComparator(_e)),{left:function(rt,at,lt,st){for(lt==null&&(lt=0),st==null&&(st=rt.length);lt<st;){var ct=lt+st>>>1;_e(rt[ct],at)<0?lt=ct+1:st=ct}return lt},right:function(rt,at,lt,st){for(lt==null&&(lt=0),st==null&&(st=rt.length);lt<st;){var ct=lt+st>>>1;_e(rt[ct],at)>0?st=ct:lt=ct+1}return lt}}}function ascendingComparator(_e){return function(rt,at){return ascending$1(_e(rt),at)}}bisector$1(ascending$1);function xyCheck(_e,rt={}){const{minLength:at}=rt;if(typeof _e!="object"||!isAnyArray(_e.x)||!isAnyArray(_e.y))throw new Error("Data must be an object of x and y arrays");if(_e.x.length!==_e.y.length)throw new Error("The x and y arrays must have the same length");if(at&&_e.x.length<at)throw new Error(`data.x must have a length of at least ${at}`)}function xyToXYObject(_e){xyCheck(_e);const{x:rt,y:at}=_e;let lt=[];for(let st=0;st<rt.length;st++)lt.push({x:rt[st],y:at[st]});return lt}function createStepArray(_e={}){let{from:rt=0,step:at=1,length:lt=1e3}=_e;const st=new Float64Array(lt);let ct=0;for(;ct<lt;)st[ct]=rt+at*ct,ct++;return st}function ascending(_e,rt){return _e==null||rt==null?NaN:_e<rt?-1:_e>rt?1:_e>=rt?0:NaN}function descending(_e,rt){return _e==null||rt==null?NaN:rt<_e?-1:rt>_e?1:rt>=_e?0:NaN}function bisector(_e){let rt,at,lt;_e.length!==2?(rt=ascending,at=(ft,dt)=>ascending(_e(ft),dt),lt=(ft,dt)=>_e(ft)-dt):(rt=_e===ascending||_e===descending?_e:zero$1,at=_e,lt=_e);function st(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(rt(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ct(ft,dt,pt=0,ht=ft.length){if(pt<ht){if(rt(dt,dt)!==0)return ht;do{const gt=pt+ht>>>1;at(ft[gt],dt)<=0?pt=gt+1:ht=gt}while(pt<ht)}return pt}function ut(ft,dt,pt=0,ht=ft.length){const gt=st(ft,dt,pt,ht-1);return gt>pt&&lt(ft[gt-1],dt)>-lt(ft[gt],dt)?gt-1:gt}return{left:st,center:ut,right:ct}}function zero$1(){return 0}function number$2(_e){return _e===null?NaN:+_e}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;function extent$1(_e,rt){let at,lt;if(rt===void 0)for(const st of _e)st!=null&&(at===void 0?st>=st&&(at=lt=st):(at>st&&(at=st),lt<st&&(lt=st)));else{let st=-1;for(let ct of _e)(ct=rt(ct,++st,_e))!=null&&(at===void 0?ct>=ct&&(at=lt=ct):(at>ct&&(at=ct),lt<ct&&(lt=ct)))}return[at,lt]}class InternMap extends Map{constructor(rt,at=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:at}}),rt!=null)for(const[lt,st]of rt)this.set(lt,st)}get(rt){return super.get(intern_get(this,rt))}has(rt){return super.has(intern_get(this,rt))}set(rt,at){return super.set(intern_set(this,rt),at)}delete(rt){return super.delete(intern_delete(this,rt))}}function intern_get({_intern:_e,_key:rt},at){const lt=rt(at);return _e.has(lt)?_e.get(lt):at}function intern_set({_intern:_e,_key:rt},at){const lt=rt(at);return _e.has(lt)?_e.get(lt):(_e.set(lt,at),at)}function intern_delete({_intern:_e,_key:rt},at){const lt=rt(at);return _e.has(lt)&&(at=_e.get(lt),_e.delete(lt)),at}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,rt,at){const lt=(rt-_e)/Math.max(0,at),st=Math.floor(Math.log10(lt)),ct=lt/Math.pow(10,st),ut=ct>=e10?10:ct>=e5?5:ct>=e2?2:1;let ft,dt,pt;return st<0?(pt=Math.pow(10,-st)/ut,ft=Math.round(_e*pt),dt=Math.round(rt*pt),ft/pt<_e&&++ft,dt/pt>rt&&--dt,pt=-pt):(pt=Math.pow(10,st)*ut,ft=Math.round(_e/pt),dt=Math.round(rt/pt),ft*pt<_e&&++ft,dt*pt>rt&&--dt),dt<ft&&.5<=at&&at<2?tickSpec(_e,rt,at*2):[ft,dt,pt]}function ticks(_e,rt,at){if(rt=+rt,_e=+_e,at=+at,!(at>0))return[];if(_e===rt)return[_e];const lt=rt<_e,[st,ct,ut]=lt?tickSpec(rt,_e,at):tickSpec(_e,rt,at);if(!(ct>=st))return[];const ft=ct-st+1,dt=new Array(ft);if(lt)if(ut<0)for(let pt=0;pt<ft;++pt)dt[pt]=(ct-pt)/-ut;else for(let pt=0;pt<ft;++pt)dt[pt]=(ct-pt)*ut;else if(ut<0)for(let pt=0;pt<ft;++pt)dt[pt]=(st+pt)/-ut;else for(let pt=0;pt<ft;++pt)dt[pt]=(st+pt)*ut;return dt}function tickIncrement(_e,rt,at){return rt=+rt,_e=+_e,at=+at,tickSpec(_e,rt,at)[2]}function tickStep(_e,rt,at){rt=+rt,_e=+_e,at=+at;const lt=rt<_e,st=lt?tickIncrement(rt,_e,at):tickIncrement(_e,rt,at);return(lt?-1:1)*(st<0?1/-st:st)}function max$1(_e,rt){let at;if(rt===void 0)for(const lt of _e)lt!=null&&(at<lt||at===void 0&&lt>=lt)&&(at=lt);else{let lt=-1;for(let st of _e)(st=rt(st,++lt,_e))!=null&&(at<st||at===void 0&&st>=st)&&(at=st)}return at}function min$1(_e,rt){let at;if(rt===void 0)for(const lt of _e)lt!=null&&(at>lt||at===void 0&&lt>=lt)&&(at=lt);else{let lt=-1;for(let st of _e)(st=rt(st,++lt,_e))!=null&&(at>st||at===void 0&&st>=st)&&(at=st)}return at}function initRange(_e,rt){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(rt).domain(_e);break}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,rt=[],at=[],lt=implicit;function st(ct){let ut=_e.get(ct);if(ut===void 0){if(lt!==implicit)return lt;_e.set(ct,ut=rt.push(ct)-1)}return at[ut%at.length]}return st.domain=function(ct){if(!arguments.length)return rt.slice();rt=[],_e=new InternMap;for(const ut of ct)_e.has(ut)||_e.set(ut,rt.push(ut)-1);return st},st.range=function(ct){return arguments.length?(at=Array.from(ct),st):at.slice()},st.unknown=function(ct){return arguments.length?(lt=ct,st):lt},st.copy=function(){return ordinal(rt,at).unknown(lt)},initRange.apply(st,arguments),st}function define(_e,rt,at){_e.prototype=rt.prototype=at,at.constructor=_e}function extend(_e,rt){var at=Object.create(_e.prototype);for(var lt in rt)at[lt]=rt[lt];return at}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var rt,at;return _e=(_e+"").trim().toLowerCase(),(rt=reHex.exec(_e))?(at=rt[1].length,rt=parseInt(rt[1],16),at===6?rgbn(rt):at===3?new Rgb(rt>>8&15|rt>>4&240,rt>>4&15|rt&240,(rt&15)<<4|rt&15,1):at===8?rgba(rt>>24&255,rt>>16&255,rt>>8&255,(rt&255)/255):at===4?rgba(rt>>12&15|rt>>8&240,rt>>8&15|rt>>4&240,rt>>4&15|rt&240,((rt&15)<<4|rt&15)/255):null):(rt=reRgbInteger.exec(_e))?new Rgb(rt[1],rt[2],rt[3],1):(rt=reRgbPercent.exec(_e))?new Rgb(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,1):(rt=reRgbaInteger.exec(_e))?rgba(rt[1],rt[2],rt[3],rt[4]):(rt=reRgbaPercent.exec(_e))?rgba(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,rt[4]):(rt=reHslPercent.exec(_e))?hsla(rt[1],rt[2]/100,rt[3]/100,1):(rt=reHslaPercent.exec(_e))?hsla(rt[1],rt[2]/100,rt[3]/100,rt[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,rt,at,lt){return lt<=0&&(_e=rt=at=NaN),new Rgb(_e,rt,at,lt)}function rgbConvert(_e){return _e instanceof Color||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,rt,at,lt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,rt,at,lt??1)}function Rgb(_e,rt,at,lt){this.r=+_e,this.g=+rt,this.b=+at,this.opacity=+lt}define(Rgb,rgb$1,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,rt,at,lt){return lt<=0?_e=rt=at=NaN:at<=0||at>=1?_e=rt=NaN:rt<=0&&(_e=NaN),new Hsl(_e,rt,at,lt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var rt=_e.r/255,at=_e.g/255,lt=_e.b/255,st=Math.min(rt,at,lt),ct=Math.max(rt,at,lt),ut=NaN,ft=ct-st,dt=(ct+st)/2;return ft?(rt===ct?ut=(at-lt)/ft+(at<lt)*6:at===ct?ut=(lt-rt)/ft+2:ut=(rt-at)/ft+4,ft/=dt<.5?ct+st:2-ct-st,ut*=60):ft=dt>0&&dt<1?0:ut,new Hsl(ut,ft,dt,_e.opacity)}function hsl(_e,rt,at,lt){return arguments.length===1?hslConvert(_e):new Hsl(_e,rt,at,lt??1)}function Hsl(_e,rt,at,lt){this.h=+_e,this.s=+rt,this.l=+at,this.opacity=+lt}define(Hsl,hsl,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,rt=isNaN(_e)||isNaN(this.s)?0:this.s,at=this.l,lt=at+(at<.5?at:1-at)*rt,st=2*at-lt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,st,lt),hsl2rgb(_e,st,lt),hsl2rgb(_e<120?_e+240:_e-120,st,lt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,rt,at){return(_e<60?rt+(at-rt)*_e/60:_e<180?at:_e<240?rt+(at-rt)*(240-_e)/60:rt)*255}const constant$1=_e=>()=>_e;function linear$1(_e,rt){return function(at){return _e+at*rt}}function exponential(_e,rt,at){return _e=Math.pow(_e,at),rt=Math.pow(rt,at)-_e,at=1/at,function(lt){return Math.pow(_e+lt*rt,at)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(rt,at){return at-rt?exponential(rt,at,_e):constant$1(isNaN(rt)?at:rt)}}function nogamma(_e,rt){var at=rt-_e;return at?linear$1(_e,at):constant$1(isNaN(_e)?rt:_e)}const rgb=function _e(rt){var at=gamma(rt);function lt(st,ct){var ut=at((st=rgb$1(st)).r,(ct=rgb$1(ct)).r),ft=at(st.g,ct.g),dt=at(st.b,ct.b),pt=nogamma(st.opacity,ct.opacity);return function(ht){return st.r=ut(ht),st.g=ft(ht),st.b=dt(ht),st.opacity=pt(ht),st+""}}return lt.gamma=_e,lt}(1);function numberArray(_e,rt){rt||(rt=[]);var at=_e?Math.min(rt.length,_e.length):0,lt=rt.slice(),st;return function(ct){for(st=0;st<at;++st)lt[st]=_e[st]*(1-ct)+rt[st]*ct;return lt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,rt){var at=rt?rt.length:0,lt=_e?Math.min(at,_e.length):0,st=new Array(lt),ct=new Array(at),ut;for(ut=0;ut<lt;++ut)st[ut]=interpolate(_e[ut],rt[ut]);for(;ut<at;++ut)ct[ut]=rt[ut];return function(ft){for(ut=0;ut<lt;++ut)ct[ut]=st[ut](ft);return ct}}function date$1(_e,rt){var at=new Date;return _e=+_e,rt=+rt,function(lt){return at.setTime(_e*(1-lt)+rt*lt),at}}function interpolateNumber(_e,rt){return _e=+_e,rt=+rt,function(at){return _e*(1-at)+rt*at}}function object(_e,rt){var at={},lt={},st;(_e===null||typeof _e!="object")&&(_e={}),(rt===null||typeof rt!="object")&&(rt={});for(st in rt)st in _e?at[st]=interpolate(_e[st],rt[st]):lt[st]=rt[st];return function(ct){for(st in at)lt[st]=at[st](ct);return lt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function(rt){return _e(rt)+""}}function string(_e,rt){var at=reA.lastIndex=reB.lastIndex=0,lt,st,ct,ut=-1,ft=[],dt=[];for(_e=_e+"",rt=rt+"";(lt=reA.exec(_e))&&(st=reB.exec(rt));)(ct=st.index)>at&&(ct=rt.slice(at,ct),ft[ut]?ft[ut]+=ct:ft[++ut]=ct),(lt=lt[0])===(st=st[0])?ft[ut]?ft[ut]+=st:ft[++ut]=st:(ft[++ut]=null,dt.push({i:ut,x:interpolateNumber(lt,st)})),at=reB.lastIndex;return at<rt.length&&(ct=rt.slice(at),ft[ut]?ft[ut]+=ct:ft[++ut]=ct),ft.length<2?dt[0]?one(dt[0].x):zero(rt):(rt=dt.length,function(pt){for(var ht=0,gt;ht<rt;++ht)ft[(gt=dt[ht]).i]=gt.x(pt);return ft.join("")})}function interpolate(_e,rt){var at=typeof rt,lt;return rt==null||at==="boolean"?constant$1(rt):(at==="number"?interpolateNumber:at==="string"?(lt=color(rt))?(rt=lt,rgb):string:rt instanceof color?rgb:rt instanceof Date?date$1:isNumberArray(rt)?numberArray:Array.isArray(rt)?genericArray:typeof rt.valueOf!="function"&&typeof rt.toString!="function"||isNaN(rt)?object:interpolateNumber)(_e,rt)}function interpolateRound(_e,rt){return _e=+_e,rt=+rt,function(at){return Math.round(_e*(1-at)+rt*at)}}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$1(_e){return _e}function normalize(_e,rt){return(rt-=_e=+_e)?function(at){return(at-_e)/rt}:constants(isNaN(rt)?NaN:.5)}function clamper(_e,rt){var at;return _e>rt&&(at=_e,_e=rt,rt=at),function(lt){return Math.max(_e,Math.min(rt,lt))}}function bimap(_e,rt,at){var lt=_e[0],st=_e[1],ct=rt[0],ut=rt[1];return st<lt?(lt=normalize(st,lt),ct=at(ut,ct)):(lt=normalize(lt,st),ct=at(ct,ut)),function(ft){return ct(lt(ft))}}function polymap(_e,rt,at){var lt=Math.min(_e.length,rt.length)-1,st=new Array(lt),ct=new Array(lt),ut=-1;for(_e[lt]<_e[0]&&(_e=_e.slice().reverse(),rt=rt.slice().reverse());++ut<lt;)st[ut]=normalize(_e[ut],_e[ut+1]),ct[ut]=at(rt[ut],rt[ut+1]);return function(ft){var dt=bisect(_e,ft,1,lt)-1;return ct[dt](st[dt](ft))}}function copy(_e,rt){return rt.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer(){var _e=unit,rt=unit,at=interpolate,lt,st,ct,ut=identity$1,ft,dt,pt;function ht(){var mt=Math.min(_e.length,rt.length);return ut!==identity$1&&(ut=clamper(_e[0],_e[mt-1])),ft=mt>2?polymap:bimap,dt=pt=null,gt}function gt(mt){return mt==null||isNaN(mt=+mt)?ct:(dt||(dt=ft(_e.map(lt),rt,at)))(lt(ut(mt)))}return gt.invert=function(mt){return ut(st((pt||(pt=ft(rt,_e.map(lt),interpolateNumber)))(mt)))},gt.domain=function(mt){return arguments.length?(_e=Array.from(mt,number$1),ht()):_e.slice()},gt.range=function(mt){return arguments.length?(rt=Array.from(mt),ht()):rt.slice()},gt.rangeRound=function(mt){return rt=Array.from(mt),at=interpolateRound,ht()},gt.clamp=function(mt){return arguments.length?(ut=mt?!0:identity$1,ht()):ut!==identity$1},gt.interpolate=function(mt){return arguments.length?(at=mt,ht()):at},gt.unknown=function(mt){return arguments.length?(ct=mt,gt):ct},function(mt,xt){return lt=mt,st=xt,ht()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,rt){if((at=(_e=rt?_e.toExponential(rt-1):_e.toExponential()).indexOf("e"))<0)return null;var at,lt=_e.slice(0,at);return[lt.length>1?lt[0]+lt.slice(2):lt,+_e.slice(at+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,rt){return function(at,lt){for(var st=at.length,ct=[],ut=0,ft=_e[0],dt=0;st>0&&ft>0&&(dt+ft+1>lt&&(ft=Math.max(1,lt-dt)),ct.push(at.substring(st-=ft,st+ft)),!((dt+=ft+1)>lt));)ft=_e[ut=(ut+1)%_e.length];return ct.reverse().join(rt)}}function formatNumerals(_e){return function(rt){return rt.replace(/[0-9]/g,function(at){return _e[+at]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!(rt=re.exec(_e)))throw new Error("invalid format: "+_e);var rt;return new FormatSpecifier({fill:rt[1],align:rt[2],sign:rt[3],symbol:rt[4],zero:rt[5],width:rt[6],comma:rt[7],precision:rt[8]&&rt[8].slice(1),trim:rt[9],type:rt[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var rt=_e.length,at=1,lt=-1,st;at<rt;++at)switch(_e[at]){case".":lt=st=at;break;case"0":lt===0&&(lt=at),st=at;break;default:if(!+_e[at])break e;lt>0&&(lt=0);break}return lt>0?_e.slice(0,lt)+_e.slice(st+1):_e}var prefixExponent;function formatPrefixAuto(_e,rt){var at=formatDecimalParts(_e,rt);if(!at)return _e+"";var lt=at[0],st=at[1],ct=st-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(st/3)))*3)+1,ut=lt.length;return ct===ut?lt:ct>ut?lt+new Array(ct-ut+1).join("0"):ct>0?lt.slice(0,ct)+"."+lt.slice(ct):"0."+new Array(1-ct).join("0")+formatDecimalParts(_e,Math.max(0,rt+ct-1))[0]}function formatRounded(_e,rt){var at=formatDecimalParts(_e,rt);if(!at)return _e+"";var lt=at[0],st=at[1];return st<0?"0."+new Array(-st).join("0")+lt:lt.length>st+1?lt.slice(0,st+1)+"."+lt.slice(st+1):lt+new Array(st-lt.length+2).join("0")}const formatTypes={"%":(_e,rt)=>(_e*100).toFixed(rt),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,rt)=>_e.toExponential(rt),f:(_e,rt)=>_e.toFixed(rt),g:(_e,rt)=>_e.toPrecision(rt),o:_e=>Math.round(_e).toString(8),p:(_e,rt)=>formatRounded(_e*100,rt),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity(_e){return _e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var rt=_e.grouping===void 0||_e.thousands===void 0?identity:formatGroup(map.call(_e.grouping,Number),_e.thousands+""),at=_e.currency===void 0?"":_e.currency[0]+"",lt=_e.currency===void 0?"":_e.currency[1]+"",st=_e.decimal===void 0?".":_e.decimal+"",ct=_e.numerals===void 0?identity:formatNumerals(map.call(_e.numerals,String)),ut=_e.percent===void 0?"%":_e.percent+"",ft=_e.minus===void 0?"−":_e.minus+"",dt=_e.nan===void 0?"NaN":_e.nan+"";function pt(gt){gt=formatSpecifier(gt);var mt=gt.fill,xt=gt.align,vt=gt.sign,yt=gt.symbol,_t=gt.zero,$t=gt.width,Et=gt.comma,wt=gt.precision,bt=gt.trim,St=gt.type;St==="n"?(Et=!0,St="g"):formatTypes[St]||(wt===void 0&&(wt=12),bt=!0,St="g"),(_t||mt==="0"&&xt==="=")&&(_t=!0,mt="0",xt="=");var Tt=yt==="$"?at:yt==="#"&&/[boxX]/.test(St)?"0"+St.toLowerCase():"",Rt=yt==="$"?lt:/[%p]/.test(St)?ut:"",kt=formatTypes[St],At=/[defgprs%]/.test(St);wt=wt===void 0?6:/[gprs]/.test(St)?Math.max(1,Math.min(21,wt)):Math.max(0,Math.min(20,wt));function Ct(Mt){var Ot=Tt,Pt=Rt,It,Ft,Wt;if(St==="c")Pt=kt(Mt)+Pt,Mt="";else{Mt=+Mt;var Xt=Mt<0||1/Mt<0;if(Mt=isNaN(Mt)?dt:kt(Math.abs(Mt),wt),bt&&(Mt=formatTrim(Mt)),Xt&&+Mt==0&&vt!=="+"&&(Xt=!1),Ot=(Xt?vt==="("?vt:ft:vt==="-"||vt==="("?"":vt)+Ot,Pt=(St==="s"?prefixes[8+prefixExponent/3]:"")+Pt+(Xt&&vt==="("?")":""),At){for(It=-1,Ft=Mt.length;++It<Ft;)if(Wt=Mt.charCodeAt(It),48>Wt||Wt>57){Pt=(Wt===46?st+Mt.slice(It+1):Mt.slice(It))+Pt,Mt=Mt.slice(0,It);break}}}Et&&!_t&&(Mt=rt(Mt,1/0));var Lt=Ot.length+Mt.length+Pt.length,Bt=Lt<$t?new Array($t-Lt+1).join(mt):"";switch(Et&&_t&&(Mt=rt(Bt+Mt,Bt.length?$t-Pt.length:1/0),Bt=""),xt){case"<":Mt=Ot+Mt+Pt+Bt;break;case"=":Mt=Ot+Bt+Mt+Pt;break;case"^":Mt=Bt.slice(0,Lt=Bt.length>>1)+Ot+Mt+Pt+Bt.slice(Lt);break;default:Mt=Bt+Ot+Mt+Pt;break}return ct(Mt)}return Ct.toString=function(){return gt+""},Ct}function ht(gt,mt){var xt=pt((gt=formatSpecifier(gt),gt.type="f",gt)),vt=Math.max(-8,Math.min(8,Math.floor(exponent(mt)/3)))*3,yt=Math.pow(10,-vt),_t=prefixes[8+vt/3];return function($t){return xt(yt*$t)+_t}}return{format:pt,formatPrefix:ht}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,rt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(rt)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,rt){return _e=Math.abs(_e),rt=Math.abs(rt)-_e,Math.max(0,exponent(rt)-exponent(_e))+1}function tickFormat(_e,rt,at,lt){var st=tickStep(_e,rt,at),ct;switch(lt=formatSpecifier(lt??",f"),lt.type){case"s":{var ut=Math.max(Math.abs(_e),Math.abs(rt));return lt.precision==null&&!isNaN(ct=precisionPrefix(st,ut))&&(lt.precision=ct),formatPrefix(lt,ut)}case"":case"e":case"g":case"p":case"r":{lt.precision==null&&!isNaN(ct=precisionRound(st,Math.max(Math.abs(_e),Math.abs(rt))))&&(lt.precision=ct-(lt.type==="e"));break}case"f":case"%":{lt.precision==null&&!isNaN(ct=precisionFixed(st))&&(lt.precision=ct-(lt.type==="%")*2);break}}return format(lt)}function linearish(_e){var rt=_e.domain;return _e.ticks=function(at){var lt=rt();return ticks(lt[0],lt[lt.length-1],at??10)},_e.tickFormat=function(at,lt){var st=rt();return tickFormat(st[0],st[st.length-1],at??10,lt)},_e.nice=function(at){at==null&&(at=10);var lt=rt(),st=0,ct=lt.length-1,ut=lt[st],ft=lt[ct],dt,pt,ht=10;for(ft<ut&&(pt=ut,ut=ft,ft=pt,pt=st,st=ct,ct=pt);ht-- >0;){if(pt=tickIncrement(ut,ft,at),pt===dt)return lt[st]=ut,lt[ct]=ft,rt(lt);if(pt>0)ut=Math.floor(ut/pt)*pt,ft=Math.ceil(ft/pt)*pt;else if(pt<0)ut=Math.ceil(ut*pt)/pt,ft=Math.floor(ft*pt)/pt;else break;dt=pt}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function nice(_e,rt){_e=_e.slice();var at=0,lt=_e.length-1,st=_e[at],ct=_e[lt],ut;return ct<st&&(ut=at,at=lt,lt=ut,ut=st,st=ct,ct=ut),_e[at]=rt.floor(st),_e[lt]=rt.ceil(ct),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:rt=>Math.pow(_e,rt)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),rt=>Math.log(rt)/_e)}function reflect(_e){return(rt,at)=>-_e(-rt,at)}function loggish(_e){const rt=_e(transformLog,transformExp),at=rt.domain;let lt=10,st,ct;function ut(){return st=logp(lt),ct=powp(lt),at()[0]<0?(st=reflect(st),ct=reflect(ct),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),rt}return rt.base=function(ft){return arguments.length?(lt=+ft,ut()):lt},rt.domain=function(ft){return arguments.length?(at(ft),ut()):at()},rt.ticks=ft=>{const dt=at();let pt=dt[0],ht=dt[dt.length-1];const gt=ht<pt;gt&&([pt,ht]=[ht,pt]);let mt=st(pt),xt=st(ht),vt,yt;const _t=ft==null?10:+ft;let $t=[];if(!(lt%1)&&xt-mt<_t){if(mt=Math.floor(mt),xt=Math.ceil(xt),pt>0){for(;mt<=xt;++mt)for(vt=1;vt<lt;++vt)if(yt=mt<0?vt/ct(-mt):vt*ct(mt),!(yt<pt)){if(yt>ht)break;$t.push(yt)}}else for(;mt<=xt;++mt)for(vt=lt-1;vt>=1;--vt)if(yt=mt>0?vt/ct(-mt):vt*ct(mt),!(yt<pt)){if(yt>ht)break;$t.push(yt)}$t.length*2<_t&&($t=ticks(pt,ht,_t))}else $t=ticks(mt,xt,Math.min(xt-mt,_t)).map(ct);return gt?$t.reverse():$t},rt.tickFormat=(ft,dt)=>{if(ft==null&&(ft=10),dt==null&&(dt=lt===10?"s":","),typeof dt!="function"&&(!(lt%1)&&(dt=formatSpecifier(dt)).precision==null&&(dt.trim=!0),dt=format(dt)),ft===1/0)return dt;const pt=Math.max(1,lt*ft/rt.ticks().length);return ht=>{let gt=ht/ct(Math.round(st(ht)));return gt*lt<lt-.5&&(gt*=lt),gt<=pt?dt(ht):""}},rt.nice=()=>at(nice(at(),{floor:ft=>ct(Math.floor(st(ft))),ceil:ft=>ct(Math.ceil(st(ft)))})),rt}function log(){const _e=loggish(transformer()).domain([1,10]);return _e.copy=()=>copy(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}const t0=new Date,t1=new Date;function timeInterval(_e,rt,at,lt){function st(ct){return _e(ct=arguments.length===0?new Date:new Date(+ct)),ct}return st.floor=ct=>(_e(ct=new Date(+ct)),ct),st.ceil=ct=>(_e(ct=new Date(ct-1)),rt(ct,1),_e(ct),ct),st.round=ct=>{const ut=st(ct),ft=st.ceil(ct);return ct-ut<ft-ct?ut:ft},st.offset=(ct,ut)=>(rt(ct=new Date(+ct),ut==null?1:Math.floor(ut)),ct),st.range=(ct,ut,ft)=>{const dt=[];if(ct=st.ceil(ct),ft=ft==null?1:Math.floor(ft),!(ct<ut)||!(ft>0))return dt;let pt;do dt.push(pt=new Date(+ct)),rt(ct,ft),_e(ct);while(pt<ct&&ct<ut);return dt},st.filter=ct=>timeInterval(ut=>{if(ut>=ut)for(;_e(ut),!ct(ut);)ut.setTime(ut-1)},(ut,ft)=>{if(ut>=ut)if(ft<0)for(;++ft<=0;)for(;rt(ut,-1),!ct(ut););else for(;--ft>=0;)for(;rt(ut,1),!ct(ut););}),at&&(st.count=(ct,ut)=>(t0.setTime(+ct),t1.setTime(+ut),_e(t0),_e(t1),Math.floor(at(t0,t1))),st.every=ct=>(ct=Math.floor(ct),!isFinite(ct)||!(ct>0)?null:ct>1?st.filter(lt?ut=>lt(ut)%ct===0:ut=>st.count(0,ut)%ct===0):st)),st}const millisecond=timeInterval(()=>{},(_e,rt)=>{_e.setTime(+_e+rt)},(_e,rt)=>rt-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval(rt=>{rt.setTime(Math.floor(rt/_e)*_e)},(rt,at)=>{rt.setTime(+rt+at*_e)},(rt,at)=>(at-rt)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,rt)=>{_e.setTime(+_e+rt*durationSecond)},(_e,rt)=>(rt-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,rt)=>{_e.setTime(+_e+rt*durationMinute)},(_e,rt)=>(rt-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,rt)=>{_e.setTime(+_e+rt*durationMinute)},(_e,rt)=>(rt-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,rt)=>{_e.setTime(+_e+rt*durationHour)},(_e,rt)=>(rt-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,rt)=>{_e.setTime(+_e+rt*durationHour)},(_e,rt)=>(rt-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,rt)=>_e.setDate(_e.getDate()+rt),(_e,rt)=>(rt-_e-(rt.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,rt)=>{_e.setUTCDate(_e.getUTCDate()+rt)},(_e,rt)=>(rt-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,rt)=>{_e.setUTCDate(_e.getUTCDate()+rt)},(_e,rt)=>(rt-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval(rt=>{rt.setDate(rt.getDate()-(rt.getDay()+7-_e)%7),rt.setHours(0,0,0,0)},(rt,at)=>{rt.setDate(rt.getDate()+at*7)},(rt,at)=>(at-rt-(at.getTimezoneOffset()-rt.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval(rt=>{rt.setUTCDate(rt.getUTCDate()-(rt.getUTCDay()+7-_e)%7),rt.setUTCHours(0,0,0,0)},(rt,at)=>{rt.setUTCDate(rt.getUTCDate()+at*7)},(rt,at)=>(at-rt)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,rt)=>{_e.setMonth(_e.getMonth()+rt)},(_e,rt)=>rt.getMonth()-_e.getMonth()+(rt.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,rt)=>{_e.setUTCMonth(_e.getUTCMonth()+rt)},(_e,rt)=>rt.getUTCMonth()-_e.getUTCMonth()+(rt.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,rt)=>{_e.setFullYear(_e.getFullYear()+rt)},(_e,rt)=>rt.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(rt=>{rt.setFullYear(Math.floor(rt.getFullYear()/_e)*_e),rt.setMonth(0,1),rt.setHours(0,0,0,0)},(rt,at)=>{rt.setFullYear(rt.getFullYear()+at*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,rt)=>{_e.setUTCFullYear(_e.getUTCFullYear()+rt)},(_e,rt)=>rt.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(rt=>{rt.setUTCFullYear(Math.floor(rt.getUTCFullYear()/_e)*_e),rt.setUTCMonth(0,1),rt.setUTCHours(0,0,0,0)},(rt,at)=>{rt.setUTCFullYear(rt.getUTCFullYear()+at*_e)});utcYear.range;function ticker(_e,rt,at,lt,st,ct){const ut=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ct,1,durationMinute],[ct,5,5*durationMinute],[ct,15,15*durationMinute],[ct,30,30*durationMinute],[st,1,durationHour],[st,3,3*durationHour],[st,6,6*durationHour],[st,12,12*durationHour],[lt,1,durationDay],[lt,2,2*durationDay],[at,1,durationWeek],[rt,1,durationMonth],[rt,3,3*durationMonth],[_e,1,durationYear]];function ft(pt,ht,gt){const mt=ht<pt;mt&&([pt,ht]=[ht,pt]);const xt=gt&&typeof gt.range=="function"?gt:dt(pt,ht,gt),vt=xt?xt.range(pt,+ht+1):[];return mt?vt.reverse():vt}function dt(pt,ht,gt){const mt=Math.abs(ht-pt)/gt,xt=bisector(([,,_t])=>_t).right(ut,mt);if(xt===ut.length)return _e.every(tickStep(pt/durationYear,ht/durationYear,gt));if(xt===0)return millisecond.every(Math.max(tickStep(pt,ht,gt),1));const[vt,yt]=ut[mt/ut[xt-1][2]<ut[xt][2]/mt?xt-1:xt];return vt.every(yt)}return[ft,dt]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var rt=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return rt.setFullYear(_e.y),rt}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var rt=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return rt.setUTCFullYear(_e.y),rt}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,rt,at){return{y:_e,m:rt,d:at,H:0,M:0,S:0,L:0}}function formatLocale(_e){var rt=_e.dateTime,at=_e.date,lt=_e.time,st=_e.periods,ct=_e.days,ut=_e.shortDays,ft=_e.months,dt=_e.shortMonths,pt=formatRe(st),ht=formatLookup(st),gt=formatRe(ct),mt=formatLookup(ct),xt=formatRe(ut),vt=formatLookup(ut),yt=formatRe(ft),_t=formatLookup(ft),$t=formatRe(dt),Et=formatLookup(dt),wt={a:Xt,A:Lt,b:Bt,B:Ut,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:dn,q:Zt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},bt={a:cn,A:Gt,b:Yt,B:pn,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:$n,q:Sn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},St={a:Ct,A:Mt,b:Ot,B:Pt,c:It,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:At,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ft,X:Wt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};wt.x=Tt(at,wt),wt.X=Tt(lt,wt),wt.c=Tt(rt,wt),bt.x=Tt(at,bt),bt.X=Tt(lt,bt),bt.c=Tt(rt,bt);function Tt(Qt,vn){return function(wn){var qt=[],En=-1,xn=0,hn=Qt.length,jt,Dt,zt;for(wn instanceof Date||(wn=new Date(+wn));++En<hn;)Qt.charCodeAt(En)===37&&(qt.push(Qt.slice(xn,En)),(Dt=pads[jt=Qt.charAt(++En)])!=null?jt=Qt.charAt(++En):Dt=jt==="e"?" ":"0",(zt=vn[jt])&&(jt=zt(wn,Dt)),qt.push(jt),xn=En+1);return qt.push(Qt.slice(xn,En)),qt.join("")}}function Rt(Qt,vn){return function(wn){var qt=newDate(1900,void 0,1),En=kt(qt,Qt,wn+="",0),xn,hn;if(En!=wn.length)return null;if("Q"in qt)return new Date(qt.Q);if("s"in qt)return new Date(qt.s*1e3+("L"in qt?qt.L:0));if(vn&&!("Z"in qt)&&(qt.Z=0),"p"in qt&&(qt.H=qt.H%12+qt.p*12),qt.m===void 0&&(qt.m="q"in qt?qt.q:0),"V"in qt){if(qt.V<1||qt.V>53)return null;"w"in qt||(qt.w=1),"Z"in qt?(xn=utcDate(newDate(qt.y,0,1)),hn=xn.getUTCDay(),xn=hn>4||hn===0?utcMonday.ceil(xn):utcMonday(xn),xn=utcDay.offset(xn,(qt.V-1)*7),qt.y=xn.getUTCFullYear(),qt.m=xn.getUTCMonth(),qt.d=xn.getUTCDate()+(qt.w+6)%7):(xn=localDate(newDate(qt.y,0,1)),hn=xn.getDay(),xn=hn>4||hn===0?timeMonday.ceil(xn):timeMonday(xn),xn=timeDay.offset(xn,(qt.V-1)*7),qt.y=xn.getFullYear(),qt.m=xn.getMonth(),qt.d=xn.getDate()+(qt.w+6)%7)}else("W"in qt||"U"in qt)&&("w"in qt||(qt.w="u"in qt?qt.u%7:"W"in qt?1:0),hn="Z"in qt?utcDate(newDate(qt.y,0,1)).getUTCDay():localDate(newDate(qt.y,0,1)).getDay(),qt.m=0,qt.d="W"in qt?(qt.w+6)%7+qt.W*7-(hn+5)%7:qt.w+qt.U*7-(hn+6)%7);return"Z"in qt?(qt.H+=qt.Z/100|0,qt.M+=qt.Z%100,utcDate(qt)):localDate(qt)}}function kt(Qt,vn,wn,qt){for(var En=0,xn=vn.length,hn=wn.length,jt,Dt;En<xn;){if(qt>=hn)return-1;if(jt=vn.charCodeAt(En++),jt===37){if(jt=vn.charAt(En++),Dt=St[jt in pads?vn.charAt(En++):jt],!Dt||(qt=Dt(Qt,wn,qt))<0)return-1}else if(jt!=wn.charCodeAt(qt++))return-1}return qt}function At(Qt,vn,wn){var qt=pt.exec(vn.slice(wn));return qt?(Qt.p=ht.get(qt[0].toLowerCase()),wn+qt[0].length):-1}function Ct(Qt,vn,wn){var qt=xt.exec(vn.slice(wn));return qt?(Qt.w=vt.get(qt[0].toLowerCase()),wn+qt[0].length):-1}function Mt(Qt,vn,wn){var qt=gt.exec(vn.slice(wn));return qt?(Qt.w=mt.get(qt[0].toLowerCase()),wn+qt[0].length):-1}function Ot(Qt,vn,wn){var qt=$t.exec(vn.slice(wn));return qt?(Qt.m=Et.get(qt[0].toLowerCase()),wn+qt[0].length):-1}function Pt(Qt,vn,wn){var qt=yt.exec(vn.slice(wn));return qt?(Qt.m=_t.get(qt[0].toLowerCase()),wn+qt[0].length):-1}function It(Qt,vn,wn){return kt(Qt,rt,vn,wn)}function Ft(Qt,vn,wn){return kt(Qt,at,vn,wn)}function Wt(Qt,vn,wn){return kt(Qt,lt,vn,wn)}function Xt(Qt){return ut[Qt.getDay()]}function Lt(Qt){return ct[Qt.getDay()]}function Bt(Qt){return dt[Qt.getMonth()]}function Ut(Qt){return ft[Qt.getMonth()]}function dn(Qt){return st[+(Qt.getHours()>=12)]}function Zt(Qt){return 1+~~(Qt.getMonth()/3)}function cn(Qt){return ut[Qt.getUTCDay()]}function Gt(Qt){return ct[Qt.getUTCDay()]}function Yt(Qt){return dt[Qt.getUTCMonth()]}function pn(Qt){return ft[Qt.getUTCMonth()]}function $n(Qt){return st[+(Qt.getUTCHours()>=12)]}function Sn(Qt){return 1+~~(Qt.getUTCMonth()/3)}return{format:function(Qt){var vn=Tt(Qt+="",wt);return vn.toString=function(){return Qt},vn},parse:function(Qt){var vn=Rt(Qt+="",!1);return vn.toString=function(){return Qt},vn},utcFormat:function(Qt){var vn=Tt(Qt+="",bt);return vn.toString=function(){return Qt},vn},utcParse:function(Qt){var vn=Rt(Qt+="",!0);return vn.toString=function(){return Qt},vn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,rt,at){var lt=_e<0?"-":"",st=(lt?-_e:_e)+"",ct=st.length;return lt+(ct<at?new Array(at-ct+1).join(rt)+st:st)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map((rt,at)=>[rt.toLowerCase(),at]))}function parseWeekdayNumberSunday(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+1));return lt?(_e.w=+lt[0],at+lt[0].length):-1}function parseWeekdayNumberMonday(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+1));return lt?(_e.u=+lt[0],at+lt[0].length):-1}function parseWeekNumberSunday(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.U=+lt[0],at+lt[0].length):-1}function parseWeekNumberISO(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.V=+lt[0],at+lt[0].length):-1}function parseWeekNumberMonday(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.W=+lt[0],at+lt[0].length):-1}function parseFullYear(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+4));return lt?(_e.y=+lt[0],at+lt[0].length):-1}function parseYear(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.y=+lt[0]+(+lt[0]>68?1900:2e3),at+lt[0].length):-1}function parseZone(_e,rt,at){var lt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(rt.slice(at,at+6));return lt?(_e.Z=lt[1]?0:-(lt[2]+(lt[3]||"00")),at+lt[0].length):-1}function parseQuarter(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+1));return lt?(_e.q=lt[0]*3-3,at+lt[0].length):-1}function parseMonthNumber(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.m=lt[0]-1,at+lt[0].length):-1}function parseDayOfMonth(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.d=+lt[0],at+lt[0].length):-1}function parseDayOfYear(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+3));return lt?(_e.m=0,_e.d=+lt[0],at+lt[0].length):-1}function parseHour24(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.H=+lt[0],at+lt[0].length):-1}function parseMinutes(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.M=+lt[0],at+lt[0].length):-1}function parseSeconds(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+2));return lt?(_e.S=+lt[0],at+lt[0].length):-1}function parseMilliseconds(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+3));return lt?(_e.L=+lt[0],at+lt[0].length):-1}function parseMicroseconds(_e,rt,at){var lt=numberRe.exec(rt.slice(at,at+6));return lt?(_e.L=Math.floor(lt[0]/1e3),at+lt[0].length):-1}function parseLiteralPercent(_e,rt,at){var lt=percentRe.exec(rt.slice(at,at+1));return lt?at+lt[0].length:-1}function parseUnixTimestamp(_e,rt,at){var lt=numberRe.exec(rt.slice(at));return lt?(_e.Q=+lt[0],at+lt[0].length):-1}function parseUnixTimestampSeconds(_e,rt,at){var lt=numberRe.exec(rt.slice(at));return lt?(_e.s=+lt[0],at+lt[0].length):-1}function formatDayOfMonth(_e,rt){return pad(_e.getDate(),rt,2)}function formatHour24(_e,rt){return pad(_e.getHours(),rt,2)}function formatHour12(_e,rt){return pad(_e.getHours()%12||12,rt,2)}function formatDayOfYear(_e,rt){return pad(1+timeDay.count(timeYear(_e),_e),rt,3)}function formatMilliseconds(_e,rt){return pad(_e.getMilliseconds(),rt,3)}function formatMicroseconds(_e,rt){return formatMilliseconds(_e,rt)+"000"}function formatMonthNumber(_e,rt){return pad(_e.getMonth()+1,rt,2)}function formatMinutes(_e,rt){return pad(_e.getMinutes(),rt,2)}function formatSeconds(_e,rt){return pad(_e.getSeconds(),rt,2)}function formatWeekdayNumberMonday(_e){var rt=_e.getDay();return rt===0?7:rt}function formatWeekNumberSunday(_e,rt){return pad(timeSunday.count(timeYear(_e)-1,_e),rt,2)}function dISO(_e){var rt=_e.getDay();return rt>=4||rt===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,rt){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),rt,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,rt){return pad(timeMonday.count(timeYear(_e)-1,_e),rt,2)}function formatYear(_e,rt){return pad(_e.getFullYear()%100,rt,2)}function formatYearISO(_e,rt){return _e=dISO(_e),pad(_e.getFullYear()%100,rt,2)}function formatFullYear(_e,rt){return pad(_e.getFullYear()%1e4,rt,4)}function formatFullYearISO(_e,rt){var at=_e.getDay();return _e=at>=4||at===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,rt,4)}function formatZone(_e){var rt=_e.getTimezoneOffset();return(rt>0?"-":(rt*=-1,"+"))+pad(rt/60|0,"0",2)+pad(rt%60,"0",2)}function formatUTCDayOfMonth(_e,rt){return pad(_e.getUTCDate(),rt,2)}function formatUTCHour24(_e,rt){return pad(_e.getUTCHours(),rt,2)}function formatUTCHour12(_e,rt){return pad(_e.getUTCHours()%12||12,rt,2)}function formatUTCDayOfYear(_e,rt){return pad(1+utcDay.count(utcYear(_e),_e),rt,3)}function formatUTCMilliseconds(_e,rt){return pad(_e.getUTCMilliseconds(),rt,3)}function formatUTCMicroseconds(_e,rt){return formatUTCMilliseconds(_e,rt)+"000"}function formatUTCMonthNumber(_e,rt){return pad(_e.getUTCMonth()+1,rt,2)}function formatUTCMinutes(_e,rt){return pad(_e.getUTCMinutes(),rt,2)}function formatUTCSeconds(_e,rt){return pad(_e.getUTCSeconds(),rt,2)}function formatUTCWeekdayNumberMonday(_e){var rt=_e.getUTCDay();return rt===0?7:rt}function formatUTCWeekNumberSunday(_e,rt){return pad(utcSunday.count(utcYear(_e)-1,_e),rt,2)}function UTCdISO(_e){var rt=_e.getUTCDay();return rt>=4||rt===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,rt){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),rt,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,rt){return pad(utcMonday.count(utcYear(_e)-1,_e),rt,2)}function formatUTCYear(_e,rt){return pad(_e.getUTCFullYear()%100,rt,2)}function formatUTCYearISO(_e,rt){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,rt,2)}function formatUTCFullYear(_e,rt){return pad(_e.getUTCFullYear()%1e4,rt,4)}function formatUTCFullYearISO(_e,rt){var at=_e.getUTCDay();return _e=at>=4||at===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,rt,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,rt,at,lt,st,ct,ut,ft,dt,pt){var ht=continuous(),gt=ht.invert,mt=ht.domain,xt=pt(".%L"),vt=pt(":%S"),yt=pt("%I:%M"),_t=pt("%I %p"),$t=pt("%a %d"),Et=pt("%b %d"),wt=pt("%B"),bt=pt("%Y");function St(Tt){return(dt(Tt)<Tt?xt:ft(Tt)<Tt?vt:ut(Tt)<Tt?yt:ct(Tt)<Tt?_t:lt(Tt)<Tt?st(Tt)<Tt?$t:Et:at(Tt)<Tt?wt:bt)(Tt)}return ht.invert=function(Tt){return new Date(gt(Tt))},ht.domain=function(Tt){return arguments.length?mt(Array.from(Tt,number)):mt().map(date)},ht.ticks=function(Tt){var Rt=mt();return _e(Rt[0],Rt[Rt.length-1],Tt??10)},ht.tickFormat=function(Tt,Rt){return Rt==null?St:pt(Rt)},ht.nice=function(Tt){var Rt=mt();return(!Tt||typeof Tt.range!="function")&&(Tt=rt(Rt[0],Rt[Rt.length-1],Tt??10)),Tt?mt(nice(Rt,Tt)):ht},ht.copy=function(){return copy(ht,calendar(_e,rt,at,lt,st,ct,ut,ft,dt,pt))},ht}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function colors$1(_e){for(var rt=_e.length/6|0,at=new Array(rt),lt=0;lt<rt;)at[lt]="#"+_e.slice(lt*6,++lt*6);return at}const schemeSet1=colors$1("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),initialSize={x:0,y:0,width:0,height:0};function useBBoxObserver(){const[_e,rt]=reactExports.useState(initialSize),at=reactExports.useRef(initialSize),lt=reactExports.useRef();return{ref:reactExports.useCallback(ct=>{if(lt.current&&lt.current(),ct!==null){const ut=new ResizeObserver(([ft])=>{const dt=ft.target.getBBox(),pt=at.current;if(pt.x!==dt.x||pt.y!==dt.y||pt.width!==dt.width||pt.height!==dt.height){const ht={x:dt.x,y:dt.y,width:dt.width,height:dt.height};at.current=ht,rt(ht)}});ut.observe(ct),lt.current=()=>{ut.unobserve(ct)}}},[]),..._e}}function calculatePosition(_e,rt,at,lt){switch(rt){case"start":return _e;case"end":return _e-at;case"middle":return _e-at/2;case"none":return lt;default:throw new Error(`Unkwnown alignment ${JSON.stringify(rt)}`)}}function AlignGroup(_e){const{x:rt=0,y:at=0,verticalAlign:lt="start",horizontalAlign:st="start",children:ct,style:ut={}}=_e,ft=useBBoxObserver(),dt=reactExports.useMemo(()=>calculatePosition(rt-ft.x,st,ft.width||0,rt),[rt,ft.x,ft.width,st]),pt=reactExports.useMemo(()=>calculatePosition(at-ft.y,lt,ft.height||0,at),[at,ft.y,ft.height,lt]);return jsx("g",{style:ut,ref:ft.ref,transform:`translate(${dt}, ${pt})`,children:ct})}function textDimensions(_e,rt){var at,lt;const st=document.createTextNode(_e),ct=document.createElementNS("http://www.w3.org/2000/svg","text");ct.setAttribute("class","test"),ct.appendChild(st),(at=rt.current)===null||at===void 0||at.appendChild(ct);const ut=ct.getBBox();return(lt=rt.current)===null||lt===void 0||lt.removeChild(ct),ut}const TEST_HEIGHT$1="+1234567890";function useTicks(_e,rt,at,lt){const st=_e.range();if(!st)throw new Error("Range needs to be specified");if(!_e.domain())throw new Error("Domain needs to be specified");const{minSpace:ut=8,tickFormat:ft,setTicks:dt}=lt,pt=Math.abs(st[0]-st[1]);reactExports.useEffect(()=>{if(at.current){let ht,gt=[];if(rt==="horizontal")for(;;){gt=_e.ticks(ht);const mt=gt.map(ft);ht=Math.min(gt.length,ht||1/0);const{width:xt}=textDimensions(mt.join(""),at);if(xt+(gt.length-1)*ut>pt&&ht>1)ht=ht-1;else break}else{const{height:mt}=textDimensions(TEST_HEIGHT$1,at);for(;gt=_e.ticks(ht),ht=Math.min(gt.length,ht||1/0),gt.length*(mt+ut)-ut>pt&&ht>1;)ht=ht-1}dt(gt.map(mt=>({label:ft(mt),position:_e(mt),value:mt})))}},[pt,rt,ut,at,_e,dt,ft])}function useLinearPrimaryTicks(_e,rt,at,lt={}){const[st,ct]=reactExports.useState([]),{tickFormat:ut=String}=lt;return useTicks(_e,rt,at,{...lt,tickFormat:ut,setTicks:ct}),st}const TEST_HEIGHT="+1234567890";function isMainTick(_e){const rt=_e/Math.pow(10,Math.round(Math.log10(_e)));return Math.floor(rt<1?rt*10:rt)}function formatTicks(_e,rt,at,lt,st){const ct=_e.filter(ht=>isMainTick(ht)===1).map(rt),ut=Math.abs(ct[0]-ct[1]),ft=(lt+st)/ut,dt=ft>=1?Math.ceil(ft):1;let pt=0;return _e.map(ht=>{const gt=rt(ht);let mt="";return isMainTick(ht)===1&&(mt=pt===0?at(ht):"",pt=(pt+1)%dt),{label:mt,position:gt,value:ht}})}function useLogTicks(_e,rt,at,lt={}){const[st,ct]=reactExports.useState(40);if(!_e.range())throw new Error("Range needs to be specified");const ft=_e.domain();if(!ft)throw new Error("Domain needs to be specified");const{minSpace:dt=8}=lt,pt=lt==null?void 0:lt.tickFormat,ht=reactExports.useCallback(mt=>pt?pt(mt):String(mt),[pt]),gt=reactExports.useMemo(()=>_e.ticks(),[_e]);return reactExports.useEffect(()=>{if(at.current)if(rt==="horizontal"){const mt=gt.filter(vt=>isMainTick(vt)===1).map(ht).reduce((vt,yt)=>vt.length<yt.length?yt:vt,""),{width:xt}=textDimensions(mt,at);ct(Math.ceil(xt))}else{const{height:mt}=textDimensions(TEST_HEIGHT,at);ct(Math.ceil(mt))}},[rt,ft,ht,at,gt]),formatTicks(gt,_e,ht,st,dt)}function useTimeTicks(_e,rt,at,lt){const{tickFormat:st=_e.tickFormat()}=lt,[ct,ut]=reactExports.useState([]);return useTicks(_e,rt,at,{...lt,setTicks:ut,tickFormat:st}),ct}const context=reactExports.createContext(null);function useLegend(){const _e=reactExports.useContext(context);if(!_e)throw new Error("context was not initialized");return _e}const legendReducer=fn((_e,rt)=>{switch(rt.type){case"ADD_LEGEND_LABEL":{const{shape:at,...lt}=rt.payload,st=_e.labels.findIndex(({id:ct})=>lt.id===ct);if(st<0)_e.labels.push({...lt,shape:at,isVisible:!0});else{const ct=_e.labels[st].isVisible;_e.labels[st]={...lt,isVisible:ct,shape:at}}return}case"REMOVE_LEGEND_LABEL":{const{id:at}=rt.payload,lt=_e.labels.findIndex(st=>st.id===at);lt!==-1&&_e.labels.splice(lt,1);return}case"TOGGLE_VISIBILITY":{const{id:at}=rt.payload,lt=_e.labels.findIndex(st=>st.id===at);lt!==-1&&(_e.labels[lt].isVisible=!_e.labels[lt].isVisible);return}default:throw new Error("unreachable")}}),initialLegendState={labels:[]},LegendProvider=_e=>{const[rt,at]=reactExports.useReducer(legendReducer,initialLegendState),lt=reactExports.useMemo(()=>[rt,at],[rt,at]);return jsx(context.Provider,{value:lt,children:_e.children})};let currentValue=1;function getNextId(){return++currentValue}function useId(_e,rt){return reactExports.useMemo(()=>_e||`${rt}-${getNextId()}`,[_e,rt])}const horizontal=["top","bottom"],vertical=["left","right"];function validatePosition(_e,rt,at){if(horizontal.includes(_e)&&!horizontal.includes(rt)||vertical.includes(_e)&&!vertical.includes(rt))throw new Error(`The positions are ortogonal for ${at}`)}function validateAxis(_e,rt,at,lt={}){const{onlyOrthogonal:st=!1}=lt,ct=_e[rt],ut=_e[at];if(!ct||!ut)return[void 0,void 0];if(st&&(horizontal.includes(ct.position)&&horizontal.includes(ut.position)||vertical.includes(ut.position)&&vertical.includes(ct.position)))throw new Error(`The axis ${rt} and ${at} are not orthogonal`);if(!st&&(horizontal.includes(ct.position)?!vertical.includes(ut.position):vertical.includes(ct.position)))throw vertical.includes(ct.position)||horizontal.includes(ut.position)?new Error(`The axis ${rt} should be ${horizontal.join(" ")} and ${at} should be ${vertical.join(" ")}`):new Error(`The axis ${rt} and ${at} are not orthogonal`);return[ct.scale,ut.scale]}function functionalStyle(_e,rt,at,lt,st){let ct={..._e};for(const ut in rt)typeof rt[ut]=="function"?ct[ut]=rt[ut](at,lt,st):ct[ut]=rt[ut];return ct}function functionalShape(_e,rt,at,lt){let st;return typeof _e=="function"?st=_e(rt,at,lt):st=_e,st}function functionalLabel(_e,rt,at,lt){let st;return typeof _e=="function"?st=_e(rt,at,lt):st=_e,st}function validateSeriesPointError(_e){return typeof _e=="number"?[_e,_e]:Array.isArray(_e)&&_e.length>=2?_e:null}function closestPoint(_e,rt,at){let lt={index:0,distance:Number.POSITIVE_INFINITY};for(let st=0;st<_e.length;st++){const ct=at(_e[st],rt);ct<lt.distance&&(lt.index=st,lt.distance=ct)}return _e[lt.index]}function toNumber(_e){return typeof _e>"u"||typeof _e=="number"?_e:_e.getTime()}function middlePoint(_e,rt){return{x:(_e.x+rt.x)/2,y:(_e.y+rt.y)/2}}function plotReducer(_e,rt){switch(rt.type){case"addSeries":{_e.series.push(rt.payload);break}case"removeSeries":{const{id:at}=rt.payload,lt=_e.series.filter(st=>st.id!==at);_e.series=lt;break}case"addAxis":{const{id:at,position:lt,...st}=rt.payload,ct=_e.axes[at];ct?(validatePosition(ct.position,lt,at),_e.axes[at]={...ct,position:lt,...st}):_e.axes[at]={id:at,position:lt,...st};break}case"removeAxis":{const{id:at}=rt.payload;delete _e.axes[at];break}case"addHeading":{_e.headingPosition=rt.payload.position;break}case"removeHeading":{_e.headingPosition=null;break}case"addLegend":{_e.legendPosition=rt.payload.position,_e.legendMargin=rt.payload.margin;break}case"removeLegend":{_e.legendPosition=null,_e.legendMargin=0;break}default:throw new Error(`Unknown reducer type ${rt.type}`)}}const plotContext=reactExports.createContext({width:0,height:0,plotWidth:0,plotHeight:0,colorScaler:ordinal(),axisContext:{}}),plotDispatchContext=reactExports.createContext(()=>{});function usePlotContext(){const _e=reactExports.useContext(plotContext);if(!_e)throw new Error("usePlotContext called outside of Plot context");return _e}function usePlotDispatchContext(){const _e=reactExports.useContext(plotDispatchContext);if(!_e)throw new Error("usePlotDispatchContext called outside of Plot context");return _e}function useAxisContext(_e,rt,{plotWidth:at,plotHeight:lt}){return reactExports.useMemo(()=>{const ct={};for(const ut in _e.axes){const ft=_e.axes[ut],dt=rt[ut],pt=["top","bottom"].includes(ft.position),ht=pt?"x":"y";let gt=!1,mt;(dt==null?void 0:dt.min)!=null?(mt=dt.min,gt=!0):ft.min!=null?(mt=ft.min,gt=!0):mt=min$1(_e.series.filter(bt=>ht!=="x"||!bt.id.startsWith("~")),bt=>bt[ht].axisId===ut?bt[ht].min:void 0);let xt=!1,vt;if((dt==null?void 0:dt.max)!=null?(vt=dt.max,xt=!0):ft.max!=null?(vt=ft.max,xt=!0):vt=max$1(_e.series.filter(bt=>ht!=="x"||!bt.id.startsWith("~")),bt=>bt[ht].axisId===ut?bt[ht].max:void 0),mt===void 0||vt===void 0)return{};if(mt>vt)throw new Error(`${ut}: min (${mt}) is bigger than max (${vt})`);const yt=pt?at:lt,_t=computeAxisPadding(ft,vt-mt,yt,gt,xt),$t=pt?[0,at]:[lt,0],Et=[mt-_t.min,vt+_t.max],wt=function(St){return St<Et[0]?Et[0]:St>Et[1]?Et[1]:St};switch(ft.scale){case"log":{ct[ut]={type:ft.scale,position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:log().domain(Et).range(ft.flip?$t.reverse():$t),domain:Et,clampInDomain:wt};break}case"time":{ct[ut]={type:ft.scale,position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:time().domain(Et).range(ft.flip?$t.reverse():$t),domain:Et,clampInDomain:wt};break}case"linear":{ct[ut]={type:"linear",position:ft.position,tickLabelFormat:ft.tickLabelFormat,scale:linear().domain(Et).range(ft.flip?$t.reverse():$t),domain:Et,clampInDomain:wt};break}default:throw new Error("unreachable")}}return ct},[_e.axes,_e.series,rt,at,lt])}function computeAxisPadding(_e,rt,at,lt,st){const{paddingStart:ct,paddingEnd:ut}=_e;if(lt&&st)return{min:0,max:0};if(st)return{min:convertAxisPadding(ct,0,rt,at).start,max:0};if(lt)return{min:0,max:convertAxisPadding(0,ut,rt,at).end};{const ft=convertAxisPadding(ct,ut,rt,at);return{min:ft.start,max:ft.end}}}function convertAxisPadding(_e,rt,at,lt){let st=0,ct=0,ut=at;typeof _e=="number"&&(ut+=_e,st=_e),typeof rt=="number"&&(ut+=rt,ct=rt);let ft=0,dt=0;typeof _e=="string"&&(ft=toPx(_e,lt)/lt),typeof rt=="string"&&(dt=toPx(rt,lt)/lt);const pt=ft+dt;if(pt!==0){const ht=pt*ut/(1-pt);st=ft/pt*ht,ct=dt/pt*ht}return{start:st,end:ct}}function toPx(_e,rt){return _e.endsWith("%")?Number(_e.slice(0,-1))/100*rt:Number(_e)}function createNestableContext(_e){const rt=reactExports.createContext(new Map);function at(st){const ct=reactExports.useContext(rt);return ct.has(st)?ct.get(st):_e}function lt(st){const{id:ct,value:ut,children:ft}=st,dt=reactExports.useContext(rt),pt=reactExports.useMemo(()=>{const ht=new Map(dt);return ht.set(ct,ut),ht},[dt,ct,ut]);return jsx(rt.Provider,{value:pt,children:ft})}return{useNestedContext:at,NestedContextProvider:lt}}const initialPlotOverridesState={axes:{}},plotOverridesContext=createNestableContext(initialPlotOverridesState);function usePlotOverrides(_e){return plotOverridesContext.useNestedContext(_e==null?void 0:_e.controllerId)}createNestableContext(null);createNestableContext(null);const plotEventsPlotContext=createNestableContext(null);function usePlotEventsPlotContext(_e){return plotEventsPlotContext.useNestedContext(_e==null?void 0:_e.controllerId)}function squaredEuclidean(_e,rt){let at=0;for(let lt=0;lt<_e.length;lt++)at+=(_e[lt]-rt[lt])*(_e[lt]-rt[lt]);return at}function euclidean(_e,rt){return Math.sqrt(squaredEuclidean(_e,rt))}function convertString(_e,rt){return _e.endsWith("%")?Number(_e.slice(0,-1))*rt/100:Number(_e)}function convertToPx(_e,rt,at){return at===void 0?0:typeof _e=="number"?at(_e)-at(0):convertString(_e,rt)}function useIsSeriesVisible(_e){const[rt]=useLegend(),at=rt.labels.find(lt=>lt.id===_e);return at?at.isVisible:!0}function useShift(_e){const{axisContext:rt,plotWidth:at,plotHeight:lt}=usePlotContext(),{xAxis:st,yAxis:ct,xShift:ut,yShift:ft}=_e,[dt,pt]=validateAxis(rt,st,ct,{onlyOrthogonal:!0});return{xShift:convertToPx(ut,at,dt),yShift:convertToPx(ft,lt,pt)}}const markersComps={circle:Circle,square:Square,diamond:Diamond,triangle:Triangle,cross:Cross,xmark:XMark,pentagon:Pentagon,star:Star,hexagon:Hexagon},halfPi=Math.PI/2,twoPi=Math.PI*2;function Circle({style:_e,size:rt}){return jsx("circle",{r:rt/2,style:_e})}function Square({style:_e,size:rt}){const at=rt/2;return jsx("rect",{x:-at,y:-at,width:rt,height:rt,style:_e})}function Diamond({size:_e,style:rt}){const at=_e/2;return jsx("polygon",{points:`0,${-at} ${at},0 0,${at} ${-at},0`,style:rt})}function Triangle({style:_e,size:rt}){const at=Math.sqrt(3)*rt/2,lt=rt/2;return jsx("polygon",{transform:`translate(0, -${(rt-at)/2})`,points:`${-lt},${lt} ${lt},${lt} 0,${lt-at}`,style:_e})}function Cross({size:_e,style:rt}){const at=_e/2;return jsxs("g",{strokeWidth:1,style:rt,children:[jsx("line",{x1:0,x2:0,y1:at,y2:-at}),jsx("line",{x1:-at,x2:at,y1:0,y2:0})]})}function XMark(_e){return jsx("g",{transform:"rotate(45)",children:jsx(Cross,{..._e})})}function Pentagon({style:_e,size:rt}){return jsx("polygon",{points:Array.from(getPolyPoints(rt,5)).join(" "),style:_e})}function Star({style:_e,size:rt}){const at=Array.from(getPolyPoints(rt,5,0)),lt=Array.from(getPolyPoints(rt/2.5,5,2*Math.PI/10)),st=[];for(let ct=0;ct<at.length;ct++)st.push(at[ct],lt[ct]);return jsx("polygon",{points:st.join(" "),style:_e})}function Hexagon({style:_e,size:rt}){return jsx("polygon",{points:Array.from(getPolyPoints(rt,6)).join(" "),style:_e})}function*getPolyPoints(_e,rt,at=0){const lt=_e/2;for(let st=0;st<rt;st++){const ct=twoPi*st/rt-halfPi+at,ut=lt*Math.cos(ct),ft=lt*Math.sin(ct);yield`${ut},${ft}`}}function Annotations(_e){return jsx(Fragment,{children:_e.children})}function getInnerOffset(_e,rt,at,lt){return _e||rt?0:getOffsetFromTickPosition(at,lt)}function getOffsetFromTickPosition(_e,rt){switch(_e){case"outer":return 0;case"inner":return rt;case"center":return rt/2;default:throw new Error("unreachable")}}const bboxContext=reactExports.createContext(null);function HorizontalAxisGridLines(_e){const{plotHeight:rt,style:at,primaryTicks:lt,position:st,primaryGrid:ct,secondaryGrid:ut,secondaryStyle:ft,scale:dt}=_e,pt=reactExports.useMemo(()=>{const ht=[];if(ct)for(const{position:gt}of lt)ht.push(jsx("line",{x1:gt,x2:gt,y1:st==="top"?rt:-rt,y2:"0",stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:at},gt));if(ut){const mt=(dt==null?void 0:dt.ticks(lt.length*5))||[];for(const xt of mt){const vt=dt==null?void 0:dt(xt);if(!vt||lt.map(yt=>yt.position).includes(vt))return null;ht.push(jsx("line",{x1:vt,x2:vt,y1:st==="top"?rt:-rt,y2:"0",stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:ft},vt))}}return ht},[st,rt,ct,lt,dt,ut,ft,at]);return jsx("g",{children:pt})}function HorizontalAxisLabel(_e){const{plotWidth:rt,label:at,labelStyle:lt,verticalAlign:st}=_e;return jsx(AlignGroup,{x:rt/2,y:0,horizontalAlign:"middle",verticalAlign:st,children:jsx("text",{textAnchor:"middle",style:lt,children:at})})}function HorizontalAxisLine(_e){const{plotWidth:rt,style:at}=_e;return jsx("line",{x1:0,x2:rt,stroke:"black",style:at})}function Ticks(_e){const{primaryTicks:rt,getPositions:at,secondaryTickLength:lt,scale:st,secondaryTickStyle:ct,style:ut,...ft}=_e,dt=rt.map(ht=>{const{line:gt,text:mt}=at(ht.position);return jsx(Tick,{line:gt,style:ut,text:mt,...ft,children:ht.label},ht.position)});let pt=[];if(lt!==0){const mt=(Math.abs((st==null?void 0:st.range()[1])-(st==null?void 0:st.range()[0]))||0)/rt.length<50?5:10;pt=((st==null?void 0:st.ticks(rt.length*mt))||[]).map(vt=>{if(rt.map($t=>$t.position).includes(st(vt)))return null;const{line:yt,text:_t}=at(st(vt),!0);return jsx(Tick,{line:yt,text:_t,secondary:!0,style:ct,...ft},String(vt))})||[]}return jsxs(Fragment,{children:[pt,dt]})}function Tick(_e){const{line:{x1:rt=0,x2:at=0,y1:lt=0,y2:st=0},text:{x1:ct=0,y1:ut=0},children:ft,strokeColor:dt="black",strokeHeight:pt=1,anchor:ht="end",secondary:gt=!1,labelStyle:mt,style:xt,dominantBaseline:vt="middle"}=_e;return jsxs("g",{children:[jsx("line",{x1:rt,x2:gt&&rt!==at?at*pt:at,y1:lt,y2:gt&&lt!==st?st*pt:st,stroke:dt,strokeWidth:gt?1:1.5,style:xt}),!gt&&jsx("text",{x:ct,y:ut,textAnchor:ht,dominantBaseline:vt,style:mt,children:ft})]})}function HorizontalAxis(_e){const{primaryTickStyle:rt,primaryTickLength:at,tickPosition:lt,hiddenTicks:st,lineStyle:ct,hiddenLine:ut,hidden:ft,plotWidth:dt,plotHeight:pt,displayPrimaryGridLines:ht,displaySecondaryGridLines:gt,primaryGridLineStyle:mt,secondaryGridLineStyle:xt,label:vt,labelStyle:yt,axisRef:_t,primaryTicks:$t,position:Et,tickLabelStyle:wt,innerOffset:bt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}=_e,kt=Et==="bottom",At=0,Ct=kt?`translate(0, ${pt})`:void 0,Mt=useBBoxObserver();function Ot(Bt,Ut=!1){const{y1:dn,y2:Zt,textPosition:cn}=Pt(Ut);return{line:{x1:Bt,x2:Bt,y1:dn,y2:Zt},text:{x1:Bt,y1:kt?cn:-cn}}}function Pt(Bt=!1){const Ut=Bt?St:at,dn=kt?Ut:-Ut;switch(lt){case"center":return{y1:dn/2,y2:-dn/2,textPosition:At+Ut/2};case"inner":return{y1:0,y2:-dn,textPosition:At};case"outer":return{y1:0,y2:dn,textPosition:At+Ut};default:return{y1:0,y:0,textPosition:0}}}const It=ht||gt?jsx(HorizontalAxisGridLines,{position:Et,plotHeight:pt,primaryTicks:$t,style:mt,primaryGrid:ht,secondaryGrid:gt,secondaryStyle:xt,scale:Tt}):null,Ft=!ft&&!st?jsx(Ticks,{anchor:"middle",primaryTicks:$t,getPositions:Ot,labelStyle:wt,style:rt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt,dominantBaseline:kt?"text-before-edge":"text-after-edge"}):null,Wt=!ft&&!ut?jsx(HorizontalAxisLine,{style:ct,plotWidth:dt}):null,Xt=!ft&&vt?jsx(HorizontalAxisLabel,{plotWidth:dt,label:vt,labelStyle:yt,verticalAlign:kt?"start":"end"}):null,Lt=reactExports.useContext(bboxContext);return jsxs("g",{transform:Ct,children:[It,jsxs("g",{ref:Lt,children:[jsx("g",{ref:Mt.ref,children:Ft}),jsx("g",{ref:_t,children:Wt}),jsx("g",{transform:`translate(0, ${(Mt.height-bt)*(kt?1:-1)})`,children:Xt})]})]})}function VerticalAxisGridlines(_e){const{plotWidth:rt,style:at,primaryTicks:lt,position:st,primaryGrid:ct,secondaryGrid:ut,scale:ft,secondaryStyle:dt}=_e,pt=reactExports.useMemo(()=>{const ht=[];if(ct)for(const{position:gt}of lt)ht.push(jsx("line",{x1:"0",x2:st==="left"?rt:-rt,y1:gt,y2:gt,stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:at},gt));if(ut){const mt=(ft==null?void 0:ft.ticks(lt.length*5))||[];for(const xt of mt){const vt=(ft==null?void 0:ft(xt))||0;if(lt.map(yt=>yt.position).includes(vt))return null;ht.push(jsx("line",{x1:"0",x2:st==="left"?rt:-rt,y1:vt,y2:vt,stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:dt},vt))}}return ht},[st,rt,ct,lt,ft,ut,dt,at]);return jsx("g",{children:pt})}function VerticalText(_e){const{transform:rt="",label:at,...lt}=_e;return jsx("text",{...lt,transform:`${rt}rotate(-90)`,textAnchor:"middle",children:at})}function VerticalAxisLabel(_e){const{plotHeight:rt,label:at,labelStyle:lt,horizontalAlign:st}=_e;return jsx(AlignGroup,{x:0,y:rt/2,horizontalAlign:st,verticalAlign:"middle",children:jsx(VerticalText,{label:at,style:lt})})}function VerticalAxisLine(_e){const{plotHeight:rt,style:at}=_e;return jsx("line",{y1:0,y2:rt,stroke:"black",style:at})}function VerticalAxis(_e){const{primaryTickStyle:rt,primaryTickLength:at,tickPosition:lt,hiddenTicks:st,primaryGridLineStyle:ct,lineStyle:ut,hiddenLine:ft,hidden:dt,plotWidth:pt,plotHeight:ht,displayPrimaryGridLines:gt,displaySecondaryGridLines:mt,secondaryGridLineStyle:xt,label:vt,labelStyle:yt,axisRef:_t,primaryTicks:$t,position:Et,tickLabelStyle:wt,innerOffset:bt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}=_e,kt=Et==="right",At=3,Ct=kt?`translate(${pt}, 0)`:void 0,Mt=useBBoxObserver();function Ot(Bt,Ut=!1){const{x1:dn,x2:Zt,textPosition:cn}=Pt(Ut);return{line:{y1:Bt,y2:Bt,x1:dn,x2:Zt},text:{y1:Bt,x1:kt?cn:-cn}}}function Pt(Bt=!1){const Ut=Bt?St:at,dn=kt?Ut:-Ut;switch(lt){case"center":return{x1:dn/2,x2:-dn/2,textPosition:At+Ut/2};case"inner":return{x1:0,x2:-dn,textPosition:At};case"outer":return{x1:0,x2:dn,textPosition:At+Ut};default:return{x1:0,x2:0,textPosition:3}}}const It=gt||mt?jsx(VerticalAxisGridlines,{position:Et,plotWidth:pt,primaryTicks:$t,style:ct,primaryGrid:gt,secondaryGrid:mt,secondaryStyle:xt,scale:Tt}):null,Ft=!dt&&!st?jsx(Ticks,{anchor:kt?"start":"end",primaryTicks:$t,getPositions:Ot,labelStyle:wt,style:rt,secondaryTickLength:St,scale:Tt,secondaryTickStyle:Rt}):null,Wt=!dt&&!ft?jsx(VerticalAxisLine,{style:ut,plotHeight:ht}):null,Xt=!dt&&vt?jsx(VerticalAxisLabel,{plotHeight:ht,label:vt,labelStyle:yt,horizontalAlign:kt?"start":"end"}):null,Lt=reactExports.useContext(bboxContext);return jsxs("g",{transform:Ct,children:[It,jsxs("g",{ref:Lt,children:[jsx("g",{ref:Mt.ref,children:Ft}),jsx("g",{ref:_t,children:Wt}),jsx("g",{transform:`translate(${(Mt.width-bt)*(kt?1:-1)}, 0)`,children:Xt})]})]})}function LinearAxis(_e){const{position:rt,tickLabelFormat:at,scale:lt,...st}=_e,ct=reactExports.useRef(null),ut=rt==="left"||rt==="right"?"vertical":"horizontal",ft=useLinearPrimaryTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:rt,...st})}const LinearAxis$1=reactExports.memo(LinearAxis);function LogAxis(_e){const{position:rt,tickLabelFormat:at,scale:lt,...st}=_e,ct=reactExports.useRef(null),ut=rt==="left"||rt==="right"?"vertical":"horizontal",ft=useLogTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:rt,...st})}const LogAxis$1=reactExports.memo(LogAxis);function TimeAxis(_e){const{position:rt,tickLabelFormat:at,scale:lt,...st}=_e,ct=reactExports.useRef(null),ut=rt==="left"||rt==="right"?"vertical":"horizontal",ft=useTimeTicks(lt,ut,ct,{tickFormat:at});return jsx(ut==="vertical"?VerticalAxis:HorizontalAxis,{scale:lt,axisRef:ct,primaryTicks:ft,position:rt,...st})}const TimeAxis$1=reactExports.memo(TimeAxis);function Axis({id:_e,position:rt,min:at,max:lt,paddingStart:st=0,paddingEnd:ct=0,flip:ut=!1,scale:ft="linear",label:dt,displayPrimaryGridLines:pt=!1,primaryGridLineStyle:ht,displaySecondaryGridLines:gt,secondaryGridLineStyle:mt,labelStyle:xt,hidden:vt=!1,tickLabelStyle:yt,tickLabelFormat:_t=ft==="time"?void 0:String,hiddenLine:$t=!1,lineStyle:Et,hiddenTicks:wt=!1,tickPosition:bt="outer",primaryTickLength:St=5,primaryTickStyle:Tt,secondaryTickLength:Rt=3,secondaryTickStyle:kt}){const At=usePlotDispatchContext(),{axisContext:Ct,plotWidth:Mt,plotHeight:Ot}=usePlotContext(),Pt=["top","bottom"].includes(rt)?"x":"y",It=_e||Pt,Ft=getInnerOffset(vt,wt,bt,St);reactExports.useEffect(()=>(At({type:"addAxis",payload:{id:It,position:rt,min:at,max:lt,paddingStart:st,paddingEnd:ct,flip:ut,scale:ft,innerOffset:Ft,tickLabelFormat:_t}}),()=>At({type:"removeAxis",payload:{id:It}})),[At,ut,Ft,lt,at,ct,st,rt,ft,It,_t]);const Wt=Ct[It];if(!Wt)return null;const Xt={hidden:vt,plotWidth:Mt,plotHeight:Ot,displayPrimaryGridLines:pt,label:dt,labelStyle:xt,tickLabelStyle:yt,position:rt,hiddenLine:$t,primaryGridLineStyle:ht,displaySecondaryGridLines:gt,secondaryGridLineStyle:mt,lineStyle:Et,hiddenTicks:wt,tickPosition:bt,primaryTickLength:St,primaryTickStyle:Tt,innerOffset:Ft,secondaryTickLength:Rt,secondaryTickStyle:kt};return ft==="linear"?jsx(LinearAxis$1,{...Xt,tickLabelFormat:_t,scale:Wt.scale}):ft==="time"?jsx(TimeAxis$1,{...Xt,tickLabelFormat:_t,scale:Wt.scale}):jsx(LogAxis$1,{...Xt,tickLabelFormat:_t,scale:Wt.scale})}function parallelPosition(_e){switch(_e){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left";default:throw new Error(`Unknown position ${_e}`)}}function ParallelAxis(_e){const{id:rt,hidden:at=!1,primaryTickLength:lt=5,secondaryTickLength:st=3,tickPosition:ct="outer",hiddenLine:ut=!1,hiddenTicks:ft=!1,tickLabelFormat:dt,...pt}=_e,{axisContext:ht,plotWidth:gt,plotHeight:mt}=usePlotContext(),xt=getInnerOffset(at,ft,ct,lt),vt=ht[rt];if(!vt)return null;const yt=parallelPosition(vt.position),{type:_t,scale:$t,tickLabelFormat:Et}=vt,wt=dt??Et,bt={plotWidth:gt,plotHeight:mt,position:yt,displayPrimaryGridLines:!1,hidden:at,primaryTickLength:lt,tickPosition:ct,hiddenLine:ut,hiddenTicks:ft,innerOffset:xt,secondaryTickLength:st,...pt};return _t==="linear"?jsx(LinearAxis$1,{...bt,tickLabelFormat:wt,scale:$t}):_t==="time"?jsx(TimeAxis$1,{...bt,tickLabelFormat:wt,scale:$t}):jsx(LogAxis$1,{...bt,tickLabelFormat:wt,scale:$t})}function Heading({title:_e,titleStyle:rt,titleClass:at,subtitle:lt,subtitleStyle:st,subtitleClass:ct,position:ut="top"}){const{width:ft,height:dt}=usePlotContext(),pt=usePlotDispatchContext(),ht={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"16px",fontWeight:"bold"},gt={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"14px",color:"gray"},mt=useBBoxObserver();return reactExports.useEffect(()=>(pt({type:"addHeading",payload:{position:ut}}),()=>pt({type:"removeHeading"})),[pt,ut]),jsxs(AlignGroup,{x:ft/2,y:ut==="top"?0:dt,horizontalAlign:"middle",verticalAlign:ut==="top"?"start":"end",children:[jsx("text",{ref:mt.ref,style:{...ht,...rt},className:at,children:_e}),lt&&jsx("text",{transform:`translate(0, ${mt.height})`,style:{...gt,...st},className:ct,children:lt})]})}Heading.defaultProps={position:"top"};const legendOffsetContext=reactExports.createContext(0);function exclusiveProps(_e,rt,at,lt){if(_e[rt]!==void 0){if(_e[at]!==void 0)throw new Error(`${rt} and ${at} should't be both defined for the position ${lt}`);return{key:rt,value:_e[rt]}}return _e[at]!==void 0?{key:at,value:_e[at]}:{}}function translation(_e,rt,at,lt,st){switch(_e){case"embedded":{const{key:ct="top",value:ut=10}=exclusiveProps(rt,"top","bottom",_e),{key:ft="left",value:dt=10}=exclusiveProps(rt,"left","right",_e),pt=ft==="right"?at-dt:dt,ht=ct==="bottom"?lt-ut:ut;return{x:pt,y:ht,horizontalAlign:ft==="left"?"start":"end",verticalAlign:ct==="top"?"start":"end"}}case"top":{const{value:ct=at/2}=exclusiveProps(rt,"left","right",_e),ut=ct,ft=-(rt.bottom||0)-st;return{x:ut,y:ft,horizontalAlign:"middle",verticalAlign:"end"}}case"right":{const{key:ct="top",value:ut=lt/2}=exclusiveProps(rt,"top","bottom",_e),ft=ct==="bottom"?-ut:ut;return{x:at+(rt.left||0)+st,y:ft,horizontalAlign:"start",verticalAlign:"middle"}}case"bottom":{const{value:ct=at/2}=exclusiveProps(rt,"left","right",_e),ut=ct,ft=lt+(rt.top||0)+st;return{x:ut,y:ft,horizontalAlign:"middle",verticalAlign:"start"}}case"left":{const{key:ct="top",value:ut=lt/2}=exclusiveProps(rt,"top","bottom",_e),ft=ct==="bottom"?-ut:ut;return{x:-(rt.right||0)-st,y:ft,horizontalAlign:"end",verticalAlign:"middle"}}default:throw new Error(`Position ${JSON.stringify(_e)} unknown`)}}function Legend(_e){const{position:rt="embedded",margin:at=10,onClick:lt,lineStyle:st={},showHide:ct=!1,labelStyle:ut={},...ft}=_e,{plotWidth:dt,plotHeight:pt}=usePlotContext(),ht=usePlotDispatchContext(),[gt,mt]=useLegend(),xt=reactExports.useContext(legendOffsetContext),vt=reactExports.useMemo(()=>translation(rt,ft,dt,pt,xt),[rt,ft,dt,pt,xt]);reactExports.useEffect(()=>(ht({type:"addLegend",payload:{position:rt,margin:at}}),()=>ht({type:"removeLegend"})),[ht,rt,at]);function yt(_t,$t){lt==null||lt({event:_t,id:$t}),ct&&mt({type:"TOGGLE_VISIBILITY",payload:{id:$t}})}return jsx(AlignGroup,{...vt,children:gt.labels.map((_t,$t)=>{const Et=functionalStyle({fontSize:"16px"},ut,{id:_t.id}),wt=functionalStyle({},st,{id:_t.id}),bt=Number.parseInt(String(Et.fontSize),10),St=10,Tt=$t*bt+bt/2+3;if(_t.range)return jsxs("g",{onClick:kt=>yt(kt,_t.id),transform:`translate(${St}, 0)`,style:{opacity:_t.isVisible?"1":"0.6"},children:[getRangeShape({index:$t,rangeColor:_t.range.rangeColor,lineColor:_t.colorLine,style:wt,height:bt}),jsx("text",{style:Et,x:30,y:`${($t+1)*bt}`,children:_t.label})]},$t);let Rt;return _t.shape&&(Rt=markersComps[_t.shape.figure]),jsxs("g",{onClick:kt=>yt(kt,_t.id),transform:`translate(${St}, 0)`,style:{opacity:_t.isVisible?"1":"0.6"},children:[getLineShape({index:$t,color:_t.colorLine,style:wt,height:bt}),jsx("g",{transform:`translate(${St-1}, ${Tt})`,children:_t.shape&&Rt&&!_t.shape.hidden&&jsx(Rt,{size:10,style:{fill:_t.shape.color}})}),jsx("text",{style:Et,x:30,y:`${($t+1)*bt}`,children:_t.label})]},$t)})})}function getLineShape(_e){const{index:rt,color:at,style:lt={},height:st=16}=_e,ct=0,{strokeWidth:ut="2px"}=lt,ft=rt*st+st/2+3;return jsx("line",{x1:ct,x2:ct+20,y1:ft,y2:ft,stroke:at,style:{...lt,strokeWidth:ut}})}function getRangeShape(_e){const{index:rt,rangeColor:at,lineColor:lt,style:st={},height:ct=16}=_e,{strokeWidth:ut="15px"}=st,ft=Number.parseInt(ut==null?void 0:ut.toString(),10)/5,dt=0,pt=rt*ct+ct/2-ft;return jsxs("g",{transform:`translate(${dt}, ${pt})`,children:[jsx("rect",{width:"20",height:ft*3,fill:at}),jsx("line",{style:st,x1:0,y:0,x2:20,y2:0,stroke:lt,strokeWidth:ft}),jsx("line",{style:st,x1:0,y1:ft*3,x2:20,y2:ft*3,stroke:lt,strokeWidth:ft})]})}function ErrorBars(_e){const{xAxis:rt="x",yAxis:at="y",data:lt,hidden:st,transform:ct,...ut}=_e,{axisContext:ft}=usePlotContext(),[dt,pt]=validateAxis(ft,rt,at),ht=reactExports.useMemo(()=>st||dt===void 0||pt===void 0?null:lt.map((mt,xt)=>{const vt=validateSeriesPointError(mt.xError),yt=validateSeriesPointError(mt.yError);return jsx(PointBars,{origin:{x:dt(mt.x),y:pt(mt.y)},bottom:yt?pt(mt.y-(yt[0]||0)):null,top:yt?pt(mt.y+(yt[1]||0)):null,left:vt?dt(mt.x-(vt[0]||0)):null,right:vt?dt(mt.x+(vt[1]||0)):null,...ut},`ErrorBars-${xt}`)}),[lt,dt,pt,st,ut]);return jsx("g",{transform:ct,children:ht})}function PointBars(_e){const{origin:rt,top:at,bottom:lt,left:st,right:ct,style:ut,capSize:ft=10,capStyle:dt}=_e,pt="black";return jsxs("g",{children:[at!=null&&jsxs("g",{children:[jsx("line",{x1:rt.x,x2:rt.x,y1:rt.y,y2:at,stroke:pt,...ut}),jsx("line",{x1:rt.x-ft/2,x2:rt.x+ft/2,y1:at,y2:at,stroke:pt,...ut,...dt})]}),lt!=null&&jsxs("g",{children:[jsx("line",{x1:rt.x,x2:rt.x,y1:rt.y,y2:lt,stroke:pt,...ut}),jsx("line",{x1:rt.x-ft/2,x2:rt.x+ft/2,y1:lt,y2:lt,stroke:pt,...ut,...dt})]}),st!=null&&jsxs("g",{children:[jsx("line",{x1:rt.x,x2:st,y1:rt.y,y2:rt.y,stroke:pt,...ut}),jsx("line",{x1:st,x2:st,y1:rt.y-ft/2,y2:rt.y+ft/2,stroke:pt,...ut,...dt})]}),ct!=null&&jsxs("g",{children:[jsx("line",{x1:rt.x,x2:ct,y1:rt.y,y2:rt.y,stroke:pt,...ut}),jsx("line",{x1:ct,x2:ct,y1:rt.y-ft/2,y2:rt.y+ft/2,stroke:pt,...ut,...dt})]})]})}function ScatterSeries(_e){const rt=usePlotDispatchContext(),{colorScaler:at}=usePlotContext(),[,lt]=useLegend(),st=useId(_e.id,"series"),{xAxis:ct="x",yAxis:ut="y",data:ft,label:dt,hidden:pt,displayErrorBars:ht=!1,xShift:gt=0,yShift:mt=0,...xt}=_e,{markerShape:vt="circle",markerStyle:yt={},errorBarsStyle:_t,errorBarsCapStyle:$t,errorBarsCapSize:Et}=xt,wt=useIsSeriesVisible(st),{xShift:bt,yShift:St}=useShift({xAxis:ct,yAxis:ut,xShift:gt,yShift:mt}),Tt=`translate(${bt},${St})`;if(reactExports.useEffect(()=>{var At;if(!pt)return lt({type:"ADD_LEGEND_LABEL",payload:{id:st,label:dt,colorLine:"white",shape:{color:((At=yt==null?void 0:yt.fill)===null||At===void 0?void 0:At.toString())||at(st),figure:typeof vt=="string"?vt:"circle",hidden:!1}}}),()=>lt({type:"REMOVE_LEGEND_LABEL",payload:{id:st}})},[at,pt,st,dt,lt,vt,yt==null?void 0:yt.fill]),reactExports.useEffect(()=>{const[At,Ct]=extent$1(ft,Ft=>Ft.x),[Mt,Ot]=extent$1(ft,Ft=>Ft.y);return rt({type:"addSeries",payload:{id:st,x:{min:At,max:Ct,axisId:ct,shift:gt},y:{min:Mt,max:Ot,axisId:ut,shift:mt},label:dt,data:ft}}),()=>rt({type:"removeSeries",payload:{id:st}})},[rt,st,ft,ct,ut,dt,gt,mt]),pt)return null;const Rt={data:ft,xAxis:ct,yAxis:ut};return wt?jsxs("g",{children:[jsx(ErrorBars,{...Rt,...{hidden:!ht,style:_t,capStyle:$t,capSize:Et,transform:Tt}}),jsx(ScatterSeriesRender,{...xt,...Rt,id:st,transform:Tt})]}):null}function ScatterSeriesRender({id:_e,data:rt,xAxis:at,yAxis:lt,markerShape:st="circle",markerSize:ct=8,markerStyle:ut={},pointLabel:ft="",pointLabelStyle:dt={},displayMarkers:pt=!0,lineStyle:ht={},displayLines:gt=!1,transform:mt}){const{axisContext:xt,colorScaler:vt}=usePlotContext(),[yt,_t]=validateAxis(xt,at,lt),$t=reactExports.useMemo(()=>{if(yt===void 0||_t===void 0)return null;const Et=vt(_e),wt={fill:Et,stroke:Et};return rt.map((St,Tt)=>{const Rt=functionalStyle(wt,ut,St,Tt,rt),kt=markersComps[functionalShape(st,St,Tt,rt)],At=functionalLabel(ft,St,Tt,rt),Ct=functionalStyle({},dt,St,Tt,rt),Mt=[];if(gt){const Ot=functionalStyle({},ht,St,Tt,rt),Pt=Tt>0?middlePoint(St,rt[Tt-1]):void 0,It=rt[Tt+1]?middlePoint(St,rt[Tt+1]):void 0,Ft=Pt?jsx("line",{x1:0,y1:0,x2:yt(Pt.x)-yt(St.x),y2:_t(Pt.y)-_t(St.y),style:{stroke:Rt.fill,...Ot}},`markers-${Tt}-previous`):null,Wt=It?jsx("line",{x1:0,y1:0,x2:yt(It.x)-yt(St.x),y2:_t(It.y)-_t(St.y),style:{stroke:Rt.fill,...Ot}},`markers-${Tt}-next`):null;Mt.push(Ft,Wt)}return jsxs("g",{transform:`translate(${yt(St.x)}, ${_t(St.y)})`,children:[Mt,pt?jsx(kt,{size:ct,style:{stroke:Rt.fill,...Rt}}):null,At?jsx("text",{style:Ct,children:At}):null]},`markers-${Tt}`)})},[yt,_t,vt,_e,rt,ut,st,ft,dt,ht,gt,pt,ct]);return $t?jsx("g",{transform:mt,className:"markers",children:$t}):null}function BarSeries(_e){var rt;const[,at]=useLegend(),{colorScaler:lt}=usePlotContext(),st=useId(_e.id,"series"),{lineStyle:ct={},displayMarkers:ut=!1,hidden:ft,...dt}=_e,{xAxis:pt="x",yAxis:ht="y",xShift:gt="0",yShift:mt="0",pointLabel:xt,displayErrorBars:vt,label:yt,markerStyle:_t,markerShape:$t}=dt,{xShift:Et,yShift:wt}=useShift({xAxis:pt,yAxis:ht,xShift:gt,yShift:mt}),bt={id:st,data:_e.data,xAxis:pt,yAxis:ht,lineStyle:functionalStyle({},ct,{id:st}),transform:`translate(${Et},${wt})`},St=ct!=null&&ct.stroke?ct==null?void 0:ct.stroke.toString():lt(st),Tt=((rt=_t==null?void 0:_t.fill)===null||rt===void 0?void 0:rt.toString())||lt(st),Rt=$t||"circle",kt=reactExports.useMemo(()=>({color:Tt,figure:Rt,hidden:!ut}),[Tt,ut,Rt]),At=useIsSeriesVisible(st);return reactExports.useEffect(()=>{if(!ft)return at({type:"ADD_LEGEND_LABEL",payload:{id:st,label:yt,colorLine:St,shape:kt}}),()=>at({type:"REMOVE_LEGEND_LABEL",payload:{id:st}})},[St,at,yt,kt,st,ft]),ft?null:jsxs("g",{children:[At&&jsx(BarSeriesRender,{...bt}),jsx(ScatterSeries,{...dt,hidden:!ut&&!xt&&!vt,displayMarkers:ut,id:st})]})}function BarSeriesRender({id:_e,data:rt,xAxis:at,yAxis:lt,lineStyle:st,transform:ct}){const{axisContext:ut,colorScaler:ft}=usePlotContext(),[dt,pt]=validateAxis(ut,at,lt),ht=ft(_e);if(dt===void 0||pt===void 0)return null;const gt={stroke:ht,strokeWidth:2,...st};return jsx("g",{transform:ct,children:rt.map(({x:mt,y:xt})=>jsx("line",{style:gt,x1:dt(mt),x2:dt(mt),y1:pt(xt),y2:pt(0)},`${mt}-${xt}`))})}function constant(_e){return function(){return _e}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let rt=1,at=_e.length;rt<at;++rt)this._+=arguments[rt]+_e[rt]}function appendRound(_e){let rt=Math.floor(_e);if(!(rt>=0))throw new Error(`invalid digits: ${_e}`);if(rt>15)return append;const at=10**rt;return function(lt){this._+=lt[0];for(let st=1,ct=lt.length;st<ct;++st)this._+=Math.round(arguments[st]*at)/at+lt[st]}}class Path{constructor(rt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=rt==null?append:appendRound(rt)}moveTo(rt,at){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+at}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(rt,at){this._append`L${this._x1=+rt},${this._y1=+at}`}quadraticCurveTo(rt,at,lt,st){this._append`Q${+rt},${+at},${this._x1=+lt},${this._y1=+st}`}bezierCurveTo(rt,at,lt,st,ct,ut){this._append`C${+rt},${+at},${+lt},${+st},${this._x1=+ct},${this._y1=+ut}`}arcTo(rt,at,lt,st,ct){if(rt=+rt,at=+at,lt=+lt,st=+st,ct=+ct,ct<0)throw new Error(`negative radius: ${ct}`);let ut=this._x1,ft=this._y1,dt=lt-rt,pt=st-at,ht=ut-rt,gt=ft-at,mt=ht*ht+gt*gt;if(this._x1===null)this._append`M${this._x1=rt},${this._y1=at}`;else if(mt>epsilon)if(!(Math.abs(gt*dt-pt*ht)>epsilon)||!ct)this._append`L${this._x1=rt},${this._y1=at}`;else{let xt=lt-ut,vt=st-ft,yt=dt*dt+pt*pt,_t=xt*xt+vt*vt,$t=Math.sqrt(yt),Et=Math.sqrt(mt),wt=ct*Math.tan((pi-Math.acos((yt+mt-_t)/(2*$t*Et)))/2),bt=wt/Et,St=wt/$t;Math.abs(bt-1)>epsilon&&this._append`L${rt+bt*ht},${at+bt*gt}`,this._append`A${ct},${ct},0,0,${+(gt*xt>ht*vt)},${this._x1=rt+St*dt},${this._y1=at+St*pt}`}}arc(rt,at,lt,st,ct,ut){if(rt=+rt,at=+at,lt=+lt,ut=!!ut,lt<0)throw new Error(`negative radius: ${lt}`);let ft=lt*Math.cos(st),dt=lt*Math.sin(st),pt=rt+ft,ht=at+dt,gt=1^ut,mt=ut?st-ct:ct-st;this._x1===null?this._append`M${pt},${ht}`:(Math.abs(this._x1-pt)>epsilon||Math.abs(this._y1-ht)>epsilon)&&this._append`L${pt},${ht}`,lt&&(mt<0&&(mt=mt%tau+tau),mt>tauEpsilon?this._append`A${lt},${lt},0,1,${gt},${rt-ft},${at-dt}A${lt},${lt},0,1,${gt},${this._x1=pt},${this._y1=ht}`:mt>epsilon&&this._append`A${lt},${lt},0,${+(mt>=pi)},${gt},${this._x1=rt+lt*Math.cos(ct)},${this._y1=at+lt*Math.sin(ct)}`)}rect(rt,at,lt,st){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+at}h${lt=+lt}v${+st}h${-lt}Z`}toString(){return this._}}function withPath(_e){let rt=3;return _e.digits=function(at){if(!arguments.length)return rt;if(at==null)rt=null;else{const lt=Math.floor(at);if(!(lt>=0))throw new RangeError(`invalid digits: ${at}`);rt=lt}return _e},()=>new Path(rt)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,rt){switch(_e=+_e,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,rt):this._context.moveTo(_e,rt);break;case 1:this._point=2;default:this._context.lineTo(_e,rt);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function line(_e,rt){var at=constant(!0),lt=null,st=curveLinear,ct=null,ut=withPath(ft);_e=typeof _e=="function"?_e:_e===void 0?x:constant(_e),rt=typeof rt=="function"?rt:rt===void 0?y:constant(rt);function ft(dt){var pt,ht=(dt=array(dt)).length,gt,mt=!1,xt;for(lt==null&&(ct=st(xt=ut())),pt=0;pt<=ht;++pt)!(pt<ht&&at(gt=dt[pt],pt,dt))===mt&&((mt=!mt)?ct.lineStart():ct.lineEnd()),mt&&ct.point(+_e(gt,pt,dt),+rt(gt,pt,dt));if(xt)return ct=null,xt+""||null}return ft.x=function(dt){return arguments.length?(_e=typeof dt=="function"?dt:constant(+dt),ft):_e},ft.y=function(dt){return arguments.length?(rt=typeof dt=="function"?dt:constant(+dt),ft):rt},ft.defined=function(dt){return arguments.length?(at=typeof dt=="function"?dt:constant(!!dt),ft):at},ft.curve=function(dt){return arguments.length?(st=dt,lt!=null&&(ct=st(lt)),ft):st},ft.context=function(dt){return arguments.length?(dt==null?lt=ct=null:ct=st(lt=dt),ft):lt},ft}function area(_e,rt,at){var lt=null,st=constant(!0),ct=null,ut=curveLinear,ft=null,dt=withPath(pt);_e=typeof _e=="function"?_e:_e===void 0?x:constant(+_e),rt=typeof rt=="function"?rt:constant(rt===void 0?0:+rt),at=typeof at=="function"?at:at===void 0?y:constant(+at);function pt(gt){var mt,xt,vt,yt=(gt=array(gt)).length,_t,$t=!1,Et,wt=new Array(yt),bt=new Array(yt);for(ct==null&&(ft=ut(Et=dt())),mt=0;mt<=yt;++mt){if(!(mt<yt&&st(_t=gt[mt],mt,gt))===$t)if($t=!$t)xt=mt,ft.areaStart(),ft.lineStart();else{for(ft.lineEnd(),ft.lineStart(),vt=mt-1;vt>=xt;--vt)ft.point(wt[vt],bt[vt]);ft.lineEnd(),ft.areaEnd()}$t&&(wt[mt]=+_e(_t,mt,gt),bt[mt]=+rt(_t,mt,gt),ft.point(lt?+lt(_t,mt,gt):wt[mt],at?+at(_t,mt,gt):bt[mt]))}if(Et)return ft=null,Et+""||null}function ht(){return line().defined(st).curve(ut).context(ct)}return pt.x=function(gt){return arguments.length?(_e=typeof gt=="function"?gt:constant(+gt),lt=null,pt):_e},pt.x0=function(gt){return arguments.length?(_e=typeof gt=="function"?gt:constant(+gt),pt):_e},pt.x1=function(gt){return arguments.length?(lt=gt==null?null:typeof gt=="function"?gt:constant(+gt),pt):lt},pt.y=function(gt){return arguments.length?(rt=typeof gt=="function"?gt:constant(+gt),at=null,pt):rt},pt.y0=function(gt){return arguments.length?(rt=typeof gt=="function"?gt:constant(+gt),pt):rt},pt.y1=function(gt){return arguments.length?(at=gt==null?null:typeof gt=="function"?gt:constant(+gt),pt):at},pt.lineX0=pt.lineY0=function(){return ht().x(_e).y(rt)},pt.lineY1=function(){return ht().x(_e).y(at)},pt.lineX1=function(){return ht().x(lt).y(rt)},pt.defined=function(gt){return arguments.length?(st=typeof gt=="function"?gt:constant(!!gt),pt):st},pt.curve=function(gt){return arguments.length?(ut=gt,ct!=null&&(ft=ut(ct)),pt):ut},pt.context=function(gt){return arguments.length?(gt==null?ct=ft=null:ft=ut(ct=gt),pt):ct},pt}function LineSeriesInner(_e){const[,rt]=useLegend(),{colorScaler:at}=usePlotContext(),lt=useId(_e.id,"series"),{lineStyle:st={},displayMarkers:ct=!1,hidden:ut,...ft}=_e,{xAxis:dt="x",yAxis:pt="y",xShift:ht="0",yShift:gt="0",pointLabel:mt,displayErrorBars:xt,label:vt,markerStyle:yt,markerShape:_t}=ft,{xShift:$t,yShift:Et}=useShift({xAxis:dt,yAxis:pt,xShift:ht,yShift:gt}),wt=functionalStyle({},st,{id:lt}),bt=useIsSeriesVisible(lt);if(reactExports.useEffect(()=>{var Tt,Rt;if(!ut)return rt({type:"ADD_LEGEND_LABEL",payload:{id:lt,label:vt,colorLine:((Tt=wt==null?void 0:wt.stroke)===null||Tt===void 0?void 0:Tt.toString())||at(lt),shape:{color:((Rt=yt==null?void 0:yt.fill)===null||Rt===void 0?void 0:Rt.toString())||at(lt),figure:_t||"circle",hidden:!ct}}}),()=>rt({type:"REMOVE_LEGEND_LABEL",payload:{id:lt}})},[ut,at,ct,lt,rt,wt==null?void 0:wt.stroke,vt,_t,yt==null?void 0:yt.fill]),ut)return null;const St={id:lt,data:_e.data,xAxis:dt,yAxis:pt,lineStyle:wt,transform:`translate(${$t},${Et})`};return jsxs("g",{children:[bt&&jsx(LineSeriesRender,{...St}),jsx(ScatterSeries,{...ft,hidden:!ct&&!mt&&!xt,displayMarkers:ct,id:lt})]})}const LineSeries=reactExports.memo(LineSeriesInner);function LineSeriesRender({id:_e,data:rt,xAxis:at,yAxis:lt,lineStyle:st,transform:ct}){const{axisContext:ut,colorScaler:ft}=usePlotContext(),[dt,pt]=validateAxis(ut,at,lt),ht=ft(_e),gt=reactExports.useMemo(()=>dt===void 0||pt===void 0?null:line().x(vt=>dt(vt.x)).y(vt=>pt(vt.y))(rt),[rt,dt,pt]);if(!gt)return null;const mt={stroke:ht,strokeWidth:2,...st};return jsx("path",{transform:ct,style:mt,d:gt,fill:"none"})}function FunctionSeries(_e){const{getY:rt,xAxis:at="x",id:lt,...st}=_e,ct=`~${useId(lt,"series")}`,{axisContext:ut,plotWidth:ft,plotHeight:dt}=usePlotContext(),pt=ut[at],ht=1,gt=reactExports.useMemo(()=>{const mt=[];if(pt){const vt=(pt?pt.position==="top"||pt.position==="bottom":!1)?ft:dt,yt=pt.scale;for(let _t=0;_t<=vt;_t+=ht){const $t=toNumber(yt.invert(_t));mt.push({x:$t,y:rt($t)})}return mt}return[{x:0,y:0}]},[pt==null?void 0:pt.domain[0],pt==null?void 0:pt.domain[1]]);return jsx(LineSeries,{data:gt,id:ct,...st})}function RangeSeriesInner(_e){const rt=useId(_e.id,"series"),[,at]=useLegend(),{colorScaler:lt}=usePlotContext(),{lineStyle:st={fill:lt(rt),fillOpacity:.5},hidden:ct,xAxis:ut="x",yAxis:ft="y",data:dt,label:pt,xShift:ht="0",yShift:gt="0"}=_e,{xShift:mt,yShift:xt}=useShift({xAxis:ut,yAxis:ft,xShift:ht,yShift:gt}),vt=usePlotDispatchContext();reactExports.useEffect(()=>{const[$t,Et]=extent$1(dt,At=>At.x),[wt,bt]=extent$1(dt,At=>At.y1),[St,Tt]=extent$1(dt,At=>At.y2),Rt={min:$t,max:Et,shift:ht,axisId:ut},kt={min:Math.min(wt,St),max:Math.max(bt,Tt),shift:gt,axisId:ft};return vt({type:"addSeries",payload:{id:rt,x:Rt,y:kt,label:pt}}),()=>vt({type:"removeSeries",payload:{id:rt}})},[vt,rt,dt,ut,ft,pt,ht,gt]);const yt=useIsSeriesVisible(rt);if(reactExports.useEffect(()=>{if(!ct)return at({type:"ADD_LEGEND_LABEL",payload:{id:rt,label:pt,colorLine:st.stroke,range:{rangeColor:st.fill||"none"}}}),()=>at({type:"REMOVE_LEGEND_LABEL",payload:{id:rt}})},[pt,at,st.fill,st.stroke,rt,ct]),ct)return null;const _t={id:rt,data:dt,xAxis:ut,yAxis:ft,lineStyle:st,transform:`translate(${mt},${xt})`};return yt?jsx(RangeSeriesRender,{..._t}):null}const RangeSeries=reactExports.memo(RangeSeriesInner);function RangeSeriesRender({data:_e,xAxis:rt,yAxis:at,lineStyle:lt,transform:st}){const{axisContext:ct}=usePlotContext(),[ut,ft]=validateAxis(ct,rt,at),dt=reactExports.useMemo(()=>ut===void 0||ft===void 0?null:area().x(gt=>ut(gt.x)).y0(gt=>ft(gt.y1)).y1(gt=>ft(gt.y2))(_e),[_e,ut,ft]);if(!dt)return null;const pt={strokeWidth:2,...lt};return jsx("path",{transform:st,style:pt,d:dt,fill:"none"})}function Series(_e){return jsx(Fragment,{children:_e.children})}function splitChildren(_e){let rt=null,at=null,lt=null,st=null,ct=[],ut=null,ft=null,dt=[],pt=[];for(let ht of reactExports.Children.toArray(_e)){if(typeof ht!="object"||!reactExports.isValidElement(ht))throw console.error("Invalid Plot child:",ht),new Error("invalid Plot child");if(ht.type===Series||ht.type===FunctionSeries||ht.type===LineSeries||ht.type===ScatterSeries||ht.type===RangeSeries||ht.type===BarSeries)dt.push(ht);else if(ht.type===Annotations)pt.push(ht);else if(ht.type===Axis)switch(ht.props.position){case"top":{if(rt!==null)throw new Error("Plot can only have one top axis");rt=ht;break}case"right":{if(at!==null)throw new Error("Plot can only have one right axis");at=ht;break}case"bottom":{if(lt!==null)throw new Error("Plot can only have one bottom axis");lt=ht;break}case"left":{if(st!==null)throw new Error("Plot can only have one left axis");st=ht;break}default:throw new Error("unreachable")}else if(ht.type===ParallelAxis){if(ct.length===2)throw new Error("Plot can have at most two parallel axes");ct.push(ht)}else if(ht.type===Heading){if(ut!==null)throw new Error("Plot can only have one Heading element");ut=ht}else if(ht.type===Legend){if(ft!==null)throw new Error("Plot can only have one Legend element");ft=ht}else throw console.error("Invalid Plot child:",ht),new Error("invalid plot child")}!lt&&!rt&&(lt=jsx(Axis,{position:"bottom"})),!st&&!at&&(st=jsx(Axis,{position:"left"}));for(const ht of ct){const gt=ht.props.id;if((rt==null?void 0:rt.props.id)===gt){if(lt!==null)throw new Error("Plot can only have one bottom axis");lt=ht}if((at==null?void 0:at.props.id)===gt){if(st!==null)throw new Error("Plot can only have one left axis");st=ht}if((lt==null?void 0:lt.props.id)===gt){if(rt!==null)throw new Error("Plot can only have one top axis");rt=ht}if((st==null?void 0:st.props.id)===gt){if(at!==null)throw new Error("Plot can only have one right axis");at=ht}}return{topAxis:rt,rightAxis:at,bottomAxis:lt,leftAxis:st,heading:ut,legend:ft,series:dt,annotations:pt}}function usePlotSizes({width:_e,height:rt,margin:at,axes:lt,topAxisHeight:st,rightAxisWidth:ct,bottomAxisHeight:ut,leftAxisWidth:ft,headingPosition:dt,headingHeight:pt,legendPosition:ht,legendMargin:gt,legendWidth:mt,legendHeight:xt}){const{top:vt=0,right:yt=0,bottom:_t=0,left:$t=0}=at;return reactExports.useMemo(()=>{const Et=axesToOffsets(lt),wt=st-Et.top,bt=ct-Et.right,St=ut-Et.bottom,Tt=ft-Et.left;let Rt=_e-$t-Tt-yt-bt,kt=rt-vt-pt-wt-_t-St,At=$t+Tt,Ct=vt+wt;dt==="top"&&(Ct+=pt);const Mt=xt+gt,Ot=mt+gt;let Pt=0;switch(ht){case"top":kt-=Mt,Ct+=Mt,Pt=wt+gt;break;case"right":Rt-=Ot,Pt=bt+gt;break;case"bottom":kt-=Mt,Pt=St+gt;break;case"left":Rt-=Ot,At+=Ot,Pt=Tt+gt;break}return{plotWidth:Rt,plotHeight:kt,leftOffset:At,topOffset:Ct,legendOffset:Pt}},[_e,rt,vt,yt,_t,$t,st,ct,ut,ft,dt,pt,ht,gt,mt,xt,lt])}function axesToOffsets(_e){const rt={top:0,right:0,bottom:0,left:0};for(const at of Object.values(_e))rt[at.position]=at.innerOffset;return rt}const HORIZONTAL=new Set(["bottom","top"]);function infoFromEvent(_e,rt,at,lt){const{clientX:st,clientY:ct,movementX:ut,movementY:ft}=_e,{left:dt,top:pt}=lt.getBoundingClientRect(),ht=st-dt,gt=ct-pt,mt={},xt={},vt={},yt={};for(const _t in rt){const{scale:$t,clampInDomain:Et,position:wt,domain:bt}=rt[_t];HORIZONTAL.has(wt)?(mt[_t]=toNumber($t.invert(ht)),yt[_t]=toNumber($t.invert(ut))-bt[0]):(mt[_t]=toNumber($t.invert(gt)),yt[_t]=toNumber($t.invert(ft))-bt[1]),xt[_t]=Et(mt[_t]),vt[_t]=bt}return{event:_e,coordinates:mt,clampedCoordinates:xt,movement:yt,getClosest(_t){return closestCalculation(_t,{x:ht,y:gt},at,rt)},domains:vt}}function closestCalculation(_e,rt,at,lt){let st={};switch(_e){case"x":{for(const{id:ct,x:ut,data:ft,label:dt}of at)if(ft){const pt=closestPoint(ft,rt,(ht,gt)=>{const{scale:mt}=lt[ut.axisId],xt=gt[ut.axisId];return Math.abs(mt(ht.x)-xt)});st[ct]={point:pt,label:dt,axis:lt[ut.axisId]}}break}case"y":{for(const{id:ct,y:ut,data:ft,label:dt}of at)if(ft){const pt=closestPoint(ft,rt,(ht,gt)=>{const{scale:mt}=lt[ut.axisId],xt=gt[ut.axisId];return Math.abs(mt(ht.y)-xt)});st[ct]={point:pt,label:dt,axis:lt[ut.axisId]}}break}case"euclidean":{for(const{id:ct,x:ut,y:ft,data:dt,label:pt}of at)if(dt){const ht=closestPoint(dt,rt,(gt,mt)=>{const{scale:xt}=lt[ut.axisId],{scale:vt}=lt[ft.axisId],yt=mt[ut.axisId],_t=mt[ft.axisId];return euclidean([xt(gt.x),vt(gt.y)],[yt,_t])});st[ct]={point:ht,label:pt,axis:{x:lt[ut.axisId],y:lt[ft.axisId]}}}break}default:throw new Error(`Unknown distance name: ${_e}`)}return st}const nativeEventMap={pointerenter:"onPointerEnter",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerleave:"onPointerLeave",click:"onClick",dblclick:"onDoubleClick",wheel:"onWheel"},nativeEventNames=["pointerenter","pointerdown","pointermove","pointerup","pointerleave","click","dblclick","wheel"],globalNativeEventNames=["pointermove","pointerup"];function Tracking({plotId:_e,plotEvents:rt,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct}){const ut=reactExports.useRef(null),ft=reactExports.useRef({plotId:_e,plotEvents:rt,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct});return reactExports.useEffect(()=>{ft.current={plotId:_e,plotEvents:rt,stateSeries:at,axisContext:lt,plotHeight:st,plotWidth:ct}},[lt,rt,st,_e,ct,at]),reactExports.useEffect(()=>{const dt=ut.current;if(!dt)return;function pt(ht){if(ht.type==="pointerdown")for(const mt of globalNativeEventNames)window.addEventListener(mt,pt);else if(ht.type==="pointerup")for(const mt of globalNativeEventNames)window.removeEventListener(mt,pt);const gt=infoFromEvent(ht,ft.current.axisContext,ft.current.stateSeries,dt);rt.handleEvent(_e,nativeEventMap[ht.type],gt)}for(const ht of nativeEventNames)dt.addEventListener(ht,pt);return()=>{for(const ht of nativeEventNames)dt.removeEventListener(ht,pt);for(const ht of globalNativeEventNames)window.removeEventListener(ht,pt)}},[_e,rt]),jsx("rect",{ref:ut,width:ct,height:st,style:{fillOpacity:0}})}function AnnotationsTrackingLayer(_e){const{width:rt,height:at,svgStyle:lt,svgId:st,svgClassName:ct,topOffset:ut,leftOffset:ft,legendOffset:dt,legend:pt,legendRef:ht,plotId:gt,annotations:mt,tracking:xt}=_e;return jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:rt,height:at,style:lt,id:st?`${st}-annotations`:void 0,className:ct,children:[jsxs("g",{transform:`translate(${ft}, ${ut})`,children:[jsx("g",{style:{clipPath:`url(#seriesViewportClip-${gt})`},children:mt}),xt]}),jsx("g",{transform:`translate(${ft}, ${ut})`,children:jsx(legendOffsetContext.Provider,{value:dt,children:jsx("g",{ref:ht,children:pt})})})]})}function TransparentRect(_e){const{style:rt}=_e;return jsx("rect",{..._e,style:{fillOpacity:rt!=null&&rt.fill?void 0:0,...rt}})}function MainLayer(_e){const{width:rt,height:at,svgStyle:lt,svgId:st,svgClassName:ct,plotViewportStyle:ut,seriesViewportStyle:ft,topOffset:dt,leftOffset:pt,plotWidth:ht,plotHeight:gt,plotId:mt,series:xt,topAxisRef:vt,topAxis:yt,rightAxisRef:_t,rightAxis:$t,bottomAxisRef:Et,bottomAxis:wt,leftAxisRef:bt,leftAxis:St,headingRef:Tt,heading:Rt}=_e;return jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:rt,height:at,style:lt,id:st,className:ct,children:[jsx(TransparentRect,{width:rt,height:at,style:ut}),jsxs("g",{transform:`translate(${pt}, ${dt})`,children:[jsx(TransparentRect,{width:ht,height:gt,style:ft}),jsx("clipPath",{id:`seriesViewportClip-${mt}`,children:jsx("rect",{width:ht,height:gt})}),jsx("g",{style:{clipPath:`url(#seriesViewportClip-${mt})`},children:xt}),jsx(bboxContext.Provider,{value:vt,children:jsx("g",{children:yt})}),jsx(bboxContext.Provider,{value:_t,children:jsx("g",{children:$t})}),jsx(bboxContext.Provider,{value:Et,children:jsx("g",{children:wt})}),jsx(bboxContext.Provider,{value:bt,children:jsx("g",{children:St})})]}),jsx("g",{ref:Tt,children:Rt})]})}const reducerCurr=fn(plotReducer),initialState={headingPosition:null,legendPosition:null,legendMargin:0,series:[],axes:{}},defaultSvgStyle={overflow:"visible",fontFamily:"Arial, Helvetica, sans-serif",userSelect:"none",WebkitUserSelect:"none"},defaultEventSvgStyle={touchAction:"none"};function Plot(_e){const{width:rt,height:at,colorScheme:lt=schemeSet1,margin:st={},svgStyle:ct={},svgId:ut,svgClassName:ft,plotViewportStyle:dt={},seriesViewportStyle:pt={},controllerId:ht,children:gt}=_e,mt=useId(void 0,"plot"),[xt,vt]=reactExports.useReducer(reducerCurr,initialState,void 0),{series:yt,annotations:_t,topAxis:$t,rightAxis:Et,bottomAxis:wt,leftAxis:bt,heading:St,legend:Tt}=splitChildren(gt);if(rt===void 0)throw new Error("width is mandatory");if(at===void 0)throw new Error("height is mandatory");const Rt=usePlotEventsPlotContext({controllerId:ht});reactExports.useEffect(()=>{if(Rt)return Rt.registerPlot(mt),()=>Rt.unregisterPlot(mt)},[Rt,mt]);const kt=usePlotOverrides({controllerId:ht}),At=useBBoxObserver(),Ct=useBBoxObserver(),Mt=useBBoxObserver(),Ot=useBBoxObserver(),Pt=useBBoxObserver(),It=useBBoxObserver(),{plotWidth:Ft,plotHeight:Wt,topOffset:Xt,leftOffset:Lt,legendOffset:Bt}=usePlotSizes({width:rt,height:at,margin:st,axes:xt.axes,topAxisHeight:Ct.height,rightAxisWidth:Mt.width,bottomAxisHeight:Ot.height,leftAxisWidth:Pt.width,headingPosition:xt.headingPosition,headingHeight:At.height,legendPosition:xt.legendPosition,legendMargin:xt.legendMargin,legendWidth:It.width,legendHeight:It.height}),Ut=useAxisContext(xt,kt.axes,{plotWidth:Ft,plotHeight:Wt}),dn=reactExports.useMemo(()=>xt.series.map(({id:Yt})=>Yt),[xt.series]),Zt=reactExports.useMemo(()=>ordinal().range(lt).domain(dn),[lt,dn]),cn=reactExports.useMemo(()=>({width:rt,height:at,plotWidth:Ft,plotHeight:Wt,axisContext:Ut,colorScaler:Zt}),[rt,at,Ft,Wt,Ut,Zt]),Gt={...defaultSvgStyle,...Rt?defaultEventSvgStyle:null,...ct,position:"absolute",top:"0",left:"0"};return jsx(plotContext.Provider,{value:cn,children:jsx(plotDispatchContext.Provider,{value:vt,children:jsx(LegendProvider,{children:jsxs("div",{style:{position:"relative",width:rt,height:at},children:[jsx(MainLayer,{width:rt,height:at,svgStyle:Gt,svgId:ut,svgClassName:ft,plotViewportStyle:dt,seriesViewportStyle:pt,topOffset:Xt,leftOffset:Lt,plotWidth:Ft,plotHeight:Wt,plotId:mt,series:yt,topAxisRef:Ct.ref,topAxis:$t,rightAxisRef:Mt.ref,rightAxis:Et,bottomAxisRef:Ot.ref,bottomAxis:wt,leftAxisRef:Pt.ref,leftAxis:bt,headingRef:At.ref,heading:St}),jsx(AnnotationsTrackingLayer,{width:rt,height:at,svgStyle:Gt,svgId:ut,svgClassName:ft,topOffset:Xt,leftOffset:Lt,legendOffset:Bt,legend:Tt,legendRef:It.ref,plotId:mt,annotations:_t,tracking:Rt?jsx(Tracking,{plotId:mt,plotEvents:Rt,stateSeries:xt.series,axisContext:Ut,plotWidth:Ft,plotHeight:Wt}):null})]})})})})}var reactMapInteractionExports={},reactMapInteraction={get exports(){return reactMapInteractionExports},set exports(_e){reactMapInteractionExports=_e}};(function(_e,rt){(function(lt,st){_e.exports=st(requirePropTypes(),reactExports)})(commonjsGlobal,function(at,lt){return function(st){var ct={};function ut(ft){if(ct[ft])return ct[ft].exports;var dt=ct[ft]={i:ft,l:!1,exports:{}};return st[ft].call(dt.exports,dt,dt.exports,ut),dt.l=!0,dt.exports}return ut.m=st,ut.c=ct,ut.d=function(ft,dt,pt){ut.o(ft,dt)||Object.defineProperty(ft,dt,{enumerable:!0,get:pt})},ut.r=function(ft){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ft,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ft,"__esModule",{value:!0})},ut.t=function(ft,dt){if(dt&1&&(ft=ut(ft)),dt&8||dt&4&&typeof ft=="object"&&ft&&ft.__esModule)return ft;var pt=Object.create(null);if(ut.r(pt),Object.defineProperty(pt,"default",{enumerable:!0,value:ft}),dt&2&&typeof ft!="string")for(var ht in ft)ut.d(pt,ht,function(gt){return ft[gt]}.bind(null,ht));return pt},ut.n=function(ft){var dt=ft&&ft.__esModule?function(){return ft.default}:function(){return ft};return ut.d(dt,"a",dt),dt},ut.o=function(ft,dt){return Object.prototype.hasOwnProperty.call(ft,dt)},ut.p="",ut(ut.s=2)}([function(st,ct){st.exports=at},function(st,ct){st.exports=lt},function(st,ct,ut){ut.r(ct);var ft=ut(1),dt=ut.n(ft),pt=ut(0),ht=ut.n(pt);function gt(jt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gt=function(zt){return typeof zt}:gt=function(zt){return zt&&typeof Symbol=="function"&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt},gt(jt)}function mt(jt,Dt){if(!(jt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function xt(jt,Dt){for(var zt=0;zt<Dt.length;zt++){var Nt=Dt[zt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(jt,Nt.key,Nt)}}function vt(jt,Dt,zt){return Dt&&xt(jt.prototype,Dt),zt&&xt(jt,zt),jt}function yt(jt,Dt){return Dt&&(gt(Dt)==="object"||typeof Dt=="function")?Dt:_t(jt)}function _t(jt){if(jt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}function $t(jt){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(zt){return zt.__proto__||Object.getPrototypeOf(zt)},$t(jt)}function Et(jt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Dt&&wt(jt,Dt)}function wt(jt,Dt){return wt=Object.setPrototypeOf||function(Nt,Vt){return Nt.__proto__=Vt,Nt},wt(jt,Dt)}var bt=function(jt){Et(Dt,jt);function Dt(){return mt(this,Dt),yt(this,$t(Dt).apply(this,arguments))}return vt(Dt,[{key:"render",value:function(){var Nt=this,Vt=this.props,Jt=Vt.plusBtnContents,mn=Vt.minusBtnContents,yn=Vt.btnClass,Kt=Vt.plusBtnClass,sn=Vt.minusBtnClass,ln=Vt.controlsClass,gn=Vt.scale,_n=Vt.minScale,bn=Vt.maxScale,Tn=Vt.onClickPlus,Rn=Vt.onClickMinus,Cn=Vt.disableZoom,kn={width:30,paddingTop:5,marginBottom:5},Mn=ln?void 0:{position:"absolute",right:10,top:10};function An(On){On.preventDefault(),On.target.blur(),!Cn&&Tn()}function Pn(On){On.preventDefault(),On.target.blur(),!Cn&&Rn()}return dt.a.createElement("div",{style:Mn,className:ln},dt.a.createElement("div",null,dt.a.createElement("button",{ref:function(Nn){Nt.plusNode=Nn},onClick:An,onTouchEnd:An,className:[yn||"",Kt||""].join(" "),type:"button",style:yn||Kt?void 0:kn,disabled:Cn||gn>=bn},Jt)),dt.a.createElement("div",null,dt.a.createElement("button",{ref:function(Nn){Nt.minusNode=Nn},onClick:Pn,onTouchEnd:Pn,className:[yn||"",sn||""].join(" "),type:"button",style:yn||sn?void 0:kn,disabled:Cn||gn<=_n},mn)))}}]),Dt}(ft.Component);bt.propTypes={onClickPlus:ht.a.func.isRequired,onClickMinus:ht.a.func.isRequired,plusBtnContents:ht.a.node,minusBtnContents:ht.a.node,btnClass:ht.a.string,plusBtnClass:ht.a.string,minusBtnClass:ht.a.string,controlsClass:ht.a.string,scale:ht.a.number,minScale:ht.a.number,maxScale:ht.a.number,disableZoom:ht.a.bool},bt.defaultProps={plusBtnContents:"+",minusBtnContents:"-",disableZoom:!1};var St=bt;function Tt(jt,Dt,zt){return Math.max(jt,Math.min(Dt,zt))}function Rt(jt,Dt){var zt=jt.x-Dt.x,Nt=jt.y-Dt.y;return Math.sqrt(Math.pow(zt,2)+Math.pow(Nt,2))}function kt(jt,Dt){return{x:(jt.x+Dt.x)/2,y:(jt.y+Dt.y)/2}}function At(jt){return{x:jt.clientX,y:jt.clientY}}function Ct(jt,Dt){var zt=At(jt),Nt=At(Dt);return Rt(zt,Nt)}var Mt=!1;try{var Ot={get passive(){Mt=!0}};window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Mt=!1}function Pt(jt){return Mt?{passive:jt}:jt}var It=Pt;function Ft(jt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(zt){return typeof zt}:Ft=function(zt){return zt&&typeof Symbol=="function"&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt},Ft(jt)}function Wt(){return Wt=Object.assign||function(jt){for(var Dt=1;Dt<arguments.length;Dt++){var zt=arguments[Dt];for(var Nt in zt)Object.prototype.hasOwnProperty.call(zt,Nt)&&(jt[Nt]=zt[Nt])}return jt},Wt.apply(this,arguments)}function Xt(jt,Dt){if(jt==null)return{};var zt=Lt(jt,Dt),Nt,Vt;if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(jt);for(Vt=0;Vt<Jt.length;Vt++)Nt=Jt[Vt],!(Dt.indexOf(Nt)>=0)&&Object.prototype.propertyIsEnumerable.call(jt,Nt)&&(zt[Nt]=jt[Nt])}return zt}function Lt(jt,Dt){if(jt==null)return{};var zt={},Nt=Object.keys(jt),Vt,Jt;for(Jt=0;Jt<Nt.length;Jt++)Vt=Nt[Jt],!(Dt.indexOf(Vt)>=0)&&(zt[Vt]=jt[Vt]);return zt}function Bt(jt){for(var Dt=1;Dt<arguments.length;Dt++){var zt=arguments[Dt]!=null?arguments[Dt]:{},Nt=Object.keys(zt);typeof Object.getOwnPropertySymbols=="function"&&(Nt=Nt.concat(Object.getOwnPropertySymbols(zt).filter(function(Vt){return Object.getOwnPropertyDescriptor(zt,Vt).enumerable}))),Nt.forEach(function(Vt){Ut(jt,Vt,zt[Vt])})}return jt}function Ut(jt,Dt,zt){return Dt in jt?Object.defineProperty(jt,Dt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):jt[Dt]=zt,jt}function dn(jt,Dt){if(!(jt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function Zt(jt,Dt){return Dt&&(Ft(Dt)==="object"||typeof Dt=="function")?Dt:Gt(jt)}function cn(jt){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(zt){return zt.__proto__||Object.getPrototypeOf(zt)},cn(jt)}function Gt(jt){if(jt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}function Yt(jt,Dt){for(var zt=0;zt<Dt.length;zt++){var Nt=Dt[zt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(jt,Nt.key,Nt)}}function pn(jt,Dt,zt){return Dt&&Yt(jt.prototype,Dt),zt&&Yt(jt,zt),jt}function $n(jt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Dt&&Sn(jt,Dt)}function Sn(jt,Dt){return Sn=Object.setPrototypeOf||function(Nt,Vt){return Nt.__proto__=Vt,Nt},Sn(jt,Dt)}var Qt=function(Dt,zt){return zt*Dt-Dt},vn=ht.a.shape({x:ht.a.number,y:ht.a.number}),wn=function(jt){$n(Dt,jt),pn(Dt,null,[{key:"propTypes",get:function(){return{children:ht.a.func,value:ht.a.shape({scale:ht.a.number.isRequired,translation:vn.isRequired}).isRequired,onChange:ht.a.func.isRequired,disableZoom:ht.a.bool,disablePan:ht.a.bool,translationBounds:ht.a.shape({xMin:ht.a.number,xMax:ht.a.number,yMin:ht.a.number,yMax:ht.a.number}),minScale:ht.a.number,maxScale:ht.a.number,showControls:ht.a.bool,plusBtnContents:ht.a.node,minusBtnContents:ht.a.node,btnClass:ht.a.string,plusBtnClass:ht.a.string,minusBtnClass:ht.a.string,controlsClass:ht.a.string}}},{key:"defaultProps",get:function(){return{minScale:.05,maxScale:3,showControls:!1,translationBounds:{},disableZoom:!1,disablePan:!1}}}]);function Dt(zt){var Nt;return dn(this,Dt),Nt=Zt(this,cn(Dt).call(this,zt)),Nt.state={shouldPreventTouchEndDefault:!1},Nt.startPointerInfo=void 0,Nt.onMouseDown=Nt.onMouseDown.bind(Gt(Nt)),Nt.onTouchStart=Nt.onTouchStart.bind(Gt(Nt)),Nt.onMouseMove=Nt.onMouseMove.bind(Gt(Nt)),Nt.onTouchMove=Nt.onTouchMove.bind(Gt(Nt)),Nt.onMouseUp=Nt.onMouseUp.bind(Gt(Nt)),Nt.onTouchEnd=Nt.onTouchEnd.bind(Gt(Nt)),Nt.onWheel=Nt.onWheel.bind(Gt(Nt)),Nt}return pn(Dt,[{key:"componentDidMount",value:function(){var Nt=It(!1);this.getContainerNode().addEventListener("wheel",this.onWheel,Nt),this.getContainerNode().addEventListener("touchstart",this.onTouchStart,Nt),this.getContainerNode().addEventListener("mousedown",this.onMouseDown,Nt),window.addEventListener("touchmove",this.onTouchMove,Nt),window.addEventListener("mousemove",this.onMouseMove,Nt);var Vt=Bt({capture:!0},Nt);window.addEventListener("touchend",this.onTouchEnd,Vt),window.addEventListener("mouseup",this.onMouseUp,Vt)}},{key:"componentWillUnmount",value:function(){this.getContainerNode().removeEventListener("wheel",this.onWheel),this.getContainerNode().removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),this.getContainerNode().removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"onMouseDown",value:function(Nt){Nt.preventDefault(),this.setPointerState([Nt])}},{key:"onTouchStart",value:function(Nt){Nt.preventDefault(),this.setPointerState(Nt.touches)}},{key:"onMouseUp",value:function(Nt){this.setPointerState()}},{key:"onTouchEnd",value:function(Nt){this.setPointerState(Nt.touches)}},{key:"onMouseMove",value:function(Nt){!this.startPointerInfo||this.props.disablePan||(Nt.preventDefault(),this.onDrag(Nt))}},{key:"onTouchMove",value:function(Nt){if(this.startPointerInfo){Nt.preventDefault();var Vt=this.props,Jt=Vt.disablePan,mn=Vt.disableZoom,yn=Nt.touches.length==2&&this.startPointerInfo.pointers.length>1;yn&&!mn?this.scaleFromMultiTouch(Nt):Nt.touches.length===1&&this.startPointerInfo&&!Jt&&this.onDrag(Nt.touches[0])}}},{key:"onDrag",value:function(Nt){var Vt=this,Jt=this.startPointerInfo,mn=Jt.translation,yn=Jt.pointers,Kt=yn[0],sn=Nt.clientX-Kt.clientX,ln=Nt.clientY-Kt.clientY,gn={x:mn.x+sn,y:mn.y+ln},_n=Math.abs(sn)>1||Math.abs(ln)>1;this.setState({shouldPreventTouchEndDefault:_n},function(){Vt.props.onChange({scale:Vt.props.value.scale,translation:Vt.clampTranslation(gn)})})}},{key:"onWheel",value:function(Nt){if(!this.props.disableZoom){Nt.preventDefault(),Nt.stopPropagation();var Vt=Math.pow(2,Nt.deltaY*.002),Jt=Tt(this.props.minScale,this.props.value.scale+(1-Vt),this.props.maxScale),mn=this.clientPosToTranslatedPos({x:Nt.clientX,y:Nt.clientY});this.scaleFromPoint(Jt,mn)}}},{key:"setPointerState",value:function(Nt){if(!Nt||Nt.length===0){this.startPointerInfo=void 0;return}this.startPointerInfo={pointers:Nt,scale:this.props.value.scale,translation:this.props.value.translation}}},{key:"clampTranslation",value:function(Nt){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props,Jt=Nt.x,mn=Nt.y,yn=Vt.translationBounds,Kt=yn.xMax,sn=yn.xMin,ln=yn.yMax,gn=yn.yMin;return sn=sn??-1/0,gn=gn??-1/0,Kt=Kt??1/0,ln=ln??1/0,{x:Tt(sn,Jt,Kt),y:Tt(gn,mn,ln)}}},{key:"translatedOrigin",value:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.value.translation,Vt=this.getContainerBoundingClientRect();return{x:Vt.left+Nt.x,y:Vt.top+Nt.y}}},{key:"clientPosToTranslatedPos",value:function(Nt){var Vt=Nt.x,Jt=Nt.y,mn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.value.translation,yn=this.translatedOrigin(mn);return{x:Vt-yn.x,y:Jt-yn.y}}},{key:"scaleFromPoint",value:function(Nt,Vt){var Jt=this.props.value,mn=Jt.translation,yn=Jt.scale,Kt=Nt/(yn!=0?yn:1),sn={x:Qt(Vt.x,Kt),y:Qt(Vt.y,Kt)},ln={x:mn.x-sn.x,y:mn.y-sn.y};this.props.onChange({scale:Nt,translation:this.clampTranslation(ln)})}},{key:"scaleFromMultiTouch",value:function(Nt){var Vt=this.startPointerInfo.pointers,Jt=Nt.touches,mn=Ct(Vt[0],Vt[1]),yn=Ct(Jt[0],Jt[1]),Kt=yn/mn,sn=this.startPointerInfo.scale,ln=sn+(Kt-1)*sn,gn=Tt(this.props.minScale,ln,this.props.maxScale),_n=kt(At(Vt[0]),At(Vt[1])),bn=kt(At(Jt[0]),At(Jt[1])),Tn={x:bn.x-_n.x,y:bn.y-_n.y},Rn=gn/sn,Cn=this.clientPosToTranslatedPos(_n,this.startPointerInfo.translation),kn={x:Qt(Cn.x,Rn),y:Qt(Cn.y,Rn)},Mn={x:this.startPointerInfo.translation.x-kn.x+Tn.x,y:this.startPointerInfo.translation.y-kn.y+Tn.y};this.props.onChange({scale:gn,translation:this.clampTranslation(Mn)})}},{key:"discreteScaleStepSize",value:function(){var Nt=this.props,Vt=Nt.minScale,Jt=Nt.maxScale,mn=Math.abs(Jt-Vt);return mn/10}},{key:"changeScale",value:function(Nt){var Vt=this.props.value.scale+Nt,Jt=this.props,mn=Jt.minScale,yn=Jt.maxScale,Kt=Tt(mn,Vt,yn),sn=this.getContainerBoundingClientRect(),ln=sn.left+sn.width/2,gn=sn.top+sn.height/2,_n=this.clientPosToTranslatedPos({x:ln,y:gn});this.scaleFromPoint(Kt,_n)}},{key:"getContainerNode",value:function(){return this.containerNode}},{key:"getContainerBoundingClientRect",value:function(){return this.getContainerNode().getBoundingClientRect()}},{key:"renderControls",value:function(){var Nt=this,Vt=this.discreteScaleStepSize();return dt.a.createElement(St,{onClickPlus:function(){return Nt.changeScale(Vt)},onClickMinus:function(){return Nt.changeScale(-Vt)},plusBtnContents:this.props.plusBtnContents,minusBtnContents:this.props.minusBtnContents,btnClass:this.props.btnClass,plusBtnClass:this.props.plusBtnClass,minusBtnClass:this.props.minusBtnClass,controlsClass:this.props.controlsClass,scale:this.props.value.scale,minScale:this.props.minScale,maxScale:this.props.maxScale,disableZoom:this.props.disableZoom})}},{key:"render",value:function(){var Nt=this,Vt=this.props,Jt=Vt.showControls,mn=Vt.children,yn=this.props.value.scale,Kt=this.clampTranslation(this.props.value.translation),sn=function(gn){Nt.state.shouldPreventTouchEndDefault&&(gn.preventDefault(),Nt.setState({shouldPreventTouchEndDefault:!1}))};return dt.a.createElement("div",{ref:function(gn){Nt.containerNode=gn},style:{height:"100%",width:"100%",position:"relative",touchAction:"none"},onClickCapture:sn,onTouchEndCapture:sn},(mn||void 0)&&mn({translation:Kt,scale:yn}),(Jt||void 0)&&this.renderControls())}}]),Dt}(ft.Component),qt=function(jt){$n(Dt,jt),pn(Dt,null,[{key:"propTypes",get:function(){return{children:ht.a.func,value:ht.a.shape({scale:ht.a.number.isRequired,translation:vn.isRequired}),defaultValue:ht.a.shape({scale:ht.a.number.isRequired,translation:vn.isRequired}),disableZoom:ht.a.bool,disablePan:ht.a.bool,onChange:ht.a.func,translationBounds:ht.a.shape({xMin:ht.a.number,xMax:ht.a.number,yMin:ht.a.number,yMax:ht.a.number}),minScale:ht.a.number,maxScale:ht.a.number,showControls:ht.a.bool,plusBtnContents:ht.a.node,minusBtnContents:ht.a.node,btnClass:ht.a.string,plusBtnClass:ht.a.string,minusBtnClass:ht.a.string,controlsClass:ht.a.string}}}]);function Dt(zt){var Nt;dn(this,Dt),Nt=Zt(this,cn(Dt).call(this,zt));var Vt=Dt.isControlled(zt);return Vt?Nt.state={lastKnownValueFromProps:zt.value}:Nt.state={value:zt.defaultValue||{scale:1,translation:{x:0,y:0}},lastKnownValueFromProps:void 0},Nt}return pn(Dt,[{key:"innerProps",value:function(){var Nt=this.props;Nt.value,Nt.defaultValue,Nt.onChange;var Vt=Xt(Nt,["value","defaultValue","onChange"]);return Vt}},{key:"getValue",value:function(){var Nt=Dt.isControlled(this.props);return Nt?this.props.value:this.state.value}},{key:"render",value:function(){var Nt=this,Vt=this.props,Jt=Vt.onChange,mn=Vt.children,yn=Dt.isControlled(this.props),Kt=yn?this.props.value:this.state.value;return dt.a.createElement(wn,Wt({onChange:function(ln){yn?Jt(ln):Nt.setState({value:ln})},value:Kt},this.innerProps()),mn)}}],[{key:"getDerivedStateFromProps",value:function(Nt,Vt){var Jt=Dt.isControlled(Nt),mn=Vt.lastKnownValueFromProps&&Dt.isControlled({value:Vt.lastKnownValueFromProps});if(!mn&&Jt)return{value:void 0,lastKnownValueFromProps:Nt.value};if(mn&&!Jt)return{value:Vt.lastKnownValueFromProps,lastKnownValueFromProps:void 0};if(mn&&Jt)return{lastKnownValueFromProps:Nt.value};if(!mn&&!Jt)return null}},{key:"isControlled",value:function(Nt){return Nt.value!=null}}]),Dt}(ft.Component),En=qt,xn=function(Dt){return dt.a.createElement(En,Dt,function(zt){var Nt=zt.translation,Vt=zt.scale,Jt="translate(".concat(Nt.x,"px, ").concat(Nt.y,"px) scale(").concat(Vt,")");return dt.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden",touchAction:"none",msTouchAction:"none",cursor:"all-scroll",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}},dt.a.createElement("div",{style:{display:"inline-block",transform:Jt,transformOrigin:"0 0 "}},Dt.children))})},hn=xn;ut.d(ct,"MapInteractionCSS",function(){return hn}),ut.d(ct,"MapInteraction",function(){return En}),ct.default=En}])})})(reactMapInteraction);function RoiAnnotations(_e){const{width:rt=0,height:at=0,rois:lt,roiOptions:st}=_e;if(!lt)return;const ct=[];for(const ft of lt)ct.push(jsx(RoiAnnotation,{roi:ft,roiOptions:st},ft.id));return jsx("div",{style:{position:"absolute",left:0,top:0,width:rt,height:at},children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:`0 0 ${rt} ${at}`,children:ct})})}function RoiAnnotation(_e){const{roi:rt,roiOptions:at}=_e,lt=rt.origin.column,st=rt.origin.row;return jsxs("g",{transform:`translate(${lt} ${st})`,children:[jsx(Box,{roi:rt,roiOptions:at}),jsx(Feret,{roi:rt,roiOptions:at}),jsx(Mbr,{roi:rt,roiOptions:at}),jsx(ConvexHull,{roi:rt,roiOptions:at})]})}function Box(_e){const{roi:rt,roiOptions:at={}}=_e,{label:lt=st=>st.surface}=at;return jsxs(Fragment,{children:[jsx("rect",{x:"0",y:"0",width:rt.width,height:rt.height,style:{strokeWidth:"1",stroke:"black",fill:"red",opacity:.1}}),jsx("text",{x:rt.width/2,y:rt.height/2,alignmentBaseline:"middle",textAnchor:"middle",stroke:"none",fontSize:"24",fill:"black",children:lt(rt)})]})}function Feret(_e){const{roi:rt}=_e;return jsxs(Fragment,{children:[jsx("line",{x1:rt.feret.maxDiameter.points[0].column,y1:rt.feret.maxDiameter.points[0].row,x2:rt.feret.maxDiameter.points[1].column,y2:rt.feret.maxDiameter.points[1].row,style:{stroke:"black",strokeWidth:1}}),jsx("line",{x1:rt.feret.minDiameter.points[0].column,y1:rt.feret.minDiameter.points[0].row,x2:rt.feret.minDiameter.points[1].column,y2:rt.feret.minDiameter.points[1].row,style:{stroke:"black",strokeWidth:1}})]})}function Mbr(_e){const{roi:rt}=_e,at=rt.mbr.points.map(lt=>`${lt.column},${lt.row}`).join(" ");return jsx("polygon",{points:at,style:{fill:"none",stroke:"blue",strokeWidth:1}})}function ConvexHull(_e){const{roi:rt}=_e,at=rt.convexHull.points.map(lt=>`${lt.column},${lt.row}`).join(" ");return jsx("polygon",{points:at,style:{fill:"none",stroke:"red",strokeWidth:2}})}function ImageViewer(_e){const{image:rt,rois:at,roiOptions:lt}=_e,st=reactExports.useRef(null);return reactExports.useEffect(()=>{rt&&writeCanvas(rt,st.current)},[st,rt]),jsx(reactMapInteractionExports.MapInteractionCSS,{children:jsxs("div",{style:{position:"relative"},children:[jsx("canvas",{ref:st}),jsx(RoiAnnotations,{width:rt==null?void 0:rt.width,height:rt==null?void 0:rt.height,rois:at,roiOptions:lt})]})})}function ImageViewerWrapper(){var rt;const _e=reactExports.useContext(DataContext);return(rt=_e.data)!=null&&rt.image?jsxs(Fragment,{children:[jsx(ImageViewer,{image:_e.data.image}),jsx(ImageInfo,{image:_e.data.image}),jsx(ImageHistograms,{image:_e.data.image})]}):null}function ImageInfo(_e){const{image:rt}=_e;return jsxs(Fragment,{children:[jsxs("div",{children:["Image: ",rt.width," x ",rt.height," (",rt.size," pixels)"]}),jsxs("div",{children:["Channels: ",rt.channels]}),jsxs("div",{children:["Alpha: ",rt.alpha?"Yes":"No"]}),jsxs("div",{children:["Depth: ",rt.depth," bits"]})]})}function ImageHistograms(_e){const{image:rt}=_e,at=[];for(let lt=0;lt<rt.channels;lt++){const st=rt.histogram({channel:lt}),ct=xyToXYObject({x:createStepArray({length:st.length}),y:st});at.push(jsxs(Plot,{width:300,height:300,children:[jsx(Heading,{title:`Channel: ${lt}`}),jsx(BarSeries,{data:ct}),jsx(BarSeries,{data:[{x:1,y:0},{x:3,y:5},{x:5,y:2}]}),jsx(Axis,{id:"x",position:"bottom",label:"Pixel intensity",displayPrimaryGridLines:!0}),jsx(Axis,{id:"y",position:"left",label:"Number of pixels",displayPrimaryGridLines:!0})]},lt))}return jsx("div",{style:{display:"flex",justifyContent:"space-around"},children:jsx("div",{style:{display:"flex",gap:"1rem"},children:at})})}var reactWebcamExports={},reactWebcam={get exports(){return reactWebcamExports},set exports(_e){reactWebcamExports=_e}};(function(_e,rt){(function(lt,st){_e.exports=st(reactExports)})(commonjsGlobal,function(at){return function(lt){var st={};function ct(ut){if(st[ut])return st[ut].exports;var ft=st[ut]={i:ut,l:!1,exports:{}};return lt[ut].call(ft.exports,ft,ft.exports,ct),ft.l=!0,ft.exports}return ct.m=lt,ct.c=st,ct.d=function(ut,ft,dt){ct.o(ut,ft)||Object.defineProperty(ut,ft,{enumerable:!0,get:dt})},ct.r=function(ut){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ut,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ut,"__esModule",{value:!0})},ct.t=function(ut,ft){if(ft&1&&(ut=ct(ut)),ft&8||ft&4&&typeof ut=="object"&&ut&&ut.__esModule)return ut;var dt=Object.create(null);if(ct.r(dt),Object.defineProperty(dt,"default",{enumerable:!0,value:ut}),ft&2&&typeof ut!="string")for(var pt in ut)ct.d(dt,pt,function(ht){return ut[ht]}.bind(null,pt));return dt},ct.n=function(ut){var ft=ut&&ut.__esModule?function(){return ut.default}:function(){return ut};return ct.d(ft,"a",ft),ft},ct.o=function(ut,ft){return Object.prototype.hasOwnProperty.call(ut,ft)},ct.p="",ct(ct.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(lt,st,ct){ct.r(st);var ut=ct("react"),ft=function(){var mt=function(xt,vt){return mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,_t){yt.__proto__=_t}||function(yt,_t){for(var $t in _t)_t.hasOwnProperty($t)&&(yt[$t]=_t[$t])},mt(xt,vt)};return function(xt,vt){mt(xt,vt);function yt(){this.constructor=xt}xt.prototype=vt===null?Object.create(vt):(yt.prototype=vt.prototype,new yt)}}(),dt=function(){return dt=Object.assign||function(mt){for(var xt,vt=1,yt=arguments.length;vt<yt;vt++){xt=arguments[vt];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(mt[_t]=xt[_t])}return mt},dt.apply(this,arguments)},pt=function(mt,xt){var vt={};for(var yt in mt)Object.prototype.hasOwnProperty.call(mt,yt)&&xt.indexOf(yt)<0&&(vt[yt]=mt[yt]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _t=0,yt=Object.getOwnPropertySymbols(mt);_t<yt.length;_t++)xt.indexOf(yt[_t])<0&&Object.prototype.propertyIsEnumerable.call(mt,yt[_t])&&(vt[yt[_t]]=mt[yt[_t]]);return vt};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(xt){var vt=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return vt?new Promise(function(yt,_t){vt.call(navigator,xt,yt,_t)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function ht(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var gt=function(mt){ft(xt,mt);function xt(vt){var yt=mt.call(this,vt)||this;return yt.canvas=null,yt.ctx=null,yt.requestUserMediaId=0,yt.unmounted=!1,yt.state={hasUserMedia:!1},yt}return xt.prototype.componentDidMount=function(){var vt=this,yt=vt.state,_t=vt.props;if(this.unmounted=!1,!ht()){_t.onUserMediaError("getUserMedia not supported");return}yt.hasUserMedia||this.requestUserMedia(),_t.children&&typeof _t.children!="function"&&console.warn("children must be a function")},xt.prototype.componentDidUpdate=function(vt){var yt=this.props;if(!ht()){yt.onUserMediaError("getUserMedia not supported");return}var _t=JSON.stringify(vt.audioConstraints)!==JSON.stringify(yt.audioConstraints),$t=JSON.stringify(vt.videoConstraints)!==JSON.stringify(yt.videoConstraints),Et=vt.minScreenshotWidth!==yt.minScreenshotWidth,wt=vt.minScreenshotHeight!==yt.minScreenshotHeight;($t||Et||wt)&&(this.canvas=null,this.ctx=null),(_t||$t)&&(this.stopAndCleanup(),this.requestUserMedia())},xt.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},xt.stopMediaStream=function(vt){vt&&(vt.getVideoTracks&&vt.getAudioTracks?(vt.getVideoTracks().map(function(yt){vt.removeTrack(yt),yt.stop()}),vt.getAudioTracks().map(function(yt){vt.removeTrack(yt),yt.stop()})):vt.stop())},xt.prototype.stopAndCleanup=function(){var vt=this.state;vt.hasUserMedia&&(xt.stopMediaStream(this.stream),vt.src&&window.URL.revokeObjectURL(vt.src))},xt.prototype.getScreenshot=function(vt){var yt=this,_t=yt.state,$t=yt.props;if(!_t.hasUserMedia)return null;var Et=this.getCanvas(vt);return Et&&Et.toDataURL($t.screenshotFormat,$t.screenshotQuality)},xt.prototype.getCanvas=function(vt){var yt=this,_t=yt.state,$t=yt.props;if(!this.video||!_t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var Et=this.video.videoWidth,wt=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var bt=Et/wt;Et=$t.minScreenshotWidth||this.video.clientWidth,wt=Et/bt,$t.minScreenshotHeight&&wt<$t.minScreenshotHeight&&(wt=$t.minScreenshotHeight,Et=wt*bt)}this.canvas=document.createElement("canvas"),this.canvas.width=(vt==null?void 0:vt.width)||Et,this.canvas.height=(vt==null?void 0:vt.height)||wt,this.ctx=this.canvas.getContext("2d")}var St=this,Tt=St.ctx,Rt=St.canvas;return Tt&&Rt&&($t.mirrored&&(Tt.translate(Rt.width,0),Tt.scale(-1,1)),Tt.imageSmoothingEnabled=$t.imageSmoothing,Tt.drawImage(this.video,0,0,(vt==null?void 0:vt.width)||Rt.width,(vt==null?void 0:vt.height)||Rt.height),$t.mirrored&&(Tt.scale(-1,1),Tt.translate(-Rt.width,0))),Rt},xt.prototype.requestUserMedia=function(){var vt=this,yt=this.props,_t=function(wt,bt){var St={video:typeof bt<"u"?bt:!0};yt.audio&&(St.audio=typeof wt<"u"?wt:!0),vt.requestUserMediaId++;var Tt=vt.requestUserMediaId;navigator.mediaDevices.getUserMedia(St).then(function(Rt){vt.unmounted||Tt!==vt.requestUserMediaId?xt.stopMediaStream(Rt):vt.handleUserMedia(null,Rt)}).catch(function(Rt){vt.handleUserMedia(Rt)})};if("mediaDevices"in navigator)_t(yt.audioConstraints,yt.videoConstraints);else{var $t=function(wt){return{optional:[{sourceId:wt}]}},Et=function(wt){var bt=wt.deviceId;return typeof bt=="string"?bt:Array.isArray(bt)&&bt.length>0?bt[0]:typeof bt=="object"&&bt.ideal?bt.ideal:null};MediaStreamTrack.getSources(function(wt){var bt=null,St=null;wt.forEach(function(kt){kt.kind==="audio"?bt=kt.id:kt.kind==="video"&&(St=kt.id)});var Tt=Et(yt.audioConstraints);Tt&&(bt=Tt);var Rt=Et(yt.videoConstraints);Rt&&(St=Rt),_t($t(bt),$t(St))})}},xt.prototype.handleUserMedia=function(vt,yt){var _t=this.props;if(vt||!yt){this.setState({hasUserMedia:!1}),_t.onUserMediaError(vt);return}this.stream=yt;try{this.video&&(this.video.srcObject=yt),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(yt)})}_t.onUserMedia(yt)},xt.prototype.render=function(){var vt=this,yt=this,_t=yt.state,$t=yt.props,Et=$t.audio;$t.forceScreenshotSourceSize,$t.onUserMedia,$t.onUserMediaError,$t.screenshotFormat,$t.screenshotQuality,$t.minScreenshotWidth,$t.minScreenshotHeight,$t.audioConstraints,$t.videoConstraints,$t.imageSmoothing;var wt=$t.mirrored,bt=$t.style,St=bt===void 0?{}:bt,Tt=$t.children,Rt=pt($t,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),kt=wt?dt(dt({},St),{transform:(St.transform||"")+" scaleX(-1)"}):St,At={getScreenshot:this.getScreenshot.bind(this)};return ut.createElement(ut.Fragment,null,ut.createElement("video",dt({autoPlay:!0,src:_t.src,muted:!Et,playsInline:!0,ref:function(Ct){vt.video=Ct},style:kt},Rt)),Tt&&Tt(At))},xt.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},xt}(ut.Component);st.default=gt},react:function(lt,st){lt.exports=at}}).default})})(reactWebcam);const Webcam=getDefaultExportFromCjs(reactWebcamExports),videoConstraints={width:3840,height:2160};function WebcamWrapper(){const _e=reactExports.useContext(DataContext),rt=reactExports.useRef(null),at=reactExports.useCallback(async()=>{const lt=rt.current.getScreenshot();_e.actions.loadURL(lt)},[rt,_e.actions]);return jsxs(Fragment,{children:[jsx(Webcam,{audio:!1,width:3840,height:2160,ref:rt,screenshotFormat:"image/jpeg",minScreenshotWidth:3840,minScreenshotHeight:2160,forceScreenshotSourceSize:!0,videoConstraints}),jsx("button",{type:"button",onClick:at,children:"Capture photo"})]})}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(_e,rt)=>function(){return rt||(0,_e[__getOwnPropNames(_e)[0]])((rt={exports:{}}).exports,rt),rt.exports},__export=(_e,rt)=>{for(var at in rt)__defProp(_e,at,{get:rt[at],enumerable:!0})},__copyProps=(_e,rt,at,lt)=>{if(rt&&typeof rt=="object"||typeof rt=="function")for(let st of __getOwnPropNames(rt))!__hasOwnProp.call(_e,st)&&st!==at&&__defProp(_e,st,{get:()=>rt[st],enumerable:!(lt=__getOwnPropDesc(rt,st))||lt.enumerable});return _e},__toESM=(_e,rt,at)=>(at=_e!=null?__create(__getProtoOf(_e)):{},__copyProps(rt||!_e||!_e.__esModule?__defProp(at,"default",{value:_e,enumerable:!0}):at,_e)),require_is_object=__commonJS({"node_modules/is-object/index.js"(_e,rt){rt.exports=function(lt){return typeof lt=="object"&&lt!==null}}}),require_is_window=__commonJS({"node_modules/is-window/index.js"(_e,rt){rt.exports=function(at){if(at==null)return!1;var lt=Object(at);return lt===lt.window}}}),require_is_dom=__commonJS({"node_modules/is-dom/index.js"(_e,rt){var at=require_is_object(),lt=require_is_window();function st(ct){return!at(ct)||!lt(window)||typeof window.Node!="function"?!1:typeof ct.nodeType=="number"&&typeof ct.nodeName=="string"}rt.exports=st}}),themes_exports={};__export(themes_exports,{chromeDark:()=>theme,chromeLight:()=>theme2});var theme={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},theme2={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},ExpandedPathsContext=reactExports.createContext([{},()=>{}]),unselectable={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},createTheme=_e=>({DOMNodePreview:{htmlOpenTag:{base:{color:_e.HTML_TAG_COLOR},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:_e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:_e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:_e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-_e.TREENODE_PADDING_LEFT},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:_e.HTML_COMMENT_COLOR},htmlDoctype:{color:_e.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:_e.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:_e.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:_e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:_e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:_e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:_e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:_e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:_e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:_e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:_e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:_e.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:_e.BASE_COLOR,backgroundColor:_e.BASE_BACKGROUND_COLOR,lineHeight:_e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:_e.TREENODE_FONT_FAMILY,fontSize:_e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...unselectable},treeNodeArrow:{base:{color:_e.ARROW_COLOR,display:"inline-block",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...parseFloat(_e.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${_e.ARROW_ANIMATION_DURATION} ease 0s`}:{},...unselectable},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:_e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:_e.BASE_COLOR,position:"relative",border:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontFamily:_e.BASE_FONT_FAMILY,fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:_e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:_e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:_e.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:_e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${_e.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:_e.TABLE_SORT_ICON_COLOR,fontSize:12,...unselectable}}),DEFAULT_THEME_NAME="chromeLight",ThemeContext=reactExports.createContext(createTheme(themes_exports[DEFAULT_THEME_NAME])),useStyles=_e=>reactExports.useContext(ThemeContext)[_e],themeAcceptor=_e=>({theme:at=DEFAULT_THEME_NAME,...lt})=>{const st=reactExports.useMemo(()=>{switch(Object.prototype.toString.call(at)){case"[object String]":return createTheme(themes_exports[at]);case"[object Object]":return createTheme(at);default:return createTheme(themes_exports[DEFAULT_THEME_NAME])}},[at]);return React$8.createElement(ThemeContext.Provider,{value:st},React$8.createElement(_e,{...lt}))},Arrow=({expanded:_e,styles:rt})=>React$8.createElement("span",{style:{...rt.base,..._e?rt.expanded:rt.collapsed}},"▶"),TreeNode=reactExports.memo(_e=>{_e={expanded:!0,nodeRenderer:({name:ht})=>React$8.createElement("span",null,ht),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,..._e};const{expanded:rt,onClick:at,children:lt,nodeRenderer:st,title:ct,shouldShowArrow:ut,shouldShowPlaceholder:ft}=_e,dt=useStyles("TreeNode"),pt=st;return React$8.createElement("li",{"aria-expanded":rt,role:"treeitem",style:dt.treeNodeBase,title:ct},React$8.createElement("div",{style:dt.treeNodePreviewContainer,onClick:at},ut||reactExports.Children.count(lt)>0?React$8.createElement(Arrow,{expanded:rt,styles:dt.treeNodeArrow}):ft&&React$8.createElement("span",{style:dt.treeNodePlaceholder}," "),React$8.createElement(pt,{..._e})),React$8.createElement("ol",{role:"group",style:dt.treeNodeChildNodesContainer},rt?lt:void 0))}),DEFAULT_ROOT_PATH="$",WILDCARD="*";function hasChildNodes(_e,rt){return!rt(_e).next().done}var wildcardPathsFromLevel=_e=>Array.from({length:_e},(rt,at)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:at},()=>"*")).join(".")),getExpandedPaths=(_e,rt,at,lt,st)=>{const ct=[].concat(wildcardPathsFromLevel(lt)).concat(at).filter(ft=>typeof ft=="string"),ut=[];return ct.forEach(ft=>{const dt=ft.split("."),pt=(ht,gt,mt)=>{if(mt===dt.length){ut.push(gt);return}const xt=dt[mt];if(mt===0)hasChildNodes(ht,rt)&&(xt===DEFAULT_ROOT_PATH||xt===WILDCARD)&&pt(ht,DEFAULT_ROOT_PATH,mt+1);else if(xt===WILDCARD)for(const{name:vt,data:yt}of rt(ht))hasChildNodes(yt,rt)&&pt(yt,`${gt}.${vt}`,mt+1);else{const vt=ht[xt];hasChildNodes(vt,rt)&&pt(vt,`${gt}.${xt}`,mt+1)}};pt(_e,"",0)}),ut.reduce((ft,dt)=>(ft[dt]=!0,ft),{...st})},ConnectedTreeNode=reactExports.memo(_e=>{const{data:rt,dataIterator:at,path:lt,depth:st,nodeRenderer:ct}=_e,[ut,ft]=reactExports.useContext(ExpandedPathsContext),dt=hasChildNodes(rt,at),pt=!!ut[lt],ht=reactExports.useCallback(()=>dt&&ft(gt=>({...gt,[lt]:!pt})),[dt,ft,lt,pt]);return React$8.createElement(TreeNode,{expanded:pt,onClick:ht,shouldShowArrow:dt,shouldShowPlaceholder:st>0,nodeRenderer:ct,..._e},pt?[...at(rt)].map(({name:gt,data:mt,...xt})=>React$8.createElement(ConnectedTreeNode,{name:gt,data:mt,depth:st+1,path:`${lt}.${gt}`,key:gt,dataIterator:at,nodeRenderer:ct,...xt})):null)}),TreeView=reactExports.memo(({name:_e,data:rt,dataIterator:at,nodeRenderer:lt,expandPaths:st,expandLevel:ct})=>{const ut=useStyles("TreeView"),ft=reactExports.useState({}),[,dt]=ft;return reactExports.useLayoutEffect(()=>dt(pt=>getExpandedPaths(rt,at,st,ct,pt)),[rt,at,st,ct]),React$8.createElement(ExpandedPathsContext.Provider,{value:ft},React$8.createElement("ol",{role:"tree",style:ut.treeViewOutline},React$8.createElement(ConnectedTreeNode,{name:_e,data:rt,dataIterator:at,depth:0,path:DEFAULT_ROOT_PATH,nodeRenderer:lt})))}),ObjectName=({name:_e,dimmed:rt=!1,styles:at={}})=>{const lt=useStyles("ObjectName"),st={...lt.base,...rt?lt.dimmed:{},...at};return React$8.createElement("span",{style:st},_e)},ObjectValue=({object:_e,styles:rt})=>{const at=useStyles("ObjectValue"),lt=st=>({...at[st],...rt});switch(typeof _e){case"bigint":return React$8.createElement("span",{style:lt("objectValueNumber")},String(_e),"n");case"number":return React$8.createElement("span",{style:lt("objectValueNumber")},String(_e));case"string":return React$8.createElement("span",{style:lt("objectValueString")},'"',_e,'"');case"boolean":return React$8.createElement("span",{style:lt("objectValueBoolean")},String(_e));case"undefined":return React$8.createElement("span",{style:lt("objectValueUndefined")},"undefined");case"object":return _e===null?React$8.createElement("span",{style:lt("objectValueNull")},"null"):_e instanceof Date?React$8.createElement("span",null,_e.toString()):_e instanceof RegExp?React$8.createElement("span",{style:lt("objectValueRegExp")},_e.toString()):Array.isArray(_e)?React$8.createElement("span",null,`Array(${_e.length})`):_e.constructor?typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e)?React$8.createElement("span",null,`Buffer[${_e.length}]`):React$8.createElement("span",null,_e.constructor.name):React$8.createElement("span",null,"Object");case"function":return React$8.createElement("span",null,React$8.createElement("span",{style:lt("objectValueFunctionPrefix")},"ƒ "),React$8.createElement("span",{style:lt("objectValueFunctionName")},_e.name,"()"));case"symbol":return React$8.createElement("span",{style:lt("objectValueSymbol")},_e.toString());default:return React$8.createElement("span",null)}},hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;function getPropertyValue(_e,rt){const at=Object.getOwnPropertyDescriptor(_e,rt);if(at.get)try{return at.get()}catch{return at.get}return _e[rt]}function intersperse(_e,rt){return _e.length===0?[]:_e.slice(1).reduce((at,lt)=>at.concat([rt,lt]),[_e[0]])}var ObjectPreview=({data:_e})=>{const rt=useStyles("ObjectPreview"),at=_e;if(typeof at!="object"||at===null||at instanceof Date||at instanceof RegExp)return React$8.createElement(ObjectValue,{object:at});if(Array.isArray(at)){const lt=rt.arrayMaxProperties,st=at.slice(0,lt).map((ut,ft)=>React$8.createElement(ObjectValue,{key:ft,object:ut}));at.length>lt&&st.push(React$8.createElement("span",{key:"ellipsis"},"…"));const ct=at.length;return React$8.createElement(React$8.Fragment,null,React$8.createElement("span",{style:rt.objectDescription},ct===0?"":`(${ct}) `),React$8.createElement("span",{style:rt.preview},"[",intersperse(st,", "),"]"))}else{const lt=rt.objectMaxProperties,st=[];for(const ut in at)if(hasOwnProperty.call(at,ut)){let ft;st.length===lt-1&&Object.keys(at).length>lt&&(ft=React$8.createElement("span",{key:"ellipsis"},"…"));const dt=getPropertyValue(at,ut);if(st.push(React$8.createElement("span",{key:ut},React$8.createElement(ObjectName,{name:ut||'""'}),": ",React$8.createElement(ObjectValue,{object:dt}),ft)),ft)break}const ct=at.constructor?at.constructor.name:"Object";return React$8.createElement(React$8.Fragment,null,React$8.createElement("span",{style:rt.objectDescription},ct==="Object"?"":`${ct} `),React$8.createElement("span",{style:rt.preview},"{",intersperse(st,", "),"}"))}},ObjectRootLabel=({name:_e,data:rt})=>typeof _e=="string"?React$8.createElement("span",null,React$8.createElement(ObjectName,{name:_e}),React$8.createElement("span",null,": "),React$8.createElement(ObjectPreview,{data:rt})):React$8.createElement(ObjectPreview,{data:rt}),ObjectLabel=({name:_e,data:rt,isNonenumerable:at=!1})=>{const lt=rt;return React$8.createElement("span",null,typeof _e=="string"?React$8.createElement(ObjectName,{name:_e,dimmed:at}):React$8.createElement(ObjectPreview,{data:_e}),React$8.createElement("span",null,": "),React$8.createElement(ObjectValue,{object:lt}))},createIterator=(_e,rt)=>function*(lt){if(!(typeof lt=="object"&&lt!==null||typeof lt=="function"))return;const ct=Array.isArray(lt);if(!ct&&lt[Symbol.iterator]){let ut=0;for(const ft of lt){if(Array.isArray(ft)&&ft.length===2){const[dt,pt]=ft;yield{name:dt,data:pt}}else yield{name:ut.toString(),data:ft};ut++}}else{const ut=Object.getOwnPropertyNames(lt);rt===!0&&!ct?ut.sort():typeof rt=="function"&&ut.sort(rt);for(const ft of ut)if(propertyIsEnumerable.call(lt,ft)){const dt=getPropertyValue(lt,ft);yield{name:ft||'""',data:dt}}else if(_e){let dt;try{dt=getPropertyValue(lt,ft)}catch{}dt!==void 0&&(yield{name:ft,data:dt,isNonenumerable:!0})}_e&&lt!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(lt),isNonenumerable:!0})}},defaultNodeRenderer=({depth:_e,name:rt,data:at,isNonenumerable:lt})=>_e===0?React$8.createElement(ObjectRootLabel,{name:rt,data:at}):React$8.createElement(ObjectLabel,{name:rt,data:at,isNonenumerable:lt}),ObjectInspector=({showNonenumerable:_e=!1,sortObjectKeys:rt,nodeRenderer:at,...lt})=>{const st=createIterator(_e,rt),ct=at||defaultNodeRenderer;return React$8.createElement(TreeView,{nodeRenderer:ct,dataIterator:st,...lt})},themedObjectInspector=themeAcceptor(ObjectInspector);__toESM(require_is_dom());function ObjectInspectorWrapper(){const _e=reactExports.useContext(GlobalContext);return jsx(themedObjectInspector,{expandLevel:2,data:_e})}function ExploreGrey(_e){const{image:rt}=_e;if(!rt)return jsx("div",{children:"No selected image"});if(rt.colorModel!=="RGB"&&rt.colorModel!=="RGBA")return jsx("div",{children:"This is a grey image, no need to explore"});const at=rt.resize({width:400}),lt=Object.values(GreyAlgorithm),st=[];for(let ct of lt)st.push({algorithm:ct,image:at.grey({algorithm:ct})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:st.map(ct=>jsxs("div",{children:[jsx("div",{children:ct.algorithm}),jsx(ImageViewer,{image:ct.image})]},ct.algorithm))})}function ExploreGreyWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreGrey,{image:_e.data.image})}function MaskViewer(_e){const{mask:rt,zoom:at=.1}=_e,lt=reactExports.useRef(null);return reactExports.useEffect(()=>{rt&&writeCanvas(rt.convertColor(ImageColorModel.GREY),lt.current)},[lt,rt]),jsx("div",{style:{zoom:at},children:jsx("canvas",{ref:lt})})}function ExploreMask(_e){let{image:rt}=_e;if(!rt)return jsx("div",{children:"No selected image"});rt.channels>1&&(rt=rt.grey());const at=rt.resize({width:400}),lt=[];for(let st of Object.values(ThresholdAlgorithm))lt.push({algorithm:st,mask:at.threshold({algorithm:st})});return jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:lt.map(st=>jsxs("div",{children:[jsx("div",{children:st.algorithm}),jsx(MaskViewer,{mask:st.mask,zoom:.5})]},st.algorithm))})}function ExploreMaskWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreMask,{image:_e.data.image})}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function functionalUpdate(_e,rt){return typeof _e=="function"?_e(rt):_e}function makeStateUpdater(_e,rt){return at=>{rt.setState(lt=>({...lt,[_e]:functionalUpdate(at,lt[_e])}))}}function isFunction(_e){return _e instanceof Function}function flattenBy(_e,rt){const at=[],lt=st=>{st.forEach(ct=>{at.push(ct);const ut=rt(ct);ut!=null&&ut.length&&lt(ut)})};return lt(_e),at}function memo(_e,rt,at){let lt=[],st;return()=>{let ct;at.key&&at.debug&&(ct=Date.now());const ut=_e();if(!(ut.length!==lt.length||ut.some((pt,ht)=>lt[ht]!==pt)))return st;lt=ut;let dt;if(at.key&&at.debug&&(dt=Date.now()),st=rt(...ut),at==null||at.onChange==null||at.onChange(st),at.key&&at.debug&&at!=null&&at.debug()){const pt=Math.round((Date.now()-ct)*100)/100,ht=Math.round((Date.now()-dt)*100)/100,gt=ht/16,mt=(xt,vt)=>{for(xt=String(xt);xt.length<vt;)xt=" "+xt;return xt};console.info(`%c⏱ ${mt(ht,5)} /${mt(pt,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*gt,120))}deg 100% 31%);`,at==null?void 0:at.key)}return st}}function createColumn(_e,rt,at,lt){var st,ct;const ft={..._e._getDefaultColumnDef(),...rt},dt=ft.accessorKey;let pt=(st=(ct=ft.id)!=null?ct:dt?dt.replace(".","_"):void 0)!=null?st:typeof ft.header=="string"?ft.header:void 0,ht;if(ft.accessorFn?ht=ft.accessorFn:dt&&(dt.includes(".")?ht=mt=>{let xt=mt;for(const yt of dt.split(".")){var vt;xt=(vt=xt)==null?void 0:vt[yt]}return xt}:ht=mt=>mt[ft.accessorKey]),!pt)throw new Error;let gt={id:`${String(pt)}`,accessorFn:ht,parent:lt,depth:at,columnDef:ft,columns:[],getFlatColumns:memo(()=>[!0],()=>{var mt;return[gt,...(mt=gt.columns)==null?void 0:mt.flatMap(xt=>xt.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var mt;return(mt=_e.options.debugAll)!=null?mt:_e.options.debugColumns}}),getLeafColumns:memo(()=>[_e._getOrderColumnsFn()],mt=>{var xt;if((xt=gt.columns)!=null&&xt.length){let vt=gt.columns.flatMap(yt=>yt.getLeafColumns());return mt(vt)}return[gt]},{key:"column.getLeafColumns",debug:()=>{var mt;return(mt=_e.options.debugAll)!=null?mt:_e.options.debugColumns}})};return gt=_e._features.reduce((mt,xt)=>Object.assign(mt,xt.createColumn==null?void 0:xt.createColumn(gt,_e)),gt),gt}function createHeader(_e,rt,at){var lt;let ct={id:(lt=at.id)!=null?lt:rt.id,column:rt,index:at.index,isPlaceholder:!!at.isPlaceholder,placeholderId:at.placeholderId,depth:at.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const ut=[],ft=dt=>{dt.subHeaders&&dt.subHeaders.length&&dt.subHeaders.map(ft),ut.push(dt)};return ft(ct),ut},getContext:()=>({table:_e,header:ct,column:rt})};return _e._features.forEach(ut=>{Object.assign(ct,ut.createHeader==null?void 0:ut.createHeader(ct,_e))}),ct}const Headers={createTable:_e=>({getHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(rt,at,lt,st)=>{var ct,ut;const ft=(ct=lt==null?void 0:lt.map(gt=>at.find(mt=>mt.id===gt)).filter(Boolean))!=null?ct:[],dt=(ut=st==null?void 0:st.map(gt=>at.find(mt=>mt.id===gt)).filter(Boolean))!=null?ut:[],pt=at.filter(gt=>!(lt!=null&&lt.includes(gt.id))&&!(st!=null&&st.includes(gt.id)));return buildHeaderGroups(rt,[...ft,...pt,...dt],_e)},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getCenterHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(rt,at,lt,st)=>(at=at.filter(ct=>!(lt!=null&&lt.includes(ct.id))&&!(st!=null&&st.includes(ct.id))),buildHeaderGroups(rt,at,_e,"center")),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getLeftHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.left],(rt,at,lt)=>{var st;const ct=(st=lt==null?void 0:lt.map(ut=>at.find(ft=>ft.id===ut)).filter(Boolean))!=null?st:[];return buildHeaderGroups(rt,ct,_e,"left")},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getRightHeaderGroups:memo(()=>[_e.getAllColumns(),_e.getVisibleLeafColumns(),_e.getState().columnPinning.right],(rt,at,lt)=>{var st;const ct=(st=lt==null?void 0:lt.map(ut=>at.find(ft=>ft.id===ut)).filter(Boolean))!=null?st:[];return buildHeaderGroups(rt,ct,_e,"right")},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getFooterGroups:memo(()=>[_e.getHeaderGroups()],rt=>[...rt].reverse(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getLeftFooterGroups:memo(()=>[_e.getLeftHeaderGroups()],rt=>[...rt].reverse(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getCenterFooterGroups:memo(()=>[_e.getCenterHeaderGroups()],rt=>[...rt].reverse(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getRightFooterGroups:memo(()=>[_e.getRightHeaderGroups()],rt=>[...rt].reverse(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getFlatHeaders:memo(()=>[_e.getHeaderGroups()],rt=>rt.map(at=>at.headers).flat(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getLeftFlatHeaders:memo(()=>[_e.getLeftHeaderGroups()],rt=>rt.map(at=>at.headers).flat(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getCenterFlatHeaders:memo(()=>[_e.getCenterHeaderGroups()],rt=>rt.map(at=>at.headers).flat(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getRightFlatHeaders:memo(()=>[_e.getRightHeaderGroups()],rt=>rt.map(at=>at.headers).flat(),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getCenterLeafHeaders:memo(()=>[_e.getCenterFlatHeaders()],rt=>rt.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getLeftLeafHeaders:memo(()=>[_e.getLeftFlatHeaders()],rt=>rt.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getRightLeafHeaders:memo(()=>[_e.getRightFlatHeaders()],rt=>rt.filter(at=>{var lt;return!((lt=at.subHeaders)!=null&&lt.length)}),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}}),getLeafHeaders:memo(()=>[_e.getLeftHeaderGroups(),_e.getCenterHeaderGroups(),_e.getRightHeaderGroups()],(rt,at,lt)=>{var st,ct,ut,ft,dt,pt;return[...(st=(ct=rt[0])==null?void 0:ct.headers)!=null?st:[],...(ut=(ft=at[0])==null?void 0:ft.headers)!=null?ut:[],...(dt=(pt=lt[0])==null?void 0:pt.headers)!=null?dt:[]].map(ht=>ht.getLeafHeaders()).flat()},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugHeaders}})})};function buildHeaderGroups(_e,rt,at,lt){var st,ct;let ut=0;const ft=function(mt,xt){xt===void 0&&(xt=1),ut=Math.max(ut,xt),mt.filter(vt=>vt.getIsVisible()).forEach(vt=>{var yt;(yt=vt.columns)!=null&&yt.length&&ft(vt.columns,xt+1)},0)};ft(_e);let dt=[];const pt=(mt,xt)=>{const vt={depth:xt,id:[lt,`${xt}`].filter(Boolean).join("_"),headers:[]},yt=[];mt.forEach(_t=>{const $t=[...yt].reverse()[0],Et=_t.column.depth===vt.depth;let wt,bt=!1;if(Et&&_t.column.parent?wt=_t.column.parent:(wt=_t.column,bt=!0),$t&&($t==null?void 0:$t.column)===wt)$t.subHeaders.push(_t);else{const St=createHeader(at,wt,{id:[lt,xt,wt.id,_t==null?void 0:_t.id].filter(Boolean).join("_"),isPlaceholder:bt,placeholderId:bt?`${yt.filter(Tt=>Tt.column===wt).length}`:void 0,depth:xt,index:yt.length});St.subHeaders.push(_t),yt.push(St)}vt.headers.push(_t),_t.headerGroup=vt}),dt.push(vt),xt>0&&pt(yt,xt-1)},ht=rt.map((mt,xt)=>createHeader(at,mt,{depth:ut,index:xt}));pt(ht,ut-1),dt.reverse();const gt=mt=>mt.filter(vt=>vt.column.getIsVisible()).map(vt=>{let yt=0,_t=0,$t=[0];vt.subHeaders&&vt.subHeaders.length?($t=[],gt(vt.subHeaders).forEach(wt=>{let{colSpan:bt,rowSpan:St}=wt;yt+=bt,$t.push(St)})):yt=1;const Et=Math.min(...$t);return _t=_t+Et,vt.colSpan=yt,vt.rowSpan=_t,{colSpan:yt,rowSpan:_t}});return gt((st=(ct=dt[0])==null?void 0:ct.headers)!=null?st:[]),dt}const defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},getDefaultColumnSizingInfoState=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:_e=>({columnSizing:{},columnSizingInfo:getDefaultColumnSizingInfoState(),..._e}),getDefaultOptions:_e=>({columnResizeMode:"onEnd",onColumnSizingChange:makeStateUpdater("columnSizing",_e),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",_e)}),createColumn:(_e,rt)=>({getSize:()=>{var at,lt,st;const ct=rt.getState().columnSizing[_e.id];return Math.min(Math.max((at=_e.columnDef.minSize)!=null?at:defaultColumnSizing.minSize,(lt=ct??_e.columnDef.size)!=null?lt:defaultColumnSizing.size),(st=_e.columnDef.maxSize)!=null?st:defaultColumnSizing.maxSize)},getStart:at=>{const lt=at?at==="left"?rt.getLeftVisibleLeafColumns():rt.getRightVisibleLeafColumns():rt.getVisibleLeafColumns(),st=lt.findIndex(ct=>ct.id===_e.id);if(st>0){const ct=lt[st-1];return ct.getStart(at)+ct.getSize()}return 0},resetSize:()=>{rt.setColumnSizing(at=>{let{[_e.id]:lt,...st}=at;return st})},getCanResize:()=>{var at,lt;return((at=_e.columnDef.enableResizing)!=null?at:!0)&&((lt=rt.options.enableColumnResizing)!=null?lt:!0)},getIsResizing:()=>rt.getState().columnSizingInfo.isResizingColumn===_e.id}),createHeader:(_e,rt)=>({getSize:()=>{let at=0;const lt=st=>{if(st.subHeaders.length)st.subHeaders.forEach(lt);else{var ct;at+=(ct=st.column.getSize())!=null?ct:0}};return lt(_e),at},getStart:()=>{if(_e.index>0){const at=_e.headerGroup.headers[_e.index-1];return at.getStart()+at.getSize()}return 0},getResizeHandler:()=>{const at=rt.getColumn(_e.column.id),lt=at==null?void 0:at.getCanResize();return st=>{if(!at||!lt||(st.persist==null||st.persist(),isTouchStartEvent(st)&&st.touches&&st.touches.length>1))return;const ct=_e.getSize(),ut=_e?_e.getLeafHeaders().map(yt=>[yt.column.id,yt.column.getSize()]):[[at.id,at.getSize()]],ft=isTouchStartEvent(st)?Math.round(st.touches[0].clientX):st.clientX,dt={},pt=(yt,_t)=>{typeof _t=="number"&&(rt.setColumnSizingInfo($t=>{var Et,wt;const bt=_t-((Et=$t==null?void 0:$t.startOffset)!=null?Et:0),St=Math.max(bt/((wt=$t==null?void 0:$t.startSize)!=null?wt:0),-.999999);return $t.columnSizingStart.forEach(Tt=>{let[Rt,kt]=Tt;dt[Rt]=Math.round(Math.max(kt+kt*St,0)*100)/100}),{...$t,deltaOffset:bt,deltaPercentage:St}}),(rt.options.columnResizeMode==="onChange"||yt==="end")&&rt.setColumnSizing($t=>({...$t,...dt})))},ht=yt=>pt("move",yt),gt=yt=>{pt("end",yt),rt.setColumnSizingInfo(_t=>({..._t,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},mt={moveHandler:yt=>ht(yt.clientX),upHandler:yt=>{document.removeEventListener("mousemove",mt.moveHandler),document.removeEventListener("mouseup",mt.upHandler),gt(yt.clientX)}},xt={moveHandler:yt=>(yt.cancelable&&(yt.preventDefault(),yt.stopPropagation()),ht(yt.touches[0].clientX),!1),upHandler:yt=>{var _t;document.removeEventListener("touchmove",xt.moveHandler),document.removeEventListener("touchend",xt.upHandler),yt.cancelable&&(yt.preventDefault(),yt.stopPropagation()),gt((_t=yt.touches[0])==null?void 0:_t.clientX)}},vt=passiveEventSupported()?{passive:!1}:!1;isTouchStartEvent(st)?(document.addEventListener("touchmove",xt.moveHandler,vt),document.addEventListener("touchend",xt.upHandler,vt)):(document.addEventListener("mousemove",mt.moveHandler,vt),document.addEventListener("mouseup",mt.upHandler,vt)),rt.setColumnSizingInfo(yt=>({...yt,startOffset:ft,startSize:ct,deltaOffset:0,deltaPercentage:0,columnSizingStart:ut,isResizingColumn:at.id}))}}}),createTable:_e=>({setColumnSizing:rt=>_e.options.onColumnSizingChange==null?void 0:_e.options.onColumnSizingChange(rt),setColumnSizingInfo:rt=>_e.options.onColumnSizingInfoChange==null?void 0:_e.options.onColumnSizingInfoChange(rt),resetColumnSizing:rt=>{var at;_e.setColumnSizing(rt?{}:(at=_e.initialState.columnSizing)!=null?at:{})},resetHeaderSizeInfo:rt=>{var at;_e.setColumnSizingInfo(rt?getDefaultColumnSizingInfoState():(at=_e.initialState.columnSizingInfo)!=null?at:getDefaultColumnSizingInfoState())},getTotalSize:()=>{var rt,at;return(rt=(at=_e.getHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?rt:0},getLeftTotalSize:()=>{var rt,at;return(rt=(at=_e.getLeftHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?rt:0},getCenterTotalSize:()=>{var rt,at;return(rt=(at=_e.getCenterHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?rt:0},getRightTotalSize:()=>{var rt,at;return(rt=(at=_e.getRightHeaderGroups()[0])==null?void 0:at.headers.reduce((lt,st)=>lt+st.getSize(),0))!=null?rt:0}})};let passiveSupported=null;function passiveEventSupported(){if(typeof passiveSupported=="boolean")return passiveSupported;let _e=!1;try{const rt={get passive(){return _e=!0,!1}},at=()=>{};window.addEventListener("test",at,rt),window.removeEventListener("test",at)}catch{_e=!1}return passiveSupported=_e,passiveSupported}function isTouchStartEvent(_e){return _e.type==="touchstart"}const Expanding={getInitialState:_e=>({expanded:{},..._e}),getDefaultOptions:_e=>({onExpandedChange:makeStateUpdater("expanded",_e),paginateExpandedRows:!0}),createTable:_e=>{let rt=!1,at=!1;return{_autoResetExpanded:()=>{var lt,st;if(!rt){_e._queue(()=>{rt=!0});return}if((lt=(st=_e.options.autoResetAll)!=null?st:_e.options.autoResetExpanded)!=null?lt:!_e.options.manualExpanding){if(at)return;at=!0,_e._queue(()=>{_e.resetExpanded(),at=!1})}},setExpanded:lt=>_e.options.onExpandedChange==null?void 0:_e.options.onExpandedChange(lt),toggleAllRowsExpanded:lt=>{lt??!_e.getIsAllRowsExpanded()?_e.setExpanded(!0):_e.setExpanded({})},resetExpanded:lt=>{var st,ct;_e.setExpanded(lt?{}:(st=(ct=_e.initialState)==null?void 0:ct.expanded)!=null?st:{})},getCanSomeRowsExpand:()=>_e.getPrePaginationRowModel().flatRows.some(lt=>lt.getCanExpand()),getToggleAllRowsExpandedHandler:()=>lt=>{lt.persist==null||lt.persist(),_e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const lt=_e.getState().expanded;return lt===!0||Object.values(lt).some(Boolean)},getIsAllRowsExpanded:()=>{const lt=_e.getState().expanded;return typeof lt=="boolean"?lt===!0:!(!Object.keys(lt).length||_e.getRowModel().flatRows.some(st=>!st.getIsExpanded()))},getExpandedDepth:()=>{let lt=0;return(_e.getState().expanded===!0?Object.keys(_e.getRowModel().rowsById):Object.keys(_e.getState().expanded)).forEach(ct=>{const ut=ct.split(".");lt=Math.max(lt,ut.length)}),lt},getPreExpandedRowModel:()=>_e.getSortedRowModel(),getExpandedRowModel:()=>(!_e._getExpandedRowModel&&_e.options.getExpandedRowModel&&(_e._getExpandedRowModel=_e.options.getExpandedRowModel(_e)),_e.options.manualExpanding||!_e._getExpandedRowModel?_e.getPreExpandedRowModel():_e._getExpandedRowModel())}},createRow:(_e,rt)=>({toggleExpanded:at=>{rt.setExpanded(lt=>{var st;const ct=lt===!0?!0:!!(lt!=null&&lt[_e.id]);let ut={};if(lt===!0?Object.keys(rt.getRowModel().rowsById).forEach(ft=>{ut[ft]=!0}):ut=lt,at=(st=at)!=null?st:!ct,!ct&&at)return{...ut,[_e.id]:!0};if(ct&&!at){const{[_e.id]:ft,...dt}=ut;return dt}return lt})},getIsExpanded:()=>{var at;const lt=rt.getState().expanded;return!!((at=rt.options.getIsRowExpanded==null?void 0:rt.options.getIsRowExpanded(_e))!=null?at:lt===!0||lt!=null&&lt[_e.id])},getCanExpand:()=>{var at,lt,st;return(at=rt.options.getRowCanExpand==null?void 0:rt.options.getRowCanExpand(_e))!=null?at:((lt=rt.options.enableExpanding)!=null?lt:!0)&&!!((st=_e.subRows)!=null&&st.length)},getToggleExpandedHandler:()=>{const at=_e.getCanExpand();return()=>{at&&_e.toggleExpanded()}}})},includesString=(_e,rt,at)=>{var lt,st,ct;const ut=at.toLowerCase();return!!(!((lt=_e.getValue(rt))==null||(st=lt.toString())==null||(ct=st.toLowerCase())==null)&&ct.includes(ut))};includesString.autoRemove=_e=>testFalsey(_e);const includesStringSensitive=(_e,rt,at)=>{var lt,st;return!!(!((lt=_e.getValue(rt))==null||(st=lt.toString())==null)&&st.includes(at))};includesStringSensitive.autoRemove=_e=>testFalsey(_e);const equalsString=(_e,rt,at)=>{var lt,st;return((lt=_e.getValue(rt))==null||(st=lt.toString())==null?void 0:st.toLowerCase())===(at==null?void 0:at.toLowerCase())};equalsString.autoRemove=_e=>testFalsey(_e);const arrIncludes=(_e,rt,at)=>{var lt;return(lt=_e.getValue(rt))==null?void 0:lt.includes(at)};arrIncludes.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const arrIncludesAll=(_e,rt,at)=>!at.some(lt=>{var st;return!((st=_e.getValue(rt))!=null&&st.includes(lt))});arrIncludesAll.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const arrIncludesSome=(_e,rt,at)=>at.some(lt=>{var st;return(st=_e.getValue(rt))==null?void 0:st.includes(lt)});arrIncludesSome.autoRemove=_e=>testFalsey(_e)||!(_e!=null&&_e.length);const equals=(_e,rt,at)=>_e.getValue(rt)===at;equals.autoRemove=_e=>testFalsey(_e);const weakEquals=(_e,rt,at)=>_e.getValue(rt)==at;weakEquals.autoRemove=_e=>testFalsey(_e);const inNumberRange=(_e,rt,at)=>{let[lt,st]=at;const ct=_e.getValue(rt);return ct>=lt&&ct<=st};inNumberRange.resolveFilterValue=_e=>{let[rt,at]=_e,lt=typeof rt!="number"?parseFloat(rt):rt,st=typeof at!="number"?parseFloat(at):at,ct=rt===null||Number.isNaN(lt)?-1/0:lt,ut=at===null||Number.isNaN(st)?1/0:st;if(ct>ut){const ft=ct;ct=ut,ut=ft}return[ct,ut]};inNumberRange.autoRemove=_e=>testFalsey(_e)||testFalsey(_e[0])&&testFalsey(_e[1]);const filterFns={includesString,includesStringSensitive,equalsString,arrIncludes,arrIncludesAll,arrIncludesSome,equals,weakEquals,inNumberRange};function testFalsey(_e){return _e==null||_e===""}const Filters={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:_e=>({columnFilters:[],globalFilter:void 0,..._e}),getDefaultOptions:_e=>({onColumnFiltersChange:makeStateUpdater("columnFilters",_e),onGlobalFilterChange:makeStateUpdater("globalFilter",_e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:rt=>{var at,lt;const st=(at=_e.getCoreRowModel().flatRows[0])==null||(lt=at._getAllCellsByColumnId()[rt.id])==null?void 0:lt.getValue();return typeof st=="string"||typeof st=="number"}}),createColumn:(_e,rt)=>({getAutoFilterFn:()=>{const at=rt.getCoreRowModel().flatRows[0],lt=at==null?void 0:at.getValue(_e.id);return typeof lt=="string"?filterFns.includesString:typeof lt=="number"?filterFns.inNumberRange:typeof lt=="boolean"||lt!==null&&typeof lt=="object"?filterFns.equals:Array.isArray(lt)?filterFns.arrIncludes:filterFns.weakEquals},getFilterFn:()=>{var at,lt;return isFunction(_e.columnDef.filterFn)?_e.columnDef.filterFn:_e.columnDef.filterFn==="auto"?_e.getAutoFilterFn():(at=(lt=rt.options.filterFns)==null?void 0:lt[_e.columnDef.filterFn])!=null?at:filterFns[_e.columnDef.filterFn]},getCanFilter:()=>{var at,lt,st;return((at=_e.columnDef.enableColumnFilter)!=null?at:!0)&&((lt=rt.options.enableColumnFilters)!=null?lt:!0)&&((st=rt.options.enableFilters)!=null?st:!0)&&!!_e.accessorFn},getCanGlobalFilter:()=>{var at,lt,st,ct;return((at=_e.columnDef.enableGlobalFilter)!=null?at:!0)&&((lt=rt.options.enableGlobalFilter)!=null?lt:!0)&&((st=rt.options.enableFilters)!=null?st:!0)&&((ct=rt.options.getColumnCanGlobalFilter==null?void 0:rt.options.getColumnCanGlobalFilter(_e))!=null?ct:!0)&&!!_e.accessorFn},getIsFiltered:()=>_e.getFilterIndex()>-1,getFilterValue:()=>{var at,lt;return(at=rt.getState().columnFilters)==null||(lt=at.find(st=>st.id===_e.id))==null?void 0:lt.value},getFilterIndex:()=>{var at,lt;return(at=(lt=rt.getState().columnFilters)==null?void 0:lt.findIndex(st=>st.id===_e.id))!=null?at:-1},setFilterValue:at=>{rt.setColumnFilters(lt=>{const st=_e.getFilterFn(),ct=lt==null?void 0:lt.find(ht=>ht.id===_e.id),ut=functionalUpdate(at,ct?ct.value:void 0);if(shouldAutoRemoveFilter(st,ut,_e)){var ft;return(ft=lt==null?void 0:lt.filter(ht=>ht.id!==_e.id))!=null?ft:[]}const dt={id:_e.id,value:ut};if(ct){var pt;return(pt=lt==null?void 0:lt.map(ht=>ht.id===_e.id?dt:ht))!=null?pt:[]}return lt!=null&&lt.length?[...lt,dt]:[dt]})},_getFacetedRowModel:rt.options.getFacetedRowModel&&rt.options.getFacetedRowModel(rt,_e.id),getFacetedRowModel:()=>_e._getFacetedRowModel?_e._getFacetedRowModel():rt.getPreFilteredRowModel(),_getFacetedUniqueValues:rt.options.getFacetedUniqueValues&&rt.options.getFacetedUniqueValues(rt,_e.id),getFacetedUniqueValues:()=>_e._getFacetedUniqueValues?_e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:rt.options.getFacetedMinMaxValues&&rt.options.getFacetedMinMaxValues(rt,_e.id),getFacetedMinMaxValues:()=>{if(_e._getFacetedMinMaxValues)return _e._getFacetedMinMaxValues()}}),createRow:(_e,rt)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:_e=>({getGlobalAutoFilterFn:()=>filterFns.includesString,getGlobalFilterFn:()=>{var rt,at;const{globalFilterFn:lt}=_e.options;return isFunction(lt)?lt:lt==="auto"?_e.getGlobalAutoFilterFn():(rt=(at=_e.options.filterFns)==null?void 0:at[lt])!=null?rt:filterFns[lt]},setColumnFilters:rt=>{const at=_e.getAllLeafColumns(),lt=st=>{var ct;return(ct=functionalUpdate(rt,st))==null?void 0:ct.filter(ut=>{const ft=at.find(dt=>dt.id===ut.id);if(ft){const dt=ft.getFilterFn();if(shouldAutoRemoveFilter(dt,ut.value,ft))return!1}return!0})};_e.options.onColumnFiltersChange==null||_e.options.onColumnFiltersChange(lt)},setGlobalFilter:rt=>{_e.options.onGlobalFilterChange==null||_e.options.onGlobalFilterChange(rt)},resetGlobalFilter:rt=>{_e.setGlobalFilter(rt?void 0:_e.initialState.globalFilter)},resetColumnFilters:rt=>{var at,lt;_e.setColumnFilters(rt?[]:(at=(lt=_e.initialState)==null?void 0:lt.columnFilters)!=null?at:[])},getPreFilteredRowModel:()=>_e.getCoreRowModel(),getFilteredRowModel:()=>(!_e._getFilteredRowModel&&_e.options.getFilteredRowModel&&(_e._getFilteredRowModel=_e.options.getFilteredRowModel(_e)),_e.options.manualFiltering||!_e._getFilteredRowModel?_e.getPreFilteredRowModel():_e._getFilteredRowModel()),_getGlobalFacetedRowModel:_e.options.getFacetedRowModel&&_e.options.getFacetedRowModel(_e,"__global__"),getGlobalFacetedRowModel:()=>_e.options.manualFiltering||!_e._getGlobalFacetedRowModel?_e.getPreFilteredRowModel():_e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:_e.options.getFacetedUniqueValues&&_e.options.getFacetedUniqueValues(_e,"__global__"),getGlobalFacetedUniqueValues:()=>_e._getGlobalFacetedUniqueValues?_e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:_e.options.getFacetedMinMaxValues&&_e.options.getFacetedMinMaxValues(_e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(_e._getGlobalFacetedMinMaxValues)return _e._getGlobalFacetedMinMaxValues()}})};function shouldAutoRemoveFilter(_e,rt,at){return(_e&&_e.autoRemove?_e.autoRemove(rt,at):!1)||typeof rt>"u"||typeof rt=="string"&&!rt}const sum=(_e,rt,at)=>at.reduce((lt,st)=>{const ct=st.getValue(_e);return lt+(typeof ct=="number"?ct:0)},0),min=(_e,rt,at)=>{let lt;return at.forEach(st=>{const ct=st.getValue(_e);ct!=null&&(lt>ct||lt===void 0&&ct>=ct)&&(lt=ct)}),lt},max=(_e,rt,at)=>{let lt;return at.forEach(st=>{const ct=st.getValue(_e);ct!=null&&(lt<ct||lt===void 0&&ct>=ct)&&(lt=ct)}),lt},extent=(_e,rt,at)=>{let lt,st;return at.forEach(ct=>{const ut=ct.getValue(_e);ut!=null&&(lt===void 0?ut>=ut&&(lt=st=ut):(lt>ut&&(lt=ut),st<ut&&(st=ut)))}),[lt,st]},mean=(_e,rt)=>{let at=0,lt=0;if(rt.forEach(st=>{let ct=st.getValue(_e);ct!=null&&(ct=+ct)>=ct&&(++at,lt+=ct)}),at)return lt/at},median=(_e,rt)=>{if(!rt.length)return;let at=0,lt=0;return rt.forEach(st=>{let ct=st.getValue(_e);typeof ct=="number"&&(at=Math.min(at,ct),lt=Math.max(lt,ct))}),(at+lt)/2},unique=(_e,rt)=>Array.from(new Set(rt.map(at=>at.getValue(_e))).values()),uniqueCount=(_e,rt)=>new Set(rt.map(at=>at.getValue(_e))).size,count=(_e,rt)=>rt.length,aggregationFns={sum,min,max,extent,mean,median,unique,uniqueCount,count},Grouping={getDefaultColumnDef:()=>({aggregatedCell:_e=>{var rt,at;return(rt=(at=_e.getValue())==null||at.toString==null?void 0:at.toString())!=null?rt:null},aggregationFn:"auto"}),getInitialState:_e=>({grouping:[],..._e}),getDefaultOptions:_e=>({onGroupingChange:makeStateUpdater("grouping",_e),groupedColumnMode:"reorder"}),createColumn:(_e,rt)=>({toggleGrouping:()=>{rt.setGrouping(at=>at!=null&&at.includes(_e.id)?at.filter(lt=>lt!==_e.id):[...at??[],_e.id])},getCanGroup:()=>{var at,lt,st,ct;return(at=(lt=(st=(ct=_e.columnDef.enableGrouping)!=null?ct:!0)!=null?st:rt.options.enableGrouping)!=null?lt:!0)!=null?at:!!_e.accessorFn},getIsGrouped:()=>{var at;return(at=rt.getState().grouping)==null?void 0:at.includes(_e.id)},getGroupedIndex:()=>{var at;return(at=rt.getState().grouping)==null?void 0:at.indexOf(_e.id)},getToggleGroupingHandler:()=>{const at=_e.getCanGroup();return()=>{at&&_e.toggleGrouping()}},getAutoAggregationFn:()=>{const at=rt.getCoreRowModel().flatRows[0],lt=at==null?void 0:at.getValue(_e.id);if(typeof lt=="number")return aggregationFns.sum;if(Object.prototype.toString.call(lt)==="[object Date]")return aggregationFns.extent},getAggregationFn:()=>{var at,lt;if(!_e)throw new Error;return isFunction(_e.columnDef.aggregationFn)?_e.columnDef.aggregationFn:_e.columnDef.aggregationFn==="auto"?_e.getAutoAggregationFn():(at=(lt=rt.options.aggregationFns)==null?void 0:lt[_e.columnDef.aggregationFn])!=null?at:aggregationFns[_e.columnDef.aggregationFn]}}),createTable:_e=>({setGrouping:rt=>_e.options.onGroupingChange==null?void 0:_e.options.onGroupingChange(rt),resetGrouping:rt=>{var at,lt;_e.setGrouping(rt?[]:(at=(lt=_e.initialState)==null?void 0:lt.grouping)!=null?at:[])},getPreGroupedRowModel:()=>_e.getFilteredRowModel(),getGroupedRowModel:()=>(!_e._getGroupedRowModel&&_e.options.getGroupedRowModel&&(_e._getGroupedRowModel=_e.options.getGroupedRowModel(_e)),_e.options.manualGrouping||!_e._getGroupedRowModel?_e.getPreGroupedRowModel():_e._getGroupedRowModel())}),createRow:_e=>({getIsGrouped:()=>!!_e.groupingColumnId,_groupingValuesCache:{}}),createCell:(_e,rt,at,lt)=>({getIsGrouped:()=>rt.getIsGrouped()&&rt.id===at.groupingColumnId,getIsPlaceholder:()=>!_e.getIsGrouped()&&rt.getIsGrouped(),getIsAggregated:()=>{var st;return!_e.getIsGrouped()&&!_e.getIsPlaceholder()&&!!((st=at.subRows)!=null&&st.length)}})};function orderColumns(_e,rt,at){if(!(rt!=null&&rt.length)||!at)return _e;const lt=_e.filter(ct=>!rt.includes(ct.id));return at==="remove"?lt:[...rt.map(ct=>_e.find(ut=>ut.id===ct)).filter(Boolean),...lt]}const Ordering={getInitialState:_e=>({columnOrder:[],..._e}),getDefaultOptions:_e=>({onColumnOrderChange:makeStateUpdater("columnOrder",_e)}),createTable:_e=>({setColumnOrder:rt=>_e.options.onColumnOrderChange==null?void 0:_e.options.onColumnOrderChange(rt),resetColumnOrder:rt=>{var at;_e.setColumnOrder(rt?[]:(at=_e.initialState.columnOrder)!=null?at:[])},_getOrderColumnsFn:memo(()=>[_e.getState().columnOrder,_e.getState().grouping,_e.options.groupedColumnMode],(rt,at,lt)=>st=>{let ct=[];if(!(rt!=null&&rt.length))ct=st;else{const ut=[...rt],ft=[...st];for(;ft.length&&ut.length;){const dt=ut.shift(),pt=ft.findIndex(ht=>ht.id===dt);pt>-1&&ct.push(ft.splice(pt,1)[0])}ct=[...ct,...ft]}return orderColumns(ct,at,lt)},{key:!1})})},defaultPageIndex=0,defaultPageSize=10,getDefaultPaginationState=()=>({pageIndex:defaultPageIndex,pageSize:defaultPageSize}),Pagination={getInitialState:_e=>({..._e,pagination:{...getDefaultPaginationState(),..._e==null?void 0:_e.pagination}}),getDefaultOptions:_e=>({onPaginationChange:makeStateUpdater("pagination",_e)}),createTable:_e=>{let rt=!1,at=!1;return{_autoResetPageIndex:()=>{var lt,st;if(!rt){_e._queue(()=>{rt=!0});return}if((lt=(st=_e.options.autoResetAll)!=null?st:_e.options.autoResetPageIndex)!=null?lt:!_e.options.manualPagination){if(at)return;at=!0,_e._queue(()=>{_e.resetPageIndex(),at=!1})}},setPagination:lt=>{const st=ct=>functionalUpdate(lt,ct);return _e.options.onPaginationChange==null?void 0:_e.options.onPaginationChange(st)},resetPagination:lt=>{var st;_e.setPagination(lt?getDefaultPaginationState():(st=_e.initialState.pagination)!=null?st:getDefaultPaginationState())},setPageIndex:lt=>{_e.setPagination(st=>{let ct=functionalUpdate(lt,st.pageIndex);const ut=typeof _e.options.pageCount>"u"||_e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:_e.options.pageCount-1;return ct=Math.max(0,Math.min(ct,ut)),{...st,pageIndex:ct}})},resetPageIndex:lt=>{var st,ct,ut;_e.setPageIndex(lt?defaultPageIndex:(st=(ct=_e.initialState)==null||(ut=ct.pagination)==null?void 0:ut.pageIndex)!=null?st:defaultPageIndex)},resetPageSize:lt=>{var st,ct,ut;_e.setPageSize(lt?defaultPageSize:(st=(ct=_e.initialState)==null||(ut=ct.pagination)==null?void 0:ut.pageSize)!=null?st:defaultPageSize)},setPageSize:lt=>{_e.setPagination(st=>{const ct=Math.max(1,functionalUpdate(lt,st.pageSize)),ut=st.pageSize*st.pageIndex,ft=Math.floor(ut/ct);return{...st,pageIndex:ft,pageSize:ct}})},setPageCount:lt=>_e.setPagination(st=>{var ct;let ut=functionalUpdate(lt,(ct=_e.options.pageCount)!=null?ct:-1);return typeof ut=="number"&&(ut=Math.max(-1,ut)),{...st,pageCount:ut}}),getPageOptions:memo(()=>[_e.getPageCount()],lt=>{let st=[];return lt&&lt>0&&(st=[...new Array(lt)].fill(null).map((ct,ut)=>ut)),st},{key:!1,debug:()=>{var lt;return(lt=_e.options.debugAll)!=null?lt:_e.options.debugTable}}),getCanPreviousPage:()=>_e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:lt}=_e.getState().pagination,st=_e.getPageCount();return st===-1?!0:st===0?!1:lt<st-1},previousPage:()=>_e.setPageIndex(lt=>lt-1),nextPage:()=>_e.setPageIndex(lt=>lt+1),getPrePaginationRowModel:()=>_e.getExpandedRowModel(),getPaginationRowModel:()=>(!_e._getPaginationRowModel&&_e.options.getPaginationRowModel&&(_e._getPaginationRowModel=_e.options.getPaginationRowModel(_e)),_e.options.manualPagination||!_e._getPaginationRowModel?_e.getPrePaginationRowModel():_e._getPaginationRowModel()),getPageCount:()=>{var lt;return(lt=_e.options.pageCount)!=null?lt:Math.ceil(_e.getPrePaginationRowModel().rows.length/_e.getState().pagination.pageSize)}}}},getDefaultPinningState=()=>({left:[],right:[]}),Pinning={getInitialState:_e=>({columnPinning:getDefaultPinningState(),..._e}),getDefaultOptions:_e=>({onColumnPinningChange:makeStateUpdater("columnPinning",_e)}),createColumn:(_e,rt)=>({pin:at=>{const lt=_e.getLeafColumns().map(st=>st.id).filter(Boolean);rt.setColumnPinning(st=>{var ct,ut;if(at==="right"){var ft,dt;return{left:((ft=st==null?void 0:st.left)!=null?ft:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),right:[...((dt=st==null?void 0:st.right)!=null?dt:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),...lt]}}if(at==="left"){var pt,ht;return{left:[...((pt=st==null?void 0:st.left)!=null?pt:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),...lt],right:((ht=st==null?void 0:st.right)!=null?ht:[]).filter(gt=>!(lt!=null&&lt.includes(gt)))}}return{left:((ct=st==null?void 0:st.left)!=null?ct:[]).filter(gt=>!(lt!=null&&lt.includes(gt))),right:((ut=st==null?void 0:st.right)!=null?ut:[]).filter(gt=>!(lt!=null&&lt.includes(gt)))}})},getCanPin:()=>_e.getLeafColumns().some(lt=>{var st,ct;return((st=lt.columnDef.enablePinning)!=null?st:!0)&&((ct=rt.options.enablePinning)!=null?ct:!0)}),getIsPinned:()=>{const at=_e.getLeafColumns().map(ft=>ft.id),{left:lt,right:st}=rt.getState().columnPinning,ct=at.some(ft=>lt==null?void 0:lt.includes(ft)),ut=at.some(ft=>st==null?void 0:st.includes(ft));return ct?"left":ut?"right":!1},getPinnedIndex:()=>{var at,lt,st;const ct=_e.getIsPinned();return ct?(at=(lt=rt.getState().columnPinning)==null||(st=lt[ct])==null?void 0:st.indexOf(_e.id))!=null?at:-1:0}}),createRow:(_e,rt)=>({getCenterVisibleCells:memo(()=>[_e._getAllVisibleCells(),rt.getState().columnPinning.left,rt.getState().columnPinning.right],(at,lt,st)=>{const ct=[...lt??[],...st??[]];return at.filter(ut=>!ct.includes(ut.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var at;return(at=rt.options.debugAll)!=null?at:rt.options.debugRows}}),getLeftVisibleCells:memo(()=>[_e._getAllVisibleCells(),rt.getState().columnPinning.left,,],(at,lt)=>(lt??[]).map(ct=>at.find(ut=>ut.column.id===ct)).filter(Boolean).map(ct=>({...ct,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var at;return(at=rt.options.debugAll)!=null?at:rt.options.debugRows}}),getRightVisibleCells:memo(()=>[_e._getAllVisibleCells(),rt.getState().columnPinning.right],(at,lt)=>(lt??[]).map(ct=>at.find(ut=>ut.column.id===ct)).filter(Boolean).map(ct=>({...ct,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var at;return(at=rt.options.debugAll)!=null?at:rt.options.debugRows}})}),createTable:_e=>({setColumnPinning:rt=>_e.options.onColumnPinningChange==null?void 0:_e.options.onColumnPinningChange(rt),resetColumnPinning:rt=>{var at,lt;return _e.setColumnPinning(rt?getDefaultPinningState():(at=(lt=_e.initialState)==null?void 0:lt.columnPinning)!=null?at:getDefaultPinningState())},getIsSomeColumnsPinned:rt=>{var at;const lt=_e.getState().columnPinning;if(!rt){var st,ct;return!!((st=lt.left)!=null&&st.length||(ct=lt.right)!=null&&ct.length)}return!!((at=lt[rt])!=null&&at.length)},getLeftLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.left],(rt,at)=>(at??[]).map(lt=>rt.find(st=>st.id===lt)).filter(Boolean),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugColumns}}),getRightLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.right],(rt,at)=>(at??[]).map(lt=>rt.find(st=>st.id===lt)).filter(Boolean),{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugColumns}}),getCenterLeafColumns:memo(()=>[_e.getAllLeafColumns(),_e.getState().columnPinning.left,_e.getState().columnPinning.right],(rt,at,lt)=>{const st=[...at??[],...lt??[]];return rt.filter(ct=>!st.includes(ct.id))},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugColumns}})})},RowSelection={getInitialState:_e=>({rowSelection:{},..._e}),getDefaultOptions:_e=>({onRowSelectionChange:makeStateUpdater("rowSelection",_e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:_e=>({setRowSelection:rt=>_e.options.onRowSelectionChange==null?void 0:_e.options.onRowSelectionChange(rt),resetRowSelection:rt=>{var at;return _e.setRowSelection(rt?{}:(at=_e.initialState.rowSelection)!=null?at:{})},toggleAllRowsSelected:rt=>{_e.setRowSelection(at=>{rt=typeof rt<"u"?rt:!_e.getIsAllRowsSelected();const lt={...at},st=_e.getPreGroupedRowModel().flatRows;return rt?st.forEach(ct=>{ct.getCanSelect()&&(lt[ct.id]=!0)}):st.forEach(ct=>{delete lt[ct.id]}),lt})},toggleAllPageRowsSelected:rt=>_e.setRowSelection(at=>{const lt=typeof rt<"u"?rt:!_e.getIsAllPageRowsSelected(),st={...at};return _e.getRowModel().rows.forEach(ct=>{mutateRowIsSelected(st,ct.id,lt,_e)}),st}),getPreSelectedRowModel:()=>_e.getCoreRowModel(),getSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getCoreRowModel()],(rt,at)=>Object.keys(rt).length?selectRowsFn(_e,at):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugTable}}),getFilteredSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getFilteredRowModel()],(rt,at)=>Object.keys(rt).length?selectRowsFn(_e,at):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugTable}}),getGroupedSelectedRowModel:memo(()=>[_e.getState().rowSelection,_e.getSortedRowModel()],(rt,at)=>Object.keys(rt).length?selectRowsFn(_e,at):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugTable}}),getIsAllRowsSelected:()=>{const rt=_e.getFilteredRowModel().flatRows,{rowSelection:at}=_e.getState();let lt=!!(rt.length&&Object.keys(at).length);return lt&&rt.some(st=>st.getCanSelect()&&!at[st.id])&&(lt=!1),lt},getIsAllPageRowsSelected:()=>{const rt=_e.getPaginationRowModel().flatRows.filter(st=>st.getCanSelect()),{rowSelection:at}=_e.getState();let lt=!!rt.length;return lt&&rt.some(st=>!at[st.id])&&(lt=!1),lt},getIsSomeRowsSelected:()=>{var rt;const at=Object.keys((rt=_e.getState().rowSelection)!=null?rt:{}).length;return at>0&&at<_e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const rt=_e.getPaginationRowModel().flatRows;return _e.getIsAllPageRowsSelected()?!1:rt.filter(at=>at.getCanSelect()).some(at=>at.getIsSelected()||at.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>rt=>{_e.toggleAllRowsSelected(rt.target.checked)},getToggleAllPageRowsSelectedHandler:()=>rt=>{_e.toggleAllPageRowsSelected(rt.target.checked)}}),createRow:(_e,rt)=>({toggleSelected:at=>{const lt=_e.getIsSelected();rt.setRowSelection(st=>{if(at=typeof at<"u"?at:!lt,lt===at)return st;const ct={...st};return mutateRowIsSelected(ct,_e.id,at,rt),ct})},getIsSelected:()=>{const{rowSelection:at}=rt.getState();return isRowSelected(_e,at)},getIsSomeSelected:()=>{const{rowSelection:at}=rt.getState();return isSubRowSelected(_e,at)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:at}=rt.getState();return isSubRowSelected(_e,at)==="all"},getCanSelect:()=>{var at;return typeof rt.options.enableRowSelection=="function"?rt.options.enableRowSelection(_e):(at=rt.options.enableRowSelection)!=null?at:!0},getCanSelectSubRows:()=>{var at;return typeof rt.options.enableSubRowSelection=="function"?rt.options.enableSubRowSelection(_e):(at=rt.options.enableSubRowSelection)!=null?at:!0},getCanMultiSelect:()=>{var at;return typeof rt.options.enableMultiRowSelection=="function"?rt.options.enableMultiRowSelection(_e):(at=rt.options.enableMultiRowSelection)!=null?at:!0},getToggleSelectedHandler:()=>{const at=_e.getCanSelect();return lt=>{var st;at&&_e.toggleSelected((st=lt.target)==null?void 0:st.checked)}}})},mutateRowIsSelected=(_e,rt,at,lt)=>{var st;const ct=lt.getRow(rt);at?(ct.getCanMultiSelect()||Object.keys(_e).forEach(ut=>delete _e[ut]),ct.getCanSelect()&&(_e[rt]=!0)):delete _e[rt],(st=ct.subRows)!=null&&st.length&&ct.getCanSelectSubRows()&&ct.subRows.forEach(ut=>mutateRowIsSelected(_e,ut.id,at,lt))};function selectRowsFn(_e,rt){const at=_e.getState().rowSelection,lt=[],st={},ct=function(ut,ft){return ut.map(dt=>{var pt;const ht=isRowSelected(dt,at);if(ht&&(lt.push(dt),st[dt.id]=dt),(pt=dt.subRows)!=null&&pt.length&&(dt={...dt,subRows:ct(dt.subRows)}),ht)return dt}).filter(Boolean)};return{rows:ct(rt.rows),flatRows:lt,rowsById:st}}function isRowSelected(_e,rt){var at;return(at=rt[_e.id])!=null?at:!1}function isSubRowSelected(_e,rt,at){if(_e.subRows&&_e.subRows.length){let lt=!0,st=!1;return _e.subRows.forEach(ct=>{st&&!lt||(isRowSelected(ct,rt)?st=!0:lt=!1)}),lt?"all":st?"some":!1}return!1}const reSplitAlphaNumeric=/([0-9]+)/gm,alphanumeric=(_e,rt,at)=>compareAlphanumeric(toString(_e.getValue(at)).toLowerCase(),toString(rt.getValue(at)).toLowerCase()),alphanumericCaseSensitive=(_e,rt,at)=>compareAlphanumeric(toString(_e.getValue(at)),toString(rt.getValue(at))),text=(_e,rt,at)=>compareBasic(toString(_e.getValue(at)).toLowerCase(),toString(rt.getValue(at)).toLowerCase()),textCaseSensitive=(_e,rt,at)=>compareBasic(toString(_e.getValue(at)),toString(rt.getValue(at))),datetime=(_e,rt,at)=>{const lt=_e.getValue(at),st=rt.getValue(at);return lt>st?1:lt<st?-1:0},basic=(_e,rt,at)=>compareBasic(_e.getValue(at),rt.getValue(at));function compareBasic(_e,rt){return _e===rt?0:_e>rt?1:-1}function toString(_e){return typeof _e=="number"?isNaN(_e)||_e===1/0||_e===-1/0?"":String(_e):typeof _e=="string"?_e:""}function compareAlphanumeric(_e,rt){const at=_e.split(reSplitAlphaNumeric).filter(Boolean),lt=rt.split(reSplitAlphaNumeric).filter(Boolean);for(;at.length&&lt.length;){const st=at.shift(),ct=lt.shift(),ut=parseInt(st,10),ft=parseInt(ct,10),dt=[ut,ft].sort();if(isNaN(dt[0])){if(st>ct)return 1;if(ct>st)return-1;continue}if(isNaN(dt[1]))return isNaN(ut)?-1:1;if(ut>ft)return 1;if(ft>ut)return-1}return at.length-lt.length}const sortingFns={alphanumeric,alphanumericCaseSensitive,text,textCaseSensitive,datetime,basic},Sorting={getInitialState:_e=>({sorting:[],..._e}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:_e=>({onSortingChange:makeStateUpdater("sorting",_e),isMultiSortEvent:rt=>rt.shiftKey}),createColumn:(_e,rt)=>({getAutoSortingFn:()=>{const at=rt.getFilteredRowModel().flatRows.slice(10);let lt=!1;for(const st of at){const ct=st==null?void 0:st.getValue(_e.id);if(Object.prototype.toString.call(ct)==="[object Date]")return sortingFns.datetime;if(typeof ct=="string"&&(lt=!0,ct.split(reSplitAlphaNumeric).length>1))return sortingFns.alphanumeric}return lt?sortingFns.text:sortingFns.basic},getAutoSortDir:()=>{const at=rt.getFilteredRowModel().flatRows[0];return typeof(at==null?void 0:at.getValue(_e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var at,lt;if(!_e)throw new Error;return isFunction(_e.columnDef.sortingFn)?_e.columnDef.sortingFn:_e.columnDef.sortingFn==="auto"?_e.getAutoSortingFn():(at=(lt=rt.options.sortingFns)==null?void 0:lt[_e.columnDef.sortingFn])!=null?at:sortingFns[_e.columnDef.sortingFn]},toggleSorting:(at,lt)=>{const st=_e.getNextSortingOrder(),ct=typeof at<"u"&&at!==null;rt.setSorting(ut=>{const ft=ut==null?void 0:ut.find(xt=>xt.id===_e.id),dt=ut==null?void 0:ut.findIndex(xt=>xt.id===_e.id);let pt=[],ht,gt=ct?at:st==="desc";if(ut!=null&&ut.length&&_e.getCanMultiSort()&&lt?ft?ht="toggle":ht="add":ut!=null&&ut.length&&dt!==ut.length-1?ht="replace":ft?ht="toggle":ht="replace",ht==="toggle"&&(ct||st||(ht="remove")),ht==="add"){var mt;pt=[...ut,{id:_e.id,desc:gt}],pt.splice(0,pt.length-((mt=rt.options.maxMultiSortColCount)!=null?mt:Number.MAX_SAFE_INTEGER))}else ht==="toggle"?pt=ut.map(xt=>xt.id===_e.id?{...xt,desc:gt}:xt):ht==="remove"?pt=ut.filter(xt=>xt.id!==_e.id):pt=[{id:_e.id,desc:gt}];return pt})},getFirstSortDir:()=>{var at,lt;return((at=(lt=_e.columnDef.sortDescFirst)!=null?lt:rt.options.sortDescFirst)!=null?at:_e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:at=>{var lt,st;const ct=_e.getFirstSortDir(),ut=_e.getIsSorted();return ut?ut!==ct&&((lt=rt.options.enableSortingRemoval)==null||lt)&&(!(at&&(st=rt.options.enableMultiRemove)!=null)||st)?!1:ut==="desc"?"asc":"desc":ct},getCanSort:()=>{var at,lt;return((at=_e.columnDef.enableSorting)!=null?at:!0)&&((lt=rt.options.enableSorting)!=null?lt:!0)&&!!_e.accessorFn},getCanMultiSort:()=>{var at,lt;return(at=(lt=_e.columnDef.enableMultiSort)!=null?lt:rt.options.enableMultiSort)!=null?at:!!_e.accessorFn},getIsSorted:()=>{var at;const lt=(at=rt.getState().sorting)==null?void 0:at.find(st=>st.id===_e.id);return lt?lt.desc?"desc":"asc":!1},getSortIndex:()=>{var at,lt;return(at=(lt=rt.getState().sorting)==null?void 0:lt.findIndex(st=>st.id===_e.id))!=null?at:-1},clearSorting:()=>{rt.setSorting(at=>at!=null&&at.length?at.filter(lt=>lt.id!==_e.id):[])},getToggleSortingHandler:()=>{const at=_e.getCanSort();return lt=>{at&&(lt.persist==null||lt.persist(),_e.toggleSorting==null||_e.toggleSorting(void 0,_e.getCanMultiSort()?rt.options.isMultiSortEvent==null?void 0:rt.options.isMultiSortEvent(lt):!1))}}}),createTable:_e=>({setSorting:rt=>_e.options.onSortingChange==null?void 0:_e.options.onSortingChange(rt),resetSorting:rt=>{var at,lt;_e.setSorting(rt?[]:(at=(lt=_e.initialState)==null?void 0:lt.sorting)!=null?at:[])},getPreSortedRowModel:()=>_e.getGroupedRowModel(),getSortedRowModel:()=>(!_e._getSortedRowModel&&_e.options.getSortedRowModel&&(_e._getSortedRowModel=_e.options.getSortedRowModel(_e)),_e.options.manualSorting||!_e._getSortedRowModel?_e.getPreSortedRowModel():_e._getSortedRowModel())})},Visibility={getInitialState:_e=>({columnVisibility:{},..._e}),getDefaultOptions:_e=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",_e)}),createColumn:(_e,rt)=>({toggleVisibility:at=>{_e.getCanHide()&&rt.setColumnVisibility(lt=>({...lt,[_e.id]:at??!_e.getIsVisible()}))},getIsVisible:()=>{var at,lt;return(at=(lt=rt.getState().columnVisibility)==null?void 0:lt[_e.id])!=null?at:!0},getCanHide:()=>{var at,lt;return((at=_e.columnDef.enableHiding)!=null?at:!0)&&((lt=rt.options.enableHiding)!=null?lt:!0)},getToggleVisibilityHandler:()=>at=>{_e.toggleVisibility==null||_e.toggleVisibility(at.target.checked)}}),createRow:(_e,rt)=>({_getAllVisibleCells:memo(()=>[_e.getAllCells(),rt.getState().columnVisibility],at=>at.filter(lt=>lt.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var at;return(at=rt.options.debugAll)!=null?at:rt.options.debugRows}}),getVisibleCells:memo(()=>[_e.getLeftVisibleCells(),_e.getCenterVisibleCells(),_e.getRightVisibleCells()],(at,lt,st)=>[...at,...lt,...st],{key:!1,debug:()=>{var at;return(at=rt.options.debugAll)!=null?at:rt.options.debugRows}})}),createTable:_e=>{const rt=(at,lt)=>memo(()=>[lt(),lt().filter(st=>st.getIsVisible()).map(st=>st.id).join("_")],st=>st.filter(ct=>ct.getIsVisible==null?void 0:ct.getIsVisible()),{key:at,debug:()=>{var st;return(st=_e.options.debugAll)!=null?st:_e.options.debugColumns}});return{getVisibleFlatColumns:rt("getVisibleFlatColumns",()=>_e.getAllFlatColumns()),getVisibleLeafColumns:rt("getVisibleLeafColumns",()=>_e.getAllLeafColumns()),getLeftVisibleLeafColumns:rt("getLeftVisibleLeafColumns",()=>_e.getLeftLeafColumns()),getRightVisibleLeafColumns:rt("getRightVisibleLeafColumns",()=>_e.getRightLeafColumns()),getCenterVisibleLeafColumns:rt("getCenterVisibleLeafColumns",()=>_e.getCenterLeafColumns()),setColumnVisibility:at=>_e.options.onColumnVisibilityChange==null?void 0:_e.options.onColumnVisibilityChange(at),resetColumnVisibility:at=>{var lt;_e.setColumnVisibility(at?{}:(lt=_e.initialState.columnVisibility)!=null?lt:{})},toggleAllColumnsVisible:at=>{var lt;at=(lt=at)!=null?lt:!_e.getIsAllColumnsVisible(),_e.setColumnVisibility(_e.getAllLeafColumns().reduce((st,ct)=>({...st,[ct.id]:at||!(ct.getCanHide!=null&&ct.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!_e.getAllLeafColumns().some(at=>!(at.getIsVisible!=null&&at.getIsVisible())),getIsSomeColumnsVisible:()=>_e.getAllLeafColumns().some(at=>at.getIsVisible==null?void 0:at.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>at=>{var lt;_e.toggleAllColumnsVisible((lt=at.target)==null?void 0:lt.checked)}}}},features=[Headers,Visibility,Ordering,Pinning,Filters,Sorting,Grouping,Expanding,Pagination,RowSelection,ColumnSizing];function createTable(_e){var rt;(_e.debugAll||_e.debugTable)&&console.info("Creating Table Instance...");let at={_features:features};const lt=at._features.reduce((ht,gt)=>Object.assign(ht,gt.getDefaultOptions==null?void 0:gt.getDefaultOptions(at)),{}),st=ht=>at.options.mergeOptions?at.options.mergeOptions(lt,ht):{...lt,...ht};let ut={...{},...(rt=_e.initialState)!=null?rt:{}};at._features.forEach(ht=>{var gt;ut=(gt=ht.getInitialState==null?void 0:ht.getInitialState(ut))!=null?gt:ut});const ft=[];let dt=!1;const pt={_features:features,options:{...lt,..._e},initialState:ut,_queue:ht=>{ft.push(ht),dt||(dt=!0,Promise.resolve().then(()=>{for(;ft.length;)ft.shift()();dt=!1}).catch(gt=>setTimeout(()=>{throw gt})))},reset:()=>{at.setState(at.initialState)},setOptions:ht=>{const gt=functionalUpdate(ht,at.options);at.options=st(gt)},getState:()=>at.options.state,setState:ht=>{at.options.onStateChange==null||at.options.onStateChange(ht)},_getRowId:(ht,gt,mt)=>{var xt;return(xt=at.options.getRowId==null?void 0:at.options.getRowId(ht,gt,mt))!=null?xt:`${mt?[mt.id,gt].join("."):gt}`},getCoreRowModel:()=>(at._getCoreRowModel||(at._getCoreRowModel=at.options.getCoreRowModel(at)),at._getCoreRowModel()),getRowModel:()=>at.getPaginationRowModel(),getRow:ht=>{const gt=at.getRowModel().rowsById[ht];if(!gt)throw new Error;return gt},_getDefaultColumnDef:memo(()=>[at.options.defaultColumn],ht=>{var gt;return ht=(gt=ht)!=null?gt:{},{header:mt=>{const xt=mt.header.column.columnDef;return xt.accessorKey?xt.accessorKey:xt.accessorFn?xt.id:null},cell:mt=>{var xt,vt;return(xt=(vt=mt.renderValue())==null||vt.toString==null?void 0:vt.toString())!=null?xt:null},...at._features.reduce((mt,xt)=>Object.assign(mt,xt.getDefaultColumnDef==null?void 0:xt.getDefaultColumnDef()),{}),...ht}},{debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns},key:!1}),_getColumnDefs:()=>at.options.columns,getAllColumns:memo(()=>[at._getColumnDefs()],ht=>{const gt=function(mt,xt,vt){return vt===void 0&&(vt=0),mt.map(yt=>{const _t=createColumn(at,yt,vt,xt),$t=yt;return _t.columns=$t.columns?gt($t.columns,_t,vt+1):[],_t})};return gt(ht)},{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getAllFlatColumns:memo(()=>[at.getAllColumns()],ht=>ht.flatMap(gt=>gt.getFlatColumns()),{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),_getAllFlatColumnsById:memo(()=>[at.getAllFlatColumns()],ht=>ht.reduce((gt,mt)=>(gt[mt.id]=mt,gt),{}),{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getAllLeafColumns:memo(()=>[at.getAllColumns(),at._getOrderColumnsFn()],(ht,gt)=>{let mt=ht.flatMap(xt=>xt.getLeafColumns());return gt(mt)},{key:!1,debug:()=>{var ht;return(ht=at.options.debugAll)!=null?ht:at.options.debugColumns}}),getColumn:ht=>at._getAllFlatColumnsById()[ht]};return Object.assign(at,pt),at._features.forEach(ht=>Object.assign(at,ht.createTable==null?void 0:ht.createTable(at))),at}function createCell(_e,rt,at,lt){const st=()=>{var ut;return(ut=ct.getValue())!=null?ut:_e.options.renderFallbackValue},ct={id:`${rt.id}_${at.id}`,row:rt,column:at,getValue:()=>rt.getValue(lt),renderValue:st,getContext:memo(()=>[_e,at,rt,ct],(ut,ft,dt,pt)=>({table:ut,column:ft,row:dt,cell:pt,getValue:pt.getValue,renderValue:pt.renderValue}),{key:!1,debug:()=>_e.options.debugAll})};return _e._features.forEach(ut=>{Object.assign(ct,ut.createCell==null?void 0:ut.createCell(ct,at,rt,_e))},{}),ct}const createRow=(_e,rt,at,lt,st,ct,ut)=>{let ft={id:rt,index:lt,original:at,depth:st,parentId:ut,_valuesCache:{},_uniqueValuesCache:{},getValue:dt=>{if(ft._valuesCache.hasOwnProperty(dt))return ft._valuesCache[dt];const pt=_e.getColumn(dt);if(pt!=null&&pt.accessorFn)return ft._valuesCache[dt]=pt.accessorFn(ft.original,lt),ft._valuesCache[dt]},getUniqueValues:dt=>{if(ft._uniqueValuesCache.hasOwnProperty(dt))return ft._uniqueValuesCache[dt];const pt=_e.getColumn(dt);if(pt!=null&&pt.accessorFn)return pt.columnDef.getUniqueValues?(ft._uniqueValuesCache[dt]=pt.columnDef.getUniqueValues(ft.original,lt),ft._uniqueValuesCache[dt]):(ft._uniqueValuesCache[dt]=[ft.getValue(dt)],ft._uniqueValuesCache[dt])},renderValue:dt=>{var pt;return(pt=ft.getValue(dt))!=null?pt:_e.options.renderFallbackValue},subRows:ct??[],getLeafRows:()=>flattenBy(ft.subRows,dt=>dt.subRows),getParentRow:()=>ft.parentId?_e.getRow(ft.parentId):void 0,getParentRows:()=>{let dt=[],pt=ft;for(;;){const ht=pt.getParentRow();if(!ht)break;dt.push(ht),pt=ht}return dt.reverse()},getAllCells:memo(()=>[_e.getAllLeafColumns()],dt=>dt.map(pt=>createCell(_e,ft,pt,pt.id)),{key:!1,debug:()=>{var dt;return(dt=_e.options.debugAll)!=null?dt:_e.options.debugRows}}),_getAllCellsByColumnId:memo(()=>[ft.getAllCells()],dt=>dt.reduce((pt,ht)=>(pt[ht.column.id]=ht,pt),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var dt;return(dt=_e.options.debugAll)!=null?dt:_e.options.debugRows}})};for(let dt=0;dt<_e._features.length;dt++){const pt=_e._features[dt];Object.assign(ft,pt==null||pt.createRow==null?void 0:pt.createRow(ft,_e))}return ft};function createColumnHelper(){return{accessor:(_e,rt)=>typeof _e=="function"?{...rt,accessorFn:_e}:{...rt,accessorKey:_e},display:_e=>_e,group:_e=>_e}}function getCoreRowModel(){return _e=>memo(()=>[_e.options.data],rt=>{const at={rows:[],flatRows:[],rowsById:{}},lt=function(st,ct,ut){ct===void 0&&(ct=0);const ft=[];for(let pt=0;pt<st.length;pt++){const ht=createRow(_e,_e._getRowId(st[pt],pt,ut),st[pt],pt,ct,void 0,ut==null?void 0:ut.id);if(at.flatRows.push(ht),at.rowsById[ht.id]=ht,ft.push(ht),_e.options.getSubRows){var dt;ht.originalSubRows=_e.options.getSubRows(st[pt],pt),(dt=ht.originalSubRows)!=null&&dt.length&&(ht.subRows=lt(ht.originalSubRows,ct+1,ht))}}return ft};return at.rows=lt(rt),at},{key:!1,debug:()=>{var rt;return(rt=_e.options.debugAll)!=null?rt:_e.options.debugTable},onChange:()=>{_e._autoResetPageIndex()}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function flexRender(_e,rt){return _e?isReactComponent(_e)?reactExports.createElement(_e,rt):_e:null}function isReactComponent(_e){return isClassComponent(_e)||typeof _e=="function"||isExoticComponent(_e)}function isClassComponent(_e){return typeof _e=="function"&&(()=>{const rt=Object.getPrototypeOf(_e);return rt.prototype&&rt.prototype.isReactComponent})()}function isExoticComponent(_e){return typeof _e=="object"&&typeof _e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(_e.$$typeof.description)}function useReactTable(_e){const rt={state:{},onStateChange:()=>{},renderFallbackValue:null,..._e},[at]=reactExports.useState(()=>({current:createTable(rt)})),[lt,st]=reactExports.useState(()=>at.current.initialState);return at.current.setOptions(ct=>({...ct,..._e,state:{...lt,..._e.state},onStateChange:ut=>{st(ut),_e.onStateChange==null||_e.onStateChange(ut)}})),at.current}function ROIsTable(_e){const{data:rt=[]}=_e,at=createColumnHelper(),lt=[at.accessor("crop",{header:()=>"Crop",cell:ct=>jsx(ImageViewer,{image:ct.getValue()})}),at.accessor("id",{header:()=>"ID",cell:ct=>ct.getValue()}),at.accessor("origin.column",{header:()=>"Column",cell:ct=>ct.getValue()}),at.accessor("origin.row",{header:()=>"Row",cell:ct=>ct.getValue()}),at.accessor("width",{header:()=>"Width",cell:ct=>ct.getValue()}),at.accessor("height",{header:()=>"Height"}),at.accessor("feret.aspectRatio",{header:()=>"Aspect Ratio (feret)",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("feret.minDiameter.length",{header:()=>"Feret minDiameter",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("feret.maxDiameter.length",{header:()=>"Feret maxDiameter",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("roundness",{header:()=>"Roundness",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("solidity",{header:()=>"Solidity",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("sphericity",{header:()=>"Sphericity",cell:ct=>ct.getValue().toFixed(2)}),at.accessor("fillRatio",{header:()=>"Fill ratio",cell:ct=>ct.getValue().toFixed(2)})],st=useReactTable({data:rt,columns:lt,getCoreRowModel:getCoreRowModel()});return jsxs("table",{children:[jsx("thead",{children:st.getHeaderGroups().map(ct=>jsx("tr",{children:ct.headers.map(ut=>jsx("th",{children:ut.isPlaceholder?null:flexRender(ut.column.columnDef.header,ut.getContext())},ut.id))},ct.id))}),jsx("tbody",{children:st.getRowModel().rows.map(ct=>jsx("tr",{children:ct.getVisibleCells().map(ut=>jsx("td",{children:flexRender(ut.column.columnDef.cell,ut.getContext())},ut.id))},ct.id))})]})}const plate={origin:{x:0,y:0,z:0},width:300,depth:300},plateImage={origin:{x:0,y:0,z:0},width:300,depth:300},xFactor=plate.width/plateImage.width,yFactor=plate.depth/plateImage.depth,xShift=0,yShift=0;function pickAndSortGCode(_e,rt){const at=Math.round((rt.origin.column+rt.width/2)*xFactor+xShift),lt=Math.round((rt.origin.row+rt.height/2)*yFactor+yShift),st=rt.group.id;_e.push(`G0 X${at} Y${lt}`,"G0 Z-180","M4","G0 Z0",`G0 X${st} Y${st}`,"M3")}function raiseAndDropGCode(_e,rt){const at=(rt.origin.column+rt.width/2)*xFactor+xShift,lt=(rt.origin.row+rt.height/2)*yFactor+yShift;_e.push(`X${at} Y${lt}`,"Z-180","M4","Z0","M3")}function ExploreROIs(_e){let{image:rt}=_e;if(!rt)return jsx("div",{children:"No selected image"});let at=rt.clone();rt.channels>1&&(rt=rt.grey({algorithm:"black"}).invert());const lt=threshold(rt,{algorithm:ThresholdAlgorithm.MINIMUM});lt.invert({out:lt}),lt.clearBorder({out:lt}),lt.invert({out:lt});const st=fromMask(lt);let ct=st.getRois({kind:RoiKind.BLACK,minSurface:100});const ut=[];for(const dt of ct){const pt=dt.toJSON(),ht=determineCategory(dt,st);pt.crop=at.crop(dt),pt.category=ht,pt.color=colors[ht.kind.replace(/ .*/,"")]||[100,100,100,255],ut.push(pt)}appendDistance(ut),appendGroup(ut);for(let dt=0;dt<ct.length;dt++){const pt=ct[dt],ht=ut[dt],gt=pt.getMask(),mt=ht.color.slice();ht.minDistance<50&&(mt[3]=65),at.paintMask(gt,{origin:pt.origin,color:mt,out:at})}const ft=generateGCode(ut);return jsxs("div",{children:[jsx(ROIsTable,{data:ut}),jsx("textarea",{cols:100,rows:10,readOnly:!0,value:ft}),jsx(ImageViewer,{image:at,rois:ct,roiOptions:{label:dt=>{const pt=ut.find(gt=>gt.id===dt.id);if(!pt)return"error";const ht=[];return ht.push(pt.category.kind),pt.group&&ht.push(pt.group.id),ht.join(" ")}}}),jsx(MaskViewer,{mask:lt})]})}const colors={screw:[0,255,0,255],verticalScrew:[0,255,255,255],bolt:[255,255,0,255],washer:[255,127,0,255],group:[150,150,150,255],hole:[187,39,249,255],other:[255,0,0,255]};function determineCategory(_e,rt){let at;if(_e.fillRatio>.98&&_e.roundness>.75)return{kind:"verticalScrew"};const lt=(_e.surface+_e.holesInfo.surface)/_e.convexHull.surface;if(_e.holesInfo.number===1&&lt>.95)return _e.feret.aspectRatio<.91?{kind:"bolt",size:getBoltWasherM(_e,rt)}:{kind:"washer",size:getBoltWasherM(_e,rt)};if(_e.holesInfo.number>=1&&_e.holesInfo.surface>.1*_e.surface)return{kind:"group"};const ct=_e.getMask().dilate({iterations:1}).erode({iterations:4}),ut=fromMask(ct).getRois({kind:RoiKind.WHITE});return _e.solidity<.4||ut.length>1?at="group":at="screw",{kind:at}}function getBoltWasherM(_e,rt){const at=_e.internalIDs[1],lt=rt.whiteRois[at-1];return lt.ped&&lt.ped.toFixed(0)}function appendDistance(_e){for(const rt of _e)rt.minDistance=Number.MAX_SAFE_INTEGER;for(let rt=0;rt<_e.length;rt++)for(let at=0;at<_e.length;at++){if(rt===at)continue;const lt=getDistance(_e[rt],_e[at]);lt<_e[rt].minDistance&&(_e[rt].minDistance=lt)}}function appendGroup(_e){const rt=[];for(const at of _e){if(!["screw","washer","bolt"].includes(at.category.kind))continue;getGroup(rt,at).data.push(at)}for(const at of rt)for(const lt of at.data)lt.group=at}function getGroup(_e,rt){for(const lt of _e)if(lt.kind===rt.category.kind){if(rt.category.kind==="washer"||rt.category.kind==="bolt"){for(const st of lt.data)if(Math.max(st.category.size,rt.category.size)/Math.min(st.category.size,rt.category.size)<1.1)return lt}if(rt.category.kind==="screw"){for(const st of lt.data)if(Math.max(st.surface,rt.surface)/Math.min(st.surface,rt.surface)<1.1)return lt}}const at={kind:rt.category.kind,id:_e.length+1,data:[]};return _e.push(at),at}function getDistance(_e,rt){let at=Number.MAX_SAFE_INTEGER;for(const lt of _e.mbr.points)for(const st of rt.mbr.points){const ct=lt.row+_e.origin.row,ut=lt.column+_e.origin.column,ft=st.row+rt.origin.row,dt=st.column+rt.origin.column,pt=Math.sqrt((ut-dt)**2+(ct-ft)**2);pt<at&&(at=pt)}return at}function generateGCode(_e){const rt=[];rt.push("// Sorting the washer, bolt and screws");const at=_e.filter(ct=>["washer","screw","bolt"].includes(ct.category.kind));for(const ct of at)pickAndSortGCode(rt,ct);const lt=_e.filter(ct=>ct.category.kind==="verticalScrew");rt.push("","// Shaking the vertical screws");for(const ct of lt)raiseAndDropGCode(rt,ct);const st=_e.filter(ct=>ct.category.kind==="group");rt.push("","// Shaking the groups");for(const ct of st)raiseAndDropGCode(rt,ct);return rt.join(`
`)}function ExploreROIsWrapper(){const _e=reactExports.useContext(DataContext);return jsx(ExploreROIs,{image:_e.data.image})}const cache={};function idToCode(_e){const rt=getCache().codes;if(_e>=rt.length)throw new Error("id out of range");return rt[_e]}function getCache(){if(!cache[2]){const rt={},at=[];let lt=0;e:for(let st=0;st<2**9;st++){let ct=Number(st).toString(2).padStart(9,"0");if(ct.split("").filter(ft=>ft==="1").length<2||ct.split("").filter(ft=>ft==="0").length<2||rt[ct])continue;const ut=getAlternativeCodex(ct);for(let ft of ut)if(ft!==ct&&rt[ft]){rt[ct]=rt[ft];continue e}rt[ct]=lt++,at.push(ct)}cache[2]={codes:at,codesObject:rt}}return cache[2]}const alternatives=[[1,2,3,4,5,6,7,8,9],[7,4,1,8,5,2,9,6,3],[9,8,7,6,5,4,3,2,1],[3,6,9,2,5,8,1,4,7]];function getAlternativeCodex(_e){const rt=[];for(let at of alternatives){let lt="";for(let st=0;st<_e.length;st++)lt+=_e[at[st]-1];rt.push(lt)}return rt}function Code(_e){const{id:rt,x:at,y:lt}=_e,st=idToCode(rt),ct=["red","white"],ut=[];for(let ft=0;ft<9;ft++){const dt=st[ft],pt=ct[dt];ut.push(jsx("rect",{x:ft%3+1,y:Math.floor(ft/3)+1,width:"1",height:"1",strokeWidth:"0",stroke:pt,fill:pt}))}return jsxs("g",{transform:`translate(${at} ${lt})`,children:[jsx("rect",{x:"0.5",y:"0.5",width:"4",height:"4",strokeWidth:"1",stroke:"red",fill:"white"}),ut]})}const width=13,height=9,delta=25;function Template(){const _e=[];for(let at=0;at<width;at++)for(let lt=0;lt<height;lt++){const st=lt*width+at;_e.push(jsx(Code,{id:st,x:at*delta,y:lt*delta}))}return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:`0 0 ${(width+1)*delta} ${(height+1)*delta}`,children:_e})}var delayExports={},delay$1={get exports(){return delayExports},set exports(_e){delayExports=_e}};const randomInteger=(_e,rt)=>Math.floor(Math.random()*(rt-_e+1)+_e),createAbortError=()=>{const _e=new Error("Delay aborted");return _e.name="AbortError",_e},createDelay=({clearTimeout:_e,setTimeout:rt,willResolve:at})=>(lt,{value:st,signal:ct}={})=>{if(ct&&ct.aborted)return Promise.reject(createAbortError());let ut,ft,dt;const pt=_e||clearTimeout,ht=()=>{pt(ut),dt(createAbortError())},gt=()=>{ct&&ct.removeEventListener("abort",ht)},mt=new Promise((xt,vt)=>{ft=()=>{gt(),at?xt(st):vt(st)},dt=vt,ut=(rt||setTimeout)(ft,lt)});return ct&&ct.addEventListener("abort",ht,{once:!0}),mt.clear=()=>{pt(ut),ut=null,ft()},mt},createWithTimers=_e=>{const rt=createDelay({..._e,willResolve:!0});return rt.reject=createDelay({..._e,willResolve:!1}),rt.range=(at,lt,st)=>rt(randomInteger(at,lt),st),rt},delay=createWithTimers();delay.createWithTimers=createWithTimers;delay$1.exports=delay;delayExports.default=delay;const STATUS_CREATED=0,STATUS_COMMAND_SENT=1,STATUS_ANSWER_PARTIALLY_RECEIVED=2,STATUS_ANSWER_RECEIVED=3,STATUS_RESOLVED=4,STATUS_ERROR$1=5;class Action{constructor(rt,at={}){this.currentTimeout=void 0,this.command=rt,this.timeout=at.timeout===void 0?1e3:at.timeout,this.answer="",this.status=STATUS_CREATED,this.creationTimestamp=Date.now(),this.promise=new Promise((lt,st)=>{this.reject=st,this.resolve=lt}),this.finishedPromise=new Promise(lt=>{this.finished=lt})}isFinished(){return this.status===STATUS_RESOLVED||this.status===STATUS_ERROR$1}setTimeout(){this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=setTimeout(()=>{this.status===STATUS_RESOLVED||this.status===STATUS_ERROR$1||(this.status=STATUS_ERROR$1,this.reject(`Timeout, waiting over ${this.timeout}ms`),this.finished())},this.timeout)}start(){this.startTimestamp=Date.now(),this.status=STATUS_COMMAND_SENT,this.setTimeout()}appendAnswer(rt){let at=new TextDecoder().decode(rt);if(this.status=STATUS_ANSWER_PARTIALLY_RECEIVED,this.answer+=at.replace(/\r/g,""),!this.answer.endsWith(`

`)&&this.answer!==`
`)return;let lt=this.answer.split(/\n/);lt.length>0&&lt[lt.length-1]===""&&(lt=lt.filter(st=>st),this.status=STATUS_ANSWER_RECEIVED,this.resolve(lt.join(`
`)),this.finished(),this.status=STATUS_RESOLVED)}}const debug=()=>{},STATUS_OPENING=1,STATUS_OPENED=2,STATUS_CLOSED=3,STATUS_MISSING=9,STATUS_ERROR=10;class Device{constructor(rt,at={}){this.status=STATUS_OPENING,this.id=void 0,this.serialPort=rt,this.baudRate=at.baudRate||115200,this.queue=[],this.action=void 0,this.interCommandDelay=at.interCommandDelay,this.defaultCommandExpirationDelay=2e3,this.encoder=new TextEncoder,this.decoder=new TextDecoder}isReady(){return this.status===STATUS_OPENED}async ensureProcessQueue(){return this.currentProcessQueue||(this.currentProcessQueue=this.runProcessQueue()),this.currentProcessQueue}async runProcessQueue(){for(;this.queue.length>0;)this.action=this.queue.shift(),this.action&&(this.action.start(),await this.write(`${this.action.command}
`),await this.read(this.action),await this.action.finishedPromise,this.action=void 0,await delayExports(this.interCommandDelay));this.currentProcessQueue=void 0}async getStatus(){return{value:this.status}}async ensureOpen(){if(this.status!==STATUS_OPENED)return this.open()}async open(){await this.serialPort.open({baudRate:this.baudRate}).catch(rt=>{this.error(rt),this.close()}).then(()=>{this.ensureOpen()}),this.reader=this.serialPort.readable.getReader(),this.writer=this.serialPort.writable.getWriter(),this.id=await this.get("uq"),this.status=STATUS_OPENED}async get(rt,at={}){const{commandExpirationDelay:lt=this.defaultCommandExpirationDelay}=at,st=new Action(rt,{timeout:lt});return this.queue.push(st),this.ensureProcessQueue(),st.promise}error(rt){debug(`Error ${this.port.path}`),this.status=STATUS_ERROR,this.emit("adapter",{event:"Error",value:rt})}close(){this.status=STATUS_CLOSED}async write(rt){const at=this.encoder.encode(`${rt}
`);return this.writer.write(at)}async read(rt){for(;!rt.isFinished();)rt.appendAnswer((await this.reader.read()).value),delayExports(10)}}class EventEmitter{constructor(){this.callbacks={}}on(rt,at){this.callbacks[rt]||(this.callbacks[rt]=[]),this.callbacks[rt].push(at)}emit(rt,at){let lt=this.callbacks[rt];lt&&lt.forEach(st=>st(at))}}function checkSerial(_e){_e||(console.error("Web serial doesn't seem to be enabled in your browser. Try enabling it by visiting:"),console.error("chrome://flags/#enable-experimental-web-platform-features"),console.error("opera://flags/#enable-experimental-web-platform-features"),console.error("edge://flags/#enable-experimental-web-platform-features"))}class DevicesManager extends EventEmitter{constructor(rt,at={}){super(),checkSerial(rt),this.serial=rt,this.devices=[],this.portFilter=at.portFilter===void 0?[{usbProductId:67,usbVendorId:9025},{usbProductId:37384,usbVendorId:6991},{usbProductId:6e4,usbVendorId:4292}]:at.portFilter,this.baudRate=at.baudRate||115200,this.interCommandDelay=at.interCommandDelay===void 0?100:at.interCommandDelay,this.defaultCommandExpirationDelay=at.defaultCommandExpirationDelay===void 0?100:at.defaultCommandExpirationDelay}async requestDevices(){return await this.serial.requestPort({filters:this.portFilter}),this.updateDevices()}async updateDevices(){const rt=await this.serial.getPorts(),at=this.devices.filter(lt=>!rt.includes(lt.serialPort));for(let lt of at)lt.status!==STATUS_MISSING&&lt.status!==STATUS_CLOSED&&lt.close(),lt.status=STATUS_MISSING;for(let lt of rt){let st=this.devices.filter(ct=>ct.serialPort===lt)[0];if(st)await st.ensureOpen();else{let ct=new Device(lt,{baudRate:this.baudRate,interCommandDelay:this.interCommandDelay,defaultCommandExpirationDelay:this.defaultCommandExpirationDelay});this.devices.push(ct),await ct.open()}}}async continuousUpdateDevices(rt={}){const{scanInterval:at=1e3,callback:lt}=rt;for(;;)await this.updateDevices(),lt&&lt(this.devices),await delayExports(at)}getDevicesList(rt={}){let{ready:at=!1}=rt;return this.devices.filter(lt=>!at||lt.isReady()).map(lt=>({status:lt.status,id:lt.id,queueLength:lt.queue.length}))}findDevice(rt){if(rt===void 0)return;let at=this.devices.filter(lt=>lt.id===rt&&lt.status===STATUS_OPENED);if(at.length!==0){if(at.length>1)throw new Error(`Many devices have the same id: ${rt}`);return at[0]}}async sendCommand(rt,at){const lt=this.findDevice(rt);if(!lt)throw Error(`Device ${rt} not found`);if(lt&&lt.isReady())return lt.get(at);throw Error(`Device ${rt} not ready: ${lt.port.path}`)}}const devicesManager=new DevicesManager(navigator.serial);window.setInterval(()=>console.log(devicesManager),1e4);const requestDevices=async()=>{const _e=await devicesManager.requestDevices();console.log(_e)};function DeviceWrapper(_e){const[rt,at]=reactExports.useState("");return jsxs("div",{children:[jsx("input",{type:"text",value:rt,placeholder:"Enter command",onChange:lt=>at(lt.target.value)}),jsx("button",{onClick:()=>requestDevices(),children:"Request Device"})]})}function MyTabs(){return jsx("div",{className:"min-h-screen bg-neutral-200",children:jsx(SwitchTabs,{tabs:[{title:"Image viewer",content:jsx(ImageViewerWrapper,{})},{title:"Explore grey",content:jsx(ExploreGreyWrapper,{})},{title:"Explore mask",content:jsx(ExploreMaskWrapper,{})},{title:"Explore ROIs",content:jsx(ExploreROIsWrapper,{})},{title:"Webcam",content:jsx(WebcamWrapper,{})},{title:"Device",content:jsx(DeviceWrapper,{})},{title:"Template",content:jsx(Template,{})},{title:"Object inspector",content:jsx(ObjectInspectorWrapper,{})}],align:"center"})})}function App(){const[_e,rt]=reactExports.useState({data:defaultDataValue,view:{},settings:{}}),at=getDataActions(_e,rt);return jsx(GlobalContext.Provider,{value:{globalState:_e,setGlobalState:rt},children:jsx(DataContext.Provider,{value:{data:_e.data,actions:at},children:jsxs("div",{children:[jsx(LoadImage,{}),jsx(MyTabs,{})]})})})}const index="";client.createRoot(document.querySelector("#root")).render(jsx(React$8.StrictMode,{children:jsx(App,{})}));
